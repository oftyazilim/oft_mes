import{bg as M,v as c,q as R,ae as w,bf as d,s as B,r as m,w as k,bn as D,cv as E}from"./main-Cc2BteMf.js";const g=Symbol.for("vuetify:form"),x=R({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function P(t){const i=w(t,"modelValue"),f=d(()=>t.disabled),v=d(()=>t.readonly),o=B(!1),a=m([]),n=m([]);async function y(){const e=[];let l=!0;n.value=[],o.value=!0;for(const r of a.value){const s=await r.validate();if(s.length>0&&(l=!1,e.push({id:r.id,errorMessages:s})),!l&&t.fastFail)break}return n.value=e,o.value=!1,{valid:l,errors:n.value}}function V(){a.value.forEach(e=>e.reset())}function b(){a.value.forEach(e=>e.resetValidation())}return k(a,()=>{let e=0,l=0;const r=[];for(const s of a.value)s.isValid===!1?(l++,r.push({id:s.id,errorMessages:s.errorMessages})):s.isValid===!0&&e++;n.value=r,i.value=l>0?!1:e===a.value.length?!0:null},{deep:!0,flush:"post"}),D(g,{register:e=>{let{id:l,vm:r,validate:s,reset:u,resetValidation:h}=e;a.value.some(F=>F.id===l),a.value.push({id:l,validate:s,reset:u,resetValidation:h,vm:E(r),isValid:null,errorMessages:[]})},unregister:e=>{a.value=a.value.filter(l=>l.id!==e)},update:(e,l,r)=>{const s=a.value.find(u=>u.id===e);s&&(s.isValid=l,s.errorMessages=r)},isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validateOn:d(()=>t.validateOn)}),{errors:n,isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validate:y,reset:V,resetValidation:b}}function S(t){const i=M(g,null);return{...i,isReadonly:c(()=>!!((t==null?void 0:t.readonly)??(i==null?void 0:i.isReadonly.value))),isDisabled:c(()=>!!((t==null?void 0:t.disabled)??(i==null?void 0:i.isDisabled.value)))}}export{P as c,x as m,S as u};
