import{u as vt}from"./pageTitle-B1F1JWjV.js";import{d as yt,r as n,q as gt,D as bt,i as wt,aK as ht,a as kt,c as Ee,o as I,b as e,f as r,e as s,g as j,l as i,T as P,aF as w,F as Ve,ay as xt,m as _t,p as g,s as p}from"./main-Buc254Rl.js";import{D as ze}from"./button-BD3XHxol.js";import{D as Dt}from"./context-menu-DWUxrT1G.js";import{s as C,D as o,h as Tt,i as St,j as At,k as Et,d as M,l as Vt,m as zt,b as Rt,q as ce,r as It,t as O}from"./data-grid-zY_7UUEw.js";import{D as Re}from"./date-box-C6Nob3S8.js";import{D as Pt}from"./load-panel-BOKwE2id.js";import{a as F}from"./popup-05e0EJxd.js";import{D as K}from"./select-box-DMVlq-L4.js";import{D as v}from"./tabs-B4aSjzHk.js";import{e as Ct}from"./export_data_grid-BJ_ostud.js";import"./dom_component-B8wT4Ms5.js";import"./m_select_box-DpsiAR-p.js";import"./m_resize_observer-B9xXnUFQ.js";import"./format_helper-8FPqNnuq.js";import{e as Mt}from"./exceljs.min-Dm3_meIG.js";import{s as Kt}from"./FileSaver-CQu8bA20.js";import{V as fe}from"./VCardText-Dj--lOYm.js";import{V as y}from"./VCol-hdI8oBcS.js";import{V as Nt}from"./VSwitch-DCH5ddV0.js";import{V as ve,a as Ie,b as Pe}from"./VCard-DXv8uyHv.js";import{V as Ot}from"./VTextField-BoRaQcxg.js";import{V as Ft}from"./VCheckbox-Da8Cui6L.js";import{V as Ce}from"./VSpacer-C94QYLKD.js";import{V as Me}from"./VDialog-DukK4N91.js";import{V as Gt,a as Lt}from"./VList-CfAAto1P.js";import{V as Bt}from"./VChip-B96QZeC9.js";import{V as G}from"./VRow-4OLbnLhX.js";import"./index-CEhlOack.js";import"./m_row_dragging-K1byIlde.js";import"./themes-Dacyhg8v.js";import"./overlay-R7xNNk8V.js";import"./editor-JDJfWeMw.js";import"./export_merged_ranges_manager-DXOVkNTk.js";import"./language_codes-BJ6-wmbR.js";import"./_commonjsHelpers-D6-XlEtG.js";/* empty css              */import"./VInput-CWSBksCP.js";import"./form-CEsAcc_D.js";import"./index-qFdlBbmw.js";import"./VSelectionControl-8ezaQ9U7.js";import"./createSimpleFunctional-DV8ZLWRk.js";import"./VAvatar-Bz9IhJnE.js";import"./VImg-C5tfnJmP.js";/* empty css                   */import"./VCounter-TkhZs-mO.js";import"./VField-Sw-Kh4TV.js";import"./easing-Bybner-F.js";import"./forwardRefs-C-GTDzx5.js";import"./VCheckboxBtn-hMvpQaUO.js";import"./VOverlay-C8c5rkVX.js";import"./delay-DByJ5hj2.js";import"./lazy-BiMT4cFn.js";import"./scopeId-4_0-YyRp.js";import"./dialog-transition-BChk8wp7.js";import"./ssrBoot-DrhuJYwB.js";import"./VDivider-JC5yA8Mf.js";import"./VSlideGroup-BaKPSHXz.js";const Ut={id:"liste",style:{"margin-block":"-10px 10px"}},Yt={style:{"margin-block-start":"-10px"}},$t={style:{"margin-block-start":"-10px","margin-inline-start":"5px"}},Ht={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},Wt={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},qt={style:{"inline-size":"120px","margin-block-start":"-10px","margin-inline-start":"5px"}},jt={style:{"inline-size":"150px","margin-block-start":"-10px","margin-inline-start":"5px"}},Zt={style:{"inline-size":"180px","margin-block-start":"-10px","margin-inline-start":"5px"}},Jt={style:{"inline-size":"160px","margin-block-start":"-10px","margin-inline-start":"5px"}},Qt=["visible"],Ke="İhtiyaç Listesi",Ne="Test",Z="planlama:ihtiyac-listesi-istasyon",oi=yt({__name:"ihtiyac-listesi-istasyon",setup(Xt){const ye=t=>{if(!t)return null;const a=new Date(t),u=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${u}-${l}-${d}`},Oe=vt(),L=n(!1),B=n(!1),J=n(!1),Q=n(!1),X=n(!1),h=n(!1),ee=n([]),U=n([]),ge=n([]),te=n([]),ae=n([]),Fe=n(Date.now()),Y=n("Detaysız"),be=gt("userData"),k=n(null),Ge=n(null),Le=n(null),Be=n(null),Ue=n(null);n(null);const ie=n(!0);n(!1),n(0);const $=n(0);n(!1);const c=n(0),f=n(""),le=n([]),x=n(0),we=n([]),_=n(0),re=n(""),he=n([]),oe=n(""),H=n(0),ne=n(""),ke=n([]),se=n([]),xe=n([]),D=new Date,ue=new Date(D);ue.setDate(D.getDate()-D.getDay()+1);const de=new Date(D);de.setDate(D.getDate()-D.getDay()+7);const me=n([ue,de]),T=n(ue),S=n(de),W=n([]),m=n(null),_e=bt(()=>!!_.value&&!!x.value);Oe.setTitle(`${Ke} (${Ne})`),document.title=`OFT - ${Ke} | ${Ne}`;function De(t){return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:1}).format(t.value)}const Te=async()=>{U.value=[],await Ye()},Ye=async()=>{me.value=[T.value,S.value],T.value=ye(me.value[0]),S.value=ye(me.value[1]);try{const t=await p.get("/api/test-ihtiyaclar",{params:{filterValue:T.value,filterValue1:S.value,merkezID:_.value,istasyonID:x.value,siparis:re.value,cari:oe.value,coID:be.value.co_id,isemriID:H.value,operasyon:ne.value,detay:Y.value==="Detaylı"?1:0}});U.value=t.data.emirler,ge.value=t.data.dagilim}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{h.value=!1}},$e=async()=>{try{const t=await p.get("/api/merkezal",{params:{coID:be.value.co_id}});we.value=t.data.merkezler,he.value=t.data.siparisler,ke.value=t.data.cariler}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{h.value=!1}},He=async()=>{if(!_.value){le.value=[],x.value=0;return}x.value=0,U.value=[];try{const t=await p.get("/api/istasyonal",{params:{ismerkezi:_.value}});le.value=t.data.istasyonlar}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{h.value=!1}},We=async()=>{H.value=0,se.value=[];try{const t=await p.get("/api/isemri-nolari",{params:{filterValue:T.value,filterValue1:S.value,ismerkezi:_.value,istasyon:x.value}});se.value=t.data.emirnolari,xe.value=t.data.operasyonlar}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{h.value=!1}},qe=async t=>{try{const a=await p.get("/api/isEmriAcilmislar",{params:{item_id:t}});ee.value=a.data.data}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}finally{h.value=!1}},A=n(!1),E=n(""),N=n(!0),V=n([]),z=n(!1),b=n(null);async function q(){try{const{data:t}=await p.get("/api/grid-layouts",{params:{page:Z}});V.value=Array.isArray(t)?t:[]}catch(t){console.error("Düzenler alınamadı:",t)}}function je(){var u;const t=(u=k.value)==null?void 0:u.instance;if(!t)return null;const a=t.state();return a&&!N.value&&("filterValue"in a&&delete a.filterValue,"filterPanel"in a&&delete a.filterPanel,Array.isArray(a.columns)&&a.columns.forEach(l=>{!l||typeof l!="object"||(delete l.filterValue,delete l.filterType,delete l.filterValues,delete l.selectedFilterOperation)})),a}async function Ze(){const t=je();if(t){if(!E.value.trim()){A.value=!0;return}try{await p.post("/api/grid-layouts",{page_key:Z,name:E.value.trim(),include_filters:N.value,state:t,meta:{version:1,last_used:!0}}),A.value=!1,await q();const a=V.value.find(u=>u.name===E.value.trim());if(a!=null&&a.id)try{await p.put(`/api/grid-layouts/${a.id}/last-used`,{page_key:Z})}catch{}}catch(a){console.error("Düzen kayıt hatası:",a)}}}async function Je(){await q(),b.value=null,z.value=!0}function Se(t){var a;(a=k.value)!=null&&a.instance&&k.value.instance.state(t)}function Qe(){const t=V.value.find(a=>a.id===b.value);t&&(Se(t.state),z.value=!1,t.id&&p.put(`/api/grid-layouts/${t.id}/last-used`,{page_key:Z}).catch(()=>{}))}async function Xe(){if(b.value)try{await p.delete(`/api/grid-layouts/${b.value}`),await q(),b.value=null,V.value.length===0&&(z.value=!1)}catch(t){console.error("Düzen silme hatası:",t)}}const et=()=>{var t;(t=k.value)!=null&&t.instance&&k.value.instance.state(null)};wt(async()=>{try{await q();const t=V.value.find(a=>{var u;return(u=a==null?void 0:a.meta)==null?void 0:u.last_used});t!=null&&t.state&&(await ht(),Se(t.state))}catch{}$e(),tt()});const tt=()=>{const t=new Date,a=t.getFullYear()%100,u=new Date(t.getFullYear(),0,4),l=new Date(u);l.setDate(u.getDate()-(u.getDay()+6)%7);const d=Math.floor((t.getTime()-l.getTime())/864e5),pe=Math.floor(d/7)+1;return`${a}-${pe.toString().padStart(2,"0")}`},at=()=>{ie.value=!ie.value},it=()=>{var t,a;(a=(t=k.value)==null?void 0:t.instance)==null||a.clearFilter()},lt=t=>{t.rowType==="data"&&(t.column.dataField==="talepler"||t.column.dataField==="satinalma"||t.column.dataField==="stok"||t.column.dataField==="ana_depo"||t.column.dataField==="diger_depo")&&t.value>0&&(t.cellElement.style.fontWeight="bold"),t.rowType==="data"&&t.column.dataField==="stok"&&Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="orange"),t.rowType==="data"&&t.column.dataField==="ana_depo"&&Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff6e00",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="diger_depo"&&Number(t.data.diger_depo)+Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff5400",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="bakiye"&&t.value<0&&(t.cellElement.style.fontWeight="bold",t.cellElement.style.backgroundColor="red",t.cellElement.style.color="white")},rt=t=>{if(t.rowIndex===-1)return;const a=t.row.data;m.value=a},ot=t=>{const a=new Mt.Workbook,u=a.addWorksheet("MalzemeListesi");Ct({component:t.component,worksheet:u,autoFilterEnabled:!0}).then(()=>{a.xlsx.writeBuffer().then(l=>{Kt(new Blob([l],{type:"application/octet-stream"}),"MalzemeListesi.xlsx")})}),t.cancel=!0},nt=(t,a)=>{t.innerText=a.text;const u=a.data.tipi,l=(ft,ta)=>{const R=document.createElement("span");return R.className="dx-icon dx-icon-isnotblank",R.style.marginRight="8px",R.style.color=ft,R.style.fontSize="16",R.style.display="inline-flex",R};let d="gray";switch(u){case"Hammadde":d="gold";break;case"YarıMamul":d="limegreen";break;case"Mamul":d="green";break;case"Ticari":d="gray";break}const pe=l(d);t.insertBefore(pe,t.firstChild)},st=[{text:"Yenile"},{text:"Hangi İş Emirlerinde"},{text:"Açılmış İş Emirleri"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function ut({itemData:t}){if(!(t!=null&&t.items))switch(t==null?void 0:t.text){case"Yenile":Te();break;case"Hangi İş Emirlerinde":$.value=m.value.item_id,c.value=m.value.stok_kodu,f.value=m.value.stok_adi,B.value=!0;break;case"Açılmış İş Emirleri":$.value=m.value.item_id,c.value=m.value.stok_kodu,f.value=m.value.stok_adi,ee.value=[],qe(m.value.item_id),J.value=!0;break;case"Stok Detayları":W.value=[],c.value=m.value.stok_kodu,f.value=m.value.stok_adi,Ae(m.value.item_id),L.value=!0;break;case"Satınalma Sipariş Detayları":te.value=[],c.value=m.value.stok_kodu,f.value=m.value.stok_adi,pt(m.value.item_id),Q.value=!0;break;case"Satınalma Talep Detayları":ae.value=[],c.value=m.value.stok_kodu,f.value=m.value.stok_adi,ct(m.value.item_id),X.value=!0;break;case"Düzen Yükle":Je();break;case"Düzen Kaydet":E.value="",N.value=!0,A.value=!0;break;case"Düzen Sıfırla":et();break}}const dt=()=>ge.value.filter(t=>t.item_id===$.value),mt=t=>{t.rowType==="data"&&t.column.dataField==="diger_depo"&&(W.value=[],c.value=t.data.stok_kodu,f.value=t.data.stok_adi,Ae(t.data.item_id),L.value=!0),t.rowType==="data"&&t.column.dataField==="dongu"&&($.value=t.data.item_id,c.value=t.data.stok_kodu,f.value=t.data.stok_adi,B.value=!0)},pt=async t=>{try{const a=await p.get("/api/satinalmasorgu",{params:{item_id:t}});te.value=a.data.satinalma}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}},ct=async t=>{try{const a=await p.get("/api/taleplersorgu",{params:{item_id:t}});ae.value=a.data.talepler}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}},Ae=async t=>{try{const a=await p.get("/api/digerdepobakiyeleri",{params:{item_id:t}});W.value=a.data.bakiyeler}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}};return(t,a)=>{const u=kt("DxGroupPanel");return I(),Ee(Ve,null,[e(ve,{class:"mt-0 pa-0"},{default:r(()=>[e(fe,{class:"mt-0 pa-2"},{default:r(()=>[e(y,{cols:"12",class:"mt-2 pa-1 pe-2 pt-0"},{default:r(()=>[s("div",Ut,[e(i(Dt),{"data-source":st,width:200,target:"#gridM",onItemClick:ut}),(I(),j(i(C),{id:"gridM",ref_key:"dataGridRefM",ref:k,key:Fe.value,class:"grid","data-source":U.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":"true","row-alternation-enabled":"true","min-width":200,"allow-column-reordering":"true","column-auto-width":"true","allow-column-resizing":"true",onContextMenuPreparing:rt,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%",onCellPrepared:lt,onExporting:ot,onCellClick:mt},{filtreTarih1:r(()=>[s("div",Yt,[e(i(Re),{label:"Başlangıç Tarihi",width:"120","label-mode":"floating",value:T.value,"onUpdate:value":a[1]||(a[1]=l=>T.value=l),type:"date"},null,8,["value"])])]),filtreTarih2:r(()=>[s("div",$t,[e(i(Re),{label:"Bitiş Tarihi",width:"120","label-mode":"floating",value:S.value,"onUpdate:value":a[2]||(a[2]=l=>S.value=l),type:"date"},null,8,["value"])])]),filtreMerkez:r(()=>[s("div",Ht,[e(i(K),{"data-source":we.value,value:_.value,"onUpdate:value":a[3]||(a[3]=l=>_.value=l),"show-clear-button":!0,label:"İş Merkezi","label-mode":"floating","display-expr":"mrk_adi","value-expr":"is_merkezi_id",onValueChanged:a[4]||(a[4]=l=>He()),style:{"inline-size":"100%"},"search-mode":"contains","search-expr":"mrk_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreIstasyon:r(()=>[s("div",Wt,[e(i(K),{"data-source":le.value,value:x.value,"onUpdate:value":a[5]||(a[5]=l=>x.value=l),label:"İstasyon","label-mode":"floating","display-expr":"ist_adi","value-expr":"istasyon_id",style:{"inline-size":"100%"},"search-mode":"contains",onValueChanged:a[6]||(a[6]=l=>We()),"search-expr":"ist_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreSiparis:r(()=>[s("div",qt,[e(i(K),{"data-source":he.value,value:re.value,"onUpdate:value":a[7]||(a[7]=l=>re.value=l),label:"Sipariş","label-mode":"floating","display-expr":"siparis_belge_no","value-expr":"siparis_belge_no",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"siparis_belge_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:r(()=>[s("div",jt,[e(i(K),{"data-source":ke.value,value:oe.value,"onUpdate:value":a[8]||(a[8]=l=>oe.value=l),label:"Cari","label-mode":"floating","display-expr":"cari_ad","value-expr":"cari_ad",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"cari_ad","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreisEmriNo:r(()=>[s("div",Zt,[e(i(K),{"data-source":se.value,value:H.value,"onUpdate:value":a[9]||(a[9]=l=>H.value=l),label:"İş Emri No","label-mode":"floating","display-expr":"isemri_no","value-expr":"isemri_id",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"isemri_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreOperasyon:r(()=>[s("div",Jt,[e(i(K),{"data-source":xe.value,value:ne.value,"onUpdate:value":a[10]||(a[10]=l=>ne.value=l),label:"Operasyon","label-mode":"floating","display-expr":"OPERASYON","value-expr":"OPERASYON",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"OPERASYON","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:r(()=>[e(i(ze),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:r(()=>a[23]||(a[23]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-notequal"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),agac:r(()=>[e(Nt,{modelValue:Y.value,"onUpdate:modelValue":a[11]||(a[11]=l=>Y.value=l),label:Y.value.toString(),"true-value":"Detaylı","false-value":"Detaysız",color:t.primary,class:"ms-2"},null,8,["modelValue","label","color"])]),yenileTemplate:r(()=>[e(P,{disabled:!_e.value,variant:"outlined",size:"small",class:"ms-2"},{default:r(()=>a[24]||(a[24]=[w("Listele")])),_:1,__:[24]},8,["disabled"])]),menuYenileTemplate:r(()=>[s("div",{visible:_e.value,style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},a[25]||(a[25]=[s("i",{class:"dx-icon dx-icon-refresh"},null,-1),s("span",{style:{"margin-inline-start":"8px"}},"Yenile",-1)]),8,Qt)]),filtreGosterTemplate:r(()=>[e(i(ze),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:r(()=>a[26]||(a[26]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-filter"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:r(()=>[e(i(o),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":nt}),e(i(o),{"data-field":"mrk_adi",caption:"İŞ MERKEZİ",visible:!0,width:150}),e(i(o),{"data-field":"operasyon",caption:"OPERASYON",visible:!0,width:170}),e(i(o),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:100}),e(i(o),{"data-field":"stok_kodu",caption:"STOK KODU","data-type":"string",visible:!0,width:130}),e(i(o),{"data-field":"stok_adi",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),e(i(o),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"ihtiyac",caption:"İHTİYAÇ","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"stok",caption:"STOK","data-type":"number",width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"ana_depo",caption:"ANA DEPO","data-type":"number",width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"depo_ihtiyaci",caption:"DEPO İHTİYACI","data-type":"number",width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"diger_depo",caption:"DİĞER DEPO","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),e(i(o),{"data-field":"satinalma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"talepler",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"dongu",caption:"KAÇ İŞEMRİNDE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(I(),j(i(Pt),{key:h.value,visible:h.value,"onUpdate:visible":a[0]||(a[0]=l=>h.value=l),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),e(i(Tt),{visible:!0}),e(i(St),{visible:!0}),e(i(At),{visible:ie.value},null,8,["visible"]),e(i(Et),{visible:!0,width:160}),e(i(M),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(i(Vt),{mode:"multiple"}),e(i(zt),{enabled:!0,"allow-export-selected-data":!1}),e(i(Rt),null,{default:r(()=>[e(i(v),{location:"before","locate-in-menu":"auto",template:"filtreTarih1"}),e(i(v),{location:"before","locate-in-menu":"auto",template:"filtreTarih2"}),e(i(v),{location:"before","locate-in-menu":"auto",template:"filtreMerkez"}),e(i(v),{location:"before","locate-in-menu":"auto",template:"filtreIstasyon"}),e(i(v),{location:"before","locate-in-menu":"auto",template:"filtreisEmriNo"}),e(i(v),{location:"before","locate-in-menu":"auto",template:"filtreSiparis"}),e(i(v),{location:"before","locate-in-menu":"auto",template:"yenileTemplate","menu-item-template":"menuYenileTemplate",onClick:Te}),e(i(v),{location:"before","locate-in-menu":"auto",template:"agac"}),e(i(v),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:it}),e(i(v),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:at}),e(i(v),{name:"exportButton"}),e(i(v),{name:"searchPanel"})]),_:1}),e(i(ce),null,{default:r(()=>[e(i(It),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} çeşit",alignment:t.right},null,8,["alignment"]),e(i(O),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} çeşit",alignment:t.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))])]),_:1})]),_:1})]),_:1}),e(Me,{modelValue:A.value,"onUpdate:modelValue":a[15]||(a[15]=l=>A.value=l),"max-width":"520"},{default:r(()=>[e(ve,null,{default:r(()=>[e(Ie,null,{default:r(()=>a[27]||(a[27]=[w("Düzen Kaydet")])),_:1,__:[27]}),e(fe,null,{default:r(()=>[e(Ot,{modelValue:E.value,"onUpdate:modelValue":a[12]||(a[12]=l=>E.value=l),label:"Düzen Adı",autofocus:""},null,8,["modelValue"]),e(Ft,{modelValue:N.value,"onUpdate:modelValue":a[13]||(a[13]=l=>N.value=l),label:"Filtreleri dahil et"},null,8,["modelValue"])]),_:1}),e(Pe,null,{default:r(()=>[e(Ce),e(P,{variant:"text",onClick:a[14]||(a[14]=l=>A.value=!1)},{default:r(()=>a[28]||(a[28]=[w("İptal")])),_:1,__:[28]}),e(P,{color:"primary",onClick:Ze},{default:r(()=>a[29]||(a[29]=[w("Kaydet")])),_:1,__:[29]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Me,{modelValue:z.value,"onUpdate:modelValue":a[17]||(a[17]=l=>z.value=l),"max-width":"520"},{default:r(()=>[e(ve,null,{default:r(()=>[e(Ie,null,{default:r(()=>a[30]||(a[30]=[w("Düzen Yükle")])),_:1,__:[30]}),e(fe,null,{default:r(()=>[e(Gt,{lines:"one"},{default:r(()=>[(I(!0),Ee(Ve,null,xt(V.value,l=>(I(),j(Lt,{key:l.id,title:l.name,onClick:d=>b.value=l.id,active:b.value===l.id},{append:r(()=>{var d;return[(d=l==null?void 0:l.meta)!=null&&d.last_used?(I(),j(Bt,{key:0,size:"small",color:"primary",variant:"flat"},{default:r(()=>a[31]||(a[31]=[w("son")])),_:1,__:[31]})):_t("",!0)]}),_:2},1032,["title","onClick","active"]))),128))]),_:1})]),_:1}),e(Pe,null,{default:r(()=>[e(Ce),e(P,{variant:"text",onClick:a[16]||(a[16]=l=>z.value=!1)},{default:r(()=>a[32]||(a[32]=[w("Kapat")])),_:1,__:[32]}),e(P,{color:"error",disabled:!b.value,variant:"text",onClick:Xe},{default:r(()=>a[33]||(a[33]=[w("Sil")])),_:1,__:[33]},8,["disabled"]),e(P,{color:"primary",disabled:!b.value,onClick:Qe},{default:r(()=>a[34]||(a[34]=[w("Yükle")])),_:1,__:[34]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i(F),{visible:L.value,"onUpdate:visible":a[18]||(a[18]=l=>L.value=l),"hide-on-outside-click":!0,title:"Stok Detayları","show-close-button":!1,"show-title":!0,width:600,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[s("h2",null,g(c.value),1),s("h2",null,g(f.value),1)]),_:1}),a[35]||(a[35]=s("br",null,null,-1)),e(G,null,{default:r(()=>[e(y,null,{default:r(()=>[e(i(C),{id:"gridBakiyeler",ref_key:"dataGridRefB",ref:Ge,"data-source":W.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",onCellPrepared:t.onCellPreparedB,"row-alternation-enabled":!0},{default:r(()=>[e(i(o),{"data-field":"whouse_id",caption:"DEPO ID",width:80,visible:!1}),e(i(o),{"data-field":"whouse_code",caption:"DEPO KODU",width:100}),e(i(o),{"data-field":"description",caption:"DEPO ADI"}),e(i(o),{"data-field":"qty_prm",caption:"STOK",width:100,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(u,{visible:!1}),e(i(M),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source","onCellPrepared"])]),_:1})]),_:1})]),_:1,__:[35]},8,["visible"]),e(i(F),{visible:X.value,"onUpdate:visible":a[19]||(a[19]=l=>X.value=l),"hide-on-outside-click":!0,title:"Taleplerin Detayı","show-close-button":!1,"show-title":!0,width:800,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[s("h2",null,g(c.value),1),s("h2",null,g(f.value),1)]),_:1}),a[36]||(a[36]=s("br",null,null,-1)),e(G,null,{default:r(()=>[e(y,null,{default:r(()=>[e(i(C),{id:"gridTalepler",ref_key:"dataGridRefT",ref:Ue,"data-source":ae.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(i(o),{"data-field":"talep_no",caption:"TALEP NO",width:100}),e(i(o),{"data-field":"talep_tarihi",caption:"TALEP TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"onay_tarihi",caption:"ONAY TARİHİ","data-type":"date",width:120,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"kaynak",caption:"KAYNAK",width:150}),e(i(o),{"data-field":"tipi",caption:"TİPİ",width:100}),e(i(o),{"data-field":"miktar",caption:"MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(u,{visible:!1}),e(i(M),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[36]},8,["visible"]),e(i(F),{visible:Q.value,"onUpdate:visible":a[20]||(a[20]=l=>Q.value=l),"hide-on-outside-click":!0,title:"Satınalma Sipariş Detayı","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[s("h2",null,g(c.value),1),s("h2",null,g(f.value),1)]),_:1}),a[37]||(a[37]=s("br",null,null,-1)),e(G,null,{default:r(()=>[e(y,null,{default:r(()=>[e(i(C),{id:"gridSatinalma",ref_key:"dataGridRefS",ref:Be,"data-source":te.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(i(o),{"data-field":"BELGE_NO",caption:"BELGE NO",width:100}),e(i(o),{"data-field":"BELGE_TARIHI",caption:"BELGE TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"satici_adi",caption:"SATICI",width:100}),e(i(o),{"data-field":"sip_olusturan",caption:"OLUŞTURAN",width:100}),e(i(o),{"data-field":"CARI_AD",caption:"CARİ ADI",width:280}),e(i(o),{"data-field":"sevk_tarihi",caption:"SEVK TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"teslim_tarihi",caption:"TESLİM TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"teslim_tarihi_not",caption:"T.T. NOT",width:80}),e(i(o),{"data-field":"MIKTAR",caption:"SPR. MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"BIRIM_KOD",caption:"BİRİM",width:60}),e(i(o),{"data-field":"KALAN_MIKTAR",caption:"KALAN MİKTAR",width:100,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(u,{visible:!1}),e(i(M),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[37]},8,["visible"]),e(i(F),{visible:J.value,"onUpdate:visible":a[21]||(a[21]=l=>J.value=l),"hide-on-outside-click":!0,title:"Açılmış İş Emirleri","show-close-button":!1,"show-title":!0,width:1e3,height:600},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[s("h2",null,g(c.value),1),s("h2",null,g(f.value),1)]),_:1}),a[38]||(a[38]=s("br",null,null,-1)),e(G,null,{default:r(()=>[e(y,null,{default:r(()=>[e(i(C),{id:"gridAcilmisEmirler",ref:"dataGridRefA","data-source":ee.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%",height:400},{default:r(()=>[e(i(o),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(i(o),{"data-field":"cari_ad",caption:"CARİ ADI",width:270,visible:!0}),e(i(o),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(i(o),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(i(o),{"data-field":"stok_id",caption:"STOK ID",width:100,visible:!1}),e(i(o),{"data-field":"stok_kodu",caption:"STOK KODU",width:120,visible:!1}),e(i(o),{"data-field":"stok_adi",caption:"STOK ADI",visible:!1}),e(i(o),{"data-field":"planlanan_bitis_tarihi",caption:"PLN BTŞ","data-type":"date",width:110,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MKTRI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"kalan_miktar",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(ce),null,{default:r(()=>[e(i(O),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":De},null,8,["alignment"]),e(i(O),{"align-by-column":!0,column:"kalan_miktar","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":De},null,8,["alignment"])]),_:1}),e(u,{visible:!1}),e(i(M),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[38]},8,["visible"]),e(i(F),{visible:B.value,"onUpdate:visible":a[22]||(a[22]=l=>B.value=l),"hide-on-outside-click":!0,title:"Kullanan İş Emirleri","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[s("h2",null,g(c.value),1),s("h2",null,g(f.value),1)]),_:1}),a[39]||(a[39]=s("br",null,null,-1)),e(G,null,{default:r(()=>[e(y,null,{default:r(()=>[e(i(C),{id:"gridEmirler",ref_key:"dataGridRefE",ref:Le,"data-source":dt(),"show-borders":!0,"column-auto-width":!1,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(i(o),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(i(o),{"data-field":"cari_ad",caption:"CARİ ADI",width:150,visible:!0}),e(i(o),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(i(o),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(i(o),{"data-field":"stok_id",caption:"STOK ID",visible:!1,width:50}),e(i(o),{"data-field":"stok_kodu",caption:"STOK KODU",width:150}),e(i(o),{"data-field":"stok_adi",caption:"STOK ADI",width:t.auto},null,8,["width"]),e(i(o),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(i(o),{"data-field":"kalan",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(i(ce),null,{default:r(()=>[e(i(O),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"]),e(i(O),{"align-by-column":!0,column:"kalan","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"])]),_:1}),e(u,{visible:!1}),e(i(M),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[39]},8,["visible"])],64)}}});export{oi as default};
