import{D as rn}from"./check-box-DbEA9tcU.js";import{D as Ue}from"./date-box-CneIt6cK.js";import{E as on,p as sn,a as te}from"./editor-DoOc0su0.js";import{df as Ae,d0 as se,dR as Ke,d7 as G,d9 as xe,dD as lt,da as he,a_ as Re,d8 as ne,d3 as Ge,d4 as fe,dg as ze,d5 as Te,dj as Ce,dh as an,d1 as $e,dL as ln,e2 as ue,dv as un,dp as cn,e3 as dn,eo as pn,di as ve,d as J,r as ce,c as hn,b as X,e as Q,f as Ze,u as q,F as gn,a as fn,o as mn,l as yn}from"./main-Do_EEeaU.js";import{bf as Tn,W as Le,l as me,r as Y,h as Ye,e as le,N as He,T as Ie,c as de,a as Ve,P as ut,B as _e,C as vn,d as Oe,i as _n,V as kn,aV as bn,E as ct,bg as qe,aC as wn,g as ge,a9 as Dn,b3 as Xe,aB as Qe,R as Ee,Y as Je,o as Sn,n as Cn}from"./overlay-DnbPrWeY.js";import{ap as In,S as En,ar as Pn,c as Mn,as as An,at as xn,C as On,au as Fe,P as Rn,D as Ln,A as Hn,a4 as Vn,h as Fn}from"./m_select_box-D0u5Mf1k.js";import{a0 as Bn,g as dt,a1 as Nn,_ as jn}from"./m_row_dragging-BxKAL-qG.js";import{a as Wn}from"./m_utils.scroll-DGzZmVJQ.js";import"./list.edit.decorator.swipe-Ds_baAo2.js";import{T as Un}from"./jspdf.plugin.autotable-DLA-4bXD.js";import{g as Kn}from"./_commonjsHelpers-D6-XlEtG.js";import{D as et}from"./number-box-Bo84_Hib.js";import{D as Pe}from"./select-box-DqeA75fr.js";import"./themes-UUA7mPQe.js";import"./m_popover-CHY6rgFK.js";const Gn={create:B=>({NotifyTaskCreated:(s,m,_)=>{B._onRecordInserted("tasks",s,m)},NotifyTaskRemoved:(s,m,_)=>{B._onRecordRemoved("tasks",s,_)},NotifyTaskUpdated:(s,m,_)=>{B._onRecordUpdated("tasks",s,m)},NotifyParentTaskUpdated:(s,m)=>{B._onParentTaskUpdated(s)},NotifyDependencyInserted:(s,m,_)=>{B._onRecordInserted("dependencies",s,m)},NotifyDependencyRemoved:(s,m,_)=>{B._onRecordRemoved("dependencies",s,_)},NotifyResourceCreated:(s,m,_)=>{B._onRecordInserted("resources",s,m)},NotifyResourceRemoved:(s,m,_)=>{B._onRecordRemoved("resources",s,_)},NotifyResourceAssigned:(s,m,_)=>{B._onRecordInserted("resourceAssignments",s,m)},NotifyResourceUnassigned:(s,m,_)=>{B._onRecordRemoved("resourceAssignments",s,_)},NotifyParentDataRecalculated:s=>{B._onParentTasksRecalculated(s)},NotifyTaskCreating:s=>{B._actionsManager.raiseInsertingAction("tasks",s)},NotifyTaskRemoving:s=>{B._actionsManager.raiseDeletingAction("tasks",s)},NotifyTaskUpdating:s=>{B._actionsManager.raiseUpdatingAction("tasks",s)},NotifyTaskMoving:s=>{B._actionsManager.raiseUpdatingAction("tasks",s,B._actionsManager.getTaskMovingAction())},NotifyTaskEditDialogShowing:s=>{B._actionsManager.raiseTaskEditDialogShowingAction(s)},NotifyResourceManagerDialogShowing:s=>{B._actionsManager.raiseResourceManagerDialogShowingAction(s)},NotifyDependencyInserting:s=>{B._actionsManager.raiseInsertingAction("dependencies",s)},NotifyDependencyRemoving:s=>{B._actionsManager.raiseDeletingAction("dependencies",s)},NotifyResourceCreating:s=>{B._actionsManager.raiseInsertingAction("resources",s)},NotifyResourceRemoving:s=>{B._actionsManager.raiseDeletingAction("resources",s)},NotifyResourceAssigning:s=>{B._actionsManager.raiseInsertingAction("resourceAssignments",s)},NotifyResourceUnassigning:s=>{B._actionsManager.raiseDeletingAction("resourceAssignments",s)},NotifyScaleCellPrepared:s=>{B._actionsManager.raiseScaleCellPreparedAction(s)},NotifyGanttViewUpdated:()=>{B._onGanttViewCoreUpdated()}})};class pt extends Tn{constructor(s,m,_){super(),this._optionName=s,this._getLoadPanel=m,this._dataSourceChangedCallback=_}insert(s,m,_){this._showLoadPanel(),this._getStore().insert(s).done((D=>{m&&m(D),this._hideLoadPanel()})).fail((D=>{_&&_(D),this._hideLoadPanel()}))}update(s,m,_,D){this._showLoadPanel(),this._getStore().update(s,m).done(((E,w)=>{_&&_(E,w),this._hideLoadPanel()})).fail((E=>{D&&D(E),this._hideLoadPanel()}))}remove(s,m,_){this._showLoadPanel(),this._getStore().remove(s).done((D=>{m&&m(D),this._hideLoadPanel()})).fail((D=>{_&&_(D),this._hideLoadPanel()}))}_dataSourceChangedHandler(s,m){this._dataSourceChangedCallback(this._optionName,s)}_dataSourceOptions(){return{paginate:!1}}_dataSourceLoadingChangedHandler(s){s&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}_showLoadPanel(){var s;(s=this._getLoadPanel())===null||s===void 0||s.show()}_hideLoadPanel(){var s;(s=this._getLoadPanel())===null||s===void 0||s.hide()}_getStore(){return this._dataSource.store()}_getItems(){return this._getStore()._array||this._dataSource.items()}_reloadDataSource(){return this._dataSource.load()}dispose(){this._disposeDataSource()}_optionChanged(s){s.name}}pt.include(In);const tt=He(),zn="dx-splitter-bar";class $n extends Le{_init(){super._init();const s=new Ae().toString();this.SPLITTER_POINTER_DOWN_EVENT_NAME=me(Ie.down,"dxSplitterResizing"+s),this.SPLITTER_POINTER_MOVE_EVENT_NAME=me(Ie.move,"dxSplitterResizing"+s),this.SPLITTER_POINTER_UP_EVENT_NAME=me(Ie.up,"dxSplitterResizing"+s)}_initMarkup(){super._initMarkup(),this._initActions(),this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this.$element().addClass("dx-splitter-wrapper").addClass("dx-splitter-initial"),this._$splitterBorder=Y("<div>").addClass("dx-splitter-border").appendTo(this.$element()),this._$splitter=Y("<div>").addClass(zn).addClass("dx-splitter-inactive").appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){const s=Ye.getDocument();le.on(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME,this._onMouseDownHandler.bind(this)),le.on(s,this.SPLITTER_POINTER_MOVE_EVENT_NAME,this._onMouseMoveHandler.bind(this)),le.on(s,this.SPLITTER_POINTER_UP_EVENT_NAME,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){const s=Ye.getDocument();le.off(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME),le.off(s,this.SPLITTER_POINTER_MOVE_EVENT_NAME),le.off(s,this.SPLITTER_POINTER_UP_EVENT_NAME)}_dimensionChanged(s){(!s||s!=="height")&&(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(s){s.preventDefault(),this._offsetX=s.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?s.pageX-this._$splitterBorder.offset().left:0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass("dx-splitter-initial"),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(s){this._isSplitterActive&&this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(s),needUpdatePanels:!0})}_onMouseUpHandler(){this._isSplitterActive&&(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(s){let m=s.pageX-this._getContainerLeftOffset()-this._offsetX;return m=Math.max(0-this._getSplitterOffset(),m),m=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),m),m}_getContainerLeftOffset(){let s=this._$container.offset().left;if(tt){const m=tt.getComputedStyle(this._$container.get(0)),_=parseFloat(m.paddingLeft)||0,D=parseFloat(m.borderLeftWidth)||0;s+=_+D}return s}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}getSplitterBorderElement(){return this._$splitterBorder}_toggleActive(s){this.$element().toggleClass("dx-splitter-inactive",!s),this._$splitter.toggleClass("dx-splitter-inactive",!s),this._isSplitterActive=s,this._actions.onActiveStateChanged({isActive:s})}toggleDisabled(s){this.$element().toggleClass("dx-state-disabled",s),this._$splitter.toggleClass("dx-state-disabled",s)}isSplitterMoved(){return!this.$element().hasClass("dx-splitter-initial")}disableSplitterCalculation(s){this._isSplitterCalculationDisabled=s}_setSplitterPositionLeft(){let{splitterPositionLeft:s=null,needUpdatePanels:m=!1,usePercentagePanelsWidth:_=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s=s||this._getLeftPanelWidth()-this._getSplitterOffset();const D=s+this._getSplitterOffset(),E=this._containerWidth-D;this._isSplitterCalculationDisabled||this.$element().css("left",s),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(D);const w=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));m&&this._actions.onApplyPanelSize({leftPanelWidth:_?`${this._leftPanelPercentageWidth}%`:D,rightPanelWidth:_?`${w}%`:E})}_optionChanged(s){switch(s.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(s.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[s.name]=this._createActionByOption(s.name);break;default:super._optionChanged(s)}}_convertToPercentage(s){return s/this._$container.get(0).clientWidth*100}_convertToPixels(s){return s/100*this._$container.get(0).clientWidth}}const ee={onContextMenuPreparing:"onContextMenuPreparing",onCustomCommand:"onCustomCommand",onDependencyDeleted:"onDependencyDeleted",onDependencyDeleting:"onDependencyDeleting",onDependencyInserted:"onDependencyInserted",onDependencyInserting:"onDependencyInserting",onResourceAssigned:"onResourceAssigned",onResourceAssigning:"onResourceAssigning",onResourceDeleted:"onResourceDeleted",onResourceDeleting:"onResourceDeleting",onResourceInserted:"onResourceInserted",onResourceInserting:"onResourceInserting",onResourceManagerDialogShowing:"onResourceManagerDialogShowing",onResourceUnassigned:"onResourceUnassigned",onResourceUnassigning:"onResourceUnassigning",onSelectionChanged:"onSelectionChanged",onTaskClick:"onTaskClick",onTaskDblClick:"onTaskDblClick",onTaskDeleted:"onTaskDeleted",onTaskDeleting:"onTaskDeleting",onTaskEditDialogShowing:"onTaskEditDialogShowing",onTaskInserted:"onTaskInserted",onTaskInserting:"onTaskInserting",onTaskMoving:"onTaskMoving",onTaskUpdated:"onTaskUpdated",onTaskUpdating:"onTaskUpdating",onScaleCellPrepared:"onScaleCellPrepared"};class Zn{constructor(s){this._gantt=s,this._mappingHelper=s._mappingHelper,this._customFieldsManager=s._customFieldsManager}_createActionByOption(s){return this._gantt._createActionByOption(s)}_getTaskData(s){return this._gantt.getTaskData(s)}_convertCoreToMappedData(s,m){return this._mappingHelper.convertCoreToMappedData(s,m)}_convertMappedToCoreData(s,m){return this._mappingHelper.convertMappedToCoreData(s,m)}_convertMappedToCoreFields(s,m){return this._mappingHelper.convertMappedToCoreFields(s,m)}_convertCoreToMappedFields(s,m){return this._mappingHelper.convertCoreToMappedFields(s,m)}_saveCustomFieldsDataToCache(s,m){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._customFieldsManager.saveCustomFieldsDataToCache(s,m,_,D)}createTaskDblClickAction(){this._taskDblClickAction=this._createActionByOption(ee.onTaskDblClick)}taskDblClickAction(s){this._taskDblClickAction||this.createTaskDblClickAction(),this._taskDblClickAction(s)}raiseTaskDblClickAction(s,m){const _={cancel:!1,data:this._getTaskData(s),event:m,key:s};return this.taskDblClickAction(_),!_.cancel}createTaskClickAction(){this._taskClickAction=this._createActionByOption(ee.onTaskClick)}taskClickAction(s){this._taskClickAction||this.createTaskClickAction(),this._taskClickAction(s)}raiseTaskClickAction(s,m){const _={key:s,event:m,data:this._getTaskData(s)};this.taskClickAction(_)}createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption(ee.onSelectionChanged)}selectionChangedAction(s){this._selectionChangedAction||this.createSelectionChangedAction(),this._selectionChangedAction(s)}raiseSelectionChangedAction(s){this.selectionChangedAction({selectedRowKey:s})}createCustomCommandAction(){this._customCommandAction=this._createActionByOption(ee.onCustomCommand)}customCommandAction(s){this._customCommandAction||this.createCustomCommandAction(),this._customCommandAction(s)}raiseCustomCommand(s){this.customCommandAction({name:s})}createContextMenuPreparingAction(){this._contextMenuPreparingAction=this._createActionByOption(ee.onContextMenuPreparing)}contextMenuPreparingAction(s){this._contextMenuPreparingAction||this.createContextMenuPreparingAction(),this._contextMenuPreparingAction(s)}raiseContextMenuPreparing(s){this.contextMenuPreparingAction(s)}_getInsertingAction(s){switch(s){case"tasks":return this._getTaskInsertingAction();case"dependencies":return this._getDependencyInsertingAction();case"resources":return this._getResourceInsertingAction();case"resourceAssignments":return this._getResourceAssigningAction()}return()=>{}}raiseInsertingAction(s,m){const _=this._getInsertingAction(s);if(_){const D={cancel:!1,values:this._convertCoreToMappedData(s,m.values)};_(D),m.cancel=D.cancel,se(m.values,this._convertMappedToCoreData(s,D.values)),s==="tasks"&&this._saveCustomFieldsDataToCache("gantt_new_task_key",D.values)}}createTaskInsertingAction(){this._taskInsertingAction=this._createActionByOption(ee.onTaskInserting)}taskInsertingAction(s){this._getTaskInsertingAction()(s)}_getTaskInsertingAction(){return this._taskInsertingAction||this.createTaskInsertingAction(),this._taskInsertingAction}createDependencyInsertingAction(){this._dependencyInsertingAction=this._createActionByOption(ee.onDependencyInserting)}dependencyInsertingAction(s){this._getDependencyInsertingAction()(s)}_getDependencyInsertingAction(){return this._dependencyInsertingAction||this.createDependencyInsertingAction(),this._dependencyInsertingAction}createResourceInsertingAction(){this._resourceInsertingAction=this._createActionByOption(ee.onResourceInserting)}resourceInsertingAction(s){this._getResourceInsertingAction()(s)}_getResourceInsertingAction(){return this._resourceInsertingAction||this.createResourceInsertingAction(),this._resourceInsertingAction}createResourceAssigningAction(){this._resourceAssigningAction=this._createActionByOption(ee.onResourceAssigning)}resourceAssigningAction(s){this._getResourceAssigningAction()(s)}_getResourceAssigningAction(){return this._resourceAssigningAction||this.createResourceAssigningAction(),this._resourceAssigningAction}_getInsertedAction(s){switch(s){case"tasks":return this._getTaskInsertedAction();case"dependencies":return this._getDependencyInsertedAction();case"resources":return this._getResourceInsertedAction();case"resourceAssignments":return this._getResourceAssignedAction()}return()=>{}}raiseInsertedAction(s,m,_){const D=this._getInsertedAction(s);D&&D({values:m,key:_})}createTaskInsertedAction(){this._taskInsertedAction=this._createActionByOption(ee.onTaskInserted)}taskInsertedAction(s){this._getTaskInsertedAction()(s)}_getTaskInsertedAction(){return this._taskInsertedAction||this.createTaskInsertedAction(),this._taskInsertedAction}createDependencyInsertedAction(){this._dependencyInsertedAction=this._createActionByOption(ee.onDependencyInserted)}dependencyInsertedAction(s){this._getDependencyInsertedAction()(s)}_getDependencyInsertedAction(){return this._dependencyInsertedAction||this.createDependencyInsertedAction(),this._dependencyInsertedAction}createResourceInsertedAction(){this._resourceInsertedAction=this._createActionByOption(ee.onResourceInserted)}resourceInsertedAction(s){this._getResourceInsertedAction()(s)}_getResourceInsertedAction(){return this._resourceInsertedAction||this.createResourceInsertedAction(),this._resourceInsertedAction}createResourceAssignedAction(){this._resourceAssignedAction=this._createActionByOption(ee.onResourceAssigned)}resourceAssignedAction(s){this._getResourceAssignedAction()(s)}_getResourceAssignedAction(){return this._resourceAssignedAction||this.createResourceAssignedAction(),this._resourceAssignedAction}_getDeletingAction(s){switch(s){case"tasks":return this._getTaskDeletingAction();case"dependencies":return this._getDependencyDeletingAction();case"resources":return this._getResourceDeletingAction();case"resourceAssignments":return this._getResourceUnassigningAction()}return()=>{}}raiseDeletingAction(s,m){const _=this._getDeletingAction(s);if(_){const D={cancel:!1,key:m.key,values:this._convertCoreToMappedData(s,m.values)};_(D),m.cancel=D.cancel}}createTaskDeletingAction(){this._taskDeletingAction=this._createActionByOption(ee.onTaskDeleting)}taskDeletingAction(s){this._getTaskDeletingAction()(s)}_getTaskDeletingAction(){return this._taskDeletingAction||this.createTaskDeletingAction(),this._taskDeletingAction}createDependencyDeletingAction(){this._dependencyDeletingAction=this._createActionByOption(ee.onDependencyDeleting)}dependencyDeletingAction(s){this._getDependencyDeletingAction()(s)}_getDependencyDeletingAction(){return this._dependencyDeletingAction||this.createDependencyDeletingAction(),this._dependencyDeletingAction}createResourceDeletingAction(){this._resourceDeletingAction=this._createActionByOption(ee.onResourceDeleting)}resourceDeletingAction(s){this._getResourceDeletingAction()(s)}_getResourceDeletingAction(){return this._resourceDeletingAction||this.createResourceDeletingAction(),this._resourceDeletingAction}createResourceUnassigningAction(){this._resourceUnassigningAction=this._createActionByOption(ee.onResourceUnassigning)}resourceUnassigningAction(s){this._getResourceUnassigningAction()(s)}_getResourceUnassigningAction(){return this._resourceUnassigningAction||this.createResourceUnassigningAction(),this._resourceUnassigningAction}_getDeletedAction(s){switch(s){case"tasks":return this._getTaskDeletedAction();case"dependencies":return this._getDependencyDeletedAction();case"resources":return this._getResourceDeletedAction();case"resourceAssignments":return this._getResourceUnassignedAction()}return()=>{}}raiseDeletedAction(s,m,_){const D=this._getDeletedAction(s);D&&D({key:m,values:_})}createTaskDeletedAction(){this._taskDeletedAction=this._createActionByOption(ee.onTaskDeleted)}taskDeletedAction(s){this._getTaskDeletedAction()(s)}_getTaskDeletedAction(){return this._taskDeletedAction||this.createTaskDeletedAction(),this._taskDeletedAction}createDependencyDeletedAction(){this._dependencyDeletedAction=this._createActionByOption(ee.onDependencyDeleted)}dependencyDeletedAction(s){this._getDependencyDeletedAction()(s)}_getDependencyDeletedAction(){return this._dependencyDeletedAction||this.createDependencyDeletedAction(),this._dependencyDeletedAction}createResourceDeletedAction(){this._resourceDeletedAction=this._createActionByOption(ee.onResourceDeleted)}resourceDeletedAction(s){this._getResourceDeletedAction()(s)}_getResourceDeletedAction(){return this._resourceDeletedAction||this.createResourceDeletedAction(),this._resourceDeletedAction}createResourceUnassignedAction(){this._resourceUnassignedAction=this._createActionByOption(ee.onResourceUnassigned)}resourceUnassignedAction(s){this._getResourceUnassignedAction()(s)}_getResourceUnassignedAction(){return this._resourceUnassignedAction||this.createResourceUnassignedAction(),this._resourceUnassignedAction}_getUpdatingAction(s){return s==="tasks"?this._getTaskUpdatingAction():()=>{}}raiseUpdatingAction(s,m,_){if(_=_||this._getUpdatingAction(s),_){const D=s==="tasks",E={cancel:!1,key:m.key,newValues:this._convertCoreToMappedData(s,m.newValues),values:D?this._getTaskData(m.key):this._convertCoreToMappedData(s,m.values)};if(D&&this._customFieldsManager.cache.hasData(E.key)&&this._customFieldsManager.addCustomFieldsDataFromCache(E.key,E.newValues),_(E),m.cancel=E.cancel,se(m.newValues,this._convertMappedToCoreData(s,E.newValues)),D)if(E.cancel)this._customFieldsManager.resetCustomFieldsDataCache(E.key);else{const w=!Object.keys(m.newValues).length;this._saveCustomFieldsDataToCache(E.key,E.newValues,w)}}}createTaskUpdatingAction(){this._taskUpdatingAction=this._createActionByOption(ee.onTaskUpdating)}taskUpdatingAction(s){this._getTaskUpdatingAction()(s)}_getTaskUpdatingAction(){return this._taskUpdatingAction||this.createTaskUpdatingAction(),this._taskUpdatingAction}_getUpdatedAction(s){return s==="tasks"?this._getTaskUpdatedAction():()=>{}}raiseUpdatedAction(s,m,_){const D=this._getUpdatedAction(s);D&&D({values:m,key:_})}createTaskUpdatedAction(){this._taskUpdatedAction=this._createActionByOption(ee.onTaskUpdated)}taskUpdatedAction(s){this._getTaskUpdatedAction()(s)}_getTaskUpdatedAction(){return this._taskUpdatedAction||this.createTaskUpdatedAction(),this._taskUpdatedAction}createTaskEditDialogShowingAction(){this._taskEditDialogShowingAction=this._createActionByOption(ee.onTaskEditDialogShowing)}taskEditDialogShowingAction(s){this._getTaskEditDialogShowingAction()(s)}_getTaskEditDialogShowingAction(){return this._taskEditDialogShowingAction||this.createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}raiseTaskEditDialogShowingAction(s){const m=this._getTaskEditDialogShowingAction();if(m){const _={cancel:!1,key:s.key,values:this._convertCoreToMappedData("tasks",s.values),readOnlyFields:this._convertCoreToMappedFields("tasks",s.readOnlyFields),hiddenFields:this._convertCoreToMappedFields("tasks",s.hiddenFields)};m(_),s.cancel=_.cancel,se(s.values,this._convertMappedToCoreData("tasks",_.values)),s.readOnlyFields=this._convertMappedToCoreFields("tasks",_.readOnlyFields),s.hiddenFields=this._convertMappedToCoreFields("tasks",_.hiddenFields)}}createResourceManagerDialogShowingAction(){this._resourceManagerDialogShowingAction=this._createActionByOption(ee.onResourceManagerDialogShowing)}resourceManagerDialogShowingAction(s){this._getResourceManagerDialogShowingAction()(s)}_getResourceManagerDialogShowingAction(){return this._resourceManagerDialogShowingAction||this.createResourceManagerDialogShowingAction(),this._resourceManagerDialogShowingAction}raiseResourceManagerDialogShowingAction(s){const m=this._getResourceManagerDialogShowingAction();if(m){const D={cancel:!1,values:s.values.resources.items.map((E=>this._convertMappedToCoreData("resources",E)))};m(D),s.cancel=D.cancel}}createTaskMovingAction(){this._taskMovingAction=this._createActionByOption(ee.onTaskMoving)}taskMovingAction(s){this.getTaskMovingAction()(s)}getTaskMovingAction(){return this._taskMovingAction||this.createTaskMovingAction(),this._taskMovingAction}getScaleCellPreparedAction(){return this._scaleCellPreparedAction||this.createScaleCellPreparedAction(),this._scaleCellPreparedAction}createScaleCellPreparedAction(){this._scaleCellPreparedAction=this._createActionByOption(ee.onScaleCellPrepared)}raiseScaleCellPreparedAction(s){const m=this.getScaleCellPreparedAction();if(m){const _={scaleIndex:s.scaleIndex,scaleType:this._getScaleType(s.scaleType),scaleElement:de(Y(s.scaleElement)),separatorElement:de(Y(s.separatorElement)),startDate:new Date(s.start),endDate:new Date(s.end)};m(_)}}_getScaleType(s){switch(s){case 0:return"minutes";case 1:return"hours";case 2:return"sixHours";case 3:return"days";case 4:return"weeks";case 5:return"months";case 6:return"quarters";case 7:return"years";case 8:return"fiveYears";default:return}}}class Yn{constructor(){this._cache={},this._timers={}}saveData(s,m,_){if(m){this._clearTimer(s);const D=this._getCache(s,!0);Ke(D,m,!0),_&&this._setExpireTimer(s,_)}}pullDataFromCache(s,m){const _=this._getCache(s);_&&Ke(m,_),this._onKeyExpired(s)}hasData(s){return!!this._cache[s]}resetCache(s){this._onKeyExpired(s)}_getCache(s,m){return!this._cache[s]&&m&&(this._cache[s]={}),this._cache[s]}_setExpireTimer(s,m){this._timers[s]=setTimeout((()=>{m(s,this._getCache(s)),this._onKeyExpired(s)}),200)}_onKeyExpired(s){this._clearCache(s),this._clearTimer(s)}_clearCache(s){delete this._cache[s]}_clearTimer(s){const m=this._timers;m&&m[s]&&(clearTimeout(m[s]),delete m[s])}}const re={prepareMapHandler:B=>s=>Object.keys(B).reduce(((m,_)=>{const D=_==="key"?"id":_;return m[D]=B[_](s),m}),{}),prepareSetterMapHandler:B=>s=>Object.keys(B).reduce(((m,_)=>{const D=_==="key"?"id":_;return B[_](m,s[D]),m}),{}),compileGettersByOption(B){const s={};for(const m in B){const _=m.match(/(\w*)Expr/);_&&(s[_[1]]=he(B[_[0]]))}return s},compileSettersByOption(B){const s={};for(const m in B){const _=m.match(/(\w*)Expr/);_&&!xe(B[_[0]])&&(s[_[1]]=lt(B[_[0]]))}return s},compileFuncSettersByOption(B){const s={};for(const m in B){const _=m.match(/(\w*)Expr/);_&&xe(B[_[0]])&&(s[_[1]]=B[_[0]])}return s},getStoreObject(B,s){const m=re.compileSettersByOption(B);return Object.keys(m).reduce(((_,D)=>(D!=="key"&&m[D](_,s[D]),_)),{})},getInvertedData(B,s){const m={};if(B)for(let _=0;_<B.length;_++){const D=B[_],E=s(D);m[E]=D}return m},getArrayFromOneElement:B=>B==null?[]:[B],getSelectionMode:B=>B?"single":"none",convertTreeToList(B,s){B!=null&&B.data&&B!==null&&B!==void 0&&B.visible&&s.push(B.data);for(let _=0;_<((m=B.children)===null||m===void 0?void 0:m.length);_++){var m;const D=B.children[_];re.convertTreeToList(D,s)}},getAllParentNodesKeys(B,s){var m;B!=null&&B.data&&s.push(B.key),B!=null&&(m=B.parent)!==null&&m!==void 0&&m.data&&re.getAllParentNodesKeys(B.parent,s)},getDefaultOptions:()=>({tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,showDependencies:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskInserted:null,onTaskDeleting:null,onTaskDeleted:null,onTaskUpdating:null,onTaskUpdated:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyInserted:null,onDependencyDeleting:null,onDependencyDeleted:null,onResourceInserting:null,onResourceInserted:null,onResourceDeleting:null,onResourceDeleted:null,onResourceAssigning:null,onResourceAssigned:null,onResourceUnassigning:null,onResourceUnassigned:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",scaleTypeRange:{min:"minutes",max:"years"},editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1,enablePredecessorGap:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,taskProgressTooltipContentTemplate:null,taskTimeTooltipContentTemplate:null,taskContentTemplate:null,rootValue:0,sorting:{ascendingText:G.format("dxGantt-sortingAscendingText"),descendingText:G.format("dxGantt-sortingDescendingText"),clearText:G.format("dxGantt-sortingClearText"),mode:"single",showSortIndexes:!1},filterRow:void 0,headerFilter:void 0,rtlEnabled:!1})};class qn{constructor(s){this._gantt=s,this._mappingHelper=s._mappingHelper,this.cache=new Yn}_getTaskCustomFields(){const s=this._gantt.option("columns"),m=s&&s.map((D=>D.dataField)),_=this._mappingHelper.getTaskMappedFieldNames();return m?m.filter((D=>_.indexOf(D)<0)):[]}_getCustomFieldsData(s){return this._getTaskCustomFields().reduce(((m,_)=>(s&&s[_]!==void 0&&(m[_]=s[_]),m)),{})}addCustomFieldsData(s,m){if(m){const _=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),D=he(this._gantt.option("tasks.keyExpr")),E=_&&_.filter((d=>D(d)===s))[0],w=this._getTaskCustomFields();if(E)for(let d=0;d<w.length;d++){const l=w[d];Object.prototype.hasOwnProperty.call(E,l)&&(m[l]=E[l])}}}appendCustomFields(s){const m=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),_=this._gantt._getTaskKeyGetter(),D=re.getInvertedData(m,_);return s.reduce(((E,w)=>{const d=_(w),l=D[d];if(!l)E.push(w);else{const u={};for(const h in l)u[h]=Object.prototype.hasOwnProperty.call(w,h)?w[h]:l[h];E.push(u)}return E}),[])}addCustomFieldsDataFromCache(s,m){this.cache.pullDataFromCache(s,m)}saveCustomFieldsDataToCache(s,m){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const E=this._getCustomFieldsData(m);if(Object.keys(E).length>0){const w=(d,l)=>{const u=this._gantt._tasksOption;u&&l&&u.update(d,l,((h,p)=>{const o={};this.addCustomFieldsData(p,o),u._reloadDataSource().done((n=>{this._gantt._ganttTreeList.updateDataSource(n??u._dataSource,!1,D)}));const t=this._gantt.option("selectedRowKey");this._gantt._ganttView._selectTask(t),this._gantt._actionsManager.raiseUpdatedAction("tasks",o,p)}))};this.cache.saveData(s,E,_?w:null)}}resetCustomFieldsDataCache(s){this.cache.resetCache(s)}}function ke(B,s){return(B||s)&&!(B&&s)}class Xn extends En{_supportedKeys(){const s=super._supportedKeys(),m=D=>this._list._keyboardHandler(D),_=this.option("rtlEnabled");return Re({},s,{backspace(D){if(!this._isCaretAtTheStart())return;this._processKeyboardEvent(D),this._isTagRemoved=!0;const E=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),E.length!==0&&(this._preserveFocusedTag=!0,this._removeTagElement(E),delete this._preserveFocusedTag)},upArrow:(D,E)=>D.altKey||!this._list?s.upArrow.call(this,D):m(E),downArrow:(D,E)=>D.altKey||!this._list?s.downArrow.call(this,D):m(E),del(D){if(!this._$focusedTag||!this._isCaretAtTheStart())return;this._processKeyboardEvent(D),this._isTagRemoved=!0;const E=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(E),delete this._preserveFocusedTag},enter(D,E){var w;const d=((w=this._list)===null||w===void 0?void 0:w.option("focusedElement"))!==null&&this.option("opened")===!0;if(this.option("acceptCustomValue")&&!d){D.preventDefault(),this._searchValue()!==""&&this._customItemAddedHandler(D);return}this.option("opened")&&(this._saveValueChangeEvent(D),m(E),D.preventDefault())},space(D,E){const w=this.option("opened"),d=this._shouldRenderSearchEvent();w&&!d&&(this._saveValueChangeEvent(D),m(E),D.preventDefault())},leftArrow(D){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&_&&!this._$focusedTag)return;D.preventDefault();const E=_?"next":"prev";this._moveTagFocus(E),this.option("multiline")||this._scrollContainer(E)},rightArrow(D){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!_&&!this._$focusedTag)return;D.preventDefault();const E=_?"prev":"next";this._moveTagFocus(E),!this.option("multiline")&&this._scrollContainer(E)}})}_processKeyboardEvent(s){s.preventDefault(),s.stopPropagation(),this._saveValueChangeEvent(s)}_isEmpty(){return this._getValue().length===0}_updateTagsContainer(s){this._$tagsContainer=s.addClass("dx-tag-container")}_allowSelectItemByTab(){return!1}_isCaretAtTheStart(){const s=Pn(this._input());return(s==null?void 0:s.start)===0&&s.end===0}_updateInputAriaActiveDescendant(s){this.setAria("activedescendant",s,this._input())}_moveTagFocus(s,m){if(!this._$focusedTag){const D=this._tagElements();this._$focusedTag=s==="next"?D.first():D.last(),this._toggleFocusClass(!0,this._$focusedTag),this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"));return}const _=this._$focusedTag[s](".dx-tag");_.length>0?(this._replaceFocusedTag(_),this._updateInputAriaActiveDescendant(_.attr("id"))):(m||s==="next"&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())}_replaceFocusedTag(s){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=s,this._toggleFocusClass(!0,this._$focusedTag)}_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)}_focusClassTarget(s){return s&&s.length&&s[0]!==this._focusTarget()[0]?s:super._focusClassTarget()}_getLabelContainer(){return this._$tagsContainer}_getFieldElement(){return this._input()}_scrollContainer(s){if(this.option("multiline")||!ut()||!this._$tagsContainer)return;const m=this._getScrollPosition(s);this._$tagsContainer.scrollLeft(m)}_getScrollPosition(s){return s==="start"||s==="end"?this._getBorderPosition(s):this._$focusedTag?this._getFocusedTagPosition(s):this._getBorderPosition("end")}_getBorderPosition(s){const{rtlEnabled:m}=this.option(),_=ke(s==="end",m),D=m?-1:1;return ke(_,!m)?0:D*(this._$tagsContainer.get(0).scrollWidth-_e(this._$tagsContainer))}_getFocusedTagPosition(s){const m=this.option("rtlEnabled"),_=ke(s==="next",m);let{left:D}=this._$focusedTag.position(),E=this._$tagsContainer.scrollLeft();return _&&(D+=_e(this._$focusedTag,!0)-_e(this._$tagsContainer)),ke(_,D<0)&&(E+=D),E}_setNextValue(){}_getDefaultOptions(){return se(super._getDefaultOptions(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:G.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})}_init(){super._init(),this._selectedItems=[],this._initSelectAllValueChangedAction()}_initActions(){super._initActions(),this._initMultiTagPreparingAction()}_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:s=>{this._multiTagPreparingHandler(s.args[0])},excludeValidators:["disabled","readOnly"]})}_multiTagPreparingHandler(s){const{length:m}=this._getValue();this.option("showMultiTagOnly")?s.text=G.getFormatter("dxTagBox-selected")(m):s.text=G.getFormatter("dxTagBox-moreSelected")(m-this.option("maxDisplayedTags")+1)}_initDynamicTemplates(){super._initDynamicTemplates(),this._templateManager.addDefaultTemplates({tag:new Mn(((s,m)=>{const _=Y("<div>").addClass("dx-tag-content");Y("<span>").text(m.text??m).appendTo(_),Y("<div>").addClass("dx-tag-remove-button").appendTo(_),s.append(_)}),["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})}_toggleSubmitElement(s){s?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)}_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=Y("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))}_setSubmitValue(){if(!this.option("useSubmitBehavior"))return;const s=this._getValue(),m=[];for(let _=0,D=s.length;_<D;_++){const E=this._shouldUseDisplayValue(s[_]);m.push(Y("<option>").val(E?this._displayGetter(s[_]):s[_]).attr("selected","selected"))}this._getSubmitElement().empty().append(m)}_initMarkup(){this._tagElementsCache=Y();const s=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",s);const m={role:"application",roledescription:G.format("dxTagBox-ariaRoleDescription")};this.setAria(m,this.$element()),this._initTagTemplate(),super._initMarkup()}_getNewLabelId(s,m,_){return s?_?s===m?void 0:s.split(" ").filter((D=>D!==m)).join(" "):`${s} ${m}`:m}_updateElementAria(s,m){if(!s){this.setAria("labelledby",void 0,this.$element());return}const D=this.$element().attr("aria-labelledby"),E=this._getNewLabelId(D,s,m);this.setAria("labelledby",E,this.$element())}_render(){super._render(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")}_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")}_renderField(){const s=!ne(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",s).toggleClass("dx-tagbox-custom-template",!s),super._renderField()}_renderTagRemoveAction(){const s=this._createAction(this._removeTagHandler.bind(this)),m=me(vn,"dxTagBoxTagRemove");le.off(this._$tagsContainer,m),le.on(this._$tagsContainer,m,".dx-tag-remove-button",(_=>{s({event:_})}))}_renderSingleLineScroll(){const s=me("dxmousewheel",this.NAME),m=this.$element(),_=this.option("multiline");if(le.off(m,s),Oe.real().deviceType!=="desktop"){this._$tagsContainer&&this._$tagsContainer.css("overflowX",_?"":"auto");return}_||le.on(m,s,this._tagContainerMouseWheelHandler.bind(this))}_tagContainerMouseWheelHandler(s){const m=this._$tagsContainer.scrollLeft(),_=-.3*s.delta;if(!_n(s)&&Wn(this._$tagsContainer,_,!0))return this._$tagsContainer.scrollLeft(m+_),!1}_renderEvents(){super._renderEvents();const s=this._input(),m=me("keydown",this.NAME);le.on(s,m,(_=>{const D=kn(_);!this._isControlKey(D)&&this._isEditable()&&this._clearTagFocus()}))}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-tagbox-popup-wrapper`}_renderInput(){super._renderInput(),this._renderPreventBlurOnInputClick()}_renderPreventBlurOnInputClick(){const s=me("mousedown","dxTagBox");le.off(this._inputWrapper(),s),le.on(this._inputWrapper(),s,(m=>{m.target!==this._input()[0]&&this._isFocused()&&m.preventDefault()}))}_renderInputValueImpl(){return this._renderMultiSelect()}_loadInputValue(){return Ge()}_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")}_focusInHandler(s){this._preventNestedFocusEvent(s)||this._scrollContainer("end"),super._focusInHandler(s)}_renderInputValue(){return this.option("displayValue",this._searchValue()),super._renderInputValue(...arguments)}_restoreInputText(s){s||this._clearTextValue()}_focusOutHandler(s){this._preventNestedFocusEvent(s)||(this._clearTagFocus(),this._scrollContainer("start")),super._focusOutHandler(s)}_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")}_renderList(){super._renderList(),this._setListDataSourceFilter()}_canListHaveFocus(){const{applyValueMode:s}=this.option();return s==="useButtons"}_listConfig(){const s=this.option("showSelectionControls")?"all":"multiple";return se(super._listConfig(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:s,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:m=>{let{value:_}=m;this._selectAllValueChangeAction({value:_})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})}_renderMultiSelect(){const s=fe();return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(s.resolve).fail(s.reject),s.promise()}_listItemClickHandler(s){!this.option("showSelectionControls")&&this._clearTextValue();const{applyValueMode:m}=this.option();m!=="useButtons"&&(super._listItemClickHandler(s),this._saveValueChangeEvent(void 0))}_shouldClearFilter(){const s=super._shouldClearFilter();return!this.option("showSelectionControls")&&s}_renderInputSize(){const s=this._input(),m=s.val(),_=$e(m)&&m;let D="",E;const w=this.option("searchEnabled")||this.option("acceptCustomValue");if(_&&w){const d=bn(s,m,{includePaddings:!0});d.insertAfter(s),D=_e(d)+5,d.remove()}else m||(E=1);s.css("width",D),s.attr("size",E??"")}_renderInputSubstitution(){super._renderInputSubstitution(),this._updateWidgetHeight()}_getValue(){const{value:s}=this.option();return s||[]}_multiTagRequired(){const s=this._getValue(),{maxDisplayedTags:m}=this.option();return ne(m)&&s.length>m}_renderMultiTag(s){const m=`dx-${new Ae}`,_=Y("<div>").attr("id",m).addClass("dx-tag").addClass("dx-tagbox-multi-tag"),D={multiTagElement:de(_),selectedItems:this.option("selectedItems")};if(this._multiTagPreparingAction(D),D.cancel)return!1;_.data("dxTagData",D.text),_.insertBefore(s),this._tagTemplate.render({model:D.text,container:de(_)});const E=D.text;return this._setTagAria(_,E),this._updateElementAria(m),_}_getFilter(s){const m=this._dataController.filter(),_=s.getCombinedFilter(this.option("valueExpr"),m),D=encodeURI(JSON.stringify(_)).length,E=this.option("maxFilterQueryLength");if(D<=E)return _;ct.log("W1019",E)}_getFilteredItems(s){var m,_;(m=this._loadFilteredItemsPromise)===null||m===void 0||m.reject();const D=new An(s),E=(_=this._list)===null||_===void 0?void 0:_.option("selectedItems"),w=!!E&&this._list._dataController.isLoaded(),d=E||this.option("selectedItems"),l=D.getLocalFilter(this._valueGetter),u=d.filter(l),h=u.length===s.length,p=fe(),o=this._dataController;if(!this._dataSource)return p.resolve([]).promise();if((!this._isDataSourceChanged||w)&&h&&!this._isDataSourceOptionChanged)return p.resolve(u).promise();const{customQueryParams:t,expand:n,select:e}=o.loadOptions(),i=this._getFilter(D);return o.loadFromStore({filter:i,customQueryParams:t,expand:n,select:e}).done(((r,a)=>{if(this._isDataSourceChanged=!1,this._isDataSourceOptionChanged=!1,this._disposed){p.reject();return}const{data:c}=xn(r,a),y=o.applyMapFunction(c);p.resolve(y.filter(l))})).fail(p.reject),this._loadFilteredItemsPromise=p,p.promise()}_createTagsData(s,m){const _=[],D={},E=this._valueGetterExpr()==="this",{acceptCustomValue:w}=this.option(),d={};m.forEach((h=>{const p=E?JSON.stringify(h):this._valueGetter(h);d[p]=h}));const l=[];s.forEach(((h,p)=>{const o=d[E?JSON.stringify(h):h];if(E&&!ne(o)){if(!this._dataSource)return;l.push(this._loadItem(h,D).done((t=>{const n=this._createTagData(t,h);_.splice(p,0,n)})).fail((()=>{if(w){const t=this._createTagData(void 0,h);_.splice(p,0,t)}})))}else{const t=this._createTagData(o,h);_.splice(p,0,t)}}));const u=fe();return Ge.apply(this,l).always((()=>{u.resolve(_)})),u.promise()}_createTagData(s,m){if(ne(s))return this._selectedItems.push(s),s;const _=this.option("selectedItem");return this._valueGetter(_)===m?_:m}_isGroupedData(){return this.option("grouped")&&!this._dataController.group()}_getItemsByValues(s){const m=[];return s.forEach((_=>{const D=this._getItemFromPlain(_);ne(D)&&m.push(D)})),m}_getFilteredGroupedItems(s){const m=fe();return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?m.resolve(this._getItemsByValues(s)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done((()=>{m.resolve(this._getItemsByValues(s))})).fail((()=>{m.resolve([])})).always((()=>{this._filteredGroupedItemsLoadPromise=void 0})),m.promise()}_loadTagsData(){const s=this._getValue(),m=fe();return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(s):this._getFilteredItems(s)).done((D=>{this._createTagsData(s,D).always((w=>{m.resolve(w)}))})).fail(m.reject.bind(this)),m.promise()}_renderTags(){const s=fe();let m=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._tagsToRender=this._selectedItems,this._renderTagsImpl(),m=!0,s.resolve())),m||this._loadTagsData().done((_=>{if(this._disposed){s.reject();return}this._tagsToRender=_,this._renderTagsImpl(),s.resolve()})).fail(s.reject),s.promise()}_renderTagsImpl(){this._renderField(),this._shouldUpdateSelectedItems()&&this.option("selectedItems",this._selectedItems.slice()),this._getFieldTemplate()||(this._cleanTags(),this._renderTagsCore())}_shouldGetItemsFromPlain(s){return s&&this._dataController.isLoaded()&&s.length<=this._getPlainItems().length}_getItemsFromPlain(s){let m=this._getSelectedItemsFromList(s);if(m.length===0&&s.length>0||m.length<s.length){const D=this._getPlainItems();m=this._filterSelectedItems(D,s)}return m}_getSelectedItemsFromList(s){const{selectedItems:m}=this._list?this._list.option():{selectedItems:[]};let _=[];return s.length===(m==null?void 0:m.length)&&(_=this._filterSelectedItems(m,s)),_}_filterSelectedItems(s,m){return s.filter((D=>{let E;for(let w=0;w<m.length;w++)if(E=m[w],ze(E)){if(this._isValueEquals(D,E))return!0}else if(this._isValueEquals(this._valueGetter(D),E))return!0;return!1}),this)}_processDataSourceChanging(){this._isDataSourceOptionChanged=!0,super._processDataSourceChanging()}_integrateInput(){super._integrateInput();const s=this.$element().find(".dx-texteditor-input-container");this._updateTagsContainer(s),this._renderTagRemoveAction(),this._renderTagsCore()}_renderTagsCore(){var s;this._renderTagsElements(this._tagsToRender),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus(),(s=this._popup)===null||s===void 0||s.refreshPosition()}_shouldUpdateSelectedItems(){var s,m;const{selectedItems:_}=this.option();return!!(ne(_)&&_.length!==((s=this._selectedItems)===null||s===void 0?void 0:s.length)||qe(_,this._selectedItems).length!==((m=this._selectedItems)===null||m===void 0?void 0:m.length))}_renderTagsElements(s){const m=this._multiTagRequired()&&this._renderMultiTag(this._input()),_=this.option("showMultiTagOnly"),D=this.option("maxDisplayedTags");s.forEach(((E,w)=>{if(m&&_||m&&!_&&w-D>=-1)return!1;this._renderTag(E,m||this._input())})),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()}_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{const s=this._tagElements(),_=(this.option("selectedItems")??[]).map((D=>this._valueGetter(D)));Te(s,((D,E)=>{const w=Y(E),d=w.data("dxTagData");_.includes(d)||w.remove()}))}this._updateElementAria()}_renderEmptyState(){const s=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(s),this._renderDisplayText()}_renderDisplayText(){this._renderInputSize()}_refreshTagElements(){this._tagElementsCache=this.$element().find(".dx-tag")}_tagElements(){return this._tagElementsCache}_applyTagTemplate(s,m){this._tagTemplate.render({model:s,container:de(m)})}_renderTag(s,m){const _=this._valueGetter(s);if(!ne(_))return;let D=this._getTag(_);const E=this._displayGetter(s),w=this._getItemModel(s,E);if(D){const d=D.data("dxTagDisplayValue");ne(E)&&!Ce(d,E)&&(D.empty(),this._applyTagTemplate(w,D)),this._updateElementAria(D.attr("id"))}else{const d=`dx-${new Ae}`;D=this._createTag(_,m,d,E),this._setTagAria(D,ne(E)?E:_),ne(s)?this._applyTagTemplate(w,D):this._applyTagTemplate(_,D),this._updateElementAria(d)}}_setTagAria(s,m){const _={role:"button",label:m,roledescription:G.format("dxTagBox-tagRoleDescription")};this.setAria(_,s)}_getItemModel(s,m){return ze(s)&&ne(m)?s:an(m,"")}_getTag(s){const m=this._tagElements(),_=m.length;let D=!1;for(let E=0;E<_;E++){const w=m[E],d=wn(w,"dxTagData");if(s===d||Ce(s,d)){D=Y(w);break}}return D}_createTag(s,m,_,D){return Y("<div>").attr("id",_).addClass("dx-tag").data("dxTagData",s).data("dxTagDisplayValue",D).insertBefore(m)}_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)}_customItemAddedHandler(s){super._customItemAddedHandler(s),this._clearTextValue()}_removeTagHandler(s){const m=s.event;m.stopPropagation(),this._saveValueChangeEvent(m);const _=Y(m.target).closest(".dx-tag");this._removeTagElement(_)}_removeTagElement(s){if(s.hasClass("dx-tagbox-multi-tag")){if(this.option("showMultiTagOnly"))this.clear();else{const{maxDisplayedTags:D}=this.option();this.option("value",this._getValue().slice(0,D))}return}const m=s.data("dxTagData"),_=s.attr("id");this._removeTagWithUpdate(m),this._updateElementAria(_,!0),this._refreshTagElements()}_updateField(){}_removeTagWithUpdate(s){const m=this._getValue().slice();this._removeTag(m,s),this.option("value",m),this.option("selectedItem",null),m.length===0&&this._clearTagFocus()}_getCurrentValue(){return this._lastValue()}_selectionChangeHandler(s){const{applyValueMode:m}=this.option();if(m==="useButtons")return;const _=this._getValue().slice();if(Te(s.removedItems||[],((D,E)=>{this._removeTag(_,this._valueGetter(E))})),Te(s.addedItems||[],((D,E)=>{this._addTag(_,this._valueGetter(E))})),this._updateWidgetHeight(),!Ce(this._list.option("selectedItemKeys"),this.option("value"))){const D=this._list._getSelectionChangeEvent();D&&this._saveValueChangeEvent(D),this.option("value",_)}this._list._saveSelectionChangeEvent(void 0)}_removeTag(s,m){const _=this._valueIndex(m,s);_>=0&&s.splice(_,1)}_addTag(s,m){this._valueIndex(m)<0&&s.push(m)}_fieldRenderData(){return this._selectedItems.slice()}_completeSelection(s){this.option("showSelectionControls")||this._setValue(s)}_setValue(s){var m;if(s===null)return;const{applyValueMode:_}=this.option(),D=_==="useButtons",E=this._valueIndex(s),{selectedItemKeys:w}=((m=this._list)===null||m===void 0?void 0:m.option())||{selectedItemKeys:[]},d=(D?w??[]:this._getValue()).slice();if(E>=0?d.splice(E,1):d.push(s),D){var l;(l=this._list)===null||l===void 0||l.option("selectedItemKeys",d)}else this.option("value",d)}_isSelectedValue(s,m){return this._valueIndex(s,null,m)>-1}_valueIndex(s,m,_){let D=-1;return _&&typeof s!="object"&&(_.indexByValues||(_.indexByValues={},m=m||this._getValue(),m.forEach(((E,w)=>{_.indexByValues[E]=w}))),s in _.indexByValues)?_.indexByValues[s]:(m=m||this._getValue(),Te(m,((E,w)=>{if(this._isValueEquals(s,w))return D=E,!1})),D)}_lastValue(){const s=this._getValue();return s[s.length-1]??null}_shouldRenderSearchEvent(){const{searchEnabled:s,acceptCustomValue:m}=this.option();return s||m}_searchHandler(s){this.option("searchEnabled")&&s&&!this._isTagRemoved&&(super._searchHandler(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved}_updateWidgetHeight(){const s=this.$element(),m=ge(s);this._renderInputSize();const _=ge(s);this._popup&&this.option("opened")&&this._isEditable()&&_!==m&&this._popup.repaint()}_refreshSelected(){var s;!((s=this._list)===null||s===void 0)&&s.getDataSource()&&this._list.option("selectedItems",this._selectedItems)}_resetListDataSourceFilter(){const s=this._dataController;delete this._userFilter,s.filter(null),s.reload()}_setListDataSourceFilter(){if(!this.option("hideSelectedItems")||!this._list)return;const s=this._dataController,m=this._valueGetterExpr();if($e(m)&&m!=="this"){const _=this._dataSourceFilterExpr();this._userFilter===void 0&&(this._userFilter=s.filter()||null),this._userFilter&&_.push(this._userFilter),_.length?s.filter(_):s.filter(null)}else s.filter(this._dataSourceFilterFunction.bind(this));s.load()}_dataSourceFilterExpr(){const s=[];return this._getValue().forEach((m=>s.push(["!",[this._valueGetterExpr(),m]]))),s}_dataSourceFilterFunction(s){const m=this._valueGetter(s);let _=!0;return Te(this._getValue(),((D,E)=>{if(this._isValueEquals(E,m))return _=!1,!1})),_}_dataSourceChangedHandler(){this._isDataSourceChanged=!0,super._dataSourceChangedHandler.apply(this,arguments)}_applyButtonHandler(s){this._saveValueChangeEvent(s.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),super._applyButtonHandler(),this._cancelSearchIfNeed()}_getSortedListValues(){const s=this._getListValues(),{value:m}=this.option(),_=m||[],D=s.length?qe(_,s):[],E=D.length?Dn(s,_):s;return D.concat(E)}_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map((s=>this._valueGetter(s))):[]}_setListDataSource(){const s=this._getValue();super._setListDataSource();const{value:m}=this.option();s!==m&&this.option("value",s),this._refreshSelected()}_renderOpenedState(){super._renderOpenedState();const{applyValueMode:s}=this.option();s==="useButtons"&&!this.option("opened")&&this._refreshSelected()}clear(){this._restoreInputText();const s=this._getDefaultOptions().value,{value:m}=this.option();s&&s.length===0&&m&&s.length===m.length||super.clear()}_clean(){super._clean(),delete this._valuesToUpdate,delete this._tagTemplate,delete this._tagsToRender}_getSelectedItemsDifference(s,m){if(!s.length)return{addedItems:[],removedItems:m.slice()};if(!m.length)return{addedItems:s.slice(),removedItems:[]};const _=m.reduce(((E,w)=>{const d=this._valueGetter(w);return E[d]=w,E}),{}),D=[];return s.forEach((E=>{const w=this._valueGetter(E);_[w]||D.push(E),delete _[w]})),{addedItems:D,removedItems:Object.values(_)}}_optionChanged(s){const{name:m,value:_,previousValue:D}=s;switch(m){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":_?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(_);break;case"displayExpr":super._optionChanged(s),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":super._optionChanged(s),!_&&this._refreshEvents();break;case"value":this._valuesToUpdate=_,super._optionChanged(s),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(m,_);break;case"selectedItem":case"maxFilterQueryLength":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(_,D));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!_),this._renderSingleLineScroll();break;default:super._optionChanged(s)}}_getActualSearchValue(){return super._getActualSearchValue()||this._searchValue()}_popupHidingHandler(){super._popupHidingHandler(),this._clearFilter()}}Ve("dxTagBox",Xn);class Qn extends On{_focusTarget(){return Y(this.element()).parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){const s=super._getDefaultOptions();return se(s,Fe._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),ln((()=>{this._itemElements().addClass("dx-radiobutton")}))}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(s){const{itemData:{html:m},itemElement:_}=s;if(!m){const D=Y("<div>").addClass("dx-radiobutton-icon");Y("<div>").addClass("dx-radiobutton-icon-dot").appendTo(D);const E=Y("<div>").append(D).addClass("dx-radio-value-container");Y(_).prepend(E)}super._postprocessRenderItem(s)}_processSelectableItem(s,m){super._processSelectableItem(s,m),s.toggleClass("dx-radiobutton-checked",m).find(".dx-radiobutton-icon").first().toggleClass("dx-radiobutton-icon-checked",m),this.setAria("checked",m,s)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){const s=super._supportedKeys();return se({},s,{enter(m){return m.preventDefault(),s.enter.apply(this,arguments)},space(m){return m.preventDefault(),s.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelectionAttribute(){}}class ht extends on{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(s){s&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){const s=super._getDefaultOptions();return se(s,se(Fe._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(s){return this._valueGetter?this._valueGetter(s):s.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".dx-radiobutton",this._feedbackHideTimeout=100,this._initDataExpressions()}_initMarkup(){Y(this.element()).addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(s){let{itemElement:m,event:_,itemData:D}=s;if(this.itemElements().is(m)){const E=this._getItemValue(D);E!==this.option("value")&&(this._saveValueChangeEvent(_),this.option("value",E))}}_getSelectedItemKeys(s){return this.option("valueExpr")!=="this"&&s===null||ne(s)?[s]:[]}_setSelection(s){const m=this._unwrappedValue(s);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(m))}_renderValidationState(){var s;super._renderValidationState(),(s=this._validationMessage)===null||s===void 0||s.$content().attr("role","alert")}_optionChanged(s){const{name:m,value:_}=s;switch(this._dataExpressionOptionChanged(s),m){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(m,_);break;case"disabled":super._optionChanged(s),this._setCollectionWidgetOption(m,_);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(_),this._setSubmitValue(_),super._optionChanged(s);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(s)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){const{layout:s}=this.option(),m=Y(this.element());m.toggleClass("dx-radiogroup-vertical",s==="vertical"),m.toggleClass("dx-radiogroup-horizontal",s==="horizontal")}_renderRadios(){this._areRadiosCreated=fe();const s=Y("<div>").appendTo(this.$element()),{displayExpr:m,accessKey:_,focusStateEnabled:D,itemTemplate:E,tabIndex:w,value:d}=this.option();this._createComponent(s,Qn,{onInitialized:l=>{let{component:u}=l;this._radios=u},onContentReady:l=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:m,accessKey:_,dataSource:this._dataSource,focusStateEnabled:D,itemTemplate:E,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(d),tabIndex:w}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=Y("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{value:!0})}_setSubmitValue(s){s=s??this.option("value");const m=this.option("valueExpr")==="this"?this._displayGetter(s):s;this._$submitElement.val(m)}_setCollectionWidgetOption(s,m){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){const{layout:s}=this.option();if(s==="horizontal"){var m;(m=this.itemElements())===null||m===void 0||m.css("height","auto")}else{var _;const D=this.option("items").length;(_=this.itemElements())===null||_===void 0||_.css("height",100/D+"%")}}focus(){var s;(s=this._radios)===null||s===void 0||s.focus()}itemElements(){var s;return(s=this._radios)===null||s===void 0?void 0:s._itemElements()}}ht.include(Fe);Ve("dxRadioGroup",ht);class Jn{constructor(s,m){this._popupInstance=s._createComponent(m,Rn),this.infoMap={TaskEdit:ei,Resources:ti,Confirmation:ni,ConstraintViolation:ii}}_apply(){if(this._dialogInfo.isValidated()){const s=this._dialogInfo.getResult();this._callback(s),this.hide()}}show(s,m,_,D,E){if(this._callback=_,this._afterClosing=D,!this.infoMap[s])return;const w=this._popupInstance._isVisible()&&this._dialogInfo&&this._dialogInfo instanceof this.infoMap[s];this._dialogInfo=new this.infoMap[s](m,this._apply.bind(this),this.hide.bind(this),E),this._popupInstance.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._afterClosing&&this._popupInstance.option("onHidden",this._afterClosing),w||this._popupInstance.show()}hide(){this._popupInstance.hide(),this._afterClosing&&this._afterClosing()}}class Se{constructor(s,m,_,D){this._parameters=s,this._applyAction=m,this._hideAction=_,this._editingOptions=D}_getFormItems(){return{}}_getFormCssClass(){return""}_getFormData(){return this._parameters}_updateParameters(){}_getOkToolbarItem(){return this._getToolbarItem("OK",this._applyAction)}_getCancelToolbarItem(){return this._getToolbarItem("Cancel",this._hideAction)}_getYesToolbarItem(){return this._getToolbarItem("Yes",this._applyAction)}_getNoToolbarItem(){return this._getToolbarItem("No",this._hideAction)}_getToolbarItem(s,m){return{widget:"dxButton",toolbar:"bottom",options:{text:G.format(s),onClick:m}}}getTitle(){return""}getToolbarItems(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}getMaxWidth(){return 400}getHeight(){return"auto"}getContentTemplate(){return s=>(this._form=new Bn(s,{formData:this._getFormData(),items:this._getFormItems(),elementAttr:{class:this._getFormCssClass()},rtlEnabled:!1}),s)}getResult(){const s=this.getFormData();return this._updateParameters(s),this._parameters}getFormData(){return this._form&&this._form.option("formData")}isValidated(){return!0}}class ei extends Se{getTitle(){return G.format("dxGantt-dialogTaskDetailsTitle")}_getFormItems(){const s=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,m=s||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:G.format("dxGantt-dialogTitle")},editorOptions:{readOnly:s||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:G.format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:m||this._isReadOnlyField("start")},visible:!this._isHiddenField("start"),validationRules:[{type:"required",message:G.format("validation-required-formatted",G.format("dxGantt-dialogStartTitle"))},{type:"custom",validationCallback:_=>{if(this._parameters.isValidationRequired){const D=this._parameters.getCorrectDateRange(this._parameters.id,_.value,this._parameters.end);if(D.start.getTime()!==_.value.getTime())return _.rule.message=this._getValidationMessage(!0,D.start),!1}return!0}}]},{dataField:"end",editorType:"dxDateBox",label:{text:G.format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:m||this._isReadOnlyField("end")},visible:!this._isHiddenField("end"),validationRules:[{type:"required",message:G.format("validation-required-formatted",G.format("dxGantt-dialogEndTitle"))},{type:"custom",validationCallback:_=>{if(this._parameters.isValidationRequired){const D=this._parameters.getCorrectDateRange(this._parameters.id,this._parameters.start,_.value);if(D.end.getTime()!==_.value.getTime())return _.rule.message=this._getValidationMessage(!1,D.end),!1}return!0}}]},{dataField:"progress",editorType:"dxNumberBox",label:{text:G.format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:m||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:G.format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:s||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:G.format("dxGantt-dialogEditResourceListHint"),onClick:()=>{this._parameters.showResourcesDialogCommand.execute((()=>{this._parameters.showTaskEditDialogCommand.execute()}))}}}]}}]}_getValidationMessage(s,m){return s?G.format("dxGantt-dialogStartDateValidation",this._getFormattedDateText(m)):G.format("dxGantt-dialogEndDateValidation",this._getFormattedDateText(m))}_getFormattedDateText(s){return s?ue.format(s,"shortDateShortTime"):""}_isReadOnlyField(s){return this._parameters.readOnlyFields.indexOf(s)>-1}_isHiddenField(s){return this._parameters.hiddenFields.indexOf(s)>-1}_getFormData(){const s={};for(const m in this._parameters)s[m]=m==="progress"?this._parameters[m]/100:this._parameters[m];return s}_updateParameters(s){this._parameters.title=s.title,this._parameters.start=s.start,this._parameters.end=s.end,this._parameters.progress=Math.round(100*s.progress),this._parameters.assigned=s.assigned}isValidated(){var s;const m=(s=this._form)===null||s===void 0?void 0:s.validate();return m==null?void 0:m.isValid}}class ti extends Se{getTitle(){return G.format("dxGantt-dialogResourceManagerTitle")}_getFormItems(){return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:G.format("dxGantt-dialogEditNoResources"),onInitialized:s=>{this.list=s.component},onItemDeleted:s=>{this._parameters.resources.remove(s.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:s=>{this.textBox=s.component},onInput:s=>{const m=s.component.getButton("addResource"),_=s.component.option("text");m.option("disabled",_.length===0)},buttons:[{name:"addResource",location:"after",options:{text:G.format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:s=>{const m=this._parameters.resources.createItem();m.text=this.textBox.option("text"),this._parameters.resources.add(m),this.list.option("items",this._parameters.resources.items),this.list.scrollToItem(m),this.textBox.clear(),s.component.option("disabled",!0)}}}]}}]}}class ni extends Se{getContentTemplate(){return s=>this._getConfirmMessage()}_getConfirmMessage(){switch(this._parameters.type){case 0:return G.format("dxGantt-dialogTaskDeleteConfirmation");case 1:return G.format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return G.format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}getToolbarItems(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}class ii extends Se{_getFormItems(){const s=this._parameters.hasCriticalErrors,m=this._parameters.errorsCount>1,_=[],D=m?"dxGantt-dialogDeleteDependenciesMessage":"dxGantt-dialogDeleteDependencyMessage",E=m?"dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"dxGantt-dialogMoveTaskAndKeepDependencyMessage";let w;return s?w=m?"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"dxGantt-dialogConstraintCriticalViolationMessage":w=m?"dxGantt-dialogConstraintViolationSeveralTasksMessage":"dxGantt-dialogConstraintViolationMessage",_.push({text:G.format("dxGantt-dialogCancelOperationMessage"),value:0}),_.push({text:G.format(D),value:1}),s||_.push({text:G.format(E),value:2}),[{template:G.format(w)},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:_,valueExpr:"value",value:0}}]}_getFormCssClass(){return"dx-cv-dialog"}_updateParameters(s){this._parameters.option=s.option}}const be=He(),ri="dx-treelist-empty-space",oi="dx-treelist-table";class si{constructor(s){this._gantt=s,this._treeList=s._treeList,this._cache={}}reset(){this._cache={}}getTreeListTableStyle(){const s=this._getTreeListTable(),m=be.getComputedStyle(s);return{color:m.color,backgroundColor:m.backgroundColor,fontSize:m.fontSize,fontFamily:m.fontFamily,fontWeight:m.fontWeight,fontStyle:m.fontStyle,textAlign:"left",verticalAlign:"middle"}}getTreeListColCount(){return this._getHeaderView().getColumnWidths().filter((_=>_>0)).length}getTreeListHeaderInfo(s){const m=this._getHeaderElement(s);if(!m)return null;const _=be.getComputedStyle(m),D={color:_.color,padding:_.padding,paddingLeft:_.paddingLeft,paddingTop:_.paddingTop,paddingRight:_.paddingRight,paddingBottom:_.paddingBottom,verticalAlign:_.verticalAlign,width:this._getColumnWidth(s)};return{content:m.textContent,styles:D}}getTreeListCellInfo(s,m){const _=this._treeList.getNodeByKey(s),D=this._treeList.getRowIndexByKey(s),E=D>-1?this._getDataCell(D,m):null,w=E?be.getComputedStyle(E):this._getColumnCellStyle(m),d={color:w.color,padding:w.padding,paddingLeft:w.paddingLeft,paddingTop:w.paddingTop,paddingRight:w.paddingRight,paddingBottom:w.paddingBottom,width:this._getColumnWidth(m)};return m===0&&(d.extraLeftPadding=this._getEmptySpaceWidth(_.level)),{content:(E==null?void 0:E.textContent)??this._getDisplayText(s,m),styles:d}}getTreeListEmptyDataCellInfo(){return{content:this._treeList.option("noDataText")}}_ensureColumnWidthCache(s){var m;if((m=this._cache).columnWidths??(m.columnWidths={}),!this._cache.columnWidths[s]){const _=this._getHeaderElement(s);this._cache.columnWidths[s]=(_==null?void 0:_.clientWidth)??0}}_getColumnWidth(s){this._ensureColumnWidthCache(s);const m=this._cache.columnWidths;return m&&m[s]}_getEmptySpaceWidth(s){if(!this._cache.emptyWidth){var m;const _=this._getTreeListElement(ri);(m=this._cache).emptyWidth??(m.emptyWidth=_.offsetWidth??0)}return this._cache.emptyWidth*(s+1)}_getColumnCellStyle(s){return this._ensureColumnCellStyleCache(s),this._cache.columnStyles[s]}_ensureColumnCellStyleCache(s){var m;if((m=this._cache).columnStyles??(m.columnStyles={}),!this._cache.columnStyles[s]){const _=this._getDataCell(0,s);this._cache.columnStyles[s]=be.getComputedStyle(_)}}_getTask(s){return this._ensureTaskCache(s),this._cache.tasks[s]}_ensureTaskCache(s){var m,_;(m=this._cache).tasks??(m.tasks={}),(_=this._cache.tasks)[s]??(_[s]=this._gantt._findTaskByKey(s))}_getTreeListTable(){return this._getTreeListElement(oi)}_getTreeListElement(s){return this._treeList._$element.find("."+s).get(0)}_getDataCell(s,m){const D=this._treeList.getCellElement(s,m);return D&&D.length?D[0]:D}_getHeaderElement(s){return this._getHeaderView().getHeaderElement(s).get(0)}_getHeaderView(){return this._treeList._views.columnHeadersView}_getDisplayText(s,m){const _=this._getTask(s);return _&&this._getGridDisplayText(m,_)}_getGridDisplayText(s,m){const D=this._treeList.getController("columns").getColumns()[s],E=D==null?void 0:D.dataField,w=D==null?void 0:D.format,d=dt.getDisplayValue(D,m[E],m,"data");if(ne(w)){if((D==null?void 0:D.dataType)==="date"||(D==null?void 0:D.dataType)==="datetime"){const l=un(d)?d:new Date(d);return ue.format(l,w)}if(cn(d))return dn.format(d,w)}return typeof d=="string"?d:d==null?void 0:d.toString()}}const Me=/(\w*)Expr/;class ai{constructor(s){this._gantt=s}_getMappedFieldName(s,m){let _=m;return m==="id"&&(_="key"),this._gantt.option(`${s}.${_}Expr`)}getTaskMappedFieldNames(){const s=[],m=this._gantt.option("tasks");for(const _ in m){const D=_.match(Me),E=D&&m[D[0]];E&&s.push(E)}return s}convertCoreToMappedData(s,m){return Object.keys(m).reduce(((_,D)=>{const E=this._getMappedFieldName(s,D);return E&&!xe(E)&&lt(E)(_,m[D]),_}),{})}convertMappedToCoreData(s,m){const _={};if(m){const D=this._gantt.option(s);for(const E in D){const w=E.match(Me),d=w&&D[w[0]];if(d&&m[d]!==void 0){const l=he(d),u=w[1];_[u]=l(m)}}}return _}convertCoreToMappedFields(s,m){return m.reduce(((_,D)=>{const E=this._getMappedFieldName(s,D);return E&&_.push(E),_}),[])}convertMappedToCoreFields(s,m){const _=[],D=this._gantt.option(s);for(const E in D){const w=E.match(Me),d=w&&D[w[0]];if(d&&m.indexOf(d)>-1){const l=w[1];_.push(l)}}return _}}class li{constructor(s){this._gantt=s}_setTreeListDimension(s,m){var _;const D=s==="width"?Xe:Qe,E=s==="width"?Ee:ge;D(this._gantt._$treeListWrapper,m),(_=this._gantt._ganttTreeList)===null||_===void 0||_.setOption(s,E(this._gantt._$treeListWrapper))}_setGanttViewDimension(s,m){const _=s==="width"?Xe:Qe,D=s==="width"?Ee:ge;_(this._gantt._$ganttView,m),this._gantt._setGanttViewOption(s,D(this._gantt._$ganttView))}_getPanelsWidthByOption(){var s,m;const _=Ee(this._gantt._$element),D=this._gantt.option("taskListWidth");let E;return isNaN(D)?((s=D.indexOf)===null||s===void 0?void 0:s.call(D,"px"))>0?E=_-parseInt(D.replace("px",""))+"px":((m=D.indexOf)===null||m===void 0?void 0:m.call(D,"%"))>0&&(E=100-parseInt(D.replace("%",""))+"%"):E=_-parseInt(D),{leftPanelWidth:D,rightPanelWidth:E}}onAdjustControl(){const s=ge(this._gantt._$element);this.updateGanttWidth(),this.setGanttHeight(s)}onApplyPanelSize(s){this.setInnerElementsWidth(s),this.updateGanttRowHeights()}updateGanttRowHeights(){const s=this._gantt._ganttTreeList.getRowHeight();if(this._gantt._getGanttViewOption("rowHeight")!==s){var m;this._gantt._setGanttViewOption("rowHeight",s),(m=this._gantt._ganttView)===null||m===void 0||m._ganttViewCore.updateRowHeights(s)}}adjustHeight(){this._gantt._hasHeight||(this._gantt._setGanttViewOption("height",0),this._gantt._setGanttViewOption("height",this._gantt._ganttTreeList.getOffsetHeight()))}setInnerElementsWidth(s){if(!ut())return;const m=!s;m&&(s=this._getPanelsWidthByOption(),this._setTreeListDimension("width",0),this._setGanttViewDimension("width",0)),this._setTreeListDimension("width",s.leftPanelWidth),this._setGanttViewDimension("width",s.rightPanelWidth),m&&this._gantt._splitter._setSplitterPositionLeft()}updateGanttWidth(){this._gantt._splitter._dimensionChanged()}setGanttHeight(s){var m;const _=this._gantt._$toolbarWrapper.get(0).offsetHeight,D=s-_;this._setTreeListDimension("height",D),this._setGanttViewDimension("height",D),(m=this._gantt._ganttView)===null||m===void 0||m._ganttViewCore.resetAndUpdate()}}class ui{constructor(s){this._gantt=s}getTaskTooltipContentTemplateFunc(s){const m=s&&this._gantt._getTemplate(s);return m&&((D,E,w)=>(m.render({model:this._gantt.getTaskDataByCoreData(E),container:de(Y(D)),onRendered:()=>{w()}}),!0))}getTaskProgressTooltipContentTemplateFunc(s){const m=s&&this._gantt._getTemplate(s);return m&&((D,E,w)=>(m.render({model:E,container:de(Y(D)),onRendered:()=>{w()}}),!0))}getTaskTimeTooltipContentTemplateFunc(s){const m=s&&this._gantt._getTemplate(s);return m&&((D,E,w)=>(m.render({model:E,container:de(Y(D)),onRendered:()=>{w()}}),!0))}getTaskContentTemplateFunc(s){const m=s&&this._gantt._getTemplate(s);return m&&((D,E,w,d)=>(E.taskData=this._gantt.getTaskDataByCoreData(E.taskData),m.render({model:E,container:de(Y(D)),onRendered:()=>{w(D,d)}}),!0))}}const ci="dx-gantt-toolbar-separator",ie={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12,resourceManager:13,toggleResources:14,toggleDependencies:15};class gt{constructor(s,m){this._element=s,this._owner=m,this._items=[],this._createControl()}createItems(s){this._cache=null,this._items=this._createItemsCore(s),this._menu.option("items",this._items)}_createItemsCore(s){return s.map((m=>{let _;return typeof m=="string"?_=this._createItemByText(m):_=m.name?se(this._createItemByText(m.name),m):se(this._getDefaultItemOptions(),m),m.items&&(_.items=this._createItemsCore(m.items)),_}))}_createItemByText(s){switch(s.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(ie.undo,G.format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(ie.redo,G.format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(ie.expandAll,G.format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(ie.collapseAll,G.format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(ie.createTask,G.format("dxGantt-addNewTask"),this._getIcon("add"));case"addsubtask":return this._createDefaultItem(ie.createSubTask,G.format("dxGantt-contextMenuNewSubtask"),this._getIcon("add-sub-task"));case"deletetask":return this._createDefaultItem(ie.removeTask,G.format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(ie.removeDependency,G.format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(ie.zoomIn,G.format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(ie.zoomOut,G.format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(ie.fullScreen,G.format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(ie.taskInformation,G.format("dxGantt-dialogTaskDetailsTitle")+"...",this._getIcon("task-details"));case"resourcemanager":return this._createDefaultItem(ie.resourceManager,G.format("dxGantt-dialogResourceManagerTitle"),this._getIcon("resource-manager"));case"showresources":return this._createDefaultItem(ie.toggleResources,G.format("dxGantt-showResources"),this._getIcon("toggle-resources"));case"showdependencies":return this._createDefaultItem(ie.toggleDependencies,G.format("dxGantt-showDependencies"),this._getIcon("toggle-dependencies"));default:return se(this._getDefaultItemOptions(),{options:{text:s}})}}_getDefaultItemOptions(){return{}}_getItemsCache(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}_fillCache(s){s.forEach((m=>{const _=m.commandId;_!==void 0&&(this._cache[_]||(this._cache[_]=[]),this._cache[_].push(m)),m.items&&this._fillCache(m.items)}))}_getIcon(s){return"dx-gantt-i dx-gantt-i-"+s}getCommandKeys(){const s=this._getItemsCache(),m=[];for(const _ in s)m.push(parseInt(_));return m}setItemEnabled(s,m){this._getItemsCache()[s].forEach((D=>{D.disabled=!m}))}setItemVisible(s,m){this._getItemsCache()[s].forEach((D=>{D.visible=m}))}setItemValue(s,m){}setEnabled(s){this._menu.option("disabled",!s)}updateItemsList(){}isVisible(){return!0}isContextMenu(){return!1}completeUpdate(){}}class di extends gt{_createControl(){this._menu=this._owner._createComponent(this._element,Nn,{onItemClick:s=>{const m=s.itemData.commandId;m!==void 0&&this._owner._executeCoreCommand(m)}})}_createDefaultItem(s,m,_){return{commandId:s,disabled:!0,widget:"dxButton",location:"before",options:{icon:_,stylingMode:"text",hint:m}}}_createSeparator(){return{location:"before",template:(s,m,_)=>{Y(_).addClass(ci)}}}_getDefaultItemOptions(){return{location:"before",widget:"dxButton"}}completeUpdate(){this._menu.option("items",this._items)}}class pi extends gt{_createControl(){this._menu=this._owner._createComponent(this._element,jn,{showEvent:void 0,onItemClick:s=>{s.itemData.commandId!==void 0?this._owner._executeCoreCommand(s.itemData.commandId):s.itemData.name!==void 0&&this._owner._actionsManager.raiseCustomCommand(s.itemData.name)}})}createItems(s){(!s||s.length===0)&&(s=this._getDefaultItems()),super.createItems(s)}_getDefaultItems(){return[{text:G.format("dxGantt-dialogButtonAdd"),commandId:ie.taskAddContextItem,icon:this._getIcon("add"),items:[{text:G.format("dxGantt-contextMenuNewTask"),commandId:ie.createTask,icon:this._getIcon("add-task")},{text:G.format("dxGantt-contextMenuNewSubtask"),commandId:ie.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:G.format("dxGantt-dialogTaskDetailsTitle")+"...",commandId:ie.taskInformation,icon:this._getIcon("task-details")},{text:G.format("dxGantt-contextMenuDeleteTask"),commandId:ie.removeTask,icon:this._getIcon("delete")},{text:G.format("dxGantt-contextMenuDeleteDependency"),commandId:ie.removeDependency,icon:this._getIcon("delete-dependency")}]}_createDefaultItem(s,m,_){return{commandId:s,text:m,icon:_}}show(s,m){this._menu.option("items",m||this._items),this._menu.option("position.offset",{x:s.x,y:s.y}),this._menu.option("position.collision","fit"),this._menu.show()}hide(){this._menu.hide()}isContextMenu(){return!0}}class hi{constructor(s){var m;this.collapsed=!1,this.key=s.key,this.children=s.children.map((_=>_.key)),this.parentKey=(m=s.parent)===null||m===void 0?void 0:m.key}hasChildren(){return this.children.length>0}removeChild(s){const m=this.children.indexOf(s.key);m>-1&&(this.children=this.children.splice(m,1))}equal(s){return!(!s||s.key!==this.key||s.parentKey!==this.parentKey||this.children.length!==s.children.length||this.children.some(((m,_)=>m!==s.children[_])))}}class gi{constructor(){this._resetHash()}clear(){this._resetHash()}applyNodes(s,m){this._rootValue!==m&&(this._resetHash(),this._rootValue=m),this._removeNonExistentNodes(s.map((_=>_.key))),s.forEach((_=>this._applyNode(_))),this._validateHash()}saveExpandedState(s){this._hasCollapsed=!1,this._forEachState((m=>{m.hasChildren()&&!s.includes(m.key)&&(m.collapsed=!0,this._hasCollapsed=!0)}))}getExpandedKeys(){if(this._hasCollapsed){const s=[];return this._forEachState((m=>{m.hasChildren()&&!m.collapsed&&s.push(m.key)})),s}return null}_resetHash(){this._nodeHash={},this._hasCollapsed=!1}_getNodeState(s){return this._nodeHash[s]}_removeNonExistentNodes(s){s&&this._forEachState((m=>{s.includes(m.key)||this._removeStateWithChildren(m)}))}_removeStateWithChildren(s){const m=this._getNodeState(s);if(m){m.children.forEach((D=>this._removeStateWithChildren(D)));const _=this._getNodeState(m.parentKey);_&&_.removeChild(m),delete this._nodeHash[s]}}_applyNode(s){const m=new hi(s),_=this._getNodeState(s.key);_!=null&&_.equal(m)||(this._nodeHash[s.key]=m,this._expandTreelineToNode(s.key))}_expandTreelineToNode(s){const m=this._getNodeState(s);let _=this._getNodeState(m==null?void 0:m.parentKey);for(;_;)_.collapsed=!1,_=this._getNodeState(_.parentKey)}_validateHash(){Object.keys(this._nodeHash).forEach((s=>{const m=this._getNodeState(s),_=m==null?void 0:m.parentKey;_!==this._rootValue&&!this._getNodeState(_)&&this._removeStateWithChildren(s)}))}_forEachState(s){Object.keys(this._nodeHash).forEach((m=>{const _=this._nodeHash[m];_&&s(_)}))}}const fi="dx-gantt-collapsable-row";class mi{constructor(s){this._gantt=s,this._$treeList=this._gantt._$treeList}getTreeList(){const{keyExpr:s,parentIdExpr:m}=this._gantt.option("tasks");return this._treeList=this._gantt._createComponent(this._$treeList,Un,{dataSource:this.createDataSource(this._gantt._tasksRaw,s),keyExpr:s,filterSyncEnabled:!0,parentIdExpr:m,columns:this.getColumns(),columnResizingMode:"nextColumn",height:this._getHeight(),width:this._gantt.option("taskListWidth"),selection:{mode:re.getSelectionMode(this._gantt.option("allowSelection"))},selectedRowKeys:re.getArrayFromOneElement(this._gantt.option("selectedRowKey")),sorting:this._gantt.option("sorting"),filterRow:this._gantt.option("filterRow"),headerFilter:this._gantt.option("headerFilter"),scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this._gantt.option("showRowLines"),rootValue:this._gantt.option("rootValue"),onContentReady:_=>{this._onContentReady(_)},onSelectionChanged:_=>{this._onSelectionChanged(_)},onRowCollapsed:_=>{this._onRowCollapsed(_)},onRowExpanded:_=>{this._onRowExpanded(_)},onRowPrepared:_=>{this._onRowPrepared(_)},onContextMenuPreparing:_=>{this._onContextMenuPreparing(_)},onRowClick:_=>{this.onRowClick(_)},onRowDblClick:_=>{this.onRowDblClick(_)},onNodesInitialized:_=>{this._onNodesInitialized(_)},_disableDeprecationWarnings:!0}),this._treeList}onAfterTreeListCreate(){this._postponedGanttInitRequired&&(this._initGanttOnContentReady({component:this._treeList}),delete this._postponedGanttInitRequired)}_onContentReady(s){!!this._treeList?this._initGanttOnContentReady(s):this._postponedGanttInitRequired=!0,this._gantt._onTreeListContentReady(s)}_initGanttOnContentReady(s){s.component.getDataSource()&&(this._gantt._initGanttView(),this._initScrollSync(s.component)),this._gantt._sortAndFilter(),this._gantt._sizeHelper.updateGanttRowHeights()}_onSelectionChanged(s){const m=s.currentSelectedRowKeys[0];this._gantt._setGanttViewOption("selectedRowKey",m),this._gantt._setOptionWithoutOptionChange("selectedRowKey",m),this._gantt._actionsManager.raiseSelectionChangedAction(m)}_onRowCollapsed(s){this._gantt._onTreeListRowExpandChanged(s,!1)}_onRowExpanded(s){this._gantt._onTreeListRowExpandChanged(s,!0)}_onRowPrepared(s){s.rowType==="data"&&s.node.children.length>0&&Y(s.rowElement).addClass(fi)}_onContextMenuPreparing(s){var m,_;if(s.target==="header")return;((m=s.row)===null||m===void 0?void 0:m.rowType)==="data"&&this.setOption("selectedRowKeys",[s.row.data[this._gantt.option("tasks.keyExpr")]]);const D={cancel:!1,event:s.event,type:"task",key:(_=s.row)===null||_===void 0?void 0:_.key,position:{x:s.event.pageX,y:s.event.pageY}};this._gantt._showPopupMenu(D),s.event.preventDefault()}_getHeight(){return ge(this._$treeList)?ge(this._$treeList):(this._gantt._hasHeight=ne(this._gantt.option("height"))&&this._gantt.option("height")!=="",this._gantt._hasHeight?"100%":"")}_initScrollSync(s){const m=s.getScrollable();m&&(m.off("scroll"),m.on("scroll",(_=>{this._onScroll(_)})))}_onScroll(s){const m=this._gantt._ganttView.getTaskAreaContainer();m.scrollTop!==s.component.scrollTop()&&(m.scrollTop=s.component.scrollTop())}_correctRowsViewRowHeight(s){const m=this._treeList._views&&this._treeList._views.rowsView;(m==null?void 0:m._rowHeight)!==s&&(m._rowHeight=s)}_skipUpdateTreeListDataSource(){return this._gantt.option("validation.autoUpdateParentTasks")}selectRows(s){this.setOption("selectedRowKeys",s)}scrollBy(s){const m=this._treeList.getScrollable();if(m){const _=s-m.scrollTop();Math.abs(_)>=2&&m.scrollBy({left:0,top:_})}}updateDataSource(s){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this._skipUpdateTreeListDataSource()||m)this.setDataSource(s);else if(_){const D=this._treeList.option("dataSource");this._gantt._onParentTasksRecalculated(D)}}setDataSource(s){this.setOption("dataSource",this.createDataSource(s))}createDataSource(s,m){return s&&new Ln({store:new Hn({data:s,key:m||this.getOption("keyExpr")})})}onRowClick(s){this._gantt._actionsManager.raiseTaskClickAction(s.key,s.event)}onRowDblClick(s){this._gantt._actionsManager.raiseTaskDblClickAction(s.key,s.event)&&this._gantt._ganttView._ganttViewCore.showTaskEditDialog()}saveExpandedKeys(){const s=this._treeList,m=s==null?void 0:s.getVisibleRows().length;if(m>0){const _=this.getAllNodes(),D=this.getOption("expandedRowKeys");if(D&&_.length!==m){const w=this.getNodesState();w.applyNodes(_,this.getOption("rootValue")),w.saveExpandedState(D)}}}_onNodesInitialized(s){const m=this.getNodesState(),_=m.getExpandedKeys(),D=this.getAllNodes();m.applyNodes(D,this.getOption("rootValue"));const E=m.getExpandedKeys();if(E&&this.setOption("expandedRowKeys",E),this.isExpandedStateChanged(_,E)){const w=D.reduce(((d,l)=>(d[l.key]=E?E.includes(l.key):!0,d)),{});this._gantt._ganttView.applyTasksExpandedState(w)}m.clear()}getNodesState(){return this._nodeState||(this._nodeState=new gi),this._nodeState}getAllNodes(){var s,m;const _=(s=this._treeList)===null||s===void 0||(s=s.getDataSource())===null||s===void 0?void 0:s.store();if(!_||!((m=this._treeList)!==null&&m!==void 0&&m.getNodeByKey))return[];const D=he(_.key());return _._array.map((E=>this._treeList.getNodeByKey(D(E)))).filter((E=>!!E))}isExpandedStateChanged(s,m){return s===null&&m===null?!1:(s==null?void 0:s.length)!==(m==null?void 0:m.length)?!0:s.some(((_,D)=>_!==m[D]))}getOffsetHeight(){return this._gantt._treeList._$element.get(0).offsetHeight}getRowHeight(){const s=this._treeList._$element.find(".dx-data-row");let m=s.length?Je(s.last().get(0)).height:34;return m||(m=34),this._correctRowsViewRowHeight(m),m}getHeaderHeight(){return Je(this._treeList._$element.find(".dx-treelist-headers").get(0)).height}getColumns(){const s=this._gantt.option("columns");if(s)for(let m=0;m<s.length;m++){const _=s[m];(_.dataField===this._gantt.option("tasks.keyExpr")||_.dataField===this._gantt.option("tasks.parentIdExpr"))&&!_.dataType&&(_.dataType="object")}return s}getSievedItems(){const s=this._treeList.getRootNode();if(!s)return;const m=[];re.convertTreeToList(s,m);const _=re.compileGettersByOption(this._gantt.option("tasks"));return this._gantt._validateSourceData("tasks",m).map(re.prepareMapHandler(_))}setOption(s,m){this._treeList&&this._treeList.option(s,m)}getOption(s){var m;return(m=this._treeList)===null||m===void 0?void 0:m.option(s)}onTaskInserted(s,m){if(ne(m)){const _=this.getOption("expandedRowKeys");_.indexOf(m)===-1&&(_.push(m),this.setOption("expandedRowKeys",_))}this.selectRows(re.getArrayFromOneElement(s)),this.setOption("focusedRowKey",s)}getDataSource(){var s;return(s=this._treeList)===null||s===void 0?void 0:s.getDataSource()}}var De={exports:{}};/*! For license information please see dx-gantt.min.js.LICENSE.txt */var yi=De.exports,nt;function Ti(){return nt||(nt=1,(function(B,s){(function(m,_){B.exports=_()})(yi,(()=>(()=>{var m={9279:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Browser=void 0;var l=(function(){function u(){}return u.IdentUserAgent=function(h,p){p===void 0&&(p=!1);var o=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],t="IE",n="Win",e={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(h&&h.length!==0){h=h.toLowerCase(),u.indentPlatformMajorVersion(h);try{for(var i={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},r="(?:/|\\s*)?",a="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",c="(?:"+a+")?",y={Safari:"applewebkit(?:.*?(?:version/"+a+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+r+c,Mozilla:"mozilla(?:.*rv:"+c+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+c,Firefox:"firefox"+r+c,Opera:"(?:opera|\\sopr)"+r+c,Opera10:"opera.*\\s*version"+r+c,IE:"msie\\s*"+c,Edge:"edge"+r+c},g=null,f=-1,T=0;T<o.length;T++){var v=o[T],k=new RegExp(y[v],"i").exec(h);if(k&&k.index>=0){if(g==="IE"&&f>=11&&v==="Safari")continue;(g=v)==="Opera10"&&(g="Opera");var b="trident"+r+c;f=u.GetBrowserVersion(h,k,b,u.getIECompatibleVersionString()),g==="Mozilla"&&f>=11&&(g="IE")}}g||(g=t);var C=f!==-1;C||(f=e[g]);var P=null,H=Number.MAX_VALUE;for(var x in i)if(Object.prototype.hasOwnProperty.call(i,x)){var I=x.substr(0,1)==="!",L=h.indexOf((I?x.substr(1):x).toLowerCase());L>=0&&(L<H||I)&&(H=I?0:L,P=i[x])}var F=h.toUpperCase().match("SM-[A-Z]"),K=F&&F.length>0;P==="WinPhone"&&f<9&&(f=Math.floor(u.getVersionFromTrident(h,"trident"+r+c))),!p&&g==="IE"&&f>7&&document.documentMode<f&&(f=document.documentMode),P==="WinPhone"&&(f=Math.max(9,f)),P||(P=n),P!==i["cpu os"]||C||(f=4),u.fillUserAgentInfo(o,g,f,P,K)}catch{u.fillUserAgentInfo(o,t,e[t],n)}}else u.fillUserAgentInfo(o,t,e[t],n)},u.GetBrowserVersion=function(h,p,o,t){var n=u.getVersionFromMatches(p);if(t){var e=u.getVersionFromTrident(h,o);if(t==="edge"||parseInt(t)===e)return e}return n},u.getIECompatibleVersionString=function(){if(document.compatible){for(var h=0;h<document.compatible.length;h++)if(document.compatible[h].userAgent==="IE"&&document.compatible[h].version)return document.compatible[h].version.toLowerCase()}return""},u.isTouchEnabled=function(){return u.hasTouchStart()||u.hasMaxTouchPoints()||u.hasMsMaxTouchPoints()},u.hasTouchStart=function(){return"ontouchstart"in window},u.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},u.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},u.hasNavigator=function(){return typeof navigator<"u"},u.fillUserAgentInfo=function(h,p,o,t,n){n===void 0&&(n=!1);for(var e=0;e<h.length;e++){var i=h[e];u[i]=i===p}u.Version=Math.floor(10*o)/10,u.MajorVersion=Math.floor(u.Version),u.WindowsPlatform=t==="Win"||t==="WinPhone",u.MacOSMobilePlatform=t==="MacMobile"||t==="Mac"&&u.isTouchEnabled(),u.MacOSPlatform=t==="Mac"&&!u.MacOSMobilePlatform,u.AndroidMobilePlatform=t==="Android",u.WindowsPhonePlatform=t==="WinPhone",u.WebKitFamily=u.Safari||u.Chrome||u.Opera&&u.MajorVersion>=15,u.NetscapeFamily=u.Netscape||u.Mozilla||u.Firefox,u.WebKitTouchUI=u.MacOSMobilePlatform||u.AndroidMobilePlatform;var r=u.IE&&u.MajorVersion>9&&u.WindowsPlatform&&u.UserAgent.toLowerCase().indexOf("touch")>=0;if(u.MSTouchUI=r||u.Edge&&!!window.navigator.maxTouchPoints,u.TouchUI=u.WebKitTouchUI||u.MSTouchUI,u.MobileUI=u.WebKitTouchUI||u.WindowsPhonePlatform,u.AndroidDefaultBrowser=u.AndroidMobilePlatform&&!u.Chrome,u.AndroidChromeBrowser=u.AndroidMobilePlatform&&u.Chrome,n&&(u.SamsungAndroidDevice=n),u.MSTouchUI){var a=u.UserAgent.toLowerCase().indexOf("arm;")>-1;u.VirtualKeyboardSupported=a||u.WindowsPhonePlatform}else u.VirtualKeyboardSupported=u.WebKitTouchUI;u.fillDocumentElementBrowserTypeClassNames(h)},u.indentPlatformMajorVersion=function(h){var p=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(h);p&&(u.PlaformMajorVersion=p[1])},u.getVersionFromMatches=function(h){var p=-1,o="";return h&&(h[1]&&(o+=h[1],h[2]&&(o+="."+h[2])),o!==""&&(p=parseFloat(o),isNaN(p)&&(p=-1))),p},u.getVersionFromTrident=function(h,p){var o=new RegExp(p,"i").exec(h);return u.getVersionFromMatches(o)+4},u.fillDocumentElementBrowserTypeClassNames=function(h){for(var p="",o=h.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),t=0;t<o.length;t++){var n=o[t];u[n]&&(p+="dx"+n+" ")}p+="dxBrowserVersion-"+u.MajorVersion,typeof document<"u"&&document&&document.documentElement&&(document.documentElement.className!==""&&(p=" "+p),document.documentElement.className+=p,u.Info=p)},u.getUserAgent=function(){return u.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},u.UserAgent=u.getUserAgent(),u._foo=u.IdentUserAgent(u.UserAgent),u})();d.Browser=l},6799:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExtendedMinMax=d.ExtendedMax=d.ExtendedMin=d.MinMaxNumber=d.MinMax=void 0;var u=l(655),h=function(e,i){this.minElement=e,this.maxElement=i};d.MinMax=h;var p=(function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return u.__extends(i,e),Object.defineProperty(i.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),i})(h);d.MinMaxNumber=p;var o=function(e,i){this.minElement=e,this.minValue=i};d.ExtendedMin=o;var t=function(e,i){this.maxElement=e,this.maxValue=i};d.ExtendedMax=t;var n=(function(e){function i(r,a,c,y){var g=e.call(this,r,c)||this;return g.minValue=a,g.maxValue=y,g}return u.__extends(i,e),i})(h);d.ExtendedMinMax=n},3604:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Margins=void 0;var u=l(655),h=(function(p){function o(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(o,p),o.empty=function(){return new o(0,0,0,0)},o.prototype.clone=function(){return new o(this.left,this.right,this.top,this.bottom)},o})(l(4125).Offsets);d.Margins=h},5596:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Metrics=void 0;var l=(function(){function u(){}return u.euclideanDistance=function(h,p){var o=h.x-p.x,t=h.y-p.y;return Math.sqrt(o*o+t*t)},u.manhattanDistance=function(h,p){return Math.abs(h.x-p.x)+Math.abs(h.y-p.y)},u})();d.Metrics=l},4125:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Offsets=void 0;var l=(function(){function u(h,p,o,t){this.left=h,this.right=p,this.top=o,this.bottom=t}return u.empty=function(){return new u(0,0,0,0)},Object.defineProperty(u.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),u.fromNumber=function(h){return new u(h,h,h,h)},u.fromOffsets=function(h){return new u(h.left,h.right,h.top,h.bottom)},u.fromSide=function(h,p){return new u(h,h,p,p)},u.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},u.prototype.toString=function(){return JSON.stringify(this)},u.prototype.isEmpty=function(){return this.left===0&&this.right===0&&this.top===0&&this.bottom===0},u.prototype.offset=function(h){return this.left+=h.left,this.right+=h.right,this.top+=h.top,this.bottom+=h.bottom,this},u.prototype.multiply=function(h,p,o,t){switch(arguments.length){case 1:return this.left*=h,this.right*=h,this.top*=h,this.bottom*=h,this;case 2:return this.left*=h,this.right*=h,this.top*=p,this.bottom*=p,this;case 4:return this.left*=h,this.right*=p,this.top*=o,this.bottom*=t,this}return this},u.prototype.clone=function(){return new u(this.left,this.right,this.top,this.bottom)},u.prototype.copyFrom=function(h){this.left=h.left,this.right=h.right,this.top=h.top,this.bottom=h.bottom},u.prototype.equals=function(h){return this.top===h.top&&this.bottom===h.bottom&&this.right===h.right&&this.left===h.left},u.prototype.applyConverter=function(h){return this.left=h(this.left),this.right=h(this.right),this.top=h(this.top),this.bottom=h(this.bottom),this},u})();d.Offsets=l},8900:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Point=void 0;var l=(function(){function u(h,p){this.x=h,this.y=p}return u.zero=function(){return new u(0,0)},u.fromNumber=function(h){return new u(h,h)},u.prototype.isZero=function(){return this.x===0&&this.y===0},u.prototype.toString=function(){return JSON.stringify(this)},u.prototype.copyFrom=function(h){this.x=h.x,this.y=h.y},u.prototype.clone=function(){return new u(this.x,this.y)},u.prototype.equals=function(h){return this.x===h.x&&this.y===h.y},u.prototype.offset=function(h,p){return this.x+=h,this.y+=p,this},u.prototype.offsetByPoint=function(h){return this.x+=h.x,this.y+=h.y,this},u.prototype.multiply=function(h,p){return this.x*=h,this.y*=p,this},u.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},u.prototype.applyConverter=function(h){return this.x=h(this.x),this.y=h(this.y),this},u.plus=function(h,p){return new u(h.x+p.x,h.y+p.y)},u.minus=function(h,p){return new u(h.x-p.x,h.y-p.y)},u.xComparer=function(h,p){return h.x-p.x},u.yComparer=function(h,p){return h.y-p.y},u.equals=function(h,p){return h.x===p.x&&h.y===p.y},u})();d.Point=l},6353:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Size=void 0;var l=(function(){function u(h,p){this.width=h,this.height=p}return u.empty=function(){return new u(0,0)},u.fromNumber=function(h){return new u(h,h)},u.initByCommonAction=function(h){var p=function(t){return t.width},o=function(t){return t.height};return new u(h(p,o),h(o,p))},u.prototype.isEmpty=function(){return this.width===0&&this.height===0},u.prototype.toString=function(){return JSON.stringify(this)},u.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},u.prototype.offset=function(h,p){return this.width=this.width+h,this.height=this.height+p,this},u.prototype.multiply=function(h,p){return this.width*=h,this.height*=p,this},u.prototype.equals=function(h){return this.width===h.width&&this.height===h.height},u.prototype.clone=function(){return new u(this.width,this.height)},u.prototype.copyFrom=function(h){this.width=h.width,this.height=h.height},u.prototype.applyConverter=function(h){return this.width=h(this.width),this.height=h(this.height),this},u.equals=function(h,p){return h.width===p.width&&h.height===p.height},u})();d.Size=l},2217:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AttrUtils=void 0;var u=l(9279),h=(function(){function p(){}return p.setElementAttribute=function(o,t,n){o.setAttribute&&(u.Browser.IE&&u.Browser.MajorVersion>=11&&t.toLowerCase()==="src"&&o.setAttribute(t,""),o.setAttribute(t,n))},p.setStyleAttribute=function(o,t,n){o.setProperty&&o.setProperty(t,n,"")},p.getElementAttribute=function(o,t){return o.getAttribute(t)},p.getStyleAttribute=function(o,t){if(o.getPropertyValue){if(u.Browser.Firefox)try{return o.getPropertyValue(t)}catch{return o[t]}return o.getPropertyValue(t)}return null},p.removeElementAttribute=function(o,t){o.removeAttribute&&o.removeAttribute(t)},p.removeStyleAttribute=function(o,t){o.removeProperty&&o.removeProperty(t)},p.changeElementStyleAttribute=function(o,t,n){p.saveStyleAttributeInElement(o,t),p.setStyleAttribute(o.style,t,n)},p.restoreElementStyleAttribute=function(o,t){var n="dxwu_saved"+t,e=o.style;if(p.isExistsAttributeInElement(o,n)){var i=p.getElementAttribute(o,n);return i===p.emptyObject||i===null?p.removeStyleAttribute(e,t):p.setStyleAttribute(e,t,i),p.removeElementAttribute(o,n),!0}return!1},p.saveStyleAttributeInElement=function(o,t){var n="dxwu_saved"+t,e=o.style;if(!p.isExistsAttributeInElement(o,n)){var i=p.getStyleAttribute(e,t);p.setElementAttribute(o,n,p.isAttributeExists(i)?i:p.emptyObject)}},p.isExistsAttributeInElement=function(o,t){var n=p.getElementAttribute(o,t);return p.isAttributeExists(n)},p.isAttributeExists=function(o){return o!==null&&o!==""},p.emptyObject="DxEmptyValue",p})();d.AttrUtils=h},2491:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.numberToStringHex=d.numberToStringBin=d.isOdd=d.isEven=d.isNonNullString=d.isString=d.isNumber=d.boolToString=d.boolToInt=d.isDefined=void 0;var u=l(49);d.isDefined=function(h){return h!=null},d.boolToInt=function(h){return h?1:0},d.boolToString=function(h){return h?"1":"0"},d.isNumber=function(h){return typeof h=="number"},d.isString=function(h){return typeof h=="string"},d.isNonNullString=function(h){return!!h},d.isEven=function(h){return h%2!=0},d.isOdd=function(h){return h%2==0},d.numberToStringBin=function(h,p){return p===void 0&&(p=0),u.StringUtils.padLeft(h.toString(2),p,"0")},d.numberToStringHex=function(h,p){return p===void 0&&(p=0),u.StringUtils.padLeft(h.toString(16),p,"0")}},4170:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Equals=d.Comparers=void 0;var l=(function(){function h(){}return h.number=function(p,o){return p-o},h.string=function(p,o){return p===o?0:p>o?1:-1},h.stringIgnoreCase=function(p,o){return(p=p.toLowerCase())===(o=o.toLowerCase())?0:p>o?1:-1},h})();d.Comparers=l;var u=(function(){function h(){}return h.simpleType=function(p,o){return p===o},h.object=function(p,o){return p&&o&&(p===o||p.equals(o))},h})();d.Equals=u},6907:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DomUtils=void 0;var u=l(9279),h=l(2491),p=l(8679),o=l(49),t=(function(){function i(){}return i.clearInnerHtml=function(r){for(;r.firstChild;)r.removeChild(r.firstChild)},i.setStylePosition=function(r,a){r.left=p.MathUtils.round(a.x,3)+"px",r.top=p.MathUtils.round(a.y,3)+"px"},i.setStyleSize=function(r,a){r.width=p.MathUtils.round(a.width,3)+"px",r.height=p.MathUtils.round(a.height,3)+"px"},i.setStyleSizeAndPosition=function(r,a){i.setStylePosition(r,a),i.setStyleSize(r,a)},i.hideNode=function(r){if(r){var a=r.parentNode;a&&a.removeChild(r)}},i.isHTMLElementNode=function(r){return r.nodeType===Node.ELEMENT_NODE},i.isTextNode=function(r){return r.nodeType===Node.TEXT_NODE},i.isElementNode=function(r){return r.nodeType===Node.ELEMENT_NODE},i.isHTMLTableRowElement=function(r){return r.tagName==="TR"},i.isItParent=function(r,a){if(!r||!a)return!1;for(;a;){if(a===r)return!0;if(a.tagName==="BODY")return!1;a=a.parentNode}return!1},i.getParentByTagName=function(r,a){for(a=a.toUpperCase();r;){if(r.tagName==="BODY")return null;if(r.tagName===a)return r;r=r.parentNode}return null},i.getDocumentScrollTop=function(){var r=u.Browser.IE&&i.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollTop>0;return u.Browser.WebKitFamily||u.Browser.Edge||r?u.Browser.MacOSMobilePlatform?window.pageYOffset:u.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},i.getDocumentScrollLeft=function(){var r=u.Browser.IE&&i.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollLeft>0;return u.Browser.Edge||r?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:u.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},i.getCurrentStyle=function(r){if(r.currentStyle)return r.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(r,null);if(!a&&u.Browser.Firefox&&window.frameElement){for(var c=[],y=window.frameElement;!(a=document.defaultView.getComputedStyle(r,null));)c.push([y,y.style.display]),y.style.setProperty("display","block","important"),y=y.tagName==="BODY"?y.ownerDocument.defaultView.frameElement:y.parentNode;a=(function(T){if(typeof T!="object"||!h.isDefined(T))return T;var v={};for(var k in T)v[k]=T[k];return v})(a);for(var g=void 0,f=0;g=c[f];f++)g[0].style.display=g[1];document.body.offsetWidth}return a}return window.getComputedStyle(r,null)},i.setFocus=function(r){function a(){try{r.focus(),u.Browser.IE&&document.activeElement!==r&&r.focus()}catch{}}u.Browser.MacOSMobilePlatform?a():setTimeout((function(){a()}),100)},i.hasClassName=function(r,a){try{var c=a.split(" "),y=r.classList;if(y){for(var g=c.length-1;g>=0;g--)if(!y.contains(c[g]))return!1}else{var f=r.getAttribute&&r.getAttribute("class");if(!f)return!1;var T=f.split(" ");for(g=c.length-1;g>=0;g--)if(T.indexOf(c[g])<0)return!1}return!0}catch{return!1}},i.addClassName=function(r,a){if(!i.hasClassName(r,a)){var c=r.getAttribute&&r.getAttribute("class");r.setAttribute("class",c===""?a:c+" "+a)}},i.removeClassName=function(r,a){var c=" "+(r.getAttribute&&r.getAttribute("class"))+" ",y=c.replace(" "+a+" "," ");c.length!==y.length&&r.setAttribute("class",o.StringUtils.trim(y))},i.toggleClassName=function(r,a,c){c===void 0?i.hasClassName(r,a)?i.removeClassName(r,a):i.addClassName(r,a):c?i.addClassName(r,a):i.removeClassName(r,a)},i.pxToInt=function(r){return n(r,parseInt)},i.pxToFloat=function(r){return n(r,parseFloat)},i.getAbsolutePositionY=function(r){function a(c){return Math.round(c.getBoundingClientRect().top+i.getDocumentScrollTop())}return r?u.Browser.IE?(function(c){return u.Browser.IE&&c.parentNode===null?0:c.getBoundingClientRect().top+i.getDocumentScrollTop()})(r):u.Browser.Firefox&&u.Browser.Version>=3?a(r):u.Browser.NetscapeFamily&&(!u.Browser.Firefox||u.Browser.Version<3)?(function(c){for(var y=e(c,!1),g=!0;c!=null;){if(y+=c.offsetTop,g||c.offsetParent==null||(y-=c.scrollTop),!g&&u.Browser.Firefox){var f=i.getCurrentStyle(c);c.tagName==="DIV"&&f.overflow!=="visible"&&(y+=i.pxToInt(f.borderTopWidth))}g=!1,c=c.offsetParent}return y})(r):u.Browser.WebKitFamily||u.Browser.Edge?a(r):(function(c){for(var y=0,g=!0;c!=null;)y+=c.offsetTop,g||c.offsetParent==null||(y-=c.scrollTop),g=!1,c=c.offsetParent;return y})(r):0},i.getAbsolutePositionX=function(r){function a(c){return Math.round(c.getBoundingClientRect().left+i.getDocumentScrollLeft())}return r?u.Browser.IE?(function(c){return u.Browser.IE&&c.parentNode===null?0:c.getBoundingClientRect().left+i.getDocumentScrollLeft()})(r):u.Browser.Firefox&&u.Browser.Version>=3?a(r):u.Browser.Opera&&u.Browser.Version<=12?(function(c){for(var y=!0,g=e(c,!0);c!=null;)g+=c.offsetLeft,y||(g-=c.scrollLeft),c=c.offsetParent,y=!1;return g+=document.body.scrollLeft})(r):u.Browser.NetscapeFamily&&(!u.Browser.Firefox||u.Browser.Version<3)?(function(c){for(var y=e(c,!0),g=!0;c!=null;){if(y+=c.offsetLeft,g||c.offsetParent==null||(y-=c.scrollLeft),!g&&u.Browser.Firefox){var f=i.getCurrentStyle(c);c.tagName==="DIV"&&f.overflow!=="visible"&&(y+=i.pxToInt(f.borderLeftWidth))}g=!1,c=c.offsetParent}return y})(r):u.Browser.WebKitFamily||u.Browser.Edge?a(r):(function(c){for(var y=0,g=!0;c!=null;)y+=c.offsetLeft,g||c.offsetParent==null||(y-=c.scrollLeft),g=!1,c=c.offsetParent;return y})(r):0},i.isInteractiveControl=function(r){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(r.tagName)>-1},i.getClearClientHeight=function(r){return r.offsetHeight-(i.getTopBottomPaddings(r)+i.getVerticalBordersWidth(r))},i.getTopBottomPaddings=function(r,a){var c=a||i.getCurrentStyle(r);return i.pxToInt(c.paddingTop)+i.pxToInt(c.paddingBottom)},i.getVerticalBordersWidth=function(r,a){h.isDefined(a)||(a=u.Browser.IE&&u.Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(r):i.getCurrentStyle(r));var c=0;return a.borderTopStyle!=="none"&&(c+=i.pxToFloat(a.borderTopWidth)),a.borderBottomStyle!=="none"&&(c+=i.pxToFloat(a.borderBottomWidth)),c},i.getNodes=function(r,a){for(var c=r.all||r.getElementsByTagName("*"),y=[],g=0;g<c.length;g++){var f=c[g];a(f)&&y.push(f)}return y},i.getChildNodes=function(r,a){for(var c=r.childNodes,y=[],g=0;g<c.length;g++){var f=c[g];a(f)&&y.push(f)}return y},i.getNodesByClassName=function(r,a){if(r.querySelectorAll){var c=r.querySelectorAll("."+a),y=[];return c.forEach((function(g){return y.push(g)})),y}return i.getNodes(r,(function(g){return i.hasClassName(g,a)}))},i.getChildNodesByClassName=function(r,a){return r.querySelectorAll?(function(c,y){for(var g=[],f=0;f<c.length;f++){var T=c[f];y(T)&&g.push(T)}return g})(r.querySelectorAll("."+a),(function(c){return c.parentNode===r})):i.getChildNodes(r,(function(c){return!!i.isElementNode(c)&&h.isNonNullString(c.className)&&i.hasClassName(c,c.className)}))},i.getVerticalScrollBarWidth=function(){if(i.verticalScrollBarWidth===void 0){var r=document.createElement("DIV");r.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(r);var a=document.createElement("P");r.appendChild(a),a.style.cssText="width: 100%; height: 200px;";var c=a.offsetWidth;r.style.overflow="scroll";var y=a.offsetWidth;c===y&&(y=r.clientWidth),i.verticalScrollBarWidth=c-y,document.body.removeChild(r)}return i.verticalScrollBarWidth},i.getHorizontalBordersWidth=function(r,a){h.isDefined(a)||(a=u.Browser.IE&&window.getComputedStyle?window.getComputedStyle(r):i.getCurrentStyle(r));var c=0;return a.borderLeftStyle!=="none"&&(c+=i.pxToFloat(a.borderLeftWidth)),a.borderRightStyle!=="none"&&(c+=i.pxToFloat(a.borderRightWidth)),c},i.getFontFamiliesFromCssString=function(r){return r.split(",").map((function(a){return o.StringUtils.trim(a.replace(/'|"/gi,""))}))},i.getInnerText=function(r){if(u.Browser.Safari&&u.Browser.MajorVersion<=5){i.html2PlainTextFilter===null&&(i.html2PlainTextFilter=document.createElement("DIV"),i.html2PlainTextFilter.style.width="0",i.html2PlainTextFilter.style.height="0",i.html2PlainTextFilter.style.overflow="visible",i.html2PlainTextFilter.style.display="none",document.body.appendChild(i.html2PlainTextFilter));var a=i.html2PlainTextFilter;a.innerHTML=r.innerHTML,a.style.display="";var c=a.innerText;return a.style.display="none",c}return u.Browser.NetscapeFamily||u.Browser.WebKitFamily||u.Browser.IE&&u.Browser.Version>=9||u.Browser.Edge?r.textContent:r.innerText},i.html2PlainTextFilter=null,i.verticalScrollBarWidth=void 0,i})();function n(i,r){var a=0;if(h.isDefined(i)&&i!=="")try{var c=i.indexOf("px");c>-1&&(a=r(i.substr(0,c)))}catch{}return a}function e(i,r){for(var a=0,c=!0;i!=null&&i.tagName!=="BODY";){var y=t.getCurrentStyle(i);if(y.position==="absolute")break;c||i.tagName!=="DIV"||y.position!==""&&y.position!=="static"||(a-=r?i.scrollLeft:i.scrollTop),i=i.parentNode,c=!1}return a}d.DomUtils=t},9712:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EncodeUtils=void 0;var l=(function(){function u(){}return u.encodeHtml=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},u.decodeHtml=function(h){return h.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},u.prepareTextForRequest=function(h){return h.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},u.prepareTextForCallBackRequest=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},u.decodeViaTextArea=function(h){var p=document.createElement("TEXTAREA");return p.innerHTML=h,p.value},u})();d.EncodeUtils=l},3714:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EvtUtils=void 0;var u=l(9279),h=l(2491),p=l(6907),o=l(1632),t=(function(){function n(){}return n.preventEvent=function(e){e.cancelable&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},n.getEventSource=function(e){return h.isDefined(e)?n.getEventSourceCore(e):null},n.getEventSourceByPosition=function(e){if(!h.isDefined(e))return null;if(!document.elementFromPoint)return n.getEventSourceCore(e);var i=n.getEventX(e)-(n.clientEventRequiresDocScrollCorrection()?p.DomUtils.getDocumentScrollLeft():0),r=n.getEventY(e)-(n.clientEventRequiresDocScrollCorrection()?p.DomUtils.getDocumentScrollTop():0);return i===void 0||r===void 0?n.getEventSourceCore(e):document.elementFromPoint(i,r)},n.getEventSourceCore=function(e){return e.srcElement?e.srcElement:e.target},n.getMouseWheelEventName=function(){return u.Browser.Safari?"mousewheel":u.Browser.NetscapeFamily&&u.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},n.isLeftButtonPressed=function(e){return!!o.TouchUtils.isTouchEvent(e)||!!(e=u.Browser.IE&&h.isDefined(event)?event:e)&&(u.Browser.IE&&u.Browser.Version<11?!!u.Browser.MSTouchUI||e.button%2==1:u.Browser.WebKitFamily?e.type==="pointermove"||e.type==="pointerenter"||e.type==="pointerleave"?e.buttons===1:e.which===1:u.Browser.NetscapeFamily||u.Browser.Edge||u.Browser.IE&&u.Browser.Version>=11?n.isMoveEventName(e.type)?e.buttons===1:e.which===1:!u.Browser.Opera||e.button===0)},n.isMoveEventName=function(e){return e===o.TouchUtils.touchMouseMoveEventName||e===n.getMoveEventName()},n.getMoveEventName=function(){return window.PointerEvent?"pointermove":u.Browser.TouchUI?"touchmove":"mousemove"},n.preventEventAndBubble=function(e){n.preventEvent(e),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},n.clientEventRequiresDocScrollCorrection=function(){var e=u.Browser.Safari&&u.Browser.Version<3,i=u.Browser.MacOSMobilePlatform&&u.Browser.Version<5.1;return u.Browser.AndroidDefaultBrowser||u.Browser.AndroidChromeBrowser||!(e||i)},n.getEventX=function(e){return o.TouchUtils.isTouchEvent(e)?o.TouchUtils.getEventX(e):e.clientX+(n.clientEventRequiresDocScrollCorrection()?p.DomUtils.getDocumentScrollLeft():0)},n.getEventY=function(e){return o.TouchUtils.isTouchEvent(e)?o.TouchUtils.getEventY(e):e.clientY+(n.clientEventRequiresDocScrollCorrection()?p.DomUtils.getDocumentScrollTop():0)},n.cancelBubble=function(e){e.cancelBubble=!0},n.getWheelDelta=function(e){var i;return i=u.Browser.NetscapeFamily&&u.Browser.MajorVersion<17?-e.detail:u.Browser.Safari?e.wheelDelta:-e.deltaY,u.Browser.Opera&&u.Browser.Version<9&&(i=-i),i},n})();d.EvtUtils=t},9937:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.JsonUtils=void 0;var l=(function(){function u(){}return u.isValid=function(h){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(h.replace(/"(\\.|[^"\\])*"/g,""))},u})();d.JsonUtils=l},2153:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.KeyCode=d.ModifierKey=d.KeyUtils=void 0;var u,h,p=l(9279),o=l(9712),t=l(49),n=(function(){function e(){}return e.getKeyModifiers=function(i){var r=0;return i.altKey&&(r|=u.Alt),i.ctrlKey&&(r|=u.Ctrl),i.shiftKey&&(r|=u.Shift),i.metaKey&&(r|=u.Meta),r},e.getShortcutCode=function(i,r,a,c,y){var g=i;return g|=r?u.Ctrl:0,g|=a?u.Shift:0,g|=c?u.Alt:0,g|=y?u.Meta:0},e.getShortcutCodeByEvent=function(i){return e.getShortcutCode(e.getEventKeyCode(i),i.ctrlKey,i.shiftKey,i.altKey,!!p.Browser.MacOSPlatform&&i.metaKey)},e.getEventKeyCode=function(i){return p.Browser.NetscapeFamily||p.Browser.Opera?i.which:i.keyCode},e.parseShortcutString=function(i){if(!i)return 0;var r=!1,a=!1,c=!1,y=!1,g=null,f=i.toString().split("+");if(f.length>0)for(var T=0;T<f.length;T++){var v=t.StringUtils.trim(f[T].toUpperCase());switch(v){case"CONTROL":case"CONTROLKEY":case"CTRL":r=!0;break;case"SHIFT":case"SHIFTKEY":a=!0;break;case"ALT":c=!0;break;case"CMD":y=!0;break;case"F1":g=h.F1;break;case"F2":g=h.F2;break;case"F3":g=h.F3;break;case"F4":g=h.F4;break;case"F5":g=h.F5;break;case"F6":g=h.F6;break;case"F7":g=h.F7;break;case"F8":g=h.F8;break;case"F9":g=h.F9;break;case"F10":g=h.F10;break;case"F11":g=h.F11;break;case"F12":g=h.F12;break;case"RETURN":case"ENTER":g=h.Enter;break;case"HOME":g=h.Home;break;case"END":g=h.End;break;case"LEFT":g=h.Left;break;case"RIGHT":g=h.Right;break;case"UP":g=h.Up;break;case"DOWN":g=h.Down;break;case"PAGEUP":g=h.PageUp;break;case"PAGEDOWN":g=h.PageDown;break;case"SPACE":g=h.Space;break;case"TAB":g=h.Tab;break;case"BACKSPACE":case"BACK":g=h.Backspace;break;case"CONTEXT":g=h.ContextMenu;break;case"ESCAPE":case"ESC":g=h.Esc;break;case"DELETE":case"DEL":g=h.Delete;break;case"INSERT":case"INS":g=h.Insert;break;case"PLUS":g=43;break;default:g=v.charCodeAt(0)}}else alert(o.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return e.getShortcutCode(g,r,a,c,y)},e})();d.KeyUtils=n,(function(e){e[e.None=0]="None",e[e.Ctrl=65536]="Ctrl",e[e.Shift=262144]="Shift",e[e.Alt=1048576]="Alt",e[e.Meta=16777216]="Meta"})(u=d.ModifierKey||(d.ModifierKey={})),(function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key_0=48]="Key_0",e[e.Key_1=49]="Key_1",e[e.Key_2=50]="Key_2",e[e.Key_3=51]="Key_3",e[e.Key_4=52]="Key_4",e[e.Key_5=53]="Key_5",e[e.Key_6=54]="Key_6",e[e.Key_7=55]="Key_7",e[e.Key_8=56]="Key_8",e[e.Key_9=57]="Key_9",e[e.Key_a=65]="Key_a",e[e.Key_b=66]="Key_b",e[e.Key_c=67]="Key_c",e[e.Key_d=68]="Key_d",e[e.Key_e=69]="Key_e",e[e.Key_f=70]="Key_f",e[e.Key_g=71]="Key_g",e[e.Key_h=72]="Key_h",e[e.Key_i=73]="Key_i",e[e.Key_j=74]="Key_j",e[e.Key_k=75]="Key_k",e[e.Key_l=76]="Key_l",e[e.Key_m=77]="Key_m",e[e.Key_n=78]="Key_n",e[e.Key_o=79]="Key_o",e[e.Key_p=80]="Key_p",e[e.Key_q=81]="Key_q",e[e.Key_r=82]="Key_r",e[e.Key_s=83]="Key_s",e[e.Key_t=84]="Key_t",e[e.Key_u=85]="Key_u",e[e.Key_v=86]="Key_v",e[e.Key_w=87]="Key_w",e[e.Key_x=88]="Key_x",e[e.Key_y=89]="Key_y",e[e.Key_z=90]="Key_z",e[e.Windows=91]="Windows",e[e.ContextMenu=93]="ContextMenu",e[e.Numpad_0=96]="Numpad_0",e[e.Numpad_1=97]="Numpad_1",e[e.Numpad_2=98]="Numpad_2",e[e.Numpad_3=99]="Numpad_3",e[e.Numpad_4=100]="Numpad_4",e[e.Numpad_5=101]="Numpad_5",e[e.Numpad_6=102]="Numpad_6",e[e.Numpad_7=103]="Numpad_7",e[e.Numpad_8=104]="Numpad_8",e[e.Numpad_9=105]="Numpad_9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote"})(h=d.KeyCode||(d.KeyCode={}))},2940:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ListUtils=void 0;var u=l(6799),h=l(4170),p=(function(){function o(){}return o.remove=function(t,n){var e=t.indexOf(n,0);e>=0&&t.splice(e,1)},o.removeBy=function(t,n){for(var e=t.length,i=0;i<e;i++)if(n(t[i],i))return t.splice(i,1)[0];return null},o.shallowCopy=function(t){return t.slice()},o.deepCopy=function(t){return o.map(t,(function(n){return n.clone()}))},o.initByValue=function(t,n){for(var e=[];t>0;t--)e.push(n);return e},o.initByCallback=function(t,n){for(var e=[],i=0;i<t;i++)e.push(n(i));return e},o.forEachOnInterval=function(t,n){for(var e=t.end,i=t.start;i<e;i++)n(i)},o.reverseForEachOnInterval=function(t,n){for(var e=t.start,i=t.end-1;i>=e;i--)n(i)},o.reducedMap=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=[],a=e;a<i;a++){var c=n(t[a],a);c!==null&&r.push(c)}return r},o.filter=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=[],a=e;a<i;a++){var c=t[a];n(c,a)&&r.push(c)}return r},o.map=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=[],a=e;a<i;a++)r.push(n(t[a],a));return r},o.indexBy=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=e;r<i;r++)if(n(t[r],r))return r;return-1},o.reverseIndexBy=function(t,n,e,i){e===void 0&&(e=t.length-1),i===void 0&&(i=0);for(var r=e;r>=i;r--)if(n(t[r],r))return r;return-1},o.elementBy=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);var r=o.indexBy(t,n,e,i);return r<0?null:t[r]},o.reverseElementBy=function(t,n,e,i){e===void 0&&(e=t.length-1),i===void 0&&(i=0);var r=o.reverseIndexBy(t,n,e,i);return r<0?null:t[r]},o.last=function(t){return t[t.length-1]},o.setLast=function(t,n){return t[t.length-1]=n},o.incLast=function(t){return++t[t.length-1]},o.decLast=function(t){return--t[t.length-1]},o.equals=function(t,n){return t.length===n.length&&o.allOf2(t,n,(function(e,i){return e.equals(i)}))},o.equalsByReference=function(t,n){var e=t.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0},o.unique=function(t,n,e,i){e===void 0&&(e=n),i===void 0&&(i=function(){});var r=t.length;if(r===0)return[];var a=(t=t.sort(n))[0],c=o.reducedMap(t,(function(y){return e(a,y)!==0?(a=y,y):(i(y),null)}),1,r);return c.unshift(t[0]),c},o.uniqueNumber=function(t){t=t.sort(h.Comparers.number);for(var n=Number.NaN,e=t.length-1;e>=0;e--)n===t[e]?t.splice(e,1):n=t[e];return t},o.forEach=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=e;r<i;r++)n(t[r],r)},o.forEach2=function(t,n,e,i,r){i===void 0&&(i=0),r===void 0&&(r=t.length);for(var a=i;a<r;a++)e(t[a],n[a],a)},o.reverseForEach=function(t,n,e,i){e===void 0&&(e=t.length-1),i===void 0&&(i=0);for(var r=e;r>=i;r--)n(t[r],r)},o.reverseIndexOf=function(t,n,e,i){e===void 0&&(e=t.length-1),i===void 0&&(i=0);for(var r=e;r>=i;r--)if(t[r]===n)return r;return-1},o.accumulate=function(t,n,e,i,r){i===void 0&&(i=0),r===void 0&&(r=t.length);for(var a=n,c=i;c<r;c++)a=e(a,t[c],c);return a},o.accumulateNumber=function(t,n,e,i,r){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=t.length);for(var a=e,c=i;c<r;c++)a+=n(t[c],c,a);return a},o.anyOf=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=e;r<i;r++)if(n(t[r],r))return!0;return!1},o.unsafeAnyOf=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=e;r<i;r++){var a=n(t[r],r);if(a)return a}return null},o.reverseAnyOf=function(t,n,e,i){e===void 0&&(e=t.length-1),i===void 0&&(i=0);for(var r=e;r>=i;r--)if(n(t[r],r))return!0;return!1},o.unsafeReverseAnyOf=function(t,n,e,i){e===void 0&&(e=t.length-1),i===void 0&&(i=0);for(var r=e;r>=i;r--){var a=n(t[r],r);if(a)return a}return null},o.anyOf2=function(t,n,e,i,r){i===void 0&&(i=0),r===void 0&&(r=t.length);for(var a=i;a<r;a++)if(e(t[a],n[a],a))return!0;return!1},o.allOf=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);for(var r=e;r<i;r++)if(!n(t[r],r))return!1;return!0},o.allOf2=function(t,n,e,i,r){i===void 0&&(i=0),r===void 0&&(r=t.length);for(var a=i;a<r;a++)if(!e(t[a],n[a],a))return!1;return!0},o.allOfOnInterval=function(t,n){for(var e=t.end,i=t.start;i<e;i++)if(!n(i))return!1;return!0},o.addListOnTail=function(t,n){for(var e=0,i=void 0;i=n[e];e++)t.push(i);return t},o.joinLists=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return o.accumulate(n,[],(function(i,r){return o.addListOnTail(i,t(r)),i}))},o.push=function(t,n){return t.push(n),t},o.countIf=function(t,n){return o.accumulateNumber(t,(function(e,i){return n(e,i)?1:0}))},o.clear=function(t){t.splice(0)},o.merge=function(t,n,e,i,r,a){if(r===void 0&&(r=0),a===void 0&&(a=t.length),t=t.slice(r,a),a-r<2)return t;for(var c=(t=t.sort(n))[r],y=[c],g=r+1;g<a;g++){var f=t[g];e(c,f)?i(c,f):(c=f,y.push(c))}return y},o.min=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);var r=o.minExtended(t,n,e,i);return r?r.minElement:null},o.max=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);var r=o.maxExtended(t,n,e,i);return r?r.maxElement:null},o.minMax=function(t,n,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);var r=o.minMaxExtended(t,n,e,i);return r?new u.MinMax(r.minElement,r.maxElement):null},o.minExtended=function(t,n,e,i){if(e===void 0&&(e=0),i===void 0&&(i=t.length),t.length===0)return null;for(var r=t[e],a=n(r),c=e+1;c<i;c++){var y=t[c],g=n(y);g<a&&(a=g,r=y)}return new u.ExtendedMin(r,a)},o.maxExtended=function(t,n,e,i){if(e===void 0&&(e=0),i===void 0&&(i=t.length),t.length===0)return null;for(var r=t[e],a=n(r),c=e+1;c<i;c++){var y=t[c],g=n(y);g>a&&(a=g,r=y)}return new u.ExtendedMax(r,a)},o.minMaxExtended=function(t,n,e,i){if(e===void 0&&(e=0),i===void 0&&(i=t.length),t.length===0)return null;for(var r=t[e],a=r,c=n(r),y=c,g=e+1;g<i;g++){var f=t[g],T=n(f);T<c?(c=T,r=f):T>y&&(y=T,a=f)}return new u.ExtendedMinMax(r,c,a,y)},o.minByCmp=function(t,n,e,i){if(e===void 0&&(e=0),i===void 0&&(i=t.length),t.length===0)return null;for(var r=t[e],a=e+1;a<i;a++){var c=t[a];n(c,r)<0&&(r=c)}return r},o.maxByCmp=function(t,n,e,i){if(e===void 0&&(e=0),i===void 0&&(i=t.length),t.length===0)return null;for(var r=t[e],a=e+1;a<i;a++){var c=t[a];n(c,r)>0&&(r=c)}return r},o.minMaxByCmp=function(t,n,e,i){if(e===void 0&&(e=0),i===void 0&&(i=t.length),t.length===0)return null;for(var r=t[e],a=r,c=e+1;c<i;c++){var y=t[c],g=n(y,r);g>0?a=y:g<0&&(r=y)}return new u.MinMax(r,a)},o})();d.ListUtils=p},8679:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MathUtils=void 0;var u=l(2940),h=(function(){function p(){}return p.round=function(o,t){t===void 0&&(t=0);var n=p.powFactor[t];return Math.round(o*n)/n},p.numberCloseTo=function(o,t,n){return n===void 0&&(n=1e-5),Math.abs(o-t)<n},p.restrictValue=function(o,t,n){return n<t&&(n=t),o>n?n:o<t?t:o},p.getRandomInt=function(o,t){return Math.floor(Math.random()*(t-o+1))+o},p.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(o){var t=16*Math.random()|0;return(o==="x"?t:3&t|8).toString(16)}))},p.powFactor=u.ListUtils.initByCallback(20,(function(o){return Math.pow(10,o)})),p.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],p})();d.MathUtils=h},49:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StringUtils=void 0;var l=(function(){function u(){}return u.isAlpha=function(h){return h>="a"&&h<="z"||h>="A"&&h<="Z"},u.isDigit=function(h){return h>="0"&&h<="9"},u.stringHashCode=function(h){var p=0;if(h.length===0)return p;for(var o=h.length,t=0;t<o;t++)p=(p<<5)-p+h.charCodeAt(t),p|=0;return p},u.endsAt=function(h,p){var o=h.length-1,t=p.length-1,n=o-t;if(n<0)return!1;for(;o>=n;o--,t--)if(h[o]!==p[t])return!1;return!0},u.startsAt=function(h,p){return h.substr(0,p.length)===p},u.stringInLowerCase=function(h){return h.toLowerCase()===h},u.stringInUpperCase=function(h){return h.toUpperCase()===h},u.atLeastOneSymbolInUpperCase=function(h){for(var p=0,o=void 0;o=h[p];p++)if(u.stringInUpperCase(o)&&!u.stringInLowerCase(o))return!0;return!1},u.getSymbolFromEnd=function(h,p){return h[h.length-p]},u.trim=function(h,p){if(p===void 0)return u.trimInternal(h,!0,!0);var o=p.join("");return h.replace(new RegExp("(^["+o+"]*)|(["+o+"]*$)","g"),"")},u.trimStart=function(h,p){if(p===void 0)return u.trimInternal(h,!0,!1);var o=p.join("");return h.replace(new RegExp("^["+o+"]*","g"),"")},u.trimEnd=function(h,p){if(p===void 0)return u.trimInternal(h,!1,!0);var o=p.join("");return h.replace(new RegExp("["+o+"]*$","g"),"")},u.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},u.repeat=function(h,p){return new Array(p<=0?0:p+1).join(h)},u.isNullOrEmpty=function(h){return!h||!h.length},u.padLeft=function(h,p,o){return u.repeat(o,Math.max(0,p-h.length))+h},u.trimInternal=function(h,p,o){var t=h.length;if(!t)return h;if(t<764833){var n=h;return p&&(n=n.replace(/^\s+/,"")),o&&(n=n.replace(/\s+$/,"")),n}var e=0;if(o)for(;t>0&&/\s/.test(h[t-1]);)t--;if(p&&t>0)for(;e<t&&/\s/.test(h[e]);)e++;return h.substring(e,t)},u})();d.StringUtils=l},1632:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TouchUtils=void 0;var u=l(9279),h=l(2491),p=(function(){function o(){}return o.onEventAttachingToDocument=function(t,n){return!u.Browser.MacOSMobilePlatform||!o.isTouchEventName(t)||(o.documentTouchHandlers[t]||(o.documentTouchHandlers[t]=[]),o.documentTouchHandlers[t].push(n),o.documentEventAttachingAllowed)},o.isTouchEventName=function(t){return u.Browser.WebKitTouchUI&&(t.indexOf("touch")>-1||t.indexOf("gesture")>-1)},o.isTouchEvent=function(t){return u.Browser.WebKitTouchUI&&h.isDefined(t.changedTouches)},o.getEventX=function(t){return u.Browser.IE?t.pageX:t.changedTouches[0].pageX},o.getEventY=function(t){return u.Browser.IE?t.pageY:t.changedTouches[0].pageY},o.touchMouseDownEventName=u.Browser.WebKitTouchUI?"touchstart":u.Browser.Edge&&u.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",o.touchMouseUpEventName=u.Browser.WebKitTouchUI?"touchend":u.Browser.Edge&&u.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",o.touchMouseMoveEventName=u.Browser.WebKitTouchUI?"touchmove":u.Browser.Edge&&u.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",o.msTouchDraggableClassName="dxMSTouchDraggable",o.documentTouchHandlers={},o.documentEventAttachingAllowed=!0,o})();d.TouchUtils=p},8721:(w,d,l)=>{l.r(d)},639:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BarManager=void 0;var l=(function(){function u(h,p){this.commandManager=h,this.bars=p}return u.prototype.updateContextMenu=function(){for(var h=0,p=void 0;p=this.bars[h];h++)if(p.isContextMenu()){p.updateItemsList();for(var o=p.getCommandKeys(),t=0;t<o.length;t++)this.updateBarItem(p,o[t])}},u.prototype.updateItemsState=function(h){for(var p=!!h.length,o=function(i,r){if(r.isVisible()){for(var a=r.getCommandKeys(),c=function(g){if(p&&!h.filter((function(f){return f==a[g]})).length)return"continue";t.updateBarItem(r,a[g])},y=0;y<a.length;y++)c(y);r.completeUpdate()}},t=this,n=0,e=void 0;e=this.bars[n];n++)o(0,e)},u.prototype.updateBarItem=function(h,p){var o=this.commandManager.getCommand(p);if(o){var t=o.getState();h.setItemVisible(p,t.visible),t.visible&&(h.setItemEnabled(p,t.enabled),h.setItemValue(p,t.value))}},u})();d.BarManager=l},3290:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttClientCommand=void 0,(function(l){l[l.CreateTask=0]="CreateTask",l[l.CreateSubTask=1]="CreateSubTask",l[l.RemoveTask=2]="RemoveTask",l[l.RemoveDependency=3]="RemoveDependency",l[l.TaskInformation=4]="TaskInformation",l[l.TaskAddContextItem=5]="TaskAddContextItem",l[l.Undo=6]="Undo",l[l.Redo=7]="Redo",l[l.ZoomIn=8]="ZoomIn",l[l.ZoomOut=9]="ZoomOut",l[l.FullScreen=10]="FullScreen",l[l.CollapseAll=11]="CollapseAll",l[l.ExpandAll=12]="ExpandAll",l[l.ResourceManager=13]="ResourceManager",l[l.ToggleResources=14]="ToggleResources",l[l.ToggleDependencies=15]="ToggleDependencies"})(d.GanttClientCommand||(d.GanttClientCommand={}))},3756:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CollapseAllCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(this.isEnabled())},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.collapseAll(),!0},n.prototype.isEnabled=function(){return!0},n})(h.CommandBase);d.CollapseAllCommand=o},6585:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExpandAllCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(this.isEnabled())},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.expandAll(),!0},n.prototype.isEnabled=function(){return!0},n})(h.CommandBase);d.ExpandAllCommand=o},9687:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CommandBase=void 0;var l=(function(){function u(h){this.control=h}return Object.defineProperty(u.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),u.prototype.execute=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];if(!this.state.enabled)return!1;var o=this.executeInternal.apply(this,h);return o&&this.control.barManager.updateItemsState([]),o},u.prototype.isEnabled=function(){return this.control.settings.editing.enabled},u.prototype.executeInternal=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Not implemented")},u})();d.CommandBase=l},7156:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CommandManager=void 0;var u=l(5237),h=l(126),p=l(5477),o=l(6152),t=l(3290),n=l(3756),e=l(6585),i=l(4118),r=l(3044),a=l(9762),c=l(7823),y=l(3250),g=l(9072),f=l(1955),T=l(1757),v=l(7977),k=l(9793),b=l(358),C=l(9791),P=l(3936),H=l(5258),x=l(2018),I=l(4195),L=l(2714),F=l(299),K=l(2231),O=(function(){function V(j){this.control=j,this.commands={},this.createCommand(t.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(t.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(t.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(t.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(t.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(t.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(t.GanttClientCommand.TaskAddContextItem,new L.TaskAddContextItemCommand(this.control)),this.createCommand(t.GanttClientCommand.Undo,new g.UndoCommand(this.control)),this.createCommand(t.GanttClientCommand.Redo,new y.RedoCommand(this.control)),this.createCommand(t.GanttClientCommand.ZoomIn,new F.ZoomInCommand(this.control)),this.createCommand(t.GanttClientCommand.ZoomOut,new K.ZoomOutCommand(this.control)),this.createCommand(t.GanttClientCommand.FullScreen,new c.ToggleFullScreenCommand(this.control)),this.createCommand(t.GanttClientCommand.CollapseAll,new n.CollapseAllCommand(this.control)),this.createCommand(t.GanttClientCommand.ExpandAll,new e.ExpandAllCommand(this.control)),this.createCommand(t.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(t.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(V.prototype,"createTaskCommand",{get:function(){return new H.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"createSubTaskCommand",{get:function(){return new P.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"removeTaskCommand",{get:function(){return new I.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"updateTaskCommand",{get:function(){return new x.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"createDependencyCommand",{get:function(){return new i.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"removeDependencyCommand",{get:function(){return new r.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"createResourceCommand",{get:function(){return new T.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"removeResourceCommand",{get:function(){return new b.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"assignResourceCommand",{get:function(){return new f.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"deassignResourceCommand",{get:function(){return new v.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"changeResourceColorCommand",{get:function(){return new k.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showTaskEditDialog",{get:function(){return new o.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showConstraintViolationDialog",{get:function(){return new h.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showConfirmationDialog",{get:function(){return new u.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showResourcesDialog",{get:function(){return new p.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"toggleResources",{get:function(){return new C.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"toggleDependencies",{get:function(){return new a.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),V.prototype.getCommand=function(j){return this.commands[j]},V.prototype.createCommand=function(j,N){this.commands[j]=N},V})();d.CommandManager=O},4118:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateDependencyCommand=void 0;var u=l(655),h=l(5950),p=l(3279),o=l(1211),t=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(e,n),e.prototype.execute=function(i,r,a){return n.prototype.execute.call(this,i,r,a)},e.prototype.executeInternal=function(i,r,a){if(this.control.viewModel.dependencies.items.filter((function(g){return g.predecessorId===i&&g.successorId===r||g.successorId===i&&g.predecessorId===r})).length)return!1;var c=new p.DependencyInsertingArguments(i,r,a);if(this.modelManipulator.dispatcher.notifyDependencyInserting(c),c.cancel)return!1;if(i=c.predecessorId,r=c.successorId,a=c.type,this.control.history.beginTransaction(),this.history.addAndRedo(new o.InsertDependencyHistoryItem(this.modelManipulator,i,r,a)),this.control.isValidateDependenciesRequired()){var y=this.control.viewModel.tasks.getItemById(i);a===h.DependencyType.SF||a===h.DependencyType.SS?this.control.validationController.moveStartDependTasks(i,y.start):this.control.validationController.moveEndDependTasks(i,y.end)}return this.control.history.endTransaction(),!0},e.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},e})(l(2291).DependencyCommandBase);d.CreateDependencyCommand=t},2291:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyCommandBase=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(this.isEnabled())},n})(h.CommandBase);d.DependencyCommandBase=o},3044:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveDependencyCommand=void 0;var u=l(655),h=l(9544),p=l(5139),o=l(4797),t=l(5865),n=(function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return u.__extends(i,e),i.prototype.execute=function(r,a){var c=this;return a===void 0&&(a=!0),a?(this.control.commandManager.showConfirmationDialog.execute(new p.ConfirmationDialogParameters(h.ConfirmationType.DependencyDelete,(function(){c.executeInternal(r)}))),!1):e.prototype.execute.call(this,r)},i.prototype.executeInternal=function(r){if((r=r||this.control.taskEditController.dependencyId)!=null){var a=this.control.viewModel.dependencies.items.filter((function(y){return y.internalId===r}))[0];if(a){var c=new o.DependencyRemovingArguments(a);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(c),!c.cancel)return this.history.addAndRedo(new t.RemoveDependencyHistoryItem(this.modelManipulator,r)),r===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},i.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},i.prototype.getState=function(){var r=e.prototype.getState.call(this);return r.visible=r.enabled&&this.control.taskEditController.dependencyId!=null,r},i})(l(2291).DependencyCommandBase);d.RemoveDependencyCommand=n},9762:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ToggleDependenciesCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},n})(h.CommandBase);d.ToggleDependenciesCommand=o},7823:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ToggleFullScreenCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isInFullScreenMode=!1,e.fullScreenTempVars={},e}return u.__extends(n,t),n.prototype.getState=function(){var e=new p.SimpleCommandState(!0);return e.value=this.control.fullScreenModeHelper.isInFullScreenMode,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},n})(h.CommandBase);d.ToggleFullScreenCommand=o},3250:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RedoCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){var e=new p.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.history.redo(),!0},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.history.canRedo()},n})(h.CommandBase);d.RedoCommand=o},9072:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UndoCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){var e=new p.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.history.undo(),!0},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.history.canUndo()},n})(h.CommandBase);d.UndoCommand=o},1955:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AssignResourceCommand=void 0;var u=l(655),h=l(1389),p=l(3683),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.execute=function(e,i){return t.prototype.execute.call(this,e,i)},n.prototype.executeInternal=function(e,i){if(!this.control.viewModel.assignments.items.filter((function(c){return c.resourceId===e&&c.taskId===i}))[0]){var r=this.control.viewModel,a=new h.ResourceAssigningArguments(r.convertInternalToPublicKey("resource",e),r.convertInternalToPublicKey("task",i));if(this.modelManipulator.dispatcher.notifyResourceAssigning(a),!a.cancel)return this.history.addAndRedo(new p.AssignResourceHistoryItem(this.modelManipulator,r.convertPublicToInternalKey("resource",a.resourceId),r.convertPublicToInternalKey("task",a.taskId))),!0}return!1},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},n})(l(200).ResourceCommandBase);d.AssignResourceCommand=o},1757:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateResourceCommand=void 0;var u=l(655),h=l(990),p=l(2961),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.execute=function(e,i,r){return i===void 0&&(i=""),t.prototype.execute.call(this,e,i,r)},n.prototype.executeInternal=function(e,i,r){i===void 0&&(i="");var a=new h.ResourceInsertingArguments(e,i);return this.modelManipulator.dispatcher.notifyResourceCreating(a),a.cancel||this.history.addAndRedo(new p.CreateResourceHistoryItem(this.modelManipulator,a.text,a.color,r)),!a.cancel},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},n})(l(200).ResourceCommandBase);d.CreateResourceCommand=o},7977:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DeassignResourceCommand=void 0;var u=l(655),h=l(1493),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.execute=function(n){return o.prototype.execute.call(this,n)},t.prototype.executeInternal=function(n){var e=this.control.viewModel.assignments.items.filter((function(i){return i.internalId===n}))[0];return!(!e||!this.modelManipulator.dispatcher.fireResourceUnassigning(e))&&(this.history.addAndRedo(new h.DeassignResourceHistoryItem(this.modelManipulator,n)),!0)},t.prototype.isEnabled=function(){return o.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t})(l(200).ResourceCommandBase);d.DeassignResourceCommand=p},9793:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceColorCommand=void 0;var u=l(655),h=l(4641),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.execute=function(n,e){return o.prototype.execute.call(this,n,e)},t.prototype.executeInternal=function(n,e){return this.control.viewModel.resources.getItemById(n).color!==e&&(this.history.addAndRedo(new h.ResourceColorHistoryItem(this.modelManipulator,n,e)),!0)},t})(l(9876).ResourcePropertyCommandBase);d.ResourceColorCommand=p},9876:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertyCommandBase=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(this.isEnabled())},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},n})(h.CommandBase);d.ResourcePropertyCommandBase=o},358:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveResourceCommand=void 0;var u=l(655),h=l(9748),p=l(7466),o=l(1493),t=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(e,n),e.prototype.execute=function(i){return n.prototype.execute.call(this,i)},e.prototype.executeInternal=function(i){var r=this,a=this.control.viewModel.resources.items.filter((function(g){return g.internalId===i}))[0];if(a){var c=new h.ResourceRemovingArguments(a);if(this.modelManipulator.dispatcher.notifyResourceRemoving(c),!c.cancel){var y=new p.RemoveResourceHistoryItem(this.modelManipulator,i);return this.control.viewModel.assignments.items.filter((function(g){return g.resourceId===i})).forEach((function(g){r.modelManipulator.dispatcher.fireResourceUnassigning(g)&&y.add(new o.DeassignResourceHistoryItem(r.modelManipulator,g.internalId))})),this.history.addAndRedo(y),!0}}return!1},e.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},e})(l(200).ResourceCommandBase);d.RemoveResourceCommand=t},200:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceCommandBase=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(this.isEnabled())},n})(h.CommandBase);d.ResourceCommandBase=o},9791:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ToggleResourceCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.toggleResources(),!0},n})(h.CommandBase);d.ToggleResourceCommand=o},4409:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleCommandState=void 0;var l=function(u,h){this.visible=!0,this.enabled=u,this.value=h};d.SimpleCommandState=l},3936:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateSubTaskCommand=void 0;var u=l(655),h=l(4605),p=l(1284),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.execute=function(e){return t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){e=e||this.control.currentSelectedTaskID;var i=this.control.viewModel.findItem(e);if(i.selected){var r={start:new Date(i.task.start.getTime()),end:new Date(i.task.end.getTime()),title:"New task",progress:0,parentId:e},a=new h.TaskInsertingArguments(null,r);if(this.modelManipulator.dispatcher.notifyTaskCreating(a),!a.cancel){this.history.addAndRedo(new p.CreateTaskHistoryItem(this.modelManipulator,a));var c=this.control.viewModel.findItem(r.parentId);t.prototype.updateParent.call(this,c)}return!a.cancel}return!1},n.prototype.isEnabled=function(){var e=this.control,i=e.viewModel.findItem(e.currentSelectedTaskID);return t.prototype.isEnabled.call(this)&&!!i&&i.selected},n.prototype.getState=function(){var e=t.prototype.getState.call(this),i=this.control;return e.visible=e.visible&&i.settings.editing.allowTaskInsert,e},n})(l(9254).TaskCommandBase);d.CreateSubTaskCommand=o},5258:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateTaskCommand=void 0;var u=l(655),h=l(4605),p=l(1284),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.execute=function(e){return t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){var i,r;if(e!=null||(e={}),!e.parentId){var a=this.control.viewModel.findItem(this.control.currentSelectedTaskID),c=a&&a.task;c&&(e.parentId=c.parentId)}var y=this.control.viewModel.findItem(e.parentId)||this.control.viewModel.items[0],g=y&&y.task;e.start||(e.start=g?new Date(g.start.getTime()):new Date(this.control.range.start.getTime())),e.end||(e.end=g?new Date(g.end.getTime()):new Date(this.control.range.end.getTime())),(i=e.title)!==null&&i!==void 0||(e.title="New task"),(r=e.progress)!==null&&r!==void 0||(e.progress=0);var f=new h.TaskInsertingArguments(null,e);if(this.modelManipulator.dispatcher.notifyTaskCreating(f),!f.cancel){this.history.addAndRedo(new p.CreateTaskHistoryItem(this.modelManipulator,f));var T=this.control.viewModel.findItem(e.parentId);t.prototype.updateParent.call(this,T)}return!f.cancel},n.prototype.getState=function(){var e=t.prototype.getState.call(this);return e.visible=e.visible&&this.control.settings.editing.allowTaskInsert,e},n})(l(9254).TaskCommandBase);d.CreateTaskCommand=o},4195:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveTaskCommand=void 0;var u=l(655),h=l(9544),p=l(5139),o=l(4642),t=l(5865),n=l(1493),e=l(9599),i=(function(r){function a(){return r!==null&&r.apply(this,arguments)||this}return u.__extends(a,r),a.prototype.execute=function(c,y,g,f,T,v){var k=this;return y===void 0&&(y=!0),g===void 0&&(g=!1),f===void 0&&(f=!0),this.isApiCall=g,this.isUpdateParentTaskRequired=f,y?(this.control.commandManager.showConfirmationDialog.execute(new p.ConfirmationDialogParameters(h.ConfirmationType.TaskDelete,(function(){k.executeInternal(c,T,v)}))),!1):r.prototype.execute.call(this,c,T,v)},a.prototype.executeInternal=function(c,y,g){var f=this,T=g||[];c=c||this.control.currentSelectedTaskID;var v=this.control.viewModel.findItem(c),k=v?v.task:this.control.viewModel.tasks.getItemById(c),b=new o.TaskRemovingArguments(k);if(this.modelManipulator.dispatcher.notifyTaskRemoving(b),b.cancel)return!1;var C=this.history,P=this.control.viewModel;C.beginTransaction(),P.beginUpdate();var H=!!y,x=new e.RemoveTaskHistoryItem(this.modelManipulator,c),I=P.tasks.items.filter((function(O){return O.parentId===c})),L=I.map((function(O){return O.internalId})),F=P.dependencies.items.filter((function(O){return T.indexOf(O.internalId)===-1&&(O.predecessorId===c||O.successorId===c)&&!L.some((function(V){return O.predecessorId===V||O.successorId===V}))}));if(F.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;F.forEach((function(O){x.add(new t.RemoveDependencyHistoryItem(f.modelManipulator,O.internalId)),T.push(O.internalId)}))}if(P.assignments.items.filter((function(O){return O.taskId===c})).forEach((function(O){f.modelManipulator.dispatcher.fireResourceUnassigning(O)&&x.add(new n.DeassignResourceHistoryItem(f.modelManipulator,O.internalId))})),I.reverse().forEach((function(O){return new a(f.control).execute(O.internalId,!1,!0,!1,x,T)})),H?y.add(x):C.addAndRedo(x),this.isUpdateParentTaskRequired){var K=this.control.viewModel.findItem(k.parentId);r.prototype.updateParent.call(this,K)}return C.endTransaction(),P.endUpdate(),!0},a.prototype.isEnabled=function(){var c=this.control,y=c.viewModel.findItem(c.currentSelectedTaskID);return r.prototype.isEnabled.call(this)&&(!!y&&y.selected||this.isApiCall)},a.prototype.getState=function(){var c=r.prototype.getState.call(this),y=this.control;return c.visible=c.visible&&y.settings.editing.allowTaskDelete,c},a})(l(9254).TaskCommandBase);d.RemoveTaskCommand=i},2714:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAddContextItemCommand=void 0;var u=l(655),h=(function(p){function o(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(o,p),o.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},o.prototype.execute=function(){return!1},o})(l(9254).TaskCommandBase);d.TaskAddContextItemCommand=h},9254:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskCommandBase=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isApiCall=!1,e}return u.__extends(n,t),n.prototype.getState=function(){var e=new p.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,e},n.prototype.updateParent=function(e){this.validationController._parentAutoCalc&&e&&e.children.length>0&&this.control.validationController.updateParentsIfRequired(e.children[0].task.internalId)},n})(h.CommandBase);d.TaskCommandBase=o},2018:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UpdateTaskCommand=void 0;var u=l(655),h=l(2491),p=l(9544),o=l(3433),t=l(5865),n=l(9496),e=l(9201),i=(function(r){function a(){return r!==null&&r.apply(this,arguments)||this}return u.__extends(a,r),a.prototype.execute=function(c,y){return r.prototype.execute.call(this,c,y)},a.prototype.executeInternal=function(c,y){var g=this.control.viewModel.tasks.getItemById(c);if(!g)return!1;var f=this.control.modelManipulator.dispatcher.raiseTaskUpdating(g,y,(function(v){y.title=v.title,y.progress=v.progress,y.start=v.start,y.end=v.end,y.color=v.color}));if(f){(0,h.isDefined)(y.start)&&(0,h.isDefined)(y.end)&&y.end.getTime()<y.start.getTime()&&(y.end=y.start),(0,h.isDefined)(y.progress)&&(y.progress=Math.max(Math.min(y.progress,100),0));var T=this.filterChangedValues(y,g);this.processDependecyValidation(T,g)}return f},a.prototype.isEnabled=function(){return r.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},a.prototype.filterChangedValues=function(c,y){if(!c)return null;var g={};for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&(0,h.isDefined)(c[f])&&y[f]!==c[f]&&(g[f]=c[f]);return g},a.prototype.processDependecyValidation=function(c,y){var g=this,f=function(C){g.onAfterValidationCallback(c,y,C)},T=this.control.isValidateDependenciesRequired();if(T){var v=[],k=(0,h.isDefined)(c.start)&&c.start!==y.start,b=(0,h.isDefined)(c.end)&&c.end!==y.end;k&&T&&(v=v.concat(this.control.validationController.checkStartDependencies(y.internalId,c.start))),b&&T&&(v=v.concat(this.control.validationController.checkEndDependencies(y.internalId,c.end))),v.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new o.ConstraintViolationDialogParameters(v,f)):f(null)}else f(null)},a.prototype.onAfterValidationCallback=function(c,y,g){var f=this;if(!g||g.option!==p.ConstraintViolationOption.DoNothing||(delete c.start,delete c.end),Object.keys(c).length>0){this.history.beginTransaction(),(g==null?void 0:g.option)===p.ConstraintViolationOption.RemoveDependency&&g.validationErrors.forEach((function(C){return f.history.addAndRedo(new t.RemoveDependencyHistoryItem(f.modelManipulator,C.dependencyId))}));var T=this.control.isValidateDependenciesRequired(),v=y.internalId,k=y.start,b=y.end;this.history.addAndRedo(new n.UpdateTaskHistoryItem(this.modelManipulator,v,c)),(0,h.isDefined)(c.start)&&T&&this.control.validationController.moveStartDependTasks(v,k),(0,h.isDefined)(c.end)&&T&&this.control.validationController.moveEndDependTasks(v,b),this.processAutoParentUpdate(v,c,k,b),this.history.endTransaction(),(g==null?void 0:g.option)!==p.ConstraintViolationOption.RemoveDependency&&(g==null?void 0:g.option)!==p.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},a.prototype.processAutoParentUpdate=function(c,y,g,f){var T=(0,h.isDefined)(y.start),v=(0,h.isDefined)(y.end),k=(0,h.isDefined)(y.progress)||T||v,b=T?y.start.getTime()-g.getTime():null,C=v?y.end.getTime()-f.getTime():null,P=T&&e.DateUtils.getTimezoneOffsetDiff(g,y.start)!==0,H=v&&e.DateUtils.getTimezoneOffsetDiff(f,y.end)!==0,x=(P||H)&&Math.abs(C-b)===e.DateUtils.msPerHour;k?b!==0&&(b===C||x)?this.validationController.correctParentsOnChildMoving(c,b):this.validationController.updateParentsIfRequired(c):this.control.updateOwnerInAutoParentMode()},a})(l(9254).TaskCommandBase);d.UpdateTaskCommand=i},299:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ZoomInCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.zoomIn(),!0},n})(h.CommandBase);d.ZoomInCommand=o},2231:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ZoomOutCommand=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.getState=function(){return new p.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.zoomOut(),!0},n})(h.CommandBase);d.ZoomOutCommand=o},5237:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConfirmationDialog=void 0;var u=l(655),h=(function(p){function o(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(o,p),o.prototype.applyParameters=function(t,n){return this.history.beginTransaction(),n.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},o.prototype.createParameters=function(t){return t},o.prototype.getDialogName=function(){return"Confirmation"},o})(l(4730).DialogBase);d.ConfirmationDialog=h},126:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintViolationDialogCommand=void 0;var u=l(655),h=(function(p){function o(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(o,p),o.prototype.applyParameters=function(t,n){return n.callback(t),!0},o.prototype.createParameters=function(t){return t},o.prototype.getDialogName=function(){return"ConstraintViolation"},o})(l(4730).DialogBase);d.ConstraintViolationDialogCommand=h},4730:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DialogBase=void 0;var u=l(655),h=l(9687),p=l(4409),o=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isApiCall=!1,e._canRefresh=!0,e}return u.__extends(n,t),n.prototype.execute=function(e,i){return e===void 0&&(e=void 0),i===void 0&&(i=!1),this.isApiCall=i,t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){return this.options=e,this.showDialog(e)},Object.defineProperty(n.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){this.showDialog(this.options)},n.prototype.showDialog=function(e){var i=this,r=this.createParameters(e),a=r.clone();return!!this.onBeforeDialogShow(r)&&(n.activeInstance=this,this.control.showDialog(this.getDialogName(),r,(function(c){c&&(i._canRefresh=!1,i.applyParameters(c,a),i._canRefresh=!0)}),(function(){delete n.activeInstance,i.afterClosing()})),!0)},n.prototype.onBeforeDialogShow=function(e){return!0},n.prototype.applyParameters=function(e,i){return!1},n.prototype.afterClosing=function(){},n.prototype.getState=function(){return new p.SimpleCommandState(this.isEnabled())},n.activeInstance=null,n})(h.CommandBase);d.DialogBase=o},9544:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintViolationOption=d.ConfirmationType=void 0,(function(l){l[l.TaskDelete=0]="TaskDelete",l[l.DependencyDelete=1]="DependencyDelete",l[l.ResourcesDelete=2]="ResourcesDelete"})(d.ConfirmationType||(d.ConfirmationType={})),(function(l){l[l.DoNothing=0]="DoNothing",l[l.RemoveDependency=1]="RemoveDependency",l[l.KeepDependency=2]="KeepDependency"})(d.ConstraintViolationOption||(d.ConstraintViolationOption={}))},5139:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConfirmationDialogParameters=void 0;var u=l(655),h=(function(p){function o(t,n){var e=p.call(this)||this;return e.type=t,e.callback=n,e}return u.__extends(o,p),o.prototype.clone=function(){var t=new o(this.type,this.callback);return t.message=this.message,t},o})(l(9705).DialogParametersBase);d.ConfirmationDialogParameters=h},3433:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintViolationDialogParameters=void 0;var u=l(655),h=(function(p){function o(t,n){var e=p.call(this)||this;return e.validationErrors=t,e.callback=n,e}return u.__extends(o,p),o.prototype.clone=function(){var t=new o(this.validationErrors,this.callback);return t.option=this.option,t},Object.defineProperty(o.prototype,"hasCriticalErrors",{get:function(){var t;return(t=this.validationErrors)===null||t===void 0?void 0:t.some((function(n){return n.critical}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"errorsCount",{get:function(){var t;return(t=this.validationErrors)===null||t===void 0?void 0:t.length},enumerable:!1,configurable:!0}),o})(l(9705).DialogParametersBase);d.ConstraintViolationDialogParameters=h},9705:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DialogParametersBase=void 0;var l=function(){};d.DialogParametersBase=l},6711:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcesDialogParameters=void 0;var u=l(655),h=l(8828),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.clone=function(){var n=new t;return n.resources=new h.ResourceCollection,n.resources.addRange(this.resources.items),n},t})(l(9705).DialogParametersBase);d.ResourcesDialogParameters=p},1563:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditParameters=void 0;var u=l(655),h=l(8828),p=(function(o){function t(){var n=o!==null&&o.apply(this,arguments)||this;return n.enableEdit=!0,n.enableRangeEdit=!0,n.isValidationRequired=!1,n.hiddenFields=[],n.readOnlyFields=[],n}return u.__extends(t,o),t.prototype.clone=function(){var n=new t;return n.id=this.id,n.title=this.title,n.progress=this.progress,n.start=this.start,n.end=this.end,n.assigned=new h.ResourceCollection,n.assigned.addRange(this.assigned.items),n.resources=new h.ResourceCollection,n.resources.addRange(this.resources.items),n.showResourcesDialogCommand=this.showResourcesDialogCommand,n.showTaskEditDialogCommand=this.showTaskEditDialogCommand,n.enableEdit=this.enableEdit,n.enableRangeEdit=this.enableRangeEdit,n.hiddenFields=this.hiddenFields.slice(),n.readOnlyFields=this.readOnlyFields.slice(),n.isValidationRequired=this.isValidationRequired,n.getCorrectDateRange=this.getCorrectDateRange,n},t})(l(9705).DialogParametersBase);d.TaskEditParameters=p},5477:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcesDialogCommand=void 0;var u=l(655),h=l(8828),p=l(4730),o=l(9544),t=l(5139),n=l(6711),e=(function(i){function r(){var a=i!==null&&i.apply(this,arguments)||this;return a.resourcesForDelete=[],a}return u.__extends(r,i),r.prototype.onBeforeDialogShow=function(a){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(a,(function(c){a.resources=c.values.resources}))},r.prototype.applyParameters=function(a,c){this.history.beginTransaction();for(var y=0;y<a.resources.length;y++)c.resources.getItemById(a.resources.getItem(y).internalId)||this.control.commandManager.createResourceCommand.execute(a.resources.getItem(y).text);for(y=0;y<c.resources.length;y++)a.resources.getItemById(c.resources.getItem(y).internalId)||this.resourcesForDelete.push(c.resources.getItem(y));return this.history.endTransaction(),!1},r.prototype.createParameters=function(a){this.callBack=a;var c=new n.ResourcesDialogParameters;return c.resources=new h.ResourceCollection,c.resources.addRange(this.control.viewModel.resources.items),c},r.prototype.afterClosing=function(){var a=this;if(this.resourcesForDelete.length){var c=this.control.commandManager.showConfirmationDialog,y=new t.ConfirmationDialogParameters(o.ConfirmationType.ResourcesDelete,(function(){a.history.beginTransaction();for(var g=0;g<a.resourcesForDelete.length;g++)a.control.commandManager.removeResourceCommand.execute(a.resourcesForDelete[g].internalId);a.history.endTransaction()}));y.message=this.resourcesForDelete.reduce((function(g,f){return u.__spreadArray(u.__spreadArray([],g,!0),[f.text],!1)}),[]).join(", "),this.callBack&&(c.afterClosing=function(){delete p.DialogBase.activeInstance,a.callBack()}),c.execute(y)}else this.callBack&&this.callBack()},r.prototype.getDialogName=function(){return"Resources"},r})(p.DialogBase);d.ResourcesDialogCommand=e},6152:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditDialogCommand=void 0;var u=l(655),h=l(8828),p=l(1389),o=l(3683),t=l(1493),n=l(4730),e=l(1563),i=l(2491),r=(function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return u.__extends(c,a),c.prototype.onBeforeDialogShow=function(y){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(y,(function(g){var f=g.values;y.start=f.start,y.end=f.end,y.progress=f.progress,y.title=f.title,y.readOnlyFields=g.readOnlyFields,y.hiddenFields=g.hiddenFields}))},c.prototype.applyParameters=function(y,g){var f=this;this.history.beginTransaction();var T=this.getUpdatedTaskData(y,g);Object.keys(T).length>0&&setTimeout((function(){return f.control.commandManager.updateTaskCommand.execute(g.id,T)}),0);for(var v=0;v<y.assigned.length;v++)if(!g.assigned.getItemById(y.assigned.getItem(v).internalId)){var k=y.assigned.getItem(v).internalId,b=g.id,C=new p.ResourceAssigningArguments(k,b);this.modelManipulator.dispatcher.notifyResourceAssigning(C),C.cancel||this.history.addAndRedo(new o.AssignResourceHistoryItem(this.modelManipulator,C.resourceId,C.taskId))}var P=function(x){var I=g.assigned.getItem(x);if(!y.assigned.getItemById(I.internalId)){var L=H.control.viewModel.assignments.items.filter((function(F){return F.resourceId===I.internalId&&F.taskId===g.id}))[0];H.modelManipulator.dispatcher.fireResourceUnassigning(L)&&H.history.addAndRedo(new t.DeassignResourceHistoryItem(H.modelManipulator,L.internalId))}},H=this;for(v=0;v<g.assigned.length;v++)P(v);return this.history.endTransaction(),!1},c.prototype.getUpdatedTaskData=function(y,g){var f={};return(0,i.isDefined)(y.title)&&g.title!==y.title&&(f.title=y.title),(0,i.isDefined)(y.progress)&&g.progress!==y.progress&&(f.progress=y.progress),(0,i.isDefined)(y.start)&&g.start!==y.start&&(f.start=y.start),(0,i.isDefined)(y.end)&&g.end!==y.end&&(f.end=y.end),f},c.prototype.createParameters=function(y){var g=this;y=y||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var f=new e.TaskEditParameters;return f.id=y.internalId,f.title=y.title,f.progress=y.progress,f.start=y.start,f.end=y.end,f.assigned=this.control.viewModel.getAssignedResources(y),f.resources=new h.ResourceCollection,f.resources.addRange(this.control.viewModel.resources.items),f.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,f.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,f.enableEdit=this.isTaskEditEnabled(),f.enableRangeEdit=this.isTaskRangeEditEnabled(y),f.isValidationRequired=this.control.isValidateDependenciesRequired(),f.getCorrectDateRange=function(T,v,k){return g.control.validationController.getCorrectDateRange(T,v,k)},f},c.prototype.isTaskEditEnabled=function(){var y=this.control.settings;return y.editing.enabled&&y.editing.allowTaskUpdate},c.prototype.isTaskRangeEditEnabled=function(y){return!this.control.viewModel.isTaskToCalculateByChildren(y.internalId)},c.prototype.isEnabled=function(){var y=this.control,g=y.viewModel.findItem(y.currentSelectedTaskID);return!!g&&g.selected||this.isApiCall},c.prototype.getState=function(){var y=a.prototype.getState.call(this);return y.visible=y.visible&&!this.control.taskEditController.dependencyId,y},c.prototype.getDialogName=function(){return"TaskEdit"},c})(n.DialogBase);d.TaskEditDialogCommand=r},6893:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttExportCalculator=void 0;var u=l(8900),h=l(6907),p=l(2449),o=l(1855),t=l(4991),n=l(2485),e=l(3917),i=l(405),r=l(6995),a=l(5063),c=l(6032),y=l(8603),g=l(6997),f=l(8935),T=l(6353),v=l(3424),k=l(5763),b=l(7802),C=l(9895),P=l(2642),H=(function(){function x(I,L){var F,K;this._owner=I,this._props=new g.GanttPdfExportProps(L),(F=(K=this._props).margins)!==null&&F!==void 0||(K.margins=new a.Margin(x._defaultPageMargin))}return Object.defineProperty(x.prototype,"chartTableScaleTopMatrix",{get:function(){var I;return(I=this._chartTableScaleTopMatrix)!==null&&I!==void 0||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"chartTableScaleBottomMatrix",{get:function(){var I;return(I=this._chartTableScaleBottomMatrix)!==null&&I!==void 0||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),x.prototype.getPages=function(I){return new v.PdfGanttPaginator(I,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(x.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"taskAreaHelper",{get:function(){var I;return(I=this._taskAreaHelper)!==null&&I!==void 0||(this._taskAreaHelper=new y.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"scalingHelper",{get:function(){var I,L;return(I=this._scalingHelper)!==null&&I!==void 0||(this._scalingHelper=new k.ScalingHelper((L=this._props)===null||L===void 0?void 0:L.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"chartScaleTableStyle",{get:function(){var I;return(I=this._chartScaleTableStyle)!==null&&I!==void 0||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"chartMainTableStyle",{get:function(){var I;return(I=this._chartMainTableStyle)!==null&&I!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"headerTableTop",{get:function(){var I;return(I=this._headerTableTop)!==null&&I!==void 0||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"mainTableTop",{get:function(){var I;return(I=this._mainTableTop)!==null&&I!==void 0||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),x.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(x.prototype,"chartLeft",{get:function(){var I;return(I=this._chartLeft)!==null&&I!==void 0||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),x.prototype.getChartLeft=function(){var I;return((((I=this._props)===null||I===void 0?void 0:I.exportMode)||C.ExportMode.all)===C.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(x.prototype,"treeListLeft",{get:function(){var I;return(I=this._treeListLeft)!==null&&I!==void 0||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"mainTableHeight",{get:function(){var I;return(I=this._mainTableHeight)!==null&&I!==void 0||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"treeListWidth",{get:function(){var I;return(I=this._treeListWidth)!==null&&I!==void 0||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),x.prototype.getTreeListTableWidth=function(){var I,L=this,F=this.treeListHeaderMatrix[0].map((function(K,O){return L.getTreeListColumnWidth(O)}));return(I=F==null?void 0:F.reduce((function(K,O){return K+O}),0))!==null&&I!==void 0?I:0},Object.defineProperty(x.prototype,"chartWidth",{get:function(){var I=this;if(!this._chartWidth){var L=this.chartTableScaleBottomMatrix[0];this._chartWidth=L.reduce((function(F,K){return F+(K.styles.cellWidth.hasValue()?K.styles.cellWidth.getValue():I.baseCellWidth)}),0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new g.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),x.prototype.prepareAutoFormat=function(I){if(I.format===g.GanttPdfExportProps.autoFormatKey){I.format=null;var L=I.landscape,F=this.autoFormatWidth,K=this.autoFormatHeight;(L&&K>F||!L&&K<F)&&(I.landscape=!L),I.pageSize=new T.Size(F,K)}},Object.defineProperty(x.prototype,"autoFormatWidth",{get:function(){var I,L=(((I=this._props)===null||I===void 0?void 0:I.exportMode)||C.ExportMode.all)!==C.ExportMode.treeList,F=this.pageRightMargin;return(F+=L?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+x._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),x.prototype.createGlobalInfo=function(){var I={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(I),I},x.prototype.getTablesInfo=function(){var I={};return this._canExportTreelist()&&(I[f.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),I[f.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(I[f.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),I[f.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),I[f.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),I},Object.defineProperty(x.prototype,"exportMode",{get:function(){var I,L;return(L=(I=this._props)===null||I===void 0?void 0:I.exportMode)!==null&&L!==void 0?L:C.ExportMode.all},enumerable:!1,configurable:!0}),x.prototype._canExportTreelist=function(){return this.exportMode===C.ExportMode.all||this.exportMode===C.ExportMode.treeList},x.prototype._canExportChart=function(){return this.exportMode===C.ExportMode.all||this.exportMode===C.ExportMode.chart},Object.defineProperty(x.prototype,"_predefinedFont",{get:function(){var I,L,F,K,O=(L=(I=this._props)===null||I===void 0?void 0:I.pdfDoc)===null||L===void 0?void 0:L.getFont();return(O==null?void 0:O.fontName)||((K=(F=this._props)===null||F===void 0?void 0:F.font)===null||K===void 0?void 0:K.name)},enumerable:!1,configurable:!0}),x.prototype._createChartScaleTopInfo=function(){return{name:f.PdfPageTableNames.chartScaleTop,size:new T.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new u.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new T.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},x.prototype._createChartScaleBottomInfo=function(){var I=this.taskAreaHelper.headerRowHeight;return{name:f.PdfPageTableNames.chartScaleBottom,size:new T.Size(this.chartWidth,I),position:new u.Point(this.chartLeft,this.headerTableTop+I),style:this.chartScaleTableStyle,baseCellSize:new T.Size(this.baseCellWidth,I),cells:this.chartTableScaleBottomMatrix}},x.prototype.createChartMainTableInfo=function(){return{name:f.PdfPageTableNames.chartMain,size:new T.Size(this.chartWidth,this.mainTableHeight),position:new u.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new T.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},x.prototype.createTreeListHeaderTableInfo=function(){return{name:f.PdfPageTableNames.treeListHeader,size:new T.Size(this.treeListWidth,this.headerTableHeight),position:new u.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new T.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},x.prototype.createTreeListMainTableInfo=function(){return{name:f.PdfPageTableNames.treeListMain,size:new T.Size(this.treeListWidth,this.mainTableHeight),position:new u.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new T.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},x.prototype.calculateChartScaleMatrix=function(I){for(var L=this.taskAreaHelper,F=L.scaleRanges,K=new Array,O=F[I][0],V=F[I][1],j=O;j<=V;j++){var N=this.layoutCalculator.getScaleItemStart(j,L.scales[I]),W=new c.CellDef(this._owner.renderHelper.getScaleItemTextByStart(N,L.scales[I]));W.styles.cellPadding.assign(0),W.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var $=I===0?L.scaleTopWidths[j]:L.scaleBottomWidths[j];W.styles.cellWidth.assign($),K.push(W)}return[K]},x.prototype.calculateChartTableBodyMatrix=function(){var I=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach((function(L){return I._chartTableBodyMatrix.push(I.createChartTableBodyRow(L))})):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},x.prototype.createChartTableBodyRow=function(I){var L=new c.CellDef;return this.rowHasChildren(I)&&L.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map((function(F){var K=new c.CellDef(L);return K.styles.cellWidth.assign(F.styles.cellWidth),K}))},x.prototype.rowHasSelection=function(I){return this._owner.rowHasSelection(I)},x.prototype.rowHasChildren=function(I){return this._owner.rowHasChildren(I)},x.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var I=this._owner,L=I.getTreeListColCount(),F=new Array,K=0;K<L;K++){var O=new c.CellDef(I.getTreeListHeaderInfo(K));O.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,F.push(O)}this._treeListHeaderMatrix.push(F)},x.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},x.prototype.fillTreeListTableBodyMatrix=function(I){for(var L,F=this.visibleTaskIndices,K=this.treeListHeaderMatrix[0].length,O=0;O<F.length;O++){for(var V=new Array,j=F[O],N=(L=this._owner.getTask(j))===null||L===void 0?void 0:L.id,W=0;W<K;W++){var $=new c.CellDef(this._owner.getTreeListCellInfo(j,W,N));$.styles.cellWidth.hasValue()||$.styles.cellWidth.assign(this.getTreeListColumnWidth(W)),this.rowHasChildren(F[O])&&$.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),V.push($)}I.push(V)}},x.prototype.fillTreeListEmptyTableBodyMatrix=function(I){var L=new Array,F=new c.CellDef(this._owner.getTreeListEmptyDataCellInfo());F.styles.cellWidth.assign(this.treeListWidth),F.styles.halign=P.PredefinedStyles.horizontalAlign[1],F.styles.valign=P.PredefinedStyles.verticalAlign[1],L.push(F),I.push(L)},x.prototype.getTreeListColumnWidth=function(I){var L=this.treeListHeaderMatrix[0][I],F=L&&L.styles;return F.cellWidth.getValue()||F.minCellWidth||0},x.prototype.getObjectsLeftOffset=function(I){I===void 0&&(I=!1);var L=this.dataObjectLeftDelta;return I||(L+=this.taskAreaHelper.customRangeLeftOffset),L},Object.defineProperty(x.prototype,"dataObjectLeftDelta",{get:function(){var I;return(I=this._dataObjectLeftDelta)!==null&&I!==void 0||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"dataObjectTopDelta",{get:function(){var I;return(I=this._dataObjectTopDelta)!==null&&I!==void 0||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),x.prototype.getChartScaleTableStyle=function(){var I=new r.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(I.font=this._predefinedFont),I},x.prototype.getChartMainTableStyle=function(){var I=new r.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(I.font=this._predefinedFont),I},x.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new r.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},x.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(x.prototype,"tasksInfo",{get:function(){var I;return(I=this._tasksInfo)!==null&&I!==void 0||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"dependenciesInfo",{get:function(){var I;return(I=this._dependenciesInfo)!==null&&I!==void 0||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"resourcesInfo",{get:function(){var I;return(I=this._resourcesInfo)!==null&&I!==void 0||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"timeMarkersInfo",{get:function(){var I;return(I=this._timeMarkersInfo)!==null&&I!==void 0||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),x.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},x.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},x.prototype.calculateTasksInfo=function(){var I=this,L=new Array;return this.visibleTaskIndices.forEach((function(F){return L.push(I.calculateTaskInfo(F))})),L},x.prototype.calculateTaskInfo=function(I){var L=new e.PdfTaskInfo,F=this.layoutCalculator.getTaskElementInfo(I);return L.taskColor=this.getTaskColor(I),L.sidePoints=this.getTaskSidePoints(I),L.isMilestone=F.className.indexOf(o.GridLayoutCalculator.milestoneClassName)>0,L.isMilestone||(L.isSmallTask=F.className.indexOf(o.GridLayoutCalculator.smallTaskClassName)>0,L.isParent=F.className.indexOf(o.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(L,I),this.appendTaskProgress(L,I)),L},x.prototype.appendTaskTitle=function(I,L){var F=this._owner.settings.taskTitlePosition;I.isSmallTask&&F!==p.TaskTitlePosition.Outside||F===p.TaskTitlePosition.None||(I.text=this._owner.getTaskText(L),I.textPosition=F,I.textStyle=this.getTaskTextStyle(L))},x.prototype.appendTaskProgress=function(I,L){var F=this.layoutCalculator.getTaskProgressElementInfo(L);I.progressWidth=F.size.width,I.progressColor=this.getTaskProgressColor(L),I.progressColor.applyOpacityToBackground(I.taskColor)},x.prototype.getTaskSidePoints=function(I){var L=this,F=this.layoutCalculator.getTaskSidePoints(I);return F.forEach((function(K){K.x+=L.getObjectsLeftOffset(!0),K.y+=L.dataObjectTopDelta})),F},x.prototype.getTaskColor=function(I){var L=this.taskAreaHelper.getTaskElementBackColor(I,o.GridLayoutCalculator.taskClassName);return new i.Color(L)},x.prototype.getTaskProgressColor=function(I){return new i.Color(this.taskAreaHelper.getTaskElementBackColor(I,o.GridLayoutCalculator.taskProgressClassName))},x.prototype.getTaskTextStyle=function(I){var L=new r.StyleDef;return L.cellPadding.assign(0),L.assign(this.taskAreaHelper.getTaskElementStyle(I,o.GridLayoutCalculator.taskTitleClassName)),L},x.prototype.calculateDependenciesInfo=function(){var I=this,L=new Array,F=this.taskAreaHelper,K=new i.Color(F.dependencyColor);return F.connectorLines.forEach((function(O){return L.push(I.createLineInfo(O,K,F.arrowWidth))})),L},x.prototype.createLineInfo=function(I,L,F){var K=new t.PdfDependencyLineInfo;if(K.fillColor=L,I.className.indexOf(o.GridLayoutCalculator.arrowClassName)>-1){var O=this.layoutCalculator.getArrowPositionByClassName(I.className);K.arrowInfo={position:O,width:F},K.points=[this.getArrowTopCorner(I,O,F)]}else K.points=this.getLinePoints(I);return K},x.prototype.getArrowTopCorner=function(I,L,F){var K=I.position.x+this.getObjectsLeftOffset(),O=I.position.y+this.dataObjectTopDelta;switch(L){case p.Position.Left:K+=F;break;case p.Position.Top:O+=F}return new u.Point(K,O)},x.prototype.getLinePoints=function(I){var L=I.position.x+this.getObjectsLeftOffset(),F=I.position.y+this.dataObjectTopDelta,K=L+I.size.width,O=F+I.size.height;return[new u.Point(L,F),new u.Point(K,O)]},x.prototype.calculateResourcesInfo=function(){var I=this,L=new Array;return this.taskAreaHelper.resourcesElements.forEach((function(F){return L=L.concat(I.calculateResourcesInLine(F))})),L},x.prototype.calculateResourcesInLine=function(I){var L=new Array;if(I)for(var F=h.DomUtils.pxToInt(I.style.left)+this.getObjectsLeftOffset(),K=h.DomUtils.pxToInt(I.style.top)+this.dataObjectTopDelta,O=I.getElementsByClassName(o.GridLayoutCalculator.taskResourceClassName),V=0;V<O.length;V++){var j=O[V];if(this.taskAreaHelper.isElementVisible(j)){var N=getComputedStyle(j);F+=this.getMargin(N).left,L.push(new n.PdfTaskResourcesInfo(j.textContent,new r.StyleDef(N),F,K)),F+=h.DomUtils.pxToInt(N.width)}}return L},x.prototype.calculateTimeMarkersInfoInfo=function(){var I=this,L=new Array;return this.taskAreaHelper.stripLinesElements.forEach((function(F){return L.push(I.createTimeMarkerInfo(F,!0))})),this.taskAreaHelper.noWorkingIntervalsElements.forEach((function(F){return L.push(I.createTimeMarkerInfo(F,!1))})),L},x.prototype.createTimeMarkerInfo=function(I,L){var F=getComputedStyle(I),K=h.DomUtils.pxToInt(F.left)+this.getObjectsLeftOffset(),O=h.DomUtils.pxToInt(F.top)+this.dataObjectTopDelta,V=h.DomUtils.pxToInt(F.width),j=h.DomUtils.pxToInt(F.height);return new b.PdfTimeMarkerInfo(new u.Point(K,O),new T.Size(V,j),new i.Color(F.backgroundColor),new i.Color(F.borderLeftColor),L)},x.prototype.getMargin=function(I){var L=new a.Margin(0);if(I){var F=I.margin;F||(F+=I.marginTop||"0",F+=" "+I.marginRight||0,F+=" "+I.marginBottom||0,F+=" "+I.marginLeft||0),L.assign(F)}return L},x._defaultPageMargin=10,x._autoFormatWidthAddStock=1,x})();d.GanttExportCalculator=H},4991:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfDependencyLineInfo=void 0;var u=l(8900),h=l(405),p=(function(){function o(){}return o.prototype.assign=function(t){var n;this._copyPoints(t.points),this.arrowInfo=t.arrowInfo,(n=this.fillColor)!==null&&n!==void 0||(this.fillColor=new h.Color),this.fillColor.assign(t.fillColor)},o.prototype._copyPoints=function(t){var n=this;this.points=new Array,t==null||t.forEach((function(e){return n.points.push(new u.Point(e.x,e.y))}))},o})();d.PdfDependencyLineInfo=p},266:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfObjectDrawer=void 0;var u=l(2449),h=l(817),p=l(3917),o=(function(){function t(n,e){this._FONT_ROW_RATIO=1.15,this._info=e,this._pdfDoc=n}return t.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},t.prototype.drawTasks=function(){var n,e=this,i=(n=this._info)===null||n===void 0?void 0:n.tasks;i&&i.forEach((function(r){return e.drawTask(r)}))},t.prototype.drawTask=function(n){var e=this._pdfDoc;e.setFillColor.apply(e,n.taskColor.getRBGColor()),e.setDrawColor.apply(e,n.taskColor.getRBGColor()),n.isMilestone?this.drawMilestone(n):this.drawRegularTask(n)},t.prototype.drawMilestone=function(n){var e=this._pdfDoc,i=n.sidePoints[0].x,r=n.sidePoints[0].y,a=n.sidePoints[1].x,c=n.sidePoints[1].y,y=n.sidePoints[2].x,g=n.sidePoints[2].y,f=n.sidePoints[3].x,T=n.sidePoints[3].y;e.triangle(i,r,a,c,y,g,"FD"),e.triangle(i,r,f,T,y,g,"FD")},t.prototype.drawRegularTask=function(n){var e=this._pdfDoc;e.rect(n.left,n.top,n.width,n.height,"FD"),n.isParent&&this.drawParentBorder(n),n.progressWidth&&(e.setFillColor.apply(e,n.progressColor.getRBGColor()),e.rect(n.left,n.top,n.progressWidth,n.height,"F")),n.text&&this.printTaskTitle(n)},t.prototype.drawParentBorder=function(n){var e=this._pdfDoc,i=n.sidePoints[0].x,r=n.sidePoints[1].y,a=n.sidePoints[3].y,c=n.sidePoints[2].x,y=n.sidePoints[3].y-n.sidePoints[1].y,g=n.progressWidth>y?n.progressColor.getRBGColor():n.taskColor.getRBGColor();e.setFillColor.apply(e,g),e.triangle(i,r,i,a,i+y,r,"FD"),e.setFillColor.apply(e,n.taskColor.getRBGColor()),e.triangle(c,r,c,a,c-y,r,"FD")},t.prototype.printTaskTitle=function(n){var e,i=this._pdfDoc,r=n.textStyle,a=r&&r.textColor.getRBGColor(),c=r&&r.fontSize;i.setTextColor.apply(i,a),i.setFontSize(c);var y=n.top+c*this._FONT_ROW_RATIO/i.internal.scaleFactor;n.isParent&&(y-=p.PdfTaskInfo.defaultParentHeightCorrection);var g=r&&r.cellPadding.left||0,f=r&&r.cellPadding.right||0;if(n.textPosition===u.TaskTitlePosition.Inside){var T=n.width-g-f;e=n.left+g,i.text(h.EllipsisHelper.limitPdfTextWithEllipsis(n.text,i,T),e,y)}else e=n.left-f,i.text(n.text,e,y,{align:"right"})},t.prototype.drawDependencies=function(){var n,e=this,i=(n=this._info)===null||n===void 0?void 0:n.dependencies;i&&i.forEach((function(r){return e.drawDependencyLine(r)}))},t.prototype.drawDependencyLine=function(n){var e,i;if((e=this._pdfDoc).setFillColor.apply(e,n.fillColor.getRBGColor()),(i=this._pdfDoc).setDrawColor.apply(i,n.fillColor.getRBGColor()),n.arrowInfo)this.drawArrow(n);else{var r=n.points;this._pdfDoc.line(r[0].x,r[0].y,r[1].x,r[1].y)}},t.prototype.isValidLine=function(n){var e=n.points;return!(isNaN(e[0].x)||isNaN(e[0].y)||isNaN(e[1].x)||isNaN(e[1].y))},t.prototype.drawArrow=function(n){var e=n.arrowInfo.width||0,i=n.points[0].x,r=n.points[0].y;switch(n.arrowInfo.position){case u.Position.Left:this._pdfDoc.triangle(i,r+e,i+e,r,i+e,r+2*e,"FD");break;case u.Position.Right:this._pdfDoc.triangle(i,r,i,r+2*e,i+e,r+e,"FD");break;case u.Position.Top:this._pdfDoc.triangle(i,r+e,i+e,r,i+2*e,r+e,"FD");break;case u.Position.Bottom:this._pdfDoc.triangle(i,r,i+e,r+e,i+2*e,r,"FD")}},t.prototype.drawResources=function(){var n,e=this,i=this._pdfDoc,r=(n=this._info)===null||n===void 0?void 0:n.resources;r&&r.forEach((function(a){var c,y,g;i.setFontSize((c=a.style.fontSize)!==null&&c!==void 0?c:11);var f=a.y+a.style.fontSize*e._FONT_ROW_RATIO/i.internal.scaleFactor,T=(y=a.style.cellPadding.left)!==null&&y!==void 0?y:0,v=(g=a.style.cellPadding.right)!==null&&g!==void 0?g:1,k=Math.max(a.style.cellWidth.getValue(),T+i.getTextWidth(a.text)+v);i.setFillColor.apply(i,a.style.fillColor.getRBGColor()),i.rect(a.x,a.y,k,a.style.minCellHeight,"F"),i.setTextColor.apply(i,a.style.textColor.getRBGColor()),i.text(a.text,a.x+T,f)}))},t.prototype.drawTimeMarkers=function(){var n,e=this,i=(n=this._info)===null||n===void 0?void 0:n.timeMarkers;i==null||i.forEach((function(r){return e.drawTimeMarker(r)}))},t.prototype.drawTimeMarker=function(n){var e,i,r=this._pdfDoc,a=n.size.width>1,c=n.start.x,y=n.start.y,g=n.size.width,f=n.size.height,T=n.isStripLine;a&&(r.setFillColor.apply(r,n.color.getRBGColor()),r.saveGraphicsState(),r.setGState(new r.GState({opacity:(i=n.color.opacity)!==null&&i!==void 0?i:1})),r.rect(c,y,g,f,"F"),r.restoreGraphicsState()),T&&(this._pdfDoc.setLineDashPattern([3]),(e=this._pdfDoc).setDrawColor.apply(e,n.lineColor.getRBGColor()),a&&this._pdfDoc.line(c+g,y,c+g,y+f,"S"),this._pdfDoc.line(c,y,c,y+f,"S"),this._pdfDoc.setLineDashPattern())},t})();d.PdfObjectDrawer=o},3917:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfTaskInfo=void 0;var u=l(8900),h=l(405),p=l(6995),o=(function(){function t(){}return Object.defineProperty(t.prototype,"left",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var n=this.bottom-this.top;return this.isParent&&(n-=t.defaultParentHeightCorrection),n},enumerable:!1,configurable:!0}),t.prototype.assign=function(n){var e,i,r;this.isMilestone=n.isMilestone,this._copyPoints(n.sidePoints),this.progressWidth=n.progressWidth,this.isSmallTask=n.isSmallTask,this.text=n.text,this.textPosition=n.textPosition,(e=this.progressColor)!==null&&e!==void 0||(this.progressColor=new h.Color),this.progressColor.assign(n.progressColor),(i=this.taskColor)!==null&&i!==void 0||(this.taskColor=new h.Color),this.taskColor.assign(n.taskColor),(r=this.textStyle)!==null&&r!==void 0||(this.textStyle=new p.StyleDef),this.textStyle.assign(n.textStyle),this.isParent=n.isParent},t.prototype._copyPoints=function(n){var e=this;this.sidePoints=new Array,n==null||n.forEach((function(i){return e.sidePoints.push(new u.Point(i.x,i.y))}))},t.defaultParentHeightCorrection=4,t})();d.PdfTaskInfo=o},2485:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfTaskResourcesInfo=void 0;var u=l(2491),h=l(6995),p=(function(){function o(t,n,e,i){t&&(this.text=t),n&&(this.style=new h.StyleDef(n)),(0,u.isDefined)(e)&&(this.x=e),(0,u.isDefined)(i)&&(this.y=i)}return o.prototype.assign=function(t){this.text=t.text,this.style=new h.StyleDef(t.style),this.x=t.x,this.y=t.y},o})();d.PdfTaskResourcesInfo=p},7802:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfTimeMarkerInfo=void 0;var u=l(8900),h=l(6353),p=l(2491),o=l(405),t=(function(){function n(e,i,r,a,c){this.lineColor=new o.Color,this.color=new o.Color,e&&(this.start=new u.Point(e.x,e.y)),i&&(this.size=new h.Size(i.width,i.height)),r&&this.color.assign(r),a&&this.lineColor.assign(a),(0,p.isDefined)(c)&&(this.isStripLine=c)}return n.prototype.assign=function(e){var i,r,a,c;e&&(this.start=new u.Point((i=e.start)===null||i===void 0?void 0:i.x,(r=e.start)===null||r===void 0?void 0:r.y),this.size=new h.Size((a=e.size)===null||a===void 0?void 0:a.width,(c=e.size)===null||c===void 0?void 0:c.height),this.isStripLine=e.isStripLine,this.color.assign(e.color),this.lineColor.assign(e.lineColor))},n})();d.PdfTimeMarkerInfo=t},2978:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttExporter=void 0;var u=l(4970),h=(function(){function p(o){if(!o.settings.pdfDoc&&!o.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=o}return p.prototype.export=function(){var o,t,n=this.pdfDoc;this.applyCustomFont();for(var e=this._info,i=new u.PdfGanttPageDrawer(n,e.settings),r=e.getPages(n),a=r.length,c=0;c<a;c++){c>0&&n.addPage(this.getDocumentFormat(),this.getOrientation());var y=r[c];i.drawPage(y)}return!((o=this.props)===null||o===void 0)&&o.fileName&&n.save((t=this.props)===null||t===void 0?void 0:t.fileName),n},Object.defineProperty(p.prototype,"pdfDoc",{get:function(){var o,t;return(o=this._pdfDoc)!==null&&o!==void 0||(this._pdfDoc=(t=this._info.settings.pdfDoc)!==null&&t!==void 0?t:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),p.prototype.createDoc=function(){var o=this.getJsPDFProps();return this._info.settings.docCreateMethod(o)},p.prototype.getJsPDFProps=function(){var o={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return o.orientation=this.getOrientation(),o.format=this.getDocumentFormat(),o},p.prototype.getOrientation=function(){var o;return!((o=this.props)===null||o===void 0)&&o.landscape?"l":"p"},p.prototype.getDocumentFormat=function(){var o,t,n,e;return!((o=this.props)===null||o===void 0)&&o.format||!((t=this.props)===null||t===void 0)&&t.pageSize?!((n=this.props)===null||n===void 0)&&n.pageSize?[this.props.pageSize.height,this.props.pageSize.width]:(e=this.props)===null||e===void 0?void 0:e.format:"a4"},p.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},p})();d.PdfGanttExporter=h},8935:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfPageTableNames=void 0;var l=(function(){function u(){}return u.treeListHeader="treeListHeader",u.treeListMain="treeListMain",u.chartMain="chartMain",u.chartScaleTop="chartScaleTop",u.chartScaleBottom="chartScaleBottom",u})();d.PdfPageTableNames=l},4970:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttPageDrawer=void 0;var u=l(8900),h=l(266),p=l(8935),o=l(9895),t=l(5510),n=(function(){function e(i,r){this._pdfDoc=i,this._props=r}return e.prototype.drawPage=function(i){var r=this._pdfDoc,a=new t.PdfGanttTableDrawer(r);return this.needDrawChart()&&(a.drawTable(i.tables[p.PdfPageTableNames.chartMain]),new h.PdfObjectDrawer(r,i.objects).draw(),a.drawTable(i.tables[p.PdfPageTableNames.chartScaleTop]),a.drawTable(i.tables[p.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(a.drawTable(i.tables[p.PdfPageTableNames.treeListMain]),a.drawTable(i.tables[p.PdfPageTableNames.treeListHeader])),this.drawMargins(i),r},e.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===o.ExportMode.all||this._props.exportMode===o.ExportMode.chart},e.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===o.ExportMode.all||this._props.exportMode===o.ExportMode.treeList},e.prototype.getContentRightBottom=function(i){var r=new u.Point(0,0);for(var a in i.tables)if(Object.prototype.hasOwnProperty.call(i.tables,a)){var c=i.tables[a];r.x=Math.max(r.x,c.position.x+c.size.width),r.y=Math.max(r.y,c.position.y+c.size.height)}return r},e.prototype.drawMargins=function(i){var r=this._pdfDoc,a=this._props,c=r.getPageWidth(),y=r.getPageHeight(),g=this.getContentRightBottom(i);r.setFillColor(255,255,255),r.rect(0,0,a.margins.left,y,"F"),r.rect(0,0,c,a.margins.top,"F"),r.rect(g.x,0,c,y,"F"),r.rect(0,g.y,c,y,"F")},e})();d.PdfGanttPageDrawer=n},4429:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PageNavigation=void 0;var l=(function(){function u(h,p,o,t,n,e){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=h==null?void 0:h.top,this._left=h==null?void 0:h.left,this._bottom=h==null?void 0:h.bottom,this._right=h==null?void 0:h.right,this.vIndex=p??this.vIndex,this.hIndex=o??this.hIndex,this.pageX=t??this.pageX,this.pageY=n??this.pageY,e&&(this._correctedBottoms=e)}return u.prototype.offset=function(h,p){h&&this.offsetOneD(h),p&&this.offsetOneD(p,!0)},u.prototype.offsetOneD=function(h,p){for(var o=h,t=this.getSpaceToBorder(p);t<o;)p?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),o-=t,t=this.getSpaceToBorder(p);p?this.pageY+=o:this.pageX+=o},Object.defineProperty(u.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),u.prototype.getPageEnd=function(h){return h?this.getCurrentPageBottom():this._right},u.prototype.getPageStart=function(h){return h?this._top:this._left},u.prototype.getPageSize=function(h,p){return h?this.getPageHeight(p):this.defaultPageWidth},u.prototype.getSpaceToBorder=function(h){return h?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},u.prototype.getPageGlobalOffset=function(h,p){if(!p)return h*this.defaultPageWidth;for(var o=0,t=1;t<=h;t++)o+=this.getPageHeight(t-1);return o},u.prototype.assign=function(h){this._top=h._top,this._left=h._left,this._bottom=h._bottom,this._right=h._right,this._correctedBottoms=h._correctedBottoms,this.vIndex=h.vIndex,this.hIndex=h.hIndex,this.pageX=h.pageX,this.pageY=h.pageY},u.createFrom=function(h){var p=new u;return p.assign(h),p},u.prototype.clone=function(){var h=new u;return h.assign(this),h},u.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},u.prototype.getPageBottom=function(h){var p;return(p=this._correctedBottoms[h])!==null&&p!==void 0?p:this._bottom},u.prototype.getPageHeight=function(h){return this.getPageBottom(h)-this._top},u})();d.PageNavigation=l},3424:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttPaginator=void 0;var u=l(8900),h=l(6353),p=l(4991),o=l(3917),t=l(2485),n=l(7802),e=l(8935),i=l(6032),r=l(4429),a=function(g,f,T,v,k){this.pageVerIndex=f,this.pageHorIndex=g,this.cellRowIndexOnPage=T,this.cellColIndexOnPage=v,this.cell=k},c=(function(){function g(f,T,v,k){this.pageIndex=f,this.globalCellIndex=T,this.pageOffset=v,this.cutSize=k}return Object.defineProperty(g.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),g})(),y=(function(){function g(f,T,v){this._pdfDoc=f,this._props=T,this._globalInfo=v}return g.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},g.prototype._paginateTables=function(){this._paginateTable(e.PdfPageTableNames.treeListHeader),this._paginateTable(e.PdfPageTableNames.treeListMain),this._paginateTable(e.PdfPageTableNames.chartScaleBottom),this._paginateTable(e.PdfPageTableNames.chartScaleTop),this._paginateTable(e.PdfPageTableNames.chartMain)},g.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(g.prototype,"pageMatrixToArray",{get:function(){var f,T=new Array;return(f=this._pages)===null||f===void 0||f.forEach((function(v){T=T.concat(v)})),T},enumerable:!1,configurable:!0}),g.prototype._paginateTasks=function(){var f,T,v=this;(T=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.tasks)===null||T===void 0||T.forEach((function(k){return v._paginateTask(k)}))},g.prototype._paginateDependencies=function(){var f,T,v=this;(T=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.dependencies)===null||T===void 0||T.forEach((function(k){k.arrowInfo?v._paginateArrow(k):v._paginateDependencyLine(k)}))},g.prototype._paginateResources=function(){var f,T,v=this;(T=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.resources)===null||T===void 0||T.forEach((function(k){return v._paginateResource(k)}))},g.prototype._paginateTimeMarkers=function(){var f,T,v=this;(T=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.timeMarkers)===null||T===void 0||T.forEach((function(k){return v._paginateTimeMarker(k)}))},g.prototype._paginateTable=function(f){var T,v=(T=this._globalInfo)===null||T===void 0?void 0:T.tables[f];if(v){for(var k=this._getTableStart(v),b=this._preparePagesNavigationMatrixForTable(k,v),C=b.length,P=0;P<C;P++)for(var H=b[P].length,x=0;x<H;x++){var I=b[P][x],L=this._getPage(I.pageVerIndex,I.pageHorIndex,!0),F=I.pageHorIndex===k.hIndex?k.pageX:this.pageLeft,K=I.pageVerIndex===k.vIndex?k.pageY:this.pageTop;this._setTablePositionOnPage(L,f,F,K),this._addCellToPage(L,f,I)}this._updateTableSizeOnPages(f)}},g.prototype._paginateTask=function(f){for(var T=this._getTaskPagination(f),v=this._getTaskPagination(f,!0),k=0;k<v.length;k++)for(var b=0;b<T.length;b++){var C=new o.PdfTaskInfo;C.assign(f),this._offsetPoints(C.sidePoints,T[b].offset,v[k].offset),this._addTaskToPage(v[k].pageIndex,T[b].pageIndex,C)}},g.prototype._paginateArrow=function(f){var T=this._getPointPageInfo(f.points[0]),v=new p.PdfDependencyLineInfo;v.assign(f),this._offsetPoints(v.points,T.offsetX,T.offsetY),this._addDependencyToPage(T.pageVerIndex,T.pageHorIndex,v)},g.prototype._paginateDependencyLine=function(f){for(var T=this._getDependencyLinePagination(f),v=this._getDependencyLinePagination(f,!0),k=0;k<v.length;k++)for(var b=0;b<T.length;b++){var C=new p.PdfDependencyLineInfo;C.assign(f),this._offsetPoints(C.points,T[b].offset,v[k].offset),this._addDependencyToPage(v[k].pageIndex,T[b].pageIndex,C)}},g.prototype._paginateResource=function(f){var T=this._getPointPageInfo(new u.Point(f.x,f.y)),v=new t.PdfTaskResourcesInfo;v.assign(f),v.x-=T.offsetX,v.y-=T.offsetY,this._addResourceToPage(T.pageVerIndex,T.pageHorIndex,v)},g.prototype._paginateTimeMarker=function(f){for(var T=this._getTimeMarkerPagination(f),v=this._getTimeMarkerPagination(f,!0),k=0;k<v.length;k++)for(var b=0;b<T.length;b++){var C=new n.PdfTimeMarkerInfo;C.assign(f),C.start.x-=T[b].offset,C.start.y-=v[k].offset,this._addTimeMarkerToPage(v[k].pageIndex,T[b].pageIndex,C)}},g.prototype._getTableStart=function(f){var T=new r.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return T.offset(f.position.x,f.position.y),T},g.prototype._getPage=function(f,T,v){return v&&this._extendPageMatrixIfRequired(f,T),this._pages[f]&&this._pages[f][T]},g.prototype._getTableOrCreate=function(f,T){var v,k;return(v=(k=f.tables)[T])!==null&&v!==void 0||(k[T]=this._createTable(T)),f.tables[T]},g.prototype._preparePagesNavigationMatrixForTable=function(f,T){for(var v=new Array,k=this._getTableNavigationVector(f,T,!0),b=k.length,C=0;C<b;C++){for(var P=new Array,H=k[C],x=this._getTableNavigationVector(f,T,!1,H.globalCellIndex),I=x.length,L=0;L<I;L++){var F=x[L],K=T.name===e.PdfPageTableNames.chartScaleTop,O=this._prepareCuttedCell(T.cells[H.globalCellIndex][F.globalCellIndex],F,H,K),V=new a(F.pageIndex,H.pageIndex,H.cellIndexOnPage,F.cellIndexOnPage,O);P.push(V)}v.push(P)}return v},g.prototype._setTablePositionOnPage=function(f,T,v,k){this._getTableOrCreate(f,T).position=new u.Point(v,k)},g.prototype._extendPageMatrixIfRequired=function(f,T){var v;(v=this._pages)!==null&&v!==void 0||(this._pages=new Array);for(var k=this._pages.length;k<=f;k++)this._pages.push(new Array);var b=this._pages[f];for(k=b.length;k<=T;k++)b.push(this._createPage())},g.prototype._getTableAndExtendIfRequired=function(f,T,v,k){for(var b=this._getTableOrCreate(f,T),C=b.cells,P=C.length;P<=v;P++)C.push(new Array);var H=C[v];for(P=H.length;P<=k;P++)H.push(new i.CellDef);return b},g.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},g.prototype._createTable=function(f){var T,v=(T=this._globalInfo)===null||T===void 0?void 0:T.tables[f];return{name:f,size:null,position:null,style:v.style,baseCellSize:v.baseCellSize,cells:new Array,hideRowLines:v.hideRowLines}},g.prototype._addCellToPage=function(f,T,v){var k=v.cellRowIndexOnPage,b=v.cellColIndexOnPage;this._getTableAndExtendIfRequired(f,T,k,b).cells[k][b].assign(v.cell)},g.prototype._updateTableSizeOnPages=function(f){for(var T,v=(T=this._pages[0])===null||T===void 0?void 0:T.length,k=this._pages.length,b=0;b<k;b++)for(var C=0;C<v;C++)this._updateTableSizeOnPage(this._pages[b][C],f)},g.prototype._updateTableSizeOnPage=function(f,T){var v,k=this,b=f==null?void 0:f.tables[T];if(b){var C=b.cells.length*b.baseCellSize.height||0,P=((v=b.cells[0])===null||v===void 0?void 0:v.reduce((function(H,x,I){return H+k._getCellWidth(b,0,I)}),0))||0;b.size=new h.Size(P,C)}},g.prototype._getTableNavigationVector=function(f,T,v,k){var b,C;v===void 0&&(v=!1),k===void 0&&(k=0);for(var P=new Array,H=r.PageNavigation.createFrom(f),x=v?(b=T.cells)===null||b===void 0?void 0:b.length:(C=T.cells[k])===null||C===void 0?void 0:C.length,I=0;I<x;I++){var L=v?T.baseCellSize.height:this._getCellWidth(T,k,I);this._placeCell(P,H,I,L,v)}return P},g.prototype._placeCell=function(f,T,v,k,b){var C,P,H=b?T.vIndex:T.hIndex,x=(P=(C=f[f.length-1])===null||C===void 0?void 0:C.pageOffset)!==null&&P!==void 0?P:v,I=k,L=T.getSpaceToBorder(b);T.offsetOneD(k,b);var F=b?T.vIndex:T.hIndex;if(!b)for(var K=H;K<F;K++){var O=new c(K,v,x,L);x=v,f.push(O),I-=L,L=T.getPageSize(b)}F!==H&&(x=v);var V=new c(F,v,x,I!==k?I:null);f.push(V)},g.prototype._prepareCuttedCell=function(f,T,v,k){var b=new i.CellDef(f);if(T.isCutted){var C=T.cutSize;if(!k){var P=b.content,H=f.styles,x=C-(H&&H.cellPadding.left||0)-(H&&H.cellPadding.right||0),I=this._pdfDoc.splitTextToSize(P,x);f.content=P.replace(I[0],""),b.content=I[0]}b.styles.cellWidth.assign(C)}return v.isCutted&&(b.styles.minCellHeight=v.cutSize),b},g.prototype._getCellWidth=function(f,T,v){var k,b=f.cells[T][v],C=b.styles,P=C.cellWidth.getValue(),H=P??C.minCellWidth;return H??f.baseCellSize.width*((k=b.colSpan)!==null&&k!==void 0?k:1)},g.prototype._getTaskPagination=function(f,T){var v=T?f.height:f.width,k=T?f.top:f.left;return this._getLinePagination(k,v,T)},g.prototype._getDependencyLinePagination=function(f,T){var v=f.points[0],k=f.points[1],b=T?k.y-v.y:k.x-v.x,C=T?v.y:v.x;return this._getLinePagination(C,b,T)},g.prototype._getTimeMarkerPagination=function(f,T){var v=T?f.size.height:f.size.width,k=T?f.start.y:f.start.x;return this._getLinePagination(k,v,T)},g.prototype._getLinePagination=function(f,T,v){var k=new Array,b=this.pageNavigator.clone();b.offsetOneD(f,v);var C=v?b.vIndex:b.hIndex;b.offsetOneD(T,v);for(var P=v?b.vIndex:b.hIndex,H=C;H<=P;H++)k.push({offset:b.getPageGlobalOffset(H,v),pageIndex:H});return k},g.prototype._getPointPageInfo=function(f){var T=this.pageNavigator.clone();return T.offset(f.x,f.y),{offsetX:T.getPageGlobalOffset(T.hIndex),offsetY:T.getPageGlobalOffset(T.vIndex,!0),pageHorIndex:T.hIndex,pageVerIndex:T.vIndex}},Object.defineProperty(g.prototype,"pageWidth",{get:function(){var f;return(f=this._pdfDoc)===null||f===void 0?void 0:f.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageHeight",{get:function(){var f;return(f=this._pdfDoc)===null||f===void 0?void 0:f.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageLeftMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageTopMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageRightMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageBottomMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageLeft",{get:function(){var f;return(f=this._pageLeft)!==null&&f!==void 0||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageRight",{get:function(){var f;return(f=this._pageRight)!==null&&f!==void 0||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageTop",{get:function(){var f;return(f=this._pageTop)!==null&&f!==void 0||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageBottom",{get:function(){var f;return(f=this._pageBottom)!==null&&f!==void 0||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"correctedPageBottoms",{get:function(){var f;return(f=this._correctedPageBottoms)!==null&&f!==void 0||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageNavigator",{get:function(){var f;return(f=this._pageNavigator)!==null&&f!==void 0||(this._pageNavigator=new r.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),g.prototype._getCorrectedPagesBottom=function(){var f,T,v,k,b=new Array,C=(f=this._globalInfo)===null||f===void 0?void 0:f.tables,P=(T=C[e.PdfPageTableNames.treeListMain])!==null&&T!==void 0?T:C[e.PdfPageTableNames.chartMain],H=new r.PageNavigation(this.pageBorders);H.pageY=P.position.y;for(var x=0;x<P.cells.length;x++){var I=(k=(v=P.cells[x][0].styles)===null||v===void 0?void 0:v.minCellHeight)!==null&&k!==void 0?k:P.baseCellSize.height,L=H.vIndex,F=H.pageY;H.offsetOneD(I,!0),L!==H.vIndex&&(b.push(F),H.pageY=H.getPageStart(!0)+I)}return b},g.prototype._addTaskToPage=function(f,T,v){var k,b,C=this._getPage(f,T);C&&((k=(b=C.objects).tasks)!==null&&k!==void 0||(b.tasks=new Array),C.objects.tasks.push(v))},g.prototype._addDependencyToPage=function(f,T,v){var k,b,C=this._getPage(f,T);C&&((k=(b=C.objects).dependencies)!==null&&k!==void 0||(b.dependencies=new Array),C.objects.dependencies.push(v))},g.prototype._addResourceToPage=function(f,T,v){var k,b,C=this._getPage(f,T);C&&((k=(b=C.objects).resources)!==null&&k!==void 0||(b.resources=new Array),C.objects.resources.push(v))},g.prototype._addTimeMarkerToPage=function(f,T,v){var k,b,C=this._getPage(f,T);C&&((k=(b=C.objects).timeMarkers)!==null&&k!==void 0||(b.timeMarkers=new Array),C.objects.timeMarkers.push(v))},g.prototype._offsetPoints=function(f,T,v){f.forEach((function(k){k.x-=T,k.y-=v}))},g})();d.PdfGanttPaginator=y},5763:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScalingHelper=void 0;var u=l(8935),h=(function(){function p(o){this._doc=o}return Object.defineProperty(p.prototype,"_docScaleFactor",{get:function(){var o,t;return(t=(o=this._doc)===null||o===void 0?void 0:o.internal)===null||t===void 0?void 0:t.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-p._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),p.prototype.getScaledSize=function(o){return o*p._defaultScaleFactor/this._docScaleFactor},p.prototype.scalePageMargins=function(o){var t,n,e,i;this._correctScaleNeeded&&(!((t=o==null?void 0:o.margins)===null||t===void 0)&&t.left&&(o.margins.left=this.getScaledSize(o.margins.left)),!((n=o==null?void 0:o.margins)===null||n===void 0)&&n.right&&(o.margins.right=this.getScaledSize(o.margins.right)),!((e=o==null?void 0:o.margins)===null||e===void 0)&&e.top&&(o.margins.top=this.getScaledSize(o.margins.top)),!((i=o==null?void 0:o.margins)===null||i===void 0)&&i.bottom&&(o.margins.bottom=this.getScaledSize(o.margins.bottom)))},p.prototype.scaleSizes=function(o){this._correctScaleNeeded&&(this.scaleTables(o),this.scaleObjects(o.objects))},p.prototype.scaleTables=function(o){o!=null&&o.tables&&(this.scaleTable(o.tables[u.PdfPageTableNames.treeListHeader]),this.scaleTable(o.tables[u.PdfPageTableNames.treeListMain]),this.scaleTable(o.tables[u.PdfPageTableNames.chartMain]),this.scaleTable(o.tables[u.PdfPageTableNames.chartScaleTop]),this.scaleTable(o.tables[u.PdfPageTableNames.chartScaleBottom]))},p.prototype.scaleTable=function(o){var t,n,e,i,r,a;if(o&&(!((t=o.size)===null||t===void 0)&&t.width&&(o.size.width=this.getScaledSize(o.size.width)),!((n=o.size)===null||n===void 0)&&n.height&&(o.size.height=this.getScaledSize(o.size.height)),!((e=o.position)===null||e===void 0)&&e.x&&(o.position.x=this.getScaledSize(o.position.x)),!((i=o.position)===null||i===void 0)&&i.y&&(o.position.y=this.getScaledSize(o.position.y)),!((r=o.baseCellSize)===null||r===void 0)&&r.width&&(o.baseCellSize.width=this.getScaledSize(o.baseCellSize.width)),!((a=o.baseCellSize)===null||a===void 0)&&a.height&&(o.baseCellSize.height=this.getScaledSize(o.baseCellSize.height)),o.cells))for(var c=0;c<o.cells.length;c++)for(var y=o.cells[c],g=0;g<y.length;g++){var f=y[g];this.scaleStyle(f.styles)}},p.prototype.scaleObjects=function(o){this.scaleTasks(o==null?void 0:o.tasks),this.scaleDependencies(o==null?void 0:o.dependencies),this.scaleResources(o==null?void 0:o.resources),this.scaleTimeMarkers(o==null?void 0:o.timeMarkers)},p.prototype.scaleTasks=function(o){var t=this;o==null||o.forEach((function(n){t.scalePoints(n.sidePoints),n.progressWidth=t.getScaledSize(n.progressWidth),t.scaleStyle(n.textStyle)}))},p.prototype.scaleDependencies=function(o){var t=this;o==null||o.forEach((function(n){var e;t.scalePoints(n.points),!((e=n.arrowInfo)===null||e===void 0)&&e.width&&(n.arrowInfo.width=t.getScaledSize(n.arrowInfo.width))}))},p.prototype.scaleResources=function(o){var t=this;o==null||o.forEach((function(n){n.x=t.getScaledSize(n.x),n.y=t.getScaledSize(n.y),t.scaleStyle(n.style)}))},p.prototype.scaleTimeMarkers=function(o){var t=this;o==null||o.forEach((function(n){n.start.x=t.getScaledSize(n.start.x),n.start.y=t.getScaledSize(n.start.y),n.size.width=t.getScaledSize(n.size.width),n.size.height=t.getScaledSize(n.size.height)}))},p.prototype.scaleStyle=function(o){var t,n,e,i;if(o){var r=o.cellWidth;if(r!=null&&r.hasValue()){var a=this.getScaledSize(Number(r.getValue()));r.assign(a)}o.minCellHeight&&(o.minCellHeight=this.getScaledSize(o.minCellHeight)),o.minCellWidth&&(o.minCellWidth=this.getScaledSize(o.minCellWidth)),!((t=o.cellPadding)===null||t===void 0)&&t.left&&(o.cellPadding.left=this.getScaledSize(o.cellPadding.left)),!((n=o.cellPadding)===null||n===void 0)&&n.right&&(o.cellPadding.right=this.getScaledSize(o.cellPadding.right)),!((e=o.cellPadding)===null||e===void 0)&&e.top&&(o.cellPadding.top=this.getScaledSize(o.cellPadding.top)),!((i=o.cellPadding)===null||i===void 0)&&i.bottom&&(o.cellPadding.bottom=this.getScaledSize(o.cellPadding.bottom))}},p.prototype.scalePoints=function(o){var t=this;o==null||o.forEach((function(n){n.x=t.getScaledSize(n.x),n.y=t.getScaledSize(n.y)}))},p._defaultScaleFactor=.75,p})();d.ScalingHelper=h},7223:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfCustomFontSettings=void 0;var u=l(2491),h=(function(){function p(o){this.style="normal",o&&this.assign(o)}return p.prototype.assign=function(o){(0,u.isDefined)(o.fontObject)&&(this.fontObject=o.fontObject),(0,u.isDefined)(o.name)&&(this.name=o.name),(0,u.isDefined)(o.style)&&(this.style=o.style),(0,u.isDefined)(o.weight)&&(this.weight=o.weight)},p.prototype.applyToDoc=function(o){try{if(o&&this.fontObject&&this.name){var t=this.name+"-"+this.style+".ttf";o.addFileToVFS(t,this.fontObject),o.addFont(t,this.name,this.style,this.weight),o.setFont(this.name)}}catch{}},p})();d.PdfCustomFontSettings=h},6431:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfDataRange=void 0;var u=l(2491),h=(function(){function p(o,t,n,e){var i=!o||o instanceof Date?{startDate:o,endDate:t,startIndex:n,endIndex:e}:o;i&&this.assign(i)}return p.prototype.assign=function(o){(0,u.isDefined)(o.startDate)&&(this.startDate=o.startDate instanceof Date?o.startDate:new Date(o.startDate)),(0,u.isDefined)(o.endDate)&&(this.endDate=o.endDate instanceof Date?o.endDate:new Date(o.endDate)),(0,u.isDefined)(o.startIndex)&&(this.startIndex=parseInt(o.startIndex)),(0,u.isDefined)(o.endIndex)&&(this.endIndex=parseInt(o.endIndex))},p})();d.PdfDataRange=h},9895:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DataExportMode=d.ExportMode=void 0,(function(l){l[l.all=0]="all",l[l.treeList=1]="treeList",l[l.chart=2]="chart"})(d.ExportMode||(d.ExportMode={})),(function(l){l[l.all=0]="all",l[l.visible=1]="visible"})(d.DataExportMode||(d.DataExportMode={}))},6997:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttPdfExportProps=void 0;var u=l(6353),h=l(2491),p=l(5063),o=l(6431),t=l(7223),n=l(9895),e=(function(){function i(r){this.landscape=!1,this.margins=null,this.exportMode=n.ExportMode.all,this.exportDataMode=n.DataExportMode.visible,r&&this.assign(r)}return i.prototype.assign=function(r){if(r){if((0,h.isDefined)(r.pdfDocument)&&(this.pdfDoc=r.pdfDocument),(0,h.isDefined)(r.pdfDoc)&&(this.pdfDoc=r.pdfDoc),this.docCreateMethod=r.docCreateMethod,(0,h.isDefined)(r.fileName)&&(this.fileName=r.fileName),this.landscape=!!r.landscape,(0,h.isDefined)(r.margins)&&(this.margins=new p.Margin(r.margins)),(0,h.isDefined)(r.format)){var a=r.format;if(typeof a=="string")this.format=a;else{var c=parseInt(a.width),y=parseInt(a.height);this.pageSize=new u.Size(c,y)}}else if((0,h.isDefined)(r.pageSize)){var g=r.pageSize;this.pageSize=g instanceof u.Size?g.clone():new u.Size(g.width,g.height)}if((0,h.isDefined)(r.exportMode)&&(this.exportMode=this.getEnumValue(n.ExportMode,r.exportMode)),(0,h.isDefined)(r.dateRange)){var f=r.dateRange;typeof f=="number"||typeof f=="string"?this.exportDataMode=this.getEnumValue(n.DataExportMode,f):this.dateRange=new o.PdfDataRange(f)}(0,h.isDefined)(r.font)&&(this.font=new t.PdfCustomFontSettings(r.font))}},i.prototype.getEnumValue=function(r,a){if(!(0,h.isDefined)(r[a]))return null;var c=parseInt(a);return isNaN(c)?r[a]:c},i.autoFormatKey="auto",i})();d.GanttPdfExportProps=e},6032:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CellDef=void 0;var u=l(2491),h=l(6995),p=(function(){function o(t,n,e){this.content="",typeof t=="string"?(this.content=t,this.colSpan=n,e&&this.appendStyles(e)):t&&this.assign(t)}return Object.defineProperty(o.prototype,"styles",{get:function(){return this._styles||(this._styles=new h.StyleDef),this._styles},enumerable:!1,configurable:!0}),o.prototype.assign=function(t){(0,u.isDefined)(t.content)&&(this.content=t.content),(0,u.isDefined)(t.colSpan)&&(this.colSpan=t.colSpan),t.styles&&this.appendStyles(t.styles)},o.prototype.appendStyles=function(t){t&&this.styles.assign(t)},o.prototype.hasValue=function(){return!0},o.prototype.getValue=function(){var t={};return t.content=this.content,this.colSpan>1&&(t.colSpan=this.colSpan),this._styles&&(t.styles=this._styles.getValue()),t},o})();d.CellDef=p},405:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Color=void 0;var u=l(2491),h=(function(){function p(o){this._num=null,this._opacity=1,this._rgb=null,this.assign(o)}return Object.defineProperty(p.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),p.prototype.hasValue=function(){return(0,u.isDefined)(this._num)||!!this._rgb||this._opacity===0},p.prototype.getValue=function(){return!(this._opacity===0&&!this._rgb)&&((0,u.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},p.prototype.assign=function(o){this.reset(),typeof o=="string"&&this.assignFromString(o),typeof o=="number"&&(this._num=o),o instanceof Array&&this.assignFromRgbArray(o),o instanceof p&&this.assignFromColor(o)},p.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},p.prototype.assignFromString=function(o){o&&(o==="transparent"&&(this._opacity=0),o.indexOf("#")===0&&this.assignFromHexString(o),o.substr(0,3).toLowerCase()==="rgb"&&this.assignFromRgbString(o))},p.prototype.assignFromHexString=function(o){if(o.length===4&&(o="#"+o[1].repeat(2)+o[2].repeat(2)+o[3].repeat(2)),o.length>6){var t=parseInt(o.substr(1,2),16),n=parseInt(o.substr(3,2),16),e=parseInt(o.substr(5,2),16);this._rgb=[t,n,e]}},p.prototype.assignFromRgbString=function(o){var t=o.substr(0,4).toLowerCase()==="rgba",n=o.toLowerCase().match(t?p.rgbaRegexp:p.rgbRegexp);if(n){var e=parseInt(n[1]),i=parseInt(n[2]),r=parseInt(n[3]);this._rgb=[e,i,r],t&&(this._opacity=parseFloat(n[4]))}},p.prototype.assignFromRgbArray=function(o){o&&o.length>2&&(this._rgb=[o[0],o[1],o[2]],(0,u.isDefined)(o[3])&&(this._opacity=o[3]))},p.prototype.assignFromColor=function(o){this._opacity=o._opacity,this._num=o._num,this._rgb=o._rgb},p.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},p.prototype.applyOpacityToBackground=function(o){if(this._opacity!==1){var t=(o instanceof p?o:new p(o)).getValue();if(t instanceof Array){var n=this.opacity,e=Math.round((1-n)*t[0]+n*this._rgb[0]),i=Math.round((1-n)*t[1]+n*this._rgb[1]),r=Math.round((1-n)*t[2]+n*this._rgb[2]);this._rgb=[e,i,r]}}},p.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,p.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,p})();d.Color=h},5510:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttTableDrawer=void 0;var u=l(2491),h=l(8935),p=l(817),o=l(7624),t=(function(){function n(e){this._pdfDoc=e}return n.prototype.drawTable=function(e){var i,r;if(e){var a=this.createTableOptions(e);!((i=e.style)===null||i===void 0)&&i.fontSize&&this._pdfDoc.setFontSize((r=e.style)===null||r===void 0?void 0:r.fontSize),this._pdfDoc.autoTable(a.getValue())}},n.prototype.createTableOptions=function(e){var i=this.createDefaultTableOptions();return this.addTableCommonSettings(e,i),this.addCommonTableStyles(e,i),this.prepareBodyCells(e),i.addBody(e.cells),e.hideRowLines&&this.hideRowLines(i),i},n.prototype.createDefaultTableOptions=function(){var e=new o.TableOptions;return e.pageBreak="auto",e.margin.assign(0),e.tableWidth.assign("auto"),e.styles.cellPadding.assign(0),e.styles.halign="center",e.styles.valign="middle",e.styles.lineWidth=1,e.styles.overflow="hidden",e},n.prototype.addTableCommonSettings=function(e,i){i.startY=e.position.y,i.margin.assign({left:e.position.x}),i.tableWidth.assign(e.size.width)},n.prototype.addCommonTableStyles=function(e,i){var r=i.styles;r.assign(e.style),r.fillColor.opacity===0&&r.fillColor.assign("#FFFFFF"),r.minCellHeight=e.baseCellSize.height,i.alternateRowStyles.minCellHeight=i.styles.minCellHeight,i.alternateRowStyles.fillColor.assign(i.styles.fillColor),(0,u.isDefined)(e.baseCellSize.width)&&r.cellWidth.assign(e.baseCellSize.width)},n.prototype.prepareBodyCells=function(e){var i,r,a;if(e.name===h.PdfPageTableNames.treeListMain||e.name===h.PdfPageTableNames.chartScaleTop||e.name===h.PdfPageTableNames.chartScaleBottom)for(var c=e.cells,y=0;y<c.length;y++)for(var g=c[y],f=0;f<g.length;f++){var T=g[f],v=T.styles,k=((i=v==null?void 0:v.cellWidth)===null||i===void 0?void 0:i.getValue())||e.baseCellSize.width||0,b=(r=v==null?void 0:v.cellPadding.left)!==null&&r!==void 0?r:0,C=(a=v==null?void 0:v.cellPadding.right)!==null&&a!==void 0?a:0,P=Math.max(k-b-C-n.cellEllipsisSpace,0);T.content=p.EllipsisHelper.limitPdfTextWithEllipsis(T.content,this._pdfDoc,P)}},n.prototype.hideRowLines=function(e){e.styles.lineWidth=0,e.onDrawCellCallback=function(i){var r=i.cell,a=i.doc,c=r.styles.lineColor,y=r.x,g=r.x+r.styles.cellWidth,f=r.y,T=r.y+i.row.height,v=i.column.index===i.table.columns.length-1,k=i.row.index===i.table.body.length-1,b=i.row.index===0;a.setDrawColor(c[0],c[1],c[2]),a.setLineWidth(1),a.line(y,T,y,f),v&&a.line(g,T,g,f),b&&a.line(y,f,g,f),k&&a.line(y,T,g,T)}},n.cellEllipsisSpace=3,n})();d.PdfGanttTableDrawer=t},817:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EllipsisHelper=void 0;var l=(function(){function u(){}return u.limitPdfTextWithEllipsis=function(h,p,o){if(!(p!=null&&p.getTextWidth)||!o)return h;if(p.getTextWidth(h.toString())>o){for(var t=h,n=h.length-1;p.getTextWidth(t)>o&&n>0;)t=t.substring(0,n)+u.ellipsis,n--;return t}return h},u.ellipsis="...",u})();d.EllipsisHelper=l},5063:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Margin=void 0;var u=l(2491),h=l(6907),p=(function(){function o(t){this.assign(t)}return o.prototype.assign=function(t){if((0,u.isDefined)(t))if(typeof t=="string")this.assignFromString(t);else if(typeof t=="number"||t instanceof Array)this.assignWithValues(t);else{var n=t||t;this.assignWithMargin(n)}},o.prototype.assignFromString=function(t){var n=t.split(" ").map((function(e){return h.DomUtils.pxToInt(e)}));this.assignWithValues(n)},o.prototype.assignWithMargin=function(t){(0,u.isDefined)(t.top)&&(this.top=t.top),(0,u.isDefined)(t.right)&&(this.right=t.right),(0,u.isDefined)(t.bottom)&&(this.bottom=t.bottom),(0,u.isDefined)(t.left)&&(this.left=t.left)},o.prototype.assignWithValues=function(t){var n=this.getCorrectedValues(t);this.top=n[0],this.right=n[1],this.bottom=n[2],this.left=n[3]},o.prototype.getCorrectedValues=function(t){var n=[this.top,this.right,this.bottom,this.left];if(typeof t=="number")n=[t,t,t,t];else{var e=t;switch(e.length){case 1:n=[e[0],e[0],e[0],e[0]];break;case 2:n=[e[0],e[1],e[0],e[1]];break;case 3:n=[e[0],e[1],e[2],e[1]];break;default:e.forEach((function(i,r){return n[r]=i}))}}return n},o.prototype.hasValue=function(){return(0,u.isDefined)(this.top)||(0,u.isDefined)(this.left)||(0,u.isDefined)(this.right)||(0,u.isDefined)(this.bottom)},o.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var t={};return(0,u.isDefined)(this.top)&&(t.top=this.top),(0,u.isDefined)(this.left)&&(t.left=this.left),(0,u.isDefined)(this.right)&&(t.right=this.right),(0,u.isDefined)(this.bottom)&&(t.bottom=this.bottom),t},o})();d.Margin=p},2642:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PredefinedStyles=void 0;var l=(function(){function u(){}return u.getPredefinedStringOrUndefined=function(h,p){var o=h&&p&&h.toLowerCase()||void 0;return o&&(p.filter((function(t){return t.toLowerCase()===o}))[0]||p.filter((function(t){return o.indexOf(t.toLowerCase())>-1}))[0])},u.fontFamilies=["helvetica","times","courier"],u.fontStyles=["normal","bold","italic","bolditalic"],u.headerFooterVisibility=["everyPage","firstPage","never"],u.horizontalAlign=["left","center","right"],u.overflow=["linebreak","ellipsize","visible","hidden"],u.pageBreak=["auto","avoid","always"],u.rowPageBreak=["auto","avoid"],u.verticalAlign=["top","middle","bottom"],u.width=["auto","wrap"],u})();d.PredefinedStyles=l},6995:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StyleDef=void 0;var u=l(2491),h=l(6907),p=l(405),o=l(2642),t=l(5063),n=l(7343),e=(function(){function i(r){this._fillColor=new p.Color,this._textColor=new p.Color,this._lineColor=new p.Color,this._cellWidth=new n.Width,this._cellPadding=new t.Margin,r&&this.assign(r)}return Object.defineProperty(i.prototype,"font",{get:function(){return this._fontFamily},set:function(r){this._fontFamily=o.PredefinedStyles.getPredefinedStringOrUndefined(r,o.PredefinedStyles.fontFamilies)||r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle=o.PredefinedStyles.getPredefinedStringOrUndefined(r,o.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overflow",{get:function(){return this._overflow},set:function(r){this._overflow=o.PredefinedStyles.getPredefinedStringOrUndefined(r,o.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(r){this._horizontalAlign=o.PredefinedStyles.getPredefinedStringOrUndefined(r,o.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valign",{get:function(){return this._verticalAlign},set:function(r){this._verticalAlign=o.PredefinedStyles.getPredefinedStringOrUndefined(r,o.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(r){this._lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(r){this._minCellWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(r){this._minCellHeight=r},enumerable:!1,configurable:!0}),i.prototype.assign=function(r){r&&(r instanceof i?((0,u.isDefined)(r.font)&&(this.font=r.font),(0,u.isDefined)(r.fontStyle)&&(this.fontStyle=r.fontStyle),(0,u.isDefined)(r.overflow)&&(this.overflow=r.overflow),(0,u.isDefined)(r.halign)&&(this.halign=r.halign),(0,u.isDefined)(r.valign)&&(this.valign=r.valign),(0,u.isDefined)(r.fontSize)&&(this.fontSize=r.fontSize),(0,u.isDefined)(r.lineWidth)&&(this.lineWidth=r.lineWidth),(0,u.isDefined)(r.minCellWidth)&&(this.minCellWidth=r.minCellWidth),(0,u.isDefined)(r.minCellHeight)&&(this.minCellHeight=r.minCellHeight),(0,u.isDefined)(r.fillColor)&&this.fillColor.assign(r.fillColor),(0,u.isDefined)(r.textColor)&&this.textColor.assign(r.textColor),(0,u.isDefined)(r.lineColor)&&this.lineColor.assign(r.lineColor),(0,u.isDefined)(r.cellWidth)&&this.cellWidth.assign(r.cellWidth),(0,u.isDefined)(r.cellPadding)&&this.cellPadding.assign(r.cellPadding)):this.assignFromCssStyle(r))},i.prototype.assignFromCssStyle=function(r){if(r.fontFamily&&(this.font=this.getPdfFontFamily(r)),this.fontStyle=this.getPdfFontStyle(r),(0,u.isDefined)(r.fontSize)&&(this.fontSize=this.getPfrFontSize(r.fontSize)),r.textAlign&&(this.halign=r.textAlign),r.verticalAlign&&(this.valign=r.verticalAlign),(0,u.isDefined)(r.borderWidth)&&(this.lineWidth=r.borderWidth),(0,u.isDefined)(r.cellWidth)&&this.cellWidth.assign(r.cellWidth),(0,u.isDefined)(r.width)&&(this.minCellWidth=typeof r.width=="number"?r.width:h.DomUtils.pxToInt(r.width)),(0,u.isDefined)(r.height)&&(this.minCellHeight=typeof r.height=="number"?r.height:h.DomUtils.pxToInt(r.height)),r.backgroundColor&&this.fillColor.assign(r.backgroundColor),r.color&&this.textColor.assign(r.color),r.borderColor&&this.lineColor.assign(r.borderColor),(0,u.isDefined)(r.width)&&this.cellWidth.assign(r.width),this.assignPaddingFromCss(r),(0,u.isDefined)(r.extraLeftPadding)){var a=this._cellPadding.left;this._cellPadding.left=a?a+r.extraLeftPadding:r.extraLeftPadding}},i.prototype.getPdfFontStyle=function(r){var a=r.fontWeight,c=parseInt(a),y=a==="bold"||!isNaN(c)&&c>500,g=y?"bold":"normal";return r.fontStyle==="italic"&&(g=y?"bolditalic":"italic"),g},i.prototype.getPdfFontFamily=function(r){var a=r.fontFamily&&r.fontFamily.toLowerCase(),c="helvetica";return a.indexOf("times")>-1&&(c="times"),a.indexOf("courier")>-1&&(c="courier"),c},i.prototype.getPfrFontSize=function(r){var a=h.DomUtils.pxToInt(r);if(!isNaN(a))return Math.ceil(a/96*72)},i.prototype.assignPaddingFromCss=function(r){if(r.padding)this._cellPadding.assign(r.padding);else{var a={};r.paddingLeft&&(a.left=h.DomUtils.pxToInt(r.paddingLeft)),r.paddingTop&&(a.top=h.DomUtils.pxToInt(r.paddingTop)),r.paddingRight&&(a.right=h.DomUtils.pxToInt(r.paddingRight)),r.paddingBottom&&(a.bottom=h.DomUtils.pxToInt(r.paddingBottom)),this._cellPadding.assign(a)}},i.prototype.hasValue=function(){return!0},i.prototype.getValue=function(){var r=this,a={};return(0,u.isDefined)(this.font)&&(a.font=this.font),(0,u.isDefined)(this.fontStyle)&&(a.fontStyle=this.fontStyle),(0,u.isDefined)(this.fontSize)&&(a.fontSize=this.fontSize),(0,u.isDefined)(this.overflow)&&(a.overflow=this.overflow),(0,u.isDefined)(this.halign)&&(a.halign=this.halign),(0,u.isDefined)(this.valign)&&(a.valign=this.valign),(0,u.isDefined)(this.lineWidth)&&(a.lineWidth=this.lineWidth),(0,u.isDefined)(this.minCellWidth)&&(a.minCellWidth=this.minCellWidth),(0,u.isDefined)(this.minCellHeight)&&(a.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach((function(c){var y=r[c];y&&y.hasValue()&&(a[c]=y.getValue())})),a},i.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},i})();d.StyleDef=e},7624:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TableOptions=void 0;var u=l(2491),h=l(6032),p=l(405),o=l(2642),t=l(5063),n=l(6995),e=l(7343),i=(function(){function r(){this._margin=new t.Margin,this._tableLineColor=new p.Color,this._tableWidth=new e.Width,this._styles=new n.StyleDef,this._alternateRowStyles=new n.StyleDef}return Object.defineProperty(r.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(a){this._pageBreak=o.PredefinedStyles.getPredefinedStringOrUndefined(a,o.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(a){this._rowPageBreak=o.PredefinedStyles.getPredefinedStringOrUndefined(a,o.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showHead",{get:function(){return this._showHead},set:function(a){this._showHead=o.PredefinedStyles.getPredefinedStringOrUndefined(a,o.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showFoot",{get:function(){return this._showFoot},set:function(a){this._showFoot=o.PredefinedStyles.getPredefinedStringOrUndefined(a,o.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startY",{get:function(){return this._startY},set:function(a){this._startY=a},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(a){this._tableLineWidth=a},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),r.prototype.hasValue=function(){return!0},r.prototype.getValue=function(){var a=this,c={};return c.pageBreak=this.pageBreak,c.rowPageBreak=this.rowPageBreak,c.showFoot=this.showFoot,c.showHead=this.showHead,c.startY=this.startY,c.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach((function(y){var g=a[y];g&&g.hasValue()&&(c[y]=g.getValue())})),c.body=this.getBodyForJsPdf(),c.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(c.didDrawCell=this.onDrawCellCallback),c},r.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},r.prototype.getBodyForJsPdf=function(){for(var a=[],c=0;c<this._body.length;c++){for(var y=this._body[c],g=[],f=0;f<y.length;f++)g.push(y[f].getValue());a.push(g)}return a},r.prototype.assign=function(a){a&&((0,u.isDefined)(a.margin)&&this.margin.assign(a.margin),(0,u.isDefined)(a.pageBreak)&&(this.pageBreak=a.pageBreak),(0,u.isDefined)(a.rowPageBreak)&&(this.rowPageBreak=a.rowPageBreak),(0,u.isDefined)(a.showFoot)&&(this.showFoot=a.showFoot),(0,u.isDefined)(a.showHead)&&(this.showHead=a.showHead),(0,u.isDefined)(a.startY)&&(this.startY=a.startY),(0,u.isDefined)(a.tableLineWidth)&&(this.tableLineWidth=a.tableLineWidth),(0,u.isDefined)(a.tableLineColor)&&this.tableLineColor.assign(a.tableLineColor),(0,u.isDefined)(a.tableWidth)&&this.tableWidth.assign(a.tableWidth))},r.prototype.addBody=function(a){a&&(this._body=new Array,this.addCells(a,this._body))},r.prototype.addCells=function(a,c){for(var y=this.styles.fillColor,g=0;g<a.length;g++){for(var f=a[g],T=new Array,v=0;v<f.length;v++){var k=new h.CellDef(f[v]);y.hasValue()&&k.styles&&k.styles.fillColor.hasValue()&&k.styles.fillColor.applyOpacityToBackground(y),T.push(k)}c.push(T)}},r.prototype.applyColumnStyle=function(a,c){var y;(y=this._columnStyles)!==null&&y!==void 0||(this._columnStyles=new Array),this._columnStyles[a]=new n.StyleDef(c)},r.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var a={};return this._columnStyles.forEach((function(c,y){c&&(a[y]=c.getValue())})),a}return null},r})();d.TableOptions=i},7343:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Width=void 0;var u=l(2642),h=l(6907),p=(function(){function o(t){this.assign(t)}return o.prototype.assign=function(t){if(t instanceof o)this._widthInternal=t._widthInternal;else{var n=typeof t=="number"?t:parseInt(t);isNaN(n)?this.assignFromString(t):this._widthInternal=n}},o.prototype.assignFromString=function(t){if(t){var n=h.DomUtils.pxToInt(t);this._widthInternal=n||u.PredefinedStyles.getPredefinedStringOrUndefined(t,u.PredefinedStyles.width)}},o.prototype.hasValue=function(){return!!this._widthInternal},o.prototype.getValue=function(){return this._widthInternal},o})();d.Width=p},8603:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaExportHelper=void 0;var u=l(6907),h=l(858),p=l(1855),o=l(9201),t=l(405),n=l(9895),e=(function(){function i(r,a){this._owner=r,this._props=a}return Object.defineProperty(i.prototype,"customRangeLeftOffset",{get:function(){var r;return(r=this._customRangeLeftOffset)!==null&&r!==void 0||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var r=this.visibleTaskIndices[0];return this.getCellTop(r)+this.getTaskCellOffsetTop(r)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetLeft",{get:function(){var r;return(r=this._offsetLeft)!==null&&r!==void 0||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetTop",{get:function(){var r;return(r=this._offsetTop)!==null&&r!==void 0||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scales",{get:function(){var r=this.settings.viewType;return[o.DateUtils.ViewTypeToScaleMap[r],r]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleRanges",{get:function(){var r;return(r=this._scaleRanges)!==null&&r!==void 0||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleTopWidths",{get:function(){var r;return(r=this._scaleTopWidths)!==null&&r!==void 0||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleBottomWidths",{get:function(){var r;return(r=this._scaleBottomWidths)!==null&&r!==void 0||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var r=this.scaleElements[0].filter((function(a){return!!a&&a.offsetHeight}))[0];this._headerRowHeight=r==null?void 0:r.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleTaskIndices",{get:function(){var r;return(r=this._visibleTaskIndices)!==null&&r!==void 0||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleTableStyle",{get:function(){var r;return(r=this._scaleTableStyle)!==null&&r!==void 0||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"chartMainTableStyle",{get:function(){var r;return(r=this._chartMainTableStyle)!==null&&r!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parentRowBackColor",{get:function(){var r;return(r=this._parentRowBackColor)!==null&&r!==void 0||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arrowWidth",{get:function(){var r;return(r=this._arrowWidth)!==null&&r!==void 0||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dependencyColor",{get:function(){var r;return(r=this._dependencyColor)!==null&&r!==void 0||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),i.prototype.getTaskElementBackColor=function(r,a){var c=this.getTaskElementStyle(r,a);return c==null?void 0:c.backgroundColor},i.prototype.getTaskElementStyle=function(r,a){var c=this.getTaskWrapper(r);return this.getElementStyle(c.getElementsByClassName(a)[0])},i.prototype.isElementVisible=function(r){return r&&getComputedStyle(r).display!=="none"},Object.defineProperty(i.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleLeft",{get:function(){var r;return(r=this._visibleLeft)!==null&&r!==void 0||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleTop",{get:function(){var r;return(r=this._visibleTop)!==null&&r!==void 0||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleRight",{get:function(){var r;return(r=this._visibleRight)!==null&&r!==void 0||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),i.prototype.getVisibleRight=function(){var r=this.container.getElement().offsetWidth;return this.visibleLeft+r},Object.defineProperty(i.prototype,"visibleBottom",{get:function(){var r;return(r=this._visibleBottom)!==null&&r!==void 0||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),i.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(i.prototype,"scaleLeft",{get:function(){var r;return(r=this._scaleLeft)!==null&&r!==void 0||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleRight",{get:function(){var r;return(r=this._scaleRight)!==null&&r!==void 0||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),i.prototype.getScaleTopWidths=function(){var r=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),a=this.layoutCalculator,c=a.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),y=a.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),g=Math.max(c.position.x-y.position.x,0);r[this.scaleTopStartIndex]-=g;var f=a.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),T=a.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return g=Math.max(f.position.x+f.size.width-T.position.x-T.size.width,0),r[this.scaleTopEndIndex]-=g,r},i.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},i.prototype.getScaleWidths=function(r,a,c){for(var y=new Array,g=r;g<=a;g++)y[g]=this.layoutCalculator.getScaleItemInfo(g,c).size.width;return y},i.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(i.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),i.prototype.getTaskCellOffsetTop=function(r){var a=this.getCellTop(r);return Math.max(this.visibleTop-a,0)},i.prototype.getCellTop=function(r){return this.layoutCalculator.getGridBorderPosition(r-1,!1).y},i.prototype.getCellLeft=function(r){return this.layoutCalculator.getScaleItemInfo(r,this.scales[1]).position.x},i.prototype.getTaskIndices=function(){var r,a;return this.dataMode===n.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices((r=this.exportRange)===null||r===void 0?void 0:r.startIndex,(a=this.exportRange)===null||a===void 0?void 0:a.endIndex):this.getVisibleTaskIndices()},i.prototype.getVisibleTaskIndices=function(){var r=this,a=[];return this.taskElements.forEach((function(c,y){if(c){var g=u.DomUtils.pxToInt(c.style.top),f=g+c.offsetHeight,T=g>=r.visibleTop&&g<=r.visibleBottom,v=f>=r.visibleTop&&f<=r.visibleBottom;(T||v)&&a.push(y)}})),a},Object.defineProperty(i.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter((function(r){return!!r}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter((function(r){return!!r}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectorLines",{get:function(){var r,a=this;return(r=this._connectorLines)!==null&&r!==void 0||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter((function(c){return a.isLineVisible(c)}))),this._connectorLines},enumerable:!1,configurable:!0}),i.prototype.isLineVisible=function(r){if(this.dataMode===n.DataExportMode.all)return!0;var a=r.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(a)>-1},Object.defineProperty(i.prototype,"visibleDependencyKeys",{get:function(){var r;return(r=this._visibleDependencyKeys)!==null&&r!==void 0||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resourcesElements",{get:function(){var r,a=this;return(r=this._resourcesElements)!==null&&r!==void 0||(this._resourcesElements=this.visibleTaskIndices.map((function(c){return a._owner.renderHelper.resourcesElements[c]})).filter((function(c){return a.isElementVisible(c)&&c.parentElement}))),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var r=this._owner.renderHelper.stripLinesMap.filter((function(a){return!!a})).map((function(a){return a}));this._stripLinesElements=r.map((function(a){return a}))}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var r=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&this._noWorkingIntervalsElements.push(r[a])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataMode",{get:function(){var r;return(r=this._props)===null||r===void 0?void 0:r.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exportRange",{get:function(){var r;return(r=this._props)===null||r===void 0?void 0:r.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVisibleMode",{get:function(){return this.dataMode===n.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startDate",{get:function(){var r,a,c,y;if(!((r=this.exportRange)===null||r===void 0)&&r.startDate&&(!((a=this.exportRange)===null||a===void 0)&&a.endDate)){var g=Math.min((c=this.exportRange)===null||c===void 0?void 0:c.startDate.getTime(),(y=this.exportRange)===null||y===void 0?void 0:y.endDate.getTime());return new Date(g)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endDate",{get:function(){var r,a,c,y;if(!((r=this.exportRange)===null||r===void 0)&&r.startDate&&(!((a=this.exportRange)===null||a===void 0)&&a.endDate)){var g=Math.max((c=this.exportRange)===null||c===void 0?void 0:c.startDate.getTime(),(y=this.exportRange)===null||y===void 0?void 0:y.endDate.getTime());return new Date(g)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var r=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new p.GridLayoutCalculator,this._layoutCalculator.setSettings(r.visibleTaskAreaSize,r.tickSize,r.elementSizeValues,new h.DateRange(this.startDate,this.endDate),r.viewModel,r.viewType,r.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=r}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),i.prototype.getPosByDate=function(r){return this.layoutCalculator.getPosByDate(r)},i.prototype.getScaleTableStyle=function(){var r={},a=this.scaleElements[0].filter((function(y){return!!y}))[0],c=this.getElementStyle(a);return r.backgroundColor=this.findElementBackColor(a),r.borderColor=this.getChartTableBorderColor(),r.verticalAlign="middle",r.textAlign="center",r.fontSize=c.fontSize,r.fontFamily=c.fontFamily,r.fontWeight=c.fontWeight,r.fontStyle=c.fontStyle,r.color=c.color,r},i.prototype.getChartMainTableStyle=function(){var r={};return r.backgroundColor=this.findElementBackColor(this.taskArea),r.borderColor=this.getChartTableBorderColor(),r},i.prototype.findElementBackColor=function(r){if(!r)return null;for(var a=r,c=new t.Color("transparent");c.opacity===0&&a;){var y=this.getElementStyle(a);c.assign(y.backgroundColor),a=a.parentElement}return c},i.prototype.getChartTableBorderColor=function(){var r=this.getElementStyle(this.scaleBorders[0].filter((function(a){return!!a}))[0]);return r==null?void 0:r.borderColor},i.prototype.getParentBackColor=function(){var r=this.getElementStyle(this.hlRowElements[0]);return r==null?void 0:r.backgroundColor},i.prototype.getArrowWidth=function(){var r=this.getDependencyLineStyle(p.GridLayoutCalculator.arrowClassName),a=r.borderWidth||r.borderLeftWidth||r.borderRightWidth||r.borderTopWidth||r.borderBottomWidth;return r&&u.DomUtils.pxToInt(a)},i.prototype.getDependencyColor=function(){var r=this.getDependencyLineStyle(p.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return r==null?void 0:r.borderColor},i.prototype.getDependencyLineStyle=function(r){return this.getElementStyle(this.taskArea.getElementsByClassName(r)[0])},i.prototype.getElementStyle=function(r){return r&&getComputedStyle(r)},i.prototype.getTaskWrapper=function(r){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[r]||this._owner.renderHelper.createDefaultTaskElement(r),this.taskElements[r])},Object.defineProperty(i.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),i})();d.TaskAreaExportHelper=e},6057:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CollectionBase=void 0;var u=l(2491),h=l(2601),p=(function(){function o(){this._items=new Array,this._isGanttCollection=!0}return o.prototype.add=function(t){if((0,u.isDefined)(t)){if(this.getItemById(t.internalId))throw"The collection item with id ='"+t.internalId+"' already exists.";this._addItem(t)}},o.prototype.addRange=function(t){for(var n=0;n<t.length;n++)this.add(t[n])},o.prototype.remove=function(t){var n=this._items.indexOf(t);n>-1&&n<this._items.length&&this._removeItems(n,1)},o.prototype.clear=function(){this._removeItems(0,this._items.length)},o.prototype.invalidate=function(){delete this._invertedItems},o.prototype._addItem=function(t){this._items.push(t),delete this._invertedItems},o.prototype._removeItems=function(t,n){this._items.splice(t,n),delete this._invertedItems},Object.defineProperty(o.prototype,"items",{get:function(){return this._items.slice()},set:function(t){t&&(this._items=t.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),o.prototype.getItem=function(t){return t>-1&&t<this._items.length?this._items[t]:null},Object.defineProperty(o.prototype,"invertedItems",{get:function(){var t;return(t=this._invertedItems)!==null&&t!==void 0||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),o.prototype._createInvertedItems=function(){for(var t={},n=0;n<this._items.length;n++){var e=this._items[n];t[e.internalId]=e}return t},o.prototype.getItemById=function(t){return this.invertedItems[t]},o.prototype.getItemByPublicId=function(t){return this._items.filter((function(n){return n.id===t||n.id.toString()===t}))[0]},o.prototype.assign=function(t){(0,u.isDefined)(t)&&(this.items=t.items)},o.prototype.importFromObject=function(t){(0,u.isDefined)(t)&&(this.clear(),t._isGanttCollection?this.assign(t):t instanceof Array?this.importFromArray(t):this.createItemFromObjectAndAdd(t))},o.prototype.createItemFromObjectAndAdd=function(t){if((0,u.isDefined)(t)&&Object.keys(t).length>0){var n=this.createItem();n.assignFromObject(t),this.add(n)}},o.prototype.importFromArray=function(t){for(var n=0;n<t.length;n++)this.createItemFromObjectAndAdd(t[n])},o.prototype.importFromJSON=function(t){this.importFromObject(h.GanttJsonUtils.parseJson(t))},o})();d.CollectionBase=p},7380:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyCollection=void 0;var u=l(655),h=l(6057),p=l(7352),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.createItem=function(){return new p.Dependency},n})(h.CollectionBase);d.DependencyCollection=o},4432:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WorkingDayRuleCollection=void 0;var u=l(655),h=l(6057),p=l(8401),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.createItem=function(){return new p.WorkingTimeRule},n})(h.CollectionBase);d.WorkingDayRuleCollection=o},9883:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceAssignmentCollection=void 0;var u=l(655),h=l(6057),p=l(7437),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.createItem=function(){return new p.ResourceAssignment},n})(h.CollectionBase);d.ResourceAssignmentCollection=o},8828:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceCollection=void 0;var u=l(655),h=l(6057),p=l(2301),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.createItem=function(){return new p.Resource},n})(h.CollectionBase);d.ResourceCollection=o},9504:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskCollection=void 0;var u=l(655),h=l(8492),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.createItem=function(){return new h.Task},t})(l(6057).CollectionBase);d.TaskCollection=p},5594:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EventDispatcher=void 0;var l=(function(){function u(){this.listeners=[]}return u.prototype.add=function(h){if(!h)throw new Error("Error");this.hasEventListener(h)||this.listeners.push(h)},u.prototype.remove=function(h){for(var p=0,o=void 0;o=this.listeners[p];p++)if(o===h){this.listeners.splice(p,1);break}},u.prototype.raise=function(h){for(var p=[],o=1;o<arguments.length;o++)p[o-1]=arguments[o];for(var t=0,n=void 0;n=this.listeners[t];t++){var e=n[h];e==null||e.apply(n,p)}},u.prototype.hasEventListener=function(h){for(var p=0,o=this.listeners.length;p<o;p++)if(this.listeners[p]===h)return!0;return!1},u})();d.EventDispatcher=l},3452:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ModelChangesDispatcher=void 0;var u=l(255),h=l(8403),p=l(8738),o=l(9669),t=l(5594),n=(function(){function e(){this.onModelChanged=new t.EventDispatcher,this.isLocked=!1}return e.prototype.notifyTaskCreating=function(i){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",i)},e.prototype.notifyTaskCreated=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",i,r,a)},e.prototype.notifyTaskRemoving=function(i){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",i)},e.prototype.notifyTaskRemoved=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",i,r,a)},e.prototype.notifyTaskUpdating=function(i){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",i)},e.prototype.notifyTaskMoving=function(i){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",i)},e.prototype.notifyTaskEditDialogShowing=function(i){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",i)},e.prototype.notifyResourceManagerDialogShowing=function(i){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",i)},e.prototype.notifyTaskUpdated=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",i,r,a)},e.prototype.notifyParentTaskUpdated=function(i,r){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",i,r)},e.prototype.notifyDependencyInserting=function(i){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",i)},e.prototype.notifyDependencyInserted=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",i,r,a)},e.prototype.notifyDependencyRemoving=function(i){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",i)},e.prototype.notifyDependencyRemoved=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",i,r,a)},e.prototype.notifyResourceCreating=function(i){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",i)},e.prototype.notifyResourceCreated=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",i,r,a)},e.prototype.notifyResourceRemoving=function(i){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",i)},e.prototype.notifyResourceRemoved=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",i,r,a)},e.prototype.notifyResourceColorChanged=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",i,r,a)},e.prototype.notifyResourceAssigning=function(i){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",i)},e.prototype.notifyResourceAssigned=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",i,r,a)},e.prototype.notifyResourceUnassigning=function(i){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",i)},e.prototype.notifyResourceUnassigned=function(i,r,a){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",i,r,a)},e.prototype.notifyParentDataRecalculated=function(i){this.onModelChanged.raise("NotifyParentDataRecalculated",i)},e.prototype.notifyScaleCellPrepared=function(i){this.onModelChanged.raise("NotifyScaleCellPrepared",i)},e.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},e.prototype.fireResourceUnassigning=function(i){var r=new p.ResourceUnassigningArguments(i);return this.notifyResourceUnassigning(r),!r.cancel},e.prototype.raiseTaskUpdating=function(i,r,a){var c=new o.TaskUpdatingArguments(i,r);return this.notifyTaskUpdating(c),!c.cancel&&(a(c.newValues),!0)},e.prototype.raiseTaskMoving=function(i,r,a,c){var y=new o.TaskUpdatingArguments(i,{start:r,end:a});return this.notifyTaskMoving(y),!y.cancel&&(c(y.start,y.end),!0)},e.prototype.raiseTaskTaskEditDialogShowing=function(i,r){var a=new h.TaskEditDialogShowingArguments(i);return this.notifyTaskEditDialogShowing(a),!a.cancel&&(r(a),!0)},e.prototype.raiseResourceManagerDialogShowing=function(i,r){var a=new u.ResourceManagerDialogShowingArguments(i);return this.notifyResourceManagerDialogShowing(a),!a.cancel&&(r(a),!0)},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e})();d.ModelChangesDispatcher=n},6124:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttDataObjectNames=d.DataObject=void 0;var u=l(2491),h=l(8679),p=(function(){function o(){this.internalId=h.MathUtils.generateGuid()}return o.prototype.assignFromObject=function(t){(0,u.isDefined)(t)&&(0,u.isDefined)(t.id)&&this.updateId(t.id)},o.prototype.updateId=function(t){this.id=t,this.internalId=String(t)},o})();d.DataObject=p,d.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},7352:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Dependency=void 0;var u=l(655),h=l(2491),p=l(6124),o=l(5950),t=(function(n){function e(){var i=n.call(this)||this;return i.predecessorId="",i.successorId="",i.type=null,i}return u.__extends(e,n),Object.defineProperty(e.prototype,"isStartDependency",{get:function(){return this.type===o.DependencyType.SS||this.type===o.DependencyType.SF},enumerable:!1,configurable:!0}),e.prototype.assignFromObject=function(i){(0,h.isDefined)(i)&&(n.prototype.assignFromObject.call(this,i),this.predecessorId=String(i.predecessorId),this.successorId=String(i.successorId),this.type=this.parseType(i.type))},e.prototype.parseType=function(i){if(!(0,h.isDefined)(i))return o.DependencyType.FS;switch(i.toString().toUpperCase()){case"SS":case"1":return o.DependencyType.SS;case"FF":case"2":return o.DependencyType.FF;case"SF":case"3":return o.DependencyType.SF;default:return o.DependencyType.FS}},e})(p.DataObject);d.Dependency=t},5950:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyType=d.TaskType=void 0,(function(l){l[l.Regular=0]="Regular",l[l.Summary=1]="Summary",l[l.Milestone=2]="Milestone"})(d.TaskType||(d.TaskType={})),(function(l){l[l.FS=0]="FS",l[l.SS=1]="SS",l[l.FF=2]="FF",l[l.SF=3]="SF"})(d.DependencyType||(d.DependencyType={}))},2301:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Resource=void 0;var u=l(655),h=l(2491),p=(function(o){function t(){var n=o.call(this)||this;return n.text="",n.color="",n}return u.__extends(t,o),t.prototype.assignFromObject=function(n){(0,h.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.text=n.text,(0,h.isDefined)(n.color)&&(this.color=n.color))},t})(l(6124).DataObject);d.Resource=p},7437:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceAssignment=void 0;var u=l(655),h=l(2491),p=(function(o){function t(){var n=o.call(this)||this;return n.taskId="",n.resourceId="",n}return u.__extends(t,o),t.prototype.assignFromObject=function(n){(0,h.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.taskId=String(n.taskId),this.resourceId=String(n.resourceId))},t})(l(6124).DataObject);d.ResourceAssignment=p},8492:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Task=void 0;var u=l(655),h=l(2491),p=l(6124),o=-8e15,t=(function(n){function e(){var i=n.call(this)||this;return i.start=null,i.end=null,i.duration=null,i.description="",i.parentId=null,i.title="",i.owner=null,i.progress=0,i.taskType=null,i.customFields={},i.expanded=!0,i.color="",i}return u.__extends(e,n),Object.defineProperty(e.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),e.prototype.assignFromObject=function(i){(0,h.isDefined)(i)&&(n.prototype.assignFromObject.call(this,i),this.owner=i.owner,this.parentId=(0,h.isDefined)(i.parentId)?String(i.parentId):null,this.rawParentId=i.parentId,this.description=i.description,this.title=i.title,this.start=typeof i.start=="string"?new Date(i.start):i.start||this.createInvalidDate(),this.end=typeof i.end=="string"?new Date(i.end):i.end||this.createInvalidDate(),this.duration=i.duration,this.progress=i.progress,this.taskType=i.taskType,(0,h.isDefined)(i.expanded)&&(this.expanded=!!i.expanded),(0,h.isDefined)(i.color)&&(this.color=i.color),this.assignCustomFields(i.customFields))},e.prototype.assignCustomFields=function(i){if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(this.customFields[r]=i[r])},e.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},e.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},e.prototype.isValidStart=function(){return this.isValidTaskaDte(this.start)},e.prototype.isValidEnd=function(){return this.isValidTaskaDte(this.end)},e.prototype.isValid=function(){return this.isValidStart()&&this.isValidEnd()},e.prototype.createInvalidDate=function(){return new Date(o)},e.prototype.isValidTaskaDte=function(i){return!!i&&i.getTime()!==o},e})(p.DataObject);d.Task=t},8774:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseArguments=void 0;var l=function(u){this.cancel=!1,this.values={},this.key=u};d.BaseArguments=l},3279:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyInsertingArguments=void 0;var u=l(655),h=(function(p){function o(t,n,e){var i=p.call(this,null)||this;return i.values={predecessorId:t,successorId:n,type:e},i}return u.__extends(o,p),Object.defineProperty(o.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),o})(l(8774).BaseArguments);d.DependencyInsertingArguments=h},4797:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyRemovingArguments=void 0;var u=l(655),h=(function(p){function o(t){var n=p.call(this,t.id)||this;return n.values=t,n}return u.__extends(o,p),o})(l(8774).BaseArguments);d.DependencyRemovingArguments=h},255:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceManagerDialogShowingArguments=void 0;var u=l(655),h=(function(p){function o(t){var n=p.call(this,void 0)||this;return n.values.resources=t.resources,n}return u.__extends(o,p),o})(l(8774).BaseArguments);d.ResourceManagerDialogShowingArguments=h},8403:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditDialogShowingArguments=void 0;var u=l(655),h=(function(p){function o(t){var n=p.call(this,t.id)||this;return n.values={start:t.start,end:t.end,title:t.title,progress:t.progress},n.hiddenFields=t.hiddenFields,n.readOnlyFields=t.readOnlyFields,n}return u.__extends(o,p),o})(l(8774).BaseArguments);d.TaskEditDialogShowingArguments=h},1389:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceAssigningArguments=void 0;var u=l(655),h=(function(p){function o(t,n){var e=p.call(this,null)||this;return e.values={resourceId:t,taskId:n},e}return u.__extends(o,p),Object.defineProperty(o.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),o})(l(8774).BaseArguments);d.ResourceAssigningArguments=h},8738:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceUnassigningArguments=void 0;var u=l(655),h=(function(p){function o(t){var n=p.call(this,t.internalId)||this;return n.values=t,n}return u.__extends(o,p),o})(l(8774).BaseArguments);d.ResourceUnassigningArguments=h},990:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceInsertingArguments=void 0;var u=l(655),h=(function(p){function o(t,n){n===void 0&&(n="");var e=p.call(this,null)||this;return e.values={text:t,color:n},e}return u.__extends(o,p),Object.defineProperty(o.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),o})(l(8774).BaseArguments);d.ResourceInsertingArguments=h},9748:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceRemovingArguments=void 0;var u=l(655),h=(function(p){function o(t){var n=p.call(this,t.id)||this;return n.values=t,n}return u.__extends(o,p),o})(l(8774).BaseArguments);d.ResourceRemovingArguments=h},4605:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskInsertingArguments=void 0;var u=l(655),h=(function(p){function o(t,n){var e=p.call(this,t)||this;return e.values=n??{},e}return u.__extends(o,p),Object.defineProperty(o.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),o})(l(8774).BaseArguments);d.TaskInsertingArguments=h},4642:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskRemovingArguments=void 0;var u=l(655),h=(function(p){function o(t){var n=p.call(this,t.id)||this;return n.values=t,n}return u.__extends(o,p),o})(l(8774).BaseArguments);d.TaskRemovingArguments=h},9669:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskUpdatingArguments=void 0;var u=l(655),h=(function(p){function o(t,n){var e=p.call(this,t.id)||this;return e.values=t,e.createNewValues(n),e}return u.__extends(o,p),o.prototype.createNewValues=function(t){var n=this;this.newValues={};var e=function(a){Object.prototype.hasOwnProperty.call(t,a)&&(i.newValues[a]=t[a],Object.defineProperty(i,a,{get:function(){return n.newValues[a]}}))},i=this;for(var r in t)e(r)},o})(l(8774).BaseArguments);d.TaskUpdatingArguments=h},8725:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.History=void 0;var u=l(5221),h=l(9751),p=(function(){function o(t){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=t}return o.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},o.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},o.prototype.beginTransaction=function(){var t;this.transactionLevel++,this.transactionLevel==0&&(this.transaction=new h.CompositionHistoryItem,(t=this._listener)===null||t===void 0||t.onTransactionStart())},o.prototype.endTransaction=function(){var t;if(!(--this.transactionLevel>=0)){var n=this.transaction.historyItems.length;n>1?this.addInternal(this.transaction):n==1&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,(t=this._listener)===null||t===void 0||t.onTransactionEnd()}},o.prototype.addAndRedo=function(t){this.add(t),this.activateItem(t)},o.prototype.add=function(t){this.transactionLevel>=0?this.transaction.add(t):this.addInternal(t)},o.prototype.canUndo=function(){return this.currentIndex>=0},o.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},o.prototype.addInternal=function(t){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(t),this.currentIndex++,this.deleteOldItems()},o.prototype.deleteOldItems=function(){var t=this.historyItems.length-o.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},o.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},o.prototype.activateItem=function(t,n){n===void 0&&(n=!1),this.currentProcessingItemInfo=new u.HistoryItemInfo(t,n),n?t.undo():t.redo(),this.currentProcessingItemInfo=null},o.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},o.prototype.rollBackAndRemove=function(t){var n=t.item;this.checkAndRemoveItem(n)&&(t.isUndo?n.redo():n instanceof h.CompositionHistoryItem?n.undoItemsQuery():n.undo())},o.prototype.checkAndRemoveItem=function(t){var n=this.historyItems.indexOf(t);return n>-1?(this.historyItems.splice(n,1),this.currentIndex--):this.transaction&&(n=this.transaction.historyItems.indexOf(t))>-1&&this.transaction.historyItems.splice(n,1),n>-1},o.prototype.updateObsoleteInsertedKey=function(t,n,e){this.transaction&&this.updateItemsObsoleteInsertedKey(t,n,e,[this.transaction]),this.updateItemsObsoleteInsertedKey(t,n,e,this.historyItems)},o.prototype.updateItemsObsoleteInsertedKey=function(t,n,e,i){if(i)for(var r=0;r<i.length;r++){var a=i[r];a.keyUpdaters.filter((function(c){return c.getKey()===t&&c.objectType===e})).forEach((function(c){return c.updateKey(n)})),a instanceof h.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(t,n,e,a.historyItems)}},o.MAX_HISTORY_ITEM_COUNT=100,o})();d.History=p},9751:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CompositionHistoryItem=void 0;var u=l(655),h=(function(p){function o(){var t=p.call(this,null)||this;return t.historyItems=[],t}return u.__extends(o,p),o.prototype.redo=function(){for(var t,n=0;t=this.historyItems[n];n++)t.redo()},o.prototype.undo=function(){for(var t,n=this.historyItems.length-1;t=this.historyItems[n];n--)t.undo()},o.prototype.add=function(t){if(t==null)throw new Error("Can't add null HistoryItem");this.historyItems.push(t)},o.prototype.undoItemsQuery=function(){this.undo()},o.prototype.setModelManipulator=function(t){if(p.prototype.setModelManipulator.call(this,t),this.historyItems)for(var n=0;n<this.historyItems.length;n++)this.historyItems[n].setModelManipulator(t)},o})(l(7917).HistoryItem);d.CompositionHistoryItem=h},1211:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InsertDependencyHistoryItem=void 0;var u=l(655),h=l(8679),p=l(6124),o=(function(t){function n(e,i,r,a){var c=t.call(this,e)||this;return c.predecessorId=i,c.successorId=r,c.type=a,c}return u.__extends(n,t),n.prototype.redo=function(){var e;(e=this.insertedKey)!==null&&e!==void 0||(this.insertedKey=h.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},n.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:p.GanttDataObjectNames.dependency,getKey:function(){return e.insertedKey},updateKey:function(i){return e.insertedKey=i}},{objectType:p.GanttDataObjectNames.task,getKey:function(){return e.predecessorId},updateKey:function(i){return e.predecessorId=i}},{objectType:p.GanttDataObjectNames.task,getKey:function(){return e.successorId},updateKey:function(i){return e.successorId=i}}]},enumerable:!1,configurable:!0}),n})(l(7917).HistoryItem);d.InsertDependencyHistoryItem=o},5865:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveDependencyHistoryItem=void 0;var u=l(655),h=l(6124),p=(function(o){function t(n,e){var i=o.call(this,n)||this;return i.dependencyId=e,i}return u.__extends(t,o),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var n=this;return[{objectType:h.GanttDataObjectNames.dependency,getKey:function(){return n.dependencyId},updateKey:function(e){return n.dependencyId=e}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var e;return(e=n.dependency)===null||e===void 0?void 0:e.predecessorId},updateKey:function(e){return n.dependency.predecessorId=e}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var e;return(e=n.dependency)===null||e===void 0?void 0:e.successorId},updateKey:function(e){return n.dependency.successorId=e}}]},enumerable:!1,configurable:!0}),t})(l(7917).HistoryItem);d.RemoveDependencyHistoryItem=p},7917:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.HistoryItem=void 0;var l=(function(){function u(h){this.setModelManipulator(h)}return u.prototype.setModelManipulator=function(h){this.modelManipulator=h},Object.defineProperty(u.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),u})();d.HistoryItem=l},5221:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.HistoryItemInfo=void 0;var l=function(u,h){h===void 0&&(h=!1),this.item=u,this.isUndo=h};d.HistoryItemInfo=l},3064:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.HistoryItemState=void 0;var l=function(u,h){this.id=u,this.value=h};d.HistoryItemState=l},3683:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AssignResourceHistoryItem=void 0;var u=l(655),h=l(7917),p=l(6124),o=l(8679),t=(function(n){function e(i,r,a){var c=n.call(this,i)||this;return c.resourceId=r,c.taskId=a,c}return u.__extends(e,n),e.prototype.redo=function(){var i;(i=this.insertedKey)!==null&&i!==void 0||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},e.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:p.GanttDataObjectNames.resourceAssignment,getKey:function(){return i.insertedKey},updateKey:function(r){return i.insertedKey=r}},{objectType:p.GanttDataObjectNames.task,getKey:function(){return i.taskId},updateKey:function(r){return i.taskId=r}},{objectType:p.GanttDataObjectNames.resource,getKey:function(){return i.resourceId},updateKey:function(r){return i.resourceId=r}}]},enumerable:!1,configurable:!0}),e})(h.HistoryItem);d.AssignResourceHistoryItem=t},1493:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DeassignResourceHistoryItem=void 0;var u=l(655),h=l(7917),p=l(6124),o=(function(t){function n(e,i){var r=t.call(this,e)||this;return r.assignmentId=i,r}return u.__extends(n,t),n.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},n.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:p.GanttDataObjectNames.resourceAssignment,getKey:function(){return e.assignmentId},updateKey:function(i){return e.assignmentId=i}},{objectType:p.GanttDataObjectNames.task,getKey:function(){var i;return(i=e.assignment)===null||i===void 0?void 0:i.taskId},updateKey:function(i){return e.assignment.taskId=i}},{objectType:p.GanttDataObjectNames.resource,getKey:function(){var i;return(i=e.assignment)===null||i===void 0?void 0:i.resourceId},updateKey:function(i){return e.assignment.resourceId=i}}]},enumerable:!1,configurable:!0}),n})(h.HistoryItem);d.DeassignResourceHistoryItem=o},2961:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateResourceHistoryItem=void 0;var u=l(655),h=l(7917),p=l(6124),o=l(8679),t=(function(n){function e(i,r,a,c){a===void 0&&(a="");var y=n.call(this,i)||this;return y.text=r,y.color=a,y.createCallback=c,y}return u.__extends(e,n),e.prototype.redo=function(){var i;(i=this.insertedKey)!==null&&i!==void 0||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},e.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:p.GanttDataObjectNames.resource,getKey:function(){return i.insertedKey},updateKey:function(r){return i.insertedKey=r}}]},enumerable:!1,configurable:!0}),e})(h.HistoryItem);d.CreateResourceHistoryItem=t},4641:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceColorHistoryItem=void 0;var u=l(655),h=(function(p){function o(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(o,p),o.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},o})(l(7049).ResourcePropertiesHistoryItemBase);d.ResourceColorHistoryItem=h},7049:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertiesHistoryItemBase=void 0;var u=l(655),h=l(6124),p=(function(o){function t(n,e,i){var r=o.call(this,n)||this;return r.resourceId=e,r.newValue=i,r}return u.__extends(t,o),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var n=this;return[{objectType:h.GanttDataObjectNames.resource,getKey:function(){return n.resourceId},updateKey:function(e){return n.resourceId=e}}]},enumerable:!1,configurable:!0}),t})(l(7917).HistoryItem);d.ResourcePropertiesHistoryItemBase=p},7466:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveResourceHistoryItem=void 0;var u=l(655),h=l(9751),p=l(6124),o=(function(t){function n(e,i){var r=t.call(this)||this;return r.modelManipulator=e,r.resourceId=i,r}return u.__extends(n,t),n.prototype.redo=function(){t.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},n.prototype.undo=function(){var e=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){e.resource.color&&e.modelManipulator.resource.properties.color.setValue(e.resource.internalId,e.resource.color),window.setTimeout((function(){return t.prototype.undo.call(e)}),0)}))},n.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){})),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),t.prototype.undo.call(this)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:p.GanttDataObjectNames.resource,getKey:function(){return e.resourceId},updateKey:function(i){return e.resourceId=i}}]},enumerable:!1,configurable:!0}),n})(h.CompositionHistoryItem);d.RemoveResourceHistoryItem=o},1284:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateTaskHistoryItem=void 0;var u=l(655),h=l(8679),p=l(6124),o=(function(t){function n(e,i){var r=t.call(this,e)||this;return r.data=i,r}return u.__extends(n,t),n.prototype.redo=function(){var e;(e=this.insertedKey)!==null&&e!==void 0||(this.insertedKey=h.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},n.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e,i=this,r=[{objectType:p.GanttDataObjectNames.task,getKey:function(){return i.insertedKey},updateKey:function(a){return i.insertedKey=a}}];return!((e=this.data)===null||e===void 0)&&e.parentId&&r.push({objectType:p.GanttDataObjectNames.task,getKey:function(){var a;return(a=i.data)===null||a===void 0?void 0:a.parentId},updateKey:function(a){return i.data.parentId=a}}),r},enumerable:!1,configurable:!0}),n})(l(7917).HistoryItem);d.CreateTaskHistoryItem=o},9599:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveTaskHistoryItem=void 0;var u=l(655),h=l(6124),p=l(9751),o=(function(t){function n(e,i){var r=t.call(this)||this;return r.modelManipulator=e,r.taskId=i,r}return u.__extends(n,t),n.prototype.redo=function(){t.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},n.prototype.undo=function(){var e=this;this.modelManipulator.task.create(this.task,this.taskId,(function(){window.setTimeout((function(){return t.prototype.undo.call(e)}),0)}))},n.prototype.undoItemsQuery=function(){var e;this.modelManipulator.task.create(this.task,this.taskId);for(var i=this.historyItems.length-1;e=this.historyItems[i];i--)e instanceof p.CompositionHistoryItem?e.undoItemsQuery():e.undo()},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:h.GanttDataObjectNames.task,getKey:function(){return e.taskId},updateKey:function(i){return e.taskId=i}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var i;return(i=e.task)===null||i===void 0?void 0:i.parentId},updateKey:function(i){return e.task.parentId=i}}]},enumerable:!1,configurable:!0}),n})(p.CompositionHistoryItem);d.RemoveTaskHistoryItem=o},9496:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UpdateTaskHistoryItem=void 0;var u=l(655),h=l(6124),p=l(7917),o=l(3064),t=(function(n){function e(i,r,a){var c=n.call(this,i)||this;return c.taskId=r,c.newValues=a,c}return u.__extends(e,n),e.prototype.redo=function(){var i=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new o.HistoryItemState(this.taskId,i)},e.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:h.GanttDataObjectNames.task,getKey:function(){return i.taskId},updateKey:function(r){return i.taskId=r}}]},enumerable:!1,configurable:!0}),e})(p.HistoryItem);d.UpdateTaskHistoryItem=t},6382:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseManipulator=void 0;var l=(function(){function u(h,p){this.viewModel=h,this.dispatcher=p}return u.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(u.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),u})();d.BaseManipulator=l},1178:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskDependencyManipulator=void 0;var u=l(655),h=l(6124),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.insertDependency=function(n,e,i,r){var a=this.viewModel;a.onBeginDataObjectCreate();var c=a.dependencies.createItem();return c.predecessorId=n,c.successorId=e,c.type=i,r&&(c.internalId=r),c.id=c.internalId,a.dependencies.add(c),a.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(c.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(c),(function(y){var g=c.internalId;c.updateId(y),a.processServerInsertedKey(g,c.internalId,h.GanttDataObjectNames.dependency)}),this.getErrorCallback()),a.onEndDataObjectCreate(),c},t.prototype.removeDependency=function(n){var e=this.viewModel.dependencies.getItemById(n);return this.viewModel.dependencies.remove(e),this.dispatcher.notifyDependencyRemoved(e.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(e)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(e.internalId),e},t.prototype.getObjectForDataSource=function(n){var e=this.viewModel.tasks.getItemById(n.predecessorId),i=this.viewModel.tasks.getItemById(n.successorId);return{id:n.id,predecessorId:e.id,successorId:i.id,type:n.type}},t})(l(6382).BaseManipulator);d.TaskDependencyManipulator=p},9650:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ModelManipulator=void 0;var u=l(1178),h=l(7518),p=l(728),o=function(t,n){this.task=new p.TaskManipulator(t,n),this.dependency=new u.TaskDependencyManipulator(t,n),this.resource=new h.ResourcesManipulator(t,n),this.dispatcher=n};d.ModelManipulator=o},4596:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceColorManipulator=void 0;var u=l(655),h=(function(p){function o(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(o,p),o.prototype.getPropertyValue=function(t){return t.color},o.prototype.setPropertyValue=function(t,n){t.color=n,this.dispatcher.notifyResourceColorChanged(t.id,n,this.getErrorCallback())},o})(l(7470).ResourcePropertyManipulator);d.ResourceColorManipulator=h},79:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertiesManipulator=void 0;var u=l(655),h=l(6382),p=l(4596),o=(function(t){function n(e,i){var r=t.call(this,e,i)||this;return r.color=new p.ResourceColorManipulator(e,i),r}return u.__extends(n,t),n})(h.BaseManipulator);d.ResourcePropertiesManipulator=o},7470:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertyManipulator=void 0;var u=l(655),h=l(3064),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.setValue=function(n,e){var i=this,r=this.viewModel.resources.getItemById(n),a=new h.HistoryItemState(n,this.getPropertyValue(r));return this.setPropertyValue(r,e),this.viewModel.assignments.items.filter((function(c){return c.resourceId===r.internalId})).forEach((function(c){var y=i.viewModel.findItem(c.taskId).visibleIndex;i.renderHelper.recreateTaskElement(y)})),a},t.prototype.restoreValue=function(n){var e=this;if(n){var i=n.value,r=this.viewModel.resources.getItemById(n.id);this.setPropertyValue(r,i),this.viewModel.assignments.items.filter((function(a){return a.resourceId===r.internalId})).forEach((function(a){var c=e.viewModel.findItem(a.taskId).visibleIndex;e.renderHelper.recreateTaskElement(c)}))}},t})(l(6382).BaseManipulator);d.ResourcePropertyManipulator=p},7518:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcesManipulator=void 0;var u=l(655),h=l(6124),p=l(6382),o=l(79),t=(function(n){function e(i,r){var a=n.call(this,i,r)||this;return a.properties=new o.ResourcePropertiesManipulator(i,r),a}return u.__extends(e,n),e.prototype.create=function(i,r,a,c){var y=this.viewModel;y.onBeginDataObjectCreate();var g=y.resources.createItem();return g.text=i,r&&(g.color=r),a&&(g.internalId=a),g.id=g.internalId,this.viewModel.resources.add(g),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(g),(function(f){var T=g.internalId;g.updateId(f),y.processServerInsertedKey(T,g.internalId,h.GanttDataObjectNames.resource),c&&c(f)}),this.getErrorCallback()),y.onEndDataObjectCreate(),g},e.prototype.remove=function(i){var r=this.viewModel.resources.getItemById(i);if(!r)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter((function(a){return a.resourceId===i})).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(r),this.dispatcher.notifyResourceRemoved(r.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(r)),r},e.prototype.assign=function(i,r,a){var c=this.viewModel;c.onBeginDataObjectCreate();var y=c.assignments.createItem();return y.resourceId=i,y.taskId=r,a&&(y.internalId=a),y.id=y.internalId,this.viewModel.assignments.add(y),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(y),(function(g){var f=y.internalId;y.updateId(g),c.processServerInsertedKey(f,y.internalId,h.GanttDataObjectNames.resourceAssignment)}),this.getErrorCallback()),this.viewModel.updateModel(),c.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),y},e.prototype.deassig=function(i){var r=this.viewModel.assignments.getItemById(i);return this.viewModel.assignments.remove(r),this.dispatcher.notifyResourceUnassigned(r.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(r)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),r},e.prototype.getResourceObjectForDataSource=function(i){return{id:i.id,text:i.text}},e.prototype.getResourceAssignmentObjectForDataSource=function(i){return{id:i.id,taskId:this.viewModel.tasks.getItemById(i.taskId).id,resourceId:this.viewModel.resources.getItemById(i.resourceId).id}},e})(p.BaseManipulator);d.ResourcesManipulator=t},728:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskManipulator=void 0;var u=l(655),h=l(2491),p=l(6124),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.create=function(e,i,r){var a=this,c=this.viewModel;c.onBeginDataObjectCreate();var y=c.tasks.createItem();y.start=e.start,y.end=e.end,y.title=e.title,y.progress=e.progress,e.color&&(y.color=e.color);var g=c.tasks.getItemById(e.parentId);return g&&(g.expanded=!0),y.parentId=e.parentId,i&&(y.internalId=i),y.id=y.internalId,c.tasks.add(y),c.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(y),(function(f){var T=y.internalId;if(y.updateId(f),c.processServerInsertedKey(T,y.internalId,p.GanttDataObjectNames.task),r&&r(),a.viewModel.requireFirstLoadParentAutoCalc){var v=c.getCurrentTaskData().map((function(k){return k.parentId===""&&(k.parentId=null),k}));a.dispatcher.notifyParentDataRecalculated(v)}}),this.getErrorCallback()),c.onEndDataObjectCreate(),c.owner.resetAndUpdate(),y},n.prototype.remove=function(e){var i=this.viewModel.tasks.getItemById(e);if(!i)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter((function(r){return r.predecessorId==e||r.successorId==e})).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter((function(r){return r.taskId==e})).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(i),this.dispatcher.notifyTaskRemoved(i.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(i)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),i},n.prototype.update=function(e,i){var r=this.viewModel.tasks.getItemById(e),a={};Object.keys(i).forEach((function(y){(0,h.isDefined)(r[y])&&(a[y]=r[y],r[y]=i[y])}));var c=this.viewModel.findItem(e);return c&&this.renderHelper.recreateTaskElement(c.visibleIndex),this.dispatcher.notifyTaskUpdated(r.id,i,this.getErrorCallback()),a},n.prototype.getObjectForDataSource=function(e){return this.viewModel.getTaskObjectForDataSource(e)},n})(l(6382).BaseManipulator);d.TaskManipulator=o},2601:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttJsonUtils=void 0;var u=l(9937),h=(function(){function p(){}return p.parseJson=function(o){return u.JsonUtils.isValid(o)?JSON.parse(o):null},p})();d.GanttJsonUtils=h},8478:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationController=void 0;var u=l(655),h=l(2491),p=l(9201),o=l(5950),t=l(9496),n=l(858),e=l(7880),i=l(4927),r=(function(){function a(c){this.lockPredecessorToSuccessor=!0,this.settings=c}return Object.defineProperty(a.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),a.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},a.prototype.checkStartDependencies=function(c,y){var g=this,f=[],T=this.viewModel.tasks.getItemById(c);return this.viewModel.dependencies.items.filter((function(v){return v.successorId===c})).forEach((function(v){var k=g.viewModel.tasks.getItemById(v.predecessorId);(v.type===o.DependencyType.FS&&k.end>y||v.type===o.DependencyType.SS&&k.start>y)&&f.push(new i.ValidationError(v.internalId,!0)),(v.type===o.DependencyType.FS&&k.end.valueOf()===T.start.valueOf()&&y>k.end||v.type===o.DependencyType.SS&&k.start.valueOf()===T.start.valueOf()&&y>k.start)&&f.push(new i.ValidationError(v.internalId))})),f},a.prototype.checkEndDependencies=function(c,y){var g=this,f=[],T=this.viewModel.tasks.getItemById(c);return this.viewModel.dependencies.items.filter((function(v){return v.successorId===c})).forEach((function(v){var k=g.viewModel.tasks.getItemById(v.predecessorId);(v.type===o.DependencyType.SF&&k.start>y||v.type===o.DependencyType.FF&&k.end>y)&&f.push(new i.ValidationError(v.internalId,!0)),(v.type===o.DependencyType.SF&&k.start.valueOf()===T.end.valueOf()&&y>k.start||v.type===o.DependencyType.FF&&k.end.valueOf()===T.end.valueOf()&&y>k.end)&&f.push(new i.ValidationError(v.internalId))})),f},a.prototype.moveEndDependTasks=function(c,y,g){var f=this;g===void 0&&(g=null);var T=this.viewModel.dependencies.items.filter((function(k){return k.predecessorId===c&&!k.isStartDependency})),v=this.viewModel.tasks.getItemById(c);T.forEach((function(k){var b=f.viewModel.tasks.getItemById(k.successorId);if(!(!b||g&&f.viewModel.checkParent(b.internalId,g)||b.parentId===v.id)){var C=new n.DateRange(new Date(b.start.getTime()),new Date(b.end.getTime())),P=new n.DateRange(new Date(b.start.getTime()),new Date(b.end.getTime())),H=v.end.getTime()-y.getTime(),x=f.enablePredecessorGap?v.end:y;if(k.type===o.DependencyType.FS&&(b.start<x||f.lockPredecessorToSuccessor&&b.start.getTime()===y.getTime())?(P.start.setTime(v.end.getTime()),P.end.setTime(P.start.getTime()+(b.end.getTime()-b.start.getTime())),f.correctMoving(b.internalId,P)):k.type===o.DependencyType.FF&&(b.end<x||f.lockPredecessorToSuccessor&&b.end.getTime()===y.getTime())?(P.start.setTime(v.end.getTime()-(b.end.getTime()-b.start.getTime())),P.end.setTime(v.end.getTime()),f.correctMoving(b.internalId,P)):f.enablePredecessorGap||(P.start.setTime(b.start.getTime()+H),P.end.setTime(b.end.getTime()+H)),!C.equal(P)){var I={start:P.start,end:P.end};f.history.addAndRedo(new t.UpdateTaskHistoryItem(f.modelManipulator,k.successorId,I)),f.moveRelatedTasks(k,C,b,P)}}}))},a.prototype.moveStartDependTasks=function(c,y,g){var f=this;g===void 0&&(g=null);var T=this.viewModel.dependencies.items.filter((function(k){return k.predecessorId===c&&k.isStartDependency})),v=this.viewModel.tasks.getItemById(c);T.forEach((function(k){var b=f.viewModel.tasks.getItemById(k.successorId);if(!(!b||g&&f.viewModel.checkParent(b.internalId,g)||b.parentId===v.id)){var C=new n.DateRange(new Date(b.start.getTime()),new Date(b.end.getTime())),P=new n.DateRange(new Date(b.start.getTime()),new Date(b.end.getTime())),H=v.start.getTime()-y.getTime(),x=f.enablePredecessorGap?v.start:y;if(k.type===o.DependencyType.SF&&(b.end<x||f.lockPredecessorToSuccessor&&b.end.getTime()===y.getTime())?(P.start.setTime(v.start.getTime()-(b.end.getTime()-b.start.getTime())),P.end.setTime(v.start.getTime()),f.correctMoving(b.internalId,P)):k.type===o.DependencyType.SS&&(b.start<x||f.lockPredecessorToSuccessor&&b.start.getTime()===y.getTime())?(P.start.setTime(v.start.getTime()),P.end.setTime(v.start.getTime()+(b.end.getTime()-b.start.getTime())),f.correctMoving(b.internalId,P)):f.enablePredecessorGap||(P.start.setTime(b.start.getTime()+H),P.end.setTime(b.end.getTime()+H)),!C.equal(P)){var I={start:P.start,end:P.end};f.history.addAndRedo(new t.UpdateTaskHistoryItem(f.modelManipulator,k.successorId,I)),f.moveRelatedTasks(k,C,b,P)}}}))},a.prototype.moveRelatedTasks=function(c,y,g,f){var T=f.start.getTime()-y.start.getTime();this.correctParentsOnChildMoving(g.internalId,T),this.moveStartDependTasks(c.successorId,y.start),this.moveEndDependTasks(c.successorId,y.end)},a.prototype.getCorrectDateRange=function(c,y,g){var f=this,T=new n.DateRange(new Date(y),new Date(g));return u.__spreadArray(u.__spreadArray([],this.checkStartDependencies(c,T.start),!0),this.checkEndDependencies(c,T.end),!0).filter((function(v){return v.critical})).forEach((function(v){var k=f.viewModel.dependencies.getItemById(v.dependencyId),b=f.viewModel.tasks.getItemById(k.predecessorId);k.type===o.DependencyType.FS&&T.start<b.end&&T.start.setTime(b.end.getTime()),k.type===o.DependencyType.SS&&T.start<b.start&&T.start.setTime(b.start.getTime()),k.type===o.DependencyType.FF&&T.end<b.end&&T.end.setTime(b.end.getTime()),k.type===o.DependencyType.SF&&T.end<b.start&&T.end.setTime(b.start.getTime())})),T},a.prototype.correctMoving=function(c,y){var g=this,f=y.end.getTime()-y.start.getTime();return u.__spreadArray(u.__spreadArray([],this.checkStartDependencies(c,y.start),!0),this.checkEndDependencies(c,y.end),!0).filter((function(T){return T.critical})).forEach((function(T){var v=g.viewModel.dependencies.getItemById(T.dependencyId),k=g.viewModel.tasks.getItemById(v.predecessorId);v.type===o.DependencyType.FS&&y.start<k.end&&(y.start.setTime(k.end.getTime()),y.end.setTime(y.start.getTime()+f)),v.type===o.DependencyType.SS&&y.start<k.start&&(y.start.setTime(k.start.getTime()),y.end.setTime(y.start.getTime()+f)),v.type===o.DependencyType.FF&&y.end<k.end&&(y.end.setTime(k.end.getTime()),y.start.setTime(y.end.getTime()-f)),v.type===o.DependencyType.SF&&y.end<k.start&&(y.end.setTime(k.start.getTime()),y.start.setTime(y.end.getTime()-f))})),y},a.prototype.recalculateParents=function(c,y){for(var g=c&&c.parent;g&&g.task;){for(var f=g.children,T=this.range.end,v=this.range.start,k=0,b=0,C={id:g.task.internalId},P=0;P<f.length;P++){var H=f[P].task;if(H.isValid()){T=e.DateTimeUtils.getMinDate(T,H.start),v=e.DateTimeUtils.getMaxDate(v,H.end);var x=H.getDuration();k+=H.progress*x,b+=x}}e.DateTimeUtils.areDatesEqual(g.task.start,T)||(C.start=T),e.DateTimeUtils.areDatesEqual(g.task.end,v)||(C.end=v),C.oldStart=g.task.start,C.oldEnd=g.task.end,(k=b>0?Math.round(k/b):0)!==g.task.progress&&(C.progress=k),y(C),g=g.parent}},a.prototype.updateParentsRangeByChild=function(c){var y=this;this.recalculateParents(this.viewModel.findItem(c),(function(g){if((0,h.isDefined)(g.id)){var f=y.history,T=y.modelManipulator;(0,h.isDefined)(g.start)&&(f.addAndRedo(new t.UpdateTaskHistoryItem(T,g.id,{start:g.start})),y.moveStartDependTasks(g.id,g.oldStart)),(0,h.isDefined)(g.end)&&(f.addAndRedo(new t.UpdateTaskHistoryItem(T,g.id,{end:g.end})),y.moveEndDependTasks(g.id,g.oldEnd)),(0,h.isDefined)(g.progress)&&f.addAndRedo(new t.UpdateTaskHistoryItem(T,g.id,{progress:g.progress}))}}))},a.prototype.updateChildRangeByParent=function(c,y,g){var f=this.viewModel.findItem(c);if(f&&f.children.length!==0)for(var T=f.children,v=0;v<T.length;v++){var k=T[v].task,b=new Date(k.start.getTime()+y),C=p.DateUtils.getRangeMSPeriod(k.start,k.end),P=p.DateUtils.getDSTCorrectedTaskEnd(b,C);g.push({id:k.internalId,start:k.start,end:k.end}),this.history.addAndRedo(new t.UpdateTaskHistoryItem(this.modelManipulator,k.internalId,{start:b,end:P})),this.updateChildRangeByParent(k.internalId,y,g)}},a.prototype.updateParentsIfRequired=function(c){this._parentAutoCalc&&(this.updateParentsRangeByChild(c),this.updateOwnerInAutoParentMode())},a.prototype.correctParentsOnChildMoving=function(c,y){var g=this;if(this._parentAutoCalc&&y!==0){this.updateParentsRangeByChild(c);var f=[];this.updateChildRangeByParent(c,y,f),this.isValidateDependenciesRequired&&f.forEach((function(T){g.moveStartDependTasks(T.id,T.start,c),g.moveEndDependTasks(T.id,T.end,c)})),this.updateOwnerInAutoParentMode()}},a.prototype.canCreateDependency=function(c,y){return this.viewModel.canCreateDependency(c,y)},a})();d.ValidationController=r},4927:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationError=void 0;var l=function(u,h){h===void 0&&(h=!1),this.dependencyId=u,this.critical=h};d.ValidationError=l},6350:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewVisualModelDependencyInfo=void 0;var l=function(u,h,p){this.id=u,this.predecessor=h,this.type=p};d.ViewVisualModelDependencyInfo=l},3562:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewVisualModelItem=void 0;var u=l(2491),h=l(6353),p=(function(){function o(t,n){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=t,this.resources=n,this.children=new Array,this.isCustom=!1,this.size=new h.Size(0,0)}return Object.defineProperty(o.prototype,"resourceText",{get:function(){var t="";return this.resources.items.forEach((function(n){return t+=n.text+" "})),t},enumerable:!1,configurable:!0}),o.prototype.addChild=function(t){(0,u.isDefined)(t)&&this.children.indexOf(t)<0&&this.children.push(t)},o.prototype.removeChild=function(t){var n=this.children.indexOf(t);n>-1&&this.children.splice(n,1)},o.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},o.prototype.getVisible=function(){if(!this.visible)return!1;for(var t=this.parent;t;){if(!t.visible)return!1;t=t.parent}return!0},o.prototype.changeVisibility=function(t){this.visible=t},o.prototype.changeSelection=function(t){this.selected=t},o.prototype.setDependencies=function(t){t&&(this.dependencies=t.slice())},o})();d.ViewVisualModelItem=p},1408:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewVisualModel=void 0;var u=l(8828),h=l(9504),p=l(7380),o=l(9883),t=l(3562),n=l(6350),e=l(21),i=l(2491),r=l(6124),a=l(7352),c=l(2301),y=l(7437),g=(function(){function f(T,v,k,b,C,P,H){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=T,this.tasks=new h.TaskCollection,this.tasks.importFromObject(v),this.dependencies=new p.DependencyCollection,this.dependencies.importFromObject(k),this.resources=new u.ResourceCollection,this.resources.importFromObject(b),this.assignments=new o.ResourceAssignmentCollection,this.assignments.importFromObject(C),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new e.WorkingTimeCalculator(P,H),this.updateModel(!0)}return Object.defineProperty(f.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),f.prototype.updateModel=function(T){this._itemList.splice(0,this._itemList.length);for(var v=this.tasks.items,k=0;k<v.length;k++){var b=v[k];b&&this._itemList.push(new t.ViewVisualModelItem(b,this.getAssignedResources(b)))}this.createHierarchy(T),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},f.prototype.createHierarchy=function(T){var v=this;this.root=new t.ViewVisualModelItem(null,null);for(var k=this._itemList,b=k.reduce((function(I,L){var F,K=(F=L.task)===null||F===void 0?void 0:F.internalId;return(0,i.isDefined)(K)&&(I[K]=L),I}),{}),C=this.requireFirstLoadParentAutoCalc&&T,P=0;P<k.length;P++){var H=k[P],x=b[H.task.parentId]||this.root;H.parent=x,x.addChild(H),C&&this.owner.validationController.recalculateParents(H,(function(I){if((0,i.isDefined)(I.id)){var L=v.tasks.getItemById(I.id);(0,i.isDefined)(I.start)&&(L.start=I.start),(0,i.isDefined)(I.end)&&(L.end=I.end),(0,i.isDefined)(I.progress)&&(L.progress=I.progress)}}))}C&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},f.prototype.getCurrentTaskData=function(){var T=this;return this.tasks.items.map((function(v){return T.getTaskObjectForDataSource(v)}))},f.prototype.getTaskObjectForDataSource=function(T){var v=T.parentId&&this.tasks.getItemById(T.parentId),k=this.getRootTaskId(),b=k&&T.parentId===k?this.getRootRawValue():v==null?void 0:v.id;return{id:T.id,start:T.isValidStart()?T.start:null,end:T.isValidEnd()?T.end:null,duration:T.duration,description:T.description,parentId:b,progress:T.progress,color:T.color,taskType:T.taskType,title:T.title,customFields:T.customFields,expanded:T.expanded}},f.prototype.getDependencyObjectForDataSource=function(T){var v=T instanceof a.Dependency?T:this.getItemByPublicId("dependency",T);if(v){var k=this.convertInternalToPublicKey("task",v.predecessorId),b=this.convertInternalToPublicKey("task",v.successorId);return{id:v.id,predecessorId:(0,i.isDefined)(k)?k:v.predecessorId,successorId:(0,i.isDefined)(b)?b:v.successorId,type:v.type}}return null},f.prototype.getResourceObjectForDataSource=function(T){var v=T instanceof c.Resource?T:this.getItemByPublicId("resource",T);return v?{id:v.id,text:v.text,color:v.color}:null},f.prototype.getResourceAssignmentObjectForDataSource=function(T){var v=T instanceof y.ResourceAssignment?T:this.getItemByPublicId("assignment",T);if(v){var k=this.convertInternalToPublicKey("task",v.taskId),b=this.convertInternalToPublicKey("resource",v.resourceId);return{id:v.id,taskId:(0,i.isDefined)(k)?k:v.taskId,resourceId:(0,i.isDefined)(b)?b:v.resourceId}}return null},f.prototype.getRootRawValue=function(){var T,v,k;return(k=(v=(T=this.root.children[0])===null||T===void 0?void 0:T.task)===null||v===void 0?void 0:v.rawParentId)!==null&&k!==void 0?k:null},f.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},f.prototype.populateVisibleItems=function(T){var v=this,k=T===this.root;T&&(T.task||k)&&(k||(this._viewItemList.push(T),T.visibleIndex=this._viewItemList.length-1),(T.getExpanded()||T===this.root)&&T.children.forEach((function(b){return v.populateVisibleItems(b)})))},f.prototype.updateVisibleItemDependencies=function(){for(var T=this._viewItemList,v=0;v<T.length;v++){var k=T[v],b=this.getTasVisibleDependencies(k.task);k.setDependencies(b)}},f.prototype.getAssignedResources=function(T){var v=this,k=new u.ResourceCollection;return this.assignments.items.filter((function(b){return b.taskId==T.internalId})).forEach((function(b){k.add(v.resources.getItemById(b.resourceId))})),k},f.prototype.getTasVisibleDependencies=function(T){for(var v=new Array,k=T.internalId,b=this.dependencies.items.filter((function(x){return x.successorId==k})),C=0;C<b.length;C++){var P=b[C],H=this.findItem(P.predecessorId);H&&H.getVisible()&&v.push(new n.ViewVisualModelDependencyInfo(P.internalId,H,P.type))}return v},f.prototype.changeTaskExpanded=function(T,v){var k=this.tasks.getItemById(String(T));k&&(k.expanded=v,this.changed())},f.prototype.changeTaskVisibility=function(T,v){var k=this.findItem(T);k&&(k.visible=v,this.changed())},f.prototype.changeTaskSelected=function(T,v){var k=this._itemList.filter((function(P){return P.task&&P.task.internalId===T}))[0];if(k){k.selected=v;var b=this.findItem(T),C=b&&b.visibleIndex;C>-1&&this.renderHelper.recreateTaskElement(C)}},f.prototype.beginUpdate=function(){this._fLockCount++},f.prototype.endUpdate=function(){this._fLockCount--,this._fLockCount==0&&this.changed()},f.prototype.compareTaskOrder=function(T){var v=new h.TaskCollection;v.importFromObject(T);var k=v.items,b=this.tasks.items;if(k.length!==b.length)return!1;for(var C=0;C<k.length;C++){var P=k[C],H=b[C];if(P.id!==H.id)return!1}return!0},f.prototype.refreshTaskDataIfRequires=function(T){var v=!this.lockChangesProcessing&&!this.compareTaskOrder(T);if(v){var k=this.saveTaskInternalIds();this.tasks.importFromObject(T),this.restoreTaskInternalIds(k),this.updateModel()}return v},f.prototype.saveTaskInternalIds=function(){var T={};return this.tasks.items.map((function(v){return T[v.id]=v.internalId})),T},f.prototype.restoreTaskInternalIds=function(T){for(var v in T)if(Object.prototype.hasOwnProperty.call(T,v)){var k=this.tasks.getItemByPublicId(v);k&&(k.internalId=T[v])}},f.prototype.canCreateDependency=function(T,v){if(!T||!v||T===v)return!1;var k=!1;if(this.enableDependencyValidation){var b=this.getDependentTasksHash();k=this.parentAutoCalc?this.checkTasksInterdependence(T,v,b)||this.checkParent(T,v)||this.checkParent(v,T):this.checkDependencyChain([T],[v],b,[])}return!k},f.prototype.checkParent=function(T,v){return this.getTaskTreeLine(T).indexOf(v)>-1},f.prototype.getTaskTreeLine=function(T){var v=[T],k=this.findItem(T);if(k)for(k=k.parent;k!=null&&k.task;)v.push(k==null?void 0:k.task.internalId),k=k.parent;else for(var b=this.tasks.getItemById(T),C=this.tasks.getItemById(b==null?void 0:b.parentId);C;)v.push(C.id),C=this.tasks.getItemById(C.parentId);return v},f.prototype.getDependentTasksHash=function(){var T={};return this.dependencies.items.forEach((function(v){var k,b,C=v.predecessorId,P=v.successorId;(k=T[C])!==null&&k!==void 0||(T[C]=[]),T[C].indexOf(P)<0&&T[C].push(P),(b=T[P])!==null&&b!==void 0||(T[P]=[]),T[P].indexOf(C)<0&&T[P].push(C)})),T},f.prototype.checkTasksInterdependence=function(T,v,k){for(var b,C,P=this.getTaskTreeLine(T).reverse(),H=this.getTaskTreeLine(v).reverse(),x=0;x<P.length-1;x++){var I=P[x],L=H.indexOf(I);L>-1&&(b=P[x+1],C=H[L+1])}return b||C||(b=P[0],C=H[0]),this.checkDependencyChain(this.getBranchIds(b),this.getBranchIds(C),k,[])},f.prototype.checkDependencyChain=function(T,v,k,b){if(T.some((function(H){return v.indexOf(H)>-1})))return!0;b.push.apply(b,T);for(var C=0;C<T.length;C++){var P=k[T[C]];if(P&&this.checkDependencyChain(P.filter((function(H){return b.indexOf(H)===-1})),v,k,b))return!0}return!1},f.prototype.getBranchIds=function(T){var v=this,k=[T],b=this.findItem(T),C=b==null?void 0:b.children;return C&&C.forEach((function(P){var H,x=(H=P.task)===null||H===void 0?void 0:H.internalId;x&&(k=k.concat(v.getBranchIds(x)))})),k},f.prototype.getTasksExpandedState=function(){var T=this.tasks.items,v={};return T.forEach((function(k){return v[k.id]=k.expanded})),v},f.prototype.applyTasksExpandedState=function(T){if(T){for(var v in this.beginUpdate(),T)Object.prototype.hasOwnProperty.call(T,v)&&this.changeTaskExpanded(v,T[v]);this.endUpdate()}},f.prototype.changed=function(){this._fLockCount===0&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},f.prototype.findItem=function(T){return this._viewItemList.filter((function(v){return v.task&&v.task.internalId===T}))[0]},Object.defineProperty(f.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),f.prototype.getTaskVisibility=function(T){var v=this.findItem(T);return!!v&&v.getVisible()},f.prototype.getTaskSelected=function(T){var v=this.findItem(T);return!!v&&v.selected},Object.defineProperty(f.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),f.prototype.updateRange=function(T){this._workTimeCalculator.updateRange(T)},f.prototype.taskHasChildrenByIndex=function(T){return this._viewItemList[T].children.length>0},f.prototype.taskHasChildren=function(T){var v=this.findItem(T);return v&&v.children.length>0},Object.defineProperty(f.prototype,"enableDependencyValidation",{get:function(){var T,v=this.owner&&this.owner.settings;return(T=v==null?void 0:v.validation)===null||T===void 0?void 0:T.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parentAutoCalc",{get:function(){var T=this.owner&&this.owner.settings;return T&&T.validation&&T.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enablePredecessorGap",{get:function(){var T=this.owner&&this.owner.settings;return T&&T.validation&&T.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),f.prototype.isTaskToCalculateByChildren=function(T){return this.parentAutoCalc&&this.taskHasChildren(T)},f.prototype.hasTasks=function(){return this.tasks.length>0},f.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},f.prototype.convertPublicToInternalKey=function(T,v){var k=this.getItemByPublicId(T,v);return k&&k.internalId},f.prototype.convertInternalToPublicKey=function(T,v){var k=this.getItemByInternalId(T,v);return k&&k.id},f.prototype.getItemByPublicId=function(T,v){var k=v.toString();switch(T){case"task":return this.tasks.getItemByPublicId(k);case"dependency":return this.dependencies.getItemByPublicId(k);case"resource":return this.resources.getItemByPublicId(k);case"assignment":return this.assignments.getItemByPublicId(k)}return null},f.prototype.getItemByInternalId=function(T,v){switch(T){case"task":return this.tasks.getItemById(v);case"dependency":return this.dependencies.getItemById(v);case"resource":return this.resources.getItemById(v);case"assignment":return this.assignments.getItemById(v)}return null},f.prototype.findAssignment=function(T,v){var k=this.convertPublicToInternalKey("resource",T),b=this.convertPublicToInternalKey("task",v);return this.assignments.items.filter((function(C){return C.resourceId===k&&C.taskId===b}))[0]},f.prototype.findAllTaskAssignments=function(T){return this.assignments.items.filter((function(v){return v.taskId===T}))},f.prototype.getAllVisibleTaskIndices=function(T,v){var k,b=[];T!=null||(T=0),v!=null||(v=this._viewItemList.length-1);for(var C=T;C<=v;C++){var P=this._viewItemList[C];P!=null&&P.getVisible()&&(!((k=P==null?void 0:P.task)===null||k===void 0)&&k.isValid())&&b.push(C)}return b},f.prototype.getVisibleTasks=function(){var T=this;return this.tasks.items.filter((function(v){return v&&T.getTaskVisibility(v.internalId)&&v.isValid()}))},f.prototype.getVisibleDependencies=function(){var T=this.getVisibleTasks().map((function(v){return v.internalId}));return this.dependencies.items.filter((function(v){return v&&T.indexOf(v.successorId)>-1&&T.indexOf(v.predecessorId)>-1}))},f.prototype.getVisibleResourceAssignments=function(){var T=this.getVisibleTasks().map((function(v){return v.internalId}));return this.assignments.items.filter((function(v){return v&&T.indexOf(v.taskId)>-1}))},f.prototype.getVisibleResources=function(){for(var T=[],v=this.getVisibleResourceAssignments(),k=0;k<v.length;k++){var b=this.getItemByInternalId("resource",v[k].resourceId);b&&T.indexOf(b)===-1&&T.push(b)}return T},f.prototype.getRootTaskId=function(){var T;return(T=this.rootTaskId)!==null&&T!==void 0||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},f.prototype.calculateRootTaskId=function(){var T=this.items[0];if(!T)return null;for(;T.parent&&T.task;)T=T.parent;return T.children[0].task.parentId},f.prototype.getTaskMinStart=function(){var T=this.owner.dataRange.start;return this.tasks.items.forEach((function(v){v.isValid()&&v.start.getTime()<T.getTime()&&(T=v.start)})),T},f.prototype.getTaskMaxEnd=function(){var T=this.owner.dataRange.end;return this.tasks.items.forEach((function(v){v.isValid()&&v.end.getTime()>T.getTime()&&(T=v.end)})),T},f.prototype.processServerInsertedKey=function(T,v,k){var b;k===r.GanttDataObjectNames.task&&this.tasks.invalidate(),k===r.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),k===r.GanttDataObjectNames.resource&&this.resources.invalidate(),k===r.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),(b=this.owner)===null||b===void 0||b.updateHistoryObsoleteInsertedKey(T,v,k)},f.prototype.onBeginDataObjectCreate=function(){var T,v;(v=(T=this.owner).lockUpdateWithReload)===null||v===void 0||v.call(T)},f.prototype.onEndDataObjectCreate=function(){var T,v;(v=(T=this.owner).unlockUpdateWithReload)===null||v===void 0||v.call(T)},f})();d.ViewVisualModel=g},858:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DateRange=void 0;var l=(function(){function u(h,p){this.start=h,this.end=p}return u.prototype.equal=function(h){var p=!0;return p=(p=p&&this.start.getTime()===h.start.getTime())&&this.end.getTime()===h.end.getTime()},u})();d.DateRange=l},7880:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DateTimeUtils=void 0;var u=l(2753),h=l(9331),p=l(2491),o=l(858),t=l(7812),n=(function(){function e(){}return e.compareDates=function(i,r){return i&&r?r.getTime()-i.getTime():-1},e.areDatesEqual=function(i,r){return this.compareDates(i,r)==0},e.getMaxDate=function(i,r){return i||r?i?r&&this.compareDates(i,r)>0?r:i:r:null},e.getMinDate=function(i,r){return i||r?i?r?this.compareDates(i,r)>0?i:r:i:r:null},e.getDaysBetween=function(i,r){var a=Math.abs(r.getTime()-i.getTime());return Math.ceil(a/this.msInDay)},e.getWeeksBetween=function(i,r){var a=this.getDaysBetween(i,r),c=Math.floor(a/7);return i.getDay()>r.getDay()&&c++,c},e.getMonthsDifference=function(i,r){var a=this.compareDates(i,r),c=a>=0?i:r,y=a>=0?r:i;return 12*(y.getFullYear()-c.getFullYear())+(y.getMonth()-c.getMonth())},e.getYearsDifference=function(i,r){return Math.abs(r.getFullYear()-i.getFullYear())},e.getDayNumber=function(i){return Math.ceil(i.getTime()/this.msInDay)},e.getDateByDayNumber=function(i){var r=new Date(i*this.msInDay);return r.setHours(0),r.setMinutes(0),r.setSeconds(0),r},e.addDays=function(i,r){return new Date(i.getTime()+r*this.msInDay)},e.checkDayOfMonth=function(i,r){return i==r.getDate()},e.checkDayOfWeek=function(i,r){return i==r.getDay()},e.checkMonth=function(i,r){return i==r.getMonth()},e.checkYear=function(i,r){return i==r.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(i,r,a){var c=this.getSpecificDayOfWeekInMonthDates(r,i.getFullYear(),i.getMonth());return a==t.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(i,c[c.length-1]):this.areDatesEqual(i,c[a])},e.getFirstDayOfWeekInMonth=function(i,r){return new Date(i,r,1).getDay()},e.getSpecificDayOfWeekInMonthDates=function(i,r,a){for(var c=this.getFirstDayOfWeekInMonth(r,a),y=i>=c?i-c:i+7-c,g=new Array,f=new Date(r,a,y+1);f.getMonth()==a;)g.push(f),f=this.addDays(f,7);return g},e.getSpecificDayOfWeekInMonthDate=function(i,r,a,c){var y=this.getSpecificDayOfWeekInMonthDates(i,r,a);return c==t.DayOfWeekMonthlyOccurrence.Last?y[y.length-1]:y[c]},e.checkValidDayInMonth=function(i,r,a){return!(a<1||a>31||new Date(i,r,a).getMonth()!=r)},e.getNextMonth=function(i,r){return r===void 0&&(r=1),(i+r)%12},e.convertToDate=function(i){if(i instanceof Date)return new Date(i);var r=Date.parse(i);return isNaN(r)?null:new Date(r)},e.convertTimeRangeToDateRange=function(i,r){var a=this.getDateByDayNumber(r),c=a.getFullYear(),y=a.getMonth(),g=a.getDate(),f=i.start,T=new Date(c,y,g,f.hour,f.min,f.sec,f.msec),v=i.end,k=new Date(c,y,g,v.hour,v.min,v.sec,v.msec);return new o.DateRange(T,k)},e.convertToTimeRanges=function(i){var r=this;return i instanceof Array?i.map((function(a){return r.convertToTimeRange(a)})):this.parseTimeRanges(i)},e.convertToTimeRange=function(i){return i?i instanceof h.TimeRange?i:(0,p.isDefined)(i.start)&&(0,p.isDefined)(i.end)?new h.TimeRange(this.convertToTime(i.start),this.convertToTime(i.end)):this.parseTimeRange(i):null},e.convertToTime=function(i){return i?i instanceof u.Time?i:i instanceof Date?this.getTimeGromJsDate(i):this.parseTime(i):null},e.parseTimeRanges=function(i){var r=this;return i?i.split(/;|,/).map((function(a){return r.parseTimeRange(a)})).filter((function(a){return!!a})):null},e.parseTimeRange=function(i){if(!i)return null;var r=i.split("-"),a=r[0],c=r[1];return(0,p.isDefined)(a)&&(0,p.isDefined)(c)?new h.TimeRange(this.parseTime(a),this.parseTime(c)):null},e.parseTime=function(i){if(!i)return null;var r=i.split(":"),a=parseInt(r[0])||0,c=parseInt(r[1])||0,y=parseInt(r[2])||0,g=parseInt(r[3])||0;return new u.Time(a,c,y,g)},e.getTimeGromJsDate=function(i){if(!i)return null;var r=i.getHours(),a=i.getMinutes(),c=i.getSeconds(),y=i.getMilliseconds();return new u.Time(r,a,c,y)},e.caclTimeDifference=function(i,r){return r.getTimeInMilleconds()-i.getTimeInMilleconds()},e.areTimesEqual=function(i,r){return this.caclTimeDifference(i,r)==0},e.getMaxTime=function(i,r){return i||r?i?r&&this.caclTimeDifference(i,r)>0?r:i:r:null},e.getMinTime=function(i,r){return i||r?i?r?this.caclTimeDifference(i,r)>0?i:r:i:r:null},e.getLastTimeOfDay=function(){return new u.Time(23,59,59,999)},e.msInDay=864e5,e})();d.DateTimeUtils=n},8719:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DayOfWeek=void 0,(function(l){l[l.Sunday=0]="Sunday",l[l.Monday=1]="Monday",l[l.Tuesday=2]="Tuesday",l[l.Wednesday=3]="Wednesday",l[l.Thursday=4]="Thursday",l[l.Friday=5]="Friday",l[l.Saturday=6]="Saturday"})(d.DayOfWeek||(d.DayOfWeek={}))},7812:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DayOfWeekMonthlyOccurrence=void 0,(function(l){l[l.First=0]="First",l[l.Second=1]="Second",l[l.Third=2]="Third",l[l.Forth=3]="Forth",l[l.Last=4]="Last"})(d.DayOfWeekMonthlyOccurrence||(d.DayOfWeekMonthlyOccurrence={}))},1805:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DayWorkingTimeInfo=void 0;var u=l(9331),h=l(7880),p=l(2753),o=(function(){function t(n,e,i){n===void 0&&(n=0),e===void 0&&(e=!0),i===void 0&&(i=null),this._workingIntervals=new Array,this.dayNumber=n,this.isWorkDay=e,this.addWorkingIntervals(i)}return t.prototype.addWorkingIntervals=function(n){n&&(this._workingIntervals=this._workingIntervals.concat(n.filter((function(e){return!!e}))),this.rearrangeWorkingIntervals())},t.prototype.rearrangeWorkingIntervals=function(){for(var n=0;n<this._workingIntervals.length;n++)this.concatWithIntersectedRanges(this._workingIntervals[n]);this.sortIntervals()},t.prototype.concatWithIntersectedRanges=function(n){var e=this;this.getIntersectedIntervals(n).forEach((function(i){n.concatWith(i),e.removeInterval(i)}))},t.prototype.getIntersectedIntervals=function(n){return this._workingIntervals.filter((function(e){return e.hasIntersect(n)&&e!==n}))},t.prototype.sortIntervals=function(){this._workingIntervals.sort((function(n,e){return h.DateTimeUtils.caclTimeDifference(e.start,n.start)}))},t.prototype.removeInterval=function(n){var e=this._workingIntervals.indexOf(n);e>-1&&e<this._workingIntervals.length&&this._workingIntervals.splice(e,1)},t.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(t.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){var n=new Array;if(this.isWorkDay&&this._workingIntervals.length===0)return n;var e=this._workingIntervals.map((function(y){return y.end}));e.splice(0,0,new p.Time);var i=this._workingIntervals.map((function(y){return y.start}));i.push(h.DateTimeUtils.getLastTimeOfDay());for(var r=0;r<e.length;r++){var a=e[r],c=i[r];h.DateTimeUtils.areTimesEqual(a,c)||n.push(new u.TimeRange(a,c))}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(n){this._isWorkDay=n,n||this.clearIntervals()},enumerable:!1,configurable:!0}),t})();d.DayWorkingTimeInfo=o},3110:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Month=void 0,(function(l){l[l.January=0]="January",l[l.February=1]="February",l[l.March=2]="March",l[l.April=3]="April",l[l.May=4]="May",l[l.June=5]="June",l[l.July=6]="July",l[l.August=7]="August",l[l.September=8]="September",l[l.October=9]="October",l[l.November=10]="November",l[l.December=11]="December"})(d.Month||(d.Month={}))},7872:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MonthInfo=void 0;var u=l(7880),h=(function(){function p(o,t){this.month=o,this.year=t}return p.prototype.addMonths=function(o){var t=u.DateTimeUtils.getNextMonth(this.month,o),n=Math.floor(o/12);t<this.month&&++n,this.month=t,this.year+=n},p})();d.MonthInfo=h},4902:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Daily=void 0;var u=l(655),h=l(1789),p=l(7880),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.checkDate=function(e){return!0},n.prototype.checkInterval=function(e){return p.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var i=this.interval;return this.isRecurrencePoint(e)||(i-=p.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),p.DateTimeUtils.addDays(e,i)},n.prototype.calculateNearestPoint=function(e){return p.DateTimeUtils.addDays(e,1)},n})(h.RecurrenceBase);d.Daily=o},4390:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Monthly=void 0;var u=l(655),h=l(1789),p=l(7880),o=l(7872),t=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(e,n),e.prototype.checkDate=function(i){return this._calculateByDayOfWeek?p.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(i,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):p.DateTimeUtils.checkDayOfMonth(this.dayInternal,i)},e.prototype.checkInterval=function(i){return p.DateTimeUtils.getMonthsDifference(this.start,i)%this.interval==0},e.prototype.calculatePointByInterval=function(i){var r=this.start,a=p.DateTimeUtils.getMonthsDifference(r,i),c=Math.floor(a/this.interval)*this.interval,y=new o.MonthInfo(r.getMonth(),r.getFullYear());y.addMonths(c);var g=this.getSpecDayInMonth(y.year,y.month);return p.DateTimeUtils.compareDates(g,i)>=0&&(y.addMonths(this.interval),g=this.getSpecDayInMonth(y.year,y.month)),g},e.prototype.calculateNearestPoint=function(i){var r=i.getMonth(),a=i.getFullYear(),c=this.getSpecDayInMonth(a,r);if(p.DateTimeUtils.compareDates(c,i)>=0){var y=new o.MonthInfo(r,a);y.addMonths(1),c=this.getSpecDayInMonth(y.year,y.month)}return c},Object.defineProperty(e.prototype,"day",{get:function(){return this.dayInternal},set:function(i){this.dayInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(i){this.dayOfWeekInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(i){this.dayOfWeekOccurrenceInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(i){this._calculateByDayOfWeek=i},enumerable:!1,configurable:!0}),e})(h.RecurrenceBase);d.Monthly=t},1789:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RecurrenceBase=void 0;var u=l(655),h=l(8719),p=l(7812),o=l(3110),t=l(2491),n=l(7880),e=l(9612),i=(function(r){function a(c,y,g,f){c===void 0&&(c=null),y===void 0&&(y=null),g===void 0&&(g=1),f===void 0&&(f=0);var T=r.call(this)||this;return T._start=null,T._end=null,T._interval=1,T._occurrenceCount=0,T._dayOfWeek=0,T._day=1,T._dayOfWeekOccurrence=0,T._month=0,T._calculateByDayOfWeek=!1,T.start=c,T.end=y,T.interval=g,T.occurrenceCount=f,T}return u.__extends(a,r),a.prototype.assignFromObject=function(c){(0,t.isDefined)(c)&&(r.prototype.assignFromObject.call(this,c),this.start=n.DateTimeUtils.convertToDate(c.start),this.end=n.DateTimeUtils.convertToDate(c.end),(0,t.isDefined)(c.interval)&&(this.interval=c.interval),(0,t.isDefined)(c.occurrenceCount)&&(this.occurrenceCount=c.occurrenceCount),(0,t.isDefined)(c.dayOfWeek)&&(this.dayOfWeekInternal=e.RecurrenceFactory.getEnumValue(h.DayOfWeek,c.dayOfWeek)),(0,t.isDefined)(c.day)&&(this.dayInternal=c.day),(0,t.isDefined)(c.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=e.RecurrenceFactory.getEnumValue(p.DayOfWeekMonthlyOccurrence,c.dayOfWeekOccurrence)),(0,t.isDefined)(c.month)&&(this.monthInternal=e.RecurrenceFactory.getEnumValue(o.Month,c.month)),(0,t.isDefined)(c.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!c.calculateByDayOfWeek))},a.prototype.calculatePoints=function(c,y){if(!c||!y)return new Array;var g=n.DateTimeUtils.getMaxDate(c,this._start),f=n.DateTimeUtils.getMinDate(y,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(g,f):this.calculatePointsByDateRange(g,f)},a.prototype.calculatePointsByOccurrenceCount=function(c,y){for(var g=new Array,f=this.getFirstPoint(c);f&&g.length<this._occurrenceCount&&n.DateTimeUtils.compareDates(f,y)>=0;)this.isRecurrencePoint(f)&&g.push(f),f=this.getNextPoint(f);return g},a.prototype.calculatePointsByDateRange=function(c,y){for(var g=new Array,f=this.getFirstPoint(c);f&&n.DateTimeUtils.compareDates(f,y)>=0;)this.isRecurrencePoint(f)&&g.push(f),f=this.getNextPoint(f);return g},a.prototype.getFirstPoint=function(c){return this.isRecurrencePoint(c)?c:this.getNextPoint(c)},a.prototype.isRecurrencePoint=function(c){return this.isDateInRange(c)&&this.checkDate(c)&&(!this.useIntervalInCalc()||this.checkInterval(c))},a.prototype.isDateInRange=function(c){return!!c&&!(this._start&&n.DateTimeUtils.compareDates(this.start,c)<0)&&!(this._occurrenceCount==0&&this.end&&n.DateTimeUtils.compareDates(c,this.end)<0)},a.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},a.prototype.getNextPoint=function(c){return this.isDateInRange(c)?this.useIntervalInCalc()?this.calculatePointByInterval(c):this.calculateNearestPoint(c):null},a.prototype.getSpecDayInMonth=function(c,y){return this._calculateByDayOfWeek?n.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,c,y,this.dayOfWeekOccurrenceInternal):new Date(c,y,this.dayInternal)},Object.defineProperty(a.prototype,"dayInternal",{get:function(){return this._day},set:function(c){c>0&&c<=31&&(this._day=c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(c){c>=h.DayOfWeek.Sunday&&c<=h.DayOfWeek.Saturday&&(this._dayOfWeek=c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(c){c>=p.DayOfWeekMonthlyOccurrence.First&&c<=p.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"monthInternal",{get:function(){return this._month},set:function(c){c>=o.Month.January&&c<=o.Month.December&&(this._month=c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"start",{get:function(){return this._start},set:function(c){c&&(this._start=c,this._end&&c>this._end&&(this._end=c))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._end},set:function(c){c&&(this._end=c,this._start&&c<this._start&&(this._start=c))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(c){c<0&&(c=0),this._occurrenceCount=c},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"interval",{get:function(){return this._interval},set:function(c){c>0&&(this._interval=c)},enumerable:!1,configurable:!0}),a})(l(6124).DataObject);d.RecurrenceBase=i},9612:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RecurrenceFactory=void 0;var u=l(2491),h=l(4902),p=l(5475),o=l(4390),t=l(7515),n=(function(){function e(){}return e.createRecurrenceByType=function(i){if(!i)return null;switch(i.toLowerCase()){case"daily":return new h.Daily;case"weekly":return new p.Weekly;case"monthly":return new o.Monthly;case"yearly":return new t.Yearly}return null},e.createRecurrenceFromObject=function(i){if(!i)return null;var r=this.createRecurrenceByType(i.type);return r&&r.assignFromObject(i),r},e.getEnumValue=function(i,r){if(!(0,u.isDefined)(i[r]))return null;var a=parseInt(r);return isNaN(a)?i[r]:a},e})();d.RecurrenceFactory=n},5475:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Weekly=void 0;var u=l(655),h=l(1789),p=l(7880),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.checkDate=function(e){return p.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},n.prototype.checkInterval=function(e){return p.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var i=p.DateTimeUtils.getWeeksBetween(this.start,e),r=Math.floor(i/this.interval);(i%this.interval>0||e.getDay()>=this.dayOfWeekInternal)&&r++;var a=r*this.interval;return this.calcNextPointWithWeekCount(this.start,a)},n.prototype.calculateNearestPoint=function(e){var i=this.dayOfWeekInternal-e.getDay();return i>0?p.DateTimeUtils.addDays(new Date(e),i):this.calcNextPointWithWeekCount(e,1)},n.prototype.calcNextPointWithWeekCount=function(e,i){i===void 0&&(i=1);var r=7*i+this.dayOfWeekInternal-e.getDay();return p.DateTimeUtils.addDays(new Date(e),r)},Object.defineProperty(n.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),n})(h.RecurrenceBase);d.Weekly=o},7515:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Yearly=void 0;var u=l(655),h=l(1789),p=l(7880),o=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(n,t),n.prototype.checkDate=function(e){return!!p.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?p.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):p.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},n.prototype.checkInterval=function(e){return p.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var i=p.DateTimeUtils.getYearsDifference(this.start,e),r=Math.floor(i/this.interval)*this.interval,a=this.start.getFullYear()+r,c=this.getSpecDayInMonth(a,this.monthInternal);return p.DateTimeUtils.compareDates(c,e)>=0&&(a+=this.interval,c=this.getSpecDayInMonth(a,this.monthInternal)),c},n.prototype.calculateNearestPoint=function(e){var i=e.getFullYear(),r=this.getSpecDayInMonth(i,this.monthInternal);return p.DateTimeUtils.compareDates(r,e)>=0&&(r=this.getSpecDayInMonth(++i,this.monthInternal)),r},Object.defineProperty(n.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),n})(h.RecurrenceBase);d.Yearly=o},2753:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Time=void 0;var l=(function(){function u(h,p,o,t){h===void 0&&(h=0),p===void 0&&(p=0),o===void 0&&(o=0),t===void 0&&(t=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=h,this.min=p,this.sec=o,this.msec=t}return Object.defineProperty(u.prototype,"hour",{get:function(){return this._hour},set:function(h){h>=0&&h<24&&(this._hour=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(h){h>=0&&h<60&&(this._min=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"sec",{get:function(){return this._sec},set:function(h){h>=0&&h<60&&(this._sec=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"msec",{get:function(){return this._msec},set:function(h){h>=0&&h<1e3&&(this._msec=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),u.prototype.updateFullMilleconds=function(){var h=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*h+this._msec},u.prototype.getTimeInMilleconds=function(){return this._fullmsec},u})();d.Time=l},9331:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TimeRange=void 0;var u=l(7880),h=(function(){function p(o,t){u.DateTimeUtils.caclTimeDifference(o,t)>=0?(this._start=o,this._end=t):(this._start=t,this._end=o)}return Object.defineProperty(p.prototype,"start",{get:function(){return this._start},set:function(o){o&&u.DateTimeUtils.caclTimeDifference(o,this._end)>=0&&(this._start=o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"end",{get:function(){return this._end},set:function(o){o&&u.DateTimeUtils.caclTimeDifference(this._start,o)>=0&&(this._end=o)},enumerable:!1,configurable:!0}),p.prototype.isTimeInRange=function(o){return u.DateTimeUtils.caclTimeDifference(this._start,o)>=0&&u.DateTimeUtils.caclTimeDifference(o,this._end)>=0},p.prototype.hasIntersect=function(o){return this.isTimeInRange(o.start)||this.isTimeInRange(o.end)||o.isTimeInRange(this.start)||o.isTimeInRange(this.end)},p.prototype.concatWith=function(o){return!!this.hasIntersect(o)&&(this.start=u.DateTimeUtils.getMinTime(this.start,o.start),this.end=u.DateTimeUtils.getMaxTime(this.end,o.end),!0)},p})();d.TimeRange=h},21:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WorkingTimeCalculator=void 0;var u=l(4432),h=l(1805),p=l(7880),o=(function(){function t(n,e){this._workingRules=new u.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=n,this._workingRules.importFromObject(e)}return t.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var n=this._workingRules.items,e=0;e<n.length;e++)this.processRule(n[e]);this.sortList()}},t.prototype.processRule=function(n){for(var e=n.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),i=function(c){var y=e[c],g=p.DateTimeUtils.getDayNumber(y),f=r._workDayList.filter((function(T){return T.dayNumber==g}))[0];f?(f.isWorkDay=f.isWorkDay&&n.isWorkDay,f.addWorkingIntervals(n.workTimeRanges)):r._workDayList.push(new h.DayWorkingTimeInfo(g,n.isWorkDay,n.workTimeRanges))},r=this,a=0;a<e.length;a++)i(a)},t.prototype.sortList=function(){this._workDayList.sort((function(n,e){return n.dayNumber-e.dayNumber}))},t.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},t.prototype.calculateNoWorkTimeIntervals=function(){var n=this,e=new Array;return this._workDayList.length==0&&this.calculateWorkDayList(),this._workDayList.forEach((function(i){return e=e.concat(n.getNoWorkTimeRangesFromDay(i))})),this.concatJointedRanges(e)},t.prototype.concatJointedRanges=function(n){for(var e=new Array,i=0;i<n.length;i++){var r=n[i];e.length>0&&p.DateTimeUtils.compareDates(e[e.length-1].end,r.start)<2?e[e.length-1].end=r.end:e.push(r)}return e},t.prototype.getNoWorkTimeRangesFromDay=function(n){return n.noWorkingIntervals.map((function(e){return p.DateTimeUtils.convertTimeRangeToDateRange(e,n.dayNumber)}))},Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),t.prototype.updateRange=function(n){this._calculationRange=n,this.invalidate()},t.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},t})();d.WorkingTimeCalculator=o},8401:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WorkingTimeRule=void 0;var u=l(655),h=l(6124),p=l(2491),o=l(7880),t=l(9612),n=l(4902),e=(function(i){function r(a,c,y){a===void 0&&(a=null),c===void 0&&(c=!0),y===void 0&&(y=null);var g=i.call(this)||this;return g.isWorkDay=!0,g.workTimeRanges=new Array,g.recurrence=a,g.isWorkDay=c,y&&g.workTimeRanges.concat(y),g}return u.__extends(r,i),r.prototype.assignFromObject=function(a){if((0,p.isDefined)(a)){i.prototype.assignFromObject.call(this,a),this.recurrence=t.RecurrenceFactory.createRecurrenceByType(a.recurrenceType)||new n.Daily,(0,p.isDefined)(a.recurrence)&&this.recurrence.assignFromObject(a.recurrence),(0,p.isDefined)(a.isWorkDay)&&(this.isWorkDay=!!a.isWorkDay);var c=o.DateTimeUtils.convertToTimeRanges(a.workTimeRanges);c&&(this.workTimeRanges=c)}},r})(h.DataObject);d.WorkingTimeRule=e},6626:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttViewApi=void 0;var l=(function(){function u(h){this.maxZoom=3,this._ganttView=h}return Object.defineProperty(u.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(h){this._ganttView.currentZoom=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),u.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},u.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(u.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),u.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},u.prototype.scrollToDateCore=function(h,p){this._ganttView.scrollToDateCore(h,p)},Object.defineProperty(u.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),u.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(u.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),u.prototype.calculateAutoViewType=function(h,p){return this._ganttView.calculateAutoViewType(h,p)},u.prototype.zoomIn=function(h){h===void 0&&(h=this.getTaskAreaContainerWidth()/2);var p=this.renderHelper.getTargetDateByPos(h),o=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>o&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(p,-h)},u.prototype.zoomOut=function(h){h===void 0&&(h=this.renderHelper.getTaskAreaContainerWidth()/2);var p=this.renderHelper.getTargetDateByPos(h),o=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<o&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(p,-h)},u.prototype.setViewType=function(h,p){p===void 0&&(p=!0),h==null&&(h=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==h&&(this.settings.viewType=h,this.updateTickSizeWidth(),this.resetAndUpdate(),p&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(h))},u.prototype.setViewTypeRange=function(h,p){h!==void 0&&(this.settings.viewTypeRange.min=Math.min(h,p)),p!==void 0&&(this.settings.viewTypeRange.max=Math.max(h,p));var o=this.settings.viewTypeRange.min,t=this.settings.viewTypeRange.max,n=this.settings.viewType;o>n?this.setViewType(o):t<n&&this.setViewType(t)},u})();d.GanttViewApi=l},5098:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditController=void 0;var u=l(2449),h=l(858),p=l(6907),o=l(9279),t=l(1886),n=l(9080),e=l(9201),i=(function(){function r(a){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=a,this.createElements()}return Object.defineProperty(r.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),r.prototype.raiseTaskMoving=function(a,c,y,g){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(a,c,y,g)},Object.defineProperty(r.prototype,"tooltip",{get:function(){var a;return(a=this._tooltip)!==null&&a!==void 0||(this._tooltip=new t.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tooltipSettings",{get:function(){var a=this;return n.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(c){a.settings.destroyTemplate(c)},formatDate:function(c){return a.settings.formatDate(c)},getTaskAreaContainer:function(){return a.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),r.prototype.show=function(a){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=a,this.hide(),this.changeWrapInfo(),this.baseElement.className=r.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+r.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(r.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var c=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new h.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(c),this.displayProgressEdit(),this.displayStartEndEditElements()}},r.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},r.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},r.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},r.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},r.prototype.displayTaskEditBox=function(a){var c=this;a===void 0&&(a=0);var y=function(){c.renderHelper.taskArea.appendChild(c.baseElement),c.isTaskEditBoxShown=!0};a?this.timerId=setTimeout(y,a):y()},r.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},r.prototype.hide=function(){this.isTaskEditBoxShown=!1;var a=this.baseElement.parentNode;a&&a.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},r.prototype.cancel=function(){clearTimeout(this.timerId)},r.prototype.showTaskInfo=function(a,c){c===void 0&&(c=500),this.timerId&&(c=this.showInfoDelay),this.tooltip.showInfo(this.task,a,c)},r.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},r.prototype.isAllowedToConnectTasks=function(a){var c,y=this.viewModel.items[a];return this.validationController.canCreateDependency(this.taskId,(c=y.task)===null||c===void 0?void 0:c.internalId)},r.prototype.showDependencySuccessor=function(a){if(this.isAllowedToConnectTasks(a)){this.successorIndex=a;var c=this.getTaskWrapperElementInfo(a);c.assignPosition(this.dependencySuccessorBaseElement),c.assignSize(this.dependencySuccessorBaseElement),c.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},r.prototype.hideDependencySuccessor=function(){var a=this.dependencySuccessorBaseElement.parentNode;a&&a.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},r.prototype.processProgress=function(a){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var c=a.x-this.wrapInfo.position.x,y=0;a.x>this.wrapInfo.position.x&&(y=a.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(c/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=y/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(y,p.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},r.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var a=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:a})}},r.prototype.processEnd=function(a){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var c=a.x>this.wrapInfo.position.x?a.x:this.wrapInfo.position.x,y=c-this.wrapInfo.position.x;this.baseElement.style.width=(y<1?0:y)+"px";var g=this.task.start,f=this.renderHelper.gridLayoutCalculator.getDateByPos(c);f.setSeconds(0),f<g||y<1?this.taskDateRange.end.setTime(g.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,f),this.tooltip.showTime(g,this.taskDateRange.end,p.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},r.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=r.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},r.prototype.processStart=function(a){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var c=a.x<this.wrapInfo.position.x+this.wrapInfo.size.width?a.x:this.wrapInfo.position.x+this.wrapInfo.size.width,y=this.wrapInfo.size.width-(c-this.wrapInfo.position.x);this.baseElement.style.left=c+"px",this.baseElement.style.width=(y<1?0:y)+"px";var g=this.task.end,f=this.renderHelper.gridLayoutCalculator.getDateByPos(c);f.setSeconds(0),f>g||y<1?this.taskDateRange.start.setTime(g.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,f),this.tooltip.showTime(this.taskDateRange.start,g,p.DomUtils.getAbsolutePositionX(this.baseElement))}},r.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=r.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},r.prototype.processMove=function(a){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var c=this.baseElement.offsetLeft+a;this.baseElement.style.left=c+"px";var y=this.renderHelper.gridLayoutCalculator.getDateByPos(c);this.taskDateRange.start=this.getCorrectedDate(this.task.start,y);var g=e.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=e.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,g),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,p.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},r.prototype.onTaskMovingCallback=function(a,c){if(this.taskDateRange.start!==a||this.taskDateRange.end!==c){var y=this.renderHelper.gridLayoutCalculator,g=y.getPosByDate(a),f=y.getPosByDate(c)-g;this.baseElement.style.left=g+"px",this.baseElement.style.width=(f<1?0:f)+"px",this.taskDateRange.start=a,this.taskDateRange.end=c}},r.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=r.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},r.prototype.getCorrectedDate=function(a,c){if(this.ganttSettings.viewType>u.ViewType.SixHours){var y=c.getFullYear(),g=c.getMonth(),f=c.getDate(),T=this.ganttSettings.viewType===u.ViewType.Days?c.getHours():a.getHours(),v=a.getMinutes(),k=a.getSeconds(),b=a.getMilliseconds();return new Date(y,g,f,T,v,k,b)}return c},r.prototype.startDependency=function(a){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=r.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=a},r.prototype.processDependency=function(a){this.isEditingInProgress=!0,this.drawline(this.startPosition,a)},r.prototype.endDependency=function(a){this.isEditingInProgress=!1,a!=null&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,a);var c=this.dependencyLine.parentNode;c&&c.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},r.prototype.selectDependency=function(a){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=a)},r.prototype.isDependencySelected=function(a){return this.dependencyId&&this.dependencyId===a},r.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},r.prototype.getTaskWrapperElementInfo=function(a){var c=this.renderHelper.gridLayoutCalculator,y=c.getTaskWrapperElementInfo(a);return y.size.width=c.getTaskWidth(a),y.size.height=c.getTaskHeight(a),y},r.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=r.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=r.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(r.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),o.Browser.TouchUI&&this.dependencyFinish.classList.add(r.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(r.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),o.Browser.TouchUI&&this.dependencyStart.classList.add(r.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=r.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=r.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=r.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=r.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(r.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),o.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(r.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(r.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),o.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(r.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new t.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},r.prototype.attachEvents=function(){this.onMouseLeaveHandler=(function(){this.isEditingInProgress||this.hide()}).bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},r.prototype.drawline=function(a,c){if(a.x>c.x){var y=c;c=a,a=y}var g=Math.atan((a.y-c.y)/(c.x-a.x));g=-(g=180*g/Math.PI);var f=Math.sqrt((a.x-c.x)*(a.x-c.x)+(a.y-c.y)*(a.y-c.y));this.dependencyLine.style.left=a.x+"px",this.dependencyLine.style.top=a.y+"px",this.dependencyLine.style.width=f+"px",this.dependencyLine.style.transform="rotate("+g+"deg)"},r.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},r.prototype.isTaskUpdateAllowed=function(){var a=this.ganttSettings.editing;return a.enabled&&a.allowTaskUpdate},r.prototype.detachEvents=function(){var a;(a=this.baseElement)===null||a===void 0||a.removeEventListener("mouseleave",this.onMouseLeaveHandler)},r.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},r})();d.TaskEditController=i},1886:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditTooltip=void 0;var u=l(6907),h=(function(){function p(o,t,n){this.parentElement=o,this.cultureInfo=n,this.tooltipSettings=t}return Object.defineProperty(p.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),p.prototype.destroyTemplate=function(o){this.tooltipSettings.destroyTemplate(o)},p.prototype.formatDate=function(o){return this.tooltipSettings.formatDate(o)},p.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=p.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},p.prototype.setDefaultTooltip=function(o){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=p.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var t=document.createElement("DIV");t.className=p.CLASSNAMES.TASK_EDIT_TASK_TITLE;var n=document.createElement("SPAN");if(t.appendChild(n),this.defaultTooltip.appendChild(t),n.innerText=o.title,this.defaultTooltip.appendChild(this.getTimeContent(o.start,o.end)),!isNaN(o.progress)){var e=document.createElement("DIV");e.className=p.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var i=document.createElement("SPAN"),r=document.createElement("SPAN");e.appendChild(i),e.appendChild(r),this.defaultTooltip.appendChild(e),i.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",r.innerText=o.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},p.prototype.setDefaultProgressTooltip=function(o){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=p.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=o+"%",this.baseElement.appendChild(this.defaultTooltip)},p.prototype.setDefaultTimeTooltip=function(o,t){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=p.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(o,t)),this.baseElement.appendChild(this.defaultTooltip)},p.prototype.showInfo=function(o,t,n){var e=this;n===void 0&&(n=0);var i=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),i?i(this.baseElement,o,(function(){e.showTooltip(t,!1,n)})):(this.setDefaultTooltip(o),this.showTooltip(t,!1,n))},p.prototype.showProgress=function(o,t){var n=this,e=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),e?e(this.baseElement,{progress:o},(function(){n.showTooltip(t)})):(this.setDefaultProgressTooltip(o),this.show(t))},p.prototype.showTime=function(o,t,n){var e=this,i=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),i?i(this.baseElement,{start:o,end:t},(function(){e.showTooltip(n)})):(this.setDefaultTimeTooltip(o,t),this.show(n))},p.prototype.showTooltip=function(o,t,n){var e,i=this;if(t===void 0&&(t=!0),n===void 0&&(n=0),(e=this.baseElement)===null||e===void 0?void 0:e.innerHTML){var r=function(){i.show(o,t)};n?this.timerId=setTimeout(r,n):r()}},p.prototype.show=function(o,t){var n,e,i,r=this;t===void 0&&(t=!0),(n=this.defaultTooltip)===null||n===void 0||n.classList.remove(p.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),(e=this.defaultTooltip)===null||e===void 0||e.classList.remove(p.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var a=this.getLeftPosition(o),c=this.needToShowUnderParent(),y=this.getTopPosition(c),g=c?p.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:p.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;(i=this.defaultTooltip)===null||i===void 0||i.classList.add(g),this.baseElement.style.left=a+"px",this.baseElement.style.top=y+"px",t&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){r.hide()}),1500))},p.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},p.prototype.getTimeContent=function(o,t){var n=document.createElement("TABLE");n.className=p.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var e=document.createElement("TBODY");n.appendChild(e);var i=document.createElement("TR"),r=document.createElement("TD"),a=document.createElement("TD"),c=document.createElement("TR"),y=document.createElement("TD"),g=document.createElement("TD");return i.appendChild(r),i.appendChild(a),c.appendChild(y),c.appendChild(g),e.appendChild(i),e.appendChild(c),r.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",a.innerText=this.formatDate(o),y.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",g.innerText=this.formatDate(t),n},p.prototype.getLeftPosition=function(o){var t=o-u.DomUtils.getAbsolutePositionX(this.parentElement)-2*p.defaultArrowHeight;if(this.taskAreaContainer){var n=u.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),e=o+this.baseElement.clientWidth-n;e>0&&(t-=e)}return t},p.prototype.getTopPosition=function(o){return o?this.parentElement.clientHeight+p.defaultArrowHeight:-this.baseElement.clientHeight-p.defaultArrowHeight},p.prototype.needToShowUnderParent=function(){var o,t=u.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-u.DomUtils.getDocumentScrollTop()-p.defaultHeightOffset,n=((o=this.taskAreaContainer)===null||o===void 0?void 0:o.scrollTop)||0,e=this.parentElement.offsetTop-n;return this.baseElement.clientHeight>t||this.baseElement.clientHeight>e},p.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},p.defaultArrowHeight=5,p.defaultHeightOffset=15,p})();d.TaskEditTooltip=h},3336:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttMovingHelper=void 0;var u=l(9279),h=l(3714),p=(function(){function o(t){this.taskAreaContainer=t,this.movingInfo=null}return o.prototype.startMoving=function(t){this.movingInfo=this.calcMovingInfo(t),this.updateGanttAreaCursor(!0)},o.prototype.cancelMoving=function(){this.movingInfo=null},o.prototype.onMouseMove=function(t){this.move(t)},o.prototype.onMouseUp=function(t){this.cancelMoving(),this.updateGanttAreaCursor(!1)},o.prototype.move=function(t){this.updateScrollPosition(t)},o.prototype.updateScrollPosition=function(t){var n=Math.round(h.EvtUtils.getEventX(t)),e=Math.round(h.EvtUtils.getEventY(t)),i=n-this.movingInfo.eventX,r=e-this.movingInfo.eventY,a=i<0?-1:1,c=r<0?-1:1,y=a<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,g=c<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(i)>y&&(i=y*a),Math.abs(r)>g&&(r=g*c);var f=this.movingInfo.scrollLeft-i,T=this.movingInfo.scrollTop-r,v=this.taskAreaContainer;v.scrollLeft!==f&&(v.scrollLeft=f),v.scrollTop!==T&&(v.scrollTop=T)},o.prototype.calcMovingInfo=function(t){var n=this.taskAreaContainer;return{eventX:h.EvtUtils.getEventX(t),eventY:h.EvtUtils.getEventY(t),scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,maxLeftDelta:n.scrollLeft,maxRightDelta:n.scrollWidth-n.scrollLeft-n.getElement().offsetWidth,maxTopDelta:n.scrollTop,maxBottomDelta:n.scrollHeight-n.scrollTop-n.getElement().offsetHeight}},o.prototype.updateGanttAreaCursor=function(t){var n=u.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=t?n:"default"},o})();d.GanttMovingHelper=p},6958:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaStateController=void 0;var u=l(8900),h=l(6907),p=l(3714),o=l(5098),t=l(2449),n=l(5376),e=l(4264),i=l(9155),r=l(125),a=l(1404),c=l(6591),y=l(2395),g=l(7295),f=(function(){function T(v,k,b){var C=this;this.position=new u.Point(-1,-1),this._pointers={},this._listener=v,this._listener.setHandler(a.TaskAreaStateEventNames.STATE_EXIT,(function(){C.switchToDefaultState()})),this._listener.setHandler(a.TaskAreaStateEventNames.GET_POINTERS_INFO,(function(P){return C.getPointersInfo(P.triggerEvent)})),this._taskArea=k,this._cellSize=b,this.switchToDefaultState()}return T.prototype.onKeyDown=function(v){this._state.onKeyDown(v)},T.prototype.onScroll=function(v){this._state.onScroll(v)},T.prototype.onContextMenu=function(v){this._state.onContextMenu(v)},T.prototype.onMouseWheel=function(v){v.ctrlKey&&(v.preventDefault(),v.stopPropagation(),this.switchState(c.TaskAreaZoomState)),this._state.onMouseWheel(v)},Object.defineProperty(T.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),T.prototype.onTaskPointerEnter=function(v){this._state.onTaskPointerEnter(v)},T.prototype.onTaskAreaPointerLeave=function(v){this._state.onTaskAreaLeave(v)},T.prototype.onDocumentPointerCancel=function(v){this._clearPointerInfo(v)},T.prototype.onDocumentPointerDown=function(v){this._updatePinterInfo(v),this.toggleStateOnPointerDown(v),this._state.onDocumentPointerDown(v)},T.prototype.onDocumentPointerMove=function(v){this._updatePinterInfo(v),this.toggleStateOnPointerMove(v),this._state.onDocumentPointerMove(v)},T.prototype.onDocumentPointerUp=function(v){this._clearPointerInfo(v),this._state.onDocumentPointerUp(v)},T.prototype.onTaskTouchStart=function(v){this._state.onTaskTouchStart(v)},T.prototype.onTouchStart=function(v){this.toggleStateOnPointerDown(v),this._state.onTouchStart(v)},T.prototype.onTouchEnd=function(v){this._state.onTouchEnd(v)},T.prototype.onTouchMove=function(v){this.toggleStateOnPointerMove(v),this._state.onTouchMove(v)},T.prototype.onClick=function(v){this._state.onClick(v)},T.prototype.onDblClick=function(v){this._state.onDblClick(v)},T.prototype.onTaskAreaMouseLeave=function(v){this._state.onTaskAreaLeave(v)},T.prototype.onTaskElementHover=function(v){this._state.onTaskHover(v)},T.prototype.onTaskElementLeave=function(v){this._state.onTaskLeave(v)},T.prototype.onMouseUp=function(v){this._state.onMouseUp(v)},T.prototype.onMouseMove=function(v){this._state.onMouseMove(v)},T.prototype.onMouseDown=function(v){switch(this.getTaskAreaEventSource(v)){case t.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(v);break;case t.TaskAreaEventSource.TaskEdit_Frame:this.switchState(g.TaskMoveState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(y.TaskEditState);break;case t.TaskAreaEventSource.TaskEdit_DependencyStart:case t.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(e.TaskAreaDependencyState)}this._state.onMouseDown(v)},Object.defineProperty(T.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),T.prototype.switchToDefaultState=function(){this._state=new n.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},T.prototype.switchState=function(v){this._state instanceof v||(this._state&&this._state.finish(),this._state=new v(this._listener,this.taskArea,this._cellSize),this._state.start())},T.prototype.processMouseDownOnTaskArea=function(v){p.EvtUtils.isLeftButtonPressed(v)&&!i.TaskAreaDomHelper.isConnectorLine(v)&&this.switchState(r.TaskAreaScrollState)},T.prototype.toggleStateOnPointerDown=function(v){var k=this.toggleStateWhenMultiOrOutsideTouch(v);if(this.position=new u.Point(p.EvtUtils.getEventX(v),p.EvtUtils.getEventY(v)),!k&&this._canStartDrag(v))switch(this.getTaskAreaEventSource(v)){case t.TaskAreaEventSource.TaskEdit_DependencyStart:case t.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(e.TaskAreaDependencyState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(y.TaskEditState)}},T.prototype.toggleStateOnPointerMove=function(v){var k=this.toggleStateWhenMultiOrOutsideTouch(v),b=Math.abs(this.position.x-p.EvtUtils.getEventX(v))>1||Math.abs(this.position.y-p.EvtUtils.getEventY(v))>1;if(!k&&b&&this._canStartDrag(v)&&this._state instanceof n.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(v)){case t.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(v)?this.switchState(g.TaskMoveState):this.switchState(r.TaskAreaScrollState);break;case t.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(r.TaskAreaScrollState):this.switchState(g.TaskMoveState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(y.TaskEditState)}},T.prototype.toggleStateWhenMultiOrOutsideTouch=function(v){var k=this._getActivePointersCount(v),b=!this.isInTaskArea(v),C=k>=2||b;return k>2||b?this.switchState(n.TaskAreaDefaultState):k===2&&this.switchState(c.TaskAreaZoomState),C},T.prototype.checkEventInTaskEditFrameArea=function(v){var k,b,C=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!C)return!1;var P=(v==null?void 0:v.clientX)||((k=v==null?void 0:v.touches[0])===null||k===void 0?void 0:k.clientX),H=(v==null?void 0:v.clientY)||((b=v==null?void 0:v.touches[0])===null||b===void 0?void 0:b.clientY),x=C.getBoundingClientRect();return P>=x.left&&P<=x.left+x.width&&H>=x.top&&H<=x.top+x.height},T.prototype.isTaskUpdateDisabled=function(){return this._taskArea.getAttribute("task-edit-enabled")==="false"},T.prototype.isInTaskArea=function(v){return h.DomUtils.isItParent(this._taskArea,p.EvtUtils.getEventSource(v))},T.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(o.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},T.prototype._updatePinterInfo=function(v){var k=v.pointerId;this._pointers[k]={pageX:v.pageX,pageY:v.pageY,pointerType:v.pointerType}},T.prototype._clearPointerInfo=function(v){var k=v.pointerId;delete this._pointers[k]},T.prototype.isTouchEvent=function(v){return i.TaskAreaDomHelper.isTouchEvent(v)},T.prototype.isPointerEvent=function(v){return i.TaskAreaDomHelper.isPointerEvent(v)},T.prototype._getActivePointersCount=function(v){var k=this;return this.isTouchEvent(v)?v.touches.length:Object.keys(this._pointers).filter((function(b){return k._pointers[b].pointerType===v.pointerType})).length},T.prototype.getPointersInfo=function(v){var k=this,b=v==null?void 0:v.pointerType,C=Object.keys(this._pointers).map((function(P){return k._pointers[P]}));return b&&(C=C.filter((function(P){return P.pointerType===b}))),C},T.prototype._canStartDrag=function(v){return!(this._getActivePointersCount(v)>1)&&(!i.TaskAreaDomHelper.isMousePointer(v)||v.buttons===1)&&!i.TaskAreaDomHelper.isConnectorLine(v)},T.prototype.getTaskAreaEventSource=function(v){return i.TaskAreaDomHelper.getEventSource(p.EvtUtils.getEventSource(v))},T})();d.TaskAreaStateController=f},5376:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaDefaultState=void 0;var u=l(655),h=l(3714),p=l(9155),o=l(5867),t=l(1404),n=(function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return u.__extends(i,e),i.prototype.finish=function(){this.clearTimers(),this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},i.prototype.onMouseDownInternal=function(r){this.onPointerDownBase(r)},i.prototype.onDocumentPointerDownInternal=function(r){this.onPointerDownBase(r)},i.prototype.onDocumentPointerUpInternal=function(r){this.onPointerUpBase(r)},i.prototype.onDocumentPointerMoveInternal=function(r){this.clearTimers()},i.prototype.onTouchStartInternal=function(r){this.onPointerDownBase(r)},i.prototype.onTouchEndInternal=function(r){this.onPointerUpBase(r)},i.prototype.onTouchMoveInternal=function(r){this.clearTimers()},i.prototype.onPointerDownBase=function(r){var a=this;r.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(r),(this.isPointerEvent(r)?p.TaskAreaDomHelper.isMousePointer(r):this.isMouseEvent(r))?this.changeSelectionOnTouchDown(r):(setTimeout((function(){p.TaskAreaDomHelper.isMousePointer(r)||a.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE,r),a.changeSelectionOnTouchDown(r)}),0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout((function(){return a.showContextMenuOnTouchDown(r)}),i.defaultContextMenuTimeout))},i.prototype.onPointerUpBase=function(r){var a=this;if(clearTimeout(this._contextMenuTimer),r.preventDefault(),this.canToEmulateClick(r)){var c=this.getClickedRowIndex(r),y=new Date;if(this._lastEmulatedClickTime)y.getTime()-this._lastEmulatedClickTime.getTime()<i.defaultDblClickTimeout&&(this.raiseEvent(t.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,r,c),delete this._lastEmulatedClickTime);else{var g=!this.raiseEvent(t.TaskAreaStateEventNames.TASK_AREA_CLICK,r,c);clearTimeout(this._dblClickClearTimer),p.TaskAreaDomHelper.isMousePointer(r)&&this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE,r),g||(this._lastEmulatedClickTime=y,this._dblClickClearTimer=setTimeout((function(){delete a._lastEmulatedClickTime}),i.defaultDblClickClearTimeout))}}},i.prototype.canToEmulateClick=function(r){var a=!p.TaskAreaDomHelper.isConnectorLine(r)&&this.getClickedRowIndex(r)===this._lastTouchRowIndex;return a&&p.TaskAreaDomHelper.isMousePointer(r)&&a&&(a=r.button!==2),a},i.prototype.changeSelectionOnTouchDown=function(r){var a=p.TaskAreaDomHelper.isConnectorLine(r);a||this.raiseTaskSelection(r,this.getClickedRowIndex(r)),this.raiseDependencySelection(r,a?h.EvtUtils.getEventSource(r).getAttribute("dependency-id"):null)},i.prototype.showContextMenuOnTouchDown=function(r){var a=p.TaskAreaDomHelper.isConnectorLine(r);this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_SHOW,r,this.getClickedRowIndex(r),{type:a?"dependency":"task"})},i.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},i.defaultContextMenuTimeout=3e3,i.defaultDblClickTimeout=500,i.defaultDblClickClearTimeout=i.defaultDblClickTimeout+100,i})(o.TaskAreaStateBase);d.TaskAreaDefaultState=n},4264:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaDependencyState=d.dependencyMap=void 0;var u=l(655),h=l(8900),p=l(6907),o=l(3714),t=l(5950),n=l(2449),e=l(9155),i=l(5867),r=l(1404);d.dependencyMap=[],d.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart]=[],d.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],d.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart][n.TaskAreaEventSource.Successor_DependencyStart]=t.DependencyType.SS,d.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart][n.TaskAreaEventSource.Successor_DependencyFinish]=t.DependencyType.SF,d.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish][n.TaskAreaEventSource.Successor_DependencyStart]=t.DependencyType.FS,d.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish][n.TaskAreaEventSource.Successor_DependencyFinish]=t.DependencyType.FF;var a=(function(c){function y(){return c!==null&&c.apply(this,arguments)||this}return u.__extends(y,c),y.prototype.onMouseUp=function(g){this.onDependencyEndByMouse(g)},y.prototype.onMouseDownInternal=function(g){this.onDependencyStart(g)},y.prototype.onMouseMoveInternal=function(g){this.onDependencyMoveStep(g)},y.prototype.onTouchStartInternal=function(g){this.onDependencyStart(g)},y.prototype.onTouchEndInternal=function(g){this.onDependencyEndByTouch(g)},y.prototype.onTouchMoveInternal=function(g){this.onDependencyMoveStep(g)},y.prototype.onDocumentPointerDownInternal=function(g){this.onDependencyStart(g)},y.prototype.onDocumentPointerUpInternal=function(g){this.onDependencyEndByTouch(g)},y.prototype.onDocumentPointerMoveInternal=function(g){this.onDependencyMoveStep(g)},y.prototype.onDependencyStart=function(g){var f=o.EvtUtils.getEventSource(g);this.source=e.TaskAreaDomHelper.getEventSource(f);var T=this.getRelativePos(new h.Point(p.DomUtils.getAbsolutePositionX(f)+f.clientWidth/2,p.DomUtils.getAbsolutePositionY(f)+f.clientHeight/2));this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_START,g,null,{pos:T})},y.prototype.onDependencyMoveStep=function(g){g.preventDefault();var f=this.getRelativePos(new h.Point(o.EvtUtils.getEventX(g),o.EvtUtils.getEventY(g)));this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_PROCESS,g,this.getClickedRowIndex(g),{pos:f})},y.prototype.onDependencyEndByMouse=function(g){var f=e.TaskAreaDomHelper.getEventSource(o.EvtUtils.getEventSource(g)),T=f===n.TaskAreaEventSource.Successor_DependencyStart||f===n.TaskAreaEventSource.Successor_DependencyFinish?d.dependencyMap[this.source][f]:null;this.processEndDependency(g,T)},y.prototype.onDependencyEndByTouch=function(g){var f=this.raiseEvent(r.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,g),T=this.getRelativePos(f.successorStart),v=this.getRelativePos(f.successorFinish),k=this.getRelativePos(new h.Point(o.EvtUtils.getEventX(g),o.EvtUtils.getEventY(g))),b=this.isTouchNearby(k,T)?n.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(k,v)?n.TaskAreaEventSource.Successor_DependencyFinish:null,C=b===n.TaskAreaEventSource.Successor_DependencyStart||b===n.TaskAreaEventSource.Successor_DependencyFinish?d.dependencyMap[this.source][b]:null;this.processEndDependency(g,C)},y.prototype.onTaskAreaLeaveInternal=function(g){this.processEndDependency(g,null)},y.prototype.processEndDependency=function(g,f){this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_END,g,null,{type:f}),this.raiseEvent(r.TaskAreaStateEventNames.STATE_EXIT,g)},y.prototype.isTouchNearby=function(g,f){return Math.abs(f.x-g.x)<=20&&Math.abs(f.y-g.y)<=20},y})(i.TaskAreaStateBase);d.TaskAreaDependencyState=a},9155:(w,d,l)=>{var u;Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaDomHelper=void 0;var h=l(6907),p=l(3714),o=l(5098),t=l(2449),n=l(1855),e=(function(){function i(){}return i.getEventSource=function(r){var a,c=(r.nodeType===((a=window==null?void 0:window.Node)===null||a===void 0?void 0:a.ELEMENT_NODE)?r:r.parentNode).classList[0];return i.classToSource[c]||t.TaskAreaEventSource.TaskArea},i.isConnectorLine=function(r){var a=p.EvtUtils.getEventSource(r);return h.DomUtils.hasClassName(a,n.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||h.DomUtils.hasClassName(a,n.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},i.isTaskElement=function(r){var a=p.EvtUtils.getEventSource(r),c=i.classToSource[a.classList[0]];return c===t.TaskAreaEventSource.TaskEdit_Frame||c===t.TaskAreaEventSource.TaskEdit_Progress||c===t.TaskAreaEventSource.TaskEdit_Start||c===t.TaskAreaEventSource.TaskEdit_End||c===t.TaskAreaEventSource.TaskEdit_DependencyStart||c===t.TaskAreaEventSource.TaskEdit_DependencyFinish},i.isMouseEvent=function(r){return r instanceof MouseEvent},i.isTouchEvent=function(r){return window.TouchEvent&&r instanceof TouchEvent},i.isPointerEvent=function(r){return window.PointerEvent&&r instanceof PointerEvent},i.isMousePointer=function(r){return this.isPointerEvent(r)&&r.pointerType==="mouse"},i.classToSource=((u={})[o.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=t.TaskAreaEventSource.TaskEdit_Progress,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_START]=t.TaskAreaEventSource.TaskEdit_Start,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_END]=t.TaskAreaEventSource.TaskEdit_End,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=t.TaskAreaEventSource.TaskEdit_Frame,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=t.TaskAreaEventSource.TaskEdit_DependencyStart,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=t.TaskAreaEventSource.TaskEdit_DependencyFinish,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=t.TaskAreaEventSource.Successor_DependencyStart,u[o.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=t.TaskAreaEventSource.Successor_DependencyFinish,u),i})();d.TaskAreaDomHelper=e},125:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaScrollState=void 0;var u=l(655),h=l(5867),p=l(1404),o=(function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._isStarted=!1,e}return u.__extends(n,t),n.prototype.finish=function(){this.raiseEvent(p.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},n.prototype.onMouseUp=function(e){this.onEnd(e)},n.prototype.onMouseDownInternal=function(e){this.onBeforeStart(e)},n.prototype.onMouseMoveInternal=function(e){this.onMove(e)},n.prototype.onDocumentPointerUpInternal=function(e){this.onEnd(e)},n.prototype.onDocumentPointerMoveInternal=function(e){this.onMoveByPointer(e)},n.prototype.onTouchEndInternal=function(e){this.onEnd(e)},n.prototype.onTouchMoveInternal=function(e){this.onMoveByPointer(e)},n.prototype.onBeforeStart=function(e){e.preventDefault(),this.raiseDependencySelection(e,null),this.raiseEvent(p.TaskAreaStateEventNames.TASK_EDIT_END,e),this.raiseEvent(p.TaskAreaStateEventNames.TASK_AREA_START_MOVE,e),this._isStarted=!0},n.prototype.onMoveByPointer=function(e){this._isStarted?this.onMove(e):this.onBeforeStart(e)},n.prototype.onMove=function(e){e.preventDefault(),this.raiseEvent(p.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,e)},n.prototype.onEnd=function(e){e.preventDefault(),this.raiseEvent(p.TaskAreaStateEventNames.TASK_AREA_END_MOVE,e),this.raiseEvent(p.TaskAreaStateEventNames.STATE_EXIT,e),this._isStarted=!1},n})(h.TaskAreaStateBase);d.TaskAreaScrollState=o},5867:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaStateBase=void 0;var u=l(9279),h=l(8900),p=l(6907),o=l(3714),t=l(2153),n=l(3461),e=l(9155),i=l(1404),r=(function(){function a(c,y,g){this.position=new h.Point(-1,-1),this.isCursorInArea=!1,this._listener=c,this._taskArea=y,this._cellSize=g}return a.prototype.start=function(){},a.prototype.finish=function(){},a.prototype.isTouchEvent=function(c){return e.TaskAreaDomHelper.isTouchEvent(c)},a.prototype.isPointerEvent=function(c){return e.TaskAreaDomHelper.isPointerEvent(c)},a.prototype.isMouseEvent=function(c){return e.TaskAreaDomHelper.isMouseEvent(c)},a.prototype.onMouseWheel=function(c){},a.prototype.onScroll=function(c){this.raiseEvent(i.TaskAreaStateEventNames.TASK_AREA_SCROLL)},a.prototype.onKeyDown=function(c){this.isCursorInArea&&this.raiseEvent(i.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,c,null,{code:this.getShortcutCode(c)})},a.prototype.onContextMenu=function(c){var y=this.getClickedRowIndex(c),g=e.TaskAreaDomHelper.isConnectorLine(c);g||this.raiseTaskSelection(c,y),c.stopPropagation(),c.preventDefault(),u.Browser.WebKitFamily&&(c.returnValue=!1),this.raiseEvent(i.TaskAreaStateEventNames.CONTEXTMENU_SHOW,c,y,{type:g?"dependency":"task"})},a.prototype.onTaskPointerEnter=function(c){this.onTaskPointerEnterBase(c)},a.prototype.onDocumentPointerMove=function(c){this.processPointerMove(c)},a.prototype.onDocumentPointerDown=function(c){this.processPointerDown(c)},a.prototype.onDocumentPointerUp=function(c){this.processPointerUp(c)},a.prototype.onTaskTouchStart=function(c){this.onTaskPointerEnterBase(c)},a.prototype.onTouchMove=function(c){this.processPointerMove(c)},a.prototype.onTouchStart=function(c){this.processPointerDown(c)},a.prototype.onTouchEnd=function(c){this.processPointerUp(c)},a.prototype.onMouseDown=function(c){this.processPointerDown(c)},a.prototype.onMouseUp=function(c){},a.prototype.onMouseMove=function(c){this.processPointerMove(c)},a.prototype.onTaskHover=function(c){this.onTaskPointerEnterBase(c)},a.prototype.onTaskLeave=function(c){this.raiseEvent(i.TaskAreaStateEventNames.TASK_LEAVE,c,this.getClickedRowIndex(c))},a.prototype.onClick=function(c){var y=this.getClickedRowIndex(c);this.raiseTaskSelection(c,y),this.raiseEvent(i.TaskAreaStateEventNames.TASK_AREA_CLICK,c,y)},a.prototype.onDblClick=function(c){c.preventDefault(),this.raiseEvent(i.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,c,this.getClickedRowIndex(c))},a.prototype.onTaskAreaLeave=function(c){(!this.isPointerEvent(c)||e.TaskAreaDomHelper.isMousePointer(c))&&(this.isCursorInArea=!1,this.raiseEvent(i.TaskAreaStateEventNames.TASK_EDIT_END,c)),this.onTaskAreaLeaveInternal(c)},a.prototype.onTaskPointerEnterBase=function(c){this.isTouchEvent(c)||this.isPointerEvent(c)||c.preventDefault(),this.raiseEvent(i.TaskAreaStateEventNames.TASK_EDIT_START,c,this.getClickedRowIndex(c))},a.prototype.processPointerDown=function(c){var y=this.isTouchEvent(c),g=this.isPointerEvent(c);(y||g)&&this.checkAndProcessTouchOutsideArea(c)||(this.position=new h.Point(o.EvtUtils.getEventX(c),o.EvtUtils.getEventY(c)),(y||g)&&c.preventDefault(),y?this.onTouchStartInternal(c):g?this.onDocumentPointerDownInternal(c):this.onMouseDownInternal(c))},a.prototype.processPointerMove=function(c){var y,g=this.isTouchEvent(c),f=this.isPointerEvent(c);(y=this.position)!==null&&y!==void 0||(this.position=new h.Point(o.EvtUtils.getEventX(c),o.EvtUtils.getEventY(c)));var T=Math.abs(this.position.x-o.EvtUtils.getEventX(c))>2||Math.abs(this.position.y-o.EvtUtils.getEventY(c))>2;!((g||f)&&this.checkAndProcessTouchOutsideArea(c))&&T&&((g||f)&&c.preventDefault(),this.isTouchEvent(c)?this.onTouchMoveInternal(c):this.isPointerEvent(c)?this.onDocumentPointerMoveInternal(c):(this.isCursorInArea=!0,this.onMouseMoveInternal(c)))},a.prototype.processPointerUp=function(c){this.checkAndProcessTouchOutsideArea(c)||(c.preventDefault(),this.isTouchEvent(c)?this.onTouchEndInternal(c):this.onDocumentPointerUpInternal(c))},a.prototype.onMouseDownInternal=function(c){},a.prototype.onMouseMoveInternal=function(c){},a.prototype.onDocumentPointerUpInternal=function(c){},a.prototype.onDocumentPointerDownInternal=function(c){},a.prototype.onDocumentPointerMoveInternal=function(c){},a.prototype.onTouchStartInternal=function(c){},a.prototype.onTouchEndInternal=function(c){},a.prototype.onTouchMoveInternal=function(c){},a.prototype.onTaskAreaLeaveInternal=function(c){},a.prototype.checkAndProcessTouchOutsideArea=function(c){var y=!this.isInTaskArea(c);return y&&this.raiseEvent(i.TaskAreaStateEventNames.TASK_EDIT_END,c),this.isCursorInArea=!y,y},a.prototype.raiseEvent=function(c,y,g,f){var T=new n.TaskAreaEventArgs(c,y,g,f),v=this._listener.getHandler(c);return v&&v(T)},a.prototype.raiseDependencySelection=function(c,y){this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_SELECTION,c,null,{key:y})},a.prototype.raiseTaskSelection=function(c,y){p.DomUtils.isItParent(this._taskArea,o.EvtUtils.getEventSource(c))&&!e.TaskAreaDomHelper.isConnectorLine(c)&&this.raiseEvent(i.TaskAreaStateEventNames.TASK_SELECTION,c,y)},a.prototype.getClickedRowIndex=function(c){if(!c)return-1;var y=o.EvtUtils.getEventY(c)-p.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(y/this._cellSize.height)},a.prototype.getRelativePos=function(c){var y=p.DomUtils.getAbsolutePositionX(this._taskArea),g=p.DomUtils.getAbsolutePositionY(this._taskArea);return new h.Point(c.x-y,c.y-g)},a.prototype.isInTaskArea=function(c){return p.DomUtils.isItParent(this._taskArea,o.EvtUtils.getEventSource(c))},a.prototype.getShortcutCode=function(c){var y=t.KeyUtils.getEventKeyCode(c),g=0;return c.altKey&&(g|=t.ModifierKey.Alt),c.ctrlKey&&(g|=t.ModifierKey.Ctrl),c.shiftKey&&(g|=t.ModifierKey.Shift),c.metaKey&&u.Browser.MacOSPlatform&&(g|=t.ModifierKey.Meta),g|y},a})();d.TaskAreaStateBase=r},1404:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaStateEventNames=void 0;var l=(function(){function u(){}return u.TASK_AREA_CLICK="taskAreaClick",u.TASK_AREA_DBLCLICK="taskAreaDblClick",u.TASK_AREA_SCROLL="taskAreaScroll",u.TASK_AREA_START_MOVE="taskAreaStartMove",u.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",u.TASK_AREA_END_MOVE="taskAreaEndMove",u.TASK_AREA_ZOOM_IN="taskAreaZoomIn",u.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",u.CONTEXTMENU_SHOW="contextMenuShow",u.CONTEXTMENU_HIDE="contextMenuHide",u.DEPENDENCY_SELECTION="dependencySelection",u.STATE_EXIT="stateExit",u.TASK_SELECTION="taskSelection",u.TASK_EDIT_START="taskEditStart",u.TASK_EDIT_END="taskEditEnd",u.TASK_LEAVE="taskLeave",u.TASK_PROCESS_MOVE="taskProcessMove",u.TASK_END_MOVE="taskEndMove",u.TASK_PROCESS_PROGRESS="taskProcessProgress",u.TASK_END_PROGRESS="taskEndProgress",u.TASK_PROCESS_START="taskProcessStart",u.TASK_CONFIRM_START="taskConfirmStart",u.TASK_PROCESS_END="taskProcessEnd",u.TASK_CONFIRM_END="taskConfirmEnd",u.GET_DEPENDENCY_POINTS="getDependencyPoints",u.DEPENDENCY_START="dependencyStart",u.DEPENDENCY_PROCESS="dependencyProcess",u.DEPENDENCY_END="dependencyEnd",u.TASK_AREA_KEY_DOWN="taskAreaKeyDown",u.GET_POINTERS_INFO="getPointersInfo",u.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",u})();d.TaskAreaStateEventNames=l},6591:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaZoomState=void 0;var u=l(655),h=l(8900),p=l(3714),o=l(5596),t=l(5867),n=l(1404),e=(function(i){function r(){var a=i!==null&&i.apply(this,arguments)||this;return a._isInZooming=!1,a}return u.__extends(r,i),r.prototype.onMouseWheel=function(a){a.ctrlKey&&(a.preventDefault(),a.stopPropagation(),this._isInZooming||this.processZoom(a,p.EvtUtils.getWheelDelta(a)>0,50))},r.prototype.onDocumentPointerUpInternal=function(a){this.onEndZoom(a)},r.prototype.onDocumentPointerMoveInternal=function(a){this.onTouchZoom(a)},r.prototype.onTouchEndInternal=function(a){this.onEndZoom(a)},r.prototype.onTouchMoveInternal=function(a){this.onTouchZoom(a)},r.prototype.onTouchZoom=function(a){var c;if(a.stopPropagation(),a.preventDefault(),!this._isInZooming){var y=this.getTouchDistance(a);(c=this.prevDistance)!==null&&c!==void 0||(this.prevDistance=y);var g=this.prevDistance-y;Math.abs(g)>3&&(this.processZoom(a,g>0,1e3),this.prevDistance=y)}},r.prototype.processZoom=function(a,c,y){var g=this;this._isInZooming=!0,setTimeout((function(){g._isInZooming=!1}),y);var f=c?n.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:n.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(f,a,null,{leftPos:this.getLeftPosition(a)})},r.prototype.onEndZoom=function(a){this.prevDistance=null,this.raiseEvent(n.TaskAreaStateEventNames.STATE_EXIT,a)},r.prototype.getTouchDistance=function(a){var c=this.GetTouchPoints(a);return this.getDistance(c[0],c[1])},r.prototype.GetTouchPoints=function(a){var c,y,g,f;if(this.isTouchEvent(a)){var T=a.touches;return[new h.Point(T[0].pageX,T[0].pageY),new h.Point(T[1].pageX,T[1].pageY)]}var v=this.raiseEvent(n.TaskAreaStateEventNames.GET_POINTERS_INFO,a);return[new h.Point((c=v[0])===null||c===void 0?void 0:c.pageX,(y=v[0])===null||y===void 0?void 0:y.pageY),new h.Point((g=v[1])===null||g===void 0?void 0:g.pageX,(f=v[1])===null||f===void 0?void 0:f.pageY)]},r.prototype.getDistance=function(a,c){return o.Metrics.euclideanDistance(a,c)},r.prototype.getLeftPosition=function(a){var c=0;return this.isTouchEvent(a)||this.isPointerEvent(a)?c=this.getZoomMiddlePoint(a).x:this.isMouseEvent(a)&&(c=this.getMouseZoomLeftPos(a)),c},r.prototype.getMouseZoomLeftPos=function(a){var c=this.raiseEvent(n.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return p.EvtUtils.getEventX(a)-c.x},r.prototype.getZoomMiddlePoint=function(a){var c=this.raiseEvent(n.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),y=this.GetTouchPoints(a),g=this.convertScreenToChartCoordinates(y[0],c),f=this.convertScreenToChartCoordinates(y[1],c);return new h.Point((g.x+f.x)/2,(g.y+f.y)/2)},r.prototype.convertScreenToChartCoordinates=function(a,c){return new h.Point(a.x-c.x,a.y-c.y)},r})(t.TaskAreaStateBase);d.TaskAreaZoomState=e},6262:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskDragBaseState=void 0;var u=l(655),h=l(8900),p=l(3714),o=l(5867),t=l(1404),n=(function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return u.__extends(i,e),i.prototype.onMouseDownInternal=function(r){this.onStart(r)},i.prototype.onMouseUp=function(r){this.onEnd(r)},i.prototype.onMouseMoveInternal=function(r){this.onDrag(r)},i.prototype.onTouchStartInternal=function(r){this.onStart(r)},i.prototype.onTouchEndInternal=function(r){this.onEnd(r)},i.prototype.onTouchMoveInternal=function(r){this.onDrag(r)},i.prototype.onDocumentPointerDownInternal=function(r){this.onStart(r)},i.prototype.onDocumentPointerUpInternal=function(r){this.onEnd(r)},i.prototype.onDocumentPointerMoveInternal=function(r){this.onDrag(r)},i.prototype.onStart=function(r){this.currentPosition=new h.Point(p.EvtUtils.getEventX(r),p.EvtUtils.getEventY(r)),this.raiseDependencySelection(r,null),this.onStartInternal(r)},i.prototype.onDrag=function(r){var a;r.preventDefault();var c=new h.Point(p.EvtUtils.getEventX(r),p.EvtUtils.getEventY(r));(a=this.currentPosition)!==null&&a!==void 0||(this.currentPosition=c),this.onDragInternal(c),this.currentPosition=c},i.prototype.onEnd=function(r){this.onEndInternal(r),this.raiseEvent(t.TaskAreaStateEventNames.STATE_EXIT,r)},i.prototype.onStartInternal=function(r){},i.prototype.onEndInternal=function(r){},i.prototype.onDragInternal=function(r){},i.prototype.finish=function(){this.raiseEvent(t.TaskAreaStateEventNames.TASK_EDIT_END)},i})(o.TaskAreaStateBase);d.TaskDragBaseState=n},2395:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditState=void 0;var u=l(655),h=l(3714),p=l(2449),o=l(9155),t=l(1404),n=(function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return u.__extends(i,e),i.prototype.onStartInternal=function(r){var a;(a=this._source)!==null&&a!==void 0||(this._source=o.TaskAreaDomHelper.getEventSource(h.EvtUtils.getEventSource(r)))},i.prototype.onEndInternal=function(r){this.raiseEvent(this.getEventOnEndKey(),r)},i.prototype.onDragInternal=function(r){var a=this.getRelativePos(r);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:a})},i.prototype.getEventOnDragKey=function(){switch(this._source){case p.TaskAreaEventSource.TaskEdit_Start:return t.TaskAreaStateEventNames.TASK_PROCESS_START;case p.TaskAreaEventSource.TaskEdit_End:return t.TaskAreaStateEventNames.TASK_PROCESS_END;case p.TaskAreaEventSource.TaskEdit_Progress:return t.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},i.prototype.getEventOnEndKey=function(){switch(this._source){case p.TaskAreaEventSource.TaskEdit_Start:return t.TaskAreaStateEventNames.TASK_CONFIRM_START;case p.TaskAreaEventSource.TaskEdit_End:return t.TaskAreaStateEventNames.TASK_CONFIRM_END;case p.TaskAreaEventSource.TaskEdit_Progress:return t.TaskAreaStateEventNames.TASK_END_PROGRESS}},i})(l(6262).TaskDragBaseState);d.TaskEditState=n},7295:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskMoveState=void 0;var u=l(655),h=l(1404),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.prototype.onEndInternal=function(n){this.raiseEvent(h.TaskAreaStateEventNames.TASK_END_MOVE,n)},t.prototype.onDragInternal=function(n){this.raiseEvent(h.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:n.x-this.currentPosition.x})||this.raiseEvent(h.TaskAreaStateEventNames.STATE_EXIT)},t})(l(6262).TaskDragBaseState);d.TaskMoveState=p},3461:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaEventArgs=void 0;var u=l(2491),h=function(p,o,t,n){this.rowIndex=-1,this.info={},this.eventName=p,this.triggerEvent=o,(0,u.isDefined)(t)&&(this.rowIndex=t),n&&(this.info=n)};d.TaskAreaEventArgs=h},8269:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaEventsListener=void 0;var u=l(8900),h=l(2491),p=l(6907),o=l(3714),t=l(2153),n=l(3336),e=l(1404),i=(function(){function r(a){this._owner=a}return Object.defineProperty(r.prototype,"taskEditController",{get:function(){var a;return(a=this._owner)===null||a===void 0?void 0:a.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderHelper",{get:function(){var a;return(a=this._owner)===null||a===void 0?void 0:a.renderHelper},enumerable:!1,configurable:!0}),r.prototype.getHandler=function(a){return this.handlers[a]},r.prototype.setHandler=function(a,c){this.handlers[a]=c},Object.defineProperty(r.prototype,"handlers",{get:function(){var a;return(a=this._handlers)!==null&&a!==void 0||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),r.prototype.createTaskAreaEventHandlers=function(){var a={};return a[e.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),a[e.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),a[e.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),a[e.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),a[e.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),a[e.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),a[e.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),a[e.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),a[e.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),a[e.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),a[e.TaskAreaStateEventNames.STATE_EXIT]=function(){},a},r.prototype.taskAreaClickHandler=function(a){return this._owner.onTaskAreaClick(a.rowIndex,a.triggerEvent)},r.prototype.taskAreaDblClickHandler=function(a){this._owner.onTaskAreaDblClick(a.rowIndex,a.triggerEvent)},r.prototype.taskSelectionHandler=function(a){this._owner.onTaskSelectionChanged(a.rowIndex,a.triggerEvent)},r.prototype.taskAreaContextMenuShowHandler=function(a){this._owner.onTaskAreaContextMenu(a.rowIndex,a.triggerEvent,a.info.type)},r.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},r.prototype.taskAreaScrollHandler=function(a){this._owner.updateView()},r.prototype.dependencySelectionHandler=function(a){var c=a.info.key,y=this.taskEditController.dependencyId;(c!==y||!c&&(0,h.isDefined)(y))&&this._owner.selectDependency(c)},Object.defineProperty(r.prototype,"ganttMovingHelper",{get:function(){var a;return(a=this._ganttMovingHelper)!==null&&a!==void 0||(this._ganttMovingHelper=new n.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),r.prototype.taskAreaStartMoveHandler=function(a){this.ganttMovingHelper.startMoving(a.triggerEvent)},r.prototype.taskAreaProcessMoveHandler=function(a){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(a.triggerEvent),a.triggerEvent.preventDefault())},r.prototype.taskAreaEndMoveHandler=function(a){this.ganttMovingHelper.onMouseUp(a.triggerEvent)},r.prototype.taskAreaZoomInHandler=function(a){this._owner.zoomIn(a.info.leftPos)},r.prototype.taskAreaZoomOutHandler=function(a){this._owner.zoomOut(a.info.leftPos)},r.prototype.getCoordinatesRefPoint=function(a){var c=p.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),y=p.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new u.Point(c,y)},r.prototype.taskEditStartHandler=function(a){this.taskEditController.show(a.rowIndex),this.taskEditController.showTaskInfo(o.EvtUtils.getEventX(a.triggerEvent))},r.prototype.taskLeaveHandler=function(a){this.taskEditController.cancel()},r.prototype.taskEditEndHandler=function(a){this.taskEditController.endEditing()},r.prototype.taskEndMoveHandler=function(a){this.taskEditController.confirmMove()},r.prototype.taskProcessMoveHandler=function(a){var c;return this.taskEditController.processMove((c=a.info.delta)!==null&&c!==void 0?c:0)},r.prototype.taskEndProgressHandler=function(a){this.taskEditController.confirmProgress()},r.prototype.taskProcessProgressHandler=function(a){this.taskEditController.processProgress(a.info.position)},r.prototype.taskProcessStartHandler=function(a){this.taskEditController.processStart(a.info.position)},r.prototype.taskConfirmStartHandler=function(a){this.taskEditController.confirmStart()},r.prototype.taskProcessEndHandler=function(a){this.taskEditController.processEnd(a.info.position)},r.prototype.taskConfirmEndHandler=function(a){this.taskEditController.confirmEnd()},r.prototype.getDependencyPoints=function(a){var c={};return c.successorStart=new u.Point(p.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,p.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),c.successorFinish=new u.Point(p.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,p.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),c},r.prototype.dependencyStartHandler=function(a){this.taskEditController.startDependency(a.info.pos)},r.prototype.dependencyEndHandler=function(a){this.taskEditController.endDependency(a.info.type)},r.prototype.dependencyProcessHandler=function(a){this.taskEditController.processDependency(a.info.pos),this._owner.viewModel.tasks.items[a.rowIndex]&&this.taskEditController.showDependencySuccessor(a.rowIndex)},r.prototype.onTaskAreaKeyDown=function(a){var c=a.info.code;c==(t.ModifierKey.Ctrl|t.KeyCode.Key_z)&&this._owner.history.undo(),c==(t.ModifierKey.Ctrl|t.KeyCode.Key_y)&&this._owner.history.redo(),c==t.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},r})();d.TaskAreaEventsListener=i},3682:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaManager=d.TOUCH_ACTION_NONE=void 0;var u=l(9279),h=l(6907),p=l(3714),o=l(6958);d.TOUCH_ACTION_NONE="dx-gantt-touch-action";var t=(function(){function n(e,i,r){this._eventListener=e,this._taskArea=i,this._cellSize=r,this.attachEvents()}return n.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():u.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},n.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():u.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},n.prototype.attachEventsOnTask=function(e){window.PointerEvent?e==null||e.addEventListener("pointerenter",this.onTaskPointerEnterHandler):u.Browser.TouchUI?e==null||e.addEventListener("touchstart",this.onTaskTouchStartHandler):(e==null||e.addEventListener("mouseenter",this.onTaskMouseEnterHandler),e==null||e.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},n.prototype.detachEventsOnTask=function(e){window.PointerEvent?e==null||e.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):u.Browser.TouchUI?e==null||e.removeEventListener("touchstart",this.onTaskTouchStartHandler):(e==null||e.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),e==null||e.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},n.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(p.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},n.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(p.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},n.prototype.attachPointerEvents=function(){h.DomUtils.addClassName(this.taskArea,d.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},n.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),h.DomUtils.removeClassName(this.taskArea,d.TOUCH_ACTION_NONE)},n.prototype.attachTouchEvents=function(){h.DomUtils.addClassName(this.taskArea,d.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},n.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),h.DomUtils.removeClassName(this.taskArea,d.TOUCH_ACTION_NONE)},n.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},n.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(n.prototype,"stateController",{get:function(){var e;return(e=this._stateController)!==null&&e!==void 0||(this._stateController=new o.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),n.prototype.taskAreaAddEventListener=function(e,i){this.taskArea.addEventListener(e,i)},n.prototype.taskAreaRemoveEventListener=function(e,i){this.taskArea.removeEventListener(e,i)},Object.defineProperty(n.prototype,"onContextMenuHandler",{get:function(){var e,i=this;return(e=this._onContextMenuHandler)!==null&&e!==void 0||(this._onContextMenuHandler=function(r){i.stateController.onContextMenu(r)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseWheelHandler",{get:function(){var e,i=this;return(e=this._onMouseWheelHandler)!==null&&e!==void 0||(this._onMouseWheelHandler=function(r){i.stateController.onMouseWheel(r)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onScrollHandler",{get:function(){var e,i=this;return(e=this._onScrollHandler)!==null&&e!==void 0||(this._onScrollHandler=function(r){i.stateController.onScroll(r)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onKeyDownHandler",{get:function(){var e,i=this;return(e=this._onKeyDownHandler)!==null&&e!==void 0||(this._onKeyDownHandler=function(r){i.stateController.onKeyDown(r)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskPointerEnterHandler",{get:function(){var e,i=this;return(e=this._onTaskPointerEnterHandler)!==null&&e!==void 0||(this._onTaskPointerEnterHandler=function(r){i.stateController.onTaskPointerEnter(r)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var e,i=this;return(e=this._onTaskAreaPointerLeaveHandler)!==null&&e!==void 0||(this._onTaskAreaPointerLeaveHandler=function(r){i.stateController.onTaskAreaPointerLeave(r)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerDownHandler",{get:function(){var e,i=this;return(e=this._onDocumentPointerDownHandler)!==null&&e!==void 0||(this._onDocumentPointerDownHandler=function(r){i.stateController.onDocumentPointerDown(r)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerUpHandler",{get:function(){var e,i=this;return(e=this._onDocumentPointerUpHandler)!==null&&e!==void 0||(this._onDocumentPointerUpHandler=function(r){i.stateController.onDocumentPointerUp(r)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var e,i=this;return(e=this._onDocumentPointerCancelHandler)!==null&&e!==void 0||(this._onDocumentPointerCancelHandler=function(r){i.stateController.onDocumentPointerCancel(r)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerMoveHandler",{get:function(){var e,i=this;return(e=this._onDocumentPointerMoveHandler)!==null&&e!==void 0||(this._onDocumentPointerMoveHandler=function(r){i.stateController.onDocumentPointerMove(r)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStartHandler",{get:function(){var e,i=this;return(e=this._onTouchStartHandler)!==null&&e!==void 0||(this._onTouchStartHandler=function(r){i.stateController.onTouchStart(r)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchEndHandler",{get:function(){var e,i=this;return(e=this._onTouchEndHandler)!==null&&e!==void 0||(this._onTouchEndHandler=function(r){i.stateController.onTouchEnd(r)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchMoveHandler",{get:function(){var e,i=this;return(e=this._onTouchMoveHandler)!==null&&e!==void 0||(this._onTouchMoveHandler=function(r){i.stateController.onTouchMove(r)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskTouchStartHandler",{get:function(){var e,i=this;return(e=this._onTaskTouchStartHandler)!==null&&e!==void 0||(this._onTaskTouchStartHandler=function(r){i.stateController.onTaskTouchStart(r)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClickHandler",{get:function(){var e,i=this;return(e=this._onMouseClickHandler)!==null&&e!==void 0||(this._onMouseClickHandler=function(r){i.stateController.onClick(r)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClickHandler",{get:function(){var e,i=this;return(e=this._onMouseDblClickHandler)!==null&&e!==void 0||(this._onMouseDblClickHandler=function(r){i.stateController.onDblClick(r)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDownHandler",{get:function(){var e,i=this;return(e=this._onMouseDownHandler)!==null&&e!==void 0||(this._onMouseDownHandler=function(r){i.stateController.onMouseDown(r)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var e,i=this;return(e=this._onTaskAreaMouseLeaveHandler)!==null&&e!==void 0||(this._onTaskAreaMouseLeaveHandler=function(r){i.stateController.onTaskAreaMouseLeave(r)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMoveHandler",{get:function(){var e,i=this;return(e=this._onMouseMoveHandler)!==null&&e!==void 0||(this._onMouseMoveHandler=function(r){i.stateController.onMouseMove(r)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseUpHandler",{get:function(){var e,i=this;return(e=this._onMouseUpHandler)!==null&&e!==void 0||(this._onMouseUpHandler=function(r){i.stateController.onMouseUp(r)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskMouseEnterHandler",{get:function(){var e,i=this;return(e=this._onTaskMouseEnterHandler)!==null&&e!==void 0||(this._onTaskMouseEnterHandler=function(r){i.stateController.onTaskElementHover(r)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskMouseLeaveHandler",{get:function(){var e,i=this;return(e=this._onTaskMouseLeaveHandler)!==null&&e!==void 0||(this._onTaskMouseLeaveHandler=function(r){i.stateController.onTaskElementLeave(r)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),n.DBLCLICK_INTERVAL=300,n.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",n})();d.TaskAreaManager=t},2366:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttView=void 0;var u=l(639),h=l(9279),p=l(7156),o=l(1284),t=l(858),n=l(7880),e=l(9201),i=l(9954),r=l(8695),a=l(6893),c=l(8725),y=l(2491),g=l(3452),f=l(9650),T=l(2978),v=l(1074),k=l(5351),b=l(6353),C=l(9057),P=l(5098),H=l(9640),x=l(8478),I=l(5846),L=l(2449),F=l(1408),K=l(6626),O=l(3714),V=l(6907),j=l(8900),N=l(8269),W=l(4730),$=l(6124),z=(function(){function A(S,M,R){var U=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new b.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=M,this.settings=k.Settings.parse(R),this.initValidationController(),this.renderHelper=new v.RenderHelper(this),this.renderHelper.initMarkup(S),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new p.CommandManager(this),this.barManager=new u.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new c.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout((function(){U.scrollLeftByViewType()}),0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return A.prototype.initGanttViewApi=function(){this.ganttViewApi=new K.GanttViewApi(this)},A.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},A.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},A.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},A.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},A.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,this._updateWithModelReloadLockedCounter===0&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},A.prototype.initValidationController=function(){var S=this,M=I.ValidationControllerSettings.parse({getViewModel:function(){return S.viewModel},getHistory:function(){return S.history},getModelManipulator:function(){return S.modelManipulator},getRange:function(){return S.range},getValidationSettings:function(){return S.settings.validation},updateOwnerInAutoParentMode:function(){S.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return S.isValidateDependenciesRequired()}});this.validationController=new x.ValidationController(M)},A.prototype.initTaskEditController=function(){var S=this,M=H.TaskEditSettings.parse({destroyTemplate:function(R){S.destroyTemplate(R)},formatDate:function(R){return S.getDateFormat(R)},getRenderHelper:function(){return S.renderHelper},getGanttSettings:function(){return S.settings},getViewModel:function(){return S.viewModel},getCommandManager:function(){return S.commandManager},getModelManipulator:function(){return S.modelManipulator},getValidationController:function(){return S.validationController}});this.taskEditController=new P.TaskEditController(M)},Object.defineProperty(A.prototype,"taskAreaEventsListener",{get:function(){var S;return(S=this._taskAreaEventsListener)!==null&&S!==void 0||(this._taskAreaEventsListener=new N.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),A.prototype.initFullScreenModeHelper=function(){var S=this,M=i.FullScreenHelperSettings.parse({getMainElement:function(){return S.getOwnerControlMainElement()},adjustControl:function(){S.adjustOwnerControl()}});this.fullScreenModeHelper=new r.FullScreenModeHelper(M)},A.prototype.getDateRange=function(S,M){var R=this.getVisibleAreaTime(),U=this.settings.startDateRange||e.DateUtils.adjustStartDateByViewType(new Date(S.getTime()-R),this.settings.viewType,this.settings.firstDayOfWeek),Z=this.settings.endDateRange||e.DateUtils.adjustEndDateByViewType(new Date(M.getTime()+R),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&U>Z?Z=U:this.settings.endDateRange&&U>Z&&(U=Z),new t.DateRange(U,Z)},A.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*e.DateUtils.getTickTimeSpan(this.settings.viewType)},A.prototype.zoomIn=function(S){S===void 0&&(S=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(S)},A.prototype.zoomOut=function(S){S===void 0&&(S=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(S)},A.prototype.scrollToDate=function(S){if(S){var M=S instanceof Date?e.DateUtils.getOrCreateUTCDate(S):e.DateUtils.parse(S);this.scrollToDateCore(M,0)}},A.prototype.showDialog=function(S,M,R,U){this.ganttOwner.showDialog(S,M,R,U)},A.prototype.showPopupMenu=function(S){this.ganttOwner.showPopupMenu(S)},A.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},A.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},A.prototype.expandAll=function(){this.ganttOwner.expandAll()},A.prototype.onGanttViewContextMenu=function(S,M,R){return this.ganttOwner.onGanttViewContextMenu(S,M,R)},A.prototype.changeGanttTaskSelection=function(S,M){this.ganttOwner.changeGanttTaskSelection(S,M)},A.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},A.prototype.scrollLeftByViewType=function(){var S=e.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(S,1)},A.prototype.scrollToDateCore=function(S,M){this.renderHelper.setTaskAreaContainerScrollLeftToDate(S,M)},A.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},A.prototype.initializeStripLinesUpdater=function(){var S=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval((function(){S.renderHelper.recreateStripLines()}),Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},A.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},A.prototype.getGanttViewStartDate=function(S){if(!S)return new Date;var M=S.map((function(R){return typeof R.start=="string"?new Date(R.start):R.start})).filter((function(R){return(0,y.isDefined)(R)}));return M.length>0?M.reduce((function(R,U){return U<R?U:R}),M[0]):new Date},A.prototype.getGanttViewEndDate=function(S){if(!S)return new Date;var M=S.map((function(R){return typeof R.end=="string"?new Date(R.end):R.end})).filter((function(R){return(0,y.isDefined)(R)}));return M.length>0?M.reduce((function(R,U){return U>R?U:R}),M[0]):new Date},A.prototype.getTask=function(S){var M=this.getViewItem(S);return M==null?void 0:M.task},A.prototype.getViewItem=function(S){var M;return(M=this.viewModel)===null||M===void 0?void 0:M.items[S]},A.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},A.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},A.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},A.prototype.onBeginUpdateView=function(){this[A.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[A.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},A.prototype.onEndUpdateView=function(){delete this[A.taskAreaScrollTopKey],delete this[A.taskAreaScrollLeftKey],delete this[A.taskTextHeightKey]},Object.defineProperty(A.prototype,"taskAreaContainerScrollTop",{get:function(){var S;return(S=this[A.taskAreaScrollTopKey])!==null&&S!==void 0?S:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"taskAreaContainerScrollLeft",{get:function(){var S;return(S=this[A.taskAreaScrollLeftKey])!==null&&S!==void 0?S:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),A.prototype.processScroll=function(S){this.hideTaskEditControl(),this.renderHelper.processScroll(S)},A.prototype.allowTaskAreaBorders=function(S){return S?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},A.prototype.getScaleItemText=function(S,M){return this.renderHelper.getScaleItemText(S,M)},A.prototype.getTaskText=function(S){return this.renderHelper.getTaskText(S)},A.prototype.rowHasChildren=function(S){var M=this.getViewItem(S);return(M==null?void 0:M.children.length)>0},A.prototype.rowHasSelection=function(S){var M=this.getViewItem(S);return M==null?void 0:M.selected},A.prototype.getAllVisibleTaskIndices=function(S,M){return this.viewModel.getAllVisibleTaskIndices(S,M)},A.prototype.getVisibleDependencyKeysByTaskRange=function(S){if(!this.settings.showDependencies)return[];var M=this.viewModel,R=S.map((function(U){return M.tasks.items[U].internalId}));return M.dependencies.items.filter((function(U){return R.indexOf(U.successorId)>-1||R.indexOf(U.predecessorId)>-1})).map((function(U){return U.internalId}))},A.prototype.getTreeListTableStyle=function(){var S,M;return(M=(S=this.ganttOwner).getTreeListTableStyle)===null||M===void 0?void 0:M.call(S)},A.prototype.getTreeListColCount=function(){var S,M;return(M=(S=this.ganttOwner).getTreeListColCount)===null||M===void 0?void 0:M.call(S)},A.prototype.getTreeListHeaderInfo=function(S){var M,R;return(R=(M=this.ganttOwner).getTreeListHeaderInfo)===null||R===void 0?void 0:R.call(M,S)},A.prototype.getTreeListCellInfo=function(S,M,R){var U,Z;return(Z=(U=this.ganttOwner).getTreeListCellInfo)===null||Z===void 0?void 0:Z.call(U,S,M,R)},A.prototype.getTreeListEmptyDataCellInfo=function(){var S,M;return(M=(S=this.ganttOwner).getTreeListEmptyDataCellInfo)===null||M===void 0?void 0:M.call(S)},A.prototype.exportToPdf=function(S){var M;return(M=S.docCreateMethod)!==null&&M!==void 0||(S.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new T.PdfGanttExporter(new a.GanttExportCalculator(this,S)).export()},A.prototype.getDefaultPdfDocCreateMethod=function(){var S;return(S=window.jspdf)===null||S===void 0?void 0:S.jsPDF},A.prototype.getTaskDependencies=function(S){return this.viewModel.dependencies.items.filter((function(M){return M.predecessorId==S||M.successorId==S}))},A.prototype.isHighlightRowElementAllowed=function(S){var M=this.getViewItem(S);return S%2!=0&&this.settings.areAlternateRowsEnabled||(M==null?void 0:M.children.length)>0},A.prototype.calculateAutoViewType=function(S,M){var R=(M.getTime()-S.getTime())/36e5;return R>8760?L.ViewType.Years:R>720?L.ViewType.Months:R>168?L.ViewType.Weeks:R>24?L.ViewType.Days:R>6?L.ViewType.SixHours:R>1?L.ViewType.Hours:L.ViewType.TenMinutes},A.prototype.getExternalTaskAreaContainer=function(S){return this.ganttOwner.getExternalTaskAreaContainer(S)},A.prototype.prepareExternalTaskAreaContainer=function(S,M){return this.ganttOwner.prepareExternalTaskAreaContainer(S,M)},A.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},A.prototype.changeTaskExpanded=function(S,M){var R=this.getTaskByPublicId(S);R&&this.viewModel.changeTaskExpanded(R.internalId,M)},A.prototype.expandTask=function(S){this.viewModel.changeTaskExpanded(S,!0)},A.prototype.collapseTask=function(S){this.viewModel.changeTaskExpanded(S,!1)},A.prototype.showTask=function(S){this.viewModel.changeTaskVisibility(S,!0)},A.prototype.hideTask=function(S){this.viewModel.changeTaskVisibility(S,!1)},A.prototype.getTaskVisibility=function(S){return this.viewModel.getTaskVisibility(S)},A.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},A.prototype.getTaskSelected=function(S){return this.viewModel.getTaskSelected(S)},A.prototype.setViewType=function(S,M){M===void 0&&(M=!0),this.ganttViewApi.setViewType(S,M)},A.prototype.setViewTypeRange=function(S,M){this.ganttViewApi.setViewTypeRange(S,M)},A.prototype.setTaskTitlePosition=function(S){this.settings.taskTitlePosition!==S&&(this.settings.taskTitlePosition=S,this.resetAndUpdate())},A.prototype.setShowResources=function(S){this.settings.showResources!==S&&(this.settings.showResources=S,this.resetAndUpdate())},A.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},A.prototype.setShowDependencies=function(S){this.settings.showDependencies!==S&&(this.settings.showDependencies=S,this.resetAndUpdate())},A.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},A.prototype.setFirstDayOfWeek=function(S){this.settings.firstDayOfWeek!==S&&(this.settings.firstDayOfWeek=S,this.resetAndUpdate())},A.prototype.setStartDateRange=function(S){n.DateTimeUtils.areDatesEqual(this.settings.startDateRange,S)||(this.settings.startDateRange=new Date(S),this.resetAndUpdate())},A.prototype.setEndDateRange=function(S){n.DateTimeUtils.areDatesEqual(this.settings.endDateRange,S)||(this.settings.endDateRange=new Date(S),this.resetAndUpdate())},A.prototype.loadOptionsFromGanttOwner=function(){var S,M=this;this.tickSize.height=this.ganttOwner.getRowHeight();var R=this.ganttOwner.getGanttTasksData();this.dataRange=new t.DateRange(this.getGanttViewStartDate(R),this.getGanttViewEndDate(R)),this.settings.viewType==null&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new g.ModelChangesDispatcher;var U=this.ganttOwner.getModelChangesListener();U&&this.dispatcher.onModelChanged.add(U),this.viewModel=new F.ViewVisualModel(this,R,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new f.ModelManipulator(this.viewModel,this.dispatcher),(S=this.history)===null||S===void 0||S.historyItems.forEach((function(Z){return Z.setModelManipulator(M.modelManipulator)}))},A.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),h.Browser.IE&&this.taskEditController.createElements(),this.updateView()},A.prototype.cleanMarkup=function(){this.setNormalScreenMode(),this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},A.prototype.checkAndProcessModelChanges=function(){var S=this.ganttOwner.getGanttTasksData(),M=this.viewModel.refreshTaskDataIfRequires(S);return M&&this.resetAndUpdate(),M},A.prototype.updateHistoryObsoleteInsertedKey=function(S,M,R){var U;(U=this.history)===null||U===void 0||U.updateObsoleteInsertedKey(S,M,R),R===$.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(S,M)},A.prototype.updateRowHeights=function(S){if(this.tickSize.height!==S){this.tickSize.height=S;var M=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(M)}},A.prototype.selectTask=function(S){this.selectDependency(null),this.viewModel.changeTaskSelected(S,!0),this.currentSelectedTaskID=S,this.updateBarManager()},A.prototype.unselectTask=function(S){this.viewModel.changeTaskSelected(S,!1),this.updateBarManager()},A.prototype.selectTaskById=function(S){this.unselectCurrentSelectedTask();var M=this.getTaskByPublicId(S);M&&this.selectTask(M.internalId)},A.prototype.selectDependency=function(S){this.taskEditController.selectDependency(S),this.renderHelper.createConnectorLines()},A.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},A.prototype.setWidth=function(S){this.renderHelper.setMainElementWidth(S)},A.prototype.setHeight=function(S){this.renderHelper.setMainElementHeight(S)},A.prototype.setAllowSelection=function(S){this.settings.allowSelectTask=S},A.prototype.setEditingSettings=function(S){this.settings.editing=S,this.updateBarManager()},A.prototype.setValidationSettings=function(S){this.settings.validation=S},A.prototype.setRowLinesVisible=function(S){this.settings.areHorizontalBordersEnabled=S,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},A.prototype.setStripLines=function(S){this.settings.stripLines=C.StripLineSettings.parse(S),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},A.prototype.deleteTask=function(S){var M=this.getTaskByPublicId(S.toString());M&&this.commandManager.removeTaskCommand.execute(M.internalId,!1,!0)},A.prototype.insertTask=function(S){if(S){var M=S.parentId!=null?String(S.parentId):null,R=this.getTaskByPublicId(M),U=this.viewModel.getRootTaskId(),Z=typeof S.start=="string"?new Date(S.start):S.start,oe=typeof S.end=="string"?new Date(S.end):S.end,pe={parentId:U&&M===U?M:R==null?void 0:R.internalId,title:S.title,start:Z,end:oe,progress:parseInt(S.progress)||0,color:S.color};if(this.commandManager.createTaskCommand.execute(pe))return this.getLastInsertedTaskId()}return""},A.prototype.updateTask=function(S,M){var R=this.getTaskByPublicId(S.toString()),U=this._getTaskDataForUpdate(M,R);U&&this.commandManager.updateTaskCommand.execute(R.internalId,U)},A.prototype.getTaskData=function(S){var M=this.getTaskByPublicId(S.toString());if(M)return this.viewModel.getTaskObjectForDataSource(M)},A.prototype.insertDependency=function(S){if(S){var M=String(S.predecessorId),R=this.getTaskByPublicId(M),U=String(S.successorId),Z=this.getTaskByPublicId(U),oe=S.type;R&&Z&&this.validationController.canCreateDependency(M,U)&&this.commandManager.createDependencyCommand.execute(R.internalId,Z.internalId,oe)}},A.prototype.deleteDependency=function(S){var M=this.viewModel.convertPublicToInternalKey("dependency",S);(0,y.isDefined)(M)&&this.commandManager.removeDependencyCommand.execute(M)},A.prototype.getDependencyData=function(S){return this.viewModel.getDependencyObjectForDataSource(S)},A.prototype.insertResource=function(S,M){var R=this;S&&this.commandManager.createResourceCommand.execute(String(S.text),S.color&&String(S.color),(function(U){if((0,y.isDefined)(M))for(var Z=0;Z<M.length;Z++)R.assignResourceToTask(U,M[Z])}))},A.prototype.deleteResource=function(S){var M=this.viewModel.convertPublicToInternalKey("resource",S);(0,y.isDefined)(M)&&this.commandManager.removeResourceCommand.execute(M)},A.prototype.assignResourceToTask=function(S,M){var R=this.viewModel.convertPublicToInternalKey("resource",S),U=this.viewModel.convertPublicToInternalKey("task",M);(0,y.isDefined)(R)&&(0,y.isDefined)(U)&&this.commandManager.assignResourceCommand.execute(R,U)},A.prototype.unassignResourceFromTask=function(S,M){var R=this.viewModel.findAssignment(S,M);R&&this.commandManager.deassignResourceCommand.execute(R.internalId)},A.prototype.unassignAllResourcesFromTask=function(S){var M=this,R=this.viewModel.convertPublicToInternalKey("task",S);this.viewModel.findAllTaskAssignments(R).forEach((function(U){return M.commandManager.deassignResourceCommand.execute(U.internalId)}))},A.prototype.getResourceData=function(S){return this.viewModel.getResourceObjectForDataSource(S)},A.prototype.getResourceAssignmentData=function(S){return this.viewModel.getResourceAssignmentObjectForDataSource(S)},A.prototype.getTaskResources=function(S){var M=this.viewModel,R=M.getItemByPublicId("task",S);return R&&M.getAssignedResources(R).items||[]},A.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map((function(S){return S.id}))},A.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map((function(S){return S.id}))},A.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map((function(S){return S.id}))},A.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map((function(S){return S.id}))},A.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},A.prototype.applyTasksExpandedState=function(S){this.viewModel.applyTasksExpandedState(S)},A.prototype.updateWithDataReload=function(S){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:S};else{var M=S&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),S?this.applyTasksExpandedState(M):this.resetAndUpdate();var R=W.DialogBase.activeInstance;R&&R.canRefresh&&R.getDialogName()==="TaskEdit"&&R.refresh(),this.dispatcher.notifyGanttViewUpdated()}},A.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},A.prototype.getTaskTreeLine=function(S){return this.viewModel.getTaskTreeLine(S).reverse()},A.prototype.isInFullScreenMode=function(){var S;return!!(!((S=this.fullScreenModeHelper)===null||S===void 0)&&S.isInFullScreenMode)},A.prototype.setFullScreenMode=function(){this.isInFullScreenMode()||this.fullScreenModeHelper.toggle()},A.prototype.setNormalScreenMode=function(){this.isInFullScreenMode()&&this.fullScreenModeHelper.toggle()},A.prototype.setTaskValue=function(S,M,R){var U=this.commandManager.updateTaskCommand,Z=this.getTaskByPublicId(S),oe={};return Z&&(M==="title"&&(oe[M]=R||""),M==="progress"&&(oe[M]=R),M==="start"&&(oe[M]=n.DateTimeUtils.getMinDate(R,Z.end)),M==="end"&&(oe[M]=n.DateTimeUtils.getMaxDate(R,Z.start))),Object.keys(oe).length>0&&U.execute(Z.internalId,oe)},A.prototype.getLastInsertedTaskId=function(){var S=this.history.historyItems.filter((function(R){return R instanceof o.CreateTaskHistoryItem})),M=S[S.length-1];return M&&M.insertedKey},A.prototype.getTaskByPublicId=function(S){return this.viewModel.tasks.getItemByPublicId(S)},A.prototype.getPrevTask=function(S){var M=this.viewModel.findItem(S);if(!M)return null;var R=(M.parent||this.viewModel.root).children.indexOf(M)-1;return R>-1?M.parent.children[R].task:M.parent.task},A.prototype.getTaskIdByInternalId=function(S){var M=this.viewModel.findItem(S),R=M&&M.task;return R?R.id:null},A.prototype.isTaskHasChildren=function(S){var M=this.viewModel.findItem(S);return M&&M.children.length>0},A.prototype.requireFirstLoadParentAutoCalc=function(){var S=this.ganttOwner;return S.getRequireFirstLoadParentAutoCalc&&S.getRequireFirstLoadParentAutoCalc()},A.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},A.prototype.getOwnerControlMainElement=function(){var S=this.ganttOwner;return S.getMainElement&&S.getMainElement()},A.prototype.adjustOwnerControl=function(){var S=this.ganttOwner;S.adjustControl&&S.adjustControl()},A.prototype.applySettings=function(S,M){M===void 0&&(M=!1);var R=k.Settings.parse(S),U=M||this.settings.equal(R);this.settings=R,U||this.resetAndUpdate()},A.prototype.getDataUpdateErrorCallback=function(){var S=this,M=this.history,R=M.getCurrentProcessingItemInfo();return function(){S.dispatcher.lock(),M.rollBackAndRemove(R),S.dispatcher.unlock(),S.updateBarManager()}},A.prototype.setTaskTooltipContentTemplate=function(S){this.settings.taskTooltipContentTemplate=S},A.prototype.setTaskProgressTooltipContentTemplate=function(S){this.settings.taskProgressTooltipContentTemplate=S},A.prototype.setTaskTimeTooltipContentTemplate=function(S){this.settings.taskTimeTooltipContentTemplate=S},A.prototype.setTaskContentTemplate=function(S){this.settings.taskContentTemplate=S},A.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},A.prototype.onTaskAreaClick=function(S,M){var R,U=this.viewModel.items[S];return U&&this.onTaskClick((R=U.task)===null||R===void 0?void 0:R.id,M)},A.prototype.onTaskAreaDblClick=function(S,M){var R=this.viewModel.items[S];R&&this.onTaskDblClick(R.task.id,M)&&this.commandManager.showTaskEditDialog.execute(R.task)},A.prototype.onTaskAreaContextMenu=function(S,M,R){var U,Z,oe=R==="dependency",pe=M,je=this.viewModel,We=oe?je.convertInternalToPublicKey("dependency",O.EvtUtils.getEventSource(M).getAttribute("dependency-id")):(Z=(U=je.items[S])===null||U===void 0?void 0:U.task)===null||Z===void 0?void 0:Z.id;if(this.onGanttViewContextMenu(M,We,R)){var nn={event:M,type:R,key:We,position:new j.Point(O.EvtUtils.getEventX(pe),O.EvtUtils.getEventY(pe))};this.showPopupMenu(nn)}},A.prototype.onTaskSelectionChanged=function(S,M){var R=this,U=this.viewModel.items[S];this.isFocus=V.DomUtils.isItParent(this.renderHelper.taskArea,O.EvtUtils.getEventSource(M)),U&&this.isFocus&&this.settings.allowSelectTask&&setTimeout((function(){R.changeGanttTaskSelection(U.task.id,!0)}),0)},A.prototype.onTaskClick=function(S,M){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(S,M)},A.prototype.onTaskDblClick=function(S,M){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(S,M)},A.prototype.getDateFormat=function(S){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(S):this.getDefaultDateFormat(S)},A.prototype.getDefaultDateFormat=function(S){return("0"+S.getDate()).slice(-2)+"/"+("0"+(S.getMonth()+1)).slice(-2)+"/"+S.getFullYear()+" "+("0"+S.getHours()).slice(-2)+":"+("0"+S.getMinutes()).slice(-2)},A.prototype.destroyTemplate=function(S){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(S):S.innerHTML=""},A.prototype.onTaskAreaSizeChanged=function(S){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(S)},A.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},A.prototype.showTaskDetailsDialog=function(S){var M=this.getTaskByPublicId(S);M&&this.commandManager.showTaskEditDialog.execute(M,!0)},A.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},A.prototype.getCommandByKey=function(S){return this.commandManager.getCommand(S)},A.prototype._getTaskDataForUpdate=function(S,M){var R={};return M&&S&&((0,y.isDefined)(S.title)&&S.title!==M.title&&(R.title=S.title),(0,y.isDefined)(S.progress)&&S.progress!==M.progress&&(R.progress=S.progress),(0,y.isDefined)(S.start)&&S.start!==M.start&&(R.start=S.start),(0,y.isDefined)(S.end)&&S.end!==M.end&&(R.end=S.end),(0,y.isDefined)(S.color)&&S.color!==M.color&&(R.color=S.color)),Object.keys(R).length>0?R:null},A.prototype.updateViewDataRange=function(){var S=this.viewModel,M=S.getTaskMinStart(),R=S.getTaskMaxEnd(),U=M.getTime()<this.dataRange.start.getTime(),Z=R.getTime()>this.dataRange.end.getTime();U&&(this.dataRange.start=M),Z&&(this.dataRange.end=R),(U||Z)&&this.resetAndUpdate()},A.cachedPrefix="cached_",A.taskAreaScrollLeftKey=A.cachedPrefix+"taskAreaScrollLeft",A.taskAreaScrollTopKey=A.cachedPrefix+"taskAreaScrollTop",A.taskTextHeightKey=A.cachedPrefix+"taskTextHeight",A})();d.GanttView=z},2449:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaEventSource=d.TaskTitlePosition=d.Position=d.ViewType=void 0,(function(l){l[l.TenMinutes=0]="TenMinutes",l[l.Hours=1]="Hours",l[l.SixHours=2]="SixHours",l[l.Days=3]="Days",l[l.Weeks=4]="Weeks",l[l.Months=5]="Months",l[l.Quarter=6]="Quarter",l[l.Years=7]="Years",l[l.FiveYears=8]="FiveYears"})(d.ViewType||(d.ViewType={})),(function(l){l[l.Left=0]="Left",l[l.Top=1]="Top",l[l.Right=2]="Right",l[l.Bottom=3]="Bottom"})(d.Position||(d.Position={})),(function(l){l[l.Inside=0]="Inside",l[l.Outside=1]="Outside",l[l.None=2]="None"})(d.TaskTitlePosition||(d.TaskTitlePosition={})),(function(l){l[l.TaskArea=0]="TaskArea",l[l.TaskEdit_Frame=1]="TaskEdit_Frame",l[l.TaskEdit_Progress=2]="TaskEdit_Progress",l[l.TaskEdit_Start=3]="TaskEdit_Start",l[l.TaskEdit_End=4]="TaskEdit_End",l[l.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",l[l.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",l[l.Successor_Wrapper=7]="Successor_Wrapper",l[l.Successor_DependencyStart=8]="Successor_DependencyStart",l[l.Successor_DependencyFinish=9]="Successor_DependencyFinish"})(d.TaskAreaEventSource||(d.TaskAreaEventSource={}))},8877:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EtalonSizeValues=void 0;var l=function(){this.scaleItemWidths={}};d.EtalonSizeValues=l},8695:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FullScreenModeHelper=void 0;var u=l(9279),h=l(2217),p=l(6907),o=(function(){function t(n){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=n}return Object.defineProperty(t.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),t.prototype.getMainElement=function(){return this.settings.getMainElement()},t.prototype.adjustControl=function(){this.settings.adjustControl()},t.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},t.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},t.prototype.prepareFullScreenMode=function(){var n=this.getMainElement();h.AttrUtils.changeElementStyleAttribute(n,"border-top-width","0px"),h.AttrUtils.changeElementStyleAttribute(n,"border-left-width","0px"),h.AttrUtils.changeElementStyleAttribute(n,"border-right-width","0px"),h.AttrUtils.changeElementStyleAttribute(n,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=p.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=p.DomUtils.getDocumentScrollLeft(),h.AttrUtils.changeElementStyleAttribute(n,"background-color","white"),h.AttrUtils.changeElementStyleAttribute(n,"position","fixed"),h.AttrUtils.changeElementStyleAttribute(n,"top","0px"),h.AttrUtils.changeElementStyleAttribute(n,"left","0px"),h.AttrUtils.changeElementStyleAttribute(n,"z-index","1010"),h.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),h.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=n.style.width,this.fullScreenTempVars.height=n.style.height||n.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},t.prototype.setNormalMode=function(){this.cancelFullScreen(document);var n=this.getMainElement();h.AttrUtils.restoreElementStyleAttribute(n,"left"),h.AttrUtils.restoreElementStyleAttribute(n,"top"),h.AttrUtils.restoreElementStyleAttribute(n,"background-color"),h.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),h.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),h.AttrUtils.restoreElementStyleAttribute(n,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,h.AttrUtils.restoreElementStyleAttribute(n,"position"),h.AttrUtils.restoreElementStyleAttribute(n,"border-top-width"),h.AttrUtils.restoreElementStyleAttribute(n,"border-left-width"),h.AttrUtils.restoreElementStyleAttribute(n,"border-right-width"),h.AttrUtils.restoreElementStyleAttribute(n,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},t.prototype.adjustControlInFullScreenMode=function(){var n=document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth,e=document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(n),this.setHeight(e),this.adjustControl()},t.prototype.requestFullScreen=function(n){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},t.prototype.cancelFullScreen=function(n){u.Browser.Firefox&&!this.getFullScreenElement(n)||(n.webkitExitFullscreen?n.webkitExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.msExitFullscreen?n.msExitFullscreen():n.exitFullscreen&&n.exitFullscreen())},t.prototype.getFullScreenElement=function(n){return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement},t.prototype.setWidth=function(n){this.getMainElement().style.width=this.isNumber(n)?n+"px":n},t.prototype.setHeight=function(n){this.getMainElement().style.height=this.isNumber(n)?n+"px":n},t.prototype.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},t})();d.FullScreenModeHelper=o},1391:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GridElementInfo=void 0;var u=l(8900),h=l(6353),p=l(3604),o=(function(){function t(n,e,i){this.id=t.id++,this.position=new u.Point(void 0,void 0),this.size=new h.Size(0,0),this.margins=new p.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},n&&(this.className=n),e&&this.setPosition(e),i&&this.setSize(i)}return t.prototype.setSize=function(n){this.size.width=n.width,this.size.height=n.height},t.prototype.setPosition=function(n){this.position.x=n.x,this.position.y=n.y},t.prototype.assignToElement=function(n){this.assignPosition(n),this.assignSize(n),this.assignMargins(n),this.className&&(n.className=this.className)},t.prototype.assignPosition=function(n){this.position.x!=null&&(n.style.left=this.position.x+"px"),this.position.y!=null&&(n.style.top=this.position.y+"px")},t.prototype.assignSize=function(n){this.size.width&&(n.style.width=this.size.width+"px"),this.size.height&&(n.style.height=this.size.height+"px")},t.prototype.assignMargins=function(n){this.margins.left&&(n.style.marginLeft=this.margins.left+"px"),this.margins.top&&(n.style.marginTop=this.margins.top+"px"),this.margins.right&&(n.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(n.style.marginBottom=this.margins.bottom+"px")},t.prototype.setAttribute=function(n,e){this.attr[n]=e},t.id=0,t})();d.GridElementInfo=o},1855:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GridLayoutCalculator=void 0;var u=l(6353),h=l(858),p=l(2449),o=l(1391),t=l(8900),n=l(9201),e=l(1442),i=l(5950),r=l(7072),a=l(2491),c=(function(){function y(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new r.ScaleCalculator}return y.prototype.setSettings=function(g,f,T,v,k,b,C,P){C===void 0&&(C=0),P===void 0&&(P=0),this.visibleTaskAreaSize=g,this.tickSize=f,this._viewType=b,this.range=v,this.verticalTickCount=k.itemCount,this.viewModel=k,this.elementSizeValues=T,this.taskHeight=T.taskHeight,this.parentTaskHeight=T.parentTaskHeight,this.milestoneWidth=T.milestoneWidth,this.scaleHeight=T.scaleItemHeight,this.arrowSize=new u.Size(T.connectorArrowWidth,T.connectorArrowWidth),this.lineThickness=T.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=n.DateUtils.getTickTimeSpan(b),this.scrollBarHeight=C,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(v,b,f,P),this.reset()},Object.defineProperty(y.prototype,"viewType",{get:function(){return this._viewType},set:function(g){this._viewType!==g&&(this._viewType=g,this._scaleCalculator.setViewType(g))},enumerable:!1,configurable:!0}),y.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},y.prototype.resetTaskInfo=function(g){delete this._taskWrapperPoints[g],delete this._taskElementInfoList[g]},y.prototype.getTaskAreaBorderInfo=function(g,f){var T=f?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(g,f,T)},y.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},y.prototype.getScaleBorderInfo=function(g,f){var T=new o.GridElementInfo,v=this._scaleCalculator;return T.setPosition(new t.Point(v.getScaleBorderPosition(g,f),void 0)),T.setSize(new u.Size(0,this.scaleHeight)),T.className="dx-gantt-vb",T},y.prototype.getGridBorderInfo=function(g,f,T){var v=new o.GridElementInfo;return v.setPosition(this.getGridBorderPosition(g,f)),T&&v.setSize(this.getGridBorderSize(f,T)),v.className=f?"dx-gantt-vb":"dx-gantt-hb",v},y.prototype.getGridBorderPosition=function(g,f){var T=new t.Point(void 0,void 0),v=this._scaleCalculator,k=f?v.getScaleBorderPosition(g,this.viewType):(g+1)*this.tickSize.height;return f?T.x=k:T.y=k,T},y.prototype.getGridBorderSize=function(g,f){var T=new u.Size(0,0);return g?T.height=f:T.width=f,T},y.prototype.getScaleElementInfo=function(g,f){var T=new o.GridElementInfo,v=this.getScaleItemInfo(g,f);if(v){T.setPosition(v.position),T.setSize(v.size),T.className=this.getScaleItemClassName(f,T,this.getRenderedNoWorkingIntervals(T.position.x));var k=this._scaleCalculator.getScaleItems(f);(g===0||g===k.length-1)&&(T.style.overflowX="hidden",T.style.textOverflow="ellipsis"),T.additionalInfo.range=new h.DateRange(v.start,v.end)}return T},y.prototype.getScaleItemStart=function(g,f){return this._scaleCalculator.getScaleItemAdjustedStart(g,f)},y.prototype.getScaleItemClassName=function(g,f,T){var v="dx-gantt-si";return g.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(f,T)&&(v+=" dx-gantt-holiday-scaleItem"),v},y.prototype.getScaleItemInfo=function(g,f){return this._scaleCalculator.getScaleItem(g,f)},y.prototype.getScaleRangesInArea=function(g,f){var T=n.DateUtils.ViewTypeToScaleMap[this.viewType],v=this._scaleCalculator,k=Math.max(v.getScaleIndexByPos(g,T),0),b=v.getScaleIndexByPos(f,T);b===-1&&(b=v.topScaleItems.length-1);var C=Math.max(v.getScaleIndexByPos(g),0),P=v.getScaleIndexByPos(f);return P===-1&&(P=v.bottomScaleItems.length-1),[[k,b],[C,P]]},y.prototype.isScaleItemInsideNoWorkingInterval=function(g,f){for(var T=g.position.x,v=g.position.x+g.size.width,k=0;k<f.length;k++){var b=f[k].position.x,C=f[k].position.x+f[k].size.width;if(T>=b&&v<=C)return!0}return!1},y.prototype.getScaleItemColSpan=function(g){return this._scaleCalculator.getScaleItemColSpan(g)},y.prototype.getTaskWrapperElementInfo=function(g){var f=new o.GridElementInfo;return f.className=this.getTaskWrapperClassName(g),f.setPosition(this.getTaskWrapperPoint(g)),f.setAttribute("task-index",g),f},y.prototype.getTaskWrapperClassName=function(g){var f="dx-gantt-taskWrapper",T=this.getViewItem(g);return T.task.isMilestone()&&(f="dx-gantt-milestoneWrapper"),T.selected&&(f+=" dx-gantt-selectedTask"),f},y.prototype.getTaskWrapperPoint=function(g){if(!(0,a.isDefined)(this._taskWrapperPoints[g])){var f=this.getViewItem(g),T=this.getTaskHeight(g),v=this.getTaskWidth(g),k=g*this.tickSize.height+(this.tickSize.height-T)/2,b=new t.Point(this.getPosByDate(f.task.start),k);f.task.isMilestone()&&(b.x-=v/2),this._taskWrapperPoints[g]=b}return this._taskWrapperPoints[g].clone()},y.prototype.getTaskElementInfo=function(g,f){if(f===void 0&&(f=!1),!(0,a.isDefined)(this._taskElementInfoList[g])){var T=new o.GridElementInfo,v=this.getTask(g),k=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(g);if(!v.isMilestone()){var b=this.getTaskWidth(g);T.size.width=this.getCorrectedTaskWidthByRange(g,b),T.size.width<b&&(T.additionalInfo.taskCut=!0),f&&(T.size.height=this.getTaskHeight(g))}T.className=this.getTaskClassName(g,T.size.width),v.color&&(T.style.backgroundColor=v.color,k&&(T.style.borderLeftColor=v.color,T.style.borderRightColor=v.color,T.style.borderTopColor=v.color)),this._taskElementInfoList[g]=T}return this._taskElementInfoList[g]},y.prototype.getTaskClassName=function(g,f){var T=y.taskClassName,v=this.getViewItem(g),k=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(g);return v.task.isMilestone()&&!v.isCustom?T+=" "+y.milestoneClassName:(f<=this.elementSizeValues.smallTaskWidth&&(T+=" "+y.smallTaskClassName),k&&(T+=this.getAutoCalcParentTaskClassName(v.task))),T},y.prototype.getAutoCalcParentTaskClassName=function(g){var f=" "+y.parentTaskClassName;return g.progress==0&&(f+=" dx-gantt-noPrg"),g.progress>=100&&(f+=" dx-gantt-cmpl"),f},y.prototype.getTaskPoint=function(g){var f=this.getTaskWrapperPoint(g);return this.getTask(g).isMilestone()||(f.y+=this.elementSizeValues.taskWrapperTopPadding),f},y.prototype.getTaskSize=function(g){return new u.Size(this.getTaskWidth(g),this.getTaskHeight(g))},y.prototype.getTaskWidth=function(g){var f=this.getViewItem(g);return f.isCustom&&f.size.width?f.size.width:f.task.isMilestone()&&!f.isCustom?this.getTaskHeight(g):Math.max(this.getWidthByDateRange(f.task.start,f.task.end),this.minTaskWidth)},y.prototype.getTaskHeight=function(g){var f=this.getViewItem(g);return f.task.isMilestone()&&!f.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(f.task.internalId)?this.parentTaskHeight:f.isCustom&&f.size.height?f.size.height:this.taskHeight},y.prototype.getTask=function(g){var f=this.getViewItem(g);return f==null?void 0:f.task},y.prototype.getViewItem=function(g){return this.viewModel.items[g]},y.prototype.getTaskProgressElementInfo=function(g){var f=new o.GridElementInfo;return f.className=y.taskProgressClassName,f.setSize(this.getTaskProgressSize(g)),f},y.prototype.getTaskProgressSize=function(g){var f=this.getTaskProgressWidth(g);return this.isTaskCutByRange(g)&&(f=this.getCorrectedTaskWidthByRange(g,f)),new u.Size(f,0)},y.prototype.getTaskProgressWidth=function(g){return this.getTaskWidth(g)*this.getTask(g).normalizedProgress/100},y.prototype.getTaskTextElementInfo=function(g,f){var T=new o.GridElementInfo;if(T.className=this.getTaskTextElementClassName(f),!f){var v=this.getTaskPoint(g).x;if(v<this.elementSizeValues.outsideTaskTextDefaultWidth){var k=Math.max(v,0);T.size.width=k,k>0?T.margins.left=-k:T.additionalInfo.hidden=!0}}return T},y.prototype.getTaskTextElementClassName=function(g){return y.taskTitleClassName.concat(" ",g?y.titleInClassName:y.titleOutClassName)},y.prototype.getTaskResourcesWrapperElementInfo=function(g){var f=new o.GridElementInfo,T=this.getTaskSize(g).width;return f.className="dx-gantt-taskResWrapper",f.setPosition(this.getTaskWrapperPoint(g)),f.position.x=f.position.x+T,f},y.prototype.getTaskResourceElementInfo=function(){var g=new o.GridElementInfo;return g.className=y.taskResourceClassName,g},y.prototype.getSelectionElementInfo=function(g){return this.getRowElementInfo(g,"dx-gantt-sel")},y.prototype.getSelectionPosition=function(g){var f=new t.Point(void 0,void 0);return f.y=g*this.tickSize.height,f},y.prototype.getSelectionSize=function(){return new u.Size(this.getTotalWidth(),this.tickSize.height)},y.prototype.getHighlightRowInfo=function(g){return this.getRowElementInfo(g,"dx-gantt-altRow")},y.prototype.getRowElementInfo=function(g,f){var T=new o.GridElementInfo;return T.className=f,T.setPosition(this.getSelectionPosition(g)),T.setSize(this.getSelectionSize()),T},y.prototype.getNoWorkingIntervalInfo=function(g){var f=new o.GridElementInfo;return f.className="dx-gantt-nwi",f.setPosition(this.getNoWorkingIntervalPosition(g.start)),f.setSize(this.getNoWorkingIntervalSize(g)),f},y.prototype.getNoWorkingIntervalPosition=function(g){var f=new t.Point(void 0,void 0);return f.x=this.getPosByDate(g),f},y.prototype.getNoWorkingIntervalSize=function(g){return new u.Size(this.getWidthByDateRange(g.start,g.end),this.getVerticalGridLineHeight())},y.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},y.prototype.getConnectorInfo=function(g,f,T,v){for(var k=new Array,b=this.getConnectorPoints(f,T,v),C=0;C<b.length-1;C++)k.push(this.getConnectorLineInfo(g,b[C],b[C+1],C==0||C==b.length-2));return k.push(this.getArrowInfo(g,b,k,f,T)),this.checkAndCorrectConnectorLinesByRange(k),k.filter((function(P){return!!P}))},y.prototype.getConnectorLineInfo=function(g,f,T,v){var k=new o.GridElementInfo,b=f.x==T.x;return k.className=this.getConnectorClassName(b),k.setPosition(this.getConnectorPosition(f,T)),k.setSize(this.getConnectorSize(f,T,b,v)),k.setAttribute("dependency-id",g),k},y.prototype.getConnectorClassName=function(g){return g?y.CLASSNAMES.CONNECTOR_VERTICAL:y.CLASSNAMES.CONNECTOR_HORIZONTAL},y.prototype.getConnectorPosition=function(g,f){return new t.Point(Math.min(g.x,f.x),Math.min(g.y,f.y))},y.prototype.getConnectorSize=function(g,f,T,v){var k=new u.Size(0,0),b=v?0:1;return T?k.height=Math.abs(f.y-g.y)+b:k.width=Math.abs(f.x-g.x)+b,k},y.prototype.getArrowInfo=function(g,f,T,v,k){var b=new o.GridElementInfo,C=this.findArrowLineInfo(T,v,k),P=this.getArrowPosition(f,v,k);return b.className=this.getArrowClassName(P),b.setPosition(this.getArrowPoint(C,P)),b.setAttribute("dependency-id",g),b},y.prototype.findArrowLineInfo=function(g,f,T){return g[f<T?g.length-1:0]},y.prototype.getArrowPosition=function(g,f,T){var v=g[f<T?g.length-2:1],k=g[f<T?g.length-1:0];return v.x==k.x?v.y>k.y?p.Position.Top:p.Position.Bottom:v.x>k.x?p.Position.Left:p.Position.Right},y.prototype.getArrowClassName=function(g){var f=y.arrowClassName;switch(g){case p.Position.Left:f=f.concat(" ",y.leftArrowClassName);break;case p.Position.Top:f=f.concat(" ",y.topArrowClassName);break;case p.Position.Right:f=f.concat(" ",y.rightArrowClassName);break;case p.Position.Bottom:f=f.concat(" ",y.bottomArrowClassName)}return f},y.prototype.getArrowPositionByClassName=function(g){return g.indexOf(y.leftArrowClassName)>-1?p.Position.Left:g.indexOf(y.topArrowClassName)>-1?p.Position.Top:g.indexOf(y.rightArrowClassName)>-1?p.Position.Right:g.indexOf(y.bottomArrowClassName)>-1?p.Position.Bottom:void 0},y.prototype.getArrowPoint=function(g,f){return new t.Point(this.getArrowX(g,f),this.getArrowY(g,f))},y.prototype.getArrowX=function(g,f){switch(f){case p.Position.Left:return g.position.x-this.arrowSize.width/2;case p.Position.Right:return g.position.x+g.size.width-this.arrowSize.width/2;case p.Position.Top:case p.Position.Bottom:return g.position.x-(this.arrowSize.width-this.lineThickness)/2}},y.prototype.getArrowY=function(g,f){switch(f){case p.Position.Top:return g.position.y-this.arrowSize.height/2;case p.Position.Bottom:return g.position.y+g.size.height-this.arrowSize.height/2;case p.Position.Left:case p.Position.Right:return g.position.y-(this.arrowSize.height-this.lineThickness)/2}},y.prototype.getPosByDate=function(g){return this.getWidthByDateRange(this.range.start,g)},y.prototype.getWidthByDateRange=function(g,f){return n.DateUtils.getRangeTickCount(g,f,this.viewType)*this.tickSize.width},y.prototype.getDateByPos=function(g){if(this.viewType===p.ViewType.Months||this.viewType===p.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(g);var f=g/this.tickSize.width,T=new Date(this.range.start);return n.DateUtils.getDSTCorrectedTaskEnd(T,f*this.tickTimeSpan)},y.prototype.getDateByPosInMonthBasedViewTypes=function(g){return this._scaleCalculator.getDateInScale(g)},y.prototype.getConnectorPoints=function(g,f,T){switch(T){case i.DependencyType.FS:return this.getFinishToStartConnectorPoints(g,f);case i.DependencyType.SF:return this.getStartToFinishConnectorPoints(g,f);case i.DependencyType.SS:return this.getStartToStartConnectorPoints(g,f);case i.DependencyType.FF:return this.getFinishToFinishConnectorPoints(g,f);default:return new Array}},y.prototype.getFinishToStartConnectorPoints=function(g,f){return g<f?this.getTask(g).end<=this.getTask(f).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(g,f,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(g,f,!1):this.getTask(g).end<=this.getTask(f).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(f,g,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(f,g,!0)},y.prototype.getFinishToFinishConnectorPoints=function(g,f){return g<f?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(g,f):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(f,g)},y.prototype.getStartToStartConnectorPoints=function(g,f){return g<f?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(g,f):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(f,g)},y.prototype.getStartToFinishConnectorPoints=function(g,f){return g<f?this.getTask(g).start>=this.getTask(f).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(g,f,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(g,f,!1):this.getTask(g).start>=this.getTask(f).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(f,g,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(f,g,!0)},y.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(g,f,T){var v=new Array,k=this.getTaskPoint(g),b=this.getTaskPoint(f),C=this.getTaskRightCenter(k,g),P=this.getTask(f).isMilestone(),H=this.getTaskTopCenter(b,f),x=this.getHorizontalIndentFromTaskEdge(f,T);return v.push(new t.Point(Math.floor(C.x),Math.floor(C.y))),v.push(new t.Point(Math.floor(P?H.x:b.x+x),Math.floor(v[0].y))),v.push(new t.Point(Math.floor(v[1].x),Math.floor(H.y))),v},y.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(g,f){var T=new Array,v=this.getTaskPoint(g),k=this.getTaskPoint(f),b=this.getTaskRightCenter(v,g),C=this.getTaskRightCenter(k,f);return T.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),T.push(new t.Point(Math.floor(Math.max(b.x,C.x)+this.minLineLength),Math.floor(T[0].y))),T.push(new t.Point(Math.floor(T[1].x),Math.floor(C.y))),T.push(new t.Point(Math.floor(C.x),Math.floor(C.y))),T},y.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(g,f,T){var v=new Array,k=this.getTaskPoint(g),b=this.getTaskPoint(f),C=this.getTaskRightCenter(k,g),P=this.getTaskBottomCenter(k,g),H=this.getTaskLeftCenter(b,f),x=this.getTaskTopCenter(b,f),I=T?this.getViewItem(g):this.getViewItem(f),L=I.isCustom?(this.tickSize.height-I.size.height)/2:this.minConnectorSpaceFromTask;return v.push(new t.Point(Math.floor(C.x),Math.floor(C.y))),v.push(new t.Point(Math.floor(v[0].x+this.minLineLength),Math.floor(v[0].y))),v.push(new t.Point(Math.floor(v[1].x),Math.floor(T?P.y+L:x.y-L))),v.push(new t.Point(Math.floor(H.x-this.minLineLength),Math.floor(v[2].y))),v.push(new t.Point(Math.floor(v[3].x),Math.floor(H.y))),v.push(new t.Point(Math.floor(H.x),Math.floor(H.y))),v},y.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(g,f,T){var v=new Array,k=this.getTaskPoint(g),b=this.getTaskPoint(f),C=this.getTaskBottomCenter(k,g),P=this.getTask(g).isMilestone(),H=this.getTaskRightCenter(b,f),x=this.getHorizontalIndentFromTaskEdge(g,T);return v.push(new t.Point(Math.floor(P?C.x:k.x+x),Math.floor(C.y))),v.push(new t.Point(Math.floor(v[0].x),Math.floor(H.y))),v.push(new t.Point(Math.floor(H.x),Math.floor(H.y))),v},y.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(g,f,T){var v=new Array,k=this.getTaskPoint(g),b=this.getTaskPoint(f),C=this.getTaskBottomCenter(k,g),P=this.getTask(g).isMilestone(),H=this.getTaskLeftCenter(b,f),x=this.getHorizontalIndentFromTaskEdge(g,T);return v.push(new t.Point(Math.floor(P?C.x:k.x+x),Math.floor(C.y))),v.push(new t.Point(Math.floor(v[0].x),Math.floor(H.y))),v.push(new t.Point(Math.floor(H.x),Math.floor(H.y))),v},y.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(g,f,T){var v=new Array,k=this.getTaskPoint(g),b=this.getTaskPoint(f),C=this.getTaskLeftCenter(k,g),P=this.getTaskTopCenter(b,f),H=this.getTask(f).isMilestone(),x=this.getHorizontalIndentFromTaskEdge(f,T);return v.push(new t.Point(Math.floor(C.x),Math.floor(C.y))),v.push(new t.Point(Math.floor(H?P.x:b.x+x),Math.floor(v[0].y))),v.push(new t.Point(Math.floor(v[1].x),Math.floor(P.y))),v},y.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(g,f,T){var v=new Array,k=this.getTaskPoint(g),b=this.getTaskPoint(f),C=this.getTaskLeftCenter(k,g),P=this.getTaskBottomCenter(k,g),H=this.getTaskRightCenter(b,f),x=this.getTaskTopCenter(b,f),I=T?this.getViewItem(g):this.getViewItem(f),L=I.isCustom?(this.tickSize.height-I.size.height)/2:this.minConnectorSpaceFromTask;return v.push(new t.Point(Math.floor(C.x),C.y)),v.push(new t.Point(Math.floor(v[0].x-this.minLineLength),v[0].y)),v.push(new t.Point(Math.floor(v[1].x),Math.floor(T?P.y+L:x.y-L))),v.push(new t.Point(Math.floor(H.x+this.minLineLength),Math.floor(v[2].y))),v.push(new t.Point(Math.floor(v[3].x),Math.floor(H.y))),v.push(new t.Point(Math.floor(H.x),Math.floor(H.y))),v},y.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(g,f){var T=new Array,v=this.getTaskPoint(g),k=this.getTaskPoint(f),b=this.getTaskLeftCenter(v,g),C=this.getTaskLeftCenter(k,f);return T.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),T.push(new t.Point(Math.floor(Math.min(b.x,C.x)-this.minLineLength),Math.floor(T[0].y))),T.push(new t.Point(Math.floor(T[1].x),Math.floor(C.y))),T.push(new t.Point(Math.floor(C.x),Math.floor(C.y))),T},y.prototype.getTaskSidePoints=function(g){var f=this.getTaskPoint(g);return[this.getTaskLeftCenter(f,g),this.getTaskTopCenter(f,g),this.getTaskRightCenter(f,g),this.getTaskBottomCenter(f,g)]},y.prototype.getTaskLeftCenter=function(g,f){return new t.Point(g.x-this.getTaskEdgeCorrection(f),g.y+this.getTaskHeight(f)/2)},y.prototype.getTaskRightCenter=function(g,f){return new t.Point(g.x+this.getTaskWidth(f)+this.getTaskEdgeCorrection(f),g.y+this.getTaskHeight(f)/2)},y.prototype.getTaskTopCenter=function(g,f){return new t.Point(g.x+this.getTaskWidth(f)/2,g.y-this.getTaskEdgeCorrection(f))},y.prototype.getTaskBottomCenter=function(g,f){return new t.Point(g.x+this.getTaskWidth(f)/2,g.y+this.getTaskHeight(f)+this.getTaskEdgeCorrection(f))},y.prototype.getTaskEdgeCorrection=function(g){var f=this.getViewItem(g);return f.task.isMilestone()&&!f.isCustom?this.getTaskHeight(g)*(Math.sqrt(2)-1)/2:0},y.prototype.getHorizontalIndentFromTaskEdge=function(g,f){f===void 0&&(f=!1);var T=this.getTaskWidth(g),v=this.minLineLength<T/3?this.minLineLength:.2*T;return f?T-v:v},y.prototype.getRenderedRowColumnIndices=function(g,f){for(var T=f?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,v=f?this.getFirstVisibleGridCellIndex(g,this.tickSize.height):this.getFirstScaleVisibleIndex(g),k=f?this.getLastVisibleGridCellIndex(g,this.tickSize.height,T,this.verticalTickCount):this.getLastScaleVisibleIndex(g),b=new Array,C=v;C<=k;C++)b.push(C);return b},y.prototype.getRenderedScaleItemIndices=function(g,f){for(var T=g===this.viewType,v=this._scaleCalculator,k=f[0],b=f[f.length-1],C=T?k:v.getTopScaleIndexByBottomIndex(k),P=T?b:v.getTopScaleIndexByBottomIndex(b),H=new Array,x=C;x<=P;x++)H.push(x);return H},y.prototype.getFirstScaleVisibleIndex=function(g){return this._scaleCalculator.getFirstScaleIndexForRender(g)},y.prototype.getLastScaleVisibleIndex=function(g){return this._scaleCalculator.getLastScaleIndexForRender(g+this.visibleTaskAreaSize.width)},y.prototype.getFirstVisibleGridCellIndex=function(g,f){var T=Math.floor(g/f);return T=Math.max(T-10,0)},y.prototype.getLastVisibleGridCellIndex=function(g,f,T,v){var k=Math.floor((g+T)/f);return k=Math.min(k+10,v-1)},y.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var g=0;g<this.viewModel.items.length;g++)for(var f=0;f<this.viewModel.items[g].dependencies.length;f++)this.createConnecotInfo(this.viewModel.items[g].dependencies[f],this.viewModel.items[g].visibleIndex)},y.prototype.updateTileToConnectorLinesMap=function(g){this.tileToDependencyMap.forEach((function(k,b,C){C[b]=k.filter((function(P){return P.attr["dependency-id"]!=g}))}));var f=[],T=this.viewModel.items.filter((function(k){return k.dependencies.filter((function(b){return b.id==g})).length>0}))[0];if(T){var v=T.dependencies.filter((function(k){return k.id===g}))[0];f=this.createConnecotInfo(v,T.visibleIndex)}return f},y.prototype.createConnecotInfo=function(g,f){var T=this,v=g.predecessor.visibleIndex,k=g.type,b=g.id,C=this.getConnectorInfo(b,v,f,k);return C.forEach((function(P){T.addElementInfoToTileMap(P,T.tileToDependencyMap,!0)})),C},y.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var g=0;g<this.viewModel.noWorkingIntervals.length;g++){var f=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[g]);if(f){var T=this.getNoWorkingIntervalInfo(f);this.addElementInfoToTileMap(T,this.tileToNoWorkingIntervalsMap,!1)}}},y.prototype.getAdjustedNoWorkingInterval=function(g){return g.end.getTime()-g.start.getTime()<this.tickTimeSpan-1?null:new h.DateRange(n.DateUtils.getNearestScaleTickDate(g.start,this.range,this.tickTimeSpan,this.viewType),n.DateUtils.getNearestScaleTickDate(g.end,this.range,this.tickTimeSpan,this.viewType))},y.prototype.addElementInfoToTileMap=function(g,f,T){var v=T?g.position.y:g.position.x,k=T?g.size.height:g.size.width,b=2*(T?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(b>0)for(var C=Math.floor(v/b),P=Math.floor((v+k)/b),H=C;H<=P;H++)f[H]||(f[H]=new Array),f[H].push(g)},y.prototype.getRenderedConnectorLines=function(g){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,g)},y.prototype.getRenderedNoWorkingIntervals=function(g){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,g)},y.prototype.getRenderedStripLines=function(g){var f=new Array,T=g.stripLines.map((function(x){return x.clone()}));g.showCurrentTime&&T.push(new e.StripLine(new Date,null,g.currentTimeTitle,g.currentTimeCssClass,!0));for(var v=0,k=void 0;k=T[v];v++){var b=n.DateUtils.parse(k.start),C=k.end?n.DateUtils.parse(k.end):null;if(b>=this.range.start&&b<=this.range.end||C&&C>=this.range.start&&C<=this.range.end){var P=b>this.range.start?b:this.range.start,H=new o.GridElementInfo;H.size.height=this.getVerticalGridLineHeight(),H.position.x=this.getPosByDate(P),H.size.width=C?this.getWidthByDateRange(P,C<this.range.end?C:this.range.end):0,H.className=k.isCurrent?"dx-gantt-tc":C?"dx-gantt-ti":"dx-gantt-tm",H.className+=k.cssClass?" "+k.cssClass:"",H.attr.title=k.title,f.push(H)}}return f},y.prototype.getElementsInRenderedTiles=function(g,f,T){var v=new Array,k=f?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(k>0)for(var b=Math.floor(T/(2*k)),C=Math.floor((T+k)/(2*k)),P=b;P<=C;P++)g[P]&&g[P].forEach((function(H){v.indexOf(H)===-1&&v.push(H)}));return v},y.prototype.isTaskInRenderedRange=function(g){var f=this.getViewItem(g),T=this.getTaskPoint(g);return f.task.isMilestone()?T.x+this.getTaskWidth(g)<this.getTotalWidth():T.x<this.getTotalWidth()},y.prototype.isTaskCutByRange=function(g){return!!this.getTaskElementInfo(g).additionalInfo.taskCut},y.prototype.checkAndCorrectElementDisplayByRange=function(g){g.parentElement.offsetLeft+g.offsetLeft+g.offsetWidth>this.getTotalWidth()&&(g.style.display="none")},y.prototype.checkAndCorrectArrowElementDisplayByRange=function(g){g.offsetLeft+g.offsetWidth>this.getTotalWidth()&&(g.style.display="none")},y.prototype.checkAndCorrectConnectorLinesByRange=function(g){if(g!=null&&g.length)for(var f=this.getTotalWidth(),T=0;T<g.length;T++){var v=g[T],k=!v.size.width;v.position.x>f?delete g[T]:!k&&v.position.x+v.size.width>f&&(v.size.width=f-v.position.x)}},y.prototype.getCorrectedTaskWidthByRange=function(g,f){var T=this.getTotalWidth()-this.getTaskPoint(g).x;return Math.min(T,f)},y.dxGanttPrefix="dx-gantt-",y.taskClassName=y.dxGanttPrefix+"task",y.milestoneClassName=y.dxGanttPrefix+"milestone",y.smallTaskClassName=y.dxGanttPrefix+"smallTask",y.parentTaskClassName=y.dxGanttPrefix+"parent",y.taskProgressClassName=y.dxGanttPrefix+"tPrg",y.taskTitleClassName=y.dxGanttPrefix+"taskTitle",y.titleInClassName=y.dxGanttPrefix+"titleIn",y.titleOutClassName=y.dxGanttPrefix+"titleOut",y.taskResourceClassName=y.dxGanttPrefix+"taskRes",y.arrowClassName=y.dxGanttPrefix+"arrow",y.leftArrowClassName=y.dxGanttPrefix+"LA",y.topArrowClassName=y.dxGanttPrefix+"TA",y.rightArrowClassName=y.dxGanttPrefix+"RA",y.bottomArrowClassName=y.dxGanttPrefix+"BA",y.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},y})();d.GridLayoutCalculator=c},7072:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScaleCalculator=d.ScaleItemInfo=void 0;var u=l(8900),h=l(6353),p=l(9201),o=l(2449),t=function(e,i,r,a){this.start=e,this.end=i,this.position=r,this.size=a};d.ScaleItemInfo=t;var n=(function(){function e(){this.firstDayOfWeek=0}return e.prototype.setSettings=function(i,r,a,c){c===void 0&&(c=0),this.range=i,this.viewType=r,this.tickSize=a,this.firstDayOfWeek=c,this.reset()},e.prototype.setViewType=function(i){this.viewType=i,this.reset()},e.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},e.prototype.getScaleIndexByPos=function(i,r){r!=null||(r=this.viewType);var a=r===this.viewType?this.bottomScaleItems:this.topScaleItems,c=-1;if(a.findIndex)c=a.findIndex((function(g){return i>=g.position.x&&i<=g.position.x+g.size.width}));else{var y=a.filter((function(g){return i>=g.position.x&&i<=g.position.x+g.size.width}))[0];y&&(c=a.indexOf(y))}return c},e.prototype.getScaleBorderPosition=function(i,r){var a=this.getScaleItems(r)[i];if(a)return a.position.x+a.size.width},e.prototype.getScaleItems=function(i){return i===this.viewType?this.bottomScaleItems:i===p.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},e.prototype.getScaleItem=function(i,r){return this.getScaleItems(r)[i]},e.prototype.getScaleItemAdjustedStart=function(i,r){var a=this.getScaleItems(r)[i];if(i>0)return a.start;var c=r!==this.viewType,y=c?p.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(a.start,r,this.firstDayOfWeek);if(c&&r===o.ViewType.Months){var g=this.range.start;y=new Date(g.getFullYear(),g.getMonth(),1)}if(c&&r===o.ViewType.FiveYears){var f=5*Math.trunc(y.getFullYear()/5);y=new Date(f,y.getMonth(),y.getDate())}return y},Object.defineProperty(e.prototype,"topScaleItems",{get:function(){var i;return(i=this._topScaleItems)!==null&&i!==void 0||(this._topScaleItems=this.calculateTopScale(p.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomScaleItems",{get:function(){var i;return(i=this._bottomScaleItems)!==null&&i!==void 0||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleWidth",{get:function(){var i;return(i=this._scaleWidth)!==null&&i!==void 0||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),e.prototype.getFirstScaleIndexForRender=function(i){var r=this.getScaleIndexByPos(i);return r=Math.max(r-10,0)},e.prototype.getLastScaleIndexForRender=function(i){var r=this.getScaleIndexByPos(i);return r=r===-1?this.bottomScaleItems.length-1:Math.min(r+10,this.bottomScaleItems.length-1)},e.prototype.getTopScaleIndexByBottomIndex=function(i){var r=this.bottomScaleItems[i];return r?this.getScaleIndexByPos(r.position.x,p.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},e.prototype.calculateBottomScale=function(i){for(var r=new Array,a=this.tickSize.width,c=this.range.start,y=0;c.getTime()<this.range.end.getTime();){var g=this.getNextScaleDate(c,i),f=c.getTime()===this.range.start.getTime(),T=g.getTime()>=this.range.end.getTime(),v=f||T||i>o.ViewType.Hours&&p.DateUtils.hasDST()?this.getRangeTickCount(c,g)*a:a;r.push(new t(c,g,new u.Point(y,void 0),new h.Size(v,0))),c=g,y+=v}return r},e.prototype.calculateTopScale=function(i){for(var r=new Array,a=this.range.end.getTime(),c=this.range.start,y=0,g=0;c.getTime()<a;)for(var f=this.getNextScaleDate(c,i),T=f.getTime(),v=g;v<this.bottomScaleItems.length;v++){var k=this.bottomScaleItems[v],b=k.start.getTime(),C=k.end.getTime();if(T>=b&&T<=C){var P=(T-b)/(C-b)*k.size.width+k.position.x;r.push(new t(c,f,new u.Point(y,void 0),new h.Size(P-y,0))),g=v,y=P,c=f;break}}return r},e.prototype.getDateInScale=function(i){if(i<0){var r=i/this.tickSize.width,a=p.DateUtils.getTickTimeSpan(this.viewType);return new Date(this.range.start.getTime()+r*a)}for(var c=0;c<this.bottomScaleItems.length;c++){var y=this.bottomScaleItems[c],g=y.size.width,f=y.position.x;if(i>=f&&i<=f+g){var T=y.start.getTime();return r=(i-f)/g*(y.end.getTime()-T),new Date(y.start.getTime()+r)}}return new Date(this.range.end)},e.prototype.getNextScaleDate=function(i,r){var a;switch(r){case o.ViewType.TenMinutes:a=this.getNextDateInTenMinutesScale(i);break;case o.ViewType.Hours:a=this.getNextDateInHoursScale(i);break;case o.ViewType.SixHours:a=this.getNextDateInSixHoursScale(i);break;case o.ViewType.Days:a=this.getNextDateInDaysScale(i);break;case o.ViewType.Weeks:a=this.getNextDateInWeeksScale(i,this.firstDayOfWeek);break;case o.ViewType.Months:a=this.getNextDateInMonthsScale(i);break;case o.ViewType.Quarter:a=this.getNextDateInQuartersScale(i);break;case o.ViewType.Years:a=this.getNextDateInYearsScale(i);break;case o.ViewType.FiveYears:a=this.getNextDateInFiveYearsScale(i)}return a.getTime()>this.range.end.getTime()&&(a=this.range.end),a},e.prototype.getNextTimeBySpan=function(i,r){return(Math.trunc(i/r)+1)*r},e.prototype.getNextDateInTenMinutesScale=function(i){var r=this.getNextTimeBySpan(i.getMinutes(),10);return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),r)},e.prototype.getNextDateInHoursScale=function(i){return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours()+1)},e.prototype.getNextDateInSixHoursScale=function(i){var r=this.getNextTimeBySpan(i.getHours(),6);return new Date(i.getFullYear(),i.getMonth(),i.getDate(),r)},e.prototype.getNextDateInDaysScale=function(i){return new Date(i.getFullYear(),i.getMonth(),i.getDate()+1)},e.prototype.getNextDateInWeeksScale=function(i,r){return r===void 0&&(r=0),new Date(i.getFullYear(),i.getMonth(),i.getDate()-i.getDay()+r+7)},e.prototype.getNextDateInMonthsScale=function(i){return new Date(i.getFullYear(),i.getMonth()+1,1)},e.prototype.getNextDateInQuartersScale=function(i){var r=this.getNextTimeBySpan(i.getMonth(),3);return new Date(i.getFullYear(),r,1)},e.prototype.getNextDateInYearsScale=function(i){return new Date(i.getFullYear()+1,0,1)},e.prototype.getNextDateInFiveYearsScale=function(i){var r=this.getNextTimeBySpan(i.getFullYear(),5);return new Date(r,0,1)},e.prototype.getAdjustedBottomScaleItemStart=function(i,r,a){switch(a===void 0&&(a=0),r){case o.ViewType.TenMinutes:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),10*Math.floor(i.getMinutes()/10));case o.ViewType.SixHours:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),6*Math.floor(i.getHours()/6));case o.ViewType.Hours:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours());case o.ViewType.Days:return new Date(i.getFullYear(),i.getMonth(),i.getDate());case o.ViewType.Weeks:return new Date(i.getFullYear(),i.getMonth(),i.getDate()-i.getDay()+a);case o.ViewType.Months:return new Date(i.getFullYear(),i.getMonth(),1);case o.ViewType.Quarter:return new Date(i.getFullYear(),3*Math.floor(i.getMonth()/3),1);case o.ViewType.Years:return new Date(i.getFullYear(),0,1);default:return new Date}},e.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce((function(i,r){return i+r.size.width}),0)},e.prototype.getScaleItemColSpan=function(i){return i.valueOf()===this.viewType.valueOf()?1:this.viewType===o.ViewType.TenMinutes?6:this.viewType===o.ViewType.Hours?24:this.viewType===o.ViewType.SixHours?4:this.viewType===o.ViewType.Days?7:this.viewType===o.ViewType.Weeks?4.29:this.viewType===o.ViewType.Months?12:this.viewType===o.ViewType.Quarter?4:this.viewType===o.ViewType.Years?5:1},e.prototype.getRangeTickCount=function(i,r){return p.DateUtils.getRangeTickCount(i,r,this.viewType)},e})();d.ScaleCalculator=n},9377:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaContainer=void 0;var l=(function(){function u(h,p){this.element=h,this.onScrollHandler=function(){p.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(u.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(h){this.element.scrollTop=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(h){this.element.scrollLeft=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.getWidth=function(){return this.element.offsetWidth},u.prototype.getHeight=function(){return this.element.offsetHeight},u.prototype.getElement=function(){return this.element},u.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},u})();d.TaskAreaContainer=l},6923:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConnectorLinesRender=void 0;var u=l(658),h=l(1855),p=(function(){function o(t){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=t}return Object.defineProperty(o.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),o.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},o.prototype.createConnectorLineElement=function(t){if(this.showDependencies){var n=t.attr["dependency-id"];if(!this.invalidTaskDependencies.some((function(r){return r.id==n}))){this.taskEditController.isDependencySelected(n)&&(t.className=t.className+" active");var e=t.className.indexOf(h.GridLayoutCalculator.arrowClassName)>-1,i=u.RenderElementUtils.create(t,null,this.taskArea,this.connectorLinesToElementsMap);return e&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(i),i}}},o.prototype.removeConnectorLineElement=function(t){u.RenderElementUtils.remove(t,null,this.taskArea,this.connectorLinesToElementsMap)},o.prototype.recreateConnectorLineElement=function(t,n){var e=this;n===void 0&&(n=!1);var i=[];this._renderedConnectorLines=this.renderedConnectorLines.filter((function(a){return a.attr["dependency-id"]!=t||(i.push(a),!1)}));var r=i.length>0;i.forEach((function(a){e.removeConnectorLineElement(a)})),i=this.gridLayoutCalculator.updateTileToConnectorLinesMap(t),(r||n)&&i.forEach((function(a){e.createConnectorLineElement(a),e.renderedConnectorLines.push(a)}))},o.prototype.recreateConnectorLineElements=function(){var t=this,n=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);u.RenderElementUtils.recreate(this.renderedConnectorLines,n,(function(e){t.removeConnectorLineElement(e)}),(function(e){t.createConnectorLineElement(e)})),this._renderedConnectorLines=n},o.prototype.updateRenderedConnectorLinesId=function(t,n){for(var e in this._renderedConnectorLines.forEach((function(r){r.attr["dependency-id"]===t&&(r.attr["dependency-id"]=n)})),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,e)){var i=this.connectorLinesToElementsMap[e];i.getAttribute("dependency-id")===t&&i.setAttribute("dependency-id",n)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(t),this.gridLayoutCalculator.updateTileToConnectorLinesMap(n)},o})();d.ConnectorLinesRender=p},1419:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CustomTaskRender=void 0;var u=l(2449),h=l(658),p=(function(){function o(t,n){this._pendingTemplateFuncsToRender=[],this._renderHelper=t,this._taskRender=n}return Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),o.prototype.getViewItem=function(t){return this._renderHelper.getViewItem(t)},o.prototype.getTask=function(t){return this._renderHelper.getTask(t)},o.prototype.destroyTemplate=function(t){this._renderHelper.destroyTemplate(t)},o.prototype.getTaskDependencies=function(t){return this._renderHelper.getTaskDependencies(t)},o.prototype.getTaskResources=function(t){return this._renderHelper.getTaskResources(t)},o.prototype.attachEventsOnTask=function(t){this._renderHelper.attachEventsOnTask(t)},o.prototype.recreateConnectorLineElement=function(t,n){n===void 0&&(n=!1),this._renderHelper.recreateConnectorLineElement(t,n)},o.prototype.createTaskSelectionElement=function(t){this._taskRender.createTaskSelectionElement(t)},o.prototype.createCustomTaskElement=function(t,n){if(this._saveTemplateFuncToStack(t,n),!this._hasRepeatedTemplateRenderCall(t)){var e=this.getViewItem(t);if(e){e.isCustom=!1;var i=document.createElement("DIV"),r=this.createCustomTaskInformation(t);e.isCustom=!0,n(i,r,this.onTaskTemplateContainerRendered.bind(this),t)}this._clearTemplateFuncsStack(t)}},o.prototype.onTaskTemplateContainerRendered=function(t,n){var e=this;if(this._hasRepeatedTemplateRenderCall(n)){t&&this._renderHelper.destroyTemplate(t);var i=this._getLastPendingTemplateFunc(n);setTimeout((function(){return e.createCustomTaskElement(n,i)}))}else this.drawCustomTask(t,n);this._clearTemplateFuncsStack(n)},o.prototype._saveTemplateFuncToStack=function(t,n){var e,i;(e=(i=this._pendingTemplateFuncsToRender)[t])!==null&&e!==void 0||(i[t]=[]),this._pendingTemplateFuncsToRender[t].push(n)},o.prototype._clearTemplateFuncsStack=function(t){this._pendingTemplateFuncsToRender[t]=[]},o.prototype._hasRepeatedTemplateRenderCall=function(t){return this._pendingTemplateFuncsToRender[t].length>1},o.prototype._getLastPendingTemplateFunc=function(t){var n=this._pendingTemplateFuncsToRender[t];return n[n.length-1]},o.prototype.createCustomTaskWrapperElement=function(t,n){h.RenderElementUtils.create(n,t,this.taskArea,this.taskElements)},o.prototype.createCustomTaskVisualElement=function(t,n){return h.RenderElementUtils.create(n,t,this.taskElements[t])},o.prototype.drawCustomTask=function(t,n){var e=this,i=this.getViewItem(n);if(i&&this.taskElements[n]){if(i.visible=!!t.innerHTML,this.taskElements[n].innerHTML=t.innerHTML,i.size.height=this.taskElements[n].offsetHeight,i.size.width=this.taskElements[n].offsetWidth,this.destroyTemplate(this.taskElements[n]),this._taskRender.removeTaskElement(n),i.visible&&i.task.isValid()){var r=this.gridLayoutCalculator.getTaskWrapperElementInfo(n);this.createCustomTaskWrapperElement(n,r),this.taskElements[n].appendChild(t),this.attachEventsOnTask(n)}else{var a=this.getTaskDependencies(i.task.internalId);a.length&&(this._taskRender.addInvalidTaskDependencies(a),a.forEach((function(c){return e.recreateConnectorLineElement(c.internalId,!0)})))}this._taskRender.isHighlightRowElementAllowed(n)&&this._taskRender.createHighlightRowElement(n),i.selected&&this.createTaskSelectionElement(n)}},o.prototype.createCustomTaskInformation=function(t){var n=this.getTask(t),e=this.getViewItem(t),i=this.gridLayoutCalculator.getTaskWrapperElementInfo(t),r=this.gridLayoutCalculator.getTaskElementInfo(t,this.taskTitlePosition!==u.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(t,i);var a=this.taskElements[t];this._renderHelper.taskTitlePosition===u.TaskTitlePosition.Outside&&this._taskRender.createTaskTextElement(t,a),this.createCustomTaskVisualElement(t,r);var c=this.getTaskResources(n.id);return{cellSize:this.tickSize,isMilestone:n.isMilestone(),isParent:!!(e!=null&&e.children.length),taskData:n,taskHTML:a.children,taskPosition:i.position,taskResources:c,taskSize:r.size}},o})();d.CustomTaskRender=p},9385:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EtalonsHelper=void 0;var u=l(6907),h=l(2449),p=l(1391),o=l(658),t=(function(){function n(e){this._renderHelper=e}return Object.defineProperty(n.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),n.prototype.getScaleItemTextTemplate=function(e){return this._renderHelper.getScaleItemTextTemplate(e)},n.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},n.prototype.getSmallTaskWidth=function(e){return this._renderHelper.getSmallTaskWidth(e)},n.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},n.prototype.createEtalonElements=function(e){var i=[],r=o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-taskWrapper"),null,e),a=o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-task"),null,r);o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,a).innerText="WWW",i.push(r);var c=o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-taskWrapper"),null,e);o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,c),i.push(c);for(var y=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],g=0;g<y.length;g++){var f=new p.GridElementInfo(y[g]);i.push(o.RenderElementUtils.create(f,null,e))}var T=o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-taskWrapper"),null,e),v=o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,T);return o.RenderElementUtils.create(new p.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,v).innerText="WWW",i.push(T),i},n.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),i=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(i),this.mainElement.removeChild(e)},n.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=u.DomUtils.pxToInt(u.DomUtils.getCurrentStyle(e[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=u.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=u.DomUtils.getHorizontalBordersWidth(e[3]);for(var i=0;i<=h.ViewType.Years;i++)e[4].innerText=this.getScaleItemTextTemplate(i),this.etalonSizeValues.scaleItemWidths[i]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(u.DomUtils.getCurrentStyle(e[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=u.DomUtils.pxToFloat(u.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=e[e.length-1].firstChild.offsetHeight},n})();d.EtalonsHelper=t},4289:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScaleCellPreparedArguments=void 0;var l=(function(){function u(h){this.info=h}return Object.defineProperty(u.prototype,"scaleIndex",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleType",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"start",{get:function(){var h,p;return(p=(h=this.info)===null||h===void 0?void 0:h.range)===null||p===void 0?void 0:p.start},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"end",{get:function(){var h,p;return(p=(h=this.info)===null||h===void 0?void 0:h.range)===null||p===void 0?void 0:p.end},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleElement",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"separatorElement",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.separatorElement},enumerable:!1,configurable:!0}),u})();d.ScaleCellPreparedArguments=l},2121:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MainElementsRender=void 0;var l=(function(){function u(){}return u.prototype.createMainElement=function(h){var p=document.createElement("DIV");return p.style.width=h.offsetWidth+"px",p.style.height=h.offsetHeight+"px",p},u.prototype.createHeader=function(){var h=document.createElement("DIV");return h.className="dx-gantt-header",h},u})();d.MainElementsRender=l},1027:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NoWorkingIntervalRender=void 0;var u=l(658),h=(function(){function p(o){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=o}return Object.defineProperty(p.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(o){this._renderedNoWorkingIntervals=o},enumerable:!1,configurable:!0}),p.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},p.prototype.createNoWorkingIntervalElement=function(o){return u.RenderElementUtils.create(o,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},p.prototype.removeNoWorkingIntervalElement=function(o){u.RenderElementUtils.remove(o,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},p.prototype.recreateNoWorkingIntervalElements=function(){var o=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);u.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,t,(function(n){o.removeNoWorkingIntervalElement(n)}),(function(n){o.createNoWorkingIntervalElement(n)})),this.renderedNoWorkingIntervals=t},p})();d.NoWorkingIntervalRender=h},658:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RenderElementUtils=void 0;var l=(function(){function u(){}return u.create=function(h,p,o,t){var n=document.createElement("DIV");for(var e in h.assignToElement(n),o.appendChild(n),t&&(t instanceof Array&&p!==null?t[p]=n:t[h.id]=n),h.attr)Object.prototype.hasOwnProperty.call(h.attr,e)&&n.setAttribute(e,h.attr[e]);for(var e in h.style)Object.prototype.hasOwnProperty.call(h.style,e)&&(n.style[e]=h.style[e]);return n},u.remove=function(h,p,o,t){var n;t instanceof Array&&p!==null?(n=t[p],delete t[p]):(n=t[h.id],delete t[h.id]),n&&n.parentNode==o&&o.removeChild(n)},u.recreate=function(h,p,o,t){h.filter((function(n){return p.indexOf(n)===-1})).forEach((function(n){o(n)})),p.filter((function(n){return h.indexOf(n)===-1})).forEach((function(n){t(n)}))},u})();d.RenderElementUtils=l},1074:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RenderHelper=void 0;var u=l(6923),h=l(9385),p=l(8877),o=l(2366),t=l(1855),n=l(1027),e=l(4966),i=l(6700),r=l(8148),a=l(3682),c=l(2349),y=l(2290),g=l(2121),f=l(6353),T=l(9377),v=l(8380),k=(function(){function b(C){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new p.EtalonSizeValues,this._gridLayoutCalculator=new t.GridLayoutCalculator,this._ganttView=C,this._connectorLinesRender=new u.ConnectorLinesRender(this),this._etalonsHelper=new h.EtalonsHelper(this),this._noWorkingIntervalRender=new n.NoWorkingIntervalRender(this),this._resourceRender=new e.ResourseRender(this),this._scaleRender=new i.ScaleRender(this),this._stripLinesRender=new r.StripLinesRender(this),this._taskAreaRender=new c.TaskAreaRender(this),this._taskRender=new y.TaskRender(this),this._mainElementsRender=new g.MainElementsRender}return b.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},b.prototype.createMainElement=function(C){this.mainElement=this._mainElementsRender.createMainElement(C),C.appendChild(this.mainElement)},b.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},b.prototype.init=function(C,P,H,x,I){I===void 0&&(I=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(C,P,H,x,I),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new a.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},b.prototype.initMarkup=function(C){this._elementTextHelper=new v.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(C),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},b.prototype.processScroll=function(C){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(C),C?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(b.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskTextHeightKey",{get:function(){return o.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskAreaManager",{get:function(){var C;return(C=this._taskAreaManager)!==null&&C!==void 0||(this._taskAreaManager=new a.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce((function(C,P){return C.concat(P)}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),b.prototype.setupHelpers=function(C,P,H,x,I){I===void 0&&(I=0);var L=new f.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),F=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(L,C,this.etalonSizeValues,P,x,H,F,I),this._elementTextHelper.setSettings(P.start.getTime(),H,x.items)},b.prototype.resetAndUpdate=function(C,P,H,x,I){I===void 0&&(I=0);var L=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(C,P,H,x,I),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(L)},b.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},b.prototype.getTargetDateByPos=function(C){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+C)},b.prototype.getExternalTaskAreaContainer=function(C){return this._ganttView.getExternalTaskAreaContainer(C)},b.prototype.prepareExternalTaskAreaContainer=function(C,P){return this._ganttView.prepareExternalTaskAreaContainer(C,P)},b.prototype.isAllowTaskAreaBorders=function(C){return this._ganttView.allowTaskAreaBorders(C)},b.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},b.prototype.getViewItem=function(C){return this._ganttView.getViewItem(C)},b.prototype.getTask=function(C){return this._ganttView.getTask(C)},b.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},b.prototype.destroyTemplate=function(C){this._ganttView.destroyTemplate(C)},b.prototype.getTaskDependencies=function(C){return this._ganttView.getTaskDependencies(C)},b.prototype.getTaskResources=function(C){return this._ganttView.getTaskResources(C)},b.prototype.isHighlightRowElementAllowed=function(C){return this._ganttView.isHighlightRowElementAllowed(C)},b.prototype.updateRenderedConnectorLinesId=function(C,P){this._connectorLinesRender.updateRenderedConnectorLinesId(C,P)},b.prototype.recreateConnectorLineElement=function(C,P){P===void 0&&(P=!1),this._connectorLinesRender.recreateConnectorLineElement(C,P)},b.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},b.prototype.setMainElementWidth=function(C){this.mainElement.style.width=C+"px"},b.prototype.setMainElementHeight=function(C){this.mainElement.style.height=C+"px"},b.prototype.createResources=function(C){this._resourceRender.createResourcesWrapperElement(C),this._resourceRender.createResources(C)},b.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},b.prototype.setTimeScaleContainerScrollLeft=function(C){this._scaleRender.setTimeScaleContainerScrollLeft(C)},b.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},b.prototype.createTaskArea=function(C){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),C.appendChild(this._taskArea)},b.prototype.isTaskUpdateAllowed=function(){var C=this.ganttViewSettings.editing;return C.enabled&&C.allowTaskUpdate},b.prototype.setSizeForTaskArea=function(){var C=this.getTaskAreaWidth(),P=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(C,P),this._ganttView.onTaskAreaSizeChanged({width:C,height:P})},b.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},b.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},b.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},b.prototype.setTaskAreaContainerScrollLeft=function(C){this._taskAreaRender.taskAreaContainer.scrollLeft=C},b.prototype.setTaskAreaContainerScrollLeftToDate=function(C,P){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(C))+P},b.prototype.getTaskAreaContainer=function(C){return new T.TaskAreaContainer(C,this._ganttView)},b.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},b.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},b.prototype.createHighlightRowElement=function(C){this._taskAreaRender.createHighlightRowElement(C)},b.prototype.getSmallTaskWidth=function(C){return this._taskRender.getSmallTaskWidth(C)},b.prototype.createTaskElement=function(C){this._taskRender.createTaskElement(C,this._ganttView.settings.taskContentTemplate)},b.prototype.removeTaskElement=function(C){this._taskRender.removeTaskElement(C)},b.prototype.recreateTaskElement=function(C){this._taskRender.recreateTaskElement(C)},b.prototype.createDefaultTaskElement=function(C){this._taskRender.createDefaultTaskElement(C)},b.prototype.getScaleItemText=function(C,P){var H=this._gridLayoutCalculator.getScaleItemStart(C,P);return this.getScaleItemTextByStart(H,P)},b.prototype.getScaleItemTextByStart=function(C,P){return this._elementTextHelper.getScaleItemText(C,P)},b.prototype.getTextWidth=function(C){return this._elementTextHelper.getTextWidth(C)},b.prototype.getTaskVisibility=function(C){return this.gridLayoutCalculator.isTaskInRenderedRange(C)&&this._elementTextHelper.getTaskVisibility(C)},b.prototype.getTaskResourcesVisibility=function(C){return this.getTaskVisibility(C)&&!this.gridLayoutCalculator.isTaskCutByRange(C)},b.prototype.getScaleItemTextTemplate=function(C){return this._elementTextHelper.getScaleItemTextTemplate(C)},b.prototype.getTaskText=function(C){return this._elementTextHelper.getTaskText(C)},b.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},b.prototype.attachEventsOnTask=function(C){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[C])},b.prototype.detachEventsOnTask=function(C){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[C])},b})();d.RenderHelper=k},4966:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourseRender=void 0;var u=l(658),h=(function(){function p(o){this._resourcesElements=[],this._renderHelper=o}return Object.defineProperty(p.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),p.prototype.getViewItem=function(o){return this._renderHelper.getViewItem(o)},p.prototype.getTaskResourcesVisibility=function(o){return this._renderHelper.getTaskResourcesVisibility(o)},p.prototype.createResources=function(o){for(var t=this.getViewItem(o).resources.items,n=0;n<t.length;n++)this.createResourceElement(o,t[n])},p.prototype.createResourcesWrapperElement=function(o){var t=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(o);u.RenderElementUtils.create(t,o,this.taskArea,this.resourcesElements),this.resourcesElements[o].style.display=this.getTaskResourcesVisibility(o)?"":"none"},p.prototype.createResourceElement=function(o,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();t.color&&(n.style.backgroundColor=t.color);var e=u.RenderElementUtils.create(n,o,this.resourcesElements[o]);e.innerText=t.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(e)},p})();d.ResourseRender=h},6700:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScaleRender=void 0;var u=l(6907),h=l(2449),p=l(9201),o=l(4289),t=l(658),n=(function(){function e(i){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=i}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),e.prototype.getScaleItemText=function(i,r){return this._renderHelper.getScaleItemText(i,r)},e.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},e.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},e.prototype.setTimeScaleContainerScrollLeft=function(i){this._timeScaleContainer.scrollLeft=i},e.prototype.createTimeScaleContainer=function(i){var r=document.createElement("DIV");r.className="dx-gantt-tsac",r.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=r,i.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var i=document.createElement("DIV");return i.className="dx-gantt-tsa",i.style.width=this.getTaskAreaWidth()+"px",i.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(i),this.timeScaleAreas.unshift(i),i},e.prototype.createTimeScaleAreas=function(){for(var i=0;i<this.scaleCount;i++)this.createTimeScaleArea()},e.prototype.createScaleElementCore=function(i,r,a,c){return c[a]||(c[a]=[]),t.RenderElementUtils.create(r,i,this.timeScaleAreas[a],c[a])},e.prototype.createScaleElement=function(i,r,a,c){var y=this._renderHelper.getTextWidth("a"),g=this.createScaleElementCore(i,c,r,this.scaleElements);if(g.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(c==null?void 0:c.size.width)>5*y){var f=this.getScaleItemText(i,a);g.innerText=f,a===h.ViewType.Quarter&&(g.style.padding="0");var T=getComputedStyle(g);c.size.width-u.DomUtils.pxToInt(T.paddingLeft)-u.DomUtils.pxToInt(T.paddingRight)<this._renderHelper.getTextWidth(f)&&(g.title=f)}return g},e.prototype.createScaleBorder=function(i,r,a){var c=this.gridLayoutCalculator.getScaleBorderInfo(i,a);return this.createScaleElementCore(i,c,r,this.scaleBorders)},e.prototype.createScaleElementAndBorder=function(i,r,a){var c=this.gridLayoutCalculator.getScaleElementInfo(i,a),y=this.createScaleElement(i,r,a,c),g=this.createScaleBorder(i,r,a);this.onScaleCellPrepared(a,r,y,g,c.additionalInfo.range)},e.prototype.removeScaleElementAndBorder=function(i,r){t.RenderElementUtils.remove(null,i,this.timeScaleAreas[r],this.scaleElements[r]),t.RenderElementUtils.remove(null,i,this.timeScaleAreas[r],this.scaleBorders[r])},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(p.DateUtils.ViewTypeToScaleMap[this.viewType],1)},e.prototype.recreateScaleElements=function(i,r){var a=this,c=this.gridLayoutCalculator.getRenderedScaleItemIndices(i,this.renderedColIndices),y=this.renderedScaleItemIndices[i-this.viewType]||[];t.RenderElementUtils.recreate(y,c,(function(g){a.removeScaleElementAndBorder(g,r)}),(function(g){a.createScaleElementAndBorder(g,r,i)})),this.renderedScaleItemIndices[i-this.viewType]=c},Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),e.prototype.onScaleCellPrepared=function(i,r,a,c,y){var g=new o.ScaleCellPreparedArguments({scaleType:i,scaleIndex:r,range:y,scaleElement:a,separatorElement:c});this.dispatcher.notifyScaleCellPrepared(g)},e})();d.ScaleRender=n},8148:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StripLinesRender=void 0;var u=l(658),h=(function(){function p(o){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=o}return Object.defineProperty(p.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(o){this._renderedStripLines=o},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),p.prototype.reset=function(){this._renderedStripLines=[]},p.prototype.recreateStripLines=function(){var o=this,t=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);u.RenderElementUtils.recreate(this.renderedStripLines,t,(function(n){u.RenderElementUtils.remove(n,null,o.taskArea,o.stripLinesMap)}),(function(n){return u.RenderElementUtils.create(n,null,o.taskArea,o.stripLinesMap)})),this.renderedStripLines=t},p})();d.StripLinesRender=h},2349:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaRender=void 0;var u=l(6907),h=l(658),p=(function(){function o(t){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=t}return Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(t){this._renderHelper.renderedRowIndices=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(t){this._renderHelper.renderedColIndices=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),o.prototype.getExternalTaskAreaContainer=function(t){return this._renderHelper.getExternalTaskAreaContainer(t)},o.prototype.prepareExternalTaskAreaContainer=function(t,n){return this._renderHelper.prepareExternalTaskAreaContainer(t,n)},o.prototype.isAllowTaskAreaBorders=function(t){return this._renderHelper.isAllowTaskAreaBorders(t)},o.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},o.prototype.initTaskAreaContainer=function(t){this._renderHelper.createTaskArea(t),this._taskAreaContainer=this.getExternalTaskAreaContainer(t),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,this.taskAreaContainer==null&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(t))},o.prototype.createTaskElement=function(t){this._renderHelper.createTaskElement(t)},o.prototype.removeTaskElement=function(t){this._renderHelper.removeTaskElement(t)},o.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},o.prototype.prepareTaskAreaContainer=function(){var t="dx-gantt-tac-hb",n=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?u.DomUtils.addClassName(n,t):u.DomUtils.removeClassName(n,t);var e=parseInt(getComputedStyle(n).getPropertyValue("margin-top"))||0,i="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+e,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(n,{height:i}):n.style.height=i},o.prototype.createTaskAreaContainer=function(){var t=document.createElement("DIV");t.className="dx-gantt-tac",this.mainElement.appendChild(t),this.initTaskAreaContainer(t),this.prepareTaskAreaContainer()},o.prototype.createTaskAreaBorder=function(t,n){var e=this.gridLayoutCalculator.getTaskAreaBorderInfo(t,n);h.RenderElementUtils.create(e,t,this.taskArea,this.getTaskAreaBordersDictionary(n))},o.prototype.createTaskArea=function(){var t=document.createElement("DIV");return t.id="dx-gantt-ta",t},o.prototype.removeTaskAreaBorder=function(t,n){h.RenderElementUtils.remove(null,t,this.taskArea,this.getTaskAreaBordersDictionary(n))},o.prototype.createTaskAreaBorderAndTaskElement=function(t,n){this.isAllowTaskAreaBorders(n)&&this.createTaskAreaBorder(t,!n),n&&this.createTaskElement(t)},o.prototype.removeTaskAreaBorderAndTaskElement=function(t,n){this.isAllowTaskAreaBorders(n)&&this.removeTaskAreaBorder(t,!n),n&&this.removeTaskElement(t)},o.prototype.recreateTaskAreaBordersAndTaskElements=function(t){var n=this,e=t?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,i=this.gridLayoutCalculator.getRenderedRowColumnIndices(e,t),r=t?this.renderedRowIndices:this.renderedColIndices;h.RenderElementUtils.recreate(r,i,(function(a){n.removeTaskAreaBorderAndTaskElement(a,t)}),(function(a){n.createTaskAreaBorderAndTaskElement(a,t)})),t?this.renderedRowIndices=i:this.renderedColIndices=i,this.gridLayoutCalculator.createTileToConnectorLinesMap()},o.prototype.getTaskAreaBordersDictionary=function(t){return t?this.vertTaskAreaBorders:this.horTaskAreaBorders},o.prototype.setSizeForTaskArea=function(t,n){this.taskArea.style.width=t+"px",this.taskArea.style.height=n+"px"},o.prototype.createHighlightRowElement=function(t){var n=this.gridLayoutCalculator.getHighlightRowInfo(t);h.RenderElementUtils.create(n,t,this.taskArea,this.hlRowElements)},o})();d.TaskAreaRender=p},2290:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskRender=void 0;var u=l(6907),h=l(2449),p=l(1419),o=l(658),t=(function(){function n(e){this._selectionElements=[],this._taskElements=[],this._renderHelper=e,this.customTaskRender=new p.CustomTaskRender(e,this)}return Object.defineProperty(n.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),n.prototype.isHighlightRowElementAllowed=function(e){return this._renderHelper.isHighlightRowElementAllowed(e)},n.prototype.getTaskVisibility=function(e){return this._renderHelper.getTaskVisibility(e)},n.prototype.getTaskText=function(e){return this._renderHelper.getTaskText(e)},Object.defineProperty(n.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fakeTaskWrapper",{get:function(){var e;return(e=this._fakeTaskWrapper)!==null&&e!==void 0||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),n.prototype.getViewItem=function(e){return this._renderHelper.getViewItem(e)},n.prototype.getTask=function(e){return this._renderHelper.getTask(e)},n.prototype.createHighlightRowElement=function(e){this._renderHelper.createHighlightRowElement(e)},n.prototype.getTaskDependencies=function(e){return this._renderHelper.getTaskDependencies(e)},n.prototype.addInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(e)},n.prototype.removeInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter((function(i){return i.predecessorId!=e||i.successorId!=e}))},n.prototype.createResources=function(e){this.showResources&&this._renderHelper.createResources(e)},n.prototype.attachEventsOnTask=function(e){this._renderHelper.attachEventsOnTask(e)},n.prototype.detachEventsOnTask=function(e){this._renderHelper.detachEventsOnTask(e)},n.prototype.recreateConnectorLineElement=function(e,i){i===void 0&&(i=!1),this._renderHelper.recreateConnectorLineElement(e,i)},n.prototype.renderTaskElement=function(e){this._renderHelper.createTaskElement(e)},n.prototype.reset=function(){var e=this;this._taskElements.forEach((function(i,r){return e.removeTaskElement(r)})),this._selectionElements=[],this._taskElements=[]},n.prototype.createTaskWrapperElement=function(e){var i=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);o.RenderElementUtils.create(i,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.getTaskVisibility(e)?"":"none"},n.prototype.createTaskElement=function(e,i){var r=this.getViewItem(e);if(i)this.customTaskRender.createCustomTaskElement(e,i);else{if(!r.task.isValid()||!r.visible){var a=this.getTaskDependencies(r.task.internalId);return this.addInvalidTaskDependencies(a),void(r.selected&&this.createTaskSelectionElement(e))}this.createDefaultTaskElement(e)}},n.prototype.createTaskVisualElement=function(e){var i=this.gridLayoutCalculator.getTaskElementInfo(e,this.taskTitlePosition!==h.TaskTitlePosition.Inside),r=o.RenderElementUtils.create(i,e,this.taskElements[e]);return this.attachEventsOnTask(e),r},n.prototype.createDefaultTaskElement=function(e){var i=this.getViewItem(e);this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e),i.selected&&this.createTaskSelectionElement(e),this.createTaskWrapperElement(e),this.taskTitlePosition===h.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var r=this.createTaskVisualElement(e);i.task.isMilestone()||(this.taskTitlePosition===h.TaskTitlePosition.Inside&&this.createTaskTextElement(e,r),this.createTaskProgressElement(e,r)),this.createResources(e)},n.prototype.removeTaskElement=function(e){var i=this.getTask(e);if(i&&this.removeInvalidTaskDependencies(i.id),this.detachEventsOnTask(e),this._renderHelper.hasTaskTemplate()){var r=this.taskElements[e],a=r==null?void 0:r.firstElementChild;a&&(this._renderHelper.destroyTemplate(a),r.removeChild(a))}o.RenderElementUtils.remove(null,e,this.taskArea,this.taskElements),o.RenderElementUtils.remove(null,e,this.taskArea,this.resourcesElements),o.RenderElementUtils.remove(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&o.RenderElementUtils.remove(null,e,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(e)},n.prototype.recreateTaskElement=function(e){var i=this,r=this.renderedRowIndices.filter((function(y){return y===e})).length>0,a=this.getTask(e);if(a){r&&(this.removeTaskElement(e),this.renderTaskElement(e));var c=this.getTaskDependencies(a.internalId);c.length&&c.forEach((function(y){return i.recreateConnectorLineElement(y.internalId,!0)}))}},n.prototype.createFakeTaskWrapper=function(){var e,i,r=(i=(e=this.viewModelItems.filter((function(g){return g.task&&!g.task.isMilestone}))[0])===null||e===void 0?void 0:e.visibleIndex)!==null&&i!==void 0?i:0,a=this.gridLayoutCalculator,c=o.RenderElementUtils.create(a.getTaskWrapperElementInfo(r),null,this.taskArea),y=o.RenderElementUtils.create(a.getTaskElementInfo(r),null,c);return this.createTaskTextElement(r,y),this.createTaskProgressElement(r,y),c.style.display="none",c},n.prototype.createTaskProgressElement=function(e,i){var r=this.gridLayoutCalculator.getTaskProgressElementInfo(e);o.RenderElementUtils.create(r,e,i)},n.prototype.getTextWidth=function(e){return this._renderHelper.getTextWidth(e)},Object.defineProperty(n.prototype,"minTextWidth",{get:function(){var e;return(e=this._minTextWidth)!==null&&e!==void 0||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),n.prototype.createTaskTextElement=function(e,i){var r,a,c=this.gridLayoutCalculator.getTaskTextElementInfo(e,this.taskTitlePosition===h.TaskTitlePosition.Inside);if(!c.additionalInfo.hidden){var y=o.RenderElementUtils.create(c,e,i),g=this.getTaskText(e);if(this.taskTitlePosition===h.TaskTitlePosition.Outside&&c.size.width>0){var f=getComputedStyle(y),T=c.size.width-u.DomUtils.pxToInt(f.paddingLeft);if(T>=this.minTextWidth){var v=u.DomUtils.pxToInt(f.paddingRight),k=g?this.getTextWidth(g):0;v&&k>T-v&&(v=Math.min(n.minTitleOutRightPadding,T-this.minTextWidth),y.style.paddingRight=v+"px"),k>T-v&&(y.style.overflowX="hidden",y.style.textOverflow="ellipsis")}else y.style.display="none"}g||((r=this[a=this.taskTextHeightKey])!==null&&r!==void 0||(this[a]=this.getTaskTextHeight(y)),y.style.height=this[this.taskTextHeightKey]),y.innerText=g}},n.prototype.createTaskSelectionElement=function(e){var i=this.gridLayoutCalculator.getSelectionElementInfo(e);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&i.size.height++,o.RenderElementUtils.create(i,e,this.taskArea,this.selectionElements)},n.prototype.getTaskTextHeight=function(e){e.innerText="WWW";var i=getComputedStyle(e).height;return e.innerText="",i},n.prototype.getSmallTaskWidth=function(e){var i=0;if(e!=null&&e!==""){var r=e.indexOf("rem");if(r>-1)try{i=parseFloat(e.substr(0,r))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch{}else i=u.DomUtils.pxToInt(e)}return 2*i},n.minTitleOutRightPadding=5,n})();d.TaskRender=t},2990:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EditingSettings=void 0;var u=l(2491),h=(function(){function p(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return p.parse=function(o){var t=new p;return o&&((0,u.isDefined)(o.enabled)&&(t.enabled=o.enabled),(0,u.isDefined)(o.allowDependencyDelete)&&(t.allowDependencyDelete=o.allowDependencyDelete),(0,u.isDefined)(o.allowDependencyInsert)&&(t.allowDependencyInsert=o.allowDependencyInsert),(0,u.isDefined)(o.allowTaskDelete)&&(t.allowTaskDelete=o.allowTaskDelete),(0,u.isDefined)(o.allowTaskInsert)&&(t.allowTaskInsert=o.allowTaskInsert),(0,u.isDefined)(o.allowTaskUpdate)&&(t.allowTaskUpdate=o.allowTaskUpdate),(0,u.isDefined)(o.allowResourceDelete)&&(t.allowResourceDelete=o.allowResourceDelete),(0,u.isDefined)(o.allowResourceInsert)&&(t.allowResourceInsert=o.allowResourceInsert),(0,u.isDefined)(o.allowResourceUpdate)&&(t.allowResourceUpdate=o.allowResourceUpdate),(0,u.isDefined)(o.allowTaskResourceUpdate)&&(t.allowTaskResourceUpdate=o.allowTaskResourceUpdate),(0,u.isDefined)(o.taskHoverDelay)&&(t.taskHoverDelay=o.taskHoverDelay)),t},p.prototype.equal=function(o){var t=!0;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t&&this.enabled===o.enabled)&&this.allowDependencyDelete===o.allowDependencyDelete)&&this.allowDependencyInsert===o.allowDependencyInsert)&&this.allowTaskDelete===o.allowTaskDelete)&&this.allowTaskInsert===o.allowTaskInsert)&&this.allowTaskUpdate===o.allowTaskUpdate)&&this.allowResourceDelete===o.allowResourceDelete)&&this.allowResourceInsert===o.allowResourceInsert)&&this.allowResourceUpdate===o.allowResourceUpdate)&&this.allowTaskResourceUpdate===o.allowTaskResourceUpdate},p})();d.EditingSettings=h},9954:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FullScreenHelperSettings=void 0;var u=l(2491),h=(function(){function p(){}return p.parse=function(o){var t=new p;return o&&((0,u.isDefined)(o.getMainElement)&&(t.getMainElement=o.getMainElement),(0,u.isDefined)(o.adjustControl)&&(t.adjustControl=o.adjustControl)),t},p})();d.FullScreenHelperSettings=h},9640:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditSettings=void 0;var u=l(655),h=l(2491),p=(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(t,o),t.parse=function(n){var e=new t;return n&&((0,h.isDefined)(n.getCommandManager)&&(e.getCommandManager=n.getCommandManager),(0,h.isDefined)(n.getViewModel)&&(e.getViewModel=n.getViewModel),(0,h.isDefined)(n.getGanttSettings)&&(e.getGanttSettings=n.getGanttSettings),(0,h.isDefined)(n.getRenderHelper)&&(e.getRenderHelper=n.getRenderHelper),(0,h.isDefined)(n.destroyTemplate)&&(e.destroyTemplate=n.destroyTemplate),(0,h.isDefined)(n.formatDate)&&(e.formatDate=n.formatDate),(0,h.isDefined)(n.getModelManipulator)&&(e.getModelManipulator=n.getModelManipulator),(0,h.isDefined)(n.getValidationController)&&(e.getValidationController=n.getValidationController)),e},t})(l(9080).TooltipSettings);d.TaskEditSettings=p},9080:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TooltipSettings=void 0;var u=l(2491),h=(function(){function p(){}return p.parse=function(o){var t=new p;return o&&((0,u.isDefined)(o.getHeaderHeight)&&(t.getHeaderHeight=o.getHeaderHeight),(0,u.isDefined)(o.getTaskTooltipContentTemplate)&&(t.getTaskTooltipContentTemplate=o.getTaskTooltipContentTemplate),(0,u.isDefined)(o.getTaskProgressTooltipContentTemplate)&&(t.getTaskProgressTooltipContentTemplate=o.getTaskProgressTooltipContentTemplate),(0,u.isDefined)(o.getTaskTimeTooltipContentTemplate)&&(t.getTaskTimeTooltipContentTemplate=o.getTaskTimeTooltipContentTemplate),(0,u.isDefined)(o.destroyTemplate)&&(t.destroyTemplate=o.destroyTemplate),(0,u.isDefined)(o.formatDate)&&(t.formatDate=o.formatDate),(0,u.isDefined)(o.getTaskAreaContainer)&&(t.getTaskAreaContainer=o.getTaskAreaContainer)),t},p})();d.TooltipSettings=h},5846:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationControllerSettings=void 0;var u=l(2491),h=(function(){function p(){}return p.parse=function(o){var t=new p;return o&&((0,u.isDefined)(o.getViewModel)&&(t.getViewModel=o.getViewModel),(0,u.isDefined)(o.getHistory)&&(t.getHistory=o.getHistory),(0,u.isDefined)(o.getModelManipulator)&&(t.getModelManipulator=o.getModelManipulator),(0,u.isDefined)(o.getRange)&&(t.getRange=o.getRange),(0,u.isDefined)(o.getValidationSettings)&&(t.getValidationSettings=o.getValidationSettings),(0,u.isDefined)(o.updateOwnerInAutoParentMode)&&(t.updateOwnerInAutoParentMode=o.updateOwnerInAutoParentMode),(0,u.isDefined)(o.getIsValidateDependenciesRequired)&&(t.getIsValidateDependenciesRequired=o.getIsValidateDependenciesRequired)),t},p})();d.ValidationControllerSettings=h},5351:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Settings=void 0;var u=l(2491),h=l(7880),p=l(2449),o=l(2990),t=l(9057),n=l(2762),e=l(9820),i=(function(){function r(){this.viewType=void 0,this.taskTitlePosition=p.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new o.EditingSettings,this.validation=new n.ValidationSettings,this.stripLines=new t.StripLineSettings,this.viewTypeRange=new e.ViewTypeRangeSettings}return r.parse=function(a){var c=new r;return a&&((0,u.isDefined)(a.viewType)&&(c.viewType=a.viewType),(0,u.isDefined)(a.taskTitlePosition)&&(c.taskTitlePosition=a.taskTitlePosition),(0,u.isDefined)(a.showResources)&&(c.showResources=a.showResources),(0,u.isDefined)(a.showDependencies)&&(c.showDependencies=a.showDependencies),(0,u.isDefined)(a.areHorizontalBordersEnabled)&&(c.areHorizontalBordersEnabled=a.areHorizontalBordersEnabled),(0,u.isDefined)(a.areVerticalBordersEnabled)&&(c.areHorizontalBordersEnabled=a.areHorizontalBordersEnabled),(0,u.isDefined)(a.areAlternateRowsEnabled)&&(c.areAlternateRowsEnabled=a.areAlternateRowsEnabled),(0,u.isDefined)(a.allowSelectTask)&&(c.allowSelectTask=a.allowSelectTask),(0,u.isDefined)(a.firstDayOfWeek)&&(c.firstDayOfWeek=a.firstDayOfWeek),(0,u.isDefined)(a.startDateRange)&&(c.startDateRange=new Date(a.startDateRange)),(0,u.isDefined)(a.endDateRange)&&(c.endDateRange=new Date(a.endDateRange)),(0,u.isDefined)(a.editing)&&(c.editing=o.EditingSettings.parse(a.editing)),(0,u.isDefined)(a.validation)&&(c.validation=n.ValidationSettings.parse(a.validation)),(0,u.isDefined)(a.stripLines)&&(c.stripLines=t.StripLineSettings.parse(a.stripLines)),(0,u.isDefined)(a.viewTypeRange)&&(c.viewTypeRange=e.ViewTypeRangeSettings.parse(a.viewTypeRange)),(0,u.isDefined)(a.taskTooltipContentTemplate)&&(c.taskTooltipContentTemplate=a.taskTooltipContentTemplate),(0,u.isDefined)(a.taskProgressTooltipContentTemplate)&&(c.taskProgressTooltipContentTemplate=a.taskProgressTooltipContentTemplate),(0,u.isDefined)(a.taskTimeTooltipContentTemplate)&&(c.taskTimeTooltipContentTemplate=a.taskTimeTooltipContentTemplate),(0,u.isDefined)(a.taskContentTemplate)&&(c.taskContentTemplate=a.taskContentTemplate),(0,u.isDefined)(a.cultureInfo)&&(c.cultureInfo=a.cultureInfo)),c},r.prototype.equal=function(a){var c=!0;return c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=c&&this.viewType===a.viewType)&&this.taskTitlePosition===a.taskTitlePosition)&&this.showResources===a.showResources)&&this.showDependencies===a.showDependencies)&&this.areHorizontalBordersEnabled===a.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===a.areAlternateRowsEnabled)&&this.allowSelectTask===a.allowSelectTask)&&this.editing.equal(a.editing))&&this.validation.equal(a.validation))&&this.stripLines.equal(a.stripLines))&&h.DateTimeUtils.areDatesEqual(this.startDateRange,a.startDateRange))&&h.DateTimeUtils.areDatesEqual(this.endDateRange,a.endDateRange)},r})();d.Settings=i},1442:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StripLine=void 0;var u=l(2491),h=(function(){function p(o,t,n,e,i){this.isCurrent=!1,this.start=o,this.end=t,this.title=n,this.cssClass=e,this.isCurrent=i}return p.parse=function(o){var t=new p;return o&&((0,u.isDefined)(o.start)&&(t.start=o.start),(0,u.isDefined)(o.end)&&(t.end=o.end),(0,u.isDefined)(o.title)&&(t.title=o.title),(0,u.isDefined)(o.cssClass)&&(t.cssClass=o.cssClass)),t},p.prototype.clone=function(){return new p(this.start,this.end,this.title,this.cssClass,this.isCurrent)},p.prototype.equal=function(o){var t=!0;return t=(t=(t=(t=t&&this.start==o.start)&&this.end==o.end)&&this.title==o.title)&&this.cssClass==o.cssClass},p})();d.StripLine=h},9057:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StripLineSettings=void 0;var u=l(2491),h=l(1442),p=(function(){function o(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return o.parse=function(t){var n=new o;if(t&&((0,u.isDefined)(t.showCurrentTime)&&(n.showCurrentTime=t.showCurrentTime),(0,u.isDefined)(t.currentTimeUpdateInterval)&&(n.currentTimeUpdateInterval=t.currentTimeUpdateInterval),(0,u.isDefined)(t.currentTimeTitle)&&(n.currentTimeTitle=t.currentTimeTitle),(0,u.isDefined)(t.currentTimeCssClass)&&(n.currentTimeCssClass=t.currentTimeCssClass),(0,u.isDefined)(t.stripLines)))for(var e=0;e<t.stripLines.length;e++)n.stripLines.push(h.StripLine.parse(t.stripLines[e]));return n},o.prototype.equal=function(t){var n=!0;if(n=(n=(n=(n=(n=n&&this.showCurrentTime==t.showCurrentTime)&&this.currentTimeUpdateInterval==t.currentTimeUpdateInterval)&&this.currentTimeTitle==t.currentTimeTitle)&&this.currentTimeCssClass==t.currentTimeCssClass)&&this.stripLines.length===t.stripLines.length)for(var e=0;e<t.stripLines.length;e++)n=n&&this.stripLines[e].equal(t.stripLines[e]);return n},o})();d.StripLineSettings=p},2762:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationSettings=void 0;var u=l(2491),h=(function(){function p(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return p.parse=function(o){var t=new p;return o&&((0,u.isDefined)(o.validateDependencies)&&(t.validateDependencies=o.validateDependencies),(0,u.isDefined)(o.autoUpdateParentTasks)&&(t.autoUpdateParentTasks=o.autoUpdateParentTasks),(0,u.isDefined)(o.enablePredecessorGap)&&(t.enablePredecessorGap=o.enablePredecessorGap)),t},p.prototype.equal=function(o){var t=!0;return t=(t=(t=t&&this.validateDependencies===o.validateDependencies)&&this.autoUpdateParentTasks===o.autoUpdateParentTasks)&&this.enablePredecessorGap===o.enablePredecessorGap},p})();d.ValidationSettings=h},9820:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewTypeRangeSettings=void 0;var u=l(2491),h=l(2449),p=(function(){function o(){this.min=h.ViewType.TenMinutes,this.max=h.ViewType.Years}return o.parse=function(t){var n=new o;return t&&((0,u.isDefined)(t.min)&&(n.min=t.min),(0,u.isDefined)(t.max)&&(n.max=t.max)),n},o.prototype.equal=function(t){var n=!0;return n=(n=n&&this.min===t.min)&&this.max===t.max},o})();d.ViewTypeRangeSettings=p},9201:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DateUtils=void 0;var u=l(2449),h=(function(){function p(){}var o;return p.getDaysInQuarter=function(t){var n=3*Math.floor(t.getMonth()/3);return[n,n+1,n+2].reduce((function(e,i){return e+p.getDaysInMonth(i,t.getFullYear())}),0)},p.getDaysInMonth=function(t,n){return new Date(n,t+1,0).getDate()},p.getOffsetInMonths=function(t,n){return 12*(n.getFullYear()-t.getFullYear())+n.getMonth()-t.getMonth()},p.getOffsetInQuarters=function(t,n){return 4*(n.getFullYear()-t.getFullYear())+Math.floor(n.getMonth()/3)-Math.floor(t.getMonth()/3)},p.getNearestScaleTickDate=function(t,n,e,i){var r=new Date,a=n.start.getTime(),c=n.end.getTime();if(r.setTime(t.getTime()),t.getTime()<a)r.setTime(a);else if(t.getTime()>c)r.setTime(c);else if(this.needCorrectDate(t,a,e,i)){var y=this.getNearestLeftTickTime(t,a,e,i),g=this.getNextTickTime(y,e,i);Math.abs(t.getTime()-y)>Math.abs(t.getTime()-g)?r.setTime(g):r.setTime(y)}return r},p.needCorrectDate=function(t,n,e,i){return i==u.ViewType.Months?t.getTime()!==new Date(t.getFullYear(),t.getMonth(),1).getTime():(t.getTime()-n)%e!=0},p.getNearestLeftTickTime=function(t,n,e,i){return i==u.ViewType.Months?new Date(t.getFullYear(),t.getMonth(),1).getTime():n+Math.floor((t.getTime()-n)/e)*e},p.getNextTickTime=function(t,n,e){if(e==u.ViewType.Months){var i=new Date;return i.setTime(t),i.setMonth(i.getMonth()+1),i.getTime()}return t+n},p.adjustStartDateByViewType=function(t,n,e){switch(e===void 0&&(e=0),n){case u.ViewType.TenMinutes:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());case u.ViewType.SixHours:case u.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate());case u.ViewType.Days:case u.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+e);case u.ViewType.Months:case u.ViewType.Quarter:case u.ViewType.Years:return new Date(t.getFullYear(),0,1);default:return new Date}},p.adjustEndDateByViewType=function(t,n,e){switch(e===void 0&&(e=0),n){case u.ViewType.TenMinutes:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+1);case u.ViewType.SixHours:case u.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);case u.ViewType.Days:case u.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()+7-t.getDay()+e);case u.ViewType.Months:case u.ViewType.Quarter:case u.ViewType.Years:return new Date(t.getFullYear()+1,0,1);default:return new Date}},p.roundStartDate=function(t,n){switch(n){case u.ViewType.TenMinutes:case u.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()-1);case u.ViewType.SixHours:case u.ViewType.Days:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-1);case u.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());case u.ViewType.Months:return new Date(t.getFullYear(),t.getMonth()-1);case u.ViewType.Quarter:case u.ViewType.Years:return new Date(t.getFullYear()-1,0,1);default:return new Date}},p.getTickTimeSpan=function(t){switch(t){case u.ViewType.TenMinutes:return p.msPerHour/6;case u.ViewType.Hours:return p.msPerHour;case u.ViewType.SixHours:return 6*p.msPerHour;case u.ViewType.Days:return p.msPerDay;case u.ViewType.Weeks:return p.msPerWeek;case u.ViewType.Months:return p.msPerMonth;case u.ViewType.Quarter:return 3*p.msPerMonth;case u.ViewType.Years:return p.msPerYear}},p.getRangeTickCount=function(t,n,e){return e===u.ViewType.Months?this.getRangeTickCountInMonthsViewType(t,n):e===u.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(t,n):p.getRangeMSPeriod(t,n)/p.getTickTimeSpan(e)},p.getRangeMSPeriod=function(t,n){return n.getTime()-p.getDSTTotalDelta(t,n)-t.getTime()},p.getRangeTickCountInMonthsViewType=function(t,n){var e=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth(),1);return p.getOffsetInMonths(e,i)+(n.getTime()-i.getTime())/(p.getDaysInMonth(n.getMonth(),n.getFullYear())*p.msPerDay)-(t.getTime()-e.getTime())/(p.getDaysInMonth(t.getMonth(),t.getFullYear())*p.msPerDay)},p.getRangeTickCountInQuarterViewType=function(t,n){var e=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),i=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1);return p.getOffsetInQuarters(e,i)+(n.getTime()-i.getTime())/(p.getDaysInQuarter(i)*p.msPerDay)-(t.getTime()-e.getTime())/(p.getDaysInQuarter(e)*p.msPerDay)},p.parse=function(t){return typeof t=="function"?new Date(t()):new Date(t)},p.getOrCreateUTCDate=function(t){var n=t.getTimezoneOffset();return n?new Date(t.valueOf()+6e4*n):t},p.getTimezoneOffsetDiff=function(t,n){return n.getTimezoneOffset()-t.getTimezoneOffset()},p.getDSTDelta=function(t,n){var e=p.getTimezoneOffsetDiff(t,n)*p.msPerMinute;return e>0?e:0},p.getDSTTotalDelta=function(t,n){if(!p.hasDST())return 0;for(var e=t,i=0,r=e.getFullYear(),a=e.getMonth();e<n;){a>=5?(r++,a=0):a=5;var c=new Date(r,a,1);c>n&&(c=n),i+=p.getDSTDelta(e,c),e=c}return i},p.getDSTCorrectedTaskEnd=function(t,n){var e=t.getTime()+n,i=p.getDSTTotalDelta(t,new Date(e));return new Date(e+i)},p.hasDST=function(){var t=new Date().getFullYear(),n=new Date(t,0,1),e=new Date(t,5,1);return p.getTimezoneOffsetDiff(n,e)!==0},p.msPerMinute=6e4,p.msPerHour=36e5,p.msPerDay=24*p.msPerHour,p.msPerWeek=7*p.msPerDay,p.msPerMonth=30*p.msPerDay,p.msPerYear=365*p.msPerDay,p.ViewTypeToScaleMap=((o={})[u.ViewType.TenMinutes]=u.ViewType.Hours,o[u.ViewType.Hours]=u.ViewType.Days,o[u.ViewType.SixHours]=u.ViewType.Days,o[u.ViewType.Days]=u.ViewType.Weeks,o[u.ViewType.Weeks]=u.ViewType.Months,o[u.ViewType.Months]=u.ViewType.Years,o[u.ViewType.Quarter]=u.ViewType.Years,o[u.ViewType.Years]=u.ViewType.FiveYears,o),p})();d.DateUtils=h},8380:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ElementTextHelper=void 0;var u=l(6907),h=l(2449),p=l(9201),o=(function(){function t(n){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var e=document.createElement("canvas");this.textMeasureContext=e.getContext("2d"),this.cultureInfo=n}return t.prototype.setFont=function(n){var e=u.DomUtils.getCurrentStyle(n),i=e.font?e.font:e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+e.fontSize+" / "+e.lineHeight+" "+e.fontFamily;this.textMeasureContext.font=i},t.prototype.setSettings=function(n,e,i){this.startTime=n,this.viewType=e,this.modelItems=i},t.prototype.getScaleItemText=function(n,e){var i=this.viewType.valueOf()===e.valueOf();switch(e){case h.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case h.ViewType.Hours:case h.ViewType.SixHours:return this.getHoursScaleItemText(n);case h.ViewType.Days:return this.getDaysScaleItemText(n,i);case h.ViewType.Weeks:return this.getWeeksScaleItemText(n,i);case h.ViewType.Months:return this.getMonthsScaleItemText(n,i);case h.ViewType.Quarter:return this.getQuarterScaleItemText(n,i);case h.ViewType.Years:return this.getYearsScaleItemText(n);case h.ViewType.FiveYears:return this.getFiveYearsScaleItemText(n)}},t.prototype.getTenMinutesScaleItemText=function(n){var e=n.getMinutes()+1;return(10*Math.ceil(e/10)).toString()},t.prototype.getThirtyMinutesScaleItemText=function(n){return n.getMinutes()<30?"30":"60"},t.prototype.getHoursScaleItemText=function(n){var e=n.getHours(),i=this.getHourDisplayText(e),r=e<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(i,r)},t.prototype.getDaysScaleItemText=function(n,e){return this.getDayTotalText(n,!0,e,e,!e)},t.prototype.getWeeksScaleItemText=function(n,e){var i=p.DateUtils.getDSTCorrectedTaskEnd(n,p.DateUtils.msPerWeek-p.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(n,e,!0,e,!e),this.getDayTotalText(i,e,!0,e,!e))},t.prototype.getMonthsScaleItemText=function(n,e){var i=this.getMonthNames(),r=e?"":n.getFullYear().toString();return this.getMonthsScaleItemTextCore(i[n.getMonth()],r)},t.prototype.getQuarterScaleItemText=function(n,e){var i=this.getQuarterNames(),r=e?"":n.getFullYear().toString();return this.getMonthsScaleItemTextCore(i[Math.floor(n.getMonth()/3)],r)},t.prototype.getYearsScaleItemText=function(n){return n.getFullYear().toString()},t.prototype.getFiveYearsScaleItemText=function(n){return n.getFullYear().toString()+" - "+(n.getFullYear()+4).toString()},t.prototype.getHourDisplayText=function(n){return this.hasAmPm()?(n==0?12:n<=12?n:n-12).toString():n<10?"0"+n:n.toString()},t.prototype.getDayTotalText=function(n,e,i,r,a){var c=r?this.getAbbrMonthNames():this.getMonthNames(),y=i?this.getAbbrDayNames():this.getDayNames(),g=e?y[n.getDay()]:"",f=n.getDate(),T=c[n.getMonth()],v=a?n.getFullYear().toString():"";return this.getDayTotalTextCore(g,f.toString(),T,v)},t.prototype.getTaskText=function(n){var e=this.modelItems[n];return e?e.task.title:""},t.prototype.getTaskVisibility=function(n){var e=this.modelItems[n];return!!e&&e.getVisible()},t.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},t.prototype.getScaleItemTextTemplate=function(n){switch(n){case h.ViewType.TenMinutes:return"00";case h.ViewType.Hours:case h.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case h.ViewType.Days:return this.getDayTextTemplate();case h.ViewType.Weeks:return this.getWeekTextTemplate();case h.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case h.ViewType.Quarter:return"Q4";case h.ViewType.Years:return"0000"}},t.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},t.prototype.getWeekTextTemplate=function(){var n=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(n,n)},t.prototype.getHoursScaleItemTextCore=function(n,e){return n+":00"+(this.hasAmPm()?" "+e:"")},t.prototype.getDayTotalTextCore=function(n,e,i,r){var a=n.length>0?n+", ":"";return a+=e+" "+i,a+=r.length>0?" "+r:""},t.prototype.getWeeksScaleItemTextCore=function(n,e){return n+" - "+e},t.prototype.getMonthsScaleItemTextCore=function(n,e){var i=n;return e.length>0&&(i+=" "+e),i},t.prototype.getLongestAbbrMonthName=function(){return this.longestAbbrMonthName==null&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},t.prototype.getLongestMonthName=function(){return this.longestMonthName==null&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},t.prototype.getLongestAbbrDayName=function(){return this.longestAbbrDayName==null&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},t.prototype.getLongestText=function(n){var e=this,i="",r=0;return n.forEach((function(a){var c=e.getTextWidth(a);c>r&&(r=c,i=a)})),i},t.prototype.getTextWidth=function(n){return Math.round(this.textMeasureContext.measureText(n).width)},t.prototype.getAmText=function(){return this.cultureInfo.amText},t.prototype.getPmText=function(){return this.cultureInfo.pmText},t.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},t.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},t.prototype.getDayNames=function(){return this.cultureInfo.dayNames},t.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},t.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},t})();d.ElementTextHelper=o},655:(w,d,l)=>{l.r(d),l.d(d,{__assign:()=>p,__asyncDelegator:()=>C,__asyncGenerator:()=>b,__asyncValues:()=>P,__await:()=>k,__awaiter:()=>i,__classPrivateFieldGet:()=>F,__classPrivateFieldSet:()=>K,__createBinding:()=>a,__decorate:()=>t,__exportStar:()=>c,__extends:()=>h,__generator:()=>r,__importDefault:()=>L,__importStar:()=>I,__makeTemplateObject:()=>H,__metadata:()=>e,__param:()=>n,__read:()=>g,__rest:()=>o,__spread:()=>f,__spreadArray:()=>v,__spreadArrays:()=>T,__values:()=>y});var u=function(O,V){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,N){j.__proto__=N}||function(j,N){for(var W in N)Object.prototype.hasOwnProperty.call(N,W)&&(j[W]=N[W])},u(O,V)};function h(O,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function j(){this.constructor=O}u(O,V),O.prototype=V===null?Object.create(V):(j.prototype=V.prototype,new j)}var p=function(){return p=Object.assign||function(O){for(var V,j=1,N=arguments.length;j<N;j++)for(var W in V=arguments[j])Object.prototype.hasOwnProperty.call(V,W)&&(O[W]=V[W]);return O},p.apply(this,arguments)};function o(O,V){var j={};for(var N in O)Object.prototype.hasOwnProperty.call(O,N)&&V.indexOf(N)<0&&(j[N]=O[N]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function"){var W=0;for(N=Object.getOwnPropertySymbols(O);W<N.length;W++)V.indexOf(N[W])<0&&Object.prototype.propertyIsEnumerable.call(O,N[W])&&(j[N[W]]=O[N[W]])}return j}function t(O,V,j,N){var W,$=arguments.length,z=$<3?V:N===null?N=Object.getOwnPropertyDescriptor(V,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(O,V,j,N);else for(var A=O.length-1;A>=0;A--)(W=O[A])&&(z=($<3?W(z):$>3?W(V,j,z):W(V,j))||z);return $>3&&z&&Object.defineProperty(V,j,z),z}function n(O,V){return function(j,N){V(j,N,O)}}function e(O,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,V)}function i(O,V,j,N){return new(j||(j=Promise))((function(W,$){function z(M){try{S(N.next(M))}catch(R){$(R)}}function A(M){try{S(N.throw(M))}catch(R){$(R)}}function S(M){var R;M.done?W(M.value):(R=M.value,R instanceof j?R:new j((function(U){U(R)}))).then(z,A)}S((N=N.apply(O,V||[])).next())}))}function r(O,V){var j,N,W,$,z={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return $={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function A(S){return function(M){return(function(R){if(j)throw new TypeError("Generator is already executing.");for(;z;)try{if(j=1,N&&(W=2&R[0]?N.return:R[0]?N.throw||((W=N.return)&&W.call(N),0):N.next)&&!(W=W.call(N,R[1])).done)return W;switch(N=0,W&&(R=[2&R[0],W.value]),R[0]){case 0:case 1:W=R;break;case 4:return z.label++,{value:R[1],done:!1};case 5:z.label++,N=R[1],R=[0];continue;case 7:R=z.ops.pop(),z.trys.pop();continue;default:if(W=z.trys,!((W=W.length>0&&W[W.length-1])||R[0]!==6&&R[0]!==2)){z=0;continue}if(R[0]===3&&(!W||R[1]>W[0]&&R[1]<W[3])){z.label=R[1];break}if(R[0]===6&&z.label<W[1]){z.label=W[1],W=R;break}if(W&&z.label<W[2]){z.label=W[2],z.ops.push(R);break}W[2]&&z.ops.pop(),z.trys.pop();continue}R=V.call(O,z)}catch(U){R=[6,U],N=0}finally{j=W=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}})([S,M])}}}var a=Object.create?function(O,V,j,N){N===void 0&&(N=j),Object.defineProperty(O,N,{enumerable:!0,get:function(){return V[j]}})}:function(O,V,j,N){N===void 0&&(N=j),O[N]=V[j]};function c(O,V){for(var j in O)j==="default"||Object.prototype.hasOwnProperty.call(V,j)||a(V,O,j)}function y(O){var V=typeof Symbol=="function"&&Symbol.iterator,j=V&&O[V],N=0;if(j)return j.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&N>=O.length&&(O=void 0),{value:O&&O[N++],done:!O}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(O,V){var j=typeof Symbol=="function"&&O[Symbol.iterator];if(!j)return O;var N,W,$=j.call(O),z=[];try{for(;(V===void 0||V-- >0)&&!(N=$.next()).done;)z.push(N.value)}catch(A){W={error:A}}finally{try{N&&!N.done&&(j=$.return)&&j.call($)}finally{if(W)throw W.error}}return z}function f(){for(var O=[],V=0;V<arguments.length;V++)O=O.concat(g(arguments[V]));return O}function T(){for(var O=0,V=0,j=arguments.length;V<j;V++)O+=arguments[V].length;var N=Array(O),W=0;for(V=0;V<j;V++)for(var $=arguments[V],z=0,A=$.length;z<A;z++,W++)N[W]=$[z];return N}function v(O,V,j){if(j||arguments.length===2)for(var N,W=0,$=V.length;W<$;W++)!N&&W in V||(N||(N=Array.prototype.slice.call(V,0,W)),N[W]=V[W]);return O.concat(N||Array.prototype.slice.call(V))}function k(O){return this instanceof k?(this.v=O,this):new k(O)}function b(O,V,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N,W=j.apply(O,V||[]),$=[];return N={},z("next"),z("throw"),z("return"),N[Symbol.asyncIterator]=function(){return this},N;function z(U){W[U]&&(N[U]=function(Z){return new Promise((function(oe,pe){$.push([U,Z,oe,pe])>1||A(U,Z)}))})}function A(U,Z){try{(oe=W[U](Z)).value instanceof k?Promise.resolve(oe.value.v).then(S,M):R($[0][2],oe)}catch(pe){R($[0][3],pe)}var oe}function S(U){A("next",U)}function M(U){A("throw",U)}function R(U,Z){U(Z),$.shift(),$.length&&A($[0][0],$[0][1])}}function C(O){var V,j;return V={},N("next"),N("throw",(function(W){throw W})),N("return"),V[Symbol.iterator]=function(){return this},V;function N(W,$){V[W]=O[W]?function(z){return(j=!j)?{value:k(O[W](z)),done:W==="return"}:$?$(z):z}:$}}function P(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,j=O[Symbol.asyncIterator];return j?j.call(O):(O=y(O),V={},N("next"),N("throw"),N("return"),V[Symbol.asyncIterator]=function(){return this},V);function N(W){V[W]=O[W]&&function($){return new Promise((function(z,A){(function(S,M,R,U){Promise.resolve(U).then((function(Z){S({value:Z,done:R})}),M)})(z,A,($=O[W]($)).done,$.value)}))}}}function H(O,V){return Object.defineProperty?Object.defineProperty(O,"raw",{value:V}):O.raw=V,O}var x=Object.create?function(O,V){Object.defineProperty(O,"default",{enumerable:!0,value:V})}:function(O,V){O.default=V};function I(O){if(O&&O.__esModule)return O;var V={};if(O!=null)for(var j in O)j!=="default"&&Object.prototype.hasOwnProperty.call(O,j)&&a(V,O,j);return x(V,O),V}function L(O){return O&&O.__esModule?O:{default:O}}function F(O,V,j,N){if(j==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof V=="function"?O!==V||!N:!V.has(O))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?N:j==="a"?N.call(O):N?N.value:V.get(O)}function K(O,V,j,N,W){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof V=="function"?O!==V||!W:!V.has(O))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?W.call(O,j):W?W.value=j:V.set(O,j),j}}},_={};function D(w){var d=_[w];if(d!==void 0)return d.exports;var l=_[w]={exports:{}};return m[w](l,l.exports,D),l.exports}D.d=(w,d)=>{for(var l in d)D.o(d,l)&&!D.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:d[l]})},D.o=(w,d)=>Object.prototype.hasOwnProperty.call(w,d),D.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var E={};return(()=>{var w=E;Object.defineProperty(w,"__esModule",{value:!0}),w.GanttView=w.default=void 0,D(8721);var d=D(2366);Object.defineProperty(w,"default",{enumerable:!0,get:function(){return d.GanttView}}),Object.defineProperty(w,"GanttView",{enumerable:!0,get:function(){return d.GanttView}})})(),E})()))})(De)),De.exports}var vi=Ti();const it=Kn(vi);function _i(){if(!it)throw ct.Error("E1041","devexpress-gantt");return it}class ki{constructor(s,m){this._element=s,this._scrollView=m._createComponent(this._element,Vn,{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:()=>{m.updateView()}})}get scrollTop(){return this._scrollView.scrollTop()}set scrollTop(s){const m=s-this._scrollView.scrollTop();m!==0&&this._scrollView.scrollBy({left:0,top:m})}get scrollLeft(){return this._scrollView.scrollLeft()}set scrollLeft(s){const m=s-this._scrollView.scrollLeft();m!==0&&this._scrollView.scrollBy({left:m,top:0})}get scrollWidth(){return this._scrollView.scrollWidth()}get scrollHeight(){return this._scrollView.scrollHeight()}get isExternal(){return!0}getWidth(){return this._element.offsetWidth}getHeight(){return this._element.offsetHeight}getElement(){return this._element}}const bi="fullScreen";class wi extends Le{_init(){super._init(),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onViewTypeChanged=this._createActionByOption("onViewTypeChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._onPopupMenuHiding=this._createActionByOption("onPopupMenuHiding"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick"),this._onAdjustControl=this._createActionByOption("onAdjustControl")}_initMarkup(){var s;const m=_i();this._ganttViewCore=new m(this.$element().get(0),this,{showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:(s=this.option("stripLines"))===null||s===void 0?void 0:s.map((D=>Re({},D)))},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),viewTypeRange:this._parseViewTypeRangeSettings(this.option("scaleTypeRange")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate"),taskProgressTooltipContentTemplate:this.option("taskProgressTooltipContentTemplate"),taskTimeTooltipContentTemplate:this.option("taskTimeTooltipContentTemplate"),taskContentTemplate:this.option("taskContentTemplate"),sieve:this.option("sieve")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState();const _=this.option("visualState");_&&(this._restoreStateFrameId=Sn((()=>this._restoreVisualState(_))))}_dispose(){super._dispose(),Cn(this._restoreStateFrameId)}_restoreVisualState(s){s.fullScreen&&this._ganttViewCore.setFullScreenMode()}_getFirstDayOfWeek(s){return ne(s)?s:ue.firstDayOfWeekIndex()}getTaskAreaContainer(){return this._ganttViewCore.getTaskAreaContainer()}getBarManager(){return this._ganttViewCore.barManager}executeCoreCommand(s){const m=this._ganttViewCore.getCommandByKey(s);m&&m.execute()}changeTaskExpanded(s,m){this._ganttViewCore.changeTaskExpanded(s,m)}updateView(){var s;(s=this._ganttViewCore)===null||s===void 0||s.updateView()}updateBarItemsState(){this._ganttViewCore.barManager.updateItemsState([])}setWidth(s){this._ganttViewCore.setWidth(s)}_onDimensionChanged(){this._ganttViewCore.onBrowserWindowResize()}_selectTask(s){this._ganttViewCore.selectTaskById(s)}_update(s){var m;(m=this._ganttViewCore)===null||m===void 0||m.updateWithDataReload(s)}_getCultureInfo(){return{monthNames:ue.getMonthNames("wide"),dayNames:ue.getDayNames("wide"),abbrMonthNames:ue.getMonthNames("abbreviated"),abbrDayNames:ue.getDayNames("abbreviated"),quarterNames:this._getQuarterNames(),amText:this._getAmText(),pmText:this._getPmText(),start:G.format("dxGantt-dialogStartTitle"),end:G.format("dxGantt-dialogEndTitle"),progress:G.format("dxGantt-dialogProgressTitle")}}_getAmText(){return this._hasAmPM()?ue.getPeriodNames()[0]:""}_getPmText(){return this._hasAmPM()?ue.getPeriodNames()[1]:""}_hasAmPM(){const s=new Date(Date.UTC(2012,11,12,3,0,0));return s.toLocaleTimeString(pn.locale()).match(/am|pm/i)||s.toString().match(/am|pm/i)}_getQuarterNames(){const s=G.format("dxGantt-quarter");return s?[ve(s,1),ve(s,2),ve(s,3),ve(s,4)]:ue.getQuarterNames()}_getTaskTitlePosition(s){switch(s){case"outside":return 1;case"none":return 2;default:return 0}}_getViewTypeByScaleType(s){switch(s){case"minutes":return 0;case"hours":return 1;case"sixHours":return 2;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}_parseEditingSettings(s){return{enabled:s.enabled,allowDependencyDelete:s.allowDependencyDeleting,allowDependencyInsert:s.allowDependencyAdding,allowTaskDelete:s.allowTaskDeleting,allowTaskInsert:s.allowTaskAdding,allowTaskUpdate:s.allowTaskUpdating,allowResourceDelete:s.allowResourceDeleting,allowResourceInsert:s.allowResourceAdding,allowResourceUpdate:s.allowResourceUpdating,allowTaskResourceUpdate:s.allowTaskResourceUpdating}}_parseViewTypeRangeSettings(s){return{min:this._getViewTypeByScaleType(s.min),max:this._getViewTypeByScaleType(s.max)}}_optionChanged(s){switch(s.name){case"width":super._optionChanged(s),this._ganttViewCore.setWidth(s.value);break;case"height":this._ganttViewCore.setHeight(s.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._sieveOptions=void 0,this._update(!0);break;case"showResources":this._ganttViewCore.setShowResources(s.value);break;case"showDependencies":this._ganttViewCore.setShowDependencies(s.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(s.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(s.value));break;case"startDateRange":this._ganttViewCore.setStartDateRange(s.value);break;case"endDateRange":this._ganttViewCore.setEndDateRange(s.value);break;case"allowSelection":this._ganttViewCore.setAllowSelection(s.value);break;case"selectedRowKey":this._selectTask(s.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(s.value));break;case"validation":this._ganttViewCore.setValidationSettings(s.value),this._update(!0);break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(s.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(s.value));break;case"scaleTypeRange":this._ganttViewCore.setViewTypeRange(this._getViewTypeByScaleType(s.value.min),this._getViewTypeByScaleType(s.value.max));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:this.option("stripLines")});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(s.value);break;case"taskProgressTooltipContentTemplate":this._ganttViewCore.setTaskProgressTooltipContentTemplate(s.value);break;case"taskTimeTooltipContentTemplate":this._ganttViewCore.setTaskTimeTooltipContentTemplate(s.value);break;case"taskContentTemplate":this._ganttViewCore.setTaskContentTemplate(s.value);break;case"sieve":this._sortAndFilter(s.value);break;default:super._optionChanged(s)}}get bars(){return this.option("bars")}getRowHeight(){return this.option("rowHeight")}getHeaderHeight(){return this.option("headerHeight")}getGanttTasksData(){const s=this.option("tasks"),m=this.getSieveOptions();return m!=null&&m.sievedItems&&m!==null&&m!==void 0&&m.sieveColumn?m.sievedItems:s}_sortAndFilter(s){this._sieveOptions=s,this._update(!(s!=null&&s.expandTasks));const m=this.option("selectedRowKey");this._selectTask(m)}getSieveOptions(){return this._sieveOptions}getGanttDependenciesData(){return this.option("dependencies")}getGanttResourcesData(){return this.option("resources")}getGanttResourceAssignmentsData(){return this.option("resourceAssignments")}getGanttWorkTimeRules(){return null}getExternalTaskAreaContainer(s){return this._taskAreaContainer||(this._taskAreaContainer=new ki(s,this)),this._taskAreaContainer}prepareExternalTaskAreaContainer(s,m){m!=null&&m.height&&this._taskAreaContainer._scrollView.option("height",m.height)}changeGanttTaskSelection(s,m){this._onSelectionChanged({id:s,selected:m})}onGanttScroll(s){this._onScroll({scrollTop:s})}showDialog(s,m,_,D){this._onDialogShowing({name:s,parameters:m,callback:_,afterClosing:D})}getModelChangesListener(){return this.option("modelChangesListener")}getExportInfo(){return this.option("exportInfo")}showPopupMenu(s){this._onPopupMenuShowing(s)}hidePopupMenu(s){this._onPopupMenuHiding(s)}getMainElement(){return this.option("mainElement").get(0)}adjustControl(){this._onAdjustControl()}getRequireFirstLoadParentAutoCalc(){return this.option("validation.autoUpdateParentTasks")}collapseAll(){this._collapseAll()}expandAll(){this._expandAll()}onTaskClick(s,m){return this._taskClick({key:s,event:m}),!0}onTaskDblClick(s,m){return this._taskDblClick({key:s,event:m})}onGanttViewContextMenu(s,m,_){return!0}getFormattedDateText(s){let m="";if(s){const _=ue.format(s,"shortDate"),D=this._hasAmPM()?"hh:mm a":"HH:mm",E=ue.format(s,D);m=_+" "+E}return m}destroyTemplate(s){Y(s).empty()}onTaskAreaSizeChanged(s){const m=this._taskAreaContainer._scrollView;if(ne(s==null?void 0:s.height)){const _=(s==null?void 0:s.height)>this._taskAreaContainer.getHeight()?"both":"horizontal";m.option("direction",_)}}updateGanttViewType(s){this._onViewTypeChanged({type:s})}getTreeListTableStyle(){return this.callExportHelperMethod("getTreeListTableStyle")}getTreeListColCount(){return this.callExportHelperMethod("getTreeListColCount")}getTreeListHeaderInfo(s){return this.callExportHelperMethod("getTreeListHeaderInfo",s)}getTreeListCellInfo(s,m,_){return this.callExportHelperMethod("getTreeListCellInfo",_,m)}getTreeListEmptyDataCellInfo(){return this.callExportHelperMethod("getTreeListEmptyDataCellInfo")}callExportHelperMethod(s){const m=this.option("exportHelper");for(var _=arguments.length,D=new Array(_>1?_-1:0),E=1;E<_;E++)D[E-1]=arguments[E];return m[s](...D)}applyTasksExpandedState(s){var m;(m=this._ganttViewCore)===null||m===void 0||m.applyTasksExpandedState(s)}getVisualStateToRestore(){var s,m;return{[bi]:(s=this._ganttViewCore)===null||s===void 0||(m=s.isInFullScreenMode)===null||m===void 0?void 0:m.call(s)}}}class Di{constructor(){this._waitingForGanttViewReady=!1,this._waitingForTreeListReady=!1,this._completionActions=[]}onGanttViewReady(){this._stopWaitForGanttViewReady(),this.executeActionsIfPossible()}onTreeListReady(){this._stopWaitForTreeListReady(),this.executeActionsIfPossible()}addCompletionAction(s,m,_){s&&(m&&this._startWaitForGanttViewReady(),_&&this._startWaitForTreeListReady(),this._completionActions.push(s))}executeActionsIfPossible(){this._canExecuteActions()&&(this._completionActions.forEach((s=>s())),this._completionActions=[])}_startWaitForGanttViewReady(){this._waitingForGanttViewReady=!0}_stopWaitForGanttViewReady(){this._waitingForGanttViewReady=!1}_startWaitForTreeListReady(){this._waitingForTreeListReady=!0}_stopWaitForTreeListReady(){this._waitingForTreeListReady=!1}_canExecuteActions(){return!(this._waitingForGanttViewReady||this._waitingForTreeListReady)}}const rt=He(),Si="dx-gantt-treelist-wrapper",Ci="dx-gantt-toolbar-wrapper",Ii="dx-gantt-main-wrapper";class ft extends Le{_init(){super._init(),dt.logHeaderFilterDeprecatedWarningIfNeed(this),this._initGantt(),this._isGanttRendered=!1,this._initHelpers()}_initGantt(){this._refreshDataSources()}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-gantt"),this._$toolbarWrapper=Y("<div>").addClass(Ci).appendTo(this.$element()),this._$toolbar=Y("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=Y("<div>").addClass(Ii).appendTo(this.$element()),this._$treeListWrapper=Y("<div>").addClass(Si).appendTo(this._$mainWrapper),this._$treeList=Y("<div>").appendTo(this._$treeListWrapper),this._$splitter=Y("<div>").appendTo(this._$mainWrapper),this._$ganttView=Y("<div>").addClass("dx-gantt-view").appendTo(this._$mainWrapper),this._$dialog=Y("<div>").appendTo(this.$element()),this._$loadPanel=Y("<div>").appendTo(this.$element()),this._$contextMenu=Y("<div>").appendTo(this.$element())}_clean(){var s,m;this._savedGanttViewState=(s=this._ganttView)===null||s===void 0?void 0:s.getVisualStateToRestore(),(m=this._ganttView)===null||m===void 0||m._ganttViewCore.cleanMarkup(),delete this._ganttView,delete this._dialogInstance,delete this._loadPanel,delete this._exportHelper,super._clean()}_refresh(){this._isGanttRendered=!1,this._contentReadyRaised=!1,super._refresh()}_fireContentReadyAction(){this._contentReadyRaised||super._fireContentReadyAction(),this._contentReadyRaised=!0}_dimensionChanged(){var s;(s=this._ganttView)===null||s===void 0||s._onDimensionChanged()}_visibilityChanged(s){s&&this._refreshGantt()}_refreshGantt(){this._refreshDataSources(),setTimeout((()=>this._refresh()))}_refreshDataSources(){this._refreshDataSource("tasks"),this._refreshDataSource("dependencies"),this._refreshDataSource("resources"),this._refreshDataSource("resourceAssignments")}_renderContent(){this._isMainElementVisible=this.$element().is(":visible"),this._isMainElementVisible&&!this._isGanttRendered&&(this._isGanttRendered=!0,this._renderBars(),this._renderTreeList(),this._renderSplitter())}_renderTreeList(){this._ganttTreeList=new mi(this),this._treeList=this._ganttTreeList.getTreeList(),this._ganttTreeList.onAfterTreeListCreate()}_renderSplitter(){this._splitter=this._createComponent(this._$splitter,$n,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:s=>{this._sizeHelper.onApplyPanelSize(s)}}),this._splitter.option("initialLeftPanelWidth",this.option("taskListWidth"))}_renderBars(){this._bars=[],this._toolbar=new di(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new pi(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}_initHelpers(){this._mappingHelper=new ai(this),this._customFieldsManager=new qn(this),this._actionsManager=new Zn(this),this._ganttTemplatesManager=new ui(this),this._sizeHelper=new li(this),this._dataProcessingHelper=new Di}_initGanttView(){var s;this._ganttView||(this._ganttView=this._createComponent(this._$ganttView,wi,{width:"100%",height:this._ganttTreeList.getOffsetHeight(),rowHeight:this._ganttTreeList.getRowHeight(),headerHeight:this._ganttTreeList.getHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:this.option("allowSelection"),selectedRowKey:this.option("selectedRowKey"),showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),taskTitlePosition:this.option("taskTitlePosition"),firstDayOfWeek:this.option("firstDayOfWeek"),showRowLines:this.option("showRowLines"),scaleType:this.option("scaleType"),scaleTypeRange:this.option("scaleTypeRange"),editing:this.option("editing"),validation:this.option("validation"),stripLines:(s=this.option("stripLines"))===null||s===void 0?void 0:s.map((m=>Re({},m))),bars:this._bars,mainElement:this.$element(),onSelectionChanged:m=>{this._ganttTreeList.selectRows(re.getArrayFromOneElement(m.id))},onViewTypeChanged:m=>{this._onViewTypeChanged(m.type)},onScroll:m=>{this._ganttTreeList.scrollBy(m.scrollTop)},onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onPopupMenuHiding:this._hidePopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:Gn.create(this),exportHelper:this._getExportHelper(),taskTooltipContentTemplate:this._ganttTemplatesManager.getTaskTooltipContentTemplateFunc(this.option("taskTooltipContentTemplate")),taskProgressTooltipContentTemplate:this._ganttTemplatesManager.getTaskProgressTooltipContentTemplateFunc(this.option("taskProgressTooltipContentTemplate")),taskTimeTooltipContentTemplate:this._ganttTemplatesManager.getTaskTimeTooltipContentTemplateFunc(this.option("taskTimeTooltipContentTemplate")),taskContentTemplate:this._ganttTemplatesManager.getTaskContentTemplateFunc(this.option("taskContentTemplate")),onTaskClick:m=>{this._ganttTreeList.onRowClick(m)},onTaskDblClick:m=>{this._ganttTreeList.onRowDblClick(m)},onAdjustControl:()=>{this._sizeHelper.onAdjustControl()},onContentReady:this._onGanttViewContentReady.bind(this),visualState:this._savedGanttViewState}),delete this._savedGanttViewState)}_onGanttViewContentReady(s){this._isParentAutoUpdateMode()||this._fireContentReadyAction()}_isParentAutoUpdateMode(){return this.option("validation.autoUpdateParentTasks")}_onTreeListContentReady(s){this._isParentAutoUpdateMode()&&this._treeListParentRecalculatedDataUpdating&&this._fireContentReadyAction(),delete this._treeListParentRecalculatedDataUpdating,this._dataProcessingHelper.onTreeListReady()}_onViewTypeChanged(s){this.option("scaleType",this._actionsManager._getScaleType(s))}_refreshDataSource(s){let m=this[`_${s}Option`];m&&(m.dispose(),delete this[`_${s}Option`],delete this[`_${s}`]),m=new pt(s,this._getLoadPanel.bind(this),((_,D)=>{this._dataSourceChanged(_,D)})),m.option("dataSource",this._getSpecificDataSourceOption(s)),m._refreshDataSource(),this[`_${s}Option`]=m}_getSpecificDataSourceOption(s){const m=this.option(`${s}.dataSource`);return!m||Array.isArray(m)?{store:{type:"array",data:m??[],key:this.option(`${s}.keyExpr`)}}:m}_dataSourceChanged(s,m){const _=re.compileGettersByOption(this.option(s)),D=this._validateSourceData(s,m),E=D.map(re.prepareMapHandler(_));if(this[`_${s}`]=E,this._setGanttViewOption(s,E),s==="tasks"){var w,d,l;this._tasksRaw=D;const u=!((w=this._ganttTreeList)!==null&&w!==void 0&&w.getDataSource())&&!this._ganttView;(d=this._ganttTreeList)===null||d===void 0||d.saveExpandedKeys(),(l=this._ganttTreeList)===null||l===void 0||l.updateDataSource(D,u)}}_validateSourceData(s,m){return m&&s==="tasks"?this._validateTaskData(m):m}_validateTaskData(s){const m=he(this.option("tasks.keyExpr")),_=he(this.option("tasks.parentIdExpr")),D=this.option("rootValue")??"dx_dxt_gantt_default_root_value",E={};for(let d=0;d<s.length;d++){const l=s[d];if(l){const u=m(l),h=u===D,p=E[u]??(E[u]={key:u,children:[]});if(!h){const o=_(l)??D,t=E[o]??(E[o]={key:o,children:[]});t.children.push(p),p.parent=t}}}const w=[D];return this._appendChildKeys(E[D],w),s.filter((d=>w.indexOf(m(d))>-1))}_appendChildKeys(s,m){const _=s==null?void 0:s.children;for(let D=0;D<(_==null?void 0:_.length);D++){const E=_[D];m.push(E.key),this._appendChildKeys(E,m)}}_onRecordInserted(s,m,_){const D=this[`_${s}Option`];if(D){const E=re.getStoreObject(this.option(s),m),w=s==="tasks";w&&this._customFieldsManager.addCustomFieldsDataFromCache("gantt_new_task_key",E),D.insert(E,(d=>{const u=he(this.option(`${s}.keyExpr`))(d);_(u),this._executeFuncSetters(s,m,u),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseInsertedAction(s,E,u)}),!0,w),this._ganttTreeList.saveExpandedKeys(),D._reloadDataSource().done((h=>{w&&this._ganttTreeList.onTaskInserted(u,m.parentId)}))}))}}_onRecordUpdated(s,m,_){const D=this[`_${s}Option`],E=s==="tasks";if(D){const w=this._mappingHelper.convertCoreToMappedData(s,_);E&&this._customFieldsManager.cache.hasData(m)&&this._customFieldsManager.addCustomFieldsDataFromCache(m,w),D.update(m,w,(()=>{this._executeFuncSetters(s,_,m),this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseUpdatedAction(s,w,m)}),!0,E),D._reloadDataSource()}))}}_onRecordRemoved(s,m,_){const D=this[`_${s}Option`];D&&D.remove(m,(()=>{this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseDeletedAction(s,m,this._mappingHelper.convertCoreToMappedData(s,_))}),!0,s==="tasks"),D._reloadDataSource()}))}_onParentTaskUpdated(s){const m=this.getTaskDataByCoreData(s);this._actionsManager.raiseUpdatedAction("tasks",m,s.id)}_onParentTasksRecalculated(s){if(!this.isSieving){const m=re.compileSettersByOption(this.option("tasks")),_=this._customFieldsManager.appendCustomFields(s.map(re.prepareSetterMapHandler(m)));setTimeout((()=>{var D;this._treeListParentRecalculatedDataUpdating=!0,(D=this._ganttTreeList)===null||D===void 0||D.setDataSource(_)}))}this.isSieving=!1}_onGanttViewCoreUpdated(){this._dataProcessingHelper.onGanttViewReady()}_executeFuncSetters(s,m,_){const D=re.compileFuncSettersByOption(this.option(s)),E=Object.keys(D).filter((w=>ne(m[w])));if(E.length>0){const w=this._getDataSourceItem(s,_);E.forEach((d=>{const l=D[d];l(w,m[d])}))}}_sortAndFilter(){var s,m,_;const D=this._treeList,E=D.getColumns(),w=E.filter((t=>t.sortIndex>-1)),d=w.map((t=>({sortIndex:t.sortIndex,sortOrder:t.sortOrder}))),l=!this._compareSortedState((s=this._savedSortFilterState)===null||s===void 0?void 0:s.sort,d),u=D.option("filterValue"),h=D.option("expandNodesOnFiltering")&&u!==((m=this._savedSortFilterState)===null||m===void 0?void 0:m.filter),p=w[0]||E.filter((t=>{var n;return ne(t.filterValue)||((n=t.filterValues)===null||n===void 0?void 0:n.length)}))[0],o=((_=this._savedSortFilterState)===null||_===void 0?void 0:_.sieveColumn)&&!p;if(p||o){const t=p&&{sievedItems:this._ganttTreeList.getSievedItems(),sieveColumn:p,expandTasks:h||u&&l};this.isSieving=!o,this._setGanttViewOption("sieve",t)}this._savedSortFilterState={sort:d,filter:u,sieveColumn:p}}_compareSortedState(s,m){return!s||!m||s.length!==m.length?!1:s.every(((_,D)=>_.sortIndex===m[D].sortIndex&&_.sortOrder===m[D].sortOrder))}_getToolbarItems(){const s=this.option("toolbar.items");return s||[]}_updateToolbarContent(){const s=this._getToolbarItems();s.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),this._toolbar&&this._toolbar.createItems(s),this._updateBarItemsState()}_updateContextMenu(){const s=this.option("contextMenu");s.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(s.items),this._updateBarItemsState())}_updateBarItemsState(){this._ganttView&&this._ganttView.updateBarItemsState()}_showDialog(s){this._dialogInstance||(this._dialogInstance=new Jn(this,this._$dialog)),this._dialogInstance.show(s.name,s.parameters,s.callback,s.afterClosing,this.option("editing"))}_showPopupMenu(s){if(this.option("contextMenu.enabled")){this._ganttView.getBarManager().updateContextMenu();const m={cancel:!1,event:s.event,targetType:s.type,targetKey:s.key,items:se(!0,[],this._contextMenuBar._items),data:s.type==="task"?this.getTaskData(s.key):this.getDependencyData(s.key)};this._actionsManager.raiseContextMenuPreparing(m),m.cancel||this._contextMenuBar.show(s.position,m.items)}}_hidePopupMenu(){this._contextMenuBar.hide()}_getLoadPanel(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,Fn,{position:{of:this.$element()}})),this._loadPanel}_getTaskKeyGetter(){return this._getDataSourceItemKeyGetter("tasks")}_findTaskByKey(s){return this._getDataSourceItem("tasks",s)}_getDataSourceItem(s,m){const _=this[`_${s}Option`],D=this._getDataSourceItemKeyGetter(s);return(_==null?void 0:_._getItems()).find((w=>D(w)===m))}_getDataSourceItemKeyGetter(s){return he(this.option(`${s}.keyExpr`))}_setGanttViewOption(s,m){this._ganttView&&this._ganttView.option(s,m)}_getGanttViewOption(s,m){var _;return(_=this._ganttView)===null||_===void 0?void 0:_.option(s)}_getExportHelper(){return this._exportHelper??(this._exportHelper=new si(this)),this._exportHelper}_executeCoreCommand(s){this._ganttView.executeCoreCommand(s)}_expandAll(){this._changeExpandAll(!0)}_collapseAll(){this._changeExpandAll(!1)}_onTreeListRowExpandChanged(s,m){this._lockRowExpandEvent||(this._ganttView.changeTaskExpanded(s.key,m),this._sizeHelper.adjustHeight())}_changeExpandAll(s,m,_){var D;const E=[],w=[];if(this._treeList.forEachNode((u=>{var h;(h=u.children)!==null&&h!==void 0&&h.length&&E.push(u)})),_){const u=this._treeList.getNodeByKey(_);re.getAllParentNodesKeys(u,w)}let d;this._lockRowExpandEvent=E.length>0;const l=E.reduce(((u,h,p)=>{_?s=w.includes(h.key):m&&(s=h.level<m),u[h.key]=s;const o=s?this._treeList.expandRow:this._treeList.collapseRow;return p===E.length-1?d=o(h.key):o(h.key),u}),{});(D=d)===null||D===void 0||D.then((()=>{this._ganttView.applyTasksExpandedState(l),this._sizeHelper.adjustHeight(),delete this._lockRowExpandEvent}))}getTaskResources(s){return ne(s)?this._ganttView._ganttViewCore.getTaskResources(s).map((_=>this._mappingHelper.convertCoreToMappedData("resources",_))):null}getVisibleTaskKeys(){return this._ganttView._ganttViewCore.getVisibleTaskKeys()}getVisibleDependencyKeys(){return this._ganttView._ganttViewCore.getVisibleDependencyKeys()}getVisibleResourceKeys(){return this._ganttView._ganttViewCore.getVisibleResourceKeys()}getVisibleResourceAssignmentKeys(){return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()}getTaskData(s){if(!ne(s))return null;const m=this._ganttView._ganttViewCore.getTaskData(s);return this.getTaskDataByCoreData(m)}getTaskDataByCoreData(s){const m=s?this._mappingHelper.convertCoreToMappedData("tasks",s):null;return this._customFieldsManager.addCustomFieldsData(s.id,m),m}insertTask(s){this._customFieldsManager.saveCustomFieldsDataToCache("gantt_new_task_key",s),this._ganttView._ganttViewCore.insertTask(this._mappingHelper.convertMappedToCoreData("tasks",s))}deleteTask(s){this._ganttView._ganttViewCore.deleteTask(s)}updateTask(s,m){const _=this._mappingHelper.convertMappedToCoreData("tasks",m),D=!Object.keys(_).length;if(this._customFieldsManager.saveCustomFieldsDataToCache(s,m,!0,D),D){const E=this._customFieldsManager._getCustomFieldsData(m);Object.keys(E).length>0&&this._actionsManager.raiseUpdatingAction("tasks",{cancel:!1,key:s,newValues:{}})}else this._ganttView._ganttViewCore.updateTask(s,_)}getDependencyData(s){if(!ne(s))return null;const m=this._ganttView._ganttViewCore.getDependencyData(s);return m?this._mappingHelper.convertCoreToMappedData("dependencies",m):null}insertDependency(s){this._ganttView._ganttViewCore.insertDependency(this._mappingHelper.convertMappedToCoreData("dependencies",s))}deleteDependency(s){this._ganttView._ganttViewCore.deleteDependency(s)}getResourceData(s){const m=this._ganttView._ganttViewCore.getResourceData(s);return m?this._mappingHelper.convertCoreToMappedData("resources",m):null}deleteResource(s){this._ganttView._ganttViewCore.deleteResource(s)}insertResource(s,m){this._ganttView._ganttViewCore.insertResource(this._mappingHelper.convertMappedToCoreData("resources",s),m)}getResourceAssignmentData(s){const m=this._ganttView._ganttViewCore.getResourceAssignmentData(s);return m?this._mappingHelper.convertCoreToMappedData("resourceAssignments",m):null}assignResourceToTask(s,m){this._ganttView._ganttViewCore.assignResourceToTask(s,m)}unassignResourceFromTask(s,m){this._ganttView._ganttViewCore.unassignResourceFromTask(s,m)}unassignAllResourcesFromTask(s){this._ganttView._ganttViewCore.unassignAllResourcesFromTask(s)}updateDimensions(){this._sizeHelper.onAdjustControl()}scrollToDate(s){this._ganttView._ganttViewCore.scrollToDate(s)}showResourceManagerDialog(){this._ganttView._ganttViewCore.showResourcesDialog()}showTaskDetailsDialog(s){this._ganttView._ganttViewCore.showTaskDetailsDialog(s)}exportToPdf(s){return this._exportToPdf(s)}_exportToPdf(s){var m;this._exportHelper.reset();const _=se({},s);return _.createDocumentMethod&&(_.docCreateMethod=_.createDocumentMethod),_.pdfDocument??(_.pdfDocument=_.jsPDFDocument),_.docCreateMethod??(_.docCreateMethod=((m=rt.jspdf)===null||m===void 0?void 0:m.jsPDF)??rt.jsPDF),_.format??(_.format="a4"),new Promise((D=>{var E;const w=(E=this._ganttView)===null||E===void 0?void 0:E._ganttViewCore.exportToPdf(_);D(w)}))}refresh(){return new Promise(((s,m)=>{try{this._refreshGantt(),s()}catch(_){m(_.message)}}))}expandAll(){this._expandAll()}collapseAll(){this._collapseAll()}expandAllToLevel(s){this._changeExpandAll(!1,s)}expandToTask(s){var m;const _=this._treeList.getNodeByKey(s);this._changeExpandAll(!1,0,_==null||(m=_.parent)===null||m===void 0?void 0:m.key)}collapseTask(s){this._treeList.collapseRow(s)}expandTask(s){this._treeList.expandRow(s)}showResources(s){this.option("showResources",s)}showDependencies(s){this.option("showDependencies",s)}zoomIn(){this._ganttView._ganttViewCore.zoomIn()}zoomOut(){this._ganttView._ganttViewCore.zoomOut()}_getDefaultOptions(){return se(super._getDefaultOptions(),re.getDefaultOptions())}_optionChanged(s){var m,_,D,E,w,d,l,u,h,p,o,t,n,e,i,r,a,c,y,g,f,T,v,k,b,C,P,H,x,I,L,F,K,O,V,j,N,W,$,z,A,S;switch(s.name){case"tasks":this._refreshDataSource("tasks");break;case"dependencies":this._refreshDataSource("dependencies");break;case"resources":this._refreshDataSource("resources");break;case"resourceAssignments":this._refreshDataSource("resourceAssignments");break;case"columns":(m=this._ganttTreeList)===null||m===void 0||m.setOption("columns",this._ganttTreeList.getColumns());break;case"taskListWidth":(_=this._sizeHelper)===null||_===void 0||_.setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",s.value);break;case"showDependencies":this._setGanttViewOption("showDependencies",s.value);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",s.value);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",s.value);break;case"startDateRange":this._setGanttViewOption("startDateRange",s.value);break;case"endDateRange":this._setGanttViewOption("endDateRange",s.value);break;case"selectedRowKey":(D=this._ganttTreeList)===null||D===void 0||D.selectRows(re.getArrayFromOneElement(s.value));break;case"onSelectionChanged":(E=this._actionsManager)===null||E===void 0||E.createSelectionChangedAction();break;case"onTaskClick":(w=this._actionsManager)===null||w===void 0||w.createTaskClickAction();break;case"onTaskDblClick":(d=this._actionsManager)===null||d===void 0||d.createTaskDblClickAction();break;case"onTaskInserting":(l=this._actionsManager)===null||l===void 0||l.createTaskInsertingAction();break;case"onTaskInserted":(u=this._actionsManager)===null||u===void 0||u.createTaskInsertedAction();break;case"onTaskDeleting":(h=this._actionsManager)===null||h===void 0||h.createTaskDeletingAction();break;case"onTaskDeleted":(p=this._actionsManager)===null||p===void 0||p.createTaskDeletedAction();break;case"onTaskUpdating":(o=this._actionsManager)===null||o===void 0||o.createTaskUpdatingAction();break;case"onTaskUpdated":(t=this._actionsManager)===null||t===void 0||t.createTaskUpdatedAction();break;case"onTaskMoving":(n=this._actionsManager)===null||n===void 0||n.createTaskMovingAction();break;case"onTaskEditDialogShowing":(e=this._actionsManager)===null||e===void 0||e.createTaskEditDialogShowingAction();break;case"onResourceManagerDialogShowing":(i=this._actionsManager)===null||i===void 0||i.createResourceManagerDialogShowingAction();break;case"onDependencyInserting":(r=this._actionsManager)===null||r===void 0||r.createDependencyInsertingAction();break;case"onDependencyInserted":(a=this._actionsManager)===null||a===void 0||a.createDependencyInsertedAction();break;case"onDependencyDeleting":(c=this._actionsManager)===null||c===void 0||c.createDependencyDeletingAction();break;case"onDependencyDeleted":(y=this._actionsManager)===null||y===void 0||y.createDependencyDeletedAction();break;case"onResourceInserting":(g=this._actionsManager)===null||g===void 0||g.createResourceInsertingAction();break;case"onResourceInserted":(f=this._actionsManager)===null||f===void 0||f.createResourceInsertedAction();break;case"onResourceDeleting":(T=this._actionsManager)===null||T===void 0||T.createResourceDeletingAction();break;case"onResourceDeleted":(v=this._actionsManager)===null||v===void 0||v.createResourceDeletedAction();break;case"onResourceAssigning":(k=this._actionsManager)===null||k===void 0||k.createResourceAssigningAction();break;case"onResourceAssigned":(b=this._actionsManager)===null||b===void 0||b.createResourceAssignedAction();break;case"onResourceUnassigning":(C=this._actionsManager)===null||C===void 0||C.createResourceUnassigningAction();break;case"onResourceUnassigned":(P=this._actionsManager)===null||P===void 0||P.createResourceUnassignedAction();break;case"onCustomCommand":(H=this._actionsManager)===null||H===void 0||H.createCustomCommandAction();break;case"onContextMenuPreparing":(x=this._actionsManager)===null||x===void 0||x.createContextMenuPreparingAction();break;case"onScaleCellPrepared":(I=this._actionsManager)===null||I===void 0||I.createScaleCellPreparedAction();break;case"allowSelection":(L=this._ganttTreeList)===null||L===void 0||L.setOption("selection.mode",re.getSelectionMode(s.value)),this._setGanttViewOption("allowSelection",s.value);break;case"showRowLines":(F=this._ganttTreeList)===null||F===void 0||F.setOption("showRowLines",s.value),this._setGanttViewOption("showRowLines",s.value);break;case"stripLines":this._setGanttViewOption(s.fullName,s.value);break;case"scaleType":this._setGanttViewOption("scaleType",s.value);break;case"scaleTypeRange":this._setGanttViewOption("scaleTypeRange",this.option(s.name));break;case"editing":this._setGanttViewOption("editing",this.option(s.name));break;case"validation":this._setGanttViewOption("validation",this.option(s.name));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",(K=this._ganttTemplatesManager)===null||K===void 0?void 0:K.getTaskTooltipContentTemplateFunc(s.value));break;case"taskProgressTooltipContentTemplate":this._setGanttViewOption("taskProgressTooltipContentTemplate",(O=this._ganttTemplatesManager)===null||O===void 0?void 0:O.getTaskProgressTooltipContentTemplateFunc(s.value));break;case"taskTimeTooltipContentTemplate":this._setGanttViewOption("taskTimeTooltipContentTemplate",(V=this._ganttTemplatesManager)===null||V===void 0?void 0:V.getTaskTimeTooltipContentTemplateFunc(s.value));break;case"taskContentTemplate":this._setGanttViewOption("taskContentTemplate",(j=this._ganttTemplatesManager)===null||j===void 0?void 0:j.getTaskContentTemplateFunc(s.value));break;case"rootValue":(N=this._ganttTreeList)===null||N===void 0||N.setOption("rootValue",s.value);break;case"width":super._optionChanged(s),(W=this._sizeHelper)===null||W===void 0||W.updateGanttWidth();break;case"height":super._optionChanged(s),($=this._sizeHelper)===null||$===void 0||$.setGanttHeight(ge(this._$element));break;case"sorting":(z=this._ganttTreeList)===null||z===void 0||z.setOption("sorting",this.option(s.name));break;case"filterRow":(A=this._ganttTreeList)===null||A===void 0||A.setOption("filterRow",this.option(s.name));break;case"headerFilter":(S=this._ganttTreeList)===null||S===void 0||S.setOption("headerFilter",this.option(s.name));break;default:super._optionChanged(s)}}}Ve("dxGantt",ft);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const mt={props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:Object,endDateRange:Date,filterRow:Object,firstDayOfWeek:Number,focusStateEnabled:Boolean,headerFilter:Object,height:[Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleted:Function,onDependencyDeleting:Function,onDependencyInserted:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigned:Function,onResourceAssigning:Function,onResourceDeleted:Function,onResourceDeleting:Function,onResourceInserted:Function,onResourceInserting:Function,onResourceManagerDialogShowing:Function,onResourceUnassigned:Function,onResourceUnassigning:Function,onScaleCellPrepared:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleted:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserted:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdated:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,scaleTypeRange:Object,selectedRowKey:{},showDependencies:Boolean,showResources:Boolean,showRowLines:Boolean,sorting:Object,startDateRange:Date,stripLines:Array,tabIndex:Number,taskContentTemplate:{},taskListWidth:Number,taskProgressTooltipContentTemplate:{},tasks:Object,taskTimeTooltipContentTemplate:{},taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:endDateRange":null,"update:filterRow":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:headerFilter":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleted":null,"update:onDependencyDeleting":null,"update:onDependencyInserted":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigned":null,"update:onResourceAssigning":null,"update:onResourceDeleted":null,"update:onResourceDeleting":null,"update:onResourceInserted":null,"update:onResourceInserting":null,"update:onResourceManagerDialogShowing":null,"update:onResourceUnassigned":null,"update:onResourceUnassigning":null,"update:onScaleCellPrepared":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleted":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserted":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdated":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:scaleTypeRange":null,"update:selectedRowKey":null,"update:showDependencies":null,"update:showResources":null,"update:showRowLines":null,"update:sorting":null,"update:startDateRange":null,"update:stripLines":null,"update:tabIndex":null,"update:taskContentTemplate":null,"update:taskListWidth":null,"update:taskProgressTooltipContentTemplate":null,"update:tasks":null,"update:taskTimeTooltipContentTemplate":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=ft,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},ganttHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},scaleTypeRange:{isCollectionItem:!1,optionName:"scaleTypeRange"},sorting:{isCollectionItem:!1,optionName:"sorting"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}};sn(mt);const Ei=J(mt),yt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowFiltering":null,"update:allowHeaderFiltering":null,"update:allowSorting":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:format":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:minWidth":null,"update:selectedFilterOperation":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowFiltering:Boolean,allowHeaderFiltering:Boolean,allowSorting:Boolean,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},cssClass:String,customizeText:Function,dataField:String,dataType:String,encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,format:[Object,String,Function],headerCellTemplate:{},headerFilter:Object,minWidth:Number,selectedFilterOperation:String,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,visible:Boolean,visibleIndex:Number,width:[Number,String]}};te(yt);const ye=J(yt);ye.$_optionName="columns";ye.$_isCollectionItem=!0;ye.$_expectedChildren={columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},format:{isCollectionItem:!1,optionName:"format"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"}};const Tt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,width:[Number,String]}};te(Tt);const vt=J(Tt);vt.$_optionName="headerFilter";vt.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"}};const _t={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};te(_t);const Pi=J(_t);Pi.$_optionName="search";const kt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}};te(kt);const bt=J(kt);bt.$_optionName="contextMenu";bt.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const wt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};te(wt);const Be=J(wt);Be.$_optionName="items";Be.$_isCollectionItem=!0;Be.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Dt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};te(Dt);const St=J(Dt);St.$_optionName="items";St.$_isCollectionItem=!0;const Ct={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}};te(Ct);const It=J(Ct);It.$_optionName="dependencies";const Et={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}};te(Et);const Pt=J(Et);Pt.$_optionName="editing";const Mt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}};te(Mt);const At=J(Mt);At.$_optionName="filterRow";At.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};const xt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};te(xt);const Mi=J(xt);Mi.$_optionName="format";const Ot={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:Number,search:Object,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}};te(Ot);const Rt=J(Ot);Rt.$_optionName="headerFilter";Rt.$_expectedChildren={ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const Lt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};te(Lt);const Ai=J(Lt);Ai.$_optionName="search";const Ht={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};te(Ht);const Vt=J(Ht);Vt.$_optionName="headerFilter";Vt.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const Ft={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}};te(Ft);const ae=J(Ft);ae.$_optionName="items";ae.$_isCollectionItem=!0;ae.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Bt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};te(Bt);const xi=J(Bt);xi.$_optionName="operationDescriptions";const Nt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}};te(Nt);const jt=J(Nt);jt.$_optionName="resourceAssignments";const Wt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],keyExpr:[Function,String],textExpr:[Function,String]}};te(Wt);const Ut=J(Wt);Ut.$_optionName="resources";const Kt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:max":null,"update:min":null},props:{max:String,min:String}};te(Kt);const Oi=J(Kt);Oi.$_optionName="scaleTypeRange";const Gt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};te(Gt);const Ri=J(Gt);Ri.$_optionName="search";const zt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}};te(zt);const Li=J(zt);Li.$_optionName="sorting";const $t={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:[Date,Function,Number,String],start:[Date,Function,Number,String],title:String}};te($t);const Zt=J($t);Zt.$_optionName="stripLines";Zt.$_isCollectionItem=!0;const Yt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}};te(Yt);const qt=J(Yt);qt.$_optionName="tasks";const Xt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};te(Xt);const Hi=J(Xt);Hi.$_optionName="texts";const Qt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}};te(Qt);const Ne=J(Qt);Ne.$_optionName="toolbar";Ne.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};const Jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}};te(Jt);const en=J(Jt);en.$_optionName="items";en.$_isCollectionItem=!0;const tn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:enablePredecessorGap":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,enablePredecessorGap:Boolean,validateDependencies:Boolean}};te(tn);const Vi=J(tn);Vi.$_optionName="validation";const we=[{id:1,parentId:-1,title:"Software Development",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:31},{id:2,parentId:1,title:"Scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:60},{id:3,parentId:2,title:"Determine project scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-21T09:00:00.000Z"),progress:100},{id:4,parentId:2,title:"Secure project sponsorship",start:new Date("2019-02-21T10:00:00.000Z"),end:new Date("2019-02-22T09:00:00.000Z"),progress:100},{id:5,parentId:2,title:"Define preliminary resources",start:new Date("2019-02-22T10:00:00.000Z"),end:new Date("2019-02-25T09:00:00.000Z"),progress:60},{id:6,parentId:2,title:"Secure core resources",start:new Date("2019-02-25T10:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:7,parentId:2,title:"Scope complete",start:new Date("2019-02-26T09:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:8,parentId:1,title:"Analysis/Software Requirements",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:80},{id:9,parentId:8,title:"Conduct needs analysis",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-05T09:00:00.000Z"),progress:100},{id:10,parentId:8,title:"Draft preliminary software specifications",start:new Date("2019-03-05T10:00:00.000Z"),end:new Date("2019-03-08T09:00:00.000Z"),progress:100},{id:11,parentId:8,title:"Develop preliminary budget",start:new Date("2019-03-08T10:00:00.000Z"),end:new Date("2019-03-12T09:00:00.000Z"),progress:100},{id:12,parentId:8,title:"Review software specifications/budget with team",start:new Date("2019-03-12T10:00:00.000Z"),end:new Date("2019-03-12T14:00:00.000Z"),progress:100},{id:13,parentId:8,title:"Incorporate feedback on software specifications",start:new Date("2019-03-13T05:00:00.000Z"),end:new Date("2019-03-13T14:00:00.000Z"),progress:70},{id:14,parentId:8,title:"Develop delivery timeline",start:new Date("2019-03-14T05:00:00.000Z"),end:new Date("2019-03-14T14:00:00.000Z"),progress:0},{id:15,parentId:8,title:"Obtain approvals to proceed (concept, timeline, budget)",start:new Date("2019-03-15T05:00:00.000Z"),end:new Date("2019-03-15T09:00:00.000Z"),progress:0},{id:16,parentId:8,title:"Secure required resources",start:new Date("2019-03-15T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:17,parentId:8,title:"Analysis complete",start:new Date("2019-03-18T09:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:18,parentId:1,title:"Design",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:80},{id:19,parentId:18,title:"Review preliminary software specifications",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:20,parentId:18,title:"Develop functional specifications",start:new Date("2019-03-20T10:00:00.000Z"),end:new Date("2019-03-27T09:00:00.000Z"),progress:100},{id:21,parentId:18,title:"Develop prototype based on functional specifications",start:new Date("2019-03-27T10:00:00.000Z"),end:new Date("2019-04-02T09:00:00.000Z"),progress:100},{id:22,parentId:18,title:"Review functional specifications",start:new Date("2019-04-02T10:00:00.000Z"),end:new Date("2019-04-04T09:00:00.000Z"),progress:30},{id:23,parentId:18,title:"Incorporate feedback into functional specifications",start:new Date("2019-04-04T10:00:00.000Z"),end:new Date("2019-04-05T09:00:00.000Z"),progress:0},{id:24,parentId:18,title:"Obtain approval to proceed",start:new Date("2019-04-05T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:25,parentId:18,title:"Design complete",start:new Date("2019-04-05T14:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:26,parentId:1,title:"Development",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:42},{id:27,parentId:26,title:"Review functional specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:100},{id:28,parentId:26,title:"Identify modular/tiered design parameters",start:new Date("2019-04-09T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:29,parentId:26,title:"Assign development staff",start:new Date("2019-04-10T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:30,parentId:26,title:"Develop code",start:new Date("2019-04-11T05:00:00.000Z"),end:new Date("2019-05-01T14:00:00.000Z"),progress:49},{id:31,parentId:26,title:"Developer testing (primary debugging)",start:new Date("2019-04-16T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:24},{id:32,parentId:26,title:"Development complete",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:0},{id:33,parentId:1,title:"Testing",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:23},{id:34,parentId:33,title:"Develop unit test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:35,parentId:33,title:"Develop integration test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:36,parentId:33,title:"Unit Testing",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:37,parentId:36,title:"Review modular code",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-14T12:00:00.000Z"),progress:0},{id:38,parentId:36,title:"Test component modules to product specifications",start:new Date("2019-05-14T12:00:00.000Z"),end:new Date("2019-05-16T12:00:00.000Z"),progress:0},{id:39,parentId:36,title:"Identify anomalies to product specifications",start:new Date("2019-05-16T12:00:00.000Z"),end:new Date("2019-05-21T12:00:00.000Z"),progress:0},{id:40,parentId:36,title:"Modify code",start:new Date("2019-05-21T12:00:00.000Z"),end:new Date("2019-05-24T12:00:00.000Z"),progress:0},{id:41,parentId:36,title:"Re-test modified code",start:new Date("2019-05-24T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:42,parentId:36,title:"Unit testing complete",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:43,parentId:33,title:"Integration Testing",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:44,parentId:43,title:"Test module integration",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-04T12:00:00.000Z"),progress:0},{id:45,parentId:43,title:"Identify anomalies to specifications",start:new Date("2019-06-04T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:46,parentId:43,title:"Modify code",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-11T12:00:00.000Z"),progress:0},{id:47,parentId:43,title:"Re-test modified code",start:new Date("2019-06-11T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:48,parentId:43,title:"Integration testing complete",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:49,parentId:1,title:"Training",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:25},{id:50,parentId:49,title:"Develop training specifications for end users",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:51,parentId:49,title:"Develop training specifications for helpdesk support staff",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:52,parentId:49,title:"Identify training delivery methodology (computer based training, classroom, etc.)",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:53,parentId:49,title:"Develop training materials",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:54,parentId:49,title:"Conduct training usability study",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-03T12:00:00.000Z"),progress:0},{id:55,parentId:49,title:"Finalize training materials",start:new Date("2019-06-03T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:56,parentId:49,title:"Develop training delivery mechanism",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:57,parentId:49,title:"Training materials complete",start:new Date("2019-06-10T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:58,parentId:1,title:"Documentation",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:59,parentId:58,title:"Develop Help specification",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:80},{id:60,parentId:58,title:"Develop Help system",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:61,parentId:58,title:"Review Help documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-16T09:00:00.000Z"),progress:0},{id:62,parentId:58,title:"Incorporate Help documentation feedback",start:new Date("2019-05-16T10:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:63,parentId:58,title:"Develop user manuals specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:65},{id:64,parentId:58,title:"Develop user manuals",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:65,parentId:58,title:"Review all user documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-15T09:00:00.000Z"),progress:0},{id:66,parentId:58,title:"Incorporate user documentation feedback",start:new Date("2019-05-15T10:00:00.000Z"),end:new Date("2019-05-17T09:00:00.000Z"),progress:0},{id:67,parentId:58,title:"Documentation complete",start:new Date("2019-05-20T09:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:68,parentId:1,title:"Pilot",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:22},{id:69,parentId:68,title:"Identify test group",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-19T09:00:00.000Z"),progress:100},{id:70,parentId:68,title:"Develop software delivery mechanism",start:new Date("2019-03-19T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:71,parentId:68,title:"Install/deploy software",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-14T12:00:00.000Z"),progress:0},{id:72,parentId:68,title:"Obtain user feedback",start:new Date("2019-06-14T12:00:00.000Z"),end:new Date("2019-06-21T12:00:00.000Z"),progress:0},{id:73,parentId:68,title:"Evaluate testing information",start:new Date("2019-06-21T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:74,parentId:68,title:"Pilot complete",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:75,parentId:1,title:"Deployment",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:76,parentId:75,title:"Determine final deployment strategy",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-25T12:00:00.000Z"),progress:0},{id:77,parentId:75,title:"Develop deployment methodology",start:new Date("2019-06-25T12:00:00.000Z"),end:new Date("2019-06-26T12:00:00.000Z"),progress:0},{id:78,parentId:75,title:"Secure deployment resources",start:new Date("2019-06-26T12:00:00.000Z"),end:new Date("2019-06-27T12:00:00.000Z"),progress:0},{id:79,parentId:75,title:"Train support staff",start:new Date("2019-06-27T12:00:00.000Z"),end:new Date("2019-06-28T12:00:00.000Z"),progress:0},{id:80,parentId:75,title:"Deploy software",start:new Date("2019-06-28T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:81,parentId:75,title:"Deployment complete",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:82,parentId:1,title:"Post Implementation Review",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:83,parentId:82,title:"Document lessons learned",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-02T12:00:00.000Z"),progress:0},{id:84,parentId:82,title:"Distribute to team members",start:new Date("2019-07-02T12:00:00.000Z"),end:new Date("2019-07-03T12:00:00.000Z"),progress:0},{id:85,parentId:82,title:"Create software maintenance team",start:new Date("2019-07-03T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:86,parentId:82,title:"Post implementation review complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:87,parentId:1,title:"Software development template complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0}],ot=["A0","A1","A2","A3","A4","Auto"],st=["All","Chart","TreeList"],at=["All","Visible","Custom"],Fi={class:"options"},Bi={class:"column"},Ni={class:"option"},ji={class:"value"},Wi={class:"option"},Ui={class:"value"},Ki={class:"option"},Gi={class:"value"},zi={class:"option"},$i={class:"value"},Zi={class:"column"},Yi={class:"option"},qi={class:"value"},Xi={class:"option"},Qi={class:"value"},Ji={class:"option"},er={class:"value"},tr={class:"option"},nr={class:"value"},ir=J({__name:"test",setup(B){const s=ce(),m={hint:"Export to PDF",icon:"exportpdf",stylingMode:"text",onClick:()=>{}},_=ce(ot[0]),D=ce(st[0]),E=ce(at[1]),w=ce(!0),d=ce(0),l=ce(3),u=ce(we[0].start),h=ce(we[0].end),p=ce(!0);function o(e){p.value=e.value!=="Custom"}function t(e){d.value=e.value}function n(e){l.value=e.value}return(e,i)=>{const r=fn("DxValidation");return mn(),hn(gn,null,[X(q(Ei),{ref_key:"ganttRef",ref:s,"task-list-width":500,height:700,"scale-type":"weeks","root-value":-1},{default:Ze(()=>[X(q(qt),{"data-source":q(we)},null,8,["data-source"]),X(q(It),{"data-source":e.dependencies},null,8,["data-source"]),X(q(Ut),{"data-source":e.resources},null,8,["data-source"]),X(q(jt),{"data-source":e.resourceAssignments},null,8,["data-source"]),X(q(Ne),null,{default:Ze(()=>[X(q(ae),{name:"undo"}),X(q(ae),{name:"redo"}),X(q(ae),{name:"separator"}),X(q(ae),{name:"collapseAll"}),X(q(ae),{name:"expandAll"}),X(q(ae),{name:"separator"}),X(q(ae),{name:"addTask"}),X(q(ae),{name:"deleteTask"}),X(q(ae),{name:"separator"}),X(q(ae),{name:"zoomIn"}),X(q(ae),{name:"zoomOut"}),X(q(ae),{options:m,widget:"dxButton"})]),_:1}),X(q(Pt),{enabled:!0}),X(r,{"auto-update-parent-tasks":!0}),X(q(ye),{width:300,"data-field":"title",caption:"Subject"}),X(q(ye),{"data-field":"start",caption:"Start Date"}),X(q(ye),{"data-field":"end",caption:"End Date"})]),_:1},512),Q("div",Fi,[Q("div",Bi,[i[11]||(i[11]=Q("div",{class:"caption"},"Export Options",-1)),Q("div",Ni,[i[7]||(i[7]=Q("div",{class:"label"},"Document format:",-1)),Q("div",ji,[X(q(Pe),{items:q(ot),"input-attr":{"aria-label":"Format"},value:_.value,"onUpdate:value":i[0]||(i[0]=a=>_.value=a)},null,8,["items","value"])])]),Q("div",Wi,[i[8]||(i[8]=Q("div",{class:"label"},"Landscape orientation:",-1)),Q("div",Ui,[X(q(rn),{value:w.value,"onUpdate:value":i[1]||(i[1]=a=>w.value=a)},null,8,["value"])])]),Q("div",Ki,[i[9]||(i[9]=Q("div",{class:"label"},"Export mode:",-1)),Q("div",Gi,[X(q(Pe),{items:q(st),"input-attr":{"aria-label":"Export Mode"},value:D.value,"onUpdate:value":i[2]||(i[2]=a=>D.value=a)},null,8,["items","value"])])]),Q("div",zi,[i[10]||(i[10]=Q("div",{class:"label"},"Date range:",-1)),Q("div",$i,[X(q(Pe),{items:q(at),value:E.value,"onUpdate:value":i[3]||(i[3]=a=>E.value=a),"input-attr":{"aria-label":"Date Range"},onValueChanged:i[4]||(i[4]=a=>o(a))},null,8,["items","value"])])])]),Q("div",Zi,[i[16]||(i[16]=Q("div",{class:"caption"},"Task Filter Options",-1)),Q("div",Yi,[i[12]||(i[12]=Q("div",{class:"label"},"Start task (index):",-1)),Q("div",qi,[X(q(et),{disabled:p.value,value:d.value,min:0,max:l.value,"show-spin-buttons":!0,"input-attr":{"aria-label":"Start Task Index"},onValueChanged:t},null,8,["disabled","value","max"])])]),Q("div",Xi,[i[13]||(i[13]=Q("div",{class:"label"},"End task (index):",-1)),Q("div",Qi,[X(q(et),{disabled:p.value,value:l.value,min:d.value,max:q(we).length-1,"show-spin-buttons":!0,"input-attr":{"aria-label":"End Task Index"},onValueChanged:n},null,8,["disabled","value","min","max"])])]),Q("div",Ji,[i[14]||(i[14]=Q("div",{class:"label"},"Start date:",-1)),Q("div",er,[X(q(Ue),{disabled:p.value,"input-attr":{"aria-label":"Start Date"},value:u.value,"onUpdate:value":i[5]||(i[5]=a=>u.value=a),max:h.value,type:"date","apply-value-mode":"useButtons"},null,8,["disabled","value","max"])])]),Q("div",tr,[i[15]||(i[15]=Q("div",{class:"label"},"End date:",-1)),Q("div",nr,[X(q(Ue),{disabled:p.value,"input-attr":{"aria-label":"End Date"},value:h.value,"onUpdate:value":i[6]||(i[6]=a=>h.value=a),min:u.value,type:"date","apply-value-mode":"useButtons"},null,8,["disabled","value","min"])])])])])],64)}}}),vr=yn(ir,[["__scopeId","data-v-1ffad7d6"]]);export{vr as default};
