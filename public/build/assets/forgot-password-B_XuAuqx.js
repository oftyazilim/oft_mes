import{_ as B}from"./AppTextField.vue_vue_type_script_setup_true_lang-z48zcl-8.js";import{d as I,r as i,a as R,c as S,o as c,b as a,f as t,e as l,l as e,n as z,t as V,p as _,g as b,m as v,aF as g,aM as E,aE as N,T as L,y as j,F as D}from"./main-Y9vXpBPp.js";import{u as k}from"./useGenerateImageVariant-CEDhcbrA.js";import{r as G,e as P}from"./validators-BwBNGiur.js";import{a as $,b as A}from"./auth-v2-forgot-password-illustration-light-SXBFhqP4.js";import{a as U,b as q}from"./misc-mask-light-Ha4lQOdV.js";import{$ as O}from"./api-B9zDbuXo.js";import{V as n}from"./VCol-Bks44qnf.js";import{V as H}from"./VImg-2pXD3bLn.js";import{V as J}from"./VCard-C4M2rmT7.js";import{V as y}from"./VCardText-CY9IBD3p.js";import{V as x}from"./VAlert-BH5qw3Ve.js";import{V as K}from"./VForm-BMbRzFxw.js";import{V as w}from"./VRow-74Bfxgne.js";import"./form-BUdbggK5.js";import"./VTextField-DiCG24y8.js";/* empty css                   */import"./VCounter-CPYSJtO9.js";import"./index-E6KehaoV.js";import"./VField-szUziUfl.js";import"./easing-Bybner-F.js";import"./VInput-umeE7YOE.js";import"./forwardRefs-C-GTDzx5.js";import"./helpers-BGv4x_9E.js";import"./index-BqBWkxQx.js";import"./index-CvOPxmL5.js";/* empty css              */import"./createSimpleFunctional-BSlKXRzL.js";import"./VAvatar-gKkoKbWw.js";const Q={class:"auth-logo d-flex align-center gap-x-3"},W={class:"auth-title"},X={class:"position-relative bg-background w-100 me-0"},Y={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"150px"}},Z=["src"],Ia=I({__name:"forgot-password",setup(aa){const m=i(""),u=i(!1),d=i(null),r=i(null),h=i(),F=k(A,$),C=k(q,U),M=async()=>{var s;d.value=null,r.value=null;const f=await((s=h.value)==null?void 0:s.validate());if(f!=null&&f.valid)try{u.value=!0,await O("/auth/forgot-password",{method:"POST",body:{email:m.value},onResponseError({response:o}){var p;r.value=((p=o==null?void 0:o._data)==null?void 0:p.message)||"İşlem sırasında bir hata oluştu."}}),d.value="Şifre sıfırlama bağlantısı e-posta adresinize gönderildi."}catch(o){r.value=(o==null?void 0:o.message)||"İşlem sırasında bir hata oluştu."}finally{u.value=!1}};return(f,s)=>{const o=R("RouterLink"),p=B;return c(),S(D,null,[a(o,{to:"/"},{default:t(()=>[l("div",Q,[a(e(z),{nodes:e(V).app.logo},null,8,["nodes"]),l("h1",W,_(e(V).app.title),1)])]),_:1}),a(w,{class:"auth-wrapper bg-surface","no-gutters":""},{default:t(()=>[a(n,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[l("div",X,[l("div",Y,[a(H,{"max-width":"468",src:e(F),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),l("img",{class:"auth-footer-mask",src:e(C),alt:"auth-footer-mask",height:"280",width:"100"},null,8,Z)])]),_:1}),a(n,{cols:"12",md:"4",class:"d-flex align-center justify-center"},{default:t(()=>[a(J,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[a(y,null,{default:t(()=>s[1]||(s[1]=[l("h4",{class:"text-h4 mb-1"}," Şifremi Unuttum? 🔒 ",-1),l("p",{class:"mb-0"}," E-postanızı girin, şifrenizi sıfırlamak için talimatları size gönderelim. ",-1)])),_:1,__:[1]}),a(y,null,{default:t(()=>[e(d)?(c(),b(x,{key:0,type:"success",variant:"tonal",class:"mb-4"},{default:t(()=>[g(_(e(d)),1)]),_:1})):v("",!0),e(r)?(c(),b(x,{key:1,type:"error",variant:"tonal",class:"mb-4"},{default:t(()=>[g(_(e(r)),1)]),_:1})):v("",!0),a(e(K),{ref_key:"refVForm",ref:h,onSubmit:E(M,["prevent"])},{default:t(()=>[a(w,null,{default:t(()=>[a(n,{cols:"12"},{default:t(()=>[a(p,{modelValue:e(m),"onUpdate:modelValue":s[0]||(s[0]=T=>N(m)?m.value=T:null),autofocus:"",label:"E-posta",type:"email",placeholder:"oft@oft.com",rules:[e(G),e(P)]},null,8,["modelValue","rules"])]),_:1}),a(n,{cols:"12"},{default:t(()=>[a(L,{block:"",type:"submit",loading:e(u),disabled:e(u)},{default:t(()=>s[2]||(s[2]=[g(" Şifre Sıfırlama Bağlantısını Gönder ")])),_:1,__:[2]},8,["loading","disabled"])]),_:1}),a(n,{cols:"12"},{default:t(()=>[a(o,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:t(()=>[a(j,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),s[3]||(s[3]=l("span",null,"Giriş sayfasına dön",-1))]),_:1,__:[3]})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Ia as default};
