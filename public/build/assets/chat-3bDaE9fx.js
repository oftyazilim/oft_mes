import{a as R,f as lt,b as it}from"./formatters-Bnv68_Nh.js";import{bi as nt,d as B,a as j,c as b,l as A,m as t,o as d,e as s,b as e,f as r,Z as v,x as S,g as V,v as _,ae as F,t as O,F as U,X as E,bj as rt,aU as k,J as X,i as P,K as Q,r as w,bk as ct,bc as dt,w as ut,aK as mt,bl as W,a_ as ht,aZ as Y}from"./main-BZVGF1gx.js";import{C as J}from"./vue3-perfect-scrollbar-h1HV3Ix2.js";import{u as pt}from"./useApi-CPapW1Xf.js";import{c as ft}from"./createUrl-CbUNILZL.js";import{$ as G}from"./api-GBDSO4mB.js";import{V as T}from"./VAvatar-DShrw3JM.js";import{V as D}from"./VImg-BuvdGuyr.js";import{V as z}from"./VBadge-rvF-g7OL.js";import{_ as vt}from"./AppTextField.vue_vue_type_script_setup_true_lang-DOzMkQWo.js";import{V as st}from"./VDivider-BtXzw3vH.js";import{_ as bt}from"./AppTextarea.vue_vue_type_script_setup_true_lang-CJDwM6ye.js";import{V as xt,a as gt}from"./VRadioGroup-573qvHiD.js";import{V as tt}from"./VSwitch-BQ4wg4dR.js";import{u as Ct,a as _t,V as yt}from"./VMain-7xl65RmC.js";import{V as q}from"./VNavigationDrawer-CPgc46_l.js";import{V as $t}from"./VSpacer-MyHIEaYH.js";import{V as Vt}from"./VForm-DRpkGlXH.js";import{V as kt}from"./VTextField-DwzLS7P7.js";import"./helpers-BGv4x_9E.js";import"./index-CvOPxmL5.js";import"./index-BYt3OMYV.js";import"./focus-CndLxQdZ.js";import"./VTextarea-C3MgH68p.js";/* empty css                   */import"./VCounter-B8Df_AN8.js";import"./VField-DTU90CBV.js";import"./easing-Bybner-F.js";import"./VInput-Bqq2gkDJ.js";import"./form-DJ4cwFcS.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-D5Ho7p4v.js";import"./ssrBoot-cafQVD3T.js";import"./delay-Dt6bMlQg.js";import"./scopeId-C6ODTAsY.js";/* empty css              */const L=()=>({resolveAvatarBadgeVariant:a=>a==="online"?"success":a==="busy"?"error":a==="away"?"warning":"secondary"}),M=nt("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(y){const{data:a,error:i}=await pt(ft("/apps/chat/chats-and-contacts",{query:{q:y}}));if(i.value)console.log(i.value);else{const{chatsContacts:u,contacts:l,profileUser:n}=a.value;this.chatsContacts=u,this.contacts=l,this.profileUser=n}},async getChat(y){const a=await G(`/apps/chat/chats/${y}`);this.activeChat=a},async sendMsg(y){var m,o,f,h,p;const a=(m=this.profileUser)==null?void 0:m.id,i=await G(`apps/chat/chats/${(o=this.activeChat)==null?void 0:o.contact.id}`,{method:"POST",body:{message:y,senderId:a}}),{msg:u,chat:l}=i;if(l!==void 0){const x=this.activeChat;this.chatsContacts.push({...x.contact,chat:{id:l.id,lastMessage:[],unseenMsgs:0,messages:[u]}}),this.activeChat&&(this.activeChat.chat={id:l.id,messages:[u],unseenMsgs:0,userId:(f=this.activeChat)==null?void 0:f.contact.id})}else(p=(h=this.activeChat)==null?void 0:h.chat)==null||p.messages.push(u);const n=this.chatsContacts.find(x=>this.activeChat?x.id===this.activeChat.contact.id:!1);n.chat.lastMessage=u}}}),wt={class:"text-center px-6"},Ut={key:1,class:"text-3xl"},It={class:"text-h5"},St={class:"text-capitalize text-body-1 mb-0"},At={class:"my-6"},Tt={class:"mt-1 mb-6"},zt={class:"mb-6"},Bt={class:"d-flex align-center text-high-emphasis pa-2"},Dt={class:"d-flex align-center text-high-emphasis pa-2"},Mt={class:"d-flex align-center text-high-emphasis pa-2"},Nt={class:"d-flex align-center text-high-emphasis pa-2"},Ot={class:"d-flex align-center text-high-emphasis pa-2"},Pt={class:"d-flex align-center text-high-emphasis pa-2"},Lt={class:"d-flex align-center text-high-emphasis pa-2"},Ft={class:"d-flex align-center text-high-emphasis pa-2"},Et=B({__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(y){const a=M(),{resolveAvatarBadgeVariant:i}=L();return(u,l)=>{const n=j("IconBtn");return t(a).activeChat?(d(),b(U,{key:0},[s("div",{class:S(["pt-6 px-6",u.$vuetify.locale.isRtl?"text-left":"text-right"])},[e(n,{onClick:l[0]||(l[0]=m=>u.$emit("close"))},{default:r(()=>[e(v,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})],2),s("div",wt,[e(z,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(i)(t(a).activeChat.contact.status),class:"chat-user-profile-badge mb-5"},{default:r(()=>[e(T,{size:"84",variant:t(a).activeChat.contact.avatar?void 0:"tonal",color:t(a).activeChat.contact.avatar?void 0:t(i)(t(a).activeChat.contact.status)},{default:r(()=>[t(a).activeChat.contact.avatar?(d(),V(D,{key:0,src:t(a).activeChat.contact.avatar},null,8,["src"])):(d(),b("span",Ut,_(("avatarText"in u?u.avatarText:t(R))(t(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",It,_(t(a).activeChat.contact.fullName),1),s("p",St,_(t(a).activeChat.contact.role),1)]),e(t(J),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:r(()=>[s("div",At,[l[1]||(l[1]=s("div",{class:"text-sm text-disabled"}," ABOUT ",-1)),s("p",Tt,_(t(a).activeChat.contact.about),1)]),s("div",zt,[l[5]||(l[5]=s("div",{class:"text-sm text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),s("div",Bt,[e(v,{class:"me-2",icon:"tabler-mail",size:"22"}),l[2]||(l[2]=s("div",{class:"text-base"}," lucifer@email.com ",-1))]),s("div",Dt,[e(v,{class:"me-2",icon:"tabler-phone",size:"22"}),l[3]||(l[3]=s("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1))]),s("div",Mt,[e(v,{class:"me-2",icon:"tabler-clock",size:"22"}),l[4]||(l[4]=s("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1))])]),s("div",null,[l[12]||(l[12]=s("div",{class:"text-sm text-disabled mb-1"}," OPTIONS ",-1)),s("div",Nt,[e(v,{class:"me-2",icon:"tabler-badge",size:"22"}),l[6]||(l[6]=s("div",{class:"text-base"}," Add Tag ",-1))]),s("div",Ot,[e(v,{class:"me-2",icon:"tabler-star",size:"22"}),l[7]||(l[7]=s("div",{class:"text-base"}," Important Contact ",-1))]),s("div",Pt,[e(v,{class:"me-2",icon:"tabler-photo",size:"22"}),l[8]||(l[8]=s("div",{class:"text-base"}," Shared Media ",-1))]),s("div",Lt,[e(v,{class:"me-2",icon:"tabler-trash",size:"22"}),l[9]||(l[9]=s("div",{class:"text-base"}," Delete Contact ",-1))]),s("div",Ft,[e(v,{icon:"tabler-ban",class:"me-2",size:"22"}),l[10]||(l[10]=s("div",{class:"text-base"}," Block Contact ",-1))]),e(F,{block:"",color:"error","append-icon":"tabler-trash",class:"mt-6"},{default:r(()=>l[11]||(l[11]=[O(" Delete Contact ")])),_:1,__:[11]})])]),_:1})],64)):A("",!0)}}}),Rt={key:1},jt={class:"flex-grow-1 ms-4 overflow-hidden"},Jt={class:"text-base text-high-emphasis mb-0"},qt={class:"mb-0 text-truncate text-body-2"},Kt={key:0,class:"d-flex flex-column align-self-start"},Zt={class:"text-body-2 text-disabled whitespace-no-wrap"},et=B({__name:"ChatContact",props:{isChatContact:{type:Boolean,default:!1},user:{}},setup(y){const a=y,i=M(),{resolveAvatarBadgeVariant:u}=L(),l=E(()=>{var m,o;const n=((m=i.activeChat)==null?void 0:m.contact.id)===a.user.id;return(a.isChatContact||!((o=i.activeChat)!=null&&o.chat))&&n});return(n,m)=>(d(),b("li",{key:t(i).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":t(l)}])},[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(u)(a.user.status),bordered:"","model-value":a.isChatContact},{default:r(()=>[e(T,{size:"40",variant:a.user.avatar?void 0:"tonal",color:a.user.avatar?void 0:t(u)(a.user.status)},{default:r(()=>[a.user.avatar?(d(),V(D,{key:0,src:a.user.avatar,alt:"John Doe"},null,8,["src"])):(d(),b("span",Rt,_(("avatarText"in n?n.avatarText:t(R))(n.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",jt,[s("p",Jt,_(a.user.fullName),1),s("p",qt,_(a.isChatContact&&"chat"in a.user?a.user.chat.lastMessage.message:a.user.about),1)]),a.isChatContact&&"chat"in a.user?(d(),b("div",Kt,[s("div",Zt,_(("formatDateToMonthShort"in n?n.formatDateToMonthShort:t(lt))(a.user.chat.lastMessage.time)),1),a.user.chat.unseenMsgs?(d(),V(z,{key:0,color:"error",inline:"",content:a.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):A("",!0)])):A("",!0)],2))}}),Ht={key:0,class:"chat-list-header"},Xt={class:"no-chat-items-text text-disabled"},Qt={class:"no-chat-items-text text-disabled"},Wt=B({__name:"ChatLeftSidebarContent",props:{search:{},isDrawerOpen:{type:Boolean}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(y,{emit:a}){const i=y,u=a,{resolveAvatarBadgeVariant:l}=L(),n=rt(i,"search",u),m=M();return(o,f)=>{const h=vt,p=j("IconBtn");return d(),b(U,null,[t(m).profileUser?(d(),b("div",Ht,[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:t(l)(t(m).profileUser.status),bordered:""},{default:r(()=>[e(T,{size:"40",class:"cursor-pointer",onClick:f[0]||(f[0]=x=>o.$emit("showUserProfile"))},{default:r(()=>[e(D,{src:t(m).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),e(h,{id:"search",modelValue:t(n),"onUpdate:modelValue":f[1]||(f[1]=x=>k(n)?n.value=x:null),placeholder:"Search...","prepend-inner-icon":"tabler-search",class:"ms-4 me-1 chat-list-search"},null,8,["modelValue"]),o.$vuetify.display.smAndDown?(d(),V(p,{key:0,onClick:f[2]||(f[2]=x=>o.$emit("close"))},{default:r(()=>[e(v,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})):A("",!0)])):A("",!0),e(st),e(t(J),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:r(()=>[f[3]||(f[3]=s("li",{class:"list-none"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1)),(d(!0),b(U,null,P(t(m).chatsContacts,x=>(d(),V(et,{key:`chat-${x.id}`,user:x,"is-chat-contact":"",onClick:I=>o.$emit("openChatOfContact",x.id)},null,8,["user","onClick"]))),128)),X(s("span",Xt,"No chats found",512),[[Q,!t(m).chatsContacts.length]]),f[4]||(f[4]=s("li",{class:"list-none pt-2"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1)),(d(!0),b(U,null,P(t(m).contacts,x=>(d(),V(et,{key:`chat-${x.id}`,user:x,onClick:I=>o.$emit("openChatOfContact",x.id)},null,8,["user","onClick"]))),128)),X(s("span",Qt,"No contacts found",512),[[Q,!t(m).contacts.length]])]),_:1,__:[3,4]})],64)}}}),Yt={class:"chat-log pa-6"},Gt={class:"mb-0 text-base"},te={class:"text-sm ms-2 text-disabled"},ee=B({__name:"ChatLog",setup(y){const a=M(),i=E(()=>{var n,m;return{id:(n=a.activeChat)==null?void 0:n.contact.id,avatar:(m=a.activeChat)==null?void 0:m.contact.avatar}}),u=n=>n.isSeen?{icon:"tabler-checks",color:"success"}:n.isDelivered?{icon:"tabler-checks",color:void 0}:{icon:"tabler-check",color:void 0},l=E(()=>{let n=[];const m=[];if(a.activeChat.chat){n=a.activeChat.chat.messages;let o=n[0].senderId,f={senderId:o,messages:[]};n.forEach((h,p)=>{o===h.senderId?f.messages.push({message:h.message,time:h.time,feedback:h.feedback}):(o=h.senderId,m.push(f),f={senderId:h.senderId,messages:[{message:h.message,time:h.time,feedback:h.feedback}]}),p===n.length-1&&m.push(f)})}return m});return(n,m)=>(d(),b("div",Yt,[(d(!0),b(U,null,P(t(l),(o,f)=>(d(),b("div",{key:o.senderId+String(f),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":o.senderId!==t(i).id,"mb-6":t(l).length-1!==f}]])},[s("div",{class:S(["chat-avatar",o.senderId!==t(i).id?"ms-4":"me-4"])},[e(T,{size:"32"},{default:r(()=>{var h;return[e(D,{src:o.senderId===t(i).id?t(i).avatar:(h=t(a).profileUser)==null?void 0:h.avatar},null,8,["src"])]}),_:2},1024)],2),s("div",{class:S(["chat-body d-inline-flex flex-column",o.senderId!==t(i).id?"align-end":"align-start"])},[(d(!0),b(U,null,P(o.messages,(h,p)=>(d(),b("div",{key:h.time,class:S(["chat-content py-2 px-4 elevation-2",[o.senderId===t(i).id?"chat-left":"bg-primary text-white chat-right",o.messages.length-1!==p?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[s("p",Gt,_(h.message),1)],2))),128)),s("div",{class:S({"text-right":o.senderId!==t(i).id})},[o.senderId!==t(i).id?(d(),V(v,{key:0,size:"16",color:u(o.messages[o.messages.length-1].feedback).color},{default:r(()=>[O(_(u(o.messages[o.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):A("",!0),s("span",te,_(("formatDate"in n?n.formatDate:t(it))(o.messages[o.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}}),se={class:"pt-2 me-2 text-end"},ae={class:"text-center px-6"},oe={key:1,class:"text-3xl"},le={class:"text-h5"},ie={class:"text-capitalize text-medium-emphasis mb-0"},ne={class:"my-6 text-medium-emphasis"},re={class:"mb-6"},ce={class:"text-medium-emphasis chat-settings-section"},de={class:"d-flex align-center pa-2"},ue={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},me={class:"d-flex align-center pa-2"},he={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},pe={class:"d-flex align-center pa-2"},fe={class:"d-flex align-center pa-2"},ve=B({__name:"ChatUserProfileSidebarContent",emits:["close"],setup(y){const a=M(),{resolveAvatarBadgeVariant:i}=L(),u=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],l=w(!0),n=w(!1);return(m,o)=>{const f=j("IconBtn"),h=bt;return t(a).profileUser?(d(),b(U,{key:0},[s("div",se,[e(f,{onClick:o[0]||(o[0]=p=>m.$emit("close"))},{default:r(()=>[e(v,{class:"text-medium-emphasis",color:"disabled",icon:"tabler-x"})]),_:1})]),s("div",ae,[e(z,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(i)(t(a).profileUser.status),class:"chat-user-profile-badge mb-3"},{default:r(()=>[e(T,{size:"84",variant:t(a).profileUser.avatar?void 0:"tonal",color:t(a).profileUser.avatar?void 0:t(i)(t(a).profileUser.status)},{default:r(()=>[t(a).profileUser.avatar?(d(),V(D,{key:0,src:t(a).profileUser.avatar},null,8,["src"])):(d(),b("span",oe,_(("avatarText"in m?m.avatarText:t(R))(t(a).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",le,_(t(a).profileUser.fullName),1),s("p",ie,_(t(a).profileUser.role),1)]),e(t(J),{class:"ps-chat-user-profile-sidebar-content pb-5 px-6",options:{wheelPropagation:!1}},{default:r(()=>[s("div",ne,[o[5]||(o[5]=s("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),e(h,{id:"textarea-user-about",modelValue:t(a).profileUser.about,"onUpdate:modelValue":o[1]||(o[1]=p=>t(a).profileUser.about=p),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",re,[o[6]||(o[6]=s("div",{class:"text-base text-disabled"}," STATUS ",-1)),e(xt,{modelValue:t(a).profileUser.status,"onUpdate:modelValue":o[2]||(o[2]=p=>t(a).profileUser.status=p),class:"mt-1"},{default:r(()=>[(d(),b(U,null,P(u,(p,x)=>e(gt,{id:`${x}`,key:p.title,name:p.title,label:p.title,value:p.value,color:p.color},null,8,["id","name","label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",ce,[o[11]||(o[11]=s("div",{class:"text-base text-disabled"}," SETTINGS ",-1)),s("div",de,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-lock",size:"22"}),s("div",ue,[o[7]||(o[7]=s("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),e(tt,{id:"two-step-verification",modelValue:t(l),"onUpdate:modelValue":o[3]||(o[3]=p=>k(l)?l.value=p:null),density:"compact"},null,8,["modelValue"])])]),s("div",me,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-bell",size:"22"}),s("div",he,[o[8]||(o[8]=s("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),e(tt,{id:"chat-notification",modelValue:t(n),"onUpdate:modelValue":o[4]||(o[4]=p=>k(n)?n.value=p:null),density:"compact"},null,8,["modelValue"])])]),s("div",pe,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-user-plus",size:"22"}),o[9]||(o[9]=s("div",{class:"text-body-1 text-high-emphasis"}," Invite Friends ",-1))]),s("div",fe,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-trash",size:"22"}),o[10]||(o[10]=s("div",{class:"text-body-1 text-high-emphasis"}," Delete Account ",-1))])]),e(F,{color:"primary",class:"mt-12",block:"","append-icon":"tabler-logout"},{default:r(()=>o[12]||(o[12]=[O(" Logout ")])),_:1,__:[12]})]),_:1})],64)):A("",!0)}}}),be={key:0,class:"d-flex flex-column h-100"},xe={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},ge={key:1},Ce={class:"flex-grow-1 ms-4 overflow-hidden"},_e={class:"text-h6 mb-0 font-weight-regular"},ye={class:"text-truncate mb-0 text-body-2"},$e={class:"d-sm-flex align-center d-none text-medium-emphasis"},Ve={class:"d-flex gap-1"},ke={class:"d-none d-md-block"},we={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Ue={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},ds=B({__name:"chat",setup(y){ct(C=>({"826f9150":t(ot)}));const a=dt(),i=M(),{isLeftSidebarOpen:u}=Ct(a.smAndDown),{resolveAvatarBadgeVariant:l}=L(),n=w(),m=()=>{const C=n.value.$el||n.value;C.scrollTop=C.scrollHeight},o=w("");ut(o,C=>i.fetchChatsAndContacts(C),{immediate:!0});const f=()=>{a.mdAndUp.value||(u.value=!0)},h=w(""),p=async()=>{h.value&&(await i.sendMsg(h.value),h.value="",Y(()=>{m()}))},x=async C=>{await i.getChat(C),h.value="";const c=i.chatsContacts.find($=>$.id===C);c&&(c.chat.unseenMsgs=0),a.smAndDown.value&&(u.value=!1),Y(()=>{m()})},I=w(!1),N=w(!1),K=w(),{name:at}=mt(),ot=E(()=>{var c,$;let C="transparent";return W&&(C=($=(c=W)==null?void 0:c[at.value].colors)==null?void 0:$.background),C});return(C,c)=>{const $=j("IconBtn");return d(),V(yt,{class:"chat-app-layout",style:{"z-index":"0"}},{default:r(()=>[e(q,{modelValue:t(I),"onUpdate:modelValue":c[1]||(c[1]=g=>k(I)?I.value=g:null),"data-allow-mismatch":"",temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:r(()=>[e(ve,{onClose:c[0]||(c[0]=g=>I.value=!1)})]),_:1},8,["modelValue"]),e(q,{modelValue:t(N),"onUpdate:modelValue":c[3]||(c[3]=g=>k(N)?N.value=g:null),"data-allow-mismatch":"",width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:r(()=>[e(Et,{onClose:c[2]||(c[2]=g=>N.value=!1)})]),_:1},8,["modelValue"]),e(q,{modelValue:t(u),"onUpdate:modelValue":c[8]||(c[8]=g=>k(u)?u.value=g:null),"data-allow-mismatch":"",absolute:"",touchless:"",location:"start",width:"370",temporary:C.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:C.$vuetify.display.mdAndUp},{default:r(()=>[e(Wt,{"is-drawer-open":t(u),"onUpdate:isDrawerOpen":c[4]||(c[4]=g=>k(u)?u.value=g:null),search:t(o),"onUpdate:search":c[5]||(c[5]=g=>k(o)?o.value=g:null),onOpenChatOfContact:x,onShowUserProfile:c[6]||(c[6]=g=>I.value=!0),onClose:c[7]||(c[7]=g=>u.value=!1)},null,8,["is-drawer-open","search"])]),_:1},8,["modelValue","temporary","permanent"]),e(_t,{class:"chat-content-container"},{default:r(()=>[t(i).activeChat?(d(),b("div",be,[s("div",xe,[e($,{class:"d-md-none me-3",onClick:c[9]||(c[9]=g=>u.value=!0)},{default:r(()=>[e(v,{icon:"tabler-menu-2"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:c[10]||(c[10]=g=>N.value=!0)},[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(l)(t(i).activeChat.contact.status),bordered:""},{default:r(()=>[e(T,{size:"40",variant:t(i).activeChat.contact.avatar?void 0:"tonal",color:t(i).activeChat.contact.avatar?void 0:t(l)(t(i).activeChat.contact.status),class:"cursor-pointer"},{default:r(()=>[t(i).activeChat.contact.avatar?(d(),V(D,{key:0,src:t(i).activeChat.contact.avatar,alt:t(i).activeChat.contact.fullName},null,8,["src","alt"])):(d(),b("span",ge,_(("avatarText"in C?C.avatarText:t(R))(t(i).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",Ce,[s("div",_e,_(t(i).activeChat.contact.fullName),1),s("p",ye,_(t(i).activeChat.contact.role),1)])]),e($t),s("div",$e,[e($,null,{default:r(()=>[e(v,{icon:"tabler-phone"})]),_:1}),e($,null,{default:r(()=>[e(v,{icon:"tabler-video"})]),_:1}),e($,null,{default:r(()=>[e(v,{icon:"tabler-search"})]),_:1}),e($,null,{default:r(()=>[e(v,{icon:"tabler-dots-vertical"})]),_:1})])]),e(st),e(t(J),{ref_key:"chatLogPS",ref:n,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:r(()=>[e(ee)]),_:1},512),e(Vt,{class:"chat-log-message-form mb-5 mx-5",onSubmit:ht(p,["prevent"])},{default:r(()=>{var g;return[(d(),V(kt,{key:(g=t(i).activeChat)==null?void 0:g.contact.id,modelValue:t(h),"onUpdate:modelValue":c[12]||(c[12]=Z=>k(h)?h.value=Z:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":r(()=>[s("div",Ve,[e($,null,{default:r(()=>[e(v,{icon:"tabler-microphone",size:"22"})]),_:1}),e($,{onClick:c[11]||(c[11]=Z=>{var H;return(H=t(K))==null?void 0:H.click()})},{default:r(()=>[e(v,{icon:"tabler-paperclip",size:"22"})]),_:1}),s("div",ke,[e(F,{"append-icon":"tabler-send",onClick:p},{default:r(()=>c[13]||(c[13]=[O(" Send ")])),_:1,__:[13]})]),e($,{class:"d-block d-md-none",onClick:p},{default:r(()=>[e(v,{icon:"tabler-send"})]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:K,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(d(),b("div",we,[e(T,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:r(()=>[e(v,{size:"50",class:"rounded-0",icon:"tabler-message-2"})]),_:1}),C.$vuetify.display.smAndDown?(d(),V(F,{key:0,rounded:"pill",onClick:f},{default:r(()=>c[14]||(c[14]=[O(" Start Conversation ")])),_:1,__:[14]})):(d(),b("p",Ue," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}});export{ds as default};
