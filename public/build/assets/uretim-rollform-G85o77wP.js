import{_ as ei}from"./AppTextarea.vue_vue_type_script_setup_true_lang-BeiXHcFw.js";import{_ as ti}from"./AppSelect.vue_vue_type_script_setup_true_lang-DlxTGcxf.js";import{dm as ni,es as ii,dg as oi,db as Kt,d as x,r as v,X as O,G as ai,aZ as Ve,f8 as li,w as Ie,af as si,b4 as ri,a$ as H,c as X,o as J,l as Ft,e as s,aI as ui,b as a,v as g,f as d,I as di,t as y,m as b,b8 as Fe,x as Ze,d3 as B,b0 as F,ae as T,Z as Re,F as $e,bb as Rt}from"./main-Cq-m7Uwl.js";import{u as ci}from"./pageTitle-MTIsd9IY.js";import{p as pi,a as w}from"./editor-C3Kc1vpS.js";import{a as mi}from"./overlay-BskR4kuU.js";import{B as fi,a as vi,b as hi,c as _i,d as gi,e as bi,f as yi}from"./base_range_container-6o5jI6cD.js";import{p as xi,s as jt,Y as wi,v as Ht,n as ki}from"./m_base_widget-BBDajflt.js";import{a as z,l as Ci,D as Si}from"./data-grid-D0CHny4c.js";import{D as Ni,a as Ii}from"./popup-DeBc-2Ks.js";import{n as V}from"./notify-CpUrrLNI.js";import{V as D}from"./VCol-B2ZQFejJ.js";import{V as ue,a as de,b as Qe}from"./VCard-CSNjTHN_.js";import{V as Z}from"./VRow-Dk54hNXi.js";import{V as Ti}from"./VSwitch-C0z8-dWM.js";import{V as et}from"./VCardText-DBWrmU7G.js";import{V as tt}from"./VTextField-Nv4SE187.js";import{V as nt}from"./VSpacer-BosPyeZX.js";import{V as it}from"./VDialog-pXooi2lL.js";import{_ as Di}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-BxMR3Ypo.js";import"./VTextarea-C3l5SZNx.js";/* empty css                   */import"./VCounter-dQV3HdaI.js";import"./VImg-BwaRttOv.js";import"./VField-DK2DCpGJ.js";import"./easing-Bybner-F.js";import"./VInput-o5pa5oFx.js";import"./form-Ay6DoqMj.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-BGe4n6fg.js";import"./VList-DjhlxlXT.js";import"./ssrBoot-B5oapGQo.js";import"./VAvatar-B8j6LDEu.js";import"./VDivider-asXPKL07.js";import"./dialog-transition-C_VClxE1.js";import"./VMenu-CgqLRpnv.js";import"./VOverlay-xrj95ygN.js";import"./delay-B13Dx95q.js";import"./lazy-BksRiJE2.js";import"./scopeId-D1QCHna2.js";import"./VCheckboxBtn-BND5NDov.js";import"./VSelectionControl-DHvzHAv-.js";import"./VChip-CGHB_-Y1.js";import"./VSlideGroup-B_VSrn5K.js";import"./m_row_dragging-by_G9zJJ.js";import"./m_select_box-Duvj5lsS.js";import"./themes-BW7cUHDi.js";/* empty css              */const ot={dispose:function(){this._centerTemplateGroup.linkOff().dispose()},members:{_renderCenterTemplate(){const t=this.option("centerTemplate"),i=this._centerTemplateGroup.clear();if(!t)return;i.attr({visibility:"hidden"});const o=this._getCenter();this._getTemplate(t).render({model:this,container:i.element,onRendered:()=>{const l=i,r=l.getBBox(),c=r.x+r.width/2,u=r.y+r.height/2;l.move(o.x-c,o.y-u),l.attr({visibility:"visible"})}})}},customize(t){t.addChange({code:"CENTER_TEMPLATE",handler:function(){this._renderCenterTemplate()},option:"centerTemplate"})}},Ei={name:"center_template_gauge",init:ni,dispose:ot.dispose,extenders:{_initCore(){this._createCenterTemplateGroup()},_renderContent(){const t=xi(this._themeManager._font);this._centerTemplateGroup.css(t),this._requestChange(["CENTER_TEMPLATE"])},_updateExtraElements(){this._requestChange(["CENTER_TEMPLATE"])}},members:{_renderCenterTemplate:ot.members._renderCenterTemplate,_createCenterTemplateGroup(){this._centerTemplateGroup=this._renderer.g().attr({class:"dxg-hole-template"}).linkOn(this._renderer.root,"center-template").linkAppend()}},customize:ot.customize},Ai={gauge:Ei},E=Number,De=jt,Gt=wi;function lt(t,i){return t&&t.radius-i<=0&&(t.radius=i+1),t}const qt=fi.inherit({_move:function(){const t=this._options,i=Gt(this._actualPosition);this._rootElement.rotate(i,t.x,t.y),this._trackerElement&&this._trackerElement.rotate(i,t.x,t.y)},_isEnabled:function(){return this._options.width>0},_isVisible:function(t){return t.radius-E(this._options.indentFromCenter)>0},_getTrackerSettings:function(){const t=this._options,i=this._getRadius(),o=this._getIndentFromCenter(),l=t.x,r=t.y-(i+o)/2;let c=t.width/2,u=(i-o)/2;return c>10||(c=10),u>10||(u=10),{points:[l-c,r-u,l-c,r+u,l+c,r+u,l+c,r-u]}},_render:function(){this._renderPointer()},_clearPointer:function(){delete this._element},_clear:function(){this._clearPointer()},_getIndentFromCenter:function(t){return Number(this._options.indentFromCenter)||0},_getRadius:function(){return 0},measure:function(t){const i={max:t.radius};return this._options.indentFromCenter<0&&(i.inverseHorizontalOffset=i.inverseVerticalOffset=-E(this._options.indentFromCenter)),i},getTooltipParameters:function(){const t=this._options,i=De(this._actualPosition),o=(this._getRadius()+this._getIndentFromCenter())/2;return{x:t.x+i.cos*o,y:t.y-i.sin*o,value:this._currentValue,color:t.color,offset:t.width/2}}}),st=qt.inherit({_isVisible:function(t){const i=this._adjustOffset(Number(this._options.indentFromCenter),t.radius),o=this._adjustOffset(Number(this._options.offset),t.radius);return t.radius-i-o>0},getOffset:function(){return 0},_adjustOffset:function(t,i){const o=Number(this._options.beginAdaptingAtRadius),l=i/o;return l<1&&(t=Math.floor(t*l)),t||0},_getIndentFromCenter:function(t){return this._adjustOffset(Number(this._options.indentFromCenter),this._options.radius)},_getRadius:function(){const t=this._options;return t.radius-this._adjustOffset(Number(t.offset),t.radius)},_renderSpindle:function(){const t=this,i=t._options,o=i.radius,l=2*this._adjustOffset(E(i.spindleSize)/2,o);let r=2*this._adjustOffset(E(i.spindleGapSize)/2,o)||0;r>0&&(r=r<=l?r:l),l>0&&(t._spindleOuter=t._spindleOuter||t._renderer.circle().append(t._rootElement),t._spindleInner=t._spindleInner||t._renderer.circle().append(t._rootElement),t._spindleOuter.attr({class:"dxg-spindle-border",cx:i.x,cy:i.y,r:l/2}),t._spindleInner.attr({class:"dxg-spindle-hole",cx:i.x,cy:i.y,r:r/2,fill:i.containerBackgroundColor}))},_render:function(){this.callBase(),this._renderSpindle()},_clear:function(){this.callBase(),delete this._spindleOuter,delete this._spindleInner}}),Ut=st.inherit({_renderPointer:function(){const t=this._options,i=t.y-this._getRadius(),o=t.y-this._getIndentFromCenter(),l=t.x-t.width/2,r=l+E(t.width);this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[l,o,l,i,r,i,r,o]})}}),Oi=st.inherit({_renderPointer:function(){const t=this._options,i=t.y-this._getRadius(),o=t.y-this._getIndentFromCenter(),l=t.x-t.width/2,r=t.x+t.width/2;this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[l,o,t.x,i,r,o]})}}),Mi=st.inherit({_renderPointer:function(){const t=this._options,i=t.x-t.width/2,o=t.x+t.width/2,l=t.y-this._getRadius(),r=t.y-this._getIndentFromCenter(),c=E(t.secondFraction)||0;let u,_;c>=1?u=_=r:c<=0?u=_=l:(_=l+(r-l)*c,u=_+E(t.space)),this._firstElement=this._firstElement||this._renderer.path([],"area").append(this._rootElement),this._spaceElement=this._spaceElement||this._renderer.path([],"area").append(this._rootElement),this._secondElement=this._secondElement||this._renderer.path([],"area").append(this._rootElement),this._firstElement.attr({points:[i,r,i,u,o,u,o,r]}),this._spaceElement.attr({points:[i,u,i,_,o,_,o,u],class:"dxg-hole",fill:t.containerBackgroundColor}),this._secondElement.attr({points:[i,_,i,l,o,l,o,_],class:"dxg-part",fill:t.secondColor})},_clearPointer:function(){delete this._firstElement,delete this._secondElement,delete this._spaceElement}}),zi=qt.inherit({_isEnabled:function(){return this._options.length>0&&this._options.width>0},_isVisible:t=>!0,resize(t){return this.callBase(lt(t,0))},_render:function(){const t=this._options,i=t.x,o=t.y-t.radius,l=t.width/2||0,r=o-E(t.length);this._element=this._element||this._renderer.path([],"area").append(this._rootElement);const c={points:[i,o,i-l,r,i+l,r],stroke:"none","stroke-width":0,"stroke-linecap":"square"};t.space>0&&(c["stroke-width"]=Math.min(t.space,t.width/4)||0,c.stroke=c["stroke-width"]>0&&t.containerBackgroundColor||"none"),this._element.attr(c).sharp()},_clear:function(){delete this._element},_getTrackerSettings:function(){const t=this._options,i=t.x,o=t.y-t.radius-t.length/2;let l=t.width/2,r=t.length/2;return l>10||(l=10),r>10||(r=10),{points:[i-l,o-r,i-l,o+r,i+l,o+r,i+l,o-r]}},measure:function(t){return{min:t.radius,max:t.radius+E(this._options.length)}},getTooltipParameters:function(){const t=this._options,i=De(this._actualPosition),o=t.radius+t.length/2,l=this.callBase();return l.x=t.x+i.cos*o,l.y=t.y-i.sin*o,l.offset=t.length/2,l}}),Vi=vi.inherit({_isEnabled:function(){return!0},_isVisible:t=>!0,resize(t){return this.callBase(lt(t,0))},_getTextCloudOptions:function(){const t=De(this._actualPosition),i=Ht(this._actualPosition);return{x:this._options.x+t.cos*this._options.radius,y:this._options.y-t.sin*this._options.radius,type:i>270?"left-top":i>180?"top-right":i>90?"right-bottom":"bottom-left"}},measure:function(t){const i=E(this._options.arrowLength)||0;this._measureText();const o=this._textFullHeight+i,l=this._textFullWidth+i;return{min:t.radius,max:t.radius,horizontalOffset:l,verticalOffset:o,inverseHorizontalOffset:l,inverseVerticalOffset:o}}}),Fi=hi.inherit({_isEnabled:function(){return this._options.size>0},_isVisible:t=>!0,resize(t){return this.callBase(lt(t,E(this._options.size)))},_createBarItem:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"}).append(this._rootElement)},_createTracker:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"})},_setBarSides:function(){this._maxSide=this._options.radius,this._minSide=this._maxSide-E(this._options.size)},_getSpace:function(){const t=this._options;return t.space>0?180*t.space/t.radius/Math.PI:0},_isTextVisible:function(){return(this._options.text||{}).indent>0},_setTextItemsSides:function(){const t=this._options,i=E(t.text.indent);this._lineFrom=t.y-t.radius,this._lineTo=this._lineFrom-i,this._textRadius=t.radius+i},_getPositions:function(){const t=this._basePosition,i=this._actualPosition;let o,l;return t>=i?(o=t,l=i):(o=i,l=t),{start:this._startPosition,end:this._endPosition,main1:o,main2:l,back1:Math.min(o+this._space,this._startPosition),back2:Math.max(l-this._space,this._endPosition)}},_buildItemSettings:function(t,i){return{x:this._options.x,y:this._options.y,innerRadius:this._minSide,outerRadius:this._maxSide,startAngle:i,endAngle:t}},_updateTextPosition:function(){const t=De(this._actualPosition);let i=this._options.x+this._textRadius*t.cos,o=this._options.y-this._textRadius*t.sin;i+=t.cos*this._textWidth*.6,o-=t.sin*this._textHeight*.6,this._text.attr({x:i,y:o+this._textVerticalOffset})},_updateLinePosition:function(){const t=this._options.x;let i,o;this._basePosition>this._actualPosition?(i=t-2,o=t):this._basePosition<this._actualPosition?(i=t,o=t+2):(i=t-1,o=t+1),this._line.attr({points:[i,this._lineFrom,i,this._lineTo,o,this._lineTo,o,this._lineFrom]}).rotate(Gt(this._actualPosition),t,this._options.y).sharp()},_getTooltipPosition:function(){const t=De((this._basePosition+this._actualPosition)/2),i=(this._minSide+this._maxSide)/2;return{x:this._options.x+t.cos*i,y:this._options.y-t.sin*i}},measure:function(t){const i=this,o={min:t.radius-E(i._options.size),max:t.radius};return i._measureText(),i._hasText&&(o.max+=E(i._options.text.indent),o.horizontalOffset=i._textWidth,o.verticalOffset=i._textHeight),o}}),ce=Number,$t=Math.max,Ri=_i.inherit({_processOptions:function(){const t=this;switch(t._inner=t._outer=0,ki(t._options.orientation)){case"inside":t._inner=1;break;case"center":t._inner=t._outer=.5;break;default:t._outer=1}},_isVisible:function(t){let i=this._options.width;return i=ce(i)||$t(ce(i.start),ce(i.end)),t.radius-this._inner*i>0},_createRange:function(t,i){const o=(t.startWidth+t.endWidth)/2;return this._renderer.arc(i.x,i.y,i.radius-this._inner*o,i.radius+this._outer*o,this._translator.translate(t.end),this._translator.translate(t.start)).attr({"stroke-linejoin":"round"})},measure:function(t){let i=this._options.width;return i=ce(i)||$t(ce(i.start),ce(i.end)),{min:t.radius-this._inner*i,max:t.radius+this._outer*i}}}),Pt=isFinite,Bt=Ht,Lt=jt,$i=Math.abs,L=Math.max,Te=Math.min,at=Math.round,Pi=oi,Bi=Math.PI;function Li(t,i){const o=Lt(t),l=Lt(i),r=o.cos,c=o.sin,u=l.cos,_=l.sin;return{left:c<=0&&_>=0||c<=0&&_<=0&&r<=u||c>=0&&_>=0&&r>=u?-1:Te(r,u,0),right:c>=0&&_<=0||c>=0&&_>=0&&r>=u||c<=0&&_<=0&&r<=u?1:L(r,u,0),up:r<=0&&u>=0||r<=0&&u<=0&&c>=_||r>=0&&u>=0&&c<=_?-1:-L(c,_,0),down:r>=0&&u<=0||r>=0&&u>=0&&c<=_||r<=0&&u<=0&&c>=_?1:-Te(c,_,0)}}const me=gi.inherit({_rootClass:"dxg-circular-gauge",_factoryMethods:{rangeContainer:"createCircularRangeContainer",indicator:"createCircularIndicator"},_gridSpacingFactor:17,_scaleTypes:{type:"polarAxes",drawingType:"circular"},_getThemeManagerOptions(){const t=this.callBase.apply(this,arguments);return t.subTheme="_circular",t},_updateScaleTickIndent:function(t){const i=t.label.indentFromTick,o=t.tick.visible?t.tick.length:0,l=this._scale.measureLabels(Kt({},this._canvas)),r=t.orientation,c=o;let u=i;if(i>=0)r==="outside"?u+=c:r==="center"&&(u+=c/2);else{const _=L(l.width,l.height);u-=_,r==="inside"?u-=c:r==="center"&&(u-=c/2)}t.label.indentFromAxis=u,this._scale.updateOptions(t)},_setupCodomain:function(){const t=this.option("geometry")||{};let i=t.startAngle,o=t.endAngle,l;i=Pt(i)?Bt(i):225,o=Pt(o)?Bt(o):-45,$i(i-o)<1?(o-=360,l={left:-1,up:-1,right:1,down:1}):(i<o&&(o-=360),l=Li(i,o)),this._area={x:0,y:0,radius:100,startCoord:i,endCoord:o,sides:l},this._translator.setCodomain(i,o)},_getCenter:function(){return this._getElementLayout()},_shiftScale:function(t){const i=this._scale,o=i.getCanvas();o.width=o.height=2*t.radius,i.draw(o);const l=i.getCenter();i.shift({right:t.x-l.x,bottom:t.y-l.y})},_getScaleLayoutValue:function(){return this._area.radius},_getTicksOrientation:function(t){return t.orientation},_getTicksCoefficients:function(t){const i={inner:0,outer:1};return t.orientation==="inside"?(i.inner=1,i.outer=0):t.orientation==="center"&&(i.inner=i.outer=.5),i},_correctScaleIndents:function(t,i,o){i>=0?(t.horizontalOffset=i+o.width,t.verticalOffset=i+o.height):(t.horizontalOffset=t.verticalOffset=0,t.min-=-i+L(o.width,o.height)),t.inverseHorizontalOffset=o.width/2,t.inverseVerticalOffset=o.height/2},_measureMainElements:function(t,i){const o=this._area.radius;let l=0,r=1/0,c=0,u=0,_=0,m=0;const G=this._scale;return Pi(t.concat(G),(function(fe,ie){const C=ie.measure?ie.measure({radius:o-ie.getOffset()}):i;C.min>0&&(r=Te(r,C.min)),C.max>0&&(l=L(l,C.max)),C.horizontalOffset>0&&(c=L(c,C.max+C.horizontalOffset)),C.verticalOffset>0&&(u=L(u,C.max+C.verticalOffset)),C.inverseHorizontalOffset>0&&(_=L(_,C.inverseHorizontalOffset)),C.inverseVerticalOffset>0&&(m=L(m,C.inverseVerticalOffset))})),c=L(c-l,0),u=L(u-l,0),{minRadius:r,maxRadius:l,horizontalMargin:c,verticalMargin:u,inverseHorizontalMargin:_,inverseVerticalMargin:m}},_applyMainLayout:function(t,i){const o=this._measureMainElements(t,i),l=this._area,r=l.sides,c={left:(r.left<-.1?o.horizontalMargin:o.inverseHorizontalMargin)||0,right:(r.right>.1?o.horizontalMargin:o.inverseHorizontalMargin)||0,top:(r.up<-.1?o.verticalMargin:o.inverseVerticalMargin)||0,bottom:(r.down>.1?o.verticalMargin:o.inverseVerticalMargin)||0},u=Ki(this._innerRect,(r.down-r.up)/(r.right-r.left),c);let _=Te(te(u)/(r.right-r.left),ne(u)/(r.down-r.up));_=_-o.maxRadius+l.radius;const m=u.left-te(u)*r.left/(r.right-r.left),G=u.top-ne(u)*r.up/(r.down-r.up);l.x=at(m),l.y=at(G),l.radius=_,u.left-=c.left,u.right+=c.right,u.top-=c.top,u.bottom+=c.bottom,this._innerRect=u},_getElementLayout:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{x:this._area.x,y:this._area.y,radius:at(this._area.radius-t)}},_getApproximateScreenRange:function(){const t=this._area;let i=Te(this._canvas.width/(t.sides.right-t.sides.left),this._canvas.height/(t.sides.down-t.sides.up));return i>t.totalRadius&&(i=t.totalRadius),i*=.8,-this._translator.getCodomainRange()*i*Bi/180},_getDefaultSize:function(){return{width:300,height:300}},_factory:ii(bi.prototype._factory)});function te(t){return t.right-t.left}function ne(t){return t.bottom-t.top}function Ki(t,i,o){const l=Kt({},t);let r,c=0,u=0;return o=o||{},i>0&&(l.left+=o.left||0,l.right-=o.right||0,l.top+=o.top||0,l.bottom-=o.bottom||0,te(l)>0&&ne(l)>0?(r=ne(l)/te(l),r>1?i<r?c=te(l):u=ne(l):i>r?u=ne(l):c=te(l),c>0||(c=u/i),u>0||(u=c*i),c=(te(l)-c)/2,u=(ne(l)-u)/2,l.left+=c,l.right-=c,l.top+=u,l.bottom-=u):(l.left=l.right=(l.left+l.right)/2,l.top=l.bottom=(l.top+l.bottom)/2)),l}const Q=me.prototype._factory.indicators={};me.prototype._factory.createIndicator=yi(Q);Q._default=Ut;Q.rectangleneedle=Ut;Q.triangleneedle=Oi;Q.twocolorneedle=Mi;Q.trianglemarker=zi;Q.textcloud=Vi;Q.rangebar=Fi;me.prototype._factory.RangeContainer=Ri;mi("dxCircularGauge",me);me.addPlugin(Ai.gauge);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const Wt={props:{animation:Object,centerTemplate:{},containerBackgroundColor:String,disabled:Boolean,elementAttr:Object,export:Object,geometry:Object,loadingIndicator:Object,margin:Object,onDisposing:Function,onDrawn:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onIncidentOccurred:Function,onInitialized:Function,onOptionChanged:Function,onTooltipHidden:Function,onTooltipShown:Function,pathModified:Boolean,rangeContainer:Object,redrawOnResize:Boolean,rtlEnabled:Boolean,scale:Object,size:Object,subvalueIndicator:Object,subvalues:Array,theme:String,title:[Object,String],tooltip:Object,value:Number,valueIndicator:Object},emits:{"update:isActive":null,"update:hoveredElement":null,"update:animation":null,"update:centerTemplate":null,"update:containerBackgroundColor":null,"update:disabled":null,"update:elementAttr":null,"update:export":null,"update:geometry":null,"update:loadingIndicator":null,"update:margin":null,"update:onDisposing":null,"update:onDrawn":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onIncidentOccurred":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onTooltipHidden":null,"update:onTooltipShown":null,"update:pathModified":null,"update:rangeContainer":null,"update:redrawOnResize":null,"update:rtlEnabled":null,"update:scale":null,"update:size":null,"update:subvalueIndicator":null,"update:subvalues":null,"update:theme":null,"update:title":null,"update:tooltip":null,"update:value":null,"update:valueIndicator":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=me,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},export:{isCollectionItem:!1,optionName:"export"},geometry:{isCollectionItem:!1,optionName:"geometry"},loadingIndicator:{isCollectionItem:!1,optionName:"loadingIndicator"},margin:{isCollectionItem:!1,optionName:"margin"},rangeContainer:{isCollectionItem:!1,optionName:"rangeContainer"},scale:{isCollectionItem:!1,optionName:"scale"},size:{isCollectionItem:!1,optionName:"size"},subvalueIndicator:{isCollectionItem:!1,optionName:"subvalueIndicator"},title:{isCollectionItem:!1,optionName:"title"},tooltip:{isCollectionItem:!1,optionName:"tooltip"},valueIndicator:{isCollectionItem:!1,optionName:"valueIndicator"}}}};pi(Wt);const ji=x(Wt),Yt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:duration":null,"update:easing":null,"update:enabled":null},props:{duration:Number,easing:String,enabled:Boolean}};w(Yt);const Hi=x(Yt);Hi.$_optionName="animation";const Xt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:base":null,"update:fillId":null},props:{base:String,fillId:String}};w(Xt);const Gi=x(Xt);Gi.$_optionName="backgroundColor";const Jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,dashStyle:String,opacity:Number,visible:Boolean,width:Number}};w(Jt);const qi=x(Jt);qi.$_optionName="border";const Zt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:base":null,"update:fillId":null},props:{base:String,fillId:String}};w(Zt);const Ui=x(Zt);Ui.$_optionName="color";const Qt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:fileName":null,"update:formats":null,"update:margin":null,"update:printingEnabled":null,"update:svgToCanvas":null},props:{backgroundColor:String,enabled:Boolean,fileName:String,formats:Array,margin:Number,printingEnabled:Boolean,svgToCanvas:Function}};w(Qt);const en=x(Qt);en.$_optionName="export";const tn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:family":null,"update:opacity":null,"update:size":null,"update:weight":null},props:{color:String,family:String,opacity:Number,size:[Number,String],weight:Number}};w(tn);const Wi=x(tn);Wi.$_optionName="font";const nn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};w(nn);const Yi=x(nn);Yi.$_optionName="format";const on={emits:{"update:isActive":null,"update:hoveredElement":null,"update:endAngle":null,"update:startAngle":null},props:{endAngle:Number,startAngle:Number}};w(on);const an=x(on);an.$_optionName="geometry";const ln={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:font":null,"update:format":null,"update:hideFirstOrLast":null,"update:indentFromTick":null,"update:overlappingBehavior":null,"update:useRangeColors":null,"update:visible":null},props:{customizeText:Function,font:Object,format:[Object,String,Function],hideFirstOrLast:String,indentFromTick:Number,overlappingBehavior:String,useRangeColors:Boolean,visible:Boolean}};w(ln);const rt=x(ln);rt.$_optionName="label";rt.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"}};const sn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:font":null,"update:show":null,"update:text":null},props:{backgroundColor:String,font:Object,show:Boolean,text:String}};w(sn);const rn=x(sn);rn.$_optionName="loadingIndicator";rn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};const un={emits:{"update:isActive":null,"update:hoveredElement":null,"update:bottom":null,"update:left":null,"update:right":null,"update:top":null},props:{bottom:Number,left:Number,right:Number,top:Number}};w(un);const Xi=x(un);Xi.$_optionName="margin";const dn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:length":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,length:Number,opacity:Number,visible:Boolean,width:Number}};w(dn);const cn=x(dn);cn.$_optionName="minorTick";const pn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:endValue":null,"update:startValue":null},props:{color:[Object,String],endValue:Number,startValue:Number}};w(pn);const pe=x(pn);pe.$_optionName="ranges";pe.$_isCollectionItem=!0;pe.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"}};const mn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:offset":null,"update:orientation":null,"update:palette":null,"update:paletteExtensionMode":null,"update:ranges":null,"update:width":null},props:{backgroundColor:[Object,String],offset:Number,orientation:String,palette:[Array,String],paletteExtensionMode:String,ranges:Array,width:Number}};w(mn);const ut=x(mn);ut.$_optionName="rangeContainer";ut.$_expectedChildren={backgroundColor:{isCollectionItem:!1,optionName:"backgroundColor"},range:{isCollectionItem:!0,optionName:"ranges"}};const fn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDecimals":null,"update:customMinorTicks":null,"update:customTicks":null,"update:endValue":null,"update:label":null,"update:minorTick":null,"update:minorTickInterval":null,"update:orientation":null,"update:scaleDivisionFactor":null,"update:startValue":null,"update:tick":null,"update:tickInterval":null},props:{allowDecimals:Boolean,customMinorTicks:Array,customTicks:Array,endValue:Number,label:Object,minorTick:Object,minorTickInterval:Number,orientation:String,scaleDivisionFactor:Number,startValue:Number,tick:Object,tickInterval:Number}};w(fn);const dt=x(fn);dt.$_optionName="scale";dt.$_expectedChildren={label:{isCollectionItem:!1,optionName:"label"},minorTick:{isCollectionItem:!1,optionName:"minorTick"},tick:{isCollectionItem:!1,optionName:"tick"}};const vn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:blur":null,"update:color":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null},props:{blur:Number,color:String,offsetX:Number,offsetY:Number,opacity:Number}};w(vn);const Ji=x(vn);Ji.$_optionName="shadow";const hn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:width":null},props:{height:Number,width:Number}};w(hn);const Zi=x(hn);Zi.$_optionName="size";const _n={emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}};w(_n);const gn=x(_n);gn.$_optionName="subtitle";gn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};const bn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:backgroundColor":null,"update:baseValue":null,"update:beginAdaptingAtRadius":null,"update:color":null,"update:horizontalOrientation":null,"update:indentFromCenter":null,"update:length":null,"update:offset":null,"update:palette":null,"update:secondColor":null,"update:secondFraction":null,"update:size":null,"update:spindleGapSize":null,"update:spindleSize":null,"update:text":null,"update:type":null,"update:verticalOrientation":null,"update:width":null},props:{arrowLength:Number,backgroundColor:String,baseValue:Number,beginAdaptingAtRadius:Number,color:[Object,String],horizontalOrientation:String,indentFromCenter:Number,length:Number,offset:Number,palette:[Array,String],secondColor:String,secondFraction:Number,size:Number,spindleGapSize:Number,spindleSize:Number,text:Object,type:String,verticalOrientation:String,width:Number}};w(bn);const yn=x(bn);yn.$_optionName="subvalueIndicator";yn.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"},text:{isCollectionItem:!1,optionName:"text"}};const xn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:font":null,"update:format":null,"update:indent":null},props:{customizeText:Function,font:Object,format:[Object,String,Function],indent:Number}};w(xn);const wn=x(xn);wn.$_optionName="text";wn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"}};const kn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:length":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,length:Number,opacity:Number,visible:Boolean,width:Number}};w(kn);const Cn=x(kn);Cn.$_optionName="tick";const Sn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:[Number,Object],placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}};w(Sn);const Nn=x(Sn);Nn.$_optionName="title";Nn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"}};const In={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:border":null,"update:color":null,"update:container":null,"update:contentTemplate":null,"update:cornerRadius":null,"update:customizeTooltip":null,"update:enabled":null,"update:font":null,"update:format":null,"update:interactive":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:zIndex":null},props:{arrowLength:Number,border:Object,color:String,container:{},contentTemplate:{},cornerRadius:Number,customizeTooltip:Function,enabled:Boolean,font:Object,format:[Object,String,Function],interactive:Boolean,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,zIndex:Number}};w(In);const Tn=x(In);Tn.$_optionName="tooltip";Tn.$_expectedChildren={border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"},shadow:{isCollectionItem:!1,optionName:"shadow"}};const Dn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:backgroundColor":null,"update:baseValue":null,"update:beginAdaptingAtRadius":null,"update:color":null,"update:horizontalOrientation":null,"update:indentFromCenter":null,"update:length":null,"update:offset":null,"update:palette":null,"update:secondColor":null,"update:secondFraction":null,"update:size":null,"update:spindleGapSize":null,"update:spindleSize":null,"update:text":null,"update:type":null,"update:verticalOrientation":null,"update:width":null},props:{arrowLength:Number,backgroundColor:String,baseValue:Number,beginAdaptingAtRadius:Number,color:[Object,String],horizontalOrientation:String,indentFromCenter:Number,length:Number,offset:Number,palette:[Array,String],secondColor:String,secondFraction:Number,size:Number,spindleGapSize:Number,spindleSize:Number,text:Object,type:String,verticalOrientation:String,width:Number}};w(Dn);const ct=x(Dn);ct.$_optionName="valueIndicator";ct.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"},text:{isCollectionItem:!1,optionName:"text"}};const Qi={class:"page-rollform pa-0"},eo={key:0,class:"rf-loading-overlay"},to={class:"rf-loader-box"},no={key:0,class:"hint-line"},io={key:1,class:"warn-line"},oo={class:"rollform-header"},ao={class:"gauge-wrap"},lo={class:"badge-left"},so={class:"gauge-center-value text-center"},ro={style:{color:"goldenrod"}},uo={class:"clock-wrap"},co={class:"digital-clock"},po={class:"digital-date"},mo={class:"kpi-row"},fo={class:"kpi"},vo={class:"kpi-value"},ho={class:"pb-1 ms-1 me-1"},_o={class:"kpi"},go={class:"kpi-value"},bo={class:"pb-1 ms-1 me-1"},yo={class:"kpi"},xo={class:"kpi-value"},wo={class:"pb-1 ms-1 me-1"},ko={class:"oee-title"},Co={class:"panel status-panel"},So={class:"form-row mt-2"},No={style:{display:"flex","align-items":"center",gap:"8px"}},Io={class:"status-actions justify-between"},To={class:"status-actions justify-between"},Do={class:"status-metrics mt-4 text-center"},Eo={class:"metric-time"},Ao={class:"metric-time"},Oo={class:"uclu text-center mt-4"},Mo={class:"metric-time ok"},zo={class:"metric-time warn"},Vo={class:"metric-time"},Fo={class:"panel status-panel"},Ro={width:"60%"},$o={class:"sayac siparis digit"},Po={width:"60%"},Bo={class:"sayac siparis digit"},Lo={width:"60%"},Ko={class:"sayac net digit"},jo={width:"60%"},Ho={class:"sayac net digit"},Go={width:"60%"},qo={class:"sayac kalan digit"},Uo={class:"sayac hurda digit"},Wo={class:"sayac net digit"},Yo={width:"60%"},Xo={class:"bilgi"},Jo={width:"60%"},Zo={class:"bilgi"},Qo={width:"60%"},ea={class:"bilgi"},ta={width:"60%"},na={class:"bilgi"},ia={class:"panel grid-panel"},oa={class:"mb-2"},aa={class:"mb-2"},la={class:"bilgi"},sa={class:"bilgi"},ra={class:"bilgi"},ua=x({__name:"uretim-rollform",setup(t){const i=ci(),o=v(null);function l(){var n;try{return`rollform:lastDurusReason:${((n=U==null?void 0:U.value)==null?void 0:n.istasyon_id)??"unknown"}`}catch{return"rollform:lastDurusReason:unknown"}}function r(){try{const n=localStorage.getItem(l());if(!n)return!1;const e=JSON.parse(n);if(e&&e.break_reason_code&&e.break_reason_code!=="000")return o.value={break_reason_code:e.break_reason_code,description:e.description},!0}catch{}return!1}const c=v([]),u=v(""),_=v(!1),m=v(null),G=O(()=>{var n;return((n=m.value)==null?void 0:n.wstation_code)??"..."}),fe=O(()=>{var n;return((n=m.value)==null?void 0:n.wstation_name)??"..."}),ie=O(()=>{var n;return(n=m.value)==null?void 0:n.speed}),C=O(()=>{var n;return(n=m.value)==null?void 0:n.speed_max}),En=O(()=>{var n;return(n=m.value)==null?void 0:n.speed_target}),An={enabled:!1},On={width:260,height:260},Mn={size:12,color:"#cfd8dc"},pt=O(()=>{const n=Number(C.value||0);if(n<=0)return 10;const e=Math.max(1,Math.round(n/6));return e>=5?Math.round(e/5)*5:e}),zn=O(()=>{const n=Number(pt.value||5);return Math.max(1,Math.round(n/2))}),Vn=O(()=>{var e;const n=(e=m.value)==null?void 0:e.statu_id;return n===0?"rgba(192, 167, 167, 0.30)":n===1?"rgba(180, 50, 50, 1.00)":n===2?"green":"#4b7027"}),q=O(()=>{var n;return((n=m.value)==null?void 0:n.statu_id)===1});i.setTitle(`${G.value} (${fe.value})`),document.title=`OFT - ${G.value} | ${fe.value}`;const mt=O(()=>`${G.value} (${fe.value})`),Fn=O(()=>{const n=Number(W.value.oee||0);return n<50?"oee-low":n<70?"oee-mid":n<85?"oee-high":"oee-top"}),Ee=()=>{i.setTitle(mt.value),document.title=`OFT - ${G.value} | ${fe.value}`};ai(async()=>{if(await Ve(),Ee(),await Qn(),!S.value){console.warn("İstasyon tespiti başarısız; periyodikler başlatılmadı.");return}Oe(),ge(),setInterval(ge,1e4),setInterval(()=>{const n=new Date,e=String(n.getHours()).padStart(2,"0"),f=String(n.getMinutes()).padStart(2,"0"),h=String(n.getSeconds()).padStart(2,"0");ht.value=`${e}:${f}:${h}`;const p=["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],k=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];_t.value=`${n.getDate()} ${k[n.getMonth()]} ${n.getFullYear()} ${p[n.getDay()]}`,Oe(),gt()},1e3),setInterval(le,2e3),Ot(),Jn(),setTimeout(()=>{_e.value||(_e.value=!0)},15e3),window.addEventListener("keydown",bt),window.addEventListener("keydown",Ct)}),li(()=>{Ee()});const Rn=Ie(()=>i.title,n=>{n!==mt.value&&Ee()},{flush:"post"});si(()=>{Rn(),window.removeEventListener("keydown",bt),window.removeEventListener("keydown",Ct)}),Ie(()=>m.value,()=>{Ee(),Oe()});const U=ri("userData");function R(n){const e=Number(n??0);return Number.isFinite(e)?new Intl.NumberFormat("tr-TR",{maximumFractionDigits:0,minimumFractionDigits:0}).format(Math.floor(e)):"0"}const Pe=v("00:00:00"),Be=v("00:00"),Le=v("00:00"),Ke=v("00:00"),je=v("00:00"),ft=v(0),vt=v(0),He=v(null),ht=v("00:00:00"),_t=v("...");function $n(n){const e=Math.max(0,Math.floor(n||0)),f=Math.floor(e/3600),h=Math.floor(e%3600/60),p=e%60,k=P=>String(P).padStart(2,"0");return`${k(f)}:${k(h)}:${k(p)}`}function Ae(n){const e=Math.max(0,Math.floor(n||0)),f=Math.floor(e/3600),h=Math.floor(e%3600/60),p=k=>String(k).padStart(2,"0");return`${p(f)}:${p(h)}`}function Oe(){var f;const n=(f=m.value)==null?void 0:f.statu_time;if(n==null){Pe.value="00:00:00";return}let e=0;if(typeof n=="number")n>1e12?e=Math.max(0,Math.floor((Date.now()-n)/1e3)):n>1e9?e=Math.max(0,Math.floor(Date.now()/1e3-n)):e=Math.max(0,Math.floor(n));else if(typeof n=="string"){const h=Date.parse(n);Number.isNaN(h)||(e=Math.max(0,Math.floor((Date.now()-h)/1e3)))}else n instanceof Date&&(e=Math.max(0,Math.floor((Date.now()-n.getTime())/1e3)));Pe.value=$n(e)}function gt(){if(He.value!=null){const n=Math.max(0,Math.floor((Date.now()-He.value)/1e3));Be.value=Ae(n);const e=Math.max(0,Math.floor(ft.value||0)),f=Math.max(0,Math.floor(vt.value||0));Le.value=Ae(e),Ke.value=Ae(f);const h=Math.max(0,n-e-f);je.value=Ae(h)}else Be.value="00:00",Le.value="00:00",Ke.value="00:00",je.value="00:00"}function $(n){const e=n.toLowerCase();return c.value.find(f=>String(f.description||"").toLowerCase().includes(e))}function bt(n){if(q.value){if(n.key==="F9"){const e=$("çay ve yemek")||$("cay ve yemek")||$("çay & yemek");e&&(o.value={break_reason_code:e.break_reason_code,description:e.description},n.preventDefault())}else if(n.key==="F8")n.preventDefault(),yt();else if(n.key==="F10"){const e=$("yemek")||$("öğle")||$("ogle");e&&(o.value={break_reason_code:e.break_reason_code,description:e.description},n.preventDefault())}}}async function yt(){if(q.value&&S.value)try{await H.post("/api/uretim-rollform/close-and-open-down",{station_id:S.value}),V({message:"Yeni duruş başlatıldı (F8)",type:"success",displayTime:1500}),Promise.allSettled([le(),ge()])}catch(n){console.error("F8 yeni duruş hata",n),V({message:"Yeni duruş başlatılamadı",type:"error",displayTime:2e3})}}async function Pn(){if(!q.value||N.value)return;const n=$("çay")||$("cay");n?(o.value={break_reason_code:n.break_reason_code,description:n.description},await se()):V({message:"Çay molası sebebi bulunamadı",type:"warning",displayTime:1500})}async function Bn(){if(!q.value||N.value)return;const n=$("yemek")||$("öğle")||$("ogle");n?(o.value={break_reason_code:n.break_reason_code,description:n.description},await se()):V({message:"Yemek molası sebebi bulunamadı",type:"warning",displayTime:1500})}const ve=v(!1),he=v(""),Ge=v(null),oe=v(!1);let qe=null;function xt(){var n,e;if(!qe){qe=setTimeout(()=>{qe=null},300);try{(e=(n=Ge.value)==null?void 0:n.blur)==null||e.call(n)}catch{}kt()}}function wt(){he.value="",ve.value=!0,Ve(()=>{var n;return(n=Ge.value)==null?void 0:n.focus()})}async function kt(){var k;const n=Number(he.value);if(!Number.isFinite(n)||n<=0){Ue();return}let e=m.value?{...m.value}:null,f=((k=m.value)==null?void 0:k.worder_id)??null,h=-1,p=null;try{if(oe.value)return;if(!S.value)throw new Error("İstasyon yok");oe.value=!0;const P=typeof performance<"u"&&performance.now?performance.now():Date.now();if(e){const I=Number(e.scrap_qty||0);m.value={...e,scrap_qty:I+n}}if(f&&(h=K.value.findIndex(I=>I.isEmriID===f),h>=0)){p=Number(K.value[h].hurda||0);const I={...K.value[h],hurda:p+n};K.value.splice(h,1,I)}await H.post("/api/uretim-rollform/hurda-gir",{station_id:S.value,qty:n});const A=typeof performance<"u"&&performance.now?performance.now():Date.now();try{console.info(`[Hurda] POST tamam: ${(A-P).toFixed(0)}ms (qty=${n})`)}catch{}V({message:"Hurda kaydedildi",type:"success",displayTime:1200}),ve.value=!1,Promise.allSettled([le(),Ot(),ge()])}catch(P){console.error("hurda kayıt hata",P);try{if(f!=null){const A=K.value.findIndex(I=>I.isEmriID===f);if(A>=0&&p!=null){const I={...K.value[A],hurda:p};K.value.splice(A,1,I)}}}catch{}try{e!==null&&(m.value=e)}catch{}V({message:"Hurda kaydedilemedi",type:"error",displayTime:2e3})}finally{oe.value=!1}}function Ue(){he.value="",ve.value=!1}function Ct(n){n.key==="F8"&&(wt(),n.preventDefault())}v("uretim-disi");const Ln=v(!1),_e=v(!1),St=v(!1),Nt=v(!1),It=v(!1),Tt=v(!1),Dt=v(!1),Kn=O(()=>St.value&&Nt.value&&It.value&&Tt.value&&Dt.value);Ie(Kn,n=>{n&&!_e.value&&(_e.value=!0)});const jn=O(()=>!_e.value),W=v({availability:0,performance:0,quality:0,oee:0}),Hn=v(null);async function ge(){try{if(!S.value)return;const{data:n}=await H.get("/api/uretim-rollform/kpi",{params:{station_id:S.value}});if(n!=null&&n.kpi){const e=f=>Math.round(Number(f||0)*100);if(W.value={availability:e(n.kpi.availability),performance:e(n.kpi.performance),quality:e(n.kpi.quality),oee:e(n.kpi.oee)},n.shift){Hn.value={id:n.shift.id,start:String(n.shift.start||"").substring(11,16),end:String(n.shift.end||"").substring(11,16)};const f=Date.parse(n.shift.start);Number.isNaN(f)||(He.value=f)}n.raw&&(ft.value=Math.max(0,Math.floor(Number(n.raw.upSeconds||0))),vt.value=Math.max(0,Math.floor(Number(n.raw.downSeconds||0)))),gt(),Ln.value=!0,It.value=!0}}catch(n){console.error("fetchKpiDirect error",n)}}const K=v([]),Gn=[{hint:"Aktif Et",text:"Aktif Et",icon:"login",onClick:n=>{var e;return qn((e=n==null?void 0:n.row)==null?void 0:e.data)}}],ee=v(!1),be=v(null),M=v(null);function qn(n){M.value=n,be.value=null,ee.value=!0}const ye=v(!1),xe=v(null),Et=v(null),ae=v(!1);function Un(){xe.value=null,ye.value=!0,Ve(()=>{var n,e;return(e=(n=Et.value)==null?void 0:n.focus)==null?void 0:e.call(n)})}function We(){ye.value=!1}async function At(){if(!ae.value&&xe.value!=null)try{ae.value=!0,await new Promise(n=>setTimeout(n,800)),V({message:"Üretim girişi kaydedildi (örnek).",type:"success",displayTime:1500}),ye.value=!1}catch(n){console.error("Üretim girişi hata",n),V({message:"Üretim girişi kaydedilemedi",type:"error",displayTime:1800})}finally{ae.value=!1}}async function Ye(){if(!M.value)return;const n=Number(be.value??0),e=S.value;if(!e)return;const f={wstation_id:e,worder_id:Number(M.value.isEmriID??0),worder_no:M.value.isEmriNo,item_id:0,item_code:M.value.stokKodu,item_name:M.value.stokAdi,item_length:n,order_qty:Number(M.value.plnAd??0),net_qty:Number(M.value.urtAd??0),scrap_qty:Number(M.value.hurda??0)};try{await H.post("/api/uretim-rollform/activate-workorder",f),ee.value=!1,le()}catch(h){console.error("Aktivasyon hatası",h)}}async function le(){try{if(!S.value){m.value=null;return}const n=await H.get("/api/kapasite-works-info",{params:{station_id:S.value}}),e=Array.isArray(n.data)?n.data:[];m.value=e.length>0?e[0]:null,Oe()}catch(n){console.error("WorksInfo alınamadı",n),m.value=null}finally{Nt.value=!0}}function Wn(){var f,h;const n=((f=M.value)==null?void 0:f.stokKodu)||((h=m.value)==null?void 0:h.item_code)||null;if(!n){alert("Önce bir iş emri/ürün seçiniz (stok kodu yok).");return}const e=`/teknik-resim?code=${encodeURIComponent(n)}`;window.open(e,"_blank")}async function Ot(){try{if(!S.value){K.value=[];return}const{data:n}=await H.get("/api/uretim-rollform/is-emirleri",{params:{istasyon:S.value}}),e=(n||[]).map(f=>({grp:0,isEmriID:f.isemri_id,isEmriNo:f.isemri_no,stokKodu:f.stok_kodu,stokAdi:f.stok_adi,plnAd:Number(f.siparis_miktari??0),ilvAd:0,klnAd:Number(f.kalan_miktar??0),urtAd:Number(f.uretilen_net_miktar??0),hurda:Number(f.toplam_hurda_miktari??0),plnSure:Number(f.operasyon_suresi??0),grcSure:0}));K.value=e}catch(n){console.error("İş emirleri alınamadı",n)}finally{Tt.value=!0}}const j=v(!1),N=v(!1),Me=v(!0),Xe=v(null);function ze(n=0){var e,f,h;try{const p=((e=Xe.value)==null?void 0:e.$el)||((h=(f=Xe.value)==null?void 0:f.$refs)==null?void 0:h.root)||null;if(p){const k=p.querySelector("input")||p.querySelector('[role="combobox"]');if(k){k.focus(),document.activeElement!==k&&n<3&&setTimeout(()=>ze(n+1),40);return}}n<5&&setTimeout(()=>ze(n+1),50)}catch{}}function Yn(){setTimeout(()=>ze(),10)}const Je=v(!0),Xn=O(()=>({width:110,marginBottom:30,type:"success",text:N.value?"Kaydediliyor...":"Kaydet",stylingMode:"contained",elementAttr:{class:N.value?"btn-loading":""},disabled:N.value,onClick:()=>{N.value||se()}}));function Jn(){S.value&&H.get("/api/durus-sebepleri-al",{params:{istasyon:S.value}}).then(n=>{var e;c.value=((e=n.data)==null?void 0:e.durusSebepleri)||[]}).catch(n=>{console.error("Duruş sebepleri alınamadı",n)}).finally(()=>{Dt.value=!0})}function Mt(){o.value={break_reason_code:"000",description:"GİRİLMEDİ"},j.value=!0,Ve(()=>ze())}async function se(){var n;if(!N.value){if(!o.value){V({message:"Lütfen bir duruş sebebi seçiniz.",type:"error",displayTime:3e3});return}if(!((n=m.value)!=null&&n.worder_id)){V({message:"Aktif iş emri yok.",type:"warning",displayTime:2500}),j.value=!1;return}if(!S.value){V({message:"İstasyon bulunamadı.",type:"error",displayTime:3e3});return}try{N.value=!0,Me.value=!1;const e=typeof performance<"u"&&performance.now?performance.now():Date.now();await H.post("/api/duruskaydet-mekanik",{istasyonID:S.value,selectedDurus:o.value});const f=typeof performance<"u"&&performance.now?performance.now():Date.now();try{console.info(`[Duruş] POST tamam: ${(f-e).toFixed(0)}ms (code=${o.value.break_reason_code})`)}catch{}V({message:"Duruş kaydedildi.",type:"success",displayTime:1600});try{localStorage.setItem(l(),JSON.stringify(o.value))}catch{}j.value=!1,Promise.allSettled([le(),ge()])}catch(e){console.error("Duruş kaydedilemedi",e),V({message:"Duruş kaydedilemedi.",type:"error",displayTime:3e3})}finally{N.value=!1,Me.value=!0}}}function Zn(n){Me.value||(n.cancel=!0)}Ie(j,(n,e)=>{e&&!n&&le()});const zt=v(null);Ie(()=>{var n;return(n=m.value)==null?void 0:n.statu_id},async(n,e)=>{n===1&&zt.value!==1?Je.value?!r()&&!j.value&&Mt():j.value||Mt():n!==1&&(j.value&&(N.value=!1,Me.value=!0,j.value=!1),o.value=null),zt.value=n??null,Je.value&&(Je.value=!1)});const S=v(null),re=v(null);async function Qn(){var n,e,f;try{re.value=null;const{data:h}=await H.get("/api/uretim-rollform/detect-station");if(h&&h.station_id){S.value=Number(h.station_id),St.value=!0;try{const p=Number(((n=U==null?void 0:U.value)==null?void 0:n.id)||((f=(e=U==null?void 0:U.value)==null?void 0:e.user)==null?void 0:f.id));Number.isFinite(p)&&p>0&&await H.post("/api/uretim-rollform/set-operator",{station_id:S.value,operator_id:p})}catch{}}else{S.value=null;const p=h!=null&&h.ip?` – tespit edilen IP: ${h.ip}`:"";re.value="İstasyon bulunamadı (IP eşleşmedi)"+p}}catch(h){re.value="İstasyon tespiti hata: "+((h==null?void 0:h.message)||"bilinmiyor")}}return(n,e)=>{const f=ti,h=ei;return J(),X("div",Qi,[jn.value?(J(),X("div",eo,[s("div",to,[e[14]||(e[14]=s("div",{class:"rf-spinner","aria-hidden":"true"},null,-1)),e[15]||(e[15]=s("h2",null,"Veriler yükleniyor",-1)),e[16]||(e[16]=s("p",null,"İstasyon, aktif iş emri, sayaç ve KPI verileri hazırlanıyor. Lütfen bekleyin…",-1)),!S.value&&!re.value?(J(),X("small",no,"İstasyon tespiti yapılıyor...")):re.value?(J(),X("small",io,g(re.value)+" – yeniden deniyor...",1)):Ft("",!0)])])):Ft("",!0),s("div",oo,[a(Z,{class:"match-height"},{default:d(()=>[a(D,{cols:"12",md:"3",sm:"6"},{default:d(()=>[a(ue,{class:"pa-3"},{default:d(()=>[s("section",null,[a(de,{class:"durum-title",style:di({backgroundColor:Vn.value})},{default:d(()=>{var p,k;return[y(g(((p=m.value)==null?void 0:p.statu_id)===0?"KAPALI":((k=m.value)==null?void 0:k.statu_id)===1?"DURUYOR":"ÇALIŞIYOR"),1)]}),_:1},8,["style"]),e[22]||(e[22]=s("hr",null,null,-1)),s("div",ao,[s("div",lo,g(G.value),1),a(b(ji),{class:"oee-gauge",value:ie.value,subvalues:[En.value],tooltip:An,size:On},{default:d(()=>[a(b(an),{"start-angle":225,"end-angle":-45}),a(b(dt),{"start-value":0,"end-value":C.value,"tick-interval":pt.value,"minor-tick-interval":zn.value},{default:d(()=>[a(b(Cn),{length:8,color:"#666"}),a(b(cn),{length:4,color:"#444"}),a(b(rt),{"use-range-colors":!0,font:Mn})]),_:1},8,["end-value","tick-interval","minor-tick-interval"]),a(b(ut),{"background-color":"#20252b",offset:10,width:10},{default:d(()=>[a(b(pe),{"start-value":0,"end-value":.4*C.value,color:"#ce6978"},null,8,["end-value"]),a(b(pe),{"start-value":.4*C.value,"end-value":.7*C.value,color:"#caa93b"},null,8,["start-value","end-value"]),a(b(pe),{"start-value":.7*C.value,"end-value":C.value,color:"#1e8e3e"},null,8,["start-value","end-value"])]),_:1}),a(b(ct),{type:"triangleNeedle","spindle-size":18,"spindle-gap-size":9,offset:10,width:8}),a(b(en),{enabled:!1})]),_:1},8,["value","subvalues"]),s("div",so,[e[17]||(e[17]=s("div",{class:"label",style:{"font-size":"16px","margin-block":"-10px"}},"Hız (ad/saat)",-1)),s("div",ro,g(R(ie.value)),1)])]),s("div",uo,[s("div",co,g(ht.value),1),s("div",po,g(_t.value),1)]),s("div",mo,[s("div",fo,[e[18]||(e[18]=s("div",null,"Meço %",-1)),s("div",vo,[y(g(W.value.availability)+" ",1),s("div",ho,[a(Fe,{"model-value":W.value.availability??0,color:"info",height:"4",rounded:!0},null,8,["model-value"])])])]),s("div",_o,[e[19]||(e[19]=s("div",null,"Performans %",-1)),s("div",go,[y(g(W.value.performance)+" ",1),s("div",bo,[a(Fe,{"model-value":W.value.performance??0,color:"success",height:"4",rounded:!0},null,8,["model-value"])])])]),s("div",yo,[e[20]||(e[20]=s("div",null,"Kalite %",-1)),s("div",xo,[y(g(W.value.quality)+" ",1),s("div",wo,[a(Fe,{"model-value":W.value.quality??0,color:"error",height:"4",rounded:!0},null,8,["model-value"])])])])]),a(Z,null,{default:d(()=>[a(D,{cols:"12",class:"text-center"},{default:d(()=>[s("div",ko,[e[21]||(e[21]=y("OEE % ")),s("span",{class:Ze(["kpi-oee",Fn.value])},g(W.value.oee),3)])]),_:1})]),_:1})])]),_:1})]),_:1}),a(D,{cols:"12",md:"4",sm:"6"},{default:d(()=>[a(ue,{class:"pa-3"},{default:d(()=>[a(de,{class:"panel-title pa-0"},{default:d(()=>e[23]||(e[23]=[y("DURUM BİLGİLERİ")])),_:1,__:[23]}),e[35]||(e[35]=s("hr",null,null,-1)),s("section",Co,[s("div",So,[e[25]||(e[25]=s("label",null,"Duruş Sebebi (F8 – Yeni Duruş)",-1)),s("div",No,[a(f,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=p=>o.value=p),items:c.value,"item-title":"description","item-value":"break_reason_code","return-object":"","single-line":"",placeholder:"Seçiniz...",variant:"outlined",disabled:!q.value||N.value,class:Ze({"app-select--force-disabled":!q.value||N.value}),onKeydown:B(F(se,["prevent"]),["enter"])},null,8,["modelValue","items","disabled","class","onKeydown"]),a(T,{color:"success",variant:"tonal",size:"small",disabled:!q.value||N.value||!o.value,onClick:se},{default:d(()=>[e[24]||(e[24]=y(" Kaydet ")),a(Re,{end:"",icon:"tabler-check"})]),_:1,__:[24]},8,["disabled"])]),a(h,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=p=>u.value=p),placeholder:"Açıklama...",disabled:""},null,8,["modelValue"])]),s("div",Io,[a(T,{variant:"tonal",color:"error",size:"small"},{default:d(()=>e[26]||(e[26]=[y("Açıklama Gir")])),_:1,__:[26]}),a(Ti,{color:"error",modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=p=>_.value=p),label:"Arızalı",value:"false",height:10},null,8,["modelValue"])]),s("div",To,[a(T,{variant:"tonal",color:"warning",size:"small",width:"32%",onClick:yt},{default:d(()=>[e[27]||(e[27]=y(" F8 - Yeni Duruş ")),a(Re,{end:"",icon:"tabler-player-skip-forward"})]),_:1,__:[27]}),a(T,{variant:"tonal",color:"warning",size:"small",width:"32%",onClick:Pn},{default:d(()=>[e[28]||(e[28]=y(" F9 - Çay Molası ")),a(Re,{end:"",icon:"tabler-mug"})]),_:1,__:[28]}),a(T,{variant:"tonal",color:"warning",size:"small",width:"32%",onClick:Bn},{default:d(()=>[e[29]||(e[29]=y(" F10 - Yemek Molası ")),a(Re,{end:"",icon:"tabler-bowl-spoon"})]),_:1,__:[29]})]),s("div",Do,[s("div",null,[e[30]||(e[30]=s("div",{class:"label"},"Durum Süresi",-1)),s("div",Eo,g(Pe.value),1)]),s("div",null,[e[31]||(e[31]=s("div",{class:"label"},"Vardiya",-1)),s("div",Ao,g(Be.value),1)])]),s("div",Oo,[s("div",null,[e[32]||(e[32]=s("div",{class:"label"},"Çalışma",-1)),s("div",Mo,g(Le.value),1)]),s("div",null,[e[33]||(e[33]=s("div",{class:"label"},"Duruş",-1)),s("div",zo,g(Ke.value),1)]),s("div",null,[e[34]||(e[34]=s("div",{class:"label"},"Boşta",-1)),s("div",Vo,g(je.value),1)])])])]),_:1,__:[35]})]),_:1}),a(D,{cols:"12",md:"5",sm:"6"},{default:d(()=>[a(ue,{class:"pa-3"},{default:d(()=>{var p,k,P;return[a(de,{class:"panel-title pa-0"},{default:d(()=>e[36]||(e[36]=[y("ÜRETİM RAKAMLARI")])),_:1,__:[36]}),e[52]||(e[52]=s("hr",null,null,-1)),s("section",Fo,[a(Fe,{"model-value":(((p=m.value)==null?void 0:p.net_qty)+((k=m.value)==null?void 0:k.counter))/((P=m.value)==null?void 0:P.order_qty)*100,color:"warning",height:"10",rounded:!0,class:"my-4"},null,8,["model-value"]),a(Z,null,{default:d(()=>[a(D,{cols:"5"},{default:d(()=>{var A,I,we,ke,Y,Ce,Se,Ne;return[s("div",null,[s("div",Ro,[e[37]||(e[37]=s("div",{class:"label"},"İş Emri Miktarı",-1)),s("div",$o,g(R((A=m.value)==null?void 0:A.order_qty)),1)]),s("div",Po,[e[38]||(e[38]=s("div",{class:"label"},"Üretilen (uyumsoft)",-1)),s("div",Bo,g(R((I=m.value)==null?void 0:I.net_qty)),1)]),s("div",Lo,[e[39]||(e[39]=s("div",{class:"label"},"Sayaç",-1)),s("div",Ko,g(R((we=m.value)==null?void 0:we.counter)),1)]),s("div",jo,[e[40]||(e[40]=s("div",{class:"label"},"Üretilen (uyum + sayaç)",-1)),s("div",Ho,g(R(((ke=m.value)==null?void 0:ke.net_qty)+((Y=m.value)==null?void 0:Y.counter))),1)]),s("div",Go,[e[41]||(e[41]=s("div",{class:"label"},"Kalan",-1)),s("div",qo,g(R((((Ce=m.value)==null?void 0:Ce.order_qty)??0)-((Se=m.value)==null?void 0:Se.counter)-(((Ne=m.value)==null?void 0:Ne.net_qty)??0))),1)])])]}),_:1}),a(D,{cols:"7"},{default:d(()=>{var A,I,we,ke;return[s("div",null,[a(Z,null,{default:d(()=>[a(D,{cols:"6"},{default:d(()=>{var Y;return[e[42]||(e[42]=s("div",{class:"label"},"Hurda",-1)),s("div",Uo,g(R((Y=m.value)==null?void 0:Y.scrap_qty)),1)]}),_:1,__:[42]}),a(D,{cols:"6"},{default:d(()=>{var Y,Ce,Se,Ne,Vt;return[e[43]||(e[43]=s("div",{class:"label"},"O.A.%",-1)),s("div",Wo,g(((Y=m.value)==null?void 0:Y.net_qty)===0||((Ce=m.value)==null?void 0:Ce.order_qty)===0?0:((((Se=m.value)==null?void 0:Se.net_qty)+((Ne=m.value)==null?void 0:Ne.counter))/((Vt=m.value)==null?void 0:Vt.order_qty)*100).toFixed(0)),1)]}),_:1,__:[43]})]),_:1}),s("div",Yo,[e[44]||(e[44]=s("div",{class:"label"},"İş Emri No",-1)),s("div",Xo,g((A=m.value)==null?void 0:A.worder_no),1)]),s("div",Jo,[e[45]||(e[45]=s("div",{class:"label"},"Ürün Kodu",-1)),s("div",Zo,g((I=m.value)==null?void 0:I.item_code),1)]),s("div",Qo,[e[46]||(e[46]=s("div",{class:"label"},"Kalan",-1)),s("div",ea,g((we=m.value)==null?void 0:we.item_name),1)])]),s("div",ta,[e[47]||(e[47]=s("div",{class:"label"},"Ürün Boyu",-1)),s("div",na,g(R((ke=m.value)==null?void 0:ke.item_length)),1)]),a(Z,{class:"mt-1"},{default:d(()=>[a(D,{cols:"6",class:"mt-0 py-2 pe-1"},{default:d(()=>[a(T,{id:"hurdaGir",block:"",variant:"outlined",color:"error",onClick:wt},{default:d(()=>e[48]||(e[48]=[y(" F8 - Hurda Girişi ")])),_:1,__:[48]})]),_:1}),a(D,{cols:"6",class:"mt-0 py-2 ps-1"},{default:d(()=>[a(T,{variant:"outlined",block:"",onClick:Un},{default:d(()=>e[49]||(e[49]=[y("İş Emrini Kapat")])),_:1,__:[49]})]),_:1})]),_:1}),a(Z,{class:"mt-1"},{default:d(()=>[a(D,{cols:"6",class:"mt-0 py-2 pe-1"},{default:d(()=>[a(T,{variant:"outlined",block:"",onClick:Wn},{default:d(()=>e[50]||(e[50]=[y("Teknik Resim")])),_:1,__:[50]})]),_:1}),a(D,{cols:"6",class:"mt-0 py-2 ps-1"},{default:d(()=>[a(T,{variant:"outlined",block:""},{default:d(()=>e[51]||(e[51]=[y("Ürün Etiketi Bas")])),_:1,__:[51]})]),_:1})]),_:1})]}),_:1})]),_:1})])]}),_:1,__:[52]})]),_:1})]),_:1})]),s("section",ia,[a(b(Si),{class:"orders-grid","data-source":K.value,"hover-state-enabled":!0,"row-alternation-enabled":!1,"show-borders":!1,"column-auto-width":!0,"column-resizing-mode":"nextColumn","column-min-width":80,height:"360"},{default:d(()=>[a(b(z),{type:"buttons",width:"30",buttons:Gn}),a(b(z),{"data-field":"grp",caption:"GRP",width:"60",visible:!1}),a(b(z),{"data-field":"isEmriID",caption:"İŞ EMRİ ID",width:"140"}),a(b(z),{"data-field":"isEmriNo",caption:"İŞ EMRİ NO",width:"140"}),a(b(z),{"data-field":"stokKodu",caption:"STOK KODU",width:"120"}),a(b(z),{"data-field":"stokAdi",caption:"STOK ADI"}),a(b(z),{"data-field":"plnAd",caption:"PLN.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(z),{"data-field":"ilvAd",caption:"İLV.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(z),{"data-field":"klnAd",caption:"KLN.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(z),{"data-field":"urtAd",caption:"ÜRT.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(z),{"data-field":"hurda",caption:"HURDA",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(z),{"data-field":"plnSure",caption:"PLN.SÜRE",width:"100","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(z),{"data-field":"grcSure",caption:"GRÇ.SÜRE",width:"100","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),a(b(Ci),{visible:!0,width:240})]),_:1},8,["data-source"])]),e[69]||(e[69]=ui('<div class="bottom-tabs" data-v-cdb93e06><button class="tab active" data-v-cdb93e06>İş Emirleri</button><button class="tab" data-v-cdb93e06>Duruşlar</button><button class="tab" data-v-cdb93e06>Hurdalar</button><button class="tab" data-v-cdb93e06>Ölçümler</button><button class="tab" data-v-cdb93e06>Kısayollar</button></div>',1)),a(it,{modelValue:ve.value,"onUpdate:modelValue":e[4]||(e[4]=p=>ve.value=p),"max-width":"400"},{default:d(()=>[a(ue,null,{default:d(()=>[a(de,null,{default:d(()=>e[53]||(e[53]=[y("Hurda Girişi")])),_:1,__:[53]}),a(et,null,{default:d(()=>[a(tt,{ref_key:"hurdaInputRef",ref:Ge,modelValue:he.value,"onUpdate:modelValue":e[3]||(e[3]=p=>he.value=p),label:"Hurda Miktarı",type:"number","hide-details":"",min:1,step:"1",autofocus:"",onKeydown:[B(F(xt,["prevent"]),["enter"]),B(F(Ue,["prevent"]),["esc"])],onKeyup:B(F(xt,["prevent"]),["enter"])},null,8,["modelValue","onKeydown","onKeyup"]),e[54]||(e[54]=s("div",{class:"text-caption mt-2"},"Enter = Kaydet, Esc = İptal",-1))]),_:1,__:[54]}),a(Qe,null,{default:d(()=>[a(nt),a(T,{variant:"text",color:"grey",onClick:Ue},{default:d(()=>e[55]||(e[55]=[y("İptal (Esc)")])),_:1,__:[55]}),a(T,{variant:"elevated",color:"error",onClick:kt,loading:oe.value,disabled:oe.value},{default:d(()=>[oe.value?(J(),X($e,{key:0},[a(Rt,{indeterminate:"",size:"18",color:"white",class:"mr-2"}),e[56]||(e[56]=y(" Kaydediliyor... "))],64)):(J(),X($e,{key:1},[y("Kaydet (Enter)")],64))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(it,{modelValue:ee.value,"onUpdate:modelValue":e[8]||(e[8]=p=>ee.value=p),"max-width":"420",onKeydown:e[9]||(e[9]=B(F(p=>ee.value=!1,["prevent","stop"]),["esc"]))},{default:d(()=>[a(ue,null,{default:d(()=>[a(de,null,{default:d(()=>e[57]||(e[57]=[y("İş Emrini Aktif Et")])),_:1,__:[57]}),a(et,null,{default:d(()=>{var p,k,P;return[s("form",{onSubmit:F(Ye,["prevent"])},[s("div",oa,[s("strong",null,g((p=M.value)==null?void 0:p.isEmriNo),1),y(" – "+g((k=M.value)==null?void 0:k.stokKodu),1)]),s("div",aa,g((P=M.value)==null?void 0:P.stokAdi),1),a(tt,{ref:"activateLengthInput",modelValue:be.value,"onUpdate:modelValue":e[5]||(e[5]=A=>be.value=A),modelModifiers:{number:!0},type:"number",label:"Ürün Boyu (mm)",variant:"outlined",density:"compact",autofocus:"",onKeydown:[B(F(Ye,["prevent"]),["enter"]),e[6]||(e[6]=B(F(A=>ee.value=!1,["prevent","stop"]),["esc"]))]},null,8,["modelValue","onKeydown"]),e[58]||(e[58]=s("button",{type:"submit",style:{display:"none"}},null,-1))],32)]}),_:1}),a(Qe,null,{default:d(()=>[a(nt),a(T,{variant:"text",onClick:e[7]||(e[7]=p=>ee.value=!1)},{default:d(()=>e[59]||(e[59]=[y("İptal")])),_:1,__:[59]}),a(T,{color:"primary",variant:"flat",onClick:Ye,disabled:!be.value},{default:d(()=>e[60]||(e[60]=[y("Onayla")])),_:1,__:[60]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(it,{modelValue:ye.value,"onUpdate:modelValue":e[11]||(e[11]=p=>ye.value=p),"max-width":"520",onKeydown:B(F(We,["prevent","stop"]),["esc"])},{default:d(()=>[a(ue,null,{default:d(()=>[a(de,{class:"text-h5",style:{"background-color":"green",color:"black"}},{default:d(()=>e[61]||(e[61]=[y("Üretim Girişi")])),_:1,__:[61]}),a(et,null,{default:d(()=>[a(Z,{class:"mb-2"},{default:d(()=>[a(D,{cols:"12",sm:"4"},{default:d(()=>{var p;return[e[62]||(e[62]=s("div",{class:"label"},"İş Emri Miktarı",-1)),s("div",la,g(R((p=m.value)==null?void 0:p.order_qty)),1)]}),_:1,__:[62]}),a(D,{cols:"12",sm:"4"},{default:d(()=>{var p;return[e[63]||(e[63]=s("div",{class:"label"},"Üretilen (uyum)",-1)),s("div",sa,g(R((p=m.value)==null?void 0:p.net_qty)),1)]}),_:1,__:[63]}),a(D,{cols:"12",sm:"4"},{default:d(()=>{var p;return[e[64]||(e[64]=s("div",{class:"label"},"Sayaç",-1)),s("div",ra,g(R((p=m.value)==null?void 0:p.counter)),1)]}),_:1,__:[64]})]),_:1}),a(tt,{ref_key:"uretimInputRef",ref:Et,modelValue:xe.value,"onUpdate:modelValue":e[10]||(e[10]=p=>xe.value=p),modelModifiers:{number:!0},type:"number",label:"Elle Üretim Miktarı",variant:"outlined",density:"comfortable",min:0,step:1,"hide-details":"",autofocus:"",onKeydown:[B(F(At,["prevent"]),["enter"]),B(F(We,["prevent"]),["esc"])]},null,8,["modelValue","onKeydown"]),e[65]||(e[65]=s("div",{class:"text-caption mt-2"},"Sayaç değeri yanlış olabilir. Gerçek sayıyı giriniz...",-1))]),_:1,__:[65]}),a(Qe,null,{default:d(()=>[a(nt),a(T,{variant:"outlined",color:"grey",onClick:We},{default:d(()=>e[66]||(e[66]=[y("Vazgeç")])),_:1,__:[66]}),a(T,{color:"primary",variant:"outlined",onClick:At,disabled:xe.value==null||ae.value,loading:ae.value},{default:d(()=>[ae.value?(J(),X($e,{key:0},[a(Rt,{indeterminate:"",size:"18",color:"primary",class:"mr-2"}),e[67]||(e[67]=y(" Kaydediliyor... "))],64)):(J(),X($e,{key:1},[y("Kaydet (Enter)")],64))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]),a(b(Ii),{visible:j.value,"onUpdate:visible":e[13]||(e[13]=p=>j.value=p),width:500,height:200,"hide-on-outside-click":!1,"show-close-button":!1,"drag-enabled":!1,"close-on-back-button":!1,"defer-rendering":!1,"focus-state-enabled":!0,shading:!0,"shading-color":"rgba(0,0,0,0.5)","on-hiding":Zn,titleTemplate:"title",animation:{show:{type:"fade",duration:120},hide:{type:"fade",duration:80}},"on-shown":Yn},{content:d(()=>[a(Z,{class:"pa-4"},{default:d(()=>[a(f,{ref_key:"durusSelectRef",ref:Xe,modelValue:o.value,"onUpdate:modelValue":e[12]||(e[12]=p=>o.value=p),items:c.value,"item-title":"description","item-value":"break_reason_code","return-object":"",label:"Duruş Sebebi","single-line":"",placeholder:"Seçiniz...",variant:"outlined",disabled:!q.value||N.value,class:Ze({"app-select--force-disabled":!q.value||N.value}),onKeydown:B(F(se,["prevent"]),["enter"])},null,8,["modelValue","items","disabled","class","onKeydown"])]),_:1})]),title:d(()=>e[68]||(e[68]=[s("p",{class:"popup-title"},"Duruş Sebebini Giriniz",-1)])),default:d(()=>[a(b(Ni),{widget:"dxButton",toolbar:"bottom",location:"center",options:Xn.value},null,8,["options"])]),_:1},8,["visible"])])}}}),al=Di(ua,[["__scopeId","data-v-cdb93e06"]]);export{al as default};
