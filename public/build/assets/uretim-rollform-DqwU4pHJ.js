import{_ as Qn}from"./AppTextarea.vue_vue_type_script_setup_true_lang--dYWyVcu.js";import{_ as ei}from"./AppSelect.vue_vue_type_script_setup_true_lang-B8j2sCVE.js";import{dm as ti,es as ni,dg as ii,db as Bt,d as x,r as v,X as M,G as oi,aZ as Fe,f8 as ai,w as Ie,af as li,b4 as si,a$ as j,c as Z,o as Q,l as zt,e as a,aI as ri,b as s,v as _,f as d,I as ui,t as g,m as y,b8 as Ve,x as Je,d3 as W,b0 as Y,ae as A,Z as Re,F as $e,bb as Mt}from"./main-Ct-cOeg8.js";import{u as di}from"./pageTitle-DA2EreLt.js";import{p as ci,a as w}from"./editor-DpHBKwSy.js";import{a as pi}from"./overlay-13VzdNFH.js";import{B as mi,a as fi,b as vi,c as hi,d as _i,e as gi,f as bi}from"./base_range_container-Dqc30EP2.js";import{p as yi,s as Kt,Y as xi,v as Lt,n as wi}from"./m_base_widget-Ch6cKGqL.js";import{a as F,l as ki,D as Ci}from"./data-grid-DKUNlWAv.js";import{D as Si,a as Ni}from"./popup-CVaby0eM.js";import{n as V}from"./notify-Du6b7w0H.js";import{V as E}from"./VCol-CC8YbPqG.js";import{V as pe,a as me,b as Ze}from"./VCard-C_065gsn.js";import{V as ee}from"./VRow-BfCrrdmd.js";import{V as Ii}from"./VSwitch-BqaiBpLo.js";import{V as Qe}from"./VCardText-BZLgaicz.js";import{V as Ft}from"./VTextField-BV0ZqzlM.js";import{V as et}from"./VSpacer-DxB37XUM.js";import{V as tt}from"./VDialog-kI1XmkJU.js";import{_ as Ti}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-BuUhN7Vj.js";import"./VTextarea-CHAHXrFs.js";/* empty css                   */import"./VCounter-D0O2rp3f.js";import"./VImg-Boy2iGVc.js";import"./VField-F-RhcOp-.js";import"./easing-Bybner-F.js";import"./VInput-BGideHSu.js";import"./form-ChCww0pi.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-Ca-P5LPC.js";import"./VList-7XCEG9jg.js";import"./ssrBoot-CwL6LQ8M.js";import"./VAvatar-DUugVa62.js";import"./VDivider-BibceQOS.js";import"./dialog-transition-B7hjrvOH.js";import"./VMenu-DtYH3taR.js";import"./VOverlay-C4hY1w65.js";import"./delay-4G3CWm1H.js";import"./lazy-CGNsHgSe.js";import"./scopeId-BnxrN3KV.js";import"./VCheckboxBtn-JLJPngP_.js";import"./VSelectionControl-DGXIaHOi.js";import"./VChip-COCjw8Os.js";import"./VSlideGroup-BTyn2lNq.js";import"./m_row_dragging-HGH9sKes.js";import"./m_select_box-C5o2mfAR.js";import"./themes-pU--lpmJ.js";/* empty css              */const nt={dispose:function(){this._centerTemplateGroup.linkOff().dispose()},members:{_renderCenterTemplate(){const t=this.option("centerTemplate"),i=this._centerTemplateGroup.clear();if(!t)return;i.attr({visibility:"hidden"});const o=this._getCenter();this._getTemplate(t).render({model:this,container:i.element,onRendered:()=>{const l=i,r=l.getBBox(),c=r.x+r.width/2,u=r.y+r.height/2;l.move(o.x-c,o.y-u),l.attr({visibility:"visible"})}})}},customize(t){t.addChange({code:"CENTER_TEMPLATE",handler:function(){this._renderCenterTemplate()},option:"centerTemplate"})}},Di={name:"center_template_gauge",init:ti,dispose:nt.dispose,extenders:{_initCore(){this._createCenterTemplateGroup()},_renderContent(){const t=yi(this._themeManager._font);this._centerTemplateGroup.css(t),this._requestChange(["CENTER_TEMPLATE"])},_updateExtraElements(){this._requestChange(["CENTER_TEMPLATE"])}},members:{_renderCenterTemplate:nt.members._renderCenterTemplate,_createCenterTemplateGroup(){this._centerTemplateGroup=this._renderer.g().attr({class:"dxg-hole-template"}).linkOn(this._renderer.root,"center-template").linkAppend()}},customize:nt.customize},Ai={gauge:Di},O=Number,De=Kt,jt=xi;function ot(t,i){return t&&t.radius-i<=0&&(t.radius=i+1),t}const Ht=mi.inherit({_move:function(){const t=this._options,i=jt(this._actualPosition);this._rootElement.rotate(i,t.x,t.y),this._trackerElement&&this._trackerElement.rotate(i,t.x,t.y)},_isEnabled:function(){return this._options.width>0},_isVisible:function(t){return t.radius-O(this._options.indentFromCenter)>0},_getTrackerSettings:function(){const t=this._options,i=this._getRadius(),o=this._getIndentFromCenter(),l=t.x,r=t.y-(i+o)/2;let c=t.width/2,u=(i-o)/2;return c>10||(c=10),u>10||(u=10),{points:[l-c,r-u,l-c,r+u,l+c,r+u,l+c,r-u]}},_render:function(){this._renderPointer()},_clearPointer:function(){delete this._element},_clear:function(){this._clearPointer()},_getIndentFromCenter:function(t){return Number(this._options.indentFromCenter)||0},_getRadius:function(){return 0},measure:function(t){const i={max:t.radius};return this._options.indentFromCenter<0&&(i.inverseHorizontalOffset=i.inverseVerticalOffset=-O(this._options.indentFromCenter)),i},getTooltipParameters:function(){const t=this._options,i=De(this._actualPosition),o=(this._getRadius()+this._getIndentFromCenter())/2;return{x:t.x+i.cos*o,y:t.y-i.sin*o,value:this._currentValue,color:t.color,offset:t.width/2}}}),at=Ht.inherit({_isVisible:function(t){const i=this._adjustOffset(Number(this._options.indentFromCenter),t.radius),o=this._adjustOffset(Number(this._options.offset),t.radius);return t.radius-i-o>0},getOffset:function(){return 0},_adjustOffset:function(t,i){const o=Number(this._options.beginAdaptingAtRadius),l=i/o;return l<1&&(t=Math.floor(t*l)),t||0},_getIndentFromCenter:function(t){return this._adjustOffset(Number(this._options.indentFromCenter),this._options.radius)},_getRadius:function(){const t=this._options;return t.radius-this._adjustOffset(Number(t.offset),t.radius)},_renderSpindle:function(){const t=this,i=t._options,o=i.radius,l=2*this._adjustOffset(O(i.spindleSize)/2,o);let r=2*this._adjustOffset(O(i.spindleGapSize)/2,o)||0;r>0&&(r=r<=l?r:l),l>0&&(t._spindleOuter=t._spindleOuter||t._renderer.circle().append(t._rootElement),t._spindleInner=t._spindleInner||t._renderer.circle().append(t._rootElement),t._spindleOuter.attr({class:"dxg-spindle-border",cx:i.x,cy:i.y,r:l/2}),t._spindleInner.attr({class:"dxg-spindle-hole",cx:i.x,cy:i.y,r:r/2,fill:i.containerBackgroundColor}))},_render:function(){this.callBase(),this._renderSpindle()},_clear:function(){this.callBase(),delete this._spindleOuter,delete this._spindleInner}}),Gt=at.inherit({_renderPointer:function(){const t=this._options,i=t.y-this._getRadius(),o=t.y-this._getIndentFromCenter(),l=t.x-t.width/2,r=l+O(t.width);this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[l,o,l,i,r,i,r,o]})}}),Ei=at.inherit({_renderPointer:function(){const t=this._options,i=t.y-this._getRadius(),o=t.y-this._getIndentFromCenter(),l=t.x-t.width/2,r=t.x+t.width/2;this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[l,o,t.x,i,r,o]})}}),Oi=at.inherit({_renderPointer:function(){const t=this._options,i=t.x-t.width/2,o=t.x+t.width/2,l=t.y-this._getRadius(),r=t.y-this._getIndentFromCenter(),c=O(t.secondFraction)||0;let u,b;c>=1?u=b=r:c<=0?u=b=l:(b=l+(r-l)*c,u=b+O(t.space)),this._firstElement=this._firstElement||this._renderer.path([],"area").append(this._rootElement),this._spaceElement=this._spaceElement||this._renderer.path([],"area").append(this._rootElement),this._secondElement=this._secondElement||this._renderer.path([],"area").append(this._rootElement),this._firstElement.attr({points:[i,r,i,u,o,u,o,r]}),this._spaceElement.attr({points:[i,u,i,b,o,b,o,u],class:"dxg-hole",fill:t.containerBackgroundColor}),this._secondElement.attr({points:[i,b,i,l,o,l,o,b],class:"dxg-part",fill:t.secondColor})},_clearPointer:function(){delete this._firstElement,delete this._secondElement,delete this._spaceElement}}),zi=Ht.inherit({_isEnabled:function(){return this._options.length>0&&this._options.width>0},_isVisible:t=>!0,resize(t){return this.callBase(ot(t,0))},_render:function(){const t=this._options,i=t.x,o=t.y-t.radius,l=t.width/2||0,r=o-O(t.length);this._element=this._element||this._renderer.path([],"area").append(this._rootElement);const c={points:[i,o,i-l,r,i+l,r],stroke:"none","stroke-width":0,"stroke-linecap":"square"};t.space>0&&(c["stroke-width"]=Math.min(t.space,t.width/4)||0,c.stroke=c["stroke-width"]>0&&t.containerBackgroundColor||"none"),this._element.attr(c).sharp()},_clear:function(){delete this._element},_getTrackerSettings:function(){const t=this._options,i=t.x,o=t.y-t.radius-t.length/2;let l=t.width/2,r=t.length/2;return l>10||(l=10),r>10||(r=10),{points:[i-l,o-r,i-l,o+r,i+l,o+r,i+l,o-r]}},measure:function(t){return{min:t.radius,max:t.radius+O(this._options.length)}},getTooltipParameters:function(){const t=this._options,i=De(this._actualPosition),o=t.radius+t.length/2,l=this.callBase();return l.x=t.x+i.cos*o,l.y=t.y-i.sin*o,l.offset=t.length/2,l}}),Mi=fi.inherit({_isEnabled:function(){return!0},_isVisible:t=>!0,resize(t){return this.callBase(ot(t,0))},_getTextCloudOptions:function(){const t=De(this._actualPosition),i=Lt(this._actualPosition);return{x:this._options.x+t.cos*this._options.radius,y:this._options.y-t.sin*this._options.radius,type:i>270?"left-top":i>180?"top-right":i>90?"right-bottom":"bottom-left"}},measure:function(t){const i=O(this._options.arrowLength)||0;this._measureText();const o=this._textFullHeight+i,l=this._textFullWidth+i;return{min:t.radius,max:t.radius,horizontalOffset:l,verticalOffset:o,inverseHorizontalOffset:l,inverseVerticalOffset:o}}}),Fi=vi.inherit({_isEnabled:function(){return this._options.size>0},_isVisible:t=>!0,resize(t){return this.callBase(ot(t,O(this._options.size)))},_createBarItem:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"}).append(this._rootElement)},_createTracker:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"})},_setBarSides:function(){this._maxSide=this._options.radius,this._minSide=this._maxSide-O(this._options.size)},_getSpace:function(){const t=this._options;return t.space>0?180*t.space/t.radius/Math.PI:0},_isTextVisible:function(){return(this._options.text||{}).indent>0},_setTextItemsSides:function(){const t=this._options,i=O(t.text.indent);this._lineFrom=t.y-t.radius,this._lineTo=this._lineFrom-i,this._textRadius=t.radius+i},_getPositions:function(){const t=this._basePosition,i=this._actualPosition;let o,l;return t>=i?(o=t,l=i):(o=i,l=t),{start:this._startPosition,end:this._endPosition,main1:o,main2:l,back1:Math.min(o+this._space,this._startPosition),back2:Math.max(l-this._space,this._endPosition)}},_buildItemSettings:function(t,i){return{x:this._options.x,y:this._options.y,innerRadius:this._minSide,outerRadius:this._maxSide,startAngle:i,endAngle:t}},_updateTextPosition:function(){const t=De(this._actualPosition);let i=this._options.x+this._textRadius*t.cos,o=this._options.y-this._textRadius*t.sin;i+=t.cos*this._textWidth*.6,o-=t.sin*this._textHeight*.6,this._text.attr({x:i,y:o+this._textVerticalOffset})},_updateLinePosition:function(){const t=this._options.x;let i,o;this._basePosition>this._actualPosition?(i=t-2,o=t):this._basePosition<this._actualPosition?(i=t,o=t+2):(i=t-1,o=t+1),this._line.attr({points:[i,this._lineFrom,i,this._lineTo,o,this._lineTo,o,this._lineFrom]}).rotate(jt(this._actualPosition),t,this._options.y).sharp()},_getTooltipPosition:function(){const t=De((this._basePosition+this._actualPosition)/2),i=(this._minSide+this._maxSide)/2;return{x:this._options.x+t.cos*i,y:this._options.y-t.sin*i}},measure:function(t){const i=this,o={min:t.radius-O(i._options.size),max:t.radius};return i._measureText(),i._hasText&&(o.max+=O(i._options.text.indent),o.horizontalOffset=i._textWidth,o.verticalOffset=i._textHeight),o}}),fe=Number,Vt=Math.max,Vi=hi.inherit({_processOptions:function(){const t=this;switch(t._inner=t._outer=0,wi(t._options.orientation)){case"inside":t._inner=1;break;case"center":t._inner=t._outer=.5;break;default:t._outer=1}},_isVisible:function(t){let i=this._options.width;return i=fe(i)||Vt(fe(i.start),fe(i.end)),t.radius-this._inner*i>0},_createRange:function(t,i){const o=(t.startWidth+t.endWidth)/2;return this._renderer.arc(i.x,i.y,i.radius-this._inner*o,i.radius+this._outer*o,this._translator.translate(t.end),this._translator.translate(t.start)).attr({"stroke-linejoin":"round"})},measure:function(t){let i=this._options.width;return i=fe(i)||Vt(fe(i.start),fe(i.end)),{min:t.radius-this._inner*i,max:t.radius+this._outer*i}}}),Rt=isFinite,$t=Lt,Pt=Kt,Ri=Math.abs,B=Math.max,Te=Math.min,it=Math.round,$i=ii,Pi=Math.PI;function Bi(t,i){const o=Pt(t),l=Pt(i),r=o.cos,c=o.sin,u=l.cos,b=l.sin;return{left:c<=0&&b>=0||c<=0&&b<=0&&r<=u||c>=0&&b>=0&&r>=u?-1:Te(r,u,0),right:c>=0&&b<=0||c>=0&&b>=0&&r>=u||c<=0&&b<=0&&r<=u?1:B(r,u,0),up:r<=0&&u>=0||r<=0&&u<=0&&c>=b||r>=0&&u>=0&&c<=b?-1:-B(c,b,0),down:r>=0&&u<=0||r>=0&&u>=0&&c<=b||r<=0&&u<=0&&c>=b?1:-Te(c,b,0)}}const he=_i.inherit({_rootClass:"dxg-circular-gauge",_factoryMethods:{rangeContainer:"createCircularRangeContainer",indicator:"createCircularIndicator"},_gridSpacingFactor:17,_scaleTypes:{type:"polarAxes",drawingType:"circular"},_getThemeManagerOptions(){const t=this.callBase.apply(this,arguments);return t.subTheme="_circular",t},_updateScaleTickIndent:function(t){const i=t.label.indentFromTick,o=t.tick.visible?t.tick.length:0,l=this._scale.measureLabels(Bt({},this._canvas)),r=t.orientation,c=o;let u=i;if(i>=0)r==="outside"?u+=c:r==="center"&&(u+=c/2);else{const b=B(l.width,l.height);u-=b,r==="inside"?u-=c:r==="center"&&(u-=c/2)}t.label.indentFromAxis=u,this._scale.updateOptions(t)},_setupCodomain:function(){const t=this.option("geometry")||{};let i=t.startAngle,o=t.endAngle,l;i=Rt(i)?$t(i):225,o=Rt(o)?$t(o):-45,Ri(i-o)<1?(o-=360,l={left:-1,up:-1,right:1,down:1}):(i<o&&(o-=360),l=Bi(i,o)),this._area={x:0,y:0,radius:100,startCoord:i,endCoord:o,sides:l},this._translator.setCodomain(i,o)},_getCenter:function(){return this._getElementLayout()},_shiftScale:function(t){const i=this._scale,o=i.getCanvas();o.width=o.height=2*t.radius,i.draw(o);const l=i.getCenter();i.shift({right:t.x-l.x,bottom:t.y-l.y})},_getScaleLayoutValue:function(){return this._area.radius},_getTicksOrientation:function(t){return t.orientation},_getTicksCoefficients:function(t){const i={inner:0,outer:1};return t.orientation==="inside"?(i.inner=1,i.outer=0):t.orientation==="center"&&(i.inner=i.outer=.5),i},_correctScaleIndents:function(t,i,o){i>=0?(t.horizontalOffset=i+o.width,t.verticalOffset=i+o.height):(t.horizontalOffset=t.verticalOffset=0,t.min-=-i+B(o.width,o.height)),t.inverseHorizontalOffset=o.width/2,t.inverseVerticalOffset=o.height/2},_measureMainElements:function(t,i){const o=this._area.radius;let l=0,r=1/0,c=0,u=0,b=0,m=0;const H=this._scale;return $i(t.concat(H),(function(_e,ne){const I=ne.measure?ne.measure({radius:o-ne.getOffset()}):i;I.min>0&&(r=Te(r,I.min)),I.max>0&&(l=B(l,I.max)),I.horizontalOffset>0&&(c=B(c,I.max+I.horizontalOffset)),I.verticalOffset>0&&(u=B(u,I.max+I.verticalOffset)),I.inverseHorizontalOffset>0&&(b=B(b,I.inverseHorizontalOffset)),I.inverseVerticalOffset>0&&(m=B(m,I.inverseVerticalOffset))})),c=B(c-l,0),u=B(u-l,0),{minRadius:r,maxRadius:l,horizontalMargin:c,verticalMargin:u,inverseHorizontalMargin:b,inverseVerticalMargin:m}},_applyMainLayout:function(t,i){const o=this._measureMainElements(t,i),l=this._area,r=l.sides,c={left:(r.left<-.1?o.horizontalMargin:o.inverseHorizontalMargin)||0,right:(r.right>.1?o.horizontalMargin:o.inverseHorizontalMargin)||0,top:(r.up<-.1?o.verticalMargin:o.inverseVerticalMargin)||0,bottom:(r.down>.1?o.verticalMargin:o.inverseVerticalMargin)||0},u=Ki(this._innerRect,(r.down-r.up)/(r.right-r.left),c);let b=Te(oe(u)/(r.right-r.left),ae(u)/(r.down-r.up));b=b-o.maxRadius+l.radius;const m=u.left-oe(u)*r.left/(r.right-r.left),H=u.top-ae(u)*r.up/(r.down-r.up);l.x=it(m),l.y=it(H),l.radius=b,u.left-=c.left,u.right+=c.right,u.top-=c.top,u.bottom+=c.bottom,this._innerRect=u},_getElementLayout:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{x:this._area.x,y:this._area.y,radius:it(this._area.radius-t)}},_getApproximateScreenRange:function(){const t=this._area;let i=Te(this._canvas.width/(t.sides.right-t.sides.left),this._canvas.height/(t.sides.down-t.sides.up));return i>t.totalRadius&&(i=t.totalRadius),i*=.8,-this._translator.getCodomainRange()*i*Pi/180},_getDefaultSize:function(){return{width:300,height:300}},_factory:ni(gi.prototype._factory)});function oe(t){return t.right-t.left}function ae(t){return t.bottom-t.top}function Ki(t,i,o){const l=Bt({},t);let r,c=0,u=0;return o=o||{},i>0&&(l.left+=o.left||0,l.right-=o.right||0,l.top+=o.top||0,l.bottom-=o.bottom||0,oe(l)>0&&ae(l)>0?(r=ae(l)/oe(l),r>1?i<r?c=oe(l):u=ae(l):i>r?u=ae(l):c=oe(l),c>0||(c=u/i),u>0||(u=c*i),c=(oe(l)-c)/2,u=(ae(l)-u)/2,l.left+=c,l.right-=c,l.top+=u,l.bottom-=u):(l.left=l.right=(l.left+l.right)/2,l.top=l.bottom=(l.top+l.bottom)/2)),l}const te=he.prototype._factory.indicators={};he.prototype._factory.createIndicator=bi(te);te._default=Gt;te.rectangleneedle=Gt;te.triangleneedle=Ei;te.twocolorneedle=Oi;te.trianglemarker=zi;te.textcloud=Mi;te.rangebar=Fi;he.prototype._factory.RangeContainer=Vi;pi("dxCircularGauge",he);he.addPlugin(Ai.gauge);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const qt={props:{animation:Object,centerTemplate:{},containerBackgroundColor:String,disabled:Boolean,elementAttr:Object,export:Object,geometry:Object,loadingIndicator:Object,margin:Object,onDisposing:Function,onDrawn:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onIncidentOccurred:Function,onInitialized:Function,onOptionChanged:Function,onTooltipHidden:Function,onTooltipShown:Function,pathModified:Boolean,rangeContainer:Object,redrawOnResize:Boolean,rtlEnabled:Boolean,scale:Object,size:Object,subvalueIndicator:Object,subvalues:Array,theme:String,title:[Object,String],tooltip:Object,value:Number,valueIndicator:Object},emits:{"update:isActive":null,"update:hoveredElement":null,"update:animation":null,"update:centerTemplate":null,"update:containerBackgroundColor":null,"update:disabled":null,"update:elementAttr":null,"update:export":null,"update:geometry":null,"update:loadingIndicator":null,"update:margin":null,"update:onDisposing":null,"update:onDrawn":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onIncidentOccurred":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onTooltipHidden":null,"update:onTooltipShown":null,"update:pathModified":null,"update:rangeContainer":null,"update:redrawOnResize":null,"update:rtlEnabled":null,"update:scale":null,"update:size":null,"update:subvalueIndicator":null,"update:subvalues":null,"update:theme":null,"update:title":null,"update:tooltip":null,"update:value":null,"update:valueIndicator":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=he,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},export:{isCollectionItem:!1,optionName:"export"},geometry:{isCollectionItem:!1,optionName:"geometry"},loadingIndicator:{isCollectionItem:!1,optionName:"loadingIndicator"},margin:{isCollectionItem:!1,optionName:"margin"},rangeContainer:{isCollectionItem:!1,optionName:"rangeContainer"},scale:{isCollectionItem:!1,optionName:"scale"},size:{isCollectionItem:!1,optionName:"size"},subvalueIndicator:{isCollectionItem:!1,optionName:"subvalueIndicator"},title:{isCollectionItem:!1,optionName:"title"},tooltip:{isCollectionItem:!1,optionName:"tooltip"},valueIndicator:{isCollectionItem:!1,optionName:"valueIndicator"}}}};ci(qt);const Li=x(qt),Ut={emits:{"update:isActive":null,"update:hoveredElement":null,"update:duration":null,"update:easing":null,"update:enabled":null},props:{duration:Number,easing:String,enabled:Boolean}};w(Ut);const ji=x(Ut);ji.$_optionName="animation";const Wt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:base":null,"update:fillId":null},props:{base:String,fillId:String}};w(Wt);const Hi=x(Wt);Hi.$_optionName="backgroundColor";const Yt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,dashStyle:String,opacity:Number,visible:Boolean,width:Number}};w(Yt);const Gi=x(Yt);Gi.$_optionName="border";const Xt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:base":null,"update:fillId":null},props:{base:String,fillId:String}};w(Xt);const qi=x(Xt);qi.$_optionName="color";const Jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:fileName":null,"update:formats":null,"update:margin":null,"update:printingEnabled":null,"update:svgToCanvas":null},props:{backgroundColor:String,enabled:Boolean,fileName:String,formats:Array,margin:Number,printingEnabled:Boolean,svgToCanvas:Function}};w(Jt);const Zt=x(Jt);Zt.$_optionName="export";const Qt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:family":null,"update:opacity":null,"update:size":null,"update:weight":null},props:{color:String,family:String,opacity:Number,size:[Number,String],weight:Number}};w(Qt);const Ui=x(Qt);Ui.$_optionName="font";const en={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};w(en);const Wi=x(en);Wi.$_optionName="format";const tn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:endAngle":null,"update:startAngle":null},props:{endAngle:Number,startAngle:Number}};w(tn);const nn=x(tn);nn.$_optionName="geometry";const on={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:font":null,"update:format":null,"update:hideFirstOrLast":null,"update:indentFromTick":null,"update:overlappingBehavior":null,"update:useRangeColors":null,"update:visible":null},props:{customizeText:Function,font:Object,format:[Object,String,Function],hideFirstOrLast:String,indentFromTick:Number,overlappingBehavior:String,useRangeColors:Boolean,visible:Boolean}};w(on);const lt=x(on);lt.$_optionName="label";lt.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"}};const an={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:font":null,"update:show":null,"update:text":null},props:{backgroundColor:String,font:Object,show:Boolean,text:String}};w(an);const ln=x(an);ln.$_optionName="loadingIndicator";ln.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};const sn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:bottom":null,"update:left":null,"update:right":null,"update:top":null},props:{bottom:Number,left:Number,right:Number,top:Number}};w(sn);const Yi=x(sn);Yi.$_optionName="margin";const rn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:length":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,length:Number,opacity:Number,visible:Boolean,width:Number}};w(rn);const un=x(rn);un.$_optionName="minorTick";const dn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:endValue":null,"update:startValue":null},props:{color:[Object,String],endValue:Number,startValue:Number}};w(dn);const ve=x(dn);ve.$_optionName="ranges";ve.$_isCollectionItem=!0;ve.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"}};const cn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:offset":null,"update:orientation":null,"update:palette":null,"update:paletteExtensionMode":null,"update:ranges":null,"update:width":null},props:{backgroundColor:[Object,String],offset:Number,orientation:String,palette:[Array,String],paletteExtensionMode:String,ranges:Array,width:Number}};w(cn);const st=x(cn);st.$_optionName="rangeContainer";st.$_expectedChildren={backgroundColor:{isCollectionItem:!1,optionName:"backgroundColor"},range:{isCollectionItem:!0,optionName:"ranges"}};const pn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDecimals":null,"update:customMinorTicks":null,"update:customTicks":null,"update:endValue":null,"update:label":null,"update:minorTick":null,"update:minorTickInterval":null,"update:orientation":null,"update:scaleDivisionFactor":null,"update:startValue":null,"update:tick":null,"update:tickInterval":null},props:{allowDecimals:Boolean,customMinorTicks:Array,customTicks:Array,endValue:Number,label:Object,minorTick:Object,minorTickInterval:Number,orientation:String,scaleDivisionFactor:Number,startValue:Number,tick:Object,tickInterval:Number}};w(pn);const rt=x(pn);rt.$_optionName="scale";rt.$_expectedChildren={label:{isCollectionItem:!1,optionName:"label"},minorTick:{isCollectionItem:!1,optionName:"minorTick"},tick:{isCollectionItem:!1,optionName:"tick"}};const mn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:blur":null,"update:color":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null},props:{blur:Number,color:String,offsetX:Number,offsetY:Number,opacity:Number}};w(mn);const Xi=x(mn);Xi.$_optionName="shadow";const fn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:width":null},props:{height:Number,width:Number}};w(fn);const Ji=x(fn);Ji.$_optionName="size";const vn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}};w(vn);const hn=x(vn);hn.$_optionName="subtitle";hn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};const _n={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:backgroundColor":null,"update:baseValue":null,"update:beginAdaptingAtRadius":null,"update:color":null,"update:horizontalOrientation":null,"update:indentFromCenter":null,"update:length":null,"update:offset":null,"update:palette":null,"update:secondColor":null,"update:secondFraction":null,"update:size":null,"update:spindleGapSize":null,"update:spindleSize":null,"update:text":null,"update:type":null,"update:verticalOrientation":null,"update:width":null},props:{arrowLength:Number,backgroundColor:String,baseValue:Number,beginAdaptingAtRadius:Number,color:[Object,String],horizontalOrientation:String,indentFromCenter:Number,length:Number,offset:Number,palette:[Array,String],secondColor:String,secondFraction:Number,size:Number,spindleGapSize:Number,spindleSize:Number,text:Object,type:String,verticalOrientation:String,width:Number}};w(_n);const gn=x(_n);gn.$_optionName="subvalueIndicator";gn.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"},text:{isCollectionItem:!1,optionName:"text"}};const bn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:font":null,"update:format":null,"update:indent":null},props:{customizeText:Function,font:Object,format:[Object,String,Function],indent:Number}};w(bn);const yn=x(bn);yn.$_optionName="text";yn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"}};const xn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:length":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,length:Number,opacity:Number,visible:Boolean,width:Number}};w(xn);const wn=x(xn);wn.$_optionName="tick";const kn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:[Number,Object],placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}};w(kn);const Cn=x(kn);Cn.$_optionName="title";Cn.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"}};const Sn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:border":null,"update:color":null,"update:container":null,"update:contentTemplate":null,"update:cornerRadius":null,"update:customizeTooltip":null,"update:enabled":null,"update:font":null,"update:format":null,"update:interactive":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:zIndex":null},props:{arrowLength:Number,border:Object,color:String,container:{},contentTemplate:{},cornerRadius:Number,customizeTooltip:Function,enabled:Boolean,font:Object,format:[Object,String,Function],interactive:Boolean,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,zIndex:Number}};w(Sn);const Nn=x(Sn);Nn.$_optionName="tooltip";Nn.$_expectedChildren={border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"},shadow:{isCollectionItem:!1,optionName:"shadow"}};const In={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:backgroundColor":null,"update:baseValue":null,"update:beginAdaptingAtRadius":null,"update:color":null,"update:horizontalOrientation":null,"update:indentFromCenter":null,"update:length":null,"update:offset":null,"update:palette":null,"update:secondColor":null,"update:secondFraction":null,"update:size":null,"update:spindleGapSize":null,"update:spindleSize":null,"update:text":null,"update:type":null,"update:verticalOrientation":null,"update:width":null},props:{arrowLength:Number,backgroundColor:String,baseValue:Number,beginAdaptingAtRadius:Number,color:[Object,String],horizontalOrientation:String,indentFromCenter:Number,length:Number,offset:Number,palette:[Array,String],secondColor:String,secondFraction:Number,size:Number,spindleGapSize:Number,spindleSize:Number,text:Object,type:String,verticalOrientation:String,width:Number}};w(In);const ut=x(In);ut.$_optionName="valueIndicator";ut.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"},text:{isCollectionItem:!1,optionName:"text"}};const Zi={class:"page-rollform pa-0"},Qi={key:0,class:"rf-loading-overlay"},eo={class:"rf-loader-box"},to={key:0,class:"hint-line"},no={key:1,class:"warn-line"},io={class:"rollform-header"},oo={class:"gauge-wrap"},ao={class:"badge-left"},lo={class:"gauge-center-value text-center"},so={style:{color:"goldenrod"}},ro={class:"clock-wrap"},uo={class:"digital-clock"},co={class:"digital-date"},po={class:"kpi-row"},mo={class:"kpi"},fo={class:"kpi-value"},vo={class:"pb-1 ms-1 me-1"},ho={class:"kpi"},_o={class:"kpi-value"},go={class:"pb-1 ms-1 me-1"},bo={class:"kpi"},yo={class:"kpi-value"},xo={class:"pb-1 ms-1 me-1"},wo={class:"oee-title"},ko={class:"panel status-panel"},Co={class:"form-row mt-2"},So={style:{display:"flex","align-items":"center",gap:"8px"}},No={class:"status-actions justify-between"},Io={class:"status-actions justify-between"},To={class:"status-metrics mt-4 text-center"},Do={class:"metric-time"},Ao={class:"metric-time"},Eo={class:"uclu text-center mt-4"},Oo={class:"metric-time ok"},zo={class:"metric-time warn"},Mo={class:"metric-time"},Fo={class:"panel status-panel"},Vo={width:"60%"},Ro={class:"sayac siparis digit"},$o={width:"60%"},Po={class:"sayac siparis digit"},Bo={width:"60%"},Ko={class:"sayac net digit"},Lo={width:"60%"},jo={class:"sayac net digit"},Ho={width:"60%"},Go={class:"sayac kalan digit"},qo={class:"sayac hurda digit"},Uo={class:"sayac net digit"},Wo={width:"60%"},Yo={class:"bilgi"},Xo={width:"60%"},Jo={class:"bilgi"},Zo={width:"60%"},Qo={class:"bilgi"},ea={class:"panel grid-panel"},ta={class:"rf-activate-summary"},na={class:"mb-2"},ia={class:"mb-2"},oa={class:"mb-2"},aa={class:"d-flex flex-wrap mb-1",style:{"font-size":"0.8rem",gap:"12px"}},la={class:"bilgi"},sa={class:"bilgi"},ra={class:"bilgi"},ua=x({__name:"uretim-rollform",setup(t){const i=di(),o=v(null);function l(){var n;try{return`rollform:lastDurusReason:${((n=q==null?void 0:q.value)==null?void 0:n.istasyon_id)??"unknown"}`}catch{return"rollform:lastDurusReason:unknown"}}function r(){try{const n=localStorage.getItem(l());if(!n)return!1;const e=JSON.parse(n);if(e&&e.break_reason_code&&e.break_reason_code!=="000")return o.value={break_reason_code:e.break_reason_code,description:e.description},!0}catch{}return!1}const c=v([]),u=v(""),b=v(!1),m=v(null),H=M(()=>{var n;return((n=m.value)==null?void 0:n.wstation_code)??"..."}),_e=M(()=>{var n;return((n=m.value)==null?void 0:n.wstation_name)??"..."});function ne(n,e){const f=Number(n??0),h=Number(e??0);return!Number.isFinite(f)||!Number.isFinite(h)||h<=0?0:f*6e4/h}const I=M(()=>{var n,e;return ne((n=m.value)==null?void 0:n.speed,(e=m.value)==null?void 0:e.item_length)}),ie=M(()=>{var n,e;return ne((n=m.value)==null?void 0:n.speed_max,(e=m.value)==null?void 0:e.item_length)}),Tn=M(()=>{var n,e;return ne((n=m.value)==null?void 0:n.speed_target,(e=m.value)==null?void 0:e.item_length)}),Dn={enabled:!1},An={width:260,height:260},En={size:12,color:"#cfd8dc"},dt=M(()=>{const n=Number(ie.value||0);if(n<=0)return 10;const e=Math.max(1,Math.round(n/6));return e>=5?Math.round(e/5)*5:e}),On=M(()=>{const n=Number(dt.value||5);return Math.max(1,Math.round(n/2))}),zn=M(()=>{var e;const n=(e=m.value)==null?void 0:e.statu_id;return n===0?"rgba(192, 167, 167, 0.30)":n===1?"rgba(180, 50, 50, 1.00)":n===2?"green":"#4b7027"}),G=M(()=>{var n;return((n=m.value)==null?void 0:n.statu_id)===1});i.setTitle(`${H.value} (${_e.value})`),document.title=`OFT - ${H.value} | ${_e.value}`;const ct=M(()=>`${H.value} (${_e.value})`),Mn=M(()=>{const n=Number(U.value.oee||0);return n<50?"oee-low":n<70?"oee-mid":n<85?"oee-high":"oee-top"}),Ae=()=>{i.setTitle(ct.value),document.title=`OFT - ${H.value} | ${_e.value}`};oi(async()=>{if(await Fe(),Ae(),await Zn(),!C.value){console.warn("İstasyon tespiti başarısız; periyodikler başlatılmadı.");return}Oe(),xe(),setInterval(xe,1e4),setInterval(()=>{const n=new Date,e=String(n.getHours()).padStart(2,"0"),f=String(n.getMinutes()).padStart(2,"0"),h=String(n.getSeconds()).padStart(2,"0");ft.value=`${e}:${f}:${h}`;const p=["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],k=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];vt.value=`${n.getDate()} ${k[n.getMonth()]} ${n.getFullYear()} ${p[n.getDay()]}`,Oe(),ht()},1e3),setInterval(ue,2e3),At(),Xn(),setTimeout(()=>{ye.value||(ye.value=!0)},15e3),window.addEventListener("keydown",_t),window.addEventListener("keydown",wt)}),ai(()=>{Ae()});const Fn=Ie(()=>i.title,n=>{n!==ct.value&&Ae()},{flush:"post"});li(()=>{Fn(),window.removeEventListener("keydown",_t),window.removeEventListener("keydown",wt)}),Ie(()=>m.value,()=>{Ae(),Oe()});const q=si("userData");function T(n){const e=Number(n??0);return Number.isFinite(e)?new Intl.NumberFormat("tr-TR",{maximumFractionDigits:0,minimumFractionDigits:0}).format(Math.floor(e)):"0"}const Pe=v("00:00:00"),Be=v("00:00"),Ke=v("00:00"),Le=v("00:00"),je=v("00:00"),pt=v(0),mt=v(0),He=v(null),ft=v("00:00:00"),vt=v("...");function Vn(n){const e=Math.max(0,Math.floor(n||0)),f=Math.floor(e/3600),h=Math.floor(e%3600/60),p=e%60,k=$=>String($).padStart(2,"0");return`${k(f)}:${k(h)}:${k(p)}`}function Ee(n){const e=Math.max(0,Math.floor(n||0)),f=Math.floor(e/3600),h=Math.floor(e%3600/60),p=k=>String(k).padStart(2,"0");return`${p(f)}:${p(h)}`}function Oe(){var f;const n=(f=m.value)==null?void 0:f.statu_time;if(n==null){Pe.value="00:00:00";return}let e=0;if(typeof n=="number")n>1e12?e=Math.max(0,Math.floor((Date.now()-n)/1e3)):n>1e9?e=Math.max(0,Math.floor(Date.now()/1e3-n)):e=Math.max(0,Math.floor(n));else if(typeof n=="string"){const h=Date.parse(n);Number.isNaN(h)||(e=Math.max(0,Math.floor((Date.now()-h)/1e3)))}else n instanceof Date&&(e=Math.max(0,Math.floor((Date.now()-n.getTime())/1e3)));Pe.value=Vn(e)}function ht(){if(He.value!=null){const n=Math.max(0,Math.floor((Date.now()-He.value)/1e3));Be.value=Ee(n);const e=Math.max(0,Math.floor(pt.value||0)),f=Math.max(0,Math.floor(mt.value||0));Ke.value=Ee(e),Le.value=Ee(f);const h=Math.max(0,n-e-f);je.value=Ee(h)}else Be.value="00:00",Ke.value="00:00",Le.value="00:00",je.value="00:00"}function R(n){const e=n.toLowerCase();return c.value.find(f=>String(f.description||"").toLowerCase().includes(e))}function _t(n){if(G.value){if(n.key==="F9"){const e=R("çay ve yemek")||R("cay ve yemek")||R("çay & yemek");e&&(o.value={break_reason_code:e.break_reason_code,description:e.description},n.preventDefault())}else if(n.key==="F8")n.preventDefault(),gt();else if(n.key==="F10"){const e=R("yemek")||R("öğle")||R("ogle");e&&(o.value={break_reason_code:e.break_reason_code,description:e.description},n.preventDefault())}}}async function gt(){if(G.value&&C.value)try{await j.post("/api/uretim-rollform/close-and-open-down",{station_id:C.value}),V({message:"Yeni duruş başlatıldı (F8)",type:"success",displayTime:1500}),Promise.allSettled([ue(),xe()])}catch(n){console.error("F8 yeni duruş hata",n),V({message:"Yeni duruş başlatılamadı",type:"error",displayTime:2e3})}}async function Rn(){if(!G.value||D.value)return;const n=R("çay")||R("cay");n?(o.value={break_reason_code:n.break_reason_code,description:n.description},await de()):V({message:"Çay molası sebebi bulunamadı",type:"warning",displayTime:1500})}async function $n(){if(!G.value||D.value)return;const n=R("yemek")||R("öğle")||R("ogle");n?(o.value={break_reason_code:n.break_reason_code,description:n.description},await de()):V({message:"Yemek molası sebebi bulunamadı",type:"warning",displayTime:1500})}const ge=v(!1),be=v(""),Ge=v(null),le=v(!1);let qe=null;function bt(){var n,e;if(!qe){qe=setTimeout(()=>{qe=null},300);try{(e=(n=Ge.value)==null?void 0:n.blur)==null||e.call(n)}catch{}xt()}}function yt(){be.value="",ge.value=!0,Fe(()=>{var n;return(n=Ge.value)==null?void 0:n.focus()})}async function xt(){var k;const n=Number(be.value);if(!Number.isFinite(n)||n<=0){Ue();return}let e=m.value?{...m.value}:null,f=((k=m.value)==null?void 0:k.worder_id)??null,h=-1,p=null;try{if(le.value)return;if(!C.value)throw new Error("İstasyon yok");le.value=!0;const $=typeof performance<"u"&&performance.now?performance.now():Date.now();if(e){const N=Number(e.scrap_qty||0);m.value={...e,scrap_qty:N+n}}if(f&&(h=K.value.findIndex(N=>N.isEmriID===f),h>=0)){p=Number(K.value[h].hurda||0);const N={...K.value[h],hurda:p+n};K.value.splice(h,1,N)}await j.post("/api/uretim-rollform/hurda-gir",{station_id:C.value,qty:n});const z=typeof performance<"u"&&performance.now?performance.now():Date.now();try{console.info(`[Hurda] POST tamam: ${(z-$).toFixed(0)}ms (qty=${n})`)}catch{}V({message:"Hurda kaydedildi",type:"success",displayTime:1200}),ge.value=!1,Promise.allSettled([ue(),At(),xe()])}catch($){console.error("hurda kayıt hata",$);try{if(f!=null){const z=K.value.findIndex(N=>N.isEmriID===f);if(z>=0&&p!=null){const N={...K.value[z],hurda:p};K.value.splice(z,1,N)}}}catch{}try{e!==null&&(m.value=e)}catch{}V({message:"Hurda kaydedilemedi",type:"error",displayTime:2e3})}finally{le.value=!1}}function Ue(){be.value="",ge.value=!1}function wt(n){n.key==="F8"&&(yt(),n.preventDefault())}v("uretim-disi");const Pn=v(!1),ye=v(!1),kt=v(!1),Ct=v(!1),St=v(!1),Nt=v(!1),It=v(!1),Bn=M(()=>kt.value&&Ct.value&&St.value&&Nt.value&&It.value);Ie(Bn,n=>{n&&!ye.value&&(ye.value=!0)});const Kn=M(()=>!ye.value),U=v({availability:0,performance:0,quality:0,oee:0}),Ln=v(null);async function xe(){try{if(!C.value)return;const{data:n}=await j.get("/api/uretim-rollform/kpi",{params:{station_id:C.value}});if(n!=null&&n.kpi){const e=f=>Math.round(Number(f||0)*100);if(U.value={availability:e(n.kpi.availability),performance:e(n.kpi.performance),quality:e(n.kpi.quality),oee:e(n.kpi.oee)},n.shift){Ln.value={id:n.shift.id,start:String(n.shift.start||"").substring(11,16),end:String(n.shift.end||"").substring(11,16)};const f=Date.parse(n.shift.start);Number.isNaN(f)||(He.value=f)}n.raw&&(pt.value=Math.max(0,Math.floor(Number(n.raw.upSeconds||0))),mt.value=Math.max(0,Math.floor(Number(n.raw.downSeconds||0)))),ht(),Pn.value=!0,St.value=!0}}catch(n){console.error("fetchKpiDirect error",n)}}const K=v([]),jn=[{hint:"Aktif Et",text:"Aktif Et",icon:"login",onClick:n=>{var e;return Hn((e=n==null?void 0:n.row)==null?void 0:e.data)}}],se=v(!1);v(null);const S=v(null);function Hn(n){S.value=n,se.value=!0}const we=v(!1),ke=v(null),Tt=v(null),re=v(!1);function Gn(){ke.value=null,we.value=!0,Fe(()=>{var n,e;return(e=(n=Tt.value)==null?void 0:n.focus)==null?void 0:e.call(n)})}function We(){we.value=!1}async function Dt(){if(!re.value&&ke.value!=null)try{re.value=!0,await new Promise(n=>setTimeout(n,800)),V({message:"Üretim girişi kaydedildi (örnek).",type:"success",displayTime:1500}),we.value=!1}catch(n){console.error("Üretim girişi hata",n),V({message:"Üretim girişi kaydedilemedi",type:"error",displayTime:1800})}finally{re.value=!1}}async function qn(){if(!S.value)return;const n=C.value;if(!n)return;const e={wstation_id:n,worder_id:Number(S.value.isEmriID??0),worder_no:S.value.isEmriNo,item_id:0,item_code:S.value.stokKodu,item_name:S.value.stokAdi,order_qty:Number(S.value.plnAd??0),net_qty:Number(S.value.urtAd??0),scrap_qty:Number(S.value.hurda??0)};try{await j.post("/api/uretim-rollform/activate-workorder",e),se.value=!1,ue()}catch(f){console.error("Aktivasyon hatası",f)}}async function ue(){try{if(!C.value){m.value=null;return}const n=await j.get("/api/kapasite-works-info",{params:{station_id:C.value}}),e=Array.isArray(n.data)?n.data:[];m.value=e.length>0?e[0]:null,Oe()}catch(n){console.error("WorksInfo alınamadı",n),m.value=null}finally{Ct.value=!0}}function Un(){var f,h;const n=((f=S.value)==null?void 0:f.stokKodu)||((h=m.value)==null?void 0:h.item_code)||null;if(!n){alert("Önce bir iş emri/ürün seçiniz (stok kodu yok).");return}const e=`/teknik-resim?code=${encodeURIComponent(n)}`;window.open(e,"_blank")}async function At(){try{if(!C.value){K.value=[];return}const{data:n}=await j.get("/api/uretim-rollform/is-emirleri",{params:{istasyon:C.value}}),e=(n||[]).map(f=>({grp:0,isEmriID:f.isemri_id,isEmriNo:f.isemri_no,stokKodu:f.stok_kodu,stokAdi:f.stok_adi,plnAd:Number(f.siparis_miktari??0),ilvAd:0,klnAd:Number(f.kalan_miktar??0),urtAd:Number(f.uretilen_net_miktar??0),hurda:Number(f.toplam_hurda_miktari??0),plnSure:Number(f.operasyon_suresi??0),grcSure:0}));K.value=e}catch(n){console.error("İş emirleri alınamadı",n)}finally{Nt.value=!0}}const L=v(!1),D=v(!1),ze=v(!0),Ye=v(null);function Me(n=0){var e,f,h;try{const p=((e=Ye.value)==null?void 0:e.$el)||((h=(f=Ye.value)==null?void 0:f.$refs)==null?void 0:h.root)||null;if(p){const k=p.querySelector("input")||p.querySelector('[role="combobox"]');if(k){k.focus(),document.activeElement!==k&&n<3&&setTimeout(()=>Me(n+1),40);return}}n<5&&setTimeout(()=>Me(n+1),50)}catch{}}function Wn(){setTimeout(()=>Me(),10)}const Xe=v(!0),Yn=M(()=>({width:110,marginBottom:30,type:"success",text:D.value?"Kaydediliyor...":"Kaydet",stylingMode:"contained",elementAttr:{class:D.value?"btn-loading":""},disabled:D.value,onClick:()=>{D.value||de()}}));function Xn(){C.value&&j.get("/api/durus-sebepleri-al",{params:{istasyon:C.value}}).then(n=>{var e;c.value=((e=n.data)==null?void 0:e.durusSebepleri)||[]}).catch(n=>{console.error("Duruş sebepleri alınamadı",n)}).finally(()=>{It.value=!0})}function Et(){o.value={break_reason_code:"000",description:"GİRİLMEDİ"},L.value=!0,Fe(()=>Me())}async function de(){var n;if(!D.value){if(!o.value){V({message:"Lütfen bir duruş sebebi seçiniz.",type:"error",displayTime:3e3});return}if(!((n=m.value)!=null&&n.worder_id)){V({message:"Aktif iş emri yok.",type:"warning",displayTime:2500}),L.value=!1;return}if(!C.value){V({message:"İstasyon bulunamadı.",type:"error",displayTime:3e3});return}try{D.value=!0,ze.value=!1;const e=typeof performance<"u"&&performance.now?performance.now():Date.now();await j.post("/api/duruskaydet-mekanik",{istasyonID:C.value,selectedDurus:o.value});const f=typeof performance<"u"&&performance.now?performance.now():Date.now();try{console.info(`[Duruş] POST tamam: ${(f-e).toFixed(0)}ms (code=${o.value.break_reason_code})`)}catch{}V({message:"Duruş kaydedildi.",type:"success",displayTime:1600});try{localStorage.setItem(l(),JSON.stringify(o.value))}catch{}L.value=!1,Promise.allSettled([ue(),xe()])}catch(e){console.error("Duruş kaydedilemedi",e),V({message:"Duruş kaydedilemedi.",type:"error",displayTime:3e3})}finally{D.value=!1,ze.value=!0}}}function Jn(n){ze.value||(n.cancel=!0)}Ie(L,(n,e)=>{e&&!n&&ue()});const Ot=v(null);Ie(()=>{var n;return(n=m.value)==null?void 0:n.statu_id},async(n,e)=>{n===1&&Ot.value!==1?Xe.value?!r()&&!L.value&&Et():L.value||Et():n!==1&&(L.value&&(D.value=!1,ze.value=!0,L.value=!1),o.value=null),Ot.value=n??null,Xe.value&&(Xe.value=!1)});const C=v(null),ce=v(null);async function Zn(){var n,e,f;try{ce.value=null;const{data:h}=await j.get("/api/uretim-rollform/detect-station");if(h&&h.station_id){C.value=Number(h.station_id),kt.value=!0;try{const p=Number(((n=q==null?void 0:q.value)==null?void 0:n.id)||((f=(e=q==null?void 0:q.value)==null?void 0:e.user)==null?void 0:f.id));Number.isFinite(p)&&p>0&&await j.post("/api/uretim-rollform/set-operator",{station_id:C.value,operator_id:p})}catch{}}else{C.value=null;const p=h!=null&&h.ip?` – tespit edilen IP: ${h.ip}`:"";ce.value="İstasyon bulunamadı (IP eşleşmedi)"+p}}catch(h){ce.value="İstasyon tespiti hata: "+((h==null?void 0:h.message)||"bilinmiyor")}}return(n,e)=>{const f=ei,h=Qn;return Q(),Z("div",Zi,[Kn.value?(Q(),Z("div",Qi,[a("div",eo,[e[12]||(e[12]=a("div",{class:"rf-spinner","aria-hidden":"true"},null,-1)),e[13]||(e[13]=a("h2",null,"Veriler yükleniyor",-1)),e[14]||(e[14]=a("p",null,"İstasyon, aktif iş emri, sayaç ve KPI verileri hazırlanıyor. Lütfen bekleyin…",-1)),!C.value&&!ce.value?(Q(),Z("small",to,"İstasyon tespiti yapılıyor...")):ce.value?(Q(),Z("small",no,_(ce.value)+" – yeniden deniyor...",1)):zt("",!0)])])):zt("",!0),a("div",io,[s(ee,{class:"match-height"},{default:d(()=>[s(E,{cols:"12",md:"3",sm:"6"},{default:d(()=>[s(pe,{class:"pa-3"},{default:d(()=>[a("section",null,[s(me,{class:"durum-title",style:ui({backgroundColor:zn.value})},{default:d(()=>{var p,k;return[g(_(((p=m.value)==null?void 0:p.statu_id)===0?"KAPALI":((k=m.value)==null?void 0:k.statu_id)===1?"DURUYOR":"ÇALIŞIYOR"),1)]}),_:1},8,["style"]),e[20]||(e[20]=a("hr",null,null,-1)),a("div",oo,[a("div",ao,_(H.value),1),s(y(Li),{class:"oee-gauge",value:I.value,subvalues:[Tn.value],tooltip:Dn,size:An},{default:d(()=>[s(y(nn),{"start-angle":225,"end-angle":-45}),s(y(rt),{"start-value":0,"end-value":ie.value,"tick-interval":dt.value,"minor-tick-interval":On.value},{default:d(()=>[s(y(wn),{length:8,color:"#666"}),s(y(un),{length:4,color:"#444"}),s(y(lt),{"use-range-colors":!0,font:En})]),_:1},8,["end-value","tick-interval","minor-tick-interval"]),s(y(st),{"background-color":"#20252b",offset:10,width:10},{default:d(()=>[s(y(ve),{"start-value":0,"end-value":.4*ie.value,color:"#ce6978"},null,8,["end-value"]),s(y(ve),{"start-value":.4*ie.value,"end-value":.7*ie.value,color:"#caa93b"},null,8,["start-value","end-value"]),s(y(ve),{"start-value":.7*ie.value,"end-value":ie.value,color:"#1e8e3e"},null,8,["start-value","end-value"])]),_:1}),s(y(ut),{type:"triangleNeedle","spindle-size":18,"spindle-gap-size":9,offset:10,width:8}),s(y(Zt),{enabled:!1})]),_:1},8,["value","subvalues"]),a("div",lo,[e[15]||(e[15]=a("div",{class:"label",style:{"font-size":"16px","margin-block":"-10px"}},"Hız (ad/saat)",-1)),a("div",so,_(T(I.value)),1)])]),a("div",ro,[a("div",uo,_(ft.value),1),a("div",co,_(vt.value),1)]),a("div",po,[a("div",mo,[e[16]||(e[16]=a("div",null,"Meço %",-1)),a("div",fo,[g(_(U.value.availability)+" ",1),a("div",vo,[s(Ve,{"model-value":U.value.availability??0,color:"info",height:"4",rounded:!0},null,8,["model-value"])])])]),a("div",ho,[e[17]||(e[17]=a("div",null,"Performans %",-1)),a("div",_o,[g(_(U.value.performance)+" ",1),a("div",go,[s(Ve,{"model-value":U.value.performance??0,color:"success",height:"4",rounded:!0},null,8,["model-value"])])])]),a("div",bo,[e[18]||(e[18]=a("div",null,"Kalite %",-1)),a("div",yo,[g(_(U.value.quality)+" ",1),a("div",xo,[s(Ve,{"model-value":U.value.quality??0,color:"error",height:"4",rounded:!0},null,8,["model-value"])])])])]),s(ee,null,{default:d(()=>[s(E,{cols:"12",class:"text-center"},{default:d(()=>[a("div",wo,[e[19]||(e[19]=g("OEE % ")),a("span",{class:Je(["kpi-oee",Mn.value])},_(U.value.oee),3)])]),_:1})]),_:1})])]),_:1})]),_:1}),s(E,{cols:"12",md:"4",sm:"6"},{default:d(()=>[s(pe,{class:"pa-3"},{default:d(()=>[s(me,{class:"panel-title pa-0"},{default:d(()=>e[21]||(e[21]=[g("DURUM BİLGİLERİ")])),_:1,__:[21]}),e[33]||(e[33]=a("hr",null,null,-1)),a("section",ko,[a("div",Co,[e[23]||(e[23]=a("label",null,"Duruş Sebebi (F8 – Yeni Duruş)",-1)),a("div",So,[s(f,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=p=>o.value=p),items:c.value,"item-title":"description","item-value":"break_reason_code","return-object":"","single-line":"",placeholder:"Seçiniz...",variant:"outlined",disabled:!G.value||D.value,class:Je({"app-select--force-disabled":!G.value||D.value}),onKeydown:W(Y(de,["prevent"]),["enter"])},null,8,["modelValue","items","disabled","class","onKeydown"]),s(A,{color:"success",variant:"tonal",size:"small",disabled:!G.value||D.value||!o.value,onClick:de},{default:d(()=>[e[22]||(e[22]=g(" Kaydet ")),s(Re,{end:"",icon:"tabler-check"})]),_:1,__:[22]},8,["disabled"])]),s(h,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=p=>u.value=p),placeholder:"Açıklama...",disabled:""},null,8,["modelValue"])]),a("div",No,[s(A,{variant:"tonal",color:"error",size:"small"},{default:d(()=>e[24]||(e[24]=[g("Açıklama Gir")])),_:1,__:[24]}),s(Ii,{color:"error",modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=p=>b.value=p),label:"Arızalı",value:"false",height:10},null,8,["modelValue"])]),a("div",Io,[s(A,{variant:"tonal",color:"warning",size:"small",width:"32%",onClick:gt},{default:d(()=>[e[25]||(e[25]=g(" F8 - Yeni Duruş ")),s(Re,{end:"",icon:"tabler-player-skip-forward"})]),_:1,__:[25]}),s(A,{variant:"tonal",color:"warning",size:"small",width:"32%",onClick:Rn},{default:d(()=>[e[26]||(e[26]=g(" F9 - Çay Molası ")),s(Re,{end:"",icon:"tabler-mug"})]),_:1,__:[26]}),s(A,{variant:"tonal",color:"warning",size:"small",width:"32%",onClick:$n},{default:d(()=>[e[27]||(e[27]=g(" F10 - Yemek Molası ")),s(Re,{end:"",icon:"tabler-bowl-spoon"})]),_:1,__:[27]})]),a("div",To,[a("div",null,[e[28]||(e[28]=a("div",{class:"label"},"Durum Süresi",-1)),a("div",Do,_(Pe.value),1)]),a("div",null,[e[29]||(e[29]=a("div",{class:"label"},"Vardiya",-1)),a("div",Ao,_(Be.value),1)])]),a("div",Eo,[a("div",null,[e[30]||(e[30]=a("div",{class:"label"},"Çalışma",-1)),a("div",Oo,_(Ke.value),1)]),a("div",null,[e[31]||(e[31]=a("div",{class:"label"},"Duruş",-1)),a("div",zo,_(Le.value),1)]),a("div",null,[e[32]||(e[32]=a("div",{class:"label"},"Boşta",-1)),a("div",Mo,_(je.value),1)])])])]),_:1,__:[33]})]),_:1}),s(E,{cols:"12",md:"5",sm:"6"},{default:d(()=>[s(pe,{class:"pa-3"},{default:d(()=>{var p,k,$;return[s(me,{class:"panel-title pa-0"},{default:d(()=>e[34]||(e[34]=[g("ÜRETİM RAKAMLARI")])),_:1,__:[34]}),e[49]||(e[49]=a("hr",null,null,-1)),a("section",Fo,[s(Ve,{"model-value":(((p=m.value)==null?void 0:p.net_qty)+((k=m.value)==null?void 0:k.counter))/(($=m.value)==null?void 0:$.order_qty)*100,color:"warning",height:"10",rounded:!0,class:"my-4"},null,8,["model-value"]),s(ee,null,{default:d(()=>[s(E,{cols:"5"},{default:d(()=>{var z,N,X,P,J,Ce,Se,Ne;return[a("div",null,[a("div",Vo,[e[35]||(e[35]=a("div",{class:"label"},"İş Emri Miktarı",-1)),a("div",Ro,_(T((z=m.value)==null?void 0:z.order_qty)),1)]),a("div",$o,[e[36]||(e[36]=a("div",{class:"label"},"Üretilen (uyumsoft)",-1)),a("div",Po,_(T((N=m.value)==null?void 0:N.net_qty)),1)]),a("div",Bo,[e[37]||(e[37]=a("div",{class:"label"},"Sayaç",-1)),a("div",Ko,_(T((X=m.value)==null?void 0:X.counter)),1)]),a("div",Lo,[e[38]||(e[38]=a("div",{class:"label"},"Üretilen (uyum + sayaç)",-1)),a("div",jo,_(T(((P=m.value)==null?void 0:P.net_qty)+((J=m.value)==null?void 0:J.counter))),1)]),a("div",Ho,[e[39]||(e[39]=a("div",{class:"label"},"Kalan",-1)),a("div",Go,_(T((((Ce=m.value)==null?void 0:Ce.order_qty)??0)-((Se=m.value)==null?void 0:Se.counter)-(((Ne=m.value)==null?void 0:Ne.net_qty)??0))),1)])])]}),_:1}),s(E,{cols:"7"},{default:d(()=>{var z,N,X;return[a("div",null,[s(ee,null,{default:d(()=>[s(E,{cols:"6"},{default:d(()=>{var P;return[e[40]||(e[40]=a("div",{class:"label"},"Hurda",-1)),a("div",qo,_(T((P=m.value)==null?void 0:P.scrap_qty)),1)]}),_:1,__:[40]}),s(E,{cols:"6"},{default:d(()=>{var P,J,Ce,Se,Ne;return[e[41]||(e[41]=a("div",{class:"label"},"O.A.%",-1)),a("div",Uo,_(((P=m.value)==null?void 0:P.net_qty)===0||((J=m.value)==null?void 0:J.order_qty)===0?0:((((Ce=m.value)==null?void 0:Ce.net_qty)+((Se=m.value)==null?void 0:Se.counter))/((Ne=m.value)==null?void 0:Ne.order_qty)*100).toFixed(0)),1)]}),_:1,__:[41]})]),_:1}),a("div",Wo,[e[42]||(e[42]=a("div",{class:"label"},"İş Emri No",-1)),a("div",Yo,_((z=m.value)==null?void 0:z.worder_no),1)]),a("div",Xo,[e[43]||(e[43]=a("div",{class:"label"},"Ürün Kodu",-1)),a("div",Jo,_((N=m.value)==null?void 0:N.item_code),1)]),a("div",Zo,[e[44]||(e[44]=a("div",{class:"label"},"Kalan",-1)),a("div",Qo,_((X=m.value)==null?void 0:X.item_name),1)])]),s(ee,{class:"mt-1"},{default:d(()=>[s(E,{cols:"6",class:"mt-0 py-2 pe-1"},{default:d(()=>[s(A,{id:"hurdaGir",block:"",variant:"outlined",color:"error",onClick:yt},{default:d(()=>e[45]||(e[45]=[g(" F8 - Hurda Girişi ")])),_:1,__:[45]})]),_:1}),s(E,{cols:"6",class:"mt-0 py-2 ps-1"},{default:d(()=>[s(A,{variant:"outlined",block:"",onClick:Gn},{default:d(()=>e[46]||(e[46]=[g("İş Emrini Kapat")])),_:1,__:[46]})]),_:1})]),_:1}),s(ee,{class:"mt-1"},{default:d(()=>[s(E,{cols:"6",class:"mt-0 py-2 pe-1"},{default:d(()=>[s(A,{variant:"outlined",block:"",onClick:Un},{default:d(()=>e[47]||(e[47]=[g("Teknik Resim")])),_:1,__:[47]})]),_:1}),s(E,{cols:"6",class:"mt-0 py-2 ps-1"},{default:d(()=>[s(A,{variant:"outlined",block:""},{default:d(()=>e[48]||(e[48]=[g("Ürün Etiketi Bas")])),_:1,__:[48]})]),_:1})]),_:1})]}),_:1})]),_:1})])]}),_:1,__:[49]})]),_:1})]),_:1})]),a("section",ea,[s(y(Ci),{class:"orders-grid","data-source":K.value,"hover-state-enabled":!0,"row-alternation-enabled":!1,"show-borders":!1,"column-auto-width":!0,"column-resizing-mode":"nextColumn","column-min-width":80,height:"360"},{default:d(()=>[s(y(F),{type:"buttons",width:"30",buttons:jn}),s(y(F),{"data-field":"grp",caption:"GRP",width:"60",visible:!1}),s(y(F),{"data-field":"isEmriID",caption:"İŞ EMRİ ID",width:"140"}),s(y(F),{"data-field":"isEmriNo",caption:"İŞ EMRİ NO",width:"140"}),s(y(F),{"data-field":"stokKodu",caption:"STOK KODU",width:"120"}),s(y(F),{"data-field":"stokAdi",caption:"STOK ADI"}),s(y(F),{"data-field":"plnAd",caption:"PLN.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(F),{"data-field":"ilvAd",caption:"İLV.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(F),{"data-field":"klnAd",caption:"KLN.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(F),{"data-field":"urtAd",caption:"ÜRT.AD",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(F),{"data-field":"hurda",caption:"HURDA",width:"90","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(F),{"data-field":"plnSure",caption:"PLN.SÜRE",width:"100","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(F),{"data-field":"grcSure",caption:"GRÇ.SÜRE",width:"100","data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),s(y(ki),{visible:!0,width:240})]),_:1},8,["data-source"])]),e[74]||(e[74]=ri('<div class="bottom-tabs" data-v-a359aed7><button class="tab active" data-v-a359aed7>İş Emirleri</button><button class="tab" data-v-a359aed7>Duruşlar</button><button class="tab" data-v-a359aed7>Hurdalar</button><button class="tab" data-v-a359aed7>Ölçümler</button><button class="tab" data-v-a359aed7>Kısayollar</button></div>',1)),s(tt,{modelValue:ge.value,"onUpdate:modelValue":e[4]||(e[4]=p=>ge.value=p),"max-width":"400"},{default:d(()=>[s(pe,null,{default:d(()=>[s(me,null,{default:d(()=>e[50]||(e[50]=[g("Hurda Girişi")])),_:1,__:[50]}),s(Qe,null,{default:d(()=>[s(Ft,{ref_key:"hurdaInputRef",ref:Ge,modelValue:be.value,"onUpdate:modelValue":e[3]||(e[3]=p=>be.value=p),label:"Hurda Miktarı",type:"number","hide-details":"",min:1,step:"1",autofocus:"",onKeydown:[W(Y(bt,["prevent"]),["enter"]),W(Y(Ue,["prevent"]),["esc"])],onKeyup:W(Y(bt,["prevent"]),["enter"])},null,8,["modelValue","onKeydown","onKeyup"]),e[51]||(e[51]=a("div",{class:"text-caption mt-2"},"Enter = Kaydet, Esc = İptal",-1))]),_:1,__:[51]}),s(Ze,null,{default:d(()=>[s(et),s(A,{variant:"text",color:"grey",onClick:Ue},{default:d(()=>e[52]||(e[52]=[g("İptal (Esc)")])),_:1,__:[52]}),s(A,{variant:"elevated",color:"error",onClick:xt,loading:le.value,disabled:le.value},{default:d(()=>[le.value?(Q(),Z($e,{key:0},[s(Mt,{indeterminate:"",size:"18",color:"white",class:"mr-2"}),e[53]||(e[53]=g(" Kaydediliyor... "))],64)):(Q(),Z($e,{key:1},[g("Kaydet (Enter)")],64))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(tt,{modelValue:se.value,"onUpdate:modelValue":e[6]||(e[6]=p=>se.value=p),"max-width":"480",onKeydown:e[7]||(e[7]=W(Y(p=>se.value=!1,["prevent","stop"]),["esc"]))},{default:d(()=>[s(pe,null,{default:d(()=>[s(me,null,{default:d(()=>e[54]||(e[54]=[g("İş Emrini Aktif Et")])),_:1,__:[54]}),s(Qe,null,{default:d(()=>{var p,k,$,z,N,X,P,J;return[a("div",ta,[a("div",na,[e[55]||(e[55]=a("strong",null,"İş Emri No:",-1)),g(" "+_((p=S.value)==null?void 0:p.isEmriNo),1)]),a("div",ia,[e[56]||(e[56]=a("strong",null,"Stok Kodu:",-1)),g(" "+_((k=S.value)==null?void 0:k.stokKodu),1)]),a("div",oa,[e[57]||(e[57]=a("strong",null,"Stok Adı:",-1)),g(" "+_(($=S.value)==null?void 0:$.stokAdi),1)]),a("div",aa,[a("div",null,[e[58]||(e[58]=a("strong",null,"Plan:",-1)),g(" "+_(T((z=S.value)==null?void 0:z.plnAd)),1)]),a("div",null,[e[59]||(e[59]=a("strong",null,"İlave:",-1)),g(" "+_(T((N=S.value)==null?void 0:N.ilvAd)),1)]),a("div",null,[e[60]||(e[60]=a("strong",null,"Kalan:",-1)),g(" "+_(T((X=S.value)==null?void 0:X.klnAd)),1)]),a("div",null,[e[61]||(e[61]=a("strong",null,"Üretilen:",-1)),g(" "+_(T((P=S.value)==null?void 0:P.urtAd)),1)]),a("div",null,[e[62]||(e[62]=a("strong",null,"Hurda:",-1)),g(" "+_(T((J=S.value)==null?void 0:J.hurda)),1)])]),e[63]||(e[63]=a("div",{class:"text-caption",style:{opacity:"0.7"}},"Bu iş emrini istasyonda aktif etmek istediğinize emin misiniz?",-1))])]}),_:1}),s(Ze,null,{default:d(()=>[s(et),s(A,{variant:"text",onClick:e[5]||(e[5]=p=>se.value=!1)},{default:d(()=>e[64]||(e[64]=[g("Vazgeç")])),_:1,__:[64]}),s(A,{color:"primary",variant:"flat",onClick:qn},{default:d(()=>e[65]||(e[65]=[g("Onayla")])),_:1,__:[65]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(tt,{modelValue:we.value,"onUpdate:modelValue":e[9]||(e[9]=p=>we.value=p),"max-width":"520",onKeydown:W(Y(We,["prevent","stop"]),["esc"])},{default:d(()=>[s(pe,null,{default:d(()=>[s(me,{class:"text-h5",style:{"background-color":"green",color:"black"}},{default:d(()=>e[66]||(e[66]=[g("Üretim Girişi")])),_:1,__:[66]}),s(Qe,null,{default:d(()=>[s(ee,{class:"mb-2"},{default:d(()=>[s(E,{cols:"12",sm:"4"},{default:d(()=>{var p;return[e[67]||(e[67]=a("div",{class:"label"},"İş Emri Miktarı",-1)),a("div",la,_(T((p=m.value)==null?void 0:p.order_qty)),1)]}),_:1,__:[67]}),s(E,{cols:"12",sm:"4"},{default:d(()=>{var p;return[e[68]||(e[68]=a("div",{class:"label"},"Üretilen (uyum)",-1)),a("div",sa,_(T((p=m.value)==null?void 0:p.net_qty)),1)]}),_:1,__:[68]}),s(E,{cols:"12",sm:"4"},{default:d(()=>{var p;return[e[69]||(e[69]=a("div",{class:"label"},"Sayaç",-1)),a("div",ra,_(T((p=m.value)==null?void 0:p.counter)),1)]}),_:1,__:[69]})]),_:1}),s(Ft,{ref_key:"uretimInputRef",ref:Tt,modelValue:ke.value,"onUpdate:modelValue":e[8]||(e[8]=p=>ke.value=p),modelModifiers:{number:!0},type:"number",label:"Elle Üretim Miktarı",variant:"outlined",density:"comfortable",min:0,step:1,"hide-details":"",autofocus:"",onKeydown:[W(Y(Dt,["prevent"]),["enter"]),W(Y(We,["prevent"]),["esc"])]},null,8,["modelValue","onKeydown"]),e[70]||(e[70]=a("div",{class:"text-caption mt-2"},"Sayaç değeri yanlış olabilir. Gerçek sayıyı giriniz...",-1))]),_:1,__:[70]}),s(Ze,null,{default:d(()=>[s(et),s(A,{variant:"outlined",color:"grey",onClick:We},{default:d(()=>e[71]||(e[71]=[g("Vazgeç")])),_:1,__:[71]}),s(A,{color:"primary",variant:"outlined",onClick:Dt,disabled:ke.value==null||re.value,loading:re.value},{default:d(()=>[re.value?(Q(),Z($e,{key:0},[s(Mt,{indeterminate:"",size:"18",color:"primary",class:"mr-2"}),e[72]||(e[72]=g(" Kaydediliyor... "))],64)):(Q(),Z($e,{key:1},[g("Kaydet (Enter)")],64))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]),s(y(Ni),{visible:L.value,"onUpdate:visible":e[11]||(e[11]=p=>L.value=p),width:500,height:200,"hide-on-outside-click":!1,"show-close-button":!1,"drag-enabled":!1,"close-on-back-button":!1,"defer-rendering":!1,"focus-state-enabled":!0,shading:!0,"shading-color":"rgba(0,0,0,0.5)","on-hiding":Jn,titleTemplate:"title",animation:{show:{type:"fade",duration:120},hide:{type:"fade",duration:80}},"on-shown":Wn},{content:d(()=>[s(ee,{class:"pa-4"},{default:d(()=>[s(f,{ref_key:"durusSelectRef",ref:Ye,modelValue:o.value,"onUpdate:modelValue":e[10]||(e[10]=p=>o.value=p),items:c.value,"item-title":"description","item-value":"break_reason_code","return-object":"",label:"Duruş Sebebi","single-line":"",placeholder:"Seçiniz...",variant:"outlined",disabled:!G.value||D.value,class:Je({"app-select--force-disabled":!G.value||D.value}),onKeydown:W(Y(de,["prevent"]),["enter"])},null,8,["modelValue","items","disabled","class","onKeydown"])]),_:1})]),title:d(()=>e[73]||(e[73]=[a("p",{class:"popup-title"},"Duruş Sebebini Giriniz",-1)])),default:d(()=>[s(y(Si),{widget:"dxButton",toolbar:"bottom",location:"center",options:Yn.value},null,8,["options"])]),_:1},8,["visible"])])}}}),al=Ti(ua,[["__scopeId","data-v-a359aed7"]]);export{al as default};
