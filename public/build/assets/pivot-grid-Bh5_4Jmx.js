import{p as po,a as he}from"./index-BQIgBoUx.js";import{v as go,d as ge,s as I,aT as fo,W as hn,au as pn,b1 as Oe,ad as mo,z as gn,j as fn,aM as _o,M as Co,X as mn,o as Ae,J as xo,e as we,g as $e,D as Rt,a as Ht,b as $t,b2 as wo,b3 as So,bd as vo,P as Ie,a9 as Ge,aG as Ke,n as ue,w as Me,q as tt,C as Ct,aL as yo,aN as To}from"./dom_component-BKjseBUi.js";import{d4 as G,df as ne,d1 as X,e0 as lt,d2 as fe,d3 as L,dD as ee,dK as _n,dn as Eo,dG as We,a$ as nt,dC as De,d6 as Be,dc as ve,dL as Mt,d9 as ot,da as bo,d$ as oe,dP as Fo,db as kt,ei as Ao,ea as Cn,dt as be,e1 as Po,d_ as Z,ed as Io,d as ce}from"./main-DCUJhUhR.js";import{g as Do,B as xt,P as xn}from"./m_select_box-DmabWyr0.js";import{ah as No,ai as Ot,aj as Lo,ak as Ro,g as ke,al as Ho,am as $o,an as Mo,ao as ko,ap as Oo,C as wn,aq as Bo}from"./m_row_dragging-BGM0kDgc.js";import{d as Vo,c as Go}from"./themes-DUCqBcv-.js";import{s as Wo,W as Sn}from"./overlay-IWi9orsQ.js";import{b as Xe,A as zo,d as bt,C as jo,q as Uo,a as Bt,f as Vt,e as ze,S as qo,c as Yo}from"./m_resize_observer-D-ZSYfzD.js";import{f as Je}from"./format_helper-XMU9hzjj.js";import{g as Ko}from"./language_codes-LmU07nLw.js";import{y as Xo}from"./data-grid-CYOqx4Ho.js";const Jo={scrollBarMeasureElement:"dx-pivotgrid-scrollbar-measure-element"},_e=function(t,e,n,o){const a=t._initProperties=t._initProperties||{},l=o?n:t[e];(!Object.prototype.hasOwnProperty.call(a,e)||o)&&e!=="_initProperties"&&(a[e]=l),t[e]=n};function Qo(t){return zo.sendRequest(t)}let Gt=new Date;function vn(t){const e=function(n,o,a,l,u,s){l=l||[],n=n||[];let d,p;u=u||0;function x(g,C,b){ee(e(n,o,a,l,C,b)).done(g.resolve)}for(d=u;d<n.length;d+=1){if(t&&d>u&&d%1e4===0&&new Date-Gt>=300)return Gt=new Date,p=new ne,x(p,d,!1),p;const g=n[d];if(!s){if(l.unshift(g),a&&o(l,d)===!1)return;if(g.children){const C=e(g.children,o,a,l);if(t&&C)return p=new ne,C.done(x(p,d,!0)),p}}if(s=!1,!a&&o(l,d)===!1)return;l.shift(),n[d]!==g&&(d-=1)}};return e}const ae=vn(!1),me=vn(!0);function Ee(t,e){if(t&&G(e))for(let n=0;n<t.length;n+=1){const o=t[n];if(o.name===e||o.caption===e||o.dataField===e||o.index===e)return n}return-1}function at(t,e){const n=t===t&&Je.format(t,e.format),o={value:t,valueText:n||""};return e.customizeText?e.customizeText.call(e,o):o.valueText}function Qe(t){return function(e,n){let o=0;const a=t(e),l=t(n),u=G(a),s=G(l);return u&&s&&(a>l?o=1:a<l&&(o=-1)),u&&!s&&(o=1),!u&&s&&(o=-1),o}}function de(t){const e=[];for(let n=t.length-1;n>=0;n-=1)e.push(t[n].key||t[n].value);return e}function rt(t,e,n,o){n=n||0,o=o||"children",t.length&&e(t,n);for(let l=0;l<t.length;l+=1){var a;const u=t[l];(a=u[o])!==null&&a!==void 0&&a.length&&rt(u[o],e,n+1,o)}}function yn(t,e){const n=[];for(let o=0;o<t.length;o+=1)n.push(Math.max(t[o]||0,e[o]||0));return n}function Ve(t,e){const n=t[e],o=(e==="columns"?t.columnExpandedPaths:t.rowExpandedPaths)||[];let a=0;for(t.headerName===e?a=t.path.length:t.headerName&&t.headerName!==e&&t.oppositePath?a=t.oppositePath.length:L(o,((l,u)=>{a=Math.max(a,u.length)}));n[a+1]&&n[a].expanded;)a+=1;return a}function Zo(t){return We(["year","quarter","month"],((e,n)=>X({},t,{groupInterval:e,groupIndex:n})))}function Tn(t,e,n,o){const a=[];return Object.keys(e||[]).forEach((l=>{if(l&&l.startsWith("__"))return;let u=1;const s=n.length?`${n}.${l}`:l;let d=o[s];const p=_n(s);let x=e[l],g;for(;!G(x)&&t[u];)x=p(t[u]),u+=1;!d&&G(x)&&(d=Eo(x)),g=[{dataField:s,dataType:d,groupName:d==="date"?l:void 0,groupInterval:void 0,displayFolder:n}],d==="date"?g=g.concat(Zo(g[0])):d==="object"&&(g=Tn(t,x,s,o)),a.push.apply(a,g)})),a}function En(t,e){const n=Ft(e);return Tn(t,t[0],"",n)}function Ft(t){const e={};return L(t,((n,o)=>{e[o.dataField]=e[o.dataField]||o.dataType})),e}const ea={month:t=>lt.getMonthNames()[t-1],quarter:t=>lt.format(new Date(2e3,3*t-1),"quarter"),dayOfWeek:t=>lt.getDayNames()[t]};function At(t){if(t.dataType==="date")t.format||_e(t,"format",ea[t.groupInterval]);else if(t.dataType==="number"){const e=fe(t.groupInterval)&&t.groupInterval>0&&t.groupInterval;e&&!t.customizeText&&_e(t,"customizeText",(n=>{const o=n.value+e,a=Je.format(o,t.format);return n.valueText&&a?`${n.valueText} - ${a}`:""}))}}function ye(t,e){const n=[];e=e||[];for(let o=0;o<e.length;o+=1)n.push(X({},t[o],{groupIndex:null,groupName:null,filterType:"include",filterValues:[e[o]]}));return n}const Pt={createDrillDownDataSource(t,e){const n=this.getDrillDownItems(t,e);function o(l){return function(u){let s;return s=new ne,ee(n).done((d=>{new bt(d)[l](u).done(s.resolve).fail(s.reject)})).fail(s.reject),s}}return new Xe({load:o("load"),totalCount:o("totalCount"),key:this.key()})}},bn=t=>t.offsetWidth-t.clientWidth,Fn=go((()=>{const t=ge.getDocument();t.body.insertAdjacentHTML("beforeend",`<div class="${Jo.scrollBarMeasureElement}"></div>`);const e=t.body.lastElementChild,n=bn(e);return e&&t.body.removeChild(e),n})),It={setFieldProperty:_e,sendRequest:Qo,foreachTree:ae,foreachTreeAsync:me,findField:Ee,formatValue:at,getCompareFunction:Qe,createPath:de,foreachDataLevel:rt,mergeArraysByMaxValue:yn,getExpandedLevel:Ve,discoverObjectFields:En,getFieldsDataType:Ft,setDefaultFieldValueFormatting:At,getFiltersByPath:ye,storeDrillDownMixin:Pt,getScrollbarWidth:bn,calculateScrollbarWidth:Fn},ta={number:"numeric",date:"datetime"},wt="dxPivotGridUnbinding";function Wt(t,e){const n=[],o=e.length-1;return L(t,((a,l)=>{n.push(l.text||at(l.value,e[o-a]))})),n.reverse()}function zt(t){let e=0;return ae(t,(n=>{e=Math.max(e,n.length-1)})),e}function na(t,e){let{chartDataItem:n}=t,o=e&&e(t);return o?(n=X({},n,o.chartDataItem),o=X({},t,o,{chartDataItem:n}),o):t}function oa(t,e,n){const o=t.getData(),a=[],l=t.getAreaFields("data"),u=t.getAreaFields("row"),s=t.getAreaFields("column"),d=[{index:o.grandTotalColumnIndex,children:o.columns}],p=[{index:o.grandTotalRowIndex,children:o.rows}],x=zt(p),g=zt(d);let C,b,A,y,H,R,O,V,r,i;function c(){const m=(o.values[A]||[])[O]||[],v=m[C];let T,S={rowPath:R,maxRowLevel:x,rowPathFormatted:H,rowFields:u,columnPathFormatted:i,maxColumnLevel:g,columnPath:r,columnFields:s,dataFields:l,dataIndex:C,dataValues:m,visible:V&&y},E=(e.inverted?i:H).join(" - "),h=(e.inverted?H:i).join("/");l.length>1&&((e.putDataFieldsInto==="args"||e.putDataFieldsInto==="both")&&(h+=` | ${b.caption}`),e.putDataFieldsInto!=="args"&&(E+=` | ${b.caption}`,e.dataFieldsDisplayMode!=="singleAxis"&&(T=b.caption))),S.chartDataItem={val:v===void 0?null:v,series:E,arg:h},S=na(S,e.processCell),S.visible&&(n[S.chartDataItem.series]=n[S.chartDataItem.series]||T,a.push(S.chartDataItem))}function f(m){ae(p,(v=>{A=v[0].index,v=v.slice(0,v.length-1),y=x===v.length,R=de(v),H=Wt(v,u),R.length===0&&(H=[e.grandTotalText]),ae(d,(T=>{O=T[0].index,T=T.slice(0,T.length-1),V=g===T.length,r=de(T),i=Wt(T,s),r.length===0&&(i=[e.grandTotalText]),m()}))}))}function _(m){L(l,((v,T)=>{b=T,C=v,m()}))}return e.alternateDataFields===!1?_((()=>{f(c)})):f((()=>{_(c)})),a}function aa(t,e){const n=t.getAreaFields("data");if(e.putDataFieldsInto!=="args"&&e.dataFieldsDisplayMode!=="singleAxis"||n.length===1){const o=[];return L(n,((a,l)=>{const u={name:l.caption,title:l.caption,valueType:ta[l.dataType]||l.dataType,label:{format:l.format}};l.customizeText&&(u.label.customizeText=function(s){return l.customizeText.call(l,s)}),e.dataFieldsDisplayMode==="splitPanes"&&(u.pane=l.caption),o.push(u)})),o}return[{}]}function ra(t,e){const n=[],o=t.getAreaFields("data");return o.length>1&&e.dataFieldsDisplayMode==="splitPanes"&&e.putDataFieldsInto!=="args"&&L(o,((a,l)=>{n.push({name:l.caption})})),n.length||n.push({}),n}function la(t,e){const{customizeSeries:n}=e,{customizeChart:o}=e;let a={valueAxis:aa(t,e),panes:ra(t,e)};const l={};return o&&(a=X(!0,{},a,o(a))),a.dataSource=oa(t,e,l),a.seriesTemplate={nameField:"series",customizeSeries(u){let s={};return e.dataFieldsDisplayMode==="splitPanes"?s.pane=l[u]:e.dataFieldsDisplayMode!=="singleAxis"&&(s.axis=l[u]),n&&(s=X(s,n(u,s))),s}},a}function sa(t){if(!t)return!1;if(t.NAME)return t.NAME==="dxChart"&&t;const e=I(t);return e.data("dxChart")&&e.dxChart("instance")}function ia(t){const e=t.$element().data(wt);e&&e()}const da={bindChart(t,e){e=X({},e);const n=this,o=function(){e.grandTotalText=n.option("texts.grandTotal");const l=la(n.getDataSource(),e);t.option(l)};if(t=sa(t),!t)return null;ia(t),n.on("changed",o),o();const a=function(){t.$element().removeData(wt),n.off("changed",o)};return t.on("disposing",a),this.on("disposing",a),t.$element().data(wt,a),a}};function ca(t){const e=t();let n={};return function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const l={top:o.top!==void 0?Math.ceil(o.top):void 0,left:o.left!==void 0?Math.ceil(o.left):void 0},u=l.top===n.top&&l.left===n.left;!a&&u||(n=l,e.scrollTo(o))}}const ua=function(t){let e=0;const{offsetWidth:n}=t;if(t.getBoundingClientRect){const o=pn(t);e=o.width,e||(e=o.right-o.left),e<=n-1&&(e=n)}return e>0?e:n};function jt(t,e,n,o){let a=0,l=0;const u=n/2;return t+o-(e+n)>1?(t>=e+n+u&&(l=parseInt((t-(e+n))/u,10)),a=e+n+u*l):t<e?(t<=e-u&&(l=parseInt((t-(e-u))/u,10)),a=e-(n-u*l)):a=e,a}class Dt{constructor(e){this.component=e}option(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return this.component.option.apply(this.component,arguments)}_getRowElement(e){const n=this;return n._tableElement&&n._tableElement.length>0?n._tableElement[0].rows[e]:null}_createGroupElement(){return I("<div>")}_createTableElement(){return I("<table>")}_getCellText(e,n){let o=e.isWhiteSpace?"&nbsp":e.text||"&nbsp";return n&&(o.indexOf("<")!==-1||o.indexOf(">")!==-1)&&(o=I("<div>").text(o).html()),o}_getRowClassNames(){}_applyCustomStyles(e){e.cell.width&&e.cssArray.push(`min-width:${e.cell.width}px`),e.cell.sorted&&e.classArray.push("dx-pivotgrid-sorted")}_getMainElementMarkup(){return ge.createElement("tbody")}_getCloseMainElementMarkup(){return"</tbody>"}_renderTableContent(e,n){const o=this,a=n.length;let l,u,s,d,p;const x=o.option("rtlEnabled"),g=o.option("encodeHtml");let C;e.data("area",o._getAreaName()),e.data("data",n),e.css("width","");const b=this._getMainElementMarkup();for(s=0;s<a;s+=1){l=n[s],C=[];const A=ge.createElement("tr");for(d=0;d<l.length;d+=1){u=l[d],this._getRowClassNames(s,u,C);const y=ge.createElement("td");if(u){u.rowspan&&y.setAttribute("rowspan",u.rowspan||1),u.colspan&&y.setAttribute("colspan",u.colspan||1);const R={cellElement:void 0,cell:u,cellsCount:l.length,cellIndex:d,rowElement:void 0,rowIndex:s,rowsCount:a,rtlEnabled:x,classArray:[],cssArray:[]};if(o._applyCustomStyles(R),R.cssArray.length&&fo(y,R.cssArray.join(";")),R.classArray.length&&y.setAttribute("class",R.classArray.join(" ")),G(u.expanded)){const O=ge.createElement("div");O.classList.add("dx-expand-icon-container");const V=ge.createElement("span");V.classList.add("dx-expand"),O.appendChild(V),y.appendChild(O)}p=this._getCellText(u,g)}else p="";const H=ge.createElement("span");if(G(u.wordWrapEnabled)&&(H.style.whiteSpace=u.wordWrapEnabled?"normal":"nowrap"),H.innerHTML=p,y.appendChild(H),u.sorted){const R=ge.createElement("span");R.classList.add("dx-icon-sorted"),y.appendChild(R)}A.appendChild(y)}C.length&&A.setAttribute("class",C.join(" ")),b.appendChild(A)}e.append(b),this._triggerOnCellPrepared(e,n)}_triggerOnCellPrepared(e,n){const o=this,a=e.find("tr"),l=o._getAreaName(),u=o.option("onCellPrepared"),s=o.component._eventsStrategy.hasEvent("cellPrepared");let d,p,x;const g=this.component._defaultActionArgs();let C,b,A,y;if(u||s)for(A=0;A<n.length;A+=1)for(C=n[A],d=a.eq(A),y=0;y<C.length;y+=1)b=C[y],p=d.children().eq(y),x={area:l,rowIndex:A,columnIndex:y,cellElement:hn(p),cell:b},s?o.component._trigger("onCellPrepared",x):u(X(x,g))}_getRowHeight(e){const n=this._getRowElement(e);let o=0;const{offsetHeight:a}=n;return n&&n.lastChild?(n.getBoundingClientRect&&(o=pn(n).height,o<=a-1&&(o=a)),o>0?o:a):0}_setRowHeight(e,n){const o=this._getRowElement(e);o&&(o.style.height=`${n}px`)}getRowsLength(){const e=this;return e._tableElement&&e._tableElement.length>0?e._tableElement[0].rows.length:0}getRowsHeight(){const e=this,n=[],o=e.getRowsLength();for(let a=0;a<o;a+=1)n.push(e._getRowHeight(a));return n}setRowsHeight(e){const n=this;let o=0;const a=e.length;for(let l=0;l<a;l+=1)o+=e[l],n._setRowHeight(l,e[l]);this._tableHeight=o,this._tableElement[0].style.height=`${o}px`}getColumnsWidth(){const e=this.getRowsLength();let n,o,a,l;const u=[],s=[],d=function(p,x,g,C,b){let A,y;for(A=0;A<C;A+=1)for(y=0;y<b;y+=1)p[x+A]=p[x+A]||[],p[x+A][g+y]=!0};if(e)for(n=0;n<e;n+=1)for(u[n]=u[n]||[],o=this._getRowElement(n),a=0;a<o.cells.length;a+=1){for(l=0;u[n][l];l+=1);d(u,n,l,o.cells[a].rowSpan,o.cells[a].colSpan),o.cells[a].colSpan===1&&(s[l]=s[l]||ua(o.cells[a]))}return s}setColumnsWidth(e){let n;const o=this._tableElement[0];this._colgroupElement.html("");const a=this.getColumnsCount(),l=[];for(n=0;n<a;n+=1)l.push(e[n]||0);for(n=a;n<e.length&&e;n+=1)l[a-1]+=e[n];for(n=0;n<a;n+=1){const u=ge.createElement("col");u.style.width=`${l[n]}px`,this._colgroupElement.append(u)}this._tableWidth=l.reduce(((u,s)=>u+s),0),o.style.width=`${this._tableWidth}px`,o.style.tableLayout="fixed"}resetColumnsWidth(){Oe(this._colgroupElement.find("col"),"auto"),this._tableElement.css({width:"",tableLayout:""})}setGroupWidth(e){this._getScrollable().option("width",e)}setGroupHeight(e){this._getScrollable().option("height",e)}getGroupHeight(){return this._getGroupElementSize("height")}getGroupWidth(){return this._getGroupElementSize("width")}_getGroupElementSize(e){const n=this.groupElement()[0].style[e];return n.indexOf("px")>0?parseFloat(n):null}groupElement(){return this._groupElement}tableElement(){return this._tableElement}element(){return this._rootElement}headElement(){return this._tableElement.find("thead")}_setTableCss(e){this.option("rtlEnabled")&&(e.right=e.left,delete e.left),this.tableElement().css(e)}setVirtualContentParams(e){this._virtualContent.css({width:e.width,height:e.height}),this.groupElement().addClass("dx-virtual-mode")}disableVirtualMode(){this.groupElement().removeClass("dx-virtual-mode")}_renderVirtualContent(){const e=this;!e._virtualContent&&e.option("scrolling.mode")==="virtual"&&(e._virtualContent=I("<div>").addClass("dx-virtual-content").insertBefore(e._tableElement))}reset(){const e=this._tableElement[0];if(this._fakeTable&&this._fakeTable.detach(),this._fakeTable=null,this.disableVirtualMode(),this.setGroupWidth("100%"),this.setGroupHeight("auto"),this.resetColumnsWidth(),e){for(let n=0;n<e.rows.length;n+=1)e.rows[n].style.height="";e.style.height="",e.style.width="100%"}}_updateFakeTableVisibility(){const e=this,n=e.tableElement()[0],o=e.option("rtlEnabled")?"right":"left",a=e._fakeTable[0];n.style.top===a.style.top&&a.style[o]===n.style[o]?e._fakeTable.addClass("dx-hidden"):e._fakeTable.removeClass("dx-hidden")}_moveFakeTableHorizontally(e){const n=this,a=n.option("rtlEnabled")?"right":"left",l=parseFloat(n.tableElement()[0].style[a]),u=jt(e,l,n._tableWidth,n.getGroupWidth());parseFloat(n._fakeTable[0].style[a])!==u&&(n._fakeTable[0].style[a]=`${u}px`)}_moveFakeTableTop(e){const n=this,o=parseFloat(n.tableElement()[0].style.top),a=jt(e,o,n._tableHeight,n.getGroupHeight());parseFloat(n._fakeTable[0].style.top)!==a&&(n._fakeTable[0].style.top=`${a}px`)}_moveFakeTable(){this._updateFakeTableVisibility()}_createFakeTable(){const e=this;e._fakeTable||(e._fakeTable=e.tableElement().clone().addClass("dx-pivot-grid-fake-table").appendTo(e._virtualContent))}render(e,n){const o=this;if(o._tableElement){try{o._tableElement[0].innerHTML=""}catch{o._tableElement.empty()}o._tableElement.removeAttr("style")}else o._groupElement=o._createGroupElement(),o._tableElement=o._createTableElement(),o._tableElement.appendTo(o._groupElement),o._groupElement.appendTo(e),o._rootElement=e;o._colgroupElement=I("<colgroup>").appendTo(o._tableElement),o._renderTableContent(o._tableElement,n),o._renderVirtualContent()}_getScrollable(){return this.groupElement().data("dxScrollable")}_getMemoizeScrollTo(){return this._memoizeScrollTo=this._memoizeScrollTo??ca((()=>this._getScrollable())),this._memoizeScrollTo}_getMaxLeftOffset(e){const n=I(e.container()).get(0);return n.scrollWidth-n.clientWidth}on(e,n){const o=this,a=o._getScrollable();return a&&a.on(e,(l=>{o.option("rtlEnabled")&&G(l.scrollOffset.left)&&(l.scrollOffset.left=o._getMaxLeftOffset(a)-l.scrollOffset.left),n(l)})),this}off(e){const n=this._getScrollable();return n&&n.off(e),this}scrollTo(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const o=this._getScrollable();if(!o)return;const a=this.option("rtlEnabled"),l=this._getAreaName(),u=nt({},e,{left:a&&(l==="column"||l==="data")?this._getMaxLeftOffset(o)-e.left:e.left});this._getMemoizeScrollTo()(u,n),this._virtualContent&&(this._createFakeTable(),this._moveFakeTable(e))}updateScrollable(){const e=this._getScrollable();if(e)return e.update()}getColumnsCount(){let e=0;const n=this._getRowElement(0);let o;if(n){o=n.cells;for(let a=0,l=o.length;a<l;++a)e+=o[a].colSpan}return e}getData(){const e=this._tableElement;return e?e.data("data"):[]}}class ha extends Dt{_getAreaName(){return"data"}_createGroupElement(){return I("<div>").addClass("dx-pivotgrid-area").addClass("dx-pivotgrid-area-data").css("borderTopWidth",0)}_applyCustomStyles(e){const{cell:n}=e,{classArray:o}=e;(n.rowType==="T"||n.columnType==="T")&&o.push("dx-total"),(n.rowType==="GT"||n.columnType==="GT")&&o.push("dx-grandtotal"),(n.rowType==="T"||n.rowType==="GT")&&o.push("dx-row-total"),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),super._applyCustomStyles(e)}_moveFakeTable(e){this._moveFakeTableHorizontally(e.x),this._moveFakeTableTop(e.y),super._moveFakeTable()}renderScrollable(){this._groupElement.dxScrollable({useNative:this.getUseNativeValue(),useSimulatedScrollbar:!1,rtlEnabled:this.component.option("rtlEnabled"),bounceEnabled:!1,updateManually:!0})}getUseNativeValue(){const{useNative:e}=this.component.option("scrolling");return e==="auto"?!!mo.nativeScrolling:!!e}getScrollbarWidth(){return this.getUseNativeValue()?Fn():0}updateScrollableOptions(e){let{direction:n,rtlEnabled:o}=e;const a=this._getScrollable();a.option("useNative",this.getUseNativeValue()),a.option({direction:n,rtlEnabled:o})}getScrollableDirection(e,n){return e&&!n?"horizontal":!e&&n?"vertical":"both"}reset(){super.reset(),this._virtualContent&&this._virtualContent.parent().css("height","auto")}setVirtualContentParams(e){super.setVirtualContentParams(e),this._virtualContent.parent().css("height",e.height),this._setTableCss({top:e.top,left:e.left})}}const pa={DataArea:ha},ga=De.inherit((function(){const t={year:r=>r&&r.getFullYear(),quarter:r=>r&&Math.floor(r.getMonth()/3)+1,month:r=>r&&r.getMonth()+1,day:r=>r&&r.getDate(),dayOfWeek:r=>r&&r.getDay()};function e(r){return r.indexOf(".")!==-1?_n(r):function(i){return i[r]}}function n(r){return function(i){let c=r(i);return c&&!(c instanceof Date)&&(c=gn.deserializeDate(c)),c}}function o(r){L(r||[],((i,c)=>{let f,_;const{dataField:m}=c;let v;const{levels:T}=c;let S;if(!c.selector){if(m?S=e(m):S=function(E){return E},T&&o(T),c.dataType==="date"){_=t[c.groupInterval];const E=n(S);f=function(h){const w=E(h);return _?_(w):w}}else c.dataType==="number"?(v=fe(c.groupInterval)&&c.groupInterval>0&&c.groupInterval,f=function(E){let h=S(E);return ve(h)&&(h=Number(h)),v?Math.floor(h/v)*v:h}):f=S;At(c),_e(c,"selector",f)}}))}function a(r,i,c,f,_){const m=i.dimensions[f],{expandedPathsHash:v}=i;let T,S;m&&(T=m.selector(i.data),_=_!==void 0?_+"/./"+T:`${T}`,S=(function(E,h,w,F){let P=F[w];return P||(P={value:E,index:F.length++},F[w]=P,h.push(P)),P})(T,c,_,i.childrenHash),r.push(S.index),(v&&v[_]||m.expanded)&&(S.children||(S.children=[]),a(r,i,S.children,f+1,_)))}function l(r,i,c,f){const _=[0],m=i.headerName===f?i.path.length:0,v=f==="rows"?i.rowExpandedPaths:i.columnExpandedPaths,T={data:r,childrenHash:c[`${f}Hash`],dimensions:i[f],expandedPathsHash:i.headerName!==f&&v&&v.hash};return a(_,T,c[f],m),_}function u(r,i,c,f){const _=[];let m,v,T,S;const E=l(r,f,c,"rows"),h=l(r,f,c,"columns");for(v=0;v<E.length;v+=1)for(T=E[v],i[T]=i[T]||[],m=0;m<h.length;m+=1)S=h[m],_.push(i[T][S]=i[T][S]||[]);return _}function s(r){if(r){const i=r.hash={};r.forEach((c=>{const f=c.map((_=>`${_}`)).join("/./");i[f]=!0}))}}function d(r){r.rows=r.rows||[],r.columns=r.columns||[],r.filters=r.filters||[],s(r.columnExpandedPaths),s(r.rowExpandedPaths),o(r.columns),o(r.rows),o(r.values),o(r.filters)}function p(r){return r.summaryType==="custom"?(r.calculateCustomSummary=r.calculateCustomSummary||Be,{seed(){const i={summaryProcess:"start",totalValue:void 0};return r.calculateCustomSummary(i),i},step(i,c){return i.summaryProcess="calculate",i.value=c,r.calculateCustomSummary(i),i},finalize(i){return i.summaryProcess="finalize",delete i.value,r.calculateCustomSummary(i),i.totalValue}}):Bt[r.summaryType]||Bt.count}function x(r,i,c){for(let f=0;f<r.length;f+=1){const _=r[f],m=_.selector(c),v=p(_),T=typeof v.seed=="function";for(let S=0;S<i.length;S+=1){const E=i[S];E.length<=f&&(E[f]=T?v.seed():v.seed),E[f]===void 0?E[f]=m:G(m)&&(E[f]=v.step(E[f],m))}}}function g(r,i){let c=r&&r.valueOf(),f=i&&i.valueOf();if(Array.isArray(r)){i=i||[];for(let _=0;_<r.length;_+=1)if(c=r[_]&&r[_].valueOf(),f=i[_]&&i[_].valueOf(),c!==f)return!1;return!0}return c===f}function C(r){const i=[];return L(r,((c,f)=>{const _=f.filterValues||[],{groupName:m}=f;m&&fe(f.groupIndex)||_.length&&i.push((function(v){const T=f.levels?(function(E,h){const w=[];return L(E,((F,P)=>{w.push(P.selector(h))})),w})(f.levels,v):f.selector(v);let S=!1;for(let E=0;E<_.length;E+=1)if(g(_[E],T)){S=!0;break}return f.filterType==="exclude"?!S:S}))})),i}function b(r){const i=C(r.rows).concat(C(r.columns)).concat(C(r.filters)),c=r[r.headerName],{path:f}=r;return c&&i.push((_=>{let m;for(let v=0;v<f.length;v+=1)if(m=c[v].selector(_),Mt(m,!0)!==Mt(f[v],!0))return!1;return!0})),function(_){for(let m=0;m<i.length;m+=1)if(!i[m](_))return!1;return!0}}function A(r,i,c){const f={columns:[],rows:[],columnsHash:{length:1},rowsHash:{length:1}},_=[];let m,v;const T=new ne;let S=0;const E=b(i);return(function h(){const w=new Date,F=S;for(;S<r.length;S+=1){if(S>F&&S%1e4===0&&new Date-w>=300){c(S/r.length),setTimeout(h,0);return}v=r[S],E(v)&&(m=u(v,_,f,i),x(i.values,m,v))}P=i.values,D=_,L(P,((N,j)=>{const $=p(j);$.finalize&&L(D,((k,B)=>{L(B,((z,M)=>{M&&M[N]!==void 0&&(M[N]=$.finalize(M[N]))}))}))}));var P,D;c(1),T.resolve({rows:f.rows,columns:f.columns,values:_,grandTotalRowIndex:0,grandTotalColumnIndex:0})})(),T}function y(r,i){let c=r.filter();return r.store()instanceof jo&&c?(c=V(c,i),Uo(r.items()).filter(c).toArray()):r.items()}function H(r,i,c){const f=new ne,_=function(m){r.store()instanceof bt&&(m.storeLoadOptions.filter=V(m.storeLoadOptions.filter,i))};if(r.on("customizeStoreLoadOptions",_),!r.isLoaded()||c){const m=c?r.load():r.reload();ee(m).done((()=>{H(r,i).done((()=>{f.resolve(y(r,i))})).fail(f.reject)})).fail(f.reject)}else f.resolve(y(r,i));return f.always((()=>{r.off("customizeStoreLoadOptions",_)}))}function R(r,i){i.forEach((c=>{if(c.dataField&&c.dataType==="date"){const f=n(e(c.dataField));r[c.dataField]=function(_){return f(_)}}}))}function O(r){const i={};return Array.isArray(r)?R(i,r):r&&["rows","columns","filters"].forEach((c=>{r[c]&&R(i,r[c])})),i}function V(r,i){if(!Array.isArray(r))return r;r=r.slice(0),ve(r[0])&&(r[1]instanceof Date||r[2]instanceof Date)&&(r[0]=i[r[0]]);for(let c=0;c<r.length;c+=1)r[c]=V(r[c],i);return r}return{ctor(r){this._progressChanged=r.onProgressChanged||Be,this._dataSource=new Xe(r),this._dataSource.paginate(!1)},getFields(r){const i=this._dataSource,c=new ne;return H(i,O(r)).done((f=>{c.resolve(En(f,r))})).fail(c.reject),c},key(){return this._dataSource.key()},load(r){const i=this,c=i._dataSource,f=new ne;return d(r),H(c,O(r),r.reload).done((_=>{ee(A(_,r,i._progressChanged)).done(f.resolve)})).fail(f.reject),f},filter(){const r=this._dataSource;return r.filter.apply(r,arguments)},supportPaging:()=>!1,getDrillDownItems(r,i){r=r||{},i=i||{},d(r);const c=[],f=this._dataSource.items();let _;const{maxRowCount:m}=i,{customColumns:v}=i,T=b(r),S=b({rows:ye(r.rows,i.rowPath),columns:ye(r.columns,i.columnPath),filters:[]});for(let E=0;E<f.length;E+=1){if(S(f[E])&&T(f[E])){if(v){_={};for(let h=0;h<v.length;h+=1)_[v[h]]=f[E][v[h]]}else _=f[E];c.push(_)}if(m>0&&c.length===m)break}return c}}})()).include(Pt),An=t=>t.charAt(0).toUpperCase()+t.slice(1),Pn=function(t,e,n){t=t||[],n=n||0;for(let o=0;o<t.length;o+=1){const a=t[o];e(a,n),a&&a.items&&a.items.length&&Pn(a.items,e,n+1)}};function Ut(t,e){const n=[];return L(t,((o,a)=>{n.push({selector:a.dataField,groupInterval:a.groupInterval,desc:e&&a.sortOrder==="desc",isExpanded:o<t.length-1})})),n}function fa(t){let e=t.dataField,{groupInterval:n}=t;return t.dataType==="date"&&typeof n=="string"&&(n.toLowerCase()==="quarter"&&(n="Month"),e=`${e}.${An(n)}`),e}function qt(t,e,n,o){const a=[t,o?"<":">=",n],l=[t,o?">=":"<",n+e];return[a,o?"or":"and",l]}function In(t,e,n){const o=fa(t),a=(n||t.filterType)==="exclude";let l=[o,a?"<>":"=",e];return G(t.groupInterval)&&(typeof t.groupInterval=="string"&&t.groupInterval.toLowerCase()==="quarter"?l=qt(o,3,3*(e-1)+1,a):typeof t.groupInterval=="number"&&t.dataType!=="date"&&(l=qt(o,t.groupInterval,e,a))),l}function Dn(t,e){const n=[];return t.searchValue?[t.dataField,"contains",t.searchValue]:(t.filterType==="exclude"?e=e||"and":e=e||"or",L(t.filterValues,((o,a)=>{let l=[];if(Array.isArray(a)){var u;((u=t.levels)===null||u===void 0?void 0:u.length)&&(l=Dn({filterValues:a,filterType:t.filterType,levels:t.levels},"and"))}else{const s=t.levels?t.levels[o]:t;l=In(s,a)}l.length&&(n.length&&n.push(e),n.push(l))})),n)}function Nn(t){let e=[];return L(t,((n,o)=>{const a=Dn(o);if(!a.length)return[];e.length&&e.push("and"),e.push(a)})),e.length===1&&(e=e[0]),e}function Ne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"and";const n=[];return L(t,((o,a)=>{(l=>!!(l!=null&&l.length))(a)&&n.push(a,e)})),n.pop(),n.length===1?n[0]:n}function ma(t,e,n){const o={groupSummary:[],totalSummary:[]},a=Ut(t.rows,t.rowTake),l=Ut(t.columns,t.columnTake),u=[...a,...l];u.length?(o.group=u,o.take=void 0):(o.group=void 0,o.take=1),t.rows.length&&t.rowTake?(o.skip=t.rowSkip,o.take=t.rowTake,o.requireGroupCount=!0):t.columns.length&&t.columnTake&&!n&&(o.skip=t.columnSkip,o.take=t.columnTake,o.requireGroupCount=!0);let s=Nn(t.filters);return s=Ne(e?[s,t.filterExpression,e]:[s,t.filterExpression]),s.length&&(o.filter=s),L(t.values,((d,p)=>{const x={selector:p.dataField,summaryType:p.summaryType||"count"};o.groupSummary.push(x),t.includeTotalSummary&&o.totalSummary.push(x)})),o}function Yt(t,e,n,o,a){t[n]=t[n]||[],t[n][o]=t[n][o]||[],G(t[n][o][a])||(t[n][o][a]=e)}function _a(t,e){return e&&e.dataType==="number"&&ve(t)?Number(t):e&&e.dataType==="date"&&!e.groupInterval&&!(t instanceof Date)?gn.deserializeDate(t):t}function Ca(t,e,n,o){const a=[];let l=[];const{rowHash:u}=o,{columnHash:s}=o;if(e!=null&&e.summary&&L(e.summary,((p,x)=>{Yt(o.values,x,o.grandTotalRowIndex,o.grandTotalColumnIndex,p)})),e&&e.groupCount>=0){const p=n.rows.length?n.rowSkip:n.columnSkip;t=[...Array(p)].concat(t),t.length=e.groupCount}function d(p,x,g,C,b){const A=o[`${x}Hash`];let y,H,R;const O=g.slice(0,C+1).join("/");let V;return A[O]!==void 0?R=A[O]:(R={value:_a(p.key,b),index:o[`${x}Index`]++,displayText:p.displayText},V=g.slice(0,C).join("/"),C>0&&A[V]!==void 0?(y=A[V],H=y.children=y.children||[]):H=o[`${x}s`],H.push(R),A[O]=R),R}return Pn(t,((p,x)=>{var g,C;const b=x>=n.rows.length?n.rows.length:x,A=x>=n.rows.length?x-n.rows.length:0;let y,H;if(x>=n.rows.length&&A>=n.columns.length)return;x<n.rows.length&&(l=[]),x>=n.rows.length?p?(l[A]=`${p.key}`,y=d(p,"column",l,A,n.columns[A]),H=u[a.slice(0,b+1).join("/")]):o.columns.push({}):p?(a[b]=`${p.key}`,H=d(p,"row",a,b,n.rows[b]),y=s[l.slice(0,A+1).join("/")]):o.rows.push({});const R=((g=H)===null||g===void 0?void 0:g.index)||o.grandTotalRowIndex,O=((C=y)===null||C===void 0?void 0:C.index)||o.grandTotalColumnIndex;L((p==null?void 0:p.summary)||[],((V,r)=>{Yt(o.values,r,R,O,V)}))})),o}function Ze(t){return(t==null?void 0:t.filter((e=>{var n;return((n=e.filterValues)===null||n===void 0?void 0:n.length)||e.searchValue})))||[]}function St(t,e){if(t.headerName){if(e===t.headerName)return t.path.length;if(t.oppositePath)return t.oppositePath.length}return 0}function xa(t){const e=t.headerName==="rows"?"columns":"rows",n=t[t.headerName],o=t[e],a=ye(n,t.path),l=ye(o,t.oppositePath||[]);return a.concat(l)}function Kt(t){for(let e=0;e<t.length;e+=1)if(!t[e].expanded)return e;return 0}function vt(t,e,n){if(t.headerName===e)return[];const o=Kt(e==="rows"?t.rows:t.columns),a=n<=o?o:0,l=t[e].slice(a,n),u=(e==="rows"?t.rowExpandedPaths:t.columnExpandedPaths)||[];let s=[];return L(u,((d,p)=>{if(p=p.slice(a),!((C,b)=>{if(b.length>n)return!1;let A=b.length;for(;(y=C[A])!==null&&y!==void 0&&y.expanded;){var y;A+=1}return A>=n})(l,p))return;const x=[];for(let C=0;C<p.length;C+=1){const b=l[C];if(!G(b))break;const A=In(b,p[C],"include");x.push(A)}const g=Ne(x);s.push(g)})),s=Ne(s,"or"),s}function Xt(t,e,n){const o=St(t,e),a=Ve(t,e),l=(e==="columns"?t.columnExpandedPaths:t.rowExpandedPaths)||[],u=e==="columns"?"rows":"columns",s=t[e],d=[];if(l.length)for(let p=o;p<=a;p+=1){const x=s.slice(o,p+1),g=vt(t,e,p),C={filters:n,filterExpression:g,[e]:x,[u]:[]};d.push(X({},t,C))}else{const p=s.slice(o,a+1),x={filters:n,[e]:p,[u]:[]};d.push(X({},t,x))}return d[0].includeTotalSummary=!0,d}function wa(t){const e=St(t,"rows"),n=Ve(t,"rows"),o=St(t,"columns"),a=Ve(t,"columns"),l=[],u=(t.filters||[]).concat(Ze(t.rows),Ze(t.columns),xa(t)),s=Xt(t,"columns",u),d=Xt(t,"rows",u);if(t.rows.length&&t.columns.length){t.headerName!=="rows"&&l.push(...s);for(let p=e;p<=n;p+=1){const x=t.rows.slice(e,p+1),g=vt(t,"rows",p);for(let C=o;C<=a;C+=1){const b=t.columns.slice(o,C+1),A=vt(t,"columns",C),y=Ne([g,A]),H=X({},t,{columns:b,rows:x,filters:u,filterExpression:y});l.push(H)}}}else{const p=t.columns.length?s:d;l.push(...p)}return l}function Ye(t){L(t||[],((e,n)=>{const{levels:o}=n;o&&Ye(o),At(n)}))}const Sa=De.inherit({ctor(t){this._dataSource=new Xe(t),this._store=this._dataSource.store()},getFields(t){const e=new ne;return this._store.load({skip:0,take:20}).done((n=>{const o=Vt(n);e.resolve(It.discoverObjectFields(o.data,t))})).fail(e.reject),e},key(){return this._store.key()},load(t){const e=this,n=new ne,o={rows:[],columns:[],values:[],grandTotalRowIndex:0,grandTotalColumnIndex:0,rowHash:{},columnHash:{},rowIndex:1,columnIndex:1},a=wa(t),l=[];return Ye(t.rows),Ye(t.columns),Ye(t.filters),L(a,((u,s)=>{const d=ma(s,e.filter(),t.rows.length),p=e._store.load(d);l.push(p)})),ee.apply(null,l).done((function(){const u=l.length>1?arguments:[arguments];L(u,((s,d)=>{const p=Vt(d[0],d[1]);Ca(p.data,p.extra,a[s],o)})),n.resolve({rows:o.rows,columns:o.columns,values:o.values,grandTotalRowIndex:o.grandTotalRowIndex,grandTotalColumnIndex:o.grandTotalColumnIndex})})).fail(n.reject),n},filter(){return this._dataSource.filter.apply(this._dataSource,arguments)},supportPaging:()=>!1,createDrillDownDataSource(t,e){t=t||{},e=e||{};const n=this._store,o=ye(t.rows,e.rowPath).concat(ye(t.columns,e.columnPath)).concat(Ze(t.rows)).concat(t.filters||[]).concat(Ze(t.columns)),a=Nn(o);return new Xe({load(l){const u=Ne([a,l.filter]),s=X({},l,{filter:u.length===0?void 0:u,select:e.customColumns});return n.load(s)}})}}),Te="column",Le="row",Ln=function(t,e){let n=t/e;return(!G(t)||isNaN(n))&&(n=null),n},st=function(t,e){return Ln(t.value(),t.grandTotal(e).value())},Jt=function(t,e){const n=t.parent(e),o=n?n.value():t.value();return Ln(t.value(),o)},Rn=function(t){return function(e){const n=e.prev(Te,t),o=n&&n.value();return G(o)&&G(e.value())?e.value()-o:null}},va=function(t){const e=Rn(t);return function(n){const o=e(n),a=n.prev(Te,t),l=a&&a.value();return o!==null&&l?o/l:null}},Hn={percentOfColumnTotal:t=>Jt(t,Le),percentOfRowTotal:t=>Jt(t,Te),percentOfColumnGrandTotal:t=>st(t,Le),percentOfRowGrandTotal:t=>st(t,Te),percentOfGrandTotal:t=>st(t)},$n=function(t,e){if(!t||!t.parent(e))return;let n=t.prev(e);return n||(n=$n(t.parent(e),e)),n},ya=t=>{if(!t.runningTotal)return;const e=t.runningTotal===Te?Le:Te;return n=>{const o=t.allowCrossGroupCalculation?$n(n,e):n.prev(e,!1),a=n.value(!0),l=n.value(!1),u=o==null?void 0:o.value(!0);switch(!0){case(G(a)&&G(l)&&G(u)):return u+a;case G(u):return u;default:return a}}};function Nt(){return{fields:{},positions:{}}}function it(t,e,n){let o={index:-1};if(!bo(e))if(n.fields[e])e=n[e];else{const a=t.columns.concat(t.rows).concat(t.values),l=Ee(a,e);e=n[e]=a[l]}if(e){const a=e.area||"data";o=n.positions[e.index]=n.positions[e.index]||{area:a,index:t[a==="data"?"values":`${a}s`].indexOf(e)}}return o}function Re(t){return t===Le?"_rowPath":"_columnPath"}const Se=function(t,e,n,o,a,l){this._columnPath=t,this._rowPath=e,this._fieldIndex=a,this._fieldsCache=l||Nt(),this._data=n,this._descriptions=o;const u=n.values&&n.values[e[0].index]&&n.values[e[0].index][t[0].index];u&&(u.originalCell=u.originalCell||u.slice(),u.postProcessedFlags=u.postProcessedFlags||[],this._cell=u)};Se.prototype=X(Se.prototype,{_getPath(t){return this[Re(t)]},_getDimension(t){return t=t===Le?"rows":"columns",this._descriptions[t]},_createCell(t){return new Se(t._columnPath||this._columnPath,t._rowPath||this._rowPath,this._data,this._descriptions,this._fieldIndex)},parent(t){const e=this._getPath(t).slice(),n={};return e.shift(),e.length?(n[Re(t)]=e,this._createCell(n)):null},children(t){const e=this._getPath(t).slice(),n=e[0],o=[],a={};if(n.children)for(let l=0;l<n.children.length;l+=1)a[Re(t)]=[n.children[l]].concat(e.slice()),o.push(this._createCell(a));return o},grandTotal(t){const e={},n=this._rowPath,o=this._columnPath,a=this._getPath(t),l=Re(t);return t?e[l]=[a[a.length-1]]:(e._rowPath=[n[n.length-1]],e._columnPath=[o[o.length-1]]),this._createCell(e)},next(t,e){const n=this._getPath(t),o=n[0];let a=this.parent(t),l;if(a){const u=n[1].children.indexOf(o);if(l=a.children(t),l[u+1])return l[u+1]}if(e&&a){do a=a.next(t,e),l=a?a.children(t):[];while(a&&!l.length);return l[0]||null}return null},prev(t,e){const n=this._getPath(t),o=n[0];let a=this.parent(t),l;if(a){const u=n[1].children.indexOf(o);if(l=a.children(t),l[u-1])return l[u-1]}if(e&&a){do a=a.prev(t,e),l=a?a.children(t):[];while(a&&!l.length);return l[l.length-1]||null}return null},cell(){return this._cell},field(t){if(t==="data")return this._descriptions.values[this._fieldIndex];const e=this._getPath(t);return this._getDimension(t)[e.length-2]||null},child(t,e){let n;const o=this.children(t);for(let a=0;a<o.length;a+=1)if(n=n||o[a].field(t),o[a].value(n)===e)return o[a];return null},slice(t,e){const n=this,o={},a=it(this._descriptions,t,this._fieldsCache),{area:l}=a,u=a.index;let s=null;const d=[];if(l===Le||l===Te){const p=this._getPath(l).slice(),x=u!==-1&&p.length-2-u;if(p[x]){d[p.length-1]=p[p.length-1];for(let g=x;g>=0;g-=1){if(p[g+1]){const C=p[g+1].children||[],b=g===x?e:p[g].value;p[g]=void 0;for(let A=0;A<C.length;A+=1)if(C[A].value===b){p[g]=C[A];break}}if(p[g]===void 0)return s}o[Re(l)]=p,s=n._createCell(o)}}return s},value(t,e){const n=this._cell;let o=this._fieldIndex;const a=t===!0||t===!1,l=a?null:t,u=a&&t||e;if(G(l)){const s=it(this._descriptions,l,this._fieldsCache);if(o=s.index,s.area!=="data"){const d=this._getPath(s.area),p=o!==-1&&d.length-2-o;return d[p]&&d[p].value}}return n&&n.originalCell?u?n[o]:n.originalCell[o]:null},isPostProcessed(t){let e=this._fieldIndex;if(G(t)){const n=it(this._descriptions,t,this._fieldsCache);if(e=n.index,n.area!=="data")return!1}return!!(this._cell&&this._cell.postProcessedFlags[e])}});function Mn(t){const{summaryDisplayMode:e}=t,n=t.allowCrossGroupCalculation;let o=null;return ot(t.calculateSummaryValue)?o=t.calculateSummaryValue:e&&(e==="absoluteVariation"?o=Rn(n):e==="percentVariation"?o=va(n):o=Hn[e],o&&!t.format&&e.indexOf("percent")!==-1&&It.setFieldProperty(t,"format","percent")),o}function kn(t,e,n,o){const a=t.values[e][n]=t.values[e][n]||[],{originalCell:l}=a;l&&((a.allowResetting||!o)&&(t.values[e][n]=l.slice()),t.values[e][n].allowResetting=o)}function Ta(t,e){const n=[],o=[{index:e.grandTotalColumnIndex,children:e.columns}],a=[{index:e.grandTotalRowIndex,children:e.rows}],l=t.values,u=Nt();e.values=e.values||[],ae(o,(s=>{s[0].isEmpty=[]}),!1),ae(a,(s=>{const d=s[0];d.isEmpty=[],e.values[d.index]=e.values[d.index]||[],ae(o,(p=>{const x=p[0];let g;kn(e,d.index,x.index,!1);for(let C=0;C<l.length;C+=1){const b=l[C],A=n[C]=n[C]===void 0?Mn(b):n[C];if(g=!1,A){const y=new Se(p,s,e,t,C,u),H=y.cell(),R=H[C]=A(y);H.postProcessedFlags[C]=!0,g=R==null}x.isEmpty[C]===void 0&&(x.isEmpty[C]=!0),d.isEmpty[C]===void 0&&(d.isEmpty[C]=!0),g||(d.isEmpty[C]=x.isEmpty[C]=!1)}}),!1)}),!1),e.isEmptyGrandTotalRow=a[0].isEmpty,e.isEmptyGrandTotalColumn=o[0].isEmpty}function Ea(t,e){const n=[],o=[{index:e.grandTotalColumnIndex,children:e.columns}],a=[{index:e.grandTotalRowIndex,children:e.rows}],l=t.values,u=Nt();e.values=e.values||[],ae(a,(s=>{const d=s[0];e.values[d.index]=e.values[d.index]||[],ae(o,(p=>{const x=p[0];kn(e,d.index,x.index,!0);for(let g=0;g<l.length;g+=1){const C=l[g],b=n[g]=n[g]===void 0?ya(C):n[g];if(b){const A=new Se(p,s,e,t,g,u),y=A.cell();y[g]=b(A),y.postProcessedFlags[g]=!0}}}),!1)}),!1)}function ba(t,e,n){const o=new Se([],[],{},t,0);return o.value=function(a){if(G(a)){const l=Ee(e,a),u=e[l];!n[l]&&u&&!G(u.area)&&(t.values.push(u),n[l]=!0)}},o.grandTotal=function(){return this},o.children=function(){return[]},o}const dt={Cell:Se,summaryDictionary:Hn,getExpression:Mn,applyRunningTotal:Ea,createMockSummaryCell:ba,applyDisplaySummaryMode:Ta},Fa=fn(),Aa=De.inherit((function(){const t='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis"><RequestType>{2}</RequestType><Restrictions><RestrictionList><CATALOG_NAME>{0}</CATALOG_NAME><CUBE_NAME>{1}</CUBE_NAME></RestrictionList></Restrictions><Properties><PropertyList><Catalog>{0}</Catalog>{3}</PropertyList></Properties></Discover></Body></Envelope>';function e(h,w){const F=new ne,{beforeSend:P}=h,D={url:h.url,dataType:"text",data:w,headers:{"Content-Type":"text/xml"},xhrFields:{},method:"POST"};return ot(P)&&P(D),It.sendRequest(D).fail((function(){F.reject(arguments)})).done((N=>{const j=new Fa.DOMParser;let $;try{try{$=j.parseFromString(N,"text/xml")}catch{$=void 0}if(!$||$.getElementsByTagName("parsererror").length||$.childNodes.length===0)throw ze.Error("E4023",N)}catch(k){F.reject({statusText:k.message,stack:k.stack,responseText:N})}F.resolve($)})),F}function n(){const h=Ko();return h!==void 0?oe("<LocaleIdentifier>{0}</LocaleIdentifier>",h):""}function o(h,w,F){return`Descendants({${w||h}}, ${F}, SELF_AND_BEFORE)`}function a(h){return`${h.hierarchyName||h.dataField}.[All]`}function l(h){let w=`${h.dataField}.allMembers`,{searchValue:F}=h;return F&&(F=F.replace(/'/g,"''"),w=`Filter(${w}, instr(${h.dataField}.currentmember.member_caption,'${F}') > 0)`),w}function u(h){const w=h.join(",");return h.length>1?oe("CrossJoin({0})",w):w}function s(h,w,F,P,D,N,j,$){const k=[],B=N[j];let z,M,K;for(let W=P;W<=w;W+=1){const U=B[W],{dataField:Y}=U,Q=B[W-1]&&B[W-1].hierarchyName,{hierarchyName:J}=U,le=!J||!B[W+1]||B[W+1].hierarchyName!==J,se=h.length+F+P;if(z=null,W<h.length)le&&(z=`(${Y}.${i(h[W],Y)})`);else if(W<=se)if(W===0&&F===0){const ie=a(B[P]);J?z=`${ie},${B[P].dataField}`:z=l(B[P])}else J?(K=i(D[D.length-1]),(le||W===se)&&(Q===J?(D.length&&(M=B[D.length-1]),(!M||M.hierarchyName!==J)&&(M=B[W-1],K=""),z=o(M.dataField,K,Y)):z=l(U))):z=l(U);else(!J||Q!==J)&&(z=`(${a(U)})`);if(z){if(z=oe("{{0}}",z),$){const ie=(U.hierarchyName||U.dataField)+(U.sortBy==="displayText"?".MEMBER_CAPTION":".MEMBER_VALUE");z=oe("Order({0}, {1}, {2})",z,ie,U.sortOrder==="desc"?"DESC":"ASC")}k.push(z)}}return u(k)}function d(h,w,F,P,D,N,j,$,k,B){let z=-1;const M=N[j];let K;do{z+=1,K=w.length+z+P;let W=s(w,F,z,P,D,N,j,k);!k&&!B&&(W=oe("NonEmpty({0}, {1})",W,$)),h.push(W)}while(M[K]&&M[K+1]&&M[K].expanded)}function p(h,w,F,P){return F=F||`[DX_Set_${w.length}]`,P=P||"set",w.push(oe("{0} {1} as {2}",P,F,h)),F}function x(h,w,F,P,D){const N=h[w],j=[];let $=[],k=[],B=0,z=0;const M=[],K=oe("{{0}}",F.join(","));if(N&&N.length){h.headerName===w?($=h.path,B=$.length):h.headerName&&h.oppositePath?($=h.oppositePath,B=$.length):k=(w==="columns"?h.columnExpandedPaths:h.rowExpandedPaths)||k,z=Ve(h,w),d(j,[],z,B,$,h,w,K,w==="rows"?h.rowTake:h.columnTake,h.totalsOnly),L(k,((W,U)=>{d(j,U,z,B,U,h,w,K)}));for(let W=z;W>=$.length;W-=1)N[W].hierarchyName&&(D.visibleLevels[N[W].hierarchyName]=D.visibleLevels[N[W].hierarchyName]||[],D.visibleLevels[N[W].hierarchyName].push(N[W].dataField))}if(j.length){let W=(function(Y){const Q=Y.join(",");return Y.length>1?`Union(${Q})`:Q})(j);w==="rows"&&h.rowTake&&(W=oe("Subset({0}, {1}, {2})",W,h.rowSkip>0?h.rowSkip+1:0,h.rowSkip>0?h.rowTake:h.rowTake+1)),w==="columns"&&h.columnTake&&(W=oe("Subset({0}, {1}, {2})",W,h.columnSkip>0?h.columnSkip+1:0,h.columnSkip>0?h.columnTake:h.columnTake+1));const U=`[DX_${w}]`;M.push(p(W,P,U)),h.totalsOnly&&M.push(p(`COUNT(${U})`,P,`[DX_${w}_count]`,"member"))}return w==="columns"&&F.length&&!h.skipValues&&M.push(K),oe("{0} DIMENSION PROPERTIES PARENT_UNIQUE_NAME,HIERARCHY_UNIQUE_NAME, MEMBER_VALUE ON {1}",u(M),w)}function g(h){const w=[];return L(h,((F,P)=>{const{dataField:D}=P,N=[],j=P.filterValues||[];let $;P.hierarchyName&&fe(P.groupIndex)||(L(j,((k,B)=>{let z=`${D}.${i(Array.isArray(B)?B[B.length-1]:B,D)}`;P.filterType==="exclude"&&(N.push(`${z}.parent`),z=`Descendants(${z})`),N.push(z)})),j.length&&($=oe("{{0}}",N.join(",")),P.filterType==="exclude"&&($=`Except(${l(P)},${$})`),w.push($)))})),w.length?u(w):""}function C(h,w,F,P,D,N,j){let $=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},k="";const B=(w.length?`with ${w.join(" ")}`:"")+" ";if(h.length){let z;if($.totalsOnly){const M=[];P.length&&M.push("[DX_rows_count]"),F.length&&M.push("[DX_columns_count]"),z=`{${M.join(",")}} on columns`}else z=h.join(",");k=B+oe("SELECT {2} FROM {0} {1} CELL PROPERTIES VALUE, FORMAT_STRING, LANGUAGE, BACK_COLOR, FORE_COLOR, FONT_FLAGS",(function(M,K,W,U){let Y=`[${U}]`;return L([M,K,W],((Q,J)=>{J&&(Y=oe("(SELECT {0} FROM {1})",`${J}on 0`,Y))})),Y})(g(F),g(P),g(D||[]),j),N.length?oe("WHERE ({0})",N.join(",")):"",z)}return k}function b(h,w){return We(w,(F=>(ve(F.expression)&&p(F.expression,h,F.dataField,"member"),F.dataField)))}function A(h,w,F,P){L(P,((D,N)=>{const j=w[F][D];(!j.hierarchyName||j.hierarchyName!==w[F][D+1].hierarchyName)&&h.push(`${j.dataField}.${i(N,j.dataField)}`)}))}function y(h,w,F){const P=h.columns||[],D=h.rows||[],N=h.values&&h.values.length?h.values:[{dataField:"[Measures]"}],j=[],$=[],k=[],B=b($,N);return F.measureCount=h.skipValues?1:N.length,F.visibleLevels={},h.headerName&&h.path&&A(j,h,h.headerName,h.path),h.headerName&&h.oppositePath&&A(j,h,h.headerName==="rows"?"columns":"rows",h.oppositePath),(P.length||B.length)&&k.push(x(h,"columns",B,$,F)),D.length&&k.push(x(h,"rows",B,$,F)),C(k,$,P,D,h.filters,j,w,h)}function H(h,w,F){L(F,((P,D)=>{const N=w[P];N.hierarchyName&&(w[P+1]||{}).hierarchyName===N.hierarchyName||h.push(`${N.dataField}.${i(D,N.dataField)}`)}))}function R(h){return parseInt(h,10)}function O(h,w){return V((function(F,P){return(F.getElementsByTagName(P)||[])[0]})(h,w))}function V(h){return h&&(h.textContent||h.text||h.innerHTML)||""}function r(h,w,F){const P=[];let D=[],N=0;const j=[],$=h.getElementsByTagName("Cell"),k={};for(let B=0;B<$.length;B+=1){const z=$[B],M=z.getElementsByTagName("Value")[0],K=M&&M.getElementsByTagName("Error")||[],W=K.length===0?V(M):"#N/A",U=parseFloat(W),Y=W-U+1>0,Q=R(z.getAttribute("CellOrdinal"));K.length&&(k[V(K[0].getElementsByTagName("ErrorCode")[0])]=V(K[0].getElementsByTagName("Description")[0])),j[Q]={value:Y?U:W||null}}return L(w[1],(()=>{const B=[];P.push(B),L(w[0],(()=>{N%F===0&&(D=[],B.push(D)),D.push(j[N]?j[N].value:null),N+=1}))})),Object.keys(k).forEach((B=>{ze.log("W4002",k[B])})),P}function i(h,w){return h&&(h=ve(h)&&(h.includes("&")||h.startsWith(`${w}.`))?h:`[${h}]`,w&&h.indexOf(`${w}.`)===0&&(h=h.slice(w.length+1,h.length))),h}function c(h,w,F,P){let D=h[w];return D||(D={},h[w]=D),!G(D.value)&&F&&(D.text=F.caption,D.value=F.value,D.key=w||"",D.levelName=F.levelName,D.hierarchyName=F.hierarchyName,D.parentName=F.parentName,D.index=P,D.level=F.level),D}function f(h,w){const F=[],P=h.children&&(h.children.length?h.children:Object.keys(h.children.grandTotalHash||{}).reduce(((N,j)=>N.concat(h.children.grandTotalHash[j].children)),[])),D=P&&P[0];if(D&&(w[D.hierarchyName]&&w[D.hierarchyName].includes(D.levelName)||!w[D.hierarchyName]||D.level===0)){const N=P.filter((j=>j.hierarchyName===D.hierarchyName));return N.grandTotalHash=P.grandTotalHash,N}if(D)for(let N=0;N<P.length;N+=1)P[N].hierarchyName===D.hierarchyName&&F.push.apply(F,f(P[N],w));return F}function _(h,w,F,P){const D=[];L(w,(($,k)=>{let B={children:D};const z=G(F)?Math.floor($/F):$;L(k,((M,K)=>{B=(function(W,U,Y){let Q=Y.children=Y.children||[];const J=Q.hash=Q.hash||{},le=Q.grandTotalHash=Q.grandTotalHash||{};U.parentName&&(Y=c(J,U.parentName),Q=Y.children=Y.children||[]);const se=c(J,U.name,U,W);return U.hasValue&&!se.added&&(se.index=W,se.added=!0,Q.push(se)),(!Y.value||!Y.parentName)&&U.parentName?le[U.parentName]=Y:le[Y.name]&&delete le[U.parentName],se})(z,K,B)}))}));const N={children:D};N.children=f(N,P);const j=(function($,k){let B;if($.children.length===1&&$.children[0].parentName===""){B=$.children[0].index;const{grandTotalHash:z}=$.children;$.children=$.children[0].children||[],$.children.grandTotalHash=z,$.children=f($,k)}else $.children.length===0&&(B=0);return B})(N,P);return ae(N.children,($=>{const k=$[0],B=f(k,P);B.length?k.children=B:delete k.children,delete k.levelName,delete k.hierarchyName,delete k.added,delete k.parentName,delete k.level}),!0),L(N.children||[],(($,k)=>{h.push(k)})),j}function m(h){const w=h.getElementsByTagName("soap:Fault"),F=h.getElementsByTagName("Fault"),P=I([].slice.call(F.length?F:w)).find("Error");if(P.length){const D=P.attr("Description"),N=ze.Error("E4000",D);return ze.log("E4000",D),N}return null}function v(h,w){const F={columns:[],rows:[]},{measureCount:P}=w,D=(function(N,j){const $=[];for(L(N.getElementsByTagName("Axis"),((k,B)=>{const z=B.getAttribute("name"),M=[];let K=0;z.indexOf("Axis")===0&&fe(R(z.substr(4)))&&($.push(M),L(B.getElementsByTagName("Tuple"),((W,U)=>{const Y=U.childNodes;let Q=0;const J=[];let le=j?Y.length:Y.length-1;$.length===1&&(le-=1),M.push(J);for(let te=le;te>=0;te-=1){const pe=Y[te],Ce=R(O(pe,"LNum"));J[te]={caption:O(pe,"Caption"),value:(ie=O(pe,"MEMBER_VALUE"),fe(ie)?parseFloat(ie):ie),level:Ce,index:K++,hasValue:!Q&&(!!Ce||te===0),name:O(pe,"UName"),hierarchyName:Y[te].getAttribute("Hierarchy"),parentName:O(pe,"PARENT_UNIQUE_NAME"),levelName:O(pe,"LName")},Q+=Ce}var ie})))}));$.length<2;)$.push([[{level:0}]]);return $})(h,w.skipValues);return F.grandTotalColumnIndex=_(F.columns,D[0],P,w.visibleLevels),F.grandTotalRowIndex=_(F.rows,D[1],void 0,w.visibleLevels),F.values=r(h,D,P),F}function T(h,w,F,P){const D=[],N=w==="MEASURE",j=N?"MEASUREGROUP_NAME":`${w}_DISPLAY_FOLDER`;return L(h.getElementsByTagName("row"),(($,k)=>{const B=w==="LEVEL"?O(k,"HIERARCHY_UNIQUE_NAME"):void 0,z=O(k,"LEVEL_NUMBER");let M=O(k,j);if(N&&(M=P[M]||M),(z!=="0"||O(k,`${w}_IS_VISIBLE`)!=="true")&&O(k,"DIMENSION_TYPE")!=="2"){const K=N?"DX_MEASURES":O(k,"DIMENSION_UNIQUE_NAME"),W=O(k,`${w}_UNIQUE_NAME`);D.push({dimension:F.names[K]||K,groupIndex:z?R(z)-1:void 0,dataField:W,caption:O(k,`${w}_CAPTION`),hierarchyName:B,groupName:B,displayFolder:M,isMeasure:N,isDefault:!!F.defaultHierarchies[W]})}})),D}function S(h){h=h.replace(/_x(....)_/g,((F,P)=>String.fromCharCode(parseInt(P,16))));const w=h.match(/\[.+?\]/gi);return w&&w.length&&(h=w[w.length-1]),h.replace(/\[/gi,"").replace(/\]/gi,"").replace(/\$/gi,"").replace(/\./gi," ")}function E(h,w){return w=I("<div>").text(w).html(),e(h,oe('<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>{0}</Statement></Command><Properties><PropertyList><Catalog>{1}</Catalog><ShowHiddenCubes>True</ShowHiddenCubes><SspropInitAppName>Microsoft SQL Server Management Studio</SspropInitAppName><Timeout>3600</Timeout>{2}</PropertyList></Properties></Execute></Body></Envelope>',w,h.catalog,n()))}return{ctor(h){this._options=h},getFields(){const h=this._options,{catalog:w}=h,{cube:F}=h,P=n(),D=e(h,oe(t,w,F,"MDSCHEMA_DIMENSIONS",P)),N=e(h,oe(t,w,F,"MDSCHEMA_MEASURES",P)),j=e(h,oe(t,w,F,"MDSCHEMA_HIERARCHIES",P)),$=e(h,oe(t,w,F,"MDSCHEMA_LEVELS",P)),k=new ne;return ee(D,N,j,$).then(((B,z,M,K)=>{e(h,oe(t,w,F,"MDSCHEMA_MEASUREGROUPS",P)).done((W=>{const U=(function(ie){const te={names:{},defaultHierarchies:{}};return L(I(ie).find("row"),(function(){const pe=I(this),ho=pe.children("DIMENSION_TYPE").text()==="2"?"DX_MEASURES":pe.children("DIMENSION_UNIQUE_NAME").text();te.names[ho]=pe.children("DIMENSION_CAPTION").text(),te.defaultHierarchies[pe.children("DEFAULT_HIERARCHY").text()]=!0})),te})(B),Y=T(M,"HIERARCHY",U),Q=T(K,"LEVEL",U),J=(function(ie){const te={};return L(ie.getElementsByTagName("row"),((pe,Ce)=>{te[O(Ce,"MEASUREGROUP_NAME")]=O(Ce,"MEASUREGROUP_CAPTION")})),te})(W),le=T(z,"MEASURE",U,J).concat(Y),se={};L(Q,((ie,te)=>{se[te.hierarchyName]=se[te.hierarchyName]||[],se[te.hierarchyName].push(te)})),L(Y,((ie,te)=>{se[te.dataField]&&se[te.dataField].length>1&&(te.groupName=te.hierarchyName=te.dataField,le.push.apply(le,se[te.hierarchyName]))})),k.resolve(le)})).fail(k.reject)})).fail(k.reject),k},load(h){const w=new ne,F=this._options,P={skipValues:h.skipValues},D=y(h,F.cube,P);let N;(h.rowSkip||h.rowTake||h.columnTake||h.columnSkip)&&(N=y(X({},h,{totalsOnly:!0,rowSkip:null,rowTake:null,columnSkip:null,columnTake:null}),F.cube,{}));const j=()=>{D?ee(E(F,D),N&&E(F,N)).done((($,k)=>{const B=m($)||k&&m(k);if(B)w.reject(B);else{const z=v($,P);k&&(function(M,K,W){const U=K.columns||[],Y=K.rows||[];U.length,Y.length;const Q=r(W,[[{}],[{},{}]],1);if(!U.length&&Y.length&&(M.rowCount=Math.max(Q[0][0][0]-1,0)),!Y.length&&U.length&&(M.columnCount=Math.max(Q[0][0][0]-1,0)),Y.length&&U.length&&(M.rowCount=Math.max(Q[0][0][0]-1,0),M.columnCount=Math.max(Q[1][0][0]-1,0)),M.rowCount!==void 0&&K.rowTake){M.rows=[...Array(K.rowSkip)].concat(M.rows),M.rows.length=M.rowCount;for(let J=0;J<M.rows.length;J+=1)M.rows[J]=M.rows[J]||{}}if(M.columnCount!==void 0&&K.columnTake){M.columns=[...Array(K.columnSkip)].concat(M.columns),M.columns.length=M.columnCount;for(let J=0;J<M.columns.length;J+=1)M.columns[J]=M.columns[J]||{}}})(z,h,k),w.resolve(z)}})).fail(w.reject):w.resolve({columns:[],rows:[],values:[],grandTotalColumnIndex:0,grandTotalRowIndex:0})};return h.delay?setTimeout(j,h.delay):j(),w},supportPaging:()=>!0,getDrillDownItems(h,w){const F=new ne,P=this._options,D=(function(N,j,$){const k=N.columns||[],B=N.rows||[],z=N.values&&N.values.length?N.values:[{dataField:"[Measures]"}],M=[],K=[],W=[],U=b(K,z),{maxRowCount:Y}=$,Q=$.customColumns||[],J=Q.length>0?` return ${Q.join(",")}`:"";H(M,k,$.columnPath||[]),H(M,B,$.rowPath||[]),(k.length||U.length)&&W.push([`${U[$.dataIndex]||U[0]} on 0`]);const le=C(W,K,k,B,N.filters,M,j);return le&&`drillthrough${Y>0?` maxrows ${Y}`:""}${le}${J}`})(h,P.cube,w);return D?ee(E(P,D)).done((N=>{const j=m(N);j?F.reject(j):F.resolve((function($){const k=$.getElementsByTagName("row"),B=[],z={};for(let M=0;M<k.length;M+=1){const K=k[M].childNodes,W={};for(let U=0;U<K.length;U+=1){const{tagName:Y}=K[U],Q=z[Y]=z[Y]||S(Y);W[Q]=V(K[U])}B.push(W)}return B})(N))})).fail(F.reject):F.resolve([]),F},key:Be,filter:Be}})()).include(Pt),Pa={XmlaStore:Aa};function Ia(t,e,n){Qt(e,t,"rows",n),Qt(e,t,"columns",n)}function Qt(t,e,n,o){const a=e[n]||[],l=e.headerName===n?e.path.length:0,u=[];rt(t[n],((s,d)=>{const p=a[d]||{},x=u[d]=u[d]||Da(p,t,e,n,o);s.sort(x)}),l)}function Da(t,e,n,o,a){const l=a?"asc":t.sortOrder,u=La(t.sortBy,a),s=t.sortingMethod?function(x,g){return t.sortingMethod(x,g)}:Qe((x=>x[u])),d=!a&&Na(t,e,n,o),p=d&&Qe(d);return function(x,g){const C=p&&p(x,g)||s(x,g);return l==="desc"?-C:C}}function Na(t,e,n,o){const{values:a}=e,l=Ee(n.values,t.sortBySummaryField),u=o==="rows",s=u?e.columns:e.rows,d=u?e.grandTotalRowIndex:e.grandTotalColumnIndex,p=t.sortBySummaryPath||[],x=p.length?Ra(s,p):d;if(a!=null&&a.length&&l>=0&&G(x))return function(g){const C=u?g.index:x,b=u?x:g.index,A=((a[C]||[[]])[b]||[])[l];return G(A)?A:null}}function La(t,e){let n="text";return t==="none"?n="index":(e||t!=="displayText")&&(n="value"),n}function Ra(t,e){let n=null;const o=(e||[]).join(".");return o.length&&ae(t,(a=>{const l=a[0],u=de(a).join("."),s=We(a,(d=>d.text)).reverse().join(".");if(o===u||l.key&&s===o)return n=a[0].index,!1})),n}const ct={row:"rows",column:"columns",data:"values",filter:"filters"},ut=["area","areaIndex","sortOrder","filterType","filterValues","sortBy","sortBySummaryField","sortBySummaryPath","expanded","summaryType","summaryDisplayMode"],yt=["format","selector","customizeText","caption"],Zt=yt.concat(["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"]);function Ha(t){let e=t.dataField||t.groupName||"",n=(t.summaryType||"").toLowerCase();return ve(t.groupInterval)&&(e+=`_${t.groupInterval}`),n&&n!=="custom"?(n=n.replace(/^./,n[0].toUpperCase()),e.length&&(n=` (${n})`)):n="",Ao.titleize(e)+n}function Tt(t,e){const n=t._initProperties||{};L(e,((o,a)=>{Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}))}function ht(t,e){Tt(t,e),G(t.caption)||_e(t,"caption",Ha(t))}function $a(t){return t.some((e=>e.summaryDisplayMode||e.calculateSummaryValue))}function Ma(t){return t.some((e=>!!e.runningTotal))}function ka(t){return t.rows.length||t.columns.length||t.values.length}const en=De.inherit((function(){const t=function(r,i){if(r._cacheByPath)return r._cacheByPath[i.join(".")]||null},e=function(r,i){let c,f=-1,_;if(r)for(c=0;c<r.length;c+=1)_=r[c],_.index!==void 0&&(f=Math.max(f,_.index)),_.children?f=Math.max(f,e(_.children)):_.collapsedChildren&&(f=Math.max(f,e(_.collapsedChildren)));return G(i)&&(f=Math.max(f,i)),f},n=function(r,i,c,f){const _=e(c)+1;let m=e(r,f)+1,v;const T=[];let S=!1;const E=new ne;if(i.children&&i.children.length===c.length)for(let h=0;h<c.length;h+=1){const w=c[h];w.index!==void 0&&(i.children[h].index===void 0?(w.index=T[w.index]=m++,i.children[h]=w):T[w.index]=i.children[h].index)}else{for(S=!0,v=0;v<_;v+=1)T[v]=m++;i.children=c}return ee(me(i.children,(h=>{S&&(h[0].index=T[h[0].index])}))).done((()=>{E.resolve(T)})),E},o=function(r,i,c){const f=new ne;let _=c>=0&&e(r,c)+1;const m=[];return ee(me(r,(v=>{delete v[0].collapsedChildren}))).done((()=>{ee(me(i,((v,T)=>{const S=v[0];if(S.index>=0){let E=t(r,de(v));if(E&&E.index>=0)m[S.index]=E.index;else if(_){const h=de(v.slice(1));E=t(r,h);const w=h.length?E&&E.children:r;w&&(w[T]=S,S.index=m[S.index]=_++)}}}))).done((()=>{f.resolve(m)}))})),f},a=function(r,i,c,f){let _,m,v,T,S,E;const h=r.values;if(i){for(_=0;_<i.length;_+=1)if(v=i[_],S=c[_],G(S)||(S=r.grandTotalRowIndex),v&&G(S))for(h[S]||(h[S]=[]),m=0;m<v.length;m+=1)T=v[m],E=f[m],G(E)||(E=r.grandTotalColumnIndex),G(T)&&G(E)&&(h[S][E]=T)}};function l(r,i){const c=r.remoteOperations||r.paginate?Sa:ga;return new c(X(Yo(r),{onChanged:null,onLoadingChanged:null,onProgressChanged:i}))}function u(r,i,c,f){const _=[],m=i&&i[c]||[],v=f&&f[c]||[];return ae(r[c],(T=>{const S=T[0],E=de(T);S.children&&m[E.length-1]&&!m[E.length-1].expanded&&E.length<m.length&&(!f||(function(h,w,F){for(let P=0;P<F;P+=1)if(!h[P]||!w[P]||h[P].index!==w[P].index)return!1;return!0})(m,v,E.length))&&_.push(E.slice())}),!0),_}function s(r,i,c,f){return i?L(f,((_,m)=>{if(c)r[m]=i[m];else{if((m==="summaryType"||m==="summaryDisplayMode")&&i[m]===void 0)return;_e(r,m,i[m])}})):Tt(r,f),r}function d(r,i){const c=[];return L(r,((f,_)=>{c.push(s({dataField:_.dataField,name:_.name},_,!0,i))})),c}function p(r){return r.name?r.name:`${r.dataField}`}function x(r,i){const c=[];return L(r||[],((f,_)=>{p(_)===i&&c.push(_)})),c}function g(r,i){r=r||[];const c={};let f;return L(i,((_,m)=>{f=p(m),c[f]||(c[f]=x(i,p(m)))})),L(c,((_,m)=>{(function(v,T){return v=v||[],L(T,((S,E)=>{s(E,v[S],!1,ut),ht(E,yt)})),T})(x(r,_),m)})),i}function C(r){r.sort(((i,c)=>i.areaIndex-c.areaIndex||i.groupIndex-c.groupIndex))}function b(r,i){const c=r.groupName||"";return(r.dataField||c)+(r.groupInterval?c+r.groupInterval:"NOGROUP")+(i?"":c)}function A(r,i,c){let f=[];const _={},m={},v=Ft(r);return i?(L(i,((T,S)=>{_[b(S,c)]=S})),L(r,((T,S)=>{const E=b(S,c),h=_[E]||m[E];let w;h?(h._initProperties&&Tt(h,Zt),w=X({},h,S,{_initProperties:null})):_[E]=w=S,!w.dataType&&v[S.dataField]&&(w.dataType=v[S.dataField]),delete _[E],m[E]=h,f.push(w)})),c&&L(_,((T,S)=>{f.push(S)}))):f=r,f.push.apply(f,[]),(function(T){T.forEach((S=>{if(S.groupName&&S.groupInterval&&S.groupIndex===void 0){const E=T.filter((h=>h.groupName===S.groupName&&fe(h.groupIndex))).map((h=>h.groupIndex)).reduce(((h,w)=>Math.max(h,w)),-1);S.groupIndex=E+1}}))})(f),f}function y(r){const i=new ne,c=r._store,f=c&&c.getFields(r._fields);let _;return ee(f).done((m=>{r._storeFields=m,_=A(r._fields,m,r._retrieveFields),i.resolve(_)})).fail(i.reject),i}function H(r,i,c){return me(r[c],(f=>{const _=f[0];_.text=_.text||at(_.value,i[c][de(f).length-1])}))}function R(r,i){return ee(H(i,r,"columns"),H(i,r,"rows"))}function O(r){const i=new ne,c={};return ee(me(r,(f=>{const _=de(f).join(".");c[_]=f[0]}))).done(i.resolve),r._cacheByPath=c,i}function V(r,i){const c=[];return L(r,(function(){(function(f,_){const m=_==="data"||f.visible!==!1;return f.area===_&&!G(f.groupIndex)&&m})(this,i)&&c.push(this)})),c}return{ctor(r){r=r||{},this._eventsStrategy=new Co(this);const i=this,c=(function(f,_){let m,v;return kt(f)&&f.load?m=l(f,_):(f&&!f.store&&(f={store:f}),v=f.store,v.type==="xmla"?m=new Pa.XmlaStore(v):kt(v)&&v.type||v instanceof qo||Array.isArray(v)?m=l(f,_):v instanceof De&&(m=v)),m})(r,(f=>{i._eventsStrategy.fireEvent("progressChanged",[f])}));i._store=c,i._paginate=!!r.paginate,i._pageSize=r.pageSize||40,i._data={rows:[],columns:[],values:[]},i._loadingCount=0,i._isFieldsModified=!1,L(["changed","loadError","loadingChanged","progressChanged","fieldsPrepared","expandValueChanging"],((f,_)=>{const m=`on${_[0].toUpperCase()}${_.slice(1)}`;Object.prototype.hasOwnProperty.call(r,m)&&this.on(_,r[m])})),i._retrieveFields=G(r.retrieveFields)?r.retrieveFields:!0,i._fields=r.fields||[],i._descriptions=r.descriptions?X(i._createDescriptions(),r.descriptions):void 0,c||X(!0,i._data,r.store||r)},getData(){return this._data},getAreaFields(r,i){let c=[],f;return i||r==="data"?(c=V(this._fields,r),C(c)):(f=this._descriptions||{},c=f[ct[r]]||[]),c},getSummaryFields(){return this.getAreaFields("data").filter((r=>G(r.summaryType)))},fields(r){const i=this;return r&&(i._fields=A(r,i._storeFields,i._retrieveFields),i._fieldsPrepared(i._fields)),i._fields},field(r,i){const c=this,f=c._fields,_=f&&f[fe(r)?r:Ee(f,r)];let m;return _&&i&&(L(i,((v,T)=>{const S=!ut.includes(v);if(_e(_,v,T,S),v==="sortOrder"){m=_.levels||[];for(let E=0;E<m.length;E+=1)m[E][v]=T}})),ht(_,yt),c._descriptions=c._createDescriptions(_),c._isFieldsModified=!0,c._eventsStrategy.fireEvent("fieldChanged",[_])),_},getFieldValues(r,i,c){const f=this,_=this._fields&&this._fields[r],m=this.store(),v=[],T={columns:v,rows:[],values:this.getAreaFields("data"),filters:i?this._fields.filter((h=>h!==_&&h.area&&h.filterValues&&h.filterValues.length)):[],skipValues:!0};let S;const E=new ne;return c&&(S=c.searchValue,T.columnSkip=c.skip,T.columnTake=c.take),_&&m?(L(_.levels||[_],(function(){v.push(X({},this,{expanded:!0,filterValues:null,sortOrder:"asc",sortBySummaryField:null,searchValue:S}))})),m.load(T).done((h=>{T.columnSkip&&(h.columns=h.columns.slice(T.columnSkip)),T.columnTake&&(h.columns=h.columns.slice(0,T.columnTake)),R(T,h),T.columnTake||f._sort(T,h),E.resolve(h.columns)})).fail(E)):E.reject(),E},reload(){return this.load({reload:!0})},filter(){const r=this._store;return r.filter.apply(r,arguments)},load:function(r){const i=this,c=new ne;r=r||{},i.beginLoading(),c.fail((_=>{i._eventsStrategy.fireEvent("loadError",[_])})).always((()=>{i.endLoading()}));function f(){i._delayedLoadTask=void 0,i._descriptions?i._loadCore(r,c):ee(y(i)).done((_=>{i._fieldsPrepared(_),i._loadCore(r,c)})).fail(c.reject).fail(i._loadErrorHandler)}return i.store()?i._delayedLoadTask=Fo.executeAsync(f):f(),c},createDrillDownDataSource(r){return this._store.createDrillDownDataSource(this._descriptions,r)},_createDescriptions(r){const i=this.fields(),c={rows:[],columns:[],values:[],filters:[]};L(["row","column","data","filter"],((_,m)=>{_o(V(i,m),"areaIndex",r)})),L(i||[],((_,m)=>{const v=ct[m.area],T=c[v],{groupName:S}=m;S&&!fe(m.groupIndex)&&(m.levels=(function(E,h){return E.filter((w=>w.groupName===h.groupName&&fe(w.groupIndex)&&w.visible!==!1)).map((w=>X(w,{areaIndex:h.areaIndex,area:h.area,expanded:G(w.expanded)?w.expanded:h.expanded,dataField:w.dataField||h.dataField,dataType:w.dataType||h.dataType,sortBy:w.sortBy||h.sortBy,sortOrder:w.sortOrder||h.sortOrder,sortBySummaryField:w.sortBySummaryField||h.sortBySummaryField,sortBySummaryPath:w.sortBySummaryPath||h.sortBySummaryPath,visible:w.visible||h.visible,showTotals:G(w.showTotals)?w.showTotals:h.showTotals,showGrandTotals:G(w.showGrandTotals)?w.showGrandTotals:h.showGrandTotals}))).sort(((w,F)=>w.groupIndex-F.groupIndex))})(i,m)),!(!T||S&&fe(m.groupIndex)||m.visible===!1&&m.area!=="data"&&m.area!=="filter")&&(m.levels&&T!==c.filters&&T!==c.values?(T.push.apply(T,m.levels),m.filterValues&&m.filterValues.length&&c.filters.push(m)):T.push(m))})),L(c,((_,m)=>{C(m)}));const f={};return L(c.values,((_,m)=>{const v=m.calculateSummaryValue;if(ot(v)){const T=dt.createMockSummaryCell(c,i,f);v(T)}})),c},_fieldsPrepared(r){this._fields=r,L(r,((c,f)=>{f.index=c,ht(f,Zt)}));const i=d(r,["caption"]);this._eventsStrategy.fireEvent("fieldsPrepared",[r]);for(let c=0;c<r.length;c+=1)r[c].caption!==i[c].caption&&_e(r[c],"caption",r[c].caption,!0);this._descriptions=this._createDescriptions()},isLoading(){return this._loadingCount>0},state(r,i){const c=this;if(arguments.length){r=X({rowExpandedPaths:[],columnExpandedPaths:[]},r),c._descriptions?(c._fields=g(r.fields,c._fields),c._descriptions=c._createDescriptions(),!i&&c.load(r)):(c.beginLoading(),ee(y(c)).done((f=>{c._fields=g(r.fields,f),c._fieldsPrepared(f),!i&&c.load(r)})).always((()=>{c.endLoading()})));return}return{fields:d(c._fields,ut),columnExpandedPaths:u(c._data,c._descriptions,"columns",c._lastLoadOptions),rowExpandedPaths:u(c._data,c._descriptions,"rows",c._lastLoadOptions)}},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_changeLoadingCount(r){const i=this.isLoading();this._loadingCount+=r;const c=this.isLoading();i^c&&this._eventsStrategy.fireEvent("loadingChanged",[c])},_hasPagingValues(r,i,c){const f=`${i}Take`,_=`${i}Skip`,{values:m}=this._data;let v=this._data[`${i}s`];const T=i==="row"?"column":"row",S=[];if(r.path&&r.area===i){const E=t(v,r.path);if(v=E&&E.children,!v)return!1}if(r.oppositePath&&r.area===T){const E=t(v,r.oppositePath);if(v=E&&E.children,!v)return!1}for(let E=r[_];E<r[_]+r[f];E+=1)v[E]&&S.push(v[E].index);return S.every((E=>{if(E!==void 0)return i==="row"?(m[E]||[])[c]:(m[c]||[])[E]}))},_processPagingCacheByArea(r,i,c){const f=`${c}Take`,_=`${c}Skip`;let m=this._data[`${c}s`];const v=c==="row"?"column":"row";let T;if(r[f]){if(r.path&&r.area===c){const S=t(m,r.path);m=S&&S.children||[]}if(r.oppositePath&&r.area===v){const S=t(m,r.oppositePath);m=S&&S.children||[]}do if(T=m[r[_]],T&&T.index!==void 0)if(this._hasPagingValues(r,v,T.index))r[_]++,r[f]--;else break;while(T&&T.index!==void 0&&r[f]);if(r[f]){const S=Math.floor(r[_]/i)*i,E=Math.ceil((r[_]+r[f])/i)*i;r[_]=S,r[f]=E-S}}},_processPagingCache(r){const i=this._pageSize;if(!(i<0))for(let c=0;c<r.length;c+=1)this._processPagingCacheByArea(r[c],i,"row"),this._processPagingCacheByArea(r[c],i,"column")},_loadCore(r,i){const c=this,f=this._store,_=this._descriptions,m=r.reload||this.paginate()&&c._isFieldsModified,v=this.paginate(),T=ct[r.area];if(r=r||{},f){X(r,_),r.columnExpandedPaths=r.columnExpandedPaths||u(this._data,r,"columns",c._lastLoadOptions),r.rowExpandedPaths=r.rowExpandedPaths||u(this._data,r,"rows",c._lastLoadOptions),v&&(r.pageSize=this._pageSize),T&&(r.headerName=T),c.beginLoading(),i.always((()=>{c.endLoading()}));let S=[r];if(c._eventsStrategy.fireEvent("customizeStoreLoadOptions",[S,m]),m||c._processPagingCache(S),S=S.filter((h=>!(h.rows.length&&h.rowTake===0)&&!(h.columns.length&&h.columnTake===0))),!S.length){c._update(i);return}const E=S.map((h=>f.load(h)));ee.apply(null,E).done((function(){const h=arguments;for(let w=0;w<h.length;w+=1){const F=S[w],P=h[w],D=w===h.length-1;F.path?c.applyPartialDataSource(F.area,F.path,P,D?i:!1,F.oppositePath):v&&!m&&ka(c._data)?c.mergePartialDataSource(P,D?i:!1):(X(c._data,P),c._lastLoadOptions=F,c._update(D?i:!1))}})).fail(i.reject)}else c._update(i)},_sort(r,i,c){this._store&&!this._paginate&&Ia(r,i,c)},sortLocal(){this._sort(this._descriptions,this._data),this._eventsStrategy.fireEvent("changed")},paginate(){return this._paginate&&this._store&&this._store.supportPaging()},isEmpty(){const r=this.getAreaFields("data").filter((c=>c.visible!==!1)),i=this.getData();return!r.length||!i.values.length},_update(r){const i=this,c=i._descriptions,f=i._data,_=c.values,m=$a(_);return ee(R(c,f),O(f.rows),O(f.columns)).done((()=>{m&&(i._sort(c,f,m),!i.isEmpty()&&dt.applyDisplaySummaryMode(c,f)),i._sort(c,f),!i.isEmpty()&&Ma(_)&&dt.applyRunningTotal(c,f),i._data=f,r!==!1&&ee(r).done((()=>{i._isFieldsModified=!1,i._eventsStrategy.fireEvent("changed"),G(i._data.grandTotalRowIndex)&&(f.grandTotalRowIndex=i._data.grandTotalRowIndex),G(i._data.grandTotalColumnIndex)&&(f.grandTotalColumnIndex=i._data.grandTotalColumnIndex)})),r&&r.resolve(i._data)})),r},store(){return this._store},collapseHeaderItem(r,i){const c=this,f=r==="column"?c._data.columns:c._data.rows,_=t(f,i),m=c.getAreaFields(r)[i.length-1];return _&&_.children?(c._eventsStrategy.fireEvent("expandValueChanging",[{area:r,path:i,expanded:!1}]),m&&(m.expanded=!1),_.collapsedChildren=_.children,delete _.children,c._update(),c.paginate()&&c.load(),!0):!1},collapseAll(r){let i=!1;const c=this.field(r)||{};let f=[this.getAreaFields(c.area).indexOf(c)];c.expanded=!1,c&&c.levels&&(f=[],c.levels.forEach((_=>{f.push(this.getAreaFields(c.area).indexOf(_)),_.expanded=!1}))),ae(this._data[`${c.area}s`],(_=>{const m=_[0],v=de(_);m&&m.children&&f.includes(v.length-1)&&(m.collapsedChildren=m.children,delete m.children,i=!0)}),!0),i&&this._update()},expandAll(r){const i=this.field(r);i&&i.area&&(i.expanded=!0,i&&i.levels&&i.levels.forEach((c=>{c.expanded=!0})),this.load())},expandHeaderItem(r,i){const c=this,f=r==="column"?c._data.columns:c._data.rows,_=t(f,i);if(_&&!_.children){const m=!!_.collapsedChildren,v={area:r,path:i,expanded:!0,needExpandData:!m};return c._eventsStrategy.fireEvent("expandValueChanging",[v]),m?(_.children=_.collapsedChildren,delete _.collapsedChildren,c._update()):this.store()&&c.load(v),m}return!1},mergePartialDataSource(r,i){const c=this,f=c._data;let _,m;r&&r.values&&(r.rows=r.rows||[],r.columns=r.columns||[],_=o(f.rows,r.rows,f.grandTotalColumnIndex),m=o(f.columns,r.columns,f.grandTotalColumnIndex),ee(_,m).done(((v,T)=>{(v.length||T.length)&&a(f,r.values,v,T),c._update(i)})))},applyPartialDataSource(r,i,c,f,_){const m=this,v=m._data,T=r==="column"?v.columns:v.rows;let S;const E=r==="column"?v.rows:v.columns;let h,w,F;c&&c.values&&(c.rows=c.rows||[],c.columns=c.columns||[],S=t(T,i),h=_&&t(E,_),S&&(r==="column"?(F=n(T,S,c.columns,v.grandTotalColumnIndex),h?w=n(E,h,c.rows,v.grandTotalRowIndex):w=o(v.rows,c.rows,v.grandTotalRowIndex)):(w=n(T,S,c.rows,v.grandTotalRowIndex),h?F=n(E,h,c.columns,v.grandTotalColumnIndex):F=o(v.columns,c.columns,v.grandTotalColumnIndex)),ee(w,F).done(((P,D)=>{(r==="row"&&P.length||r==="column"&&D.length)&&a(v,c.values,P,D),m._update(f)}))))},on(r,i){return this._eventsStrategy.on(r,i),this},off(r,i){return this._eventsStrategy.off(r,i),this},dispose(){const r=this._delayedLoadTask;this._eventsStrategy.dispose(),r&&r.abort(),this._isDisposed=!0},isDisposed(){return!!this._isDisposed}}})()),pt=Math,He=function(t,e,n){t[e]||(t[e]=function(){const o=this._dataSource;return o?o[e].apply(o,arguments):n})},Oa=De.inherit((function(){function t(s,d,p){return s==="#N/A"?p:at(s,d)}const e=(function(){const s=function(g,C){const b=C.lastIndex-C.index||1,A=(function(y,H,R,O){var V;const r={type:y.type,text:y.text};return y.path&&(r.path=y.path),y.width&&(r.width=y.width),G(y.wordWrapEnabled)&&(r.wordWrapEnabled=y.wordWrapEnabled),y.isLast&&(r.isLast=!0),y.sorted&&(r.sorted=!0),y.isMetric&&(r.dataIndex=y.dataIndex),G(y.expanded)&&(r.expanded=y.expanded),H>1&&(r[R?"colspan":"rowspan"]=H),y.depthSize&&y.depthSize>1&&(r[R?"rowspan":"colspan"]=y.depthSize),y.index>=0&&(r.dataSourceIndex=y.index),O&&(V=y.children)!==null&&V!==void 0&&V.length&&!y.children[0].isMetric&&(r.width=null,r.isWhiteSpace=!0),r})(C.headerItem,b,C.isHorizontal,C.isTree);return(function(y,H,R,O,V){const r=V?O:R;for(;!y[r];)y.push([]);V?y[r].push(H):y[r].unshift(H)})(g,A,C.index,C.depth,C.isHorizontal),!C.headerItem.children||C.headerItem.children.length===0?C.lastIndex+1:C.lastIndex},d=function(g,C,b,A,y){const H=b.length,R=(function(r,i){const c=(i==null?void 0:i.length)||0,f=[],_=new ne;let m;return ee(me(r,((v,T)=>{const S=v[0],E=de(v);m=p(f,E.length,T),m.type="D",m.value=S.value,m.path=E,m.text=S.text,m.index=S.index,m.displayText=S.displayText,m.key=S.key,m.isEmpty=S.isEmpty,E.length<c&&(!S.children||S.children.length!==0)&&(m.expanded=!!S.children)}))).done((()=>{_.resolve(p(f,0,0).children||[])})),_})(g,C),{dataFields:O}=y,V=new ne;return ee(R).done((r=>{y.notifyProgress(.5),y.showGrandTotals&&r[y.showTotalsPrior?"unshift":"push"]({type:"GT",isEmpty:y.isEmptyGrandTotal});const i=y.showTotals===!1||O.length>0&&O.length===y.hiddenTotals.length,c=O.length>0&&y.hiddenValues.length===O.length;c&&i&&(A=1),(!i||y.layout==="tree")&&(function(f,_,m,v){m=m||v,ae(f,((T,S)=>{const E=T[0],h=(T[1]?T[1].children:f)||[],w=_[T.length-1];E.type==="D"&&E.expanded&&(w.showTotals!==!1||v)&&(S!==-1&&h.splice(m?S:S+1,0,X({},E,{children:null,type:"T",expanded:m?!0:null,isAdditionalTotal:!0})),m&&(E.expanded=null))}))})(r,C,y.showTotalsPrior,y.layout==="tree"),ee(me(r,(f=>{const _=f[0];(!_.children||_.children.length===0)&&(_.depthSize=A-f.length+1)}))).done((()=>{H>1&&(function(f,_,m){ae(f,(v=>{const T=v[0];let S;if(!T.children||T.children.length===0)for(T.children=[],S=0;S<_.length;S+=1){var E;const h=T.type==="GT",w=T.type==="T",F=T.type==="D";_[S].visible===!1||h&&m.hiddenGrandTotals.includes(S)||w&&m.hiddenTotals.includes(S)||F&&m.hiddenValues.includes(S)||T.children.push({caption:_[S].caption,path:T.path,type:T.type,value:S,index:T.index,dataIndex:S,isMetric:!0,isEmpty:(E=T.isEmpty)===null||E===void 0?void 0:E[S]})}}))})(r,b,y),!y.showEmpty&&(function(f){ae([{children:f}],((_,m)=>{var v;const T=_[0],S=(_[1]?_[1].children:f)||[];let{isEmpty:E}=T;(v=E)!==null&&v!==void 0&&v.length&&(E=T.isEmpty.filter((h=>h)).length===E.length),T&&!T.children&&E&&(S.splice(m,1),x(_,1))}))})(r),y.notifyProgress(.75),ee(me(r,(f=>{var _;const m=f[0],{isMetric:v}=m,T=C[f.length-1]||{};if(m.type==="D"&&!v&&(m.width=T.width),c&&m.type==="D"){const S=(f[1]?f[1].children:r)||[];S.splice(S.indexOf(m),1);return}v?m.wordWrapEnabled=b[m.dataIndex].wordWrapEnabled:m.wordWrapEnabled=T.wordWrapEnabled,m.isLast=!((_=m.children)!==null&&_!==void 0&&_.length),m.isLast&&L(y.sortBySummaryPaths,((S,E)=>{if(G(m.dataIndex)||(E=E.slice(0),E.pop()),(function(h,w){let F;const P=h[0],D=ve(w[0]),N=P.dataIndex>=0?h[1]:P;return D&&w[0].indexOf("&[")!==-1&&N.key||!N.key?F=de(h):F=We(h,(j=>j.dataIndex>=0?j.value:j.text)).reverse(),P.type==="GT"&&(F=F.slice(1)),F.join("/")===w.join("/")})(f,E))return m.sorted=!0,!1})),m.text=(function(S,E,h){let{text:w}=S;return G(S.displayText)?w=S.displayText:G(S.caption)?w=S.caption:S.type==="GT"&&(w=h.texts.grandTotal),S.isAdditionalTotal&&(w=oe(h.texts.total||"",w)),w})(m,0,y)}))).done((()=>{r.length||r.push({}),y.notifyProgress(1),V.resolve(r)}))}))})),V};function p(g,C,b){const A=g[C]=g[C]||[],y=A[b]={};if(g[C+1]){y.children=g[C+1];for(let H=C+1;H<g.length;H+=1)g[H]=void 0;g.length=C+1}return y}const x=function(g,C){const b=g[C+1];!g[C].children.length&&b!==null&&b!==void 0&&b.children&&(b.children.splice(b.children.indexOf(g[C]),1),x(g,C+1))};return function(g,C,b,A,y){const H=[],R=(function(V){let r=0;return ae(V,(i=>{r=pt.max(r,i.length)})),r})(g)||1,O=new ne;return d(g,C,b,R,y).done((V=>{(function(r,i,c,f,_){let m=0,v,T;const S=[0];ae(i,(E=>{const h=E[0];for(T=h.isMetric?c:E.length-1;S.length-1<T;)S.push(S[S.length-1]);v=S[T]||0,m=s(r,{headerItem:h,index:v,lastIndex:m,depth:T,isHorizontal:f,isTree:_}),S.length=T,S.push(m)}))})(H,V,R,A,y.layout==="tree"),y.notifyProgress(1),O.resolve(H)})),O}})();function n(s,d){const p=[];return L(s,((x,g)=>{const C=Ee(d,g.sortBySummaryField);C>=0&&p.push((g.sortBySummaryPath||[]).concat([C]))})),p}function o(s,d){let p=0;const x=[];for(let g=0;g<s.length;g+=1)for(let C=0;C<s[g].length;C+=1){const b=(s[g][C].rowspan||1)-1,A=g+b;if(x[g]&&(p-=x[g],x[g]=0),d(s[g][C],A,g,C,p)===!1)break;x[g+(s[g][C].rowspan||1)]=(x[g+(s[g][C].rowspan||1)]||0)+1,p+=1}}function a(s,d){let p=0;const x=[];return ae(s,(g=>{const C=g[0],b=de(g);if(C.children&&d.showTotals===!1)return;const A=X(!0,{},C,{visibleIndex:p+=1,path:b});G(A.index)?x[A.index]=A:x.push(A)})),x}function l(s,d,p){return new Ro.VirtualScrollController(d,X({hasKnownLastPage:()=>!0,pageCount(){return pt.ceil(this.totalItemsCount()/this.pageSize())},updateLoading(){},itemsCount(){return this.pageIndex()<this.pageCount()-1?this.pageSize():this.totalItemsCount()%this.pageSize()},items:()=>[],viewportItems:()=>[],onChanged(){},isLoading:()=>s.isLoading(),changingDuration(){return s._dataSource.paginate()?300:s._changingDuration||0}},p))}const u={ctor(s){const d=this,p=d._fireChanged.bind(d);s=d._options=s||{},d.dataSourceChanged=be(),d._dataSource=d._createDataSource(s),s.component&&s.component.option("scrolling.mode")==="virtual"&&(d._rowsScrollController=l(d,s.component,{totalItemsCount:()=>d.totalRowCount(),pageIndex:x=>d.rowPageIndex(x),pageSize:()=>d.rowPageSize(),load(){return d._rowsScrollController.pageIndex()>=this.pageCount()&&d._rowsScrollController.pageIndex(this.pageCount()-1),d._rowsScrollController.handleDataChanged((function(){d._dataSource.paginate()?d._dataSource.load():p.apply(this,arguments)}))}}),d._columnsScrollController=l(d,s.component,{totalItemsCount:()=>d.totalColumnCount(),pageIndex:x=>d.columnPageIndex(x),pageSize:()=>d.columnPageSize(),load(){return d._columnsScrollController.pageIndex()>=this.pageCount()&&d._columnsScrollController.pageIndex(this.pageCount()-1),d._columnsScrollController.handleDataChanged((function(){d._dataSource.paginate()?d._dataSource.load():p.apply(this,arguments)}))}})),d._stateStoringController=new Lo.StateStoringController(s.component).init(),d._columnsInfo=[],d._rowsInfo=[],d._cellsInfo=[],d.expandValueChanging=be(),d.loadingChanged=be(),d.progressChanged=be(),d.scrollChanged=be(),d.load(),d._update(),d.changed=be()},_fireChanged(){const s=new Date;this.changed&&!this._lockChanged&&this.changed.fire(),this._changingDuration=new Date-s},_correctSkipsTakes(s,d,p,x,g,C){const b=p?s+p-1:s;g[x.length]=g[x.length]||0,C[x.length]=C[x.length]||0,b<d?g[x.length]+=1:C[x.length]+=1},_calculatePagingForRowExpandedPaths(s,d,p,x,g){const C=this._rowsInfo,b=Math.min(s.rowSkip+s.rowTake,C.length),{rowExpandedPaths:A}=s;let y=[];const H={};let R,O,V;for(A.forEach(((r,i)=>{H[r]=i})),R=0;R<b;R+=1){for(p.length=d.length=y.length+1,O=0;O<C[R].length;O+=1){const r=C[R][O];if(r.type==="D"){this._correctSkipsTakes(R,s.rowSkip,r.rowspan,y,d,p),V=r.path||V;const i=V&&V.length>1?H[V.slice(0,-1)]:-1;i>=0&&(x[i]=d[y.length]||0,g[i]=p[y.length]||0),r.rowspan&&y.push(r.rowspan)}}y=y.map((r=>r-1)).filter((r=>r>0))}},_calculatePagingForColumnExpandedPaths(s,d,p,x,g){const C={},b={};Ot(this._columnsInfo,((A,y)=>{if(A.type==="D"&&A.path&&A.dataIndex===void 0){const H=A.colspan||1,R=A.path.slice(0,-1).toString();C[R]=C[R]||0,b[R]=b[R]||0,y+H<=s.columnSkip?C[R]+=1:y<s.columnSkip+s.columnTake&&(b[R]+=1)}})),d[0]=C[""],p[0]=b[""],s.columnExpandedPaths.forEach(((A,y)=>{const H=C[A],R=b[A];H!==void 0&&(x[y]=H),R!==void 0&&(g[y]=R)}))},_processPagingForExpandedPaths(s,d,p,x){const g=s[`${d}ExpandedPaths`],C=g.map((()=>0)),b=g.map((()=>x?s.pageSize:0)),A=[],y=[];x||(d==="row"?this._calculatePagingForRowExpandedPaths(s,A,y,C,b):this._calculatePagingForColumnExpandedPaths(s,A,y,C,b)),this._savePagingForExpandedPaths(s,d,p,A[0],y[0],C,b)},_savePagingForExpandedPaths(s,d,p,x,g,C,b){const A=s[`${d}ExpandedPaths`];s[`${d}ExpandedPaths`]=[],s[`${d}Skip`]=x!==void 0?x:s[`${d}Skip`],s[`${d}Take`]=g!==void 0?g:s[`${d}Take`];for(let y=0;y<A.length;y+=1)if(b[y]){const H=s.area&&s.area!==d;p.push(X({area:d,headerName:`${d}s`},s,{[`${d}Skip`]:C[y],[`${d}Take`]:b[y],[H?"oppositePath":"path"]:A[y]}))}},_handleCustomizeStoreLoadOptions(s,d){const p=s[0],x=this._rowsScrollController;if(this._dataSource.paginate()&&x){const C=x.pageSize();p.headerName==="rows"?(p.rowSkip=0,p.rowTake=C,p.rowExpandedPaths=[]):(p.rowSkip=x.beginPageIndex()*C,p.rowTake=(x.endPageIndex()-x.beginPageIndex()+1)*C,this._processPagingForExpandedPaths(p,"row",s,d))}const g=this._columnsScrollController;if(this._dataSource.paginate()&&g){const C=g.pageSize();s.forEach((b=>{b.headerName==="columns"?(b.columnSkip=0,b.columnTake=C,b.columnExpandedPaths=[]):(b.columnSkip=g.beginPageIndex()*C,b.columnTake=(g.endPageIndex()-g.beginPageIndex()+1)*C,this._processPagingForExpandedPaths(b,"column",s,d))}))}},load(){const s=this,d=this._stateStoringController;d.isEnabled()&&!d.isLoaded()?d.load().always((p=>{p?s._dataSource.state(p):s._dataSource.load()})):s._dataSource.load()},calculateVirtualContentParams(s){const d=this,p=d._rowsScrollController,x=d._columnsScrollController;if(p&&x)return p.viewportItemSize(s.virtualRowHeight),p.viewportSize(s.viewportHeight/p.viewportItemSize()),p.setContentItemSizes(s.itemHeights),x.viewportItemSize(s.virtualColumnWidth),x.viewportSize(s.viewportWidth/x.viewportItemSize()),x.setContentItemSizes(s.itemWidths),Cn((()=>{x.loadIfNeed(),p.loadIfNeed()})),d.scrollChanged.fire({left:x.getViewportPosition(),top:p.getViewportPosition()}),{contentTop:p.getContentOffset(),contentLeft:x.getContentOffset(),width:x.getVirtualContentSize(),height:p.getVirtualContentSize()}},setViewportPosition(s,d){this._rowsScrollController.setViewportPosition(d||0),this._columnsScrollController.setViewportPosition(s||0)},subscribeToWindowScrollEvents(s){var d;(d=this._rowsScrollController)===null||d===void 0||d.subscribeToWindowScrollEvents(s)},updateWindowScrollPosition(s){var d;(d=this._rowsScrollController)===null||d===void 0||d.scrollTo(s)},updateViewOptions(s){X(this._options,s),this._update()},_handleExpandValueChanging(s){this.expandValueChanging.fire(s)},_handleLoadingChanged(s){this.loadingChanged.fire(s)},_handleProgressChanged(s){this.progressChanged.fire(s)},_handleFieldsPrepared(s){var d,p;(d=(p=this._options).onFieldsPrepared)===null||d===void 0||d.call(p,s)},_createDataSource(s){const d=this,p=s.dataSource;let x;return d._isSharedDataSource=p instanceof en,d._isSharedDataSource?x=p:x=new en(p),d._expandValueChangingHandler=d._handleExpandValueChanging.bind(d),d._loadingChangedHandler=d._handleLoadingChanged.bind(d),d._fieldsPreparedHandler=d._handleFieldsPrepared.bind(d),d._customizeStoreLoadOptionsHandler=d._handleCustomizeStoreLoadOptions.bind(d),d._changedHandler=function(){d._update(),d.dataSourceChanged.fire()},d._progressChangedHandler=function(g){d._handleProgressChanged(.8*g)},x.on("changed",d._changedHandler),x.on("expandValueChanging",d._expandValueChangingHandler),x.on("loadingChanged",d._loadingChangedHandler),x.on("progressChanged",d._progressChangedHandler),x.on("fieldsPrepared",d._fieldsPreparedHandler),x.on("customizeStoreLoadOptions",d._customizeStoreLoadOptionsHandler),x},getDataSource(){return this._dataSource},isLoading(){return this._dataSource.isLoading()},beginLoading(){this._dataSource.beginLoading()},endLoading(){this._dataSource.endLoading()},_update(){const s=this,d=s._dataSource,p=s._options,x=d.getAreaFields("column"),g=d.getAreaFields("row"),C=d.getAreaFields("data"),b=p.dataFieldArea==="row"?C:[],A=p.dataFieldArea!=="row"?C:[],y=d.getData(),H=(function(_){const m=[];return L(_,((v,T)=>{T.showTotals===!1&&m.push(v)})),m})(C),R=(function(_){const m=[];return _.forEach(((v,T)=>{(v.showValues===void 0&&v.showTotals===!1||v.showValues===!1)&&m.push(T)})),m})(C),O=(function(_,m){let v=[];return L(_,((T,S)=>{S.showGrandTotals===!1&&v.push(T)})),m.length===0&&v.length===_.length&&(v=[]),v})(C,x),V=C.length>0?O.length!==C.length:!0,r={texts:p.texts||{},hiddenTotals:H,hiddenValues:R,hiddenGrandTotals:O,showEmpty:!p.hideEmptySummaryCells,dataFields:C,progress:0},i=X({},r,{isEmptyGrandTotal:y.isEmptyGrandTotalRow,showTotals:p.showRowTotals,showTotalsPrior:p.showTotalsPrior==="rows"||p.showTotalsPrior==="both",showGrandTotals:p.showRowGrandTotals!==!1&&V,sortBySummaryPaths:n(x,C),layout:p.rowHeaderLayout,fields:g}),c=X({},r,{isEmptyGrandTotal:y.isEmptyGrandTotalColumn,showTotals:p.showColumnTotals,showTotalsPrior:p.showTotalsPrior==="columns"||p.showTotalsPrior==="both",showGrandTotals:p.showColumnGrandTotals!==!1&&V,sortBySummaryPaths:n(g,C),fields:x}),f=function(_){this.progress=_,s._handleProgressChanged(.8+.1*i.progress+.1*c.progress)};i.notifyProgress=f,c.notifyProgress=f,G(y.grandTotalRowIndex)||(y.grandTotalRowIndex=a(y.rows,i).length),G(y.grandTotalColumnIndex)||(y.grandTotalColumnIndex=a(y.columns,c).length),d._changeLoadingCount(1),ee(e(y.columns,x,A,!0,c),e(y.rows,g,b,!1,i)).always((()=>{d._changeLoadingCount(-1)})).done(((_,m)=>{s._columnsInfo=_,s._rowsInfo=m,s._rowsScrollController&&s._columnsScrollController&&s.changed&&!s._dataSource.paginate()&&(s._rowsScrollController.reset(!0),s._columnsScrollController.reset(!0),s._lockChanged=!0,s._rowsScrollController.load(),s._columnsScrollController.load(),s._lockChanged=!1)})).done((()=>{s._fireChanged(),s._stateStoringController.isEnabled()&&!s._dataSource.isLoading()&&(s._stateStoringController.state(s._dataSource.state()),s._stateStoringController.save())}))},getRowsInfo(s){const d=this,p=d._rowsInfo,x=d._rowsScrollController;let g;const C=p.length===1&&(!p[0].type||p[0].type==="GT");if(x&&!s&&!C){const b=x.beginPageIndex()*d.rowPageSize(),A=x.endPageIndex()*d.rowPageSize()+d.rowPageSize(),y=d._dataSource.getSummaryFields(),H=this._options.dataFieldArea==="row",R=[];let O=1;return o(p,((V,r,i,c,f)=>{const _=r>=b&&i<A,m=i<b?0:i-b;let v=V;if(_){R[m]=R[m]||[],g=i<b?V.rowspan-(b-i)||1:V.rowspan,b+m+g>A&&(g=A-(m+b)||1),g!==V.rowspan&&(v=X({},v,{rowspan:g})),R[m].push(v);const T=y.some((S=>S.caption===v.text));(!H||!T)&&(O=pt.max(O,f+1))}else return!1})),o(R,((V,r,i,c,f)=>{const _=V.colspan||1;f+_>O&&(R[i][c]=X({},V,{colspan:O-f||1}))})),R}return p},getColumnsInfo(s){const d=this;let p=d._columnsInfo;const x=d._columnsScrollController;if(x&&!s){const g=x.beginPageIndex()*d.columnPageSize(),C=x.endPageIndex()*d.columnPageSize()+d.columnPageSize();p=No(p,g,C)}return p},totalRowCount(){return this._rowsInfo.length},rowPageIndex(s){return s!==void 0&&(this._rowPageIndex=s),this._rowPageIndex||0},totalColumnCount(){var s;let d=0;if((s=this._columnsInfo)!==null&&s!==void 0&&s.length)for(let p=0;p<this._columnsInfo[0].length;p+=1)d+=this._columnsInfo[0][p].colspan||1;return d},rowPageSize(s){return s!==void 0&&(this._rowPageSize=s),this._rowPageSize||20},columnPageSize(s){return s!==void 0&&(this._columnPageSize=s),this._columnPageSize||20},columnPageIndex(s){return s!==void 0&&(this._columnPageIndex=s),this._columnPageIndex||0},getCellsInfo(s){const d=this.getRowsInfo(s),p=this.getColumnsInfo(s),x=this._dataSource.getData(),g=this._options.texts||{};return(function(C,b,A,y,H,R){const O=[],V=H==="row",r=A.values;return r.length&&o(C,((i,c)=>{const f=O[c]=[],_=r[i.dataSourceIndex>=0?i.dataSourceIndex:A.grandTotalRowIndex]||[];i.isLast&&Ot(b,((m,v)=>{const T=(V?i.dataIndex:m.dataIndex)||0,S=y[T];if(m.isLast&&S&&S.visible!==!1){let E=_[m.dataSourceIndex>=0?m.dataSourceIndex:A.grandTotalColumnIndex];Array.isArray(E)||(E=[E]);const h=E[T];f[v]={text:t(h,S,R),value:h,format:S.format,dataType:S.dataType,columnType:m.type,rowType:i.type,rowPath:i.path||[],columnPath:m.path||[],dataIndex:T},S.width&&(f[v].width=S.width)}}))})),O})(d,p,x,this._dataSource.getAreaFields("data"),this._options.dataFieldArea,g.dataNotAvailable)},dispose(){var s,d;const p=this;p._isSharedDataSource?(p._dataSource.off("changed",p._changedHandler),p._dataSource.off("expandValueChanging",p._expandValueChangingHandler),p._dataSource.off("loadingChanged",p._loadingChangedHandler),p._dataSource.off("progressChanged",p._progressChangedHandler),p._dataSource.off("fieldsPrepared",p._fieldsPreparedHandler),p._dataSource.off("customizeStoreLoadOptions",p._customizeStoreLoadOptionsHandler)):p._dataSource.dispose(),(s=p._columnsScrollController)===null||s===void 0||s.dispose(),(d=p._rowsScrollController)===null||d===void 0||d.dispose(),p._stateStoringController.dispose(),p.expandValueChanging.empty(),p.changed.empty(),p.loadingChanged.empty(),p.progressChanged.empty(),p.scrollChanged.empty(),p.dataSourceChanged.empty()}};return He(u,"applyPartialDataSource"),He(u,"collapseHeaderItem"),He(u,"expandHeaderItem"),He(u,"getData"),He(u,"isEmpty"),u})()),Ba={DataController:Oa},Va={exportTo(){const t=this._createActionByOption("onExporting"),e={rtlEnabled:this.option("rtlEnabled"),fileName:"PivotGrid",cancel:!1};ot(t)&&t(e)},_getLength(t){let e;const n=t[0].length;let o=0;for(e=0;e<n;e+=1)o+=t[0][e].colspan||1;return o},_correctCellsInfoItemLengths(t,e){for(let n=0;n<t.length;n+=1)for(;t[n].length<e;)t[n].push({});return t},_calculateCellInfoItemLength(t){let e=0;for(let n=0;n<t.length;n+=1)e+=G(t[n].colspan)?t[n].colspan:1;return e},_getEmptyCell:()=>({text:"",value:void 0,colspan:1,rowspan:1}),_getAllItems(t,e,n){let o,a,l=n;const u=this._getLength(e),s=t.length;if(t.length>0&&t[0].length>0&&n.length>0&&n[0].length===0){const p=this._calculateCellInfoItemLength(t[0]);p>0&&(l=this._correctCellsInfoItemLengths(n,p))}if(l.length===0){const p=e.length,x=t.map((g=>g.filter((C=>!C.expanded)).length)).reduce(((g,C)=>g+C),0);for(let g=0;g<p;g+=1){l[g]=[];for(let C=0;C<x;C+=1)l[g][C]=this._getEmptyCell()}}const d=t.concat(l);for(a=0;a<e.length;a+=1)for(o=e[a].length-1;o>=0;o-=1)G(d[a+s])||(d[a+s]=[]),d[a+s].splice(0,0,X({},e[a][o]));return d[0].splice(0,0,X({},this._getEmptyCell(),{alignment:mn(this._options.rtlEnabled),colspan:u,rowspan:s})),Xo(d,this._getEmptyCell())},getDataProvider(){return new Ga(this)}};class Ga{constructor(e){this._exportController=e}ready(){this._initOptions();const e=this._options;return ee(e.items).done((n=>{const o=n[0][0].rowspan,a=n[o-1];L(a,((l,u)=>{u.width=100})),e.columns=a,e.items=n}))}_initOptions(){const e=this._exportController,n=e._dataController,o=new ne;n.beginLoading(),setTimeout((()=>{const a=X(!0,[],n.getColumnsInfo(!0)),l=X(!0,[],n.getRowsInfo(!0)),u=n.getCellsInfo(!0);o.resolve(e._getAllItems(a,l,u)),n.endLoading()})),this._options={items:o,rtlEnabled:e.option("rtlEnabled"),dataFields:e.getDataSource().getAreaFields("data"),rowsArea:e._rowsArea,columnsArea:e._columnsArea}}getColumns(){return this._options.columns}getColumnsWidths(){const e=this._options.columnsArea,{rowsArea:n}=this._options,{columns:o}=this._options;return!Ae()||e.option("scrolling.mode")==="virtual"||e.element().is(":hidden")?o.map((()=>100)):n.getColumnsWidth().concat(e.getColumnsWidth())}getRowsCount(){return this._options.items.length}getGroupLevel(){return 0}getCellMerging(e,n){const{items:o}=this._options,a=o[e]&&o[e][n];return a?{colspan:a.colspan-1,rowspan:a.rowspan-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:this.getRowAreaColCount(),y:this.getColumnAreaRowCount()}}getCellType(e,n){const o=this.getStyles()[this.getStyleId(e,n)];return o&&o.dataType||"string"}getCellData(e,n,o){const a={},{items:l}=this._options,u=l[e]&&l[e][n]||{};if(o){a.cellSourceData=u;const s=this._tryGetAreaName(u,e,n);s&&(a.cellSourceData.area=s),a.cellSourceData.rowIndex=e,a.cellSourceData.columnIndex=n}return this.getCellType(e,n)==="string"?a.value=u.text:a.value=u.value,a.cellSourceData&&a.cellSourceData.isWhiteSpace&&(a.value=""),a}_tryGetAreaName(e,n,o){if(this.isColumnAreaCell(n,o))return"column";if(this.isRowAreaCell(n,o))return"row";if(G(e.dataIndex))return"data"}isRowAreaCell(e,n){return e>=this.getColumnAreaRowCount()&&n<this.getRowAreaColCount()}isColumnAreaCell(e,n){return n>=this.getRowAreaColCount()&&e<this.getColumnAreaRowCount()}getColumnAreaRowCount(){return this._options.items[0][0].rowspan}getRowAreaColCount(){return this._options.items[0][0].colspan}getHeaderStyles(){return[{alignment:"center",dataType:"string"},{alignment:mn(this._options.rtlEnabled),dataType:"string"}]}getDataFieldStyles(){const{dataFields:e}=this._options,n={alignment:this._options.rtlEnabled?"left":"right"},o=[];return e.length?(e.forEach((a=>{o.push(nt({},n,{format:a.format,dataType:this.getCellDataType(a)}))})),o):[n]}getStyles(){return this._styles?this._styles:(this._styles=[...this.getHeaderStyles(),...this.getDataFieldStyles()],this._styles)}getCellDataType(e){if(e&&e.customizeText)return"string";if(e.dataType)return e.dataType;if(e.format){if(Po.parse(Je.format(1,e.format))===1)return"number";if(Je.format(new Date,e.format))return"date"}return"string"}getStyleId(e,n){const{items:o}=this._options,a=o[e]&&o[e][n]||{};return n===0&&e===0||this.isColumnAreaCell(e,n)?0:this.isRowAreaCell(e,n)?1:this.getHeaderStyles().length+(a.dataIndex||0)}}const et={treeViewItem:"tree-view-item",allowScrolling:"allow-scrolling",itemGroup:"item-group"},q={area:{self:"dx-area",box:"dx-area-box",caption:"dx-area-caption",icon:"dx-area-icon",field:"dx-area-field",fieldContainer:"dx-area-field-container",fieldContent:"dx-area-field-content",fieldList:"dx-area-fields",fieldListHeader:"dx-area-fields-header"},pivotGrid:{dragAction:"dx-pivotgrid-drag-action",fieldsContainer:"dx-pivotgrid-fields-container"},fieldChooser:{self:"dx-pivotgridfieldchooser",container:"dx-pivotgridfieldchooser-container",contextMenu:"dx-pivotgridfieldchooser-context-menu"},layout:{zero:"dx-layout-0",second:"dx-layout-2"},treeView:{self:"dx-treeview",borderVisible:"dx-treeview-border-visible"},scrollable:{self:"dx-scrollable"},allFields:"dx-all-fields",col:"dx-col",headerFilter:"dx-header-filter",row:"dx-row",widget:"dx-widget"},je={all:"smalliconslayout",column:"columnfield",row:"rowfield",filter:"filter",data:"formula",measure:"formula",hierarchy:"hierarchy",dimension:"detailslayout"},On={targets:{drag:"drag"}},gt={descending:"desc",ascending:"asc"},{getSwatchContainer:Wa}=Wo,tn="dx-sortable-old";function za(t,e,n){const o=I(t),a=o.offset();if(e>=a.left&&e<=a.left+Ge(o,!0)&&n>=a.top&&n<=a.top+Ie(o,!0))return!0}function ja(t,e,n){return G(e.posHorizontal)?n?t>e.posHorizontal:t<e.posHorizontal:!0}function Ua(t,e){let n=-1;const o=e.get(0);return L(t,((a,l)=>{const u=I(l);if(u.attr("item-group")&&u.attr("item-group")===t.eq(a-1).attr("item-group")||(n+=1),l===o)return!1})),n===t.length?-1:n}function qa(t,e){let n;return L(e,(function(){za(this,t.pageX,t.pageY)&&(n=I(this))})),n}function Ya(t,e,n){const o=[];let a=[];for(let l=0;l<t.length;l+=a.length)if(a=t.eq(l),a.attr("item-group")&&(a=n.find(`[item-group='${a.attr("item-group")}']`)),a.is(":visible")){const u={item:a,index:o.length,posVertical:e?(a.last().offset().top+a.offset().top+Ie(a.last(),!0))/2:Ie(a.last(),!0)+a.last().offset().top,posHorizontal:e?void 0:(Ge(a.last(),!0)+a.last().offset().left+a.offset().left)/2};o.push(u)}return o}function Ka(t){let e,n=t.scrollTop();const o=t.$element(),{top:a}=o.offset(),l=ue(o);let u=0;function s(x){n=x.scrollOffset.top}t.on("scroll",s);function d(){p(),t.scrollTo(n+=u),e=setTimeout(d,10)}function p(){clearTimeout(e)}return{moveIfNeed:function(x){if(x.pageY<=a+20)u=-2;else if(x.pageY>=a+l-20)u=2;else{u=0,p();return}d()},element:()=>o,dispose(){p(),t.off("scroll",s)}}}const Bn=xo.inherit({_getDefaultOptions(){return X(this.callBase(),{onChanged:null,onDragging:null,itemRender:null,groupSelector:null,itemSelector:".dx-sort-item",itemContainerSelector:".dx-sortable-old",sourceClass:"dx-drag-source",dragClass:"dx-drag",targetClass:"dx-drag-target",direction:"vertical",allowDragging:!0,groupFilter:null,useIndicator:!1})},_renderItem(t,e){const n=this.option("itemRender");let o;return n?o=n(t,e):(o=t.clone(),o.css({width:Me(t),height:ue(t)})),o},_renderIndicator(t,e,n,o){const a=Ie(t,!0),l=Ge(t,!0),u=t.offset().top-n.offset().top,s=t.offset().left-n.offset().left;this._indicator.css({position:"absolute",top:o&&e?u+a:u,left:o&&!e?s+l:s}).toggleClass("dx-position-indicator-horizontal",!e).toggleClass("dx-position-indicator-vertical",!!e).toggleClass("dx-position-indicator-last",!!o).appendTo(n),Ke(this._indicator,""),Oe(this._indicator,""),e?Oe(this._indicator,l):Ke(this._indicator,a)},_renderDraggable(t){this._$draggable&&this._$draggable.remove(),this._$draggable=this._renderItem(t,"drag").addClass(this.option("dragClass")).appendTo(Wa(t)).css({zIndex:1e6,position:"absolute"})},_detachEventHandlers(){const t=[Ht,Rt,$t,wo,So,vo].join(" ");we.off(this._getEventListener(),$e(t,"dxSortable"),void 0)},_getItemOffset(t,e,n){for(let o=0;o<e.length;o+=1){let a;const l=n.pageY<e[o].posVertical;if(t?a=l:l&&(a=ja(n.pageX,e[o],this.option("rtlEnabled")),!a&&e[o+1]&&e[o+1].posVertical>e[o].posVertical&&(a=!0)),a)return e[o]}},_getEventListener(){const t=this.option("groupSelector"),e=this.$element();return t?e.find(t):e},_attachEventHandlers(){const t=this,e=t.option("itemSelector"),n=t.option("itemContainerSelector"),o=t.option("groupSelector"),a=t.option("sourceClass"),l=t.option("targetClass"),u=t.option("onDragging"),s=t.option("groupFilter");let d,p,x,g,C,b;const A=t.$element();let y,H=null,R=-1;const O=function(){var V;(V=H)===null||V===void 0||V.dispose(),H=null};if(t._detachEventHandlers(),t.option("allowDragging")){const V=t._getEventListener();we.on(V,$e(Rt,"dxSortable"),e,(r=>{d=I(r.currentTarget);const i=d.closest(o);b=i.attr("group"),p=Ua((o?i:A).find(e),d),d.attr("item-group")&&(d=i.find(`[item-group='${d.attr("item-group")}']`)),t._renderDraggable(d),x=t._renderItem(d,"target").addClass(l),d.addClass(a),(function(){C=[],L(d,((c,f)=>{C.push(I(f).offset())}))})(),y=(function(){const c=ge.getRootNode(t.$element().get(0));return o?s?I(c).find(o).filter(s):A.find(o):A})(),t._indicator=I("<div>").addClass("dx-position-indicator")})),we.on(V,$e(Ht,"dxSortable"),(r=>{let i,c,f;if(!d)return;if(R=-1,t._indicator.detach(),L(t._$draggable,((w,F)=>{I(F).css({top:C[w].top+r.offset.y,left:C[w].left+r.offset.x})})),g&&g.removeClass(l),g=qa(r,y),g&&(function(){const w={sourceGroup:b,sourceIndex:p,sourceElement:d,targetGroup:g.attr("group"),targetIndex:g.find(e).index(x)};u&&u(w),w.cancel&&(g=void 0)})(),g&&H&&g.get(0)!==H.element().get(0)&&O(),H&&H.moveIfNeed(r),!g){x.detach();return}!H&&g.attr("allow-scrolling")&&(H=Ka(g.dxScrollable("instance"))),g.addClass(l);const _=g.find(n),m=_.find(e),v=g.closest(`.${tn}`).data("dxSortableOld"),T=v.option("useIndicator"),S=(v||t).option("direction")==="vertical",E=Ya(m,S,_),h=t._getItemOffset(S,E,r);if(h){if(i=h.item,f=E[h.index-1]&&E[h.index-1].item,i.hasClass(a)||f&&f.hasClass(a)&&f.is(":visible")){x.detach();return}if(R=h.index,!T){x.insertBefore(i);return}const w=g.attr("group")!==b,F=R===p,P=R===p+1;if(w){t._renderIndicator(i,S,g,t.option("rtlEnabled")&&!S);return}!F&&!P&&t._renderIndicator(i,S,g,t.option("rtlEnabled")&&!S)}else{if(c=m.last(),c.is(":visible")&&c.hasClass(a))return;_.length&&(R=E.length?E[E.length-1].index+1:0),T?m.length&&t._renderIndicator(c,S,g,!t.option("rtlEnabled")||S):x.appendTo(_)}})),we.on(V,$e($t,"dxSortable"),(()=>{if(O(),!d)return;const r=t.option("onChanged"),i={sourceIndex:p,sourceElement:d,sourceGroup:b,targetIndex:R,removeSourceElement:!0,removeTargetElement:!1,removeSourceClass:!0};g&&(g.removeClass(l),i.targetGroup=g.attr("group"),(b!==i.targetGroup||R>-1)&&(r&&r(i),i.removeSourceElement&&d.remove())),t._indicator.detach(),i.removeSourceClass&&d.removeClass(a),d=null,t._$draggable.remove(),t._$draggable=null,i.removeTargetElement&&x.remove(),x.removeClass(l),x=null}))}},_init(){this.callBase(),this._attachEventHandlers()},_render(){this.callBase(),this.$element().addClass(tn)},_dispose(){this.callBase.apply(this,arguments),this._$draggable&&this._$draggable.detach(),this._indicator&&this._indicator.detach()},_optionChanged(t){const e=this;switch(t.name){case"onDragging":case"onChanged":case"itemRender":case"groupSelector":case"itemSelector":case"itemContainerSelector":case"sourceClass":case"targetClass":case"dragClass":case"allowDragging":case"groupFilter":case"useIndicator":e._attachEventHandlers();break;case"direction":break;default:e.callBase(t)}},_useTemplates:()=>!1});tt("dxSortableOld",Bn);const Xa={Sortable:Bn};function Ja(t){return t.clone().addClass(q.area.box).css("width",parseFloat(Ge(t)))}function Qa(t,e){const n=t.clone();return e===On.targets.drag&&t.each(((o,a)=>{const l=parseFloat(Ge(a));return n.eq(o).css("width",l),!0})),n}function Za(t){return I("<div>").addClass(q.area.field).addClass(q.area.box).text(t.text())}function er(t,e){const n=t.hasClass(q.area.box),o=t.attr(et.treeViewItem);return n?Qa(t,e):o?Ja(t):Za(t)}function tr(t){const e=I("<div>");return t.each(((n,o)=>{const a=I("<div>").addClass(q.pivotGrid.fieldsContainer).addClass(q.widget).append(I(o));return e.append(a),!0})),e.children()}function nr(t,e){const n=er(t,e);return e===On.targets.drag?tr(n):n}const or=t=>t===gt.descending?gt.ascending:gt.descending,{Sortable:ar}=Xa,nn="<div>";class rr extends $o{_getSearchExpr(e,n){return e.useDefaultSearchExpr=!0,super._getSearchExpr(e,n)}}const lr=function(t,e){const n=[],o=!!e.groupName,a=e.filterType==="exclude";e.filterValues&&L(e.filterValues,((l,u)=>{n.push(Array.isArray(u)?u.join("/"):u==null?void 0:u.valueOf())})),ae(t,(l=>{var u;const s=l[0],d=de(l),p=o?We(l,(g=>g.text)).reverse().join("/"):s.text;s.value=o?d.slice(0):s.key||s.value;const x=o?d.join("/"):(u=s.value)===null||u===void 0?void 0:u.valueOf();s.children&&(s.items=s.children,s.children=null),Mo(s,s.key&&n.includes(p)||n.includes(x),a)}))};function ft(t,e){let n=e;return G(e.groupIndex)&&(n=t.getAreaFields(e.area,!0)[e.areaIndex]),n}function on(t){return t=t||{},JSON.stringify([t.fields,t.columnExpandedPaths,t.rowExpandedPaths])}const sr=Ho(ko(Oo(Sn)));class Lt extends sr{_getDefaultOptions(){return nt({},super._getDefaultOptions(),{allowFieldDragging:!0,applyChangesMode:"instantly",state:null,headerFilter:{width:252,height:325,allowSelectAll:!0,showRelevantValues:!1,search:{enabled:!1,timeout:500,editorOptions:{},mode:"contains"},texts:{emptyValue:Z.format("dxDataGrid-headerFilterEmptyValue"),ok:Z.format("dxDataGrid-headerFilterOK"),cancel:Z.format("dxDataGrid-headerFilterCancel")}},remoteSort:!1})}_init(){super._init(),this._headerFilterView=new rr(this),this._refreshDataSource(),this.subscribeToEvents(),ke.logHeaderFilterDeprecatedWarningIfNeed(this)}_refreshDataSource(){const e=this.option("dataSource");e!=null&&e.fields&&e.load&&(this._dataSource=e)}_optionChanged(e){switch(e.name){case"dataSource":this._refreshDataSource();break;case"applyChangesMode":case"remoteSort":break;case"state":if(this._skipStateChange||!this._dataSource)break;this.option("applyChangesMode")==="instantly"&&on(this._dataSource.state())!==on(e.value)?this._dataSource.state(e.value):(this._clean(!0),this._renderComponent());break;case"headerFilter":case"allowFieldDragging":this._invalidate();break;default:super._optionChanged(e)}}renderField(e,n){const o=this,a=I(nn).addClass(q.area.fieldContent).text(e.caption||e.dataField),l=I(nn).addClass(q.area.field).addClass(q.area.box).data("field",e).append(a),u=ft(o._dataSource,e);return e.area!=="data"&&(e.allowSorting&&o._applyColumnState({name:"sort",rootElement:l,column:{alignment:o.option("rtlEnabled")?"right":"left",sortOrder:e.sortOrder==="desc"?"desc":"asc",allowSorting:e.allowSorting,caption:e.caption||e.dataField},showColumnLines:n}),o._applyColumnState({name:"headerFilter",rootElement:l,column:{alignment:o.option("rtlEnabled")?"right":"left",filterValues:u.filterValues,allowFiltering:u.allowFiltering&&!e.groupIndex,allowSorting:e.allowSorting,caption:e.caption||e.dataField},showColumnLines:n})),e.groupName&&l.attr(et.itemGroup,e.groupName),l}_clean(e){}_render(){super._render(),this._headerFilterView.render(this.$element())}renderSortable(){const e=this;e._createComponent(e.$element(),ar,X({allowDragging:e.option("allowFieldDragging"),itemSelector:`.${q.area.field}`,itemContainerSelector:`.${q.area.fieldContainer}`,groupSelector:`.${q.area.fieldList}`,groupFilter(){const n=e._dataSource,o=I(this).closest(".dx-sortable-old"),a=o.data("dxPivotGrid"),l=o.data("dxPivotGridFieldChooser");return a?a.getDataSource()===n:l?l.option("dataSource")===n:!1},itemRender:nr,onDragging(n){const o=n.sourceElement.data("field"),{targetGroup:a}=n;n.cancel=!1,o.isMeasure===!0?(a==="column"||a==="row"||a==="filter")&&(n.cancel=!0):o.isMeasure===!1&&a==="data"&&(n.cancel=!0)},useIndicator:!0,onChanged(n){const o=n.sourceElement.data("field");if(n.removeSourceElement=!!n.sourceGroup,e._adjustSortableOnChangedArgs(n),o){const{targetIndex:a}=n;let l,u=0;e._processDemandState((s=>{const d=s.getAreaFields(o.area,!0);l=ft(s,o);const x=d.filter((g=>g.visible!==!1))[a-1];x&&(u=d.filter((g=>g.visible===!1&&g.areaIndex<=x.areaIndex)).length)})),e._applyChanges([l],{area:n.targetGroup,areaIndex:a+u})}}},e._getSortableOptions()))}_processDemandState(e){const n=this,o=n.option("applyChangesMode")==="instantly",a=n._dataSource;if(o)e(a,o);else{const l=a.state(),u=n.option("state");u&&a.state(u,!0),e(a,o),a.state(l,!0)}}_applyChanges(e,n){const o=this;o._processDemandState(((a,l)=>{e.forEach((u=>{let{index:s}=u;a.field(s,n)})),l?a.load():o._changedHandler()}))}_applyLocalSortChanges(e,n){this._processDemandState((o=>{o.field(e,{sortOrder:n}),o.sortLocal()}))}_adjustSortableOnChangedArgs(e){e.removeSourceElement=!1,e.removeTargetElement=!0,e.removeSourceClass=!1}_getSortableOptions(){return{direction:"auto"}}subscribeToEvents(e){const n=this,o=function(a){const l=I(a.currentTarget).data("field"),u=X(!0,{},ft(n._dataSource,l)),s=I(a.target).hasClass(q.headerFilter),d=n._dataSource,p=u.groupName?"tree":"list",x=d.paginate()&&p==="list";if(s)n._headerFilterView.showHeaderFilterMenu(I(a.currentTarget),X(u,{type:p,encodeHtml:n.option("encodeHtml"),dataSource:{useDefaultSearch:!x,load(g){const{userData:C}=g;if(C.store)return C.store.load(g);const b=new ne;return d.getFieldValues(u.index,n.option("headerFilter.showRelevantValues"),x?g:void 0).done((A=>{const y=n.option("headerFilter.texts.emptyValue");A.forEach((H=>{H.text||(H.text=y)})),x?b.resolve(A):(C.store=new bt(A),C.store.load(g).done(b.resolve).fail(b.reject))})).fail(b.reject),b},postProcess(g){return lr(g,u),g}},apply(){n._applyChanges([u],{filterValues:this.filterValues,filterType:this.filterType})}}));else if(l.allowSorting&&l.area!=="data"){const g=n.option("remoteSort"),C=or(l.sortOrder);g?n._applyChanges([l],{sortOrder:C}):n._applyLocalSortChanges(l.index,C)}};if(e){we.on(e,Ct,`.${q.area.field}.${q.area.box}`,o);return}we.on(n.$element(),Ct,`.${q.area.field}.${q.area.box}`,o)}_initTemplates(){}addWidgetPrefix(e){return`dx-pivotgrid-${e}`}}tt("dxPivotGridFieldChooserBase",Lt);const re="<div>",ir=Ae();function Vn(t,e){const n=[];if(t.items)for(let o=0;o<t.items.length;o+=1)n.push.apply(n,Vn(t.items[o],e));else G(t.index)&&n.push(e[t.index]);return n}function Et(t,e){if(t.items)for(let n=0;n<t.items.length;n+=1){const o=Et(t.items[n],e);if(o)return o}if(e(t))return t}const an=[function(t,e){const n=-!!t.isMeasure,o=+!!e.isMeasure;return n+o},function(t,e){const n=-!!(t.items&&t.items.length),o=+!!(e.items&&e.items.length);return n+o},function(t,e){const n=+!!(t.isMeasure===!1&&t.field&&t.field.levels&&t.field.levels.length),o=-!!(e.isMeasure===!1&&e.field&&e.field.levels&&e.field.levels.length);return n+o},Qe((t=>t.text))];function dr(t,e){let n=0,o=0;for(;!n&&an[o];)n=an[o++](t,e);return n}function rn(t){return t.find(`.${q.scrollable.self}`).dxScrollable("instance")}class Gn extends Lt{_getDefaultOptions(){return nt({},super._getDefaultOptions(),{height:400,layout:0,dataSource:null,encodeHtml:!0,onContextMenuPreparing:null,allowSearch:!1,searchTimeout:500,texts:{columnFields:Z.format("dxPivotGrid-columnFields"),rowFields:Z.format("dxPivotGrid-rowFields"),dataFields:Z.format("dxPivotGrid-dataFields"),filterFields:Z.format("dxPivotGrid-filterFields"),allFields:Z.format("dxPivotGrid-allFields")}})}_refreshDataSource(){const e=this;e._expandedPaths=[],e._changedHandler=e._changedHandler||function(){L(e._dataChangedHandlers,((n,o)=>{o()})),e._fireContentReadyAction(),e._skipStateChange=!0,e.option("state",e._dataSource.state()),e._skipStateChange=!1},e._disposeDataSource(),super._refreshDataSource(),e._dataSource&&e._dataSource.on("changed",e._changedHandler)}_disposeDataSource(){const e=this,n=e._dataSource;n&&(n.off("changed",e._changedHandler),e._dataSource=void 0)}_dispose(){this._disposeDataSource(),super._dispose.apply(this,arguments)}_init(){super._init(),this._refreshDataSource(),this._dataChangedHandlers=[],this._initActions()}_initActions(){this._actions={onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing")}}_trigger(e,n){this._actions[e](n)}_setOptionsByReference(){super._setOptionsByReference(),X(this._optionsByReference,{dataSource:!0})}_optionChanged(e){const n=this;switch(e.name){case"dataSource":n._refreshDataSource(),n._invalidate();break;case"layout":case"texts":case"allowSearch":case"searchTimeout":case"encodeHtml":n._invalidate();break;case"onContextMenuPreparing":n._actions[e.name]=n._createActionByOption(e.name);break;default:super._optionChanged(e)}}_clean(e){!e&&this._dataSource&&this.option("state",this._dataSource.state()),this.$element().children(`.${q.fieldChooser.container}`).remove()}_renderLayout0(e){e.addClass(q.layout.zero);const n=I(re).addClass(q.row).appendTo(e),o=I(re).addClass(q.row).appendTo(e),a=I(re).addClass(q.col).appendTo(n),l=I(re).addClass(q.col).appendTo(n),u=I(re).addClass(q.col).appendTo(o),s=I(re).addClass(q.col).appendTo(o);this._renderArea(a,"all"),this._renderArea(l,"row"),this._renderArea(l,"column"),this._renderArea(u,"filter"),this._renderArea(s,"data")}_renderLayout1(e){const n=I(re).addClass(q.col).appendTo(e),o=I(re).addClass(q.col).appendTo(e);this._renderArea(n,"all"),this._renderArea(o,"filter"),this._renderArea(o,"row"),this._renderArea(o,"column"),this._renderArea(o,"data")}_renderLayout2(e){e.addClass(q.layout.second);const n=I(re).addClass(q.row).appendTo(e);this._renderArea(n,"all");const o=I(re).addClass(q.row).appendTo(e),a=I(re).addClass(q.col).appendTo(o),l=I(re).addClass(q.col).appendTo(o);this._renderArea(a,"filter"),this._renderArea(a,"row"),this._renderArea(l,"column"),this._renderArea(l,"data")}_initMarkup(){const e=this,n=this.$element(),o=I(re).addClass(q.fieldChooser.container).appendTo(n),a=e.option("layout");super._initMarkup(),n.addClass(q.fieldChooser.self).addClass(q.pivotGrid.fieldsContainer),e._dataChangedHandlers=[];const l=this._dataSource,u=e.option("applyChangesMode")!=="instantly"&&l&&l.state();u&&e.option("state")&&l.state(e.option("state"),!0),a===0?e._renderLayout0(o):a===1?e._renderLayout1(o):e._renderLayout2(o),u&&l.state(u,!0)}_renderContentImpl(){super._renderContentImpl(),this.renderSortable(),this._renderContextMenu(),this.updateDimensions()}_fireContentReadyAction(){(!this._dataSource||!this._dataSource.isLoading())&&super._fireContentReadyAction()}_getContextMenuArgs(e){const n=I(e.target).closest(`.${q.area.field}`),o=I(e.target).closest(`.${q.area.fieldList}`);let a,l;if(n.length){const u=n.data("field");u&&(a=this.getDataSource().field(u.index)||u)}return o.length&&(l=o.attr("group")),{event:e,field:a,area:l,items:[]}}_renderContextMenu(){const e=this,n=e.$element();e._contextMenu&&e._contextMenu.$element().remove(),e._contextMenu=e._createComponent(I(re).appendTo(n),wn,{onPositioning(o){const{event:a}=o;if(!a)return;const l=e._getContextMenuArgs(a);e._trigger("onContextMenuPreparing",l),l.items&&l.items.length?o.component.option("items",l.items):o.cancel=!0},target:n,onItemClick(o){o.itemData.onItemClick&&o.itemData.onItemClick(o)},cssClass:q.fieldChooser.contextMenu})}_createTreeItems(e,n,o){const a=this;let l,u=[];const s=[],d=n[0],p={};return d?(L(e,((x,g)=>{const C=g[d]||"";p[C]=p[C]||[],p[C].push(g),l===void 0&&(l=!0),l=l&&g.isMeasure===!0})),L(p,((x,g)=>{const C=o?`${o}.${x}`:x,b=a._createTreeItems(g,n.slice(1),C);x?s.push({key:x,text:x,path:C,isMeasure:b.isMeasure,expanded:a._expandedPaths.includes(C),items:b}):u=b})),u=s.concat(u),u.isMeasure=l):L(e,((x,g)=>{let C;g.isMeasure===!0&&(C=je.measure),g.isMeasure===!1&&(C=g.groupName?je.hierarchy:je.dimension),u.push({index:g.index,field:g,key:g.dataField,selected:G(g.area),text:g.caption||g.dataField,icon:C,isMeasure:g.isMeasure,isDefault:g.isDefault})})),u}_createFieldsDataSource(e){let n=e&&e.fields()||[];n=n.filter((a=>a.visible!==!1&&!G(a.groupIndex)));const o=this._createTreeItems(n,["dimension","displayFolder"]);return rt(o,(a=>{a.sort(dr)}),0,"items"),o}_renderFieldsTreeView(e){const n=this,o=n._dataSource,a=n._createComponent(e,Bo,{dataSource:n._createFieldsDataSource(o),showCheckBoxesMode:"normal",expandNodesRecursive:!1,searchEnabled:n.option("allowSearch"),searchTimeout:n.option("searchTimeout"),useNativeScrolling:!1,itemTemplate(l,u,s){const d=I("<div>").toggleClass(q.area.field,!l.items).attr(et.treeViewItem,!0).data("field",l.field).appendTo(s);if(l.icon){var p;(p=Do(l.icon))===null||p===void 0||p.appendTo(d)}I("<span>").text(l.text).appendTo(d)},onItemCollapsed(l){const u=n._expandedPaths.indexOf(l.itemData.path);u>=0&&n._expandedPaths.splice(u,1)},onItemExpanded(l){n._expandedPaths.indexOf(l.itemData.path)<0&&n._expandedPaths.push(l.itemData.path)},onItemSelectionChanged(l){const u=l.itemData;let s,d,p=!0,x;if(u.items){if(u.selected){a.unselectItem(u);return}if(n._processDemandState((()=>{d=Vn(u,o.fields());for(let g=0;g<d.length;g+=1)if(d[g].area){p=!1;break}})),p){const g=Et(u,(C=>C.isDefault))||Et(u,(C=>G(C.index)));g&&a.selectItem(g);return}}else s=o.fields()[u.index],u.selected&&(x=s.isMeasure?"data":"column"),s&&(d=[s]);n._applyChanges(d,{area:x,areaIndex:void 0})}});n._dataChangedHandlers.push((function(){let l=rn(e);const u=l?l.scrollTop():0;a.option({dataSource:n._createFieldsDataSource(o)}),l=rn(e),l&&(l.scrollTo({y:u}),l.update())}))}_renderAreaFields(e,n){const o=this,a=o._dataSource,l=a?X(!0,[],a.getAreaFields(n,!0)):[];e.empty(),L(l,((u,s)=>{s.visible!==!1&&o.renderField(s,!0).appendTo(e)}))}_renderArea(e,n){const o=this,a=I(re).addClass(q.area.self).appendTo(e),l=I(re).addClass(q.area.fieldListHeader).appendTo(a),u=o.option(`texts.${n}Fields`);let s,d;I("<span>").addClass(q.area.icon).addClass(`dx-icon-${je[n]}`).appendTo(l),I("<span>").html("&nbsp;").appendTo(l),I("<span>").addClass(q.area.caption).text(u).appendTo(l);const p=I(re).addClass(q.area.fieldList).addClass(q.pivotGrid.dragAction).appendTo(a);n!=="all"?(p.attr("group",n).attr(et.allowScrolling,!0),s=I(re).addClass(q.area.fieldContainer).appendTo(p),d=function(){o._renderAreaFields(s,n)},o._dataChangedHandlers.push(d),d(),p.dxScrollable({useNative:!1})):(a.addClass(q.allFields),p.addClass(q.treeView.borderVisible),o._renderFieldsTreeView(p))}_getSortableOptions(){return{direction:""}}_adjustSortableOnChangedArgs(){}resetTreeView(){const e=this.$element().find(`.${q.treeView.self}`).dxTreeView("instance");e&&(e.option("searchValue",""),e.collapseAll())}applyChanges(){const e=this.option("state");G(e)&&this._dataSource.state(e)}cancelChanges(){const e=this._dataSource;return e.isLoading()?!1:(this.option("state",e.state()),!0)}getDataSource(){return this._dataSource}updateDimensions(){this.$element().find(`.${q.area.self} .${q.scrollable.self}`).dxScrollable("update")}_visibilityChanged(e){e&&ir&&this.updateDimensions()}}tt("dxPivotGridFieldChooser",Gn);const Pe="<div>",cr="dx-pivotgrid-drag-action";function ur(t,e,n,o){n!=null&&n.groupName&&n.groupName===t.groupName&&I(Pe).addClass("dx-group-connector").addClass("dx-group-connector-prev").appendTo(o),e!=null&&e.groupName&&e.groupName===t.groupName&&I(Pe).addClass("dx-group-connector").addClass("dx-group-connector-next").appendTo(o)}class Ue extends Dt{constructor(e,n){super(e),this._area=n}_getAreaName(){return"fields"}_createGroupElement(){return I(Pe).addClass("dx-pivotgrid-fields-area").addClass("dx-area-fields").addClass(cr).attr("group",this._area)}isVisible(){return!!this.option("fieldPanel.visible")&&this.option(`fieldPanel.show${An(this._area)}Fields`)}_renderButton(e){const n=this,o=I("<td>").appendTo(I("<tr>").appendTo(e));n.component._createComponent(I(Pe).appendTo(o),xt,{text:"Fields",icon:"menu",width:"auto",onClick(){const l=n.tableElement().find(".dx-fields-area-popup").dxPopup("instance");l.option("visible")||l.show()}}).$element().addClass("dx-pivotgrid-fields-area-hamburger")}_getPopupOptions(e,n){return{contentTemplate:()=>I("<table>").addClass("dx-area-field-container").append(I("<thead>").addClass("dx-pivotgrid-fields-area-head").append(e)),height:"auto",width:"auto",position:{at:"left",my:"left",of:n},dragEnabled:!1,animation:{show:{type:"pop",duration:200}},shading:!1,showTitle:!1,hideOnOutsideClick:!0,container:n.parent()}}_renderPopup(e,n){const o=this,a=e.find(".dx-button"),l=o._getPopupOptions(n,a),u=o.component.$element().dxPivotGridFieldChooserBase("instance");o._rowPopup&&o._rowPopup.$element().remove(),o._rowPopup=o.component._createComponent(I(Pe).appendTo(e),xn,l),o._rowPopup.$element().addClass("dx-fields-area-popup"),o._rowPopup.content().addClass("dx-pivotgrid-fields-container"),o._rowPopup.content().parent().attr("group","row"),u.subscribeToEvents(o._rowPopup.content()),u.renderSortable(o._rowPopup.content())}_shouldCreateButton(){return!1}_renderTableContent(e,n){const o=this,a=this.groupElement(),l=this.isVisible(),u=o.component.$element().dxPivotGridFieldChooserBase("instance"),s=I("<thead>").addClass("dx-pivotgrid-fields-area-head").appendTo(e),d=o._area,p=I("<tr>");a.toggleClass("dx-hidden",!l),e.addClass("dx-area-field-container"),l&&(L(n,((x,g)=>{if(g.area===d&&g.visible!==!1){const C=I("<td>").append(u.renderField(g,g.area==="row")),b=C.find(".dx-column-indicators");b.length&&o._shouldCreateButton()&&b.insertAfter(b.next()),C.appendTo(p),ur(g,n[x+1],n[x-1],C)}})),p.children().length||I("<td>").append(I(Pe).addClass("dx-empty-area-text").text(this.option(`fieldPanel.texts.${d}FieldArea`))).appendTo(p),o._shouldCreateButton()?(o._renderButton(s),o._renderPopup(e,p)):s.append(p))}setGroupWidth(e){yo(this.groupElement(),e)}setGroupHeight(e){To(this.groupElement(),e)}reset(){super.reset(),this.groupElement().css("marginTop",0)}_renderVirtualContent(){}}const hr="dx-pivotgrid-horizontal-headers",pr="dx-pivotgrid-vertical-headers";function Wn(t,e){if(e){const{data:n}=t.data(),{rowIndex:o}=e.parentNode,{cellIndex:a}=e;return n[o]&&n[o][a]&&n[o][a].path}}class zn extends Dt{constructor(e){super(e),this._scrollBarWidth=0}_getAreaName(){return"column"}_getAreaClassName(){return hr}_createGroupElement(){return I("<div>").addClass(this._getAreaClassName()).addClass("dx-pivotgrid-area")}_applyCustomStyles(e){const{cssArray:n}=e,{cell:o}=e,{rowsCount:a}=e,{classArray:l}=e;e.cellIndex===e.cellsCount-1&&n.push((e.rtlEnabled?"border-left:":"border-right:")+"0px"),(o.rowspan===a-e.rowIndex||e.rowIndex+1===a)&&n.push("border-bottom-width:0px"),(o.type==="T"||o.type==="GT")&&l.push("dx-row-total"),e.cell.type==="T"&&l.push("dx-total"),e.cell.type==="GT"&&l.push("dx-grandtotal"),G(o.expanded)&&l.push(o.expanded?"dx-pivotgrid-expanded":"dx-pivotgrid-collapsed"),super._applyCustomStyles(e)}_getMainElementMarkup(){const e=ge.createElement("thead");return e.setAttribute("class",this._getAreaClassName()),e}_getCloseMainElementMarkup(){return"</thead>"}setVirtualContentParams(e){super.setVirtualContentParams(e),this._setTableCss({left:e.left,top:0}),this._virtualContentWidth=e.width}hasScroll(){const e=this._virtualContent?this._virtualContentWidth:this._tableWidth,n=this.getGroupWidth();return n&&e?e-n>=1:!1}renderScrollable(){this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:"never",bounceEnabled:!1,direction:"horizontal",rtlEnabled:!1,updateManually:!0})}processScrollBarSpacing(e){const n=this.option("rtlEnabled")?"right":"left",o=this.getGroupWidth();o&&this.setGroupWidth(o-e),this._scrollBarWidth&&this._groupElement.next().remove(),this._groupElement.toggleClass("dx-vertical-scroll",e>0),Oe(this._groupElement.css("float",n),this.getGroupHeight()),this._scrollBarWidth=e}getScrollPath(e){const n=this.tableElement();let o;return e-=parseInt(n[0].style.left,10)||0,L(n.find("td"),((a,l)=>{if(l.colSpan===1&&l.offsetLeft<=e&&l.offsetWidth+l.offsetLeft>e)return o=l,!1})),Wn(n,o)}_moveFakeTable(e){this._moveFakeTableHorizontally(e),super._moveFakeTable()}}class gr extends zn{_getAreaClassName(){return pr}_applyCustomStyles(e){super._applyCustomStyles(e),e.cellIndex===e.cellsCount-1&&e.classArray.push("dx-last-cell"),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),e.cell.isWhiteSpace&&e.classArray.push("dx-white-space-column")}_getAreaName(){return"row"}setVirtualContentParams(e){super.setVirtualContentParams(e),this._setTableCss({top:e.top,left:0}),this._virtualContentHeight=e.height}hasScroll(){const e=this._virtualContent?this._virtualContentHeight:this._tableHeight,n=this.getGroupHeight();return n&&e?e-n>=1:!1}renderScrollable(){this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:"never",bounceEnabled:!1,direction:"vertical",updateManually:!0})}processScrollBarSpacing(e){const n=this.getGroupHeight();if(n&&this.setGroupHeight(n-e),this._scrollBarWidth&&this._groupElement.next().remove(),e){const o=I("<div>");Oe(o,"100%"),Ke(o,e-1),this._groupElement.after(o)}this._scrollBarWidth=e}getScrollPath(e){const n=this.tableElement();let o;return e-=parseInt(n[0].style.top,10)||0,L(n.find("tr"),((a,l)=>{const u=l.childNodes[l.childNodes.length-1];if(u&&u.rowSpan===1&&u.offsetTop<=e&&u.offsetHeight+u.offsetTop>e)return o=u,!1})),Wn(n,o)}_moveFakeTable(e){this._moveFakeTableTop(e),super._moveFakeTable()}_getRowClassNames(e,n,o){e!==0&n.expanded&&!o.includes("dx-expand-border")&&o.push("dx-expand-border")}_getMainElementMarkup(){const e=ge.createElement("tbody");return e.classList.add(this._getAreaClassName()),e}_getCloseMainElementMarkup(){return"</tbody>"}updateColspans(e){const{rows:n}=this.tableElement()[0];let o=0;const a=[];if(!(this.getColumnsCount()-e>0))for(let l=0;l<n.length;l+=1)for(let u=0;u<n[l].cells.length;u+=1){const s=n[l].cells[u],{rowSpan:d}=s;a[l]&&(o-=a[l],a[l]=0);const p=e-(o+s.colSpan);u===n[l].cells.length-1&&p>0&&(s.colSpan+=p),a[l+d]=(a[l+d]||0)+s.colSpan,o+=s.colSpan}}}const ln={HorizontalHeadersArea:zn,VerticalHeadersArea:gr},jn=fn(),sn="dx-pivotgrid-border",fr="dx-pivotgrid-fields-container",dn="dx-area-fields",qe="<tr>",Fe="<td>",xe="<div>",cn=["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"];function mt(t){let e=0;return L(t,((n,o)=>{e+=o||0})),e}function _t(t,e){const n=e/t.length;for(let o=0;o<t.length;o+=1)t[o]-=n}function Un(t){t.off("scroll").off("stop")}function mr(t,e){Un(t),t.on("scroll",e).on("stop",e)}function un(t,e){const n=e==="width"?["borderLeftWidth","borderRightWidth"]:["borderTopWidth","borderBottomWidth"];let o=0;return L(t,((a,l)=>{const u=jn.getComputedStyle(l.get(0));n.forEach((s=>{o+=parseFloat(u[s])||0}))})),o}function _r(t){return t.closest(`.${dn}`).length||t.find(`.${dn}`).length}const qn=Sn.inherit({_getDefaultOptions(){return X(this.callBase(),{scrolling:{timeout:300,renderingThreshold:150,minTimeout:10,mode:"standard",useNative:"auto",removeInvisiblePages:!0,virtualRowHeight:50,virtualColumnWidth:100,loadTwoPagesOnStart:!0},encodeHtml:!0,dataSource:null,activeStateEnabled:!1,fieldChooser:{minWidth:250,minHeight:250,enabled:!0,allowSearch:!1,searchTimeout:500,layout:0,title:Z.format("dxPivotGrid-fieldChooserTitle"),width:600,height:600,applyChangesMode:"instantly"},onContextMenuPreparing:null,allowSorting:!1,allowSortingBySummary:!1,allowFiltering:!1,allowExpandAll:!1,wordWrapEnabled:!0,fieldPanel:{showColumnFields:!0,showFilterFields:!0,showDataFields:!0,showRowFields:!0,allowFieldDragging:!0,visible:!1,texts:{columnFieldArea:Z.format("dxPivotGrid-columnFieldArea"),rowFieldArea:Z.format("dxPivotGrid-rowFieldArea"),filterFieldArea:Z.format("dxPivotGrid-filterFieldArea"),dataFieldArea:Z.format("dxPivotGrid-dataFieldArea")}},dataFieldArea:"column",export:{enabled:!1,fileName:"PivotGrid"},showRowTotals:!0,showRowGrandTotals:!0,showColumnTotals:!0,showColumnGrandTotals:!0,hideEmptySummaryCells:!0,showTotalsPrior:"none",rowHeaderLayout:"standard",loadPanel:{enabled:!0,text:Z.format("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},texts:{grandTotal:Z.format("dxPivotGrid-grandTotal"),total:Z.getFormatter("dxPivotGrid-total"),noData:Z.format("dxDataGrid-noDataText"),showFieldChooser:Z.format("dxPivotGrid-showFieldChooser"),expandAll:Z.format("dxPivotGrid-expandAll"),collapseAll:Z.format("dxPivotGrid-collapseAll"),sortColumnBySummary:Z.getFormatter("dxPivotGrid-sortColumnBySummary"),sortRowBySummary:Z.getFormatter("dxPivotGrid-sortRowBySummary"),removeAllSorting:Z.format("dxPivotGrid-removeAllSorting"),exportToExcel:Z.format("dxDataGrid-exportToExcel"),dataNotAvailable:Z.format("dxPivotGrid-dataNotAvailable")},onCellClick:null,onCellPrepared:null,showBorders:!1,stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3},onExpandValueChanging:null,renderCellCountLimit:2e4,onExporting:null,headerFilter:{width:252,height:325,allowSelectAll:!0,showRelevantValues:!1,search:{enabled:!1,timeout:500,editorOptions:{},mode:"contains"},texts:{emptyValue:Z.format("dxDataGrid-headerFilterEmptyValue"),ok:Z.format("dxDataGrid-headerFilterOK"),cancel:Z.format("dxDataGrid-headerFilterCancel")}}})},_updateCalculatedOptions(t){const e=this;L(t,((n,o)=>{L(cn,((a,l)=>{const u=o._initProperties&&l in o._initProperties&&o._initProperties[l]===void 0;(o[l]===void 0||u)&&_e(o,l,e.option(l))}))}))},_getDataControllerOptions(){const t=this;return{component:t,dataSource:t.option("dataSource"),texts:t.option("texts"),showRowTotals:t.option("showRowTotals"),showRowGrandTotals:t.option("showRowGrandTotals"),showColumnTotals:t.option("showColumnTotals"),showTotalsPrior:t.option("showTotalsPrior"),showColumnGrandTotals:t.option("showColumnGrandTotals"),dataFieldArea:t.option("dataFieldArea"),rowHeaderLayout:t.option("rowHeaderLayout"),hideEmptySummaryCells:t.option("hideEmptySummaryCells"),onFieldsPrepared(e){t._updateCalculatedOptions(e)}}},_initDataController(){const t=this;t._dataController&&t._dataController.dispose(),t._dataController=new Ba.DataController(t._getDataControllerOptions()),Ae()&&t._dataController.changed.add((()=>{t._render()})),t._dataController.scrollChanged.add((n=>{t._scrollLeft=n.left,t._scrollTop=n.top})),t._dataController.loadingChanged.add((()=>{t._updateLoading()})),t._dataController.progressChanged.add(t._updateLoading.bind(t)),t._dataController.dataSourceChanged.add((()=>{t._trigger("onChanged")}));const e=t.option("onExpandValueChanging");e&&t._dataController.expandValueChanging.add((n=>{e(n)}))},_init(){this.callBase(),this._initDataController(),ke.logHeaderFilterDeprecatedWarningIfNeed(this),this._scrollLeft=this._scrollTop=null,this._initActions()},_initActions(){this._actions={onChanged:this._createActionByOption("onChanged"),onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing"),onCellClick:this._createActionByOption("onCellClick"),onExporting:this._createActionByOption("onExporting"),onCellPrepared:this._createActionByOption("onCellPrepared")}},_trigger(t,e){this._actions[t](e)},_optionChanged(t){const e=this;if(cn.includes(t.name)){const n=this.getDataSource().fields();this._updateCalculatedOptions(n)}switch(t.name){case"dataSource":case"allowSorting":case"allowFiltering":case"allowExpandAll":case"allowSortingBySummary":case"scrolling":case"stateStoring":e._initDataController(),e._fieldChooserPopup.hide(),e._renderFieldChooser(),e._invalidate();break;case"texts":case"showTotalsPrior":case"showRowTotals":case"showRowGrandTotals":case"showColumnTotals":case"showColumnGrandTotals":case"hideEmptySummaryCells":case"dataFieldArea":e._dataController.updateViewOptions(e._getDataControllerOptions());break;case"useNativeScrolling":case"encodeHtml":case"renderCellCountLimit":case"onExpandValueChanging":break;case"rtlEnabled":e.callBase(t),e._renderFieldChooser(),e._renderContextMenu(),Ae()&&e._renderLoadPanel(e._dataArea.groupElement(),e.$element()),e._invalidate();break;case"export":e._renderDescriptionArea();break;case"onCellClick":case"onContextMenuPreparing":case"onExporting":case"onExported":case"onFileSaving":case"onCellPrepared":e._actions[t.name]=e._createActionByOption(t.name);break;case"fieldChooser":e._renderFieldChooser(),e._renderDescriptionArea();break;case"loadPanel":Ae()&&(t.fullName==="loadPanel.enabled"?(clearTimeout(this._hideLoadingTimeoutID),e._renderLoadPanel(e._dataArea.groupElement(),e.$element())):(e._renderLoadPanel(e._dataArea.groupElement(),e.$element()),e._invalidate()));break;case"fieldPanel":e._renderDescriptionArea(),e._invalidate();break;case"headerFilter":e._renderFieldChooser(),e._invalidate();break;case"showBorders":e._tableElement().toggleClass(sn,!!t.value),e.updateDimensions();break;case"wordWrapEnabled":e._tableElement().toggleClass("dx-word-wrap",!!t.value),e.updateDimensions();break;case"rowHeaderLayout":e._tableElement().find(".dx-area-row-cell").toggleClass("dx-area-tree-view",t.value==="tree"),e._dataController.updateViewOptions(e._getDataControllerOptions());break;case"height":case"width":e._hasHeight=null,e.callBase(t),e.resize();break;default:e.callBase(t)}},_updateScrollPosition(t,e,n){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const a=this;let l,u;const s=a._scrollTop||a._scrollLeft;a._scrollUpdating||(a._scrollUpdating=!0,e&&!e.hasScroll()&&a._hasHeight&&(a._scrollTop=null),t&&!t.hasScroll()&&(a._scrollLeft=null),(a._scrollTop!==null||a._scrollLeft!==null||s||a.option("rtlEnabled"))&&(l=a._scrollTop||0,u=a._scrollLeft||0,n.scrollTo({left:u,top:l},o),t.scrollTo({left:u},o),e.scrollTo({top:l},o),a._dataController.updateWindowScrollPosition(a._scrollTop)),a._scrollUpdating=!1)},_subscribeToEvents(t,e,n){const o=this;L([t,e,n],((a,l)=>{mr(l,(u=>(function(s,d){const{scrollOffset:p}=s,x=d._getScrollable(),g=x.option("direction")!=="vertical"?p.left:o._scrollLeft,C=x.option("direction")!=="horizontal"&&o._hasHeight?p.top:o._scrollTop;((o._scrollLeft||0)!==(g||0)||(o._scrollTop||0)!==(C||0))&&(o._scrollLeft=g,o._scrollTop=C,o._updateScrollPosition(t,e,n),o.option("scrolling.mode")==="virtual"&&o._dataController.setViewportPosition(o._scrollLeft,o._scrollTop))})(u,l)))})),!o._hasHeight&&o._dataController.subscribeToWindowScrollEvents(n.groupElement())},_clean:Be,_needDelayResizing(t){return t.length*(t.length?t[0].length:0)>this.option("renderCellCountLimit")},_renderFieldChooser(){const t=this,e=t._pivotGridContainer,n=t.option("fieldChooser")||{},o=n.applyChangesMode==="onDemand"?[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:Z.format("OK"),onClick(){t._fieldChooserPopup.$content().dxPivotGridFieldChooser("applyChanges"),t._fieldChooserPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:Z.format("Cancel"),onClick(){t._fieldChooserPopup.hide()}}}]:[],a={layout:n.layout,texts:n.texts||{},dataSource:t.getDataSource(),allowSearch:n.allowSearch,searchTimeout:n.searchTimeout,width:void 0,height:void 0,headerFilter:t.option("headerFilter"),encodeHtml:t.option("fieldChooser.encodeHtml")??t.option("encodeHtml"),applyChangesMode:n.applyChangesMode,rtlEnabled:t.option("rtlEnabled"),onContextMenuPreparing(u){t._trigger("onContextMenuPreparing",u)}},l={shading:!1,title:n.title,width:n.width,height:n.height,showCloseButton:!0,resizeEnabled:!0,minWidth:n.minWidth,minHeight:n.minHeight,toolbarItems:o,onResize(u){u.component.$content().dxPivotGridFieldChooser("updateDimensions")},onShown(u){t._createComponent(u.component.content(),Gn,a)},onHidden(u){const s=u.component.$content().dxPivotGridFieldChooser("instance");s.resetTreeView(),s.cancelChanges()}};t._fieldChooserPopup?(t._fieldChooserPopup.option(l),t._fieldChooserPopup.$content().dxPivotGridFieldChooser(a)):t._fieldChooserPopup=t._createComponent(I(xe).addClass("dx-fieldchooser-popup").appendTo(e),xn,l)},_renderContextMenu(){const t=this,e=t._pivotGridContainer;t._contextMenu&&t._contextMenu.$element().remove(),t._contextMenu=t._createComponent(I(xe).appendTo(e),wn,{onPositioning(n){const{event:o}=n;if(n.cancel=!0,!o)return;const a=o.target.cellIndex>=0?o.target:I(o.target).closest("td").get(0);if(!a)return;const l=t._createEventArgs(a,o),u=t._getContextMenuItems(l);u&&(n.component.option("items",u),n.cancel=!1)},onItemClick(n){n.itemData.onItemClick&&n.itemData.onItemClick(n)},cssClass:"dx-pivotgrid",target:t.$element()})},_getContextMenuItems(t){const e=this;let n=[];const o=e.option("texts");if(t.area==="row"||t.area==="column"){const a=t[`${t.area}Fields`],l=t[t.area==="column"?"rowFields":"columnFields"],u=t.cell.path&&a[t.cell.path.length-1],s=e.getDataSource();if(u&&u.allowExpandAll&&t.cell.path.length<t[`${t.area}Fields`].length&&!s.paginate()&&(n.push({beginGroup:!0,icon:"none",text:o.expandAll,onItemClick(){s.expandAll(u.index)}}),n.push({text:o.collapseAll,icon:"none",onItemClick(){s.collapseAll(u.index)}})),t.cell.isLast&&!s.paginate()){let d=0;L(l,((p,x)=>{x.allowSortingBySummary&&L(t.dataFields,((g,C)=>{if(G(t.cell.dataIndex)&&t.cell.dataIndex!==g)return;const b=!G(t.cell.dataIndex)&&t.dataFields.length>1,A=t.area==="column"?o.sortColumnBySummary:o.sortRowBySummary,y=Ee(t.dataFields,x.sortBySummaryField)===g&&(t.cell.path||[]).join("/")===(x.sortBySummaryPath||[]).join("/"),H=oe(A,b?`${x.caption} - ${C.caption}`:x.caption);n.push({beginGroup:d===0,icon:y?x.sortOrder==="desc"?"sortdowntext":"sortuptext":"none",text:H,onItemClick(){s.field(x.index,{sortBySummaryField:C.name||C.caption||C.dataField,sortBySummaryPath:t.cell.path,sortOrder:x.sortOrder==="desc"?"asc":"desc"}),s.load()}}),d+=1}))})),L(l,((p,x)=>{if(!(!x.allowSortingBySummary||!G(x.sortBySummaryField)))return n.push({beginGroup:d===0,icon:"none",text:o.removeAllSorting,onItemClick(){L(l,((g,C)=>{s.field(C.index,{sortBySummaryField:void 0,sortBySummaryPath:void 0,sortOrder:void 0})})),s.load()}}),!1}))}}if(e.option("fieldChooser.enabled")&&n.push({beginGroup:!0,icon:"columnchooser",text:o.showFieldChooser,onItemClick(){e._fieldChooserPopup.show()}}),e.option("export.enabled")&&n.push({beginGroup:!0,icon:"xlsxfile",text:o.exportToExcel,onItemClick(){e.exportTo()}}),t.items=n,e._trigger("onContextMenuPreparing",t),n=t.items,n&&n.length)return n},_createEventArgs(t,e){const n=this,o=n.getDataSource(),a={rowFields:o.getAreaFields("row"),columnFields:o.getAreaFields("column"),dataFields:o.getAreaFields("data"),event:e};return _r(I(t))?X(n._createFieldArgs(t),a):X(n._createCellArgs(t),a)},_createFieldArgs(t){const e=I(t).children().data("field"),n={field:e};return G(e)?n:{}},_createCellArgs(t){const e=I(t),n=t.cellIndex,{rowIndex:o}=t.parentElement,a=e.closest("table"),l=a.data("data"),u=l&&l[o]&&l[o][n];return{area:a.data("area"),rowIndex:o,columnIndex:n,cellElement:hn(e),cell:u}},_handleCellClick(t){const e=this,n=e._createEventArgs(t.currentTarget,t),{cell:o}=n;!o||!n.area&&(n.rowIndex||n.columnIndex)||(e._trigger("onCellClick",n),o&&!n.cancel&&G(o.expanded)&&setTimeout((()=>{e._dataController[o.expanded?"collapseHeaderItem":"expandHeaderItem"](n.area,o.path)})))},_getNoDataText(){return this.option("texts.noData")},_renderNoDataText:ke.renderNoDataText,_renderLoadPanel:ke.renderLoadPanel,_updateLoading(t){const e=this,n=e._dataController.isLoading();if(!e._loadPanel)return;const o=e._loadPanel.option("visible");if(o||(e._startLoadingTime=new Date),n&&(t?new Date-e._startLoadingTime>=1e3&&e._loadPanel.option("message",`${Math.floor(100*t)}%`):e._loadPanel.option("message",e.option("loadPanel.text"))),clearTimeout(e._hideLoadingTimeoutID),o&&!n)e._hideLoadingTimeoutID=setTimeout((()=>{e._loadPanel.option("visible",!1),e.$element().removeClass("dx-overflow-hidden")}));else{const a={visible:n};n&&(a.position=ke.calculateLoadPanelPosition(e._dataArea.groupElement())),e._loadPanel.option(a),e.$element().toggleClass("dx-overflow-hidden",!n)}},_renderDescriptionArea(){const t=this.$element(),e=t.find(".dx-area-description-cell"),n=I(xe).addClass("dx-pivotgrid-toolbar"),o=this.option("fieldPanel"),a=t.find(".dx-filter-header"),l=t.find(".dx-column-header");let u;o.visible&&o.showFilterFields?u=a:o.visible&&(o.showDataFields||o.showColumnFields)?u=l:u=e,l.toggleClass("dx-bottom-border",!!(o.visible&&(o.showDataFields||o.showColumnFields))),a.toggleClass("dx-bottom-border",!!(o.visible&&o.showFilterFields)),e.toggleClass("dx-pivotgrid-background",o.visible&&(o.showDataFields||o.showColumnFields||o.showRowFields)),this.$element().find(".dx-pivotgrid-toolbar").remove(),n.prependTo(u);const s=Vo(Go())?"text":"contained";if(this.option("fieldChooser.enabled")){const d=I(xe).appendTo(n).addClass("dx-pivotgrid-field-chooser-button"),p={icon:"columnchooser",hint:this.option("texts.showFieldChooser"),stylingMode:s,onClick:()=>{this.getFieldChooserPopup().show()}};this._createComponent(d,xt,p)}if(this.option("export.enabled")){const d=I(xe).appendTo(n).addClass("dx-pivotgrid-export-button"),p={icon:"xlsxfile",hint:this.option("texts.exportToExcel"),stylingMode:s,onClick:()=>{this.exportTo()}};this._createComponent(d,xt,p)}},_detectHasContainerHeight(){const t=this,e=t.$element();if(G(t._hasHeight)){const o=t.option("height")||t.$element().get(0).style.height;o&&t._hasHeight^o!=="auto"&&(t._hasHeight=null)}if(G(t._hasHeight)||e.is(":hidden"))return;t._pivotGridContainer.addClass("dx-hidden");const n=I(xe);Ke(n,66666),e.append(n),t._hasHeight=ue(e)!==66666,t._pivotGridContainer.removeClass("dx-hidden"),n.remove()},_renderHeaders(t,e,n,o){const a=this.getDataSource();this._rowFields=this._rowFields||new Ue(this,"row"),this._rowFields.render(t,a.getAreaFields("row")),this._columnFields=this._columnFields||new Ue(this,"column"),this._columnFields.render(e,a.getAreaFields("column")),this._filterFields=this._filterFields||new Ue(this,"filter"),this._filterFields.render(n,a.getAreaFields("filter")),this._dataFields=this._dataFields||new Ue(this,"data"),this._dataFields.render(o,a.getAreaFields("data")),this.$element().dxPivotGridFieldChooserBase("instance").renderSortable()},_createTableElement(){const t=I("<table>").css({width:"100%"}).toggleClass(sn,!!this.option("showBorders")).toggleClass("dx-word-wrap",!!this.option("wordWrapEnabled"));return we.on(t,$e(Ct,"dxPivotGrid"),"td",this._handleCellClick.bind(this)),t},_renderDataArea(t){const e=this._dataArea||new pa.DataArea(this);return this._dataArea=e,e.render(t,this._dataController.getCellsInfo()),e},_renderRowsArea(t){const e=this._rowsArea||new ln.VerticalHeadersArea(this);return this._rowsArea=e,e.render(t,this._dataController.getRowsInfo()),e},_renderColumnsArea(t){const e=this._columnsArea||new ln.HorizontalHeadersArea(this);return this._columnsArea=e,e.render(t,this._dataController.getColumnsInfo()),e},_initMarkup(){this.callBase.apply(this,arguments),this.$element().addClass("dx-pivotgrid")},_renderContentImpl(){const t=this;let e,n,o,a;const l=!t._pivotGridContainer;let u,s,d,p;a=!l&&t._tableElement(),a||(t.$element().addClass("dx-row-lines").addClass(fr),t._pivotGridContainer=I(xe).addClass("dx-pivotgrid-container"),t._renderFieldChooser(),t._renderContextMenu(),e=I(Fe).addClass("dx-area-column-cell"),n=I(Fe).addClass("dx-area-row-cell"),o=I(Fe).addClass("dx-area-data-cell"),a=t._createTableElement(),p=I(Fe).addClass("dx-data-header"),d=I("<td>").attr("colspan","2").addClass("dx-filter-header"),s=I(Fe).addClass("dx-column-header"),u=I(Fe).addClass("dx-area-description-cell"),I(qe).append(d).appendTo(a),I(qe).append(p).append(s).appendTo(a),I(qe).append(u).append(e).appendTo(a),I(qe).addClass("dx-bottom-row").append(n).append(o).appendTo(a),t._pivotGridContainer.append(a),t.$element().append(t._pivotGridContainer),t.option("rowHeaderLayout")==="tree"&&n.addClass("dx-area-tree-view")),t.$element().addClass("dx-overflow-hidden"),t._createComponent(t.$element(),Lt,{dataSource:t.getDataSource(),encodeHtml:t.option("encodeHtml"),allowFieldDragging:t.option("fieldPanel.allowFieldDragging"),headerFilter:t.option("headerFilter"),visible:t.option("visible"),remoteSort:t.option("scrolling.mode")==="virtual"});const x=t._renderDataArea(o),g=t._renderRowsArea(n),C=t._renderColumnsArea(e);x.tableElement().prepend(C.headElement()),l&&(t._renderLoadPanel(x.groupElement().parent(),t.$element()),t._renderDescriptionArea(),g.renderScrollable(),C.renderScrollable(),x.renderScrollable()),[x,g,C].forEach((b=>{Un(b)})),t._renderHeaders(u,s,d,p),t._update(l)},_update(t){const e=this,n=function(){e.updateDimensions()};e._needDelayResizing(e._dataArea.getData())&&t?setTimeout(n):n()},_fireContentReadyAction(){this._dataController.isLoading()||this.callBase()},getScrollPath(t){const e=this;return t==="column"?e._columnsArea.getScrollPath(e._scrollLeft):e._rowsArea.getScrollPath(e._scrollTop)},getDataSource(){return this._dataController.getDataSource()},getFieldChooserPopup(){return this._fieldChooserPopup},hasScroll(t){return t==="column"?this._columnsArea.hasScroll():this._rowsArea.hasScroll()},_dimensionChanged(){this.updateDimensions()},_visibilityChanged(t){t&&this.updateDimensions()},_dispose(){const t=this;clearTimeout(t._hideLoadingTimeoutID),t.callBase.apply(t,arguments),t._dataController&&t._dataController.dispose()},_tableElement(){return this.$element().find("table").first()},addWidgetPrefix:t=>`dx-pivotgrid-${t}`,resize(){this.updateDimensions()},isReady(){return this.callBase()&&!this._dataController.isLoading()},updateDimensions(){const t=this;let e;const n=t._tableElement();let o,a=0,l=0,u=0,s,d;const p=n.find(".dx-area-data-cell"),x=n.find(".dx-area-row-cell"),g=n.find(".dx-area-column-cell"),C=n.find(".dx-area-description-cell"),b=n.find(".dx-filter-header"),A=n.find(".dx-column-header"),y=t._rowFields,H=new ne;if(!Ae())return;const R=y.isVisible()&&t.option("rowHeaderLayout")!=="tree";t._detectHasContainerHeight(),t._dataArea.headElement().length||t._dataArea.tableElement().prepend(t._columnsArea.headElement()),R&&(t._rowsArea.updateColspans(y.getColumnsCount()),t._rowsArea.tableElement().prepend(y.headElement())),n.addClass("dx-incompressible-fields"),t._dataArea.reset(),t._rowsArea.reset(),t._columnsArea.reset(),y.reset();const O=(r,i)=>i-r>=1,V=(r,i,c,f,_)=>c?r:i+(f?_:0);return Cn((()=>{const r=t._rowsArea.getRowsHeight(),i=Ie(C[0],!0)+(R?r[0]:0),c=ue(t._dataArea.headElement());let f=0,_=0;if(t._hasHeight){f=ue(b);const K=n.find(".dx-data-header"),W=ue(K);o=un([g,p,n,A,b],"height"),_=ue(t.$element())-f-W-(Math.max(c,ue(g),i)+o)}const m=t._dataArea.getScrollbarWidth(),v=ue(t._rowsArea.tableElement()),T=ue(t._dataArea.tableElement()),S=Math.max(v,T-c),E=O(_,S);t._dataArea.tableElement().css({width:t._hasHeight&&E&&m?`calc(100% - ${m}px)`:"100%"});const h=t._dataArea.getColumnsWidth(),w=R?r.slice(1):r,F=t._dataArea.getRowsHeight(),P=t._dataController.getColumnsInfo().length,D=yn(w,F.slice(P)),N=F.slice(0,P),j=mt(N),$=t._rowsArea.getColumnsWidth();if(a=Me(t._dataArea.tableElement()),l=mt(D),!a||!l){H.resolve();return}u=mt($);const k=Me(t.$element());o=un([x,p,n],"width"),e=k-u-o,e=e>0?e:a;const B=a-e;B>=0&&B<=2&&(_t(h,B),a=e),s=t._hasHeight&&O(_,l),d=O(e,a);const M=V(_,l,s,d,m);Io((()=>{if(t._columnsArea.tableElement().append(t._dataArea.headElement()),y.tableElement().append(t._rowsArea.headElement()),i>j&&(_t(N,j-i),t._columnsArea.setRowsHeight(N)),n.removeClass("dx-incompressible-fields"),A.children().css("maxWidth",e),t._columnsArea.setGroupWidth(e),t._columnsArea.processScrollBarSpacing(s?m:0),t._columnsArea.setColumnsWidth(h),t._rowsArea.setGroupHeight(t._hasHeight?M:"auto"),t._rowsArea.processScrollBarSpacing(d?m:0),t._rowsArea.setColumnsWidth($),t._rowsArea.setRowsHeight(D),t._dataArea.setColumnsWidth(h),t._dataArea.setRowsHeight(D),t._dataArea.setGroupWidth(e),t._dataArea.setGroupHeight(t._hasHeight?M:"auto"),R&&y.setColumnsWidth($),p.toggleClass("dx-bottom-border",!s),x.toggleClass("dx-bottom-border",!s),!t._hasHeight&&k!==Me(t.$element())){const U=k-Me(t.$element());d||(_t(h,U),t._columnsArea.setColumnsWidth(h),t._dataArea.setColumnsWidth(h)),t._dataArea.setGroupWidth(e-U),t._columnsArea.setGroupWidth(e-U)}if(t._hasHeight&&t._filterFields.isVisible()&&ue(b)!==f){const U=ue(b)-f;if(U>0){s=O(_-U,l);const Y=V(_-U,l,s,d,m);t._dataArea.setGroupHeight(Y),t._rowsArea.setGroupHeight(Y)}}const K=t.option("scrolling");K.mode==="virtual"&&t._setVirtualContentParams(K,h,D,e,M,t._hasHeight,u);const W=[];t._dataArea.updateScrollableOptions({direction:t._dataArea.getScrollableDirection(d,s),rtlEnabled:t.option("rtlEnabled")}),L([t._columnsArea,t._rowsArea,t._dataArea],((U,Y)=>{W.push(Y&&Y.updateScrollable())})),t._updateLoading(),t._renderNoDataText(p),ee.apply(I,W).done((()=>{t._updateScrollPosition(t._columnsArea,t._rowsArea,t._dataArea,!0),t._subscribeToEvents(t._columnsArea,t._rowsArea,t._dataArea),H.resolve()}))}))})),H},_setVirtualContentParams(t,e,n,o,a,l,u){const s=this._dataController.calculateVirtualContentParams({virtualRowHeight:t.virtualRowHeight,virtualColumnWidth:t.virtualColumnWidth,itemWidths:e,itemHeights:n,rowCount:n.length,columnCount:e.length,viewportWidth:o,viewportHeight:l?a:Ie(jn)});this._dataArea.setVirtualContentParams({top:s.contentTop,left:s.contentLeft,width:s.width,height:s.height}),this._rowsArea.setVirtualContentParams({top:s.contentTop,width:u,height:s.height}),this._columnsArea.setVirtualContentParams({left:s.contentLeft,width:s.width,height:ue(this._columnsArea.groupElement())})},applyPartialDataSource(t,e,n){this._dataController.applyPartialDataSource(t,e,n)}}).inherit(Va).include(da);tt("dxPivotGrid",qn);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const Yn={props:{allowExpandAll:Boolean,allowFiltering:Boolean,allowSorting:Boolean,allowSortingBySummary:Boolean,dataFieldArea:String,dataSource:[Array,Object],disabled:Boolean,elementAttr:Object,encodeHtml:Boolean,export:Object,fieldChooser:Object,fieldPanel:Object,headerFilter:Object,height:[Number,String],hideEmptySummaryCells:Boolean,hint:String,loadPanel:Object,onCellClick:Function,onCellPrepared:Function,onContentReady:Function,onContextMenuPreparing:Function,onDisposing:Function,onExporting:Function,onInitialized:Function,onOptionChanged:Function,rowHeaderLayout:String,rtlEnabled:Boolean,scrolling:Object,showBorders:Boolean,showColumnGrandTotals:Boolean,showColumnTotals:Boolean,showRowGrandTotals:Boolean,showRowTotals:Boolean,showTotalsPrior:String,stateStoring:Object,tabIndex:Number,texts:Object,visible:Boolean,width:[Number,String],wordWrapEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowExpandAll":null,"update:allowFiltering":null,"update:allowSorting":null,"update:allowSortingBySummary":null,"update:dataFieldArea":null,"update:dataSource":null,"update:disabled":null,"update:elementAttr":null,"update:encodeHtml":null,"update:export":null,"update:fieldChooser":null,"update:fieldPanel":null,"update:headerFilter":null,"update:height":null,"update:hideEmptySummaryCells":null,"update:hint":null,"update:loadPanel":null,"update:onCellClick":null,"update:onCellPrepared":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onDisposing":null,"update:onExporting":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rowHeaderLayout":null,"update:rtlEnabled":null,"update:scrolling":null,"update:showBorders":null,"update:showColumnGrandTotals":null,"update:showColumnTotals":null,"update:showRowGrandTotals":null,"update:showRowTotals":null,"update:showTotalsPrior":null,"update:stateStoring":null,"update:tabIndex":null,"update:texts":null,"update:visible":null,"update:width":null,"update:wordWrapEnabled":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=qn,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={export:{isCollectionItem:!1,optionName:"export"},fieldChooser:{isCollectionItem:!1,optionName:"fieldChooser"},fieldPanel:{isCollectionItem:!1,optionName:"fieldPanel"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},loadPanel:{isCollectionItem:!1,optionName:"loadPanel"},pivotGridTexts:{isCollectionItem:!1,optionName:"texts"},scrolling:{isCollectionItem:!1,optionName:"scrolling"},stateStoring:{isCollectionItem:!1,optionName:"stateStoring"},texts:{isCollectionItem:!1,optionName:"texts"}}}};po(Yn);const Or=ce(Yn),Kn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null},props:{enabled:Boolean}};he(Kn);const Cr=ce(Kn);Cr.$_optionName="export";const Xn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:applyChangesMode":null,"update:enabled":null,"update:height":null,"update:layout":null,"update:searchTimeout":null,"update:texts":null,"update:title":null,"update:width":null},props:{allowSearch:Boolean,applyChangesMode:String,enabled:Boolean,height:Number,layout:Number,searchTimeout:Number,texts:Object,title:String,width:Number}};he(Xn);const Jn=ce(Xn);Jn.$_optionName="fieldChooser";Jn.$_expectedChildren={fieldChooserTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};const Qn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allFields":null,"update:columnFields":null,"update:dataFields":null,"update:filterFields":null,"update:rowFields":null},props:{allFields:String,columnFields:String,dataFields:String,filterFields:String,rowFields:String}};he(Qn);const xr=ce(Qn);xr.$_optionName="texts";const Zn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowFieldDragging":null,"update:showColumnFields":null,"update:showDataFields":null,"update:showFilterFields":null,"update:showRowFields":null,"update:texts":null,"update:visible":null},props:{allowFieldDragging:Boolean,showColumnFields:Boolean,showDataFields:Boolean,showFilterFields:Boolean,showRowFields:Boolean,texts:Object,visible:Boolean}};he(Zn);const eo=ce(Zn);eo.$_optionName="fieldPanel";eo.$_expectedChildren={fieldPanelTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};const to={emits:{"update:isActive":null,"update:hoveredElement":null,"update:columnFieldArea":null,"update:dataFieldArea":null,"update:filterFieldArea":null,"update:rowFieldArea":null},props:{columnFieldArea:String,dataFieldArea:String,filterFieldArea:String,rowFieldArea:String}};he(to);const wr=ce(to);wr.$_optionName="texts";const no={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:showRelevantValues":null,"update:texts":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:Number,search:Object,searchTimeout:Number,showRelevantValues:Boolean,texts:Object,width:Number}};he(no);const oo=ce(no);oo.$_optionName="headerFilter";oo.$_expectedChildren={headerFilterTexts:{isCollectionItem:!1,optionName:"texts"},search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const ao={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};he(ao);const Sr=ce(ao);Sr.$_optionName="texts";const ro={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:height":null,"update:indicatorSrc":null,"update:shading":null,"update:shadingColor":null,"update:showIndicator":null,"update:showPane":null,"update:text":null,"update:width":null},props:{enabled:Boolean,height:Number,indicatorSrc:String,shading:Boolean,shadingColor:String,showIndicator:Boolean,showPane:Boolean,text:String,width:Number}};he(ro);const vr=ce(ro);vr.$_optionName="loadPanel";const lo={emits:{"update:isActive":null,"update:hoveredElement":null,"update:collapseAll":null,"update:dataNotAvailable":null,"update:expandAll":null,"update:exportToExcel":null,"update:grandTotal":null,"update:noData":null,"update:removeAllSorting":null,"update:showFieldChooser":null,"update:sortColumnBySummary":null,"update:sortRowBySummary":null,"update:total":null},props:{collapseAll:String,dataNotAvailable:String,expandAll:String,exportToExcel:String,grandTotal:String,noData:String,removeAllSorting:String,showFieldChooser:String,sortColumnBySummary:String,sortRowBySummary:String,total:String}};he(lo);const yr=ce(lo);yr.$_optionName="texts";const so={emits:{"update:isActive":null,"update:hoveredElement":null,"update:mode":null,"update:useNative":null},props:{mode:String,useNative:[Boolean,String]}};he(so);const Tr=ce(so);Tr.$_optionName="scrolling";const io={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};he(io);const Er=ce(io);Er.$_optionName="search";const co={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customLoad":null,"update:customSave":null,"update:enabled":null,"update:savingTimeout":null,"update:storageKey":null,"update:type":null},props:{customLoad:Function,customSave:Function,enabled:Boolean,savingTimeout:Number,storageKey:String,type:String}};he(co);const br=ce(co);br.$_optionName="stateStoring";const uo={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allFields":null,"update:cancel":null,"update:collapseAll":null,"update:columnFieldArea":null,"update:columnFields":null,"update:dataFieldArea":null,"update:dataFields":null,"update:dataNotAvailable":null,"update:emptyValue":null,"update:expandAll":null,"update:exportToExcel":null,"update:filterFieldArea":null,"update:filterFields":null,"update:grandTotal":null,"update:noData":null,"update:ok":null,"update:removeAllSorting":null,"update:rowFieldArea":null,"update:rowFields":null,"update:showFieldChooser":null,"update:sortColumnBySummary":null,"update:sortRowBySummary":null,"update:total":null},props:{allFields:String,cancel:String,collapseAll:String,columnFieldArea:String,columnFields:String,dataFieldArea:String,dataFields:String,dataNotAvailable:String,emptyValue:String,expandAll:String,exportToExcel:String,filterFieldArea:String,filterFields:String,grandTotal:String,noData:String,ok:String,removeAllSorting:String,rowFieldArea:String,rowFields:String,showFieldChooser:String,sortColumnBySummary:String,sortRowBySummary:String,total:String}};he(uo);const Fr=ce(uo);Fr.$_optionName="texts";export{Or as D,en as P,oo as a,Er as b,Jn as c,eo as d,Cr as e,br as f};
