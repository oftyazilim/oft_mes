import{p as oe,a as re}from"./formatters-wLeIh16p.js";import{_ as ie}from"./TablePagination.vue_vue_type_script_setup_true_lang-BEoIUc17.js";import{_ as ne}from"./AppTextField.vue_vue_type_script_setup_true_lang-CoPCRaS4.js";import{_ as ue}from"./AppSelect.vue_vue_type_script_setup_true_lang-D3iv5BVv.js";import{_ as de}from"./AddNewUserDrawer.vue_vue_type_script_setup_true_lang-BI-FZYHk.js";import{u as ce}from"./useApi-CCYCQT0y.js";import{c as pe}from"./createUrl-KVhYIlsP.js";import{$ as N}from"./api-FvnFZH5j.js";import{V as W}from"./VRow-DQsiNNcM.js";import{V as F,c as me,a as fe}from"./VCard-orANWs1D.js";import{V as C}from"./VCardText-ClFZhJ3f.js";import{V as O}from"./VAvatar-_vbx8eRm.js";import{d as ve,r as i,aW as _e,v as q,c as A,e as o,b as l,f as a,aA as d,u as r,F as xe,au as ge,g as M,k as n,av as Ve,m as c,aB as p,L as P,a as j,o as _}from"./main-DGv30Ta5.js";import{V as w}from"./VCol-C5dbBZ-O.js";import{V as Q}from"./VDivider-62ojw5IT.js";import{V as be}from"./VSpacer-9hGLO-LH.js";import{V as ye}from"./VDataTableServer-B84u1VzG.js";import{V as he}from"./VMenu-Chvb5uVl.js";import{V as we,a as L,b as S}from"./VList-E0hXM9S9.js";import{V as ke}from"./VChip-BBPPi9FS.js";import{V as Ue}from"./VImg-C6cvRfev.js";import"./helpers-BGv4x_9E.js";import"./VPagination-FqE4YF2T.js";import"./focus--rcEl2oJ.js";import"./VTextField-wU6IweTd.js";/* empty css                   */import"./VCounter-CFDGw_KZ.js";import"./VField-YhFWwVwh.js";import"./easing-Bybner-F.js";import"./VInput-CuyGGHo4.js";import"./form-D9QKOJ2S.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-BwOQkZQF.js";import"./dialog-transition-H5NfT_yL.js";import"./VOverlay-BozFQeQ3.js";import"./delay-BEty5f6a.js";import"./lazy-CQg6UiAQ.js";import"./scopeId-B7Vig8L9.js";import"./VCheckboxBtn-BCj0WkSO.js";import"./VSelectionControl-DAtTjQ4r.js";import"./validators-BwBNGiur.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-D5OZPLYh.js";import"./VNavigationDrawer-Dk8sBVuO.js";import"./ssrBoot-BjfoxZN9.js";import"./VForm-BeU5O4Km.js";import"./index-CvOPxmL5.js";import"./index-BNUiLowW.js";/* empty css              */import"./VDataTable-2LFQhRCk.js";import"./VTable-4EmiHIDl.js";import"./filter-BWsVZzui.js";import"./VSlideGroup-DQGj7ul2.js";const Ce={class:"d-flex mb-6"},Ae={class:"d-flex justify-space-between"},Pe={class:"d-flex flex-column gap-y-1"},Le={class:"text-body-1 text-high-emphasis"},Se={class:"d-flex gap-x-2 align-center"},Be={class:"text-h4"},Te={class:"text-sm"},ze={class:"me-3 d-flex gap-3"},De={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Ie={style:{"inline-size":"15.625rem"}},$e={class:"d-flex align-center gap-x-4"},Re={key:1},Ee={class:"d-flex flex-column"},Ne={class:"text-base"},We={class:"text-sm"},Fe={class:"d-flex align-center gap-x-2"},Oe={class:"text-capitalize text-high-emphasis text-body-1"},qe={class:"text-body-1 text-high-emphasis text-capitalize"},qt=ve({__name:"index",async setup(Me){let x,B;const g=i(""),V=i(),b=i(),y=i(),m=i(10),f=i(1),T=i(),z=i(),v=i([]),G=s=>{var t,u;T.value=(t=s.sortBy[0])==null?void 0:t.key,z.value=(u=s.sortBy[0])==null?void 0:u.order},H=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:D,execute:I}=([x,B]=_e(()=>ce(pe("/apps/users",{query:{q:g,status:y,plan:b,role:V,itemsPerPage:m,page:f,sortBy:T,orderBy:z}}))),x=await x,B(),x),J=q(()=>{var s;return((s=D.value)==null?void 0:s.users)||[]}),$=q(()=>{var s;return((s=D.value)==null?void 0:s.totalUsers)||0}),K=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],X=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],Y=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],k=s=>{const t=s.toLowerCase();return t==="subscriber"?{color:"success",icon:"tabler-user"}:t==="author"?{color:"error",icon:"tabler-device-desktop"}:t==="maintainer"?{color:"info",icon:"tabler-chart-pie"}:t==="editor"?{color:"warning",icon:"tabler-edit"}:t==="admin"?{color:"primary",icon:"tabler-crown"}:{color:"primary",icon:"tabler-user"}},Z=s=>{const t=s.toLowerCase();return t==="pending"?"warning":t==="active"?"success":t==="inactive"?"secondary":"primary"},h=i(!1),ee=async s=>{await N("/apps/users",{method:"POST",body:s}),I()},R=async s=>{await N(`/apps/users/${s}`,{method:"DELETE"});const t=v.value.findIndex(u=>u===s);t!==-1&&v.value.splice(t,1),I()},te=i([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-users",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-search",iconColor:"warning"}]);return(s,t)=>{const u=ue,le=ne,ae=j("RouterLink"),E=j("IconBtn"),se=ie;return _(),A("section",null,[o("div",Ce,[l(W,null,{default:a(()=>[(_(!0),A(xe,null,ge(r(te),(e,U)=>(_(),M(w,{key:U,cols:"12",md:"3",sm:"6"},{default:a(()=>[l(F,null,{default:a(()=>[l(C,null,{default:a(()=>[o("div",Ae,[o("div",Pe,[o("div",Le,n(e.title),1),o("div",Se,[o("h4",Be,n(e.value),1),o("div",{class:Ve(["text-base",e.change>0?"text-success":"text-error"])}," ("+n(("prefixWithPlus"in s?s.prefixWithPlus:r(oe))(e.change))+"%) ",3)]),o("div",Te,n(e.desc),1)]),l(O,{color:e.iconColor,variant:"tonal",rounded:"",size:"42"},{default:a(()=>[l(c,{icon:e.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),l(F,{class:"mb-6"},{default:a(()=>[l(me,{class:"pb-4"},{default:a(()=>[l(fe,null,{default:a(()=>t[11]||(t[11]=[p("Filters")])),_:1,__:[11]})]),_:1}),l(C,null,{default:a(()=>[l(W,null,{default:a(()=>[l(w,{cols:"12",sm:"4"},{default:a(()=>[l(u,{modelValue:r(V),"onUpdate:modelValue":t[0]||(t[0]=e=>d(V)?V.value=e:null),placeholder:"Select Role",items:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),l(w,{cols:"12",sm:"4"},{default:a(()=>[l(u,{modelValue:r(b),"onUpdate:modelValue":t[1]||(t[1]=e=>d(b)?b.value=e:null),placeholder:"Select Plan",items:X,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),l(w,{cols:"12",sm:"4"},{default:a(()=>[l(u,{modelValue:r(y),"onUpdate:modelValue":t[2]||(t[2]=e=>d(y)?y.value=e:null),placeholder:"Select Status",items:Y,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(Q),l(C,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[o("div",ze,[l(u,{"model-value":r(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":t[3]||(t[3]=e=>m.value=parseInt(e,10))},null,8,["model-value"])]),l(be),o("div",De,[o("div",Ie,[l(le,{modelValue:r(g),"onUpdate:modelValue":t[4]||(t[4]=e=>d(g)?g.value=e:null),placeholder:"Search User"},null,8,["modelValue"])]),l(P,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:a(()=>t[12]||(t[12]=[p(" Export ")])),_:1,__:[12]}),l(P,{"prepend-icon":"tabler-plus",onClick:t[5]||(t[5]=e=>h.value=!0)},{default:a(()=>t[13]||(t[13]=[p(" Add New User ")])),_:1,__:[13]})])]),_:1}),l(Q),l(ye,{"items-per-page":r(m),"onUpdate:itemsPerPage":t[7]||(t[7]=e=>d(m)?m.value=e:null),"model-value":r(v),"onUpdate:modelValue":t[8]||(t[8]=e=>d(v)?v.value=e:null),page:r(f),"onUpdate:page":t[9]||(t[9]=e=>d(f)?f.value=e:null),items:r(J),"item-value":"id","items-length":r($),headers:H,class:"text-no-wrap","show-select":"","onUpdate:options":G},{"item.user":a(({item:e})=>[o("div",$e,[l(O,{size:"34",variant:e.avatar?void 0:"tonal",color:e.avatar?void 0:k(e.role).color},{default:a(()=>[e.avatar?(_(),M(Ue,{key:0,src:e.avatar},null,8,["src"])):(_(),A("span",Re,n(("avatarText"in s?s.avatarText:r(re))(e.fullName)),1))]),_:2},1032,["variant","color"]),o("div",Ee,[o("h6",Ne,[l(ae,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:a(()=>[p(n(e.fullName),1)]),_:2},1032,["to"])]),o("div",We,n(e.email),1)])])]),"item.role":a(({item:e})=>[o("div",Fe,[l(c,{size:22,icon:k(e.role).icon,color:k(e.role).color},null,8,["icon","color"]),o("div",Oe,n(e.role),1)])]),"item.plan":a(({item:e})=>[o("div",qe,n(e.currentPlan),1)]),"item.status":a(({item:e})=>[l(ke,{color:Z(e.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[p(n(e.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:e})=>[l(E,{onClick:U=>R(e.id)},{default:a(()=>[l(c,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(E,null,{default:a(()=>[l(c,{icon:"tabler-eye"})]),_:1}),l(P,{icon:"",variant:"text",color:"medium-emphasis"},{default:a(()=>[l(c,{icon:"tabler-dots-vertical"}),l(he,{activator:"parent"},{default:a(()=>[l(we,null,{default:a(()=>[l(L,{to:{name:"apps-user-view-id",params:{id:e.id}}},{prepend:a(()=>[l(c,{icon:"tabler-eye"})]),default:a(()=>[l(S,null,{default:a(()=>t[14]||(t[14]=[p("View")])),_:1,__:[14]})]),_:2},1032,["to"]),l(L,{link:""},{prepend:a(()=>[l(c,{icon:"tabler-pencil"})]),default:a(()=>[l(S,null,{default:a(()=>t[15]||(t[15]=[p("Edit")])),_:1,__:[15]})]),_:1}),l(L,{onClick:U=>R(e.id)},{prepend:a(()=>[l(c,{icon:"tabler-trash"})]),default:a(()=>[l(S,null,{default:a(()=>t[16]||(t[16]=[p("Delete")])),_:1,__:[16]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:a(()=>[l(se,{page:r(f),"onUpdate:page":t[6]||(t[6]=e=>d(f)?f.value=e:null),"items-per-page":r(m),"total-items":r($)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),l(de,{"is-drawer-open":r(h),"onUpdate:isDrawerOpen":t[10]||(t[10]=e=>d(h)?h.value=e:null),onUserData:ee},null,8,["is-drawer-open"])])}}});export{qt as default};
