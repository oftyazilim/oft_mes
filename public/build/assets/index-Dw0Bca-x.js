import{_ as $}from"./AppTextField.vue_vue_type_script_setup_true_lang-C28PT4rF.js";import{_ as I}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-Dppt09NI.js";import{V as R}from"./VDialog-D0xt--js.js";import{V as h}from"./VCard-BbNBwq9f.js";import{V as T}from"./VCardText-DqZn3ld0.js";import{V as L}from"./VForm-CMLAhT_y.js";import{V as M}from"./VAlert-lD4CDx03.js";import{d as S,r as m,w as j,g as w,f as i,b as t,e as d,k as f,aB as x,u as l,aA as p,L as k,o as y,A as q,m as U,a as O,c as W,au as G,F as H}from"./main-BYaGs_gV.js";import{V as J}from"./VCheckbox-tQxp08FR.js";import{_ as K}from"./TablePagination.vue_vue_type_script_setup_true_lang-CK7-vfZI.js";import{_ as Q}from"./AppSelect.vue_vue_type_script_setup_true_lang-B6yCZToJ.js";import{$ as X}from"./index-C5gWODrI.js";import{V as Y}from"./VRow-CTEBk3EW.js";import{V as Z}from"./VDivider-YGLtFVKF.js";import{V as ee}from"./VDataTableServer-DivaxekZ.js";import{V as te}from"./VChip-Dmmn_s5B.js";import{V as oe}from"./VCol-D1hxu7Xc.js";import"./focus-DQzyK_z8.js";import"./VTextField-B7Tiyxvr.js";/* empty css                   */import"./VCounter-CE_3-zwM.js";import"./index-C3csQ-DQ.js";import"./VField-rVYIuLLa.js";import"./easing-Bybner-F.js";import"./VInput-CD_Y1EX6.js";import"./form-3kGnkFgx.js";import"./forwardRefs-C-GTDzx5.js";import"./VOverlay-DsA4feGQ.js";import"./delay-aYct_xoS.js";import"./lazy-CkSm6jn9.js";import"./scopeId-BFdpl8_G.js";import"./dialog-transition-BZFFtmp1.js";import"./createSimpleFunctional-CKl1yCO_.js";import"./VAvatar-CqZfINw5.js";import"./VImg-DlDtDwK8.js";import"./VCheckboxBtn-Uol4IYb_.js";import"./VSelectionControl-B-ZwGcRT.js";import"./VPagination-xCJHxD8x.js";import"./VSelect-DPunVcMx.js";import"./VList-Ce623_H6.js";import"./ssrBoot-CQ7VRsvc.js";import"./VMenu-DADsnB9o.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VDataTable-CyCfN9nh.js";import"./VTable-BHjxu4fP.js";import"./filter-M0hAqWVw.js";import"./VSlideGroup-D00ZvkUJ.js";const ie={class:"text-h4 text-center mb-2"},se={class:"text-body-1 text-center mb-6"},ae={class:"d-flex gap-4 mb-6 flex-wrap flex-column flex-sm-row"},le=S({__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean},permissionName:{default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(N,{emit:P}){const a=N,r=P,s=m(""),v=()=>{r("update:isDialogVisible",!1),s.value=""},A=()=>{r("update:isDialogVisible",!1),r("update:permissionName",s.value)};return j(()=>a,()=>{s.value=a.permissionName}),(D,u)=>{const c=I,g=$;return y(),w(R,{width:D.$vuetify.display.smAndDown?"auto":600,"model-value":a.isDialogVisible,"onUpdate:modelValue":v},{default:i(()=>[t(c,{onClick:v}),t(h,{class:"pa-2 pa-sm-10"},{default:i(()=>[t(T,null,{default:i(()=>[d("h4",ie,f(a.permissionName?"Edit":"Add")+" Permission ",1),d("p",se,f(a.permissionName?"Edit":"Add")+" permission as per your requirements. ",1),t(L,null,{default:i(()=>[t(M,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{text:i(()=>[x(" By "+f(a.permissionName?"editing":"adding")+" the permission name, you might break the system permissions functionality. ",1)]),_:1}),d("div",ae,[t(g,{modelValue:l(s),"onUpdate:modelValue":u[0]||(u[0]=V=>p(s)?s.value=V:null),placeholder:"Enter Permission Name"},null,8,["modelValue"]),t(k,{onClick:A},{default:i(()=>[x(f(a.permissionName?"Update":"Add"),1)]),_:1})]),t(J,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),re={class:"d-flex gap-2 align-center"},ne={class:"d-flex align-center gap-4 flex-wrap"},me={class:"text-high-emphasis text-body-1"},pe={class:"d-flex gap-4"},at=S({__name:"index",setup(N){const P=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],a=m(""),r=m(10),s=m(1),v=m(),A=m(),D=n=>{var e,_;v.value=(e=n.sortBy[0])==null?void 0:e.key,A.value=(_=n.sortBy[0])==null?void 0:_.order},u=m(!1),c=m(!1),g=m(""),V={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},B=m([]);return q(async()=>{try{const n=await X("/api/permissions");B.value=n}catch(n){console.error("Permissions fetch error:",n)}}),(n,e)=>{const _=Q,z=$,E=K,F=O("IconBtn"),C=le;return y(),w(Y,null,{default:i(()=>[t(oe,{cols:"12"},{default:i(()=>[t(h,null,{default:i(()=>[t(T,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:i(()=>[d("div",re,[e[9]||(e[9]=d("p",{class:"text-body-1 mb-0"}," Show ",-1)),t(_,{"model-value":l(r),items:[{value:5,title:"5"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=parseInt(o,10))},null,8,["model-value"])]),d("div",ne,[t(z,{modelValue:l(a),"onUpdate:modelValue":e[1]||(e[1]=o=>p(a)?a.value=o:null),placeholder:"Search Permission",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(k,{density:"default","prepend-icon":"tabler-plus",onClick:e[2]||(e[2]=o=>c.value=!0)},{default:i(()=>e[10]||(e[10]=[x(" Add Permission ")])),_:1,__:[10]})])]),_:1}),t(Z),t(ee,{"items-per-page":l(r),"onUpdate:itemsPerPage":e[4]||(e[4]=o=>p(r)?r.value=o:null),page:l(s),"onUpdate:page":e[5]||(e[5]=o=>p(s)?s.value=o:null),"items-length":n.totalPermissions,"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:P,items:l(B),"item-value":"name",class:"text-no-wrap","onUpdate:options":D},{"item.name":i(({item:o})=>[d("div",me,f(o.name),1)]),"item.assignedTo":i(({item:o})=>[d("div",pe,[(y(!0),W(H,null,G(o.assignedTo,b=>(y(),w(te,{key:b,label:"",size:"small",color:V[b].color,class:"font-weight-medium"},{default:i(()=>[x(f(V[b].text),1)]),_:2},1032,["color"]))),128))])]),bottom:i(()=>[t(E,{page:l(s),"onUpdate:page":e[3]||(e[3]=o=>p(s)?s.value=o:null),"items-per-page":l(r),"total-items":n.totalPermissions},null,8,["page","items-per-page","total-items"])]),"item.actions":i(({item:o})=>[t(k,{icon:"",size:"small",color:"medium-emphasis",variant:"text",onClick:b=>n.editPermission(o.name)},{default:i(()=>[t(U,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(F,null,{default:i(()=>[t(U,{icon:"tabler-dots-vertical",size:"22"})]),_:1})]),_:1},8,["items-per-page","page","items-length","items"])]),_:1}),t(C,{"is-dialog-visible":l(u),"onUpdate:isDialogVisible":e[6]||(e[6]=o=>p(u)?u.value=o:null),"permission-name":l(g),"onUpdate:permissionName":e[7]||(e[7]=o=>p(g)?g.value=o:null)},null,8,["is-dialog-visible","permission-name"]),t(C,{"is-dialog-visible":l(c),"onUpdate:isDialogVisible":e[8]||(e[8]=o=>p(c)?c.value=o:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})}}});export{at as default};
