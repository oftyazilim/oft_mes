import{u as Oe}from"./pageTitle-Bq-S6o1W.js";import{d as Ge,r as n,aO as Be,A as Ve,a as Le,c as Ye,o as q,b as e,f as r,e as s,g as re,u as a,k as v,F as Ue,aI as b}from"./main-D7Aqp5-9.js";import{D as j}from"./button-BW8AYt51.js";import{D as $e}from"./context-menu-CUrkuSYL.js";import{s as k,D as l,h as He,i as We,j as qe,k as je,d as D,l as Je,m as Ze,b as Qe,q as J,r as Xe,t as A}from"./data-grid-DoBE4OQ6.js";import{D as oe}from"./date-box-CBByCAJV.js";import{D as et}from"./load-panel-DL4QA-kX.js";import{a as R}from"./popup-BH0ziYhF.js";import{D as ne}from"./select-box-CcK-A_bK.js";import{D as y}from"./tabs-D2BpyAiq.js";import{e as tt}from"./export_data_grid-DPOni0JK.js";import"./overlay-CiDxCqHa.js";import"./m_select_box--HZbMBKb.js";import"./m_row_dragging--q8Lp_3w.js";import{e as at}from"./exceljs.min-BeY2KIjD.js";import{s as it}from"./FileSaver-CQu8bA20.js";import{V as lt}from"./VCardText-Dc4UdoCD.js";import{V as f}from"./VCol-qXsBuBPF.js";import{V as rt}from"./VCard-zqEOAfVX.js";import{V as E}from"./VRow-ry8bt4A2.js";import"./editor-De2gEspA.js";import"./themes-DKeIKo68.js";import"./_commonjsHelpers-D6-XlEtG.js";/* empty css              */import"./VAvatar-IlE3Jsdm.js";import"./VImg-D6h5hAUB.js";const ot={id:"liste",style:{"margin-block":"-10px 10px"}},nt={style:{"margin-block-start":"-10px"}},st={style:{"margin-block-start":"-10px","margin-inline-start":"5px"}},dt={style:{"inline-size":"160px","margin-block-start":"-10px","margin-inline-start":"5px"}},ut={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},se="İhtiyaç Listesi",de="Toplu",Bt=Ge({__name:"ihtiyac-listesi-toplu",setup(mt){const Z=t=>{if(!t)return null;const i=new Date(t),d=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),m=String(i.getDate()).padStart(2,"0");return`${d}-${o}-${m}`},ue=Oe(),I=n(!1),M=n(!1),K=n(!1),C=n(!1),F=n(!1),g=n(!1),N=n([]),O=n([]),Q=n([]),G=n([]),B=n([]),me=n(Date.now()),_=Be("userData"),x=n(null),ce=n(null),pe=n(null),fe=n(null),ve=n(null);n(null);const V=n(!0);n(!1),n(0);const z=n(0);n(!1);const c=n(0),p=n("");n([]);const ge=n(0),ye=n([]),he=n(0),L=n(""),X=n([]),Y=n(""),ee=n([]),h=new Date,U=new Date(h);U.setDate(h.getDate()-h.getDay()+1);const $=new Date(h);$.setDate(h.getDate()-h.getDay()+7);const H=n([U,$]),T=n(U),S=n($),P=n([]),u=n(null);ue.setTitle(`${se} (${de})`),document.title=`OFT - ${se} | ${de}`;function te(t){return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:1}).format(t.value)}const ae=async()=>{O.value=[],await we()},we=async()=>{H.value=[T.value,S.value],T.value=Z(H.value[0]),S.value=Z(H.value[1]),g.value=!0;try{const t=await b.get("/api/toplu-ihtiyaclar",{params:{filterValue:T.value,filterValue1:S.value,merkezID:he.value,istasyonID:ge.value,siparis:L.value,cari:Y.value,coID:_.value.co_id}});O.value=t.data.emirler,Q.value=t.data.dagilim}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{g.value=!1}},be=async()=>{g.value=!0;try{const t=await b.get("/api/merkezal",{params:{coID:_.value.co_id}});ye.value=t.data.merkezler,X.value=t.data.siparisler,ee.value=t.data.cariler}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{g.value=!1}},ke=async t=>{g.value=!0;try{const i=await b.get("/api/isEmriAcilmislar",{params:{item_id:t}});N.value=i.data.data}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}finally{g.value=!1}};Ve(async()=>{ie(),be(),xe()});const ie=()=>{var i,d;const t=localStorage.getItem(`${_.value.id}_malzemeler`);t&&((d=(i=x.value)==null?void 0:i.instance)==null||d.state(JSON.parse(t)))},De=()=>{var i,d;const t=(d=(i=x.value)==null?void 0:i.instance)==null?void 0:d.state();localStorage.setItem(`${_.value.id}_malzemeler`,JSON.stringify(t))},_e=()=>{localStorage.removeItem(`${_.value.id}_malzemeler`),x.value.instance.state(null)},xe=()=>{const t=new Date,i=t.getFullYear()%100,d=new Date(t.getFullYear(),0,4),o=new Date(d);o.setDate(d.getDate()-(d.getDay()+6)%7);const m=Math.floor((t.getTime()-o.getTime())/864e5),W=Math.floor(m/7)+1;return`${i}-${W.toString().padStart(2,"0")}`},Te=()=>{V.value=!V.value},Se=()=>{var t,i;(i=(t=x.value)==null?void 0:t.instance)==null||i.clearFilter()},Ae=t=>{t.rowType==="data"&&(t.column.dataField==="talepler"||t.column.dataField==="satinalma"||t.column.dataField==="stok"||t.column.dataField==="ana_depo"||t.column.dataField==="diger_depo")&&t.value>0&&(t.cellElement.style.fontWeight="bold"),t.rowType==="data"&&t.column.dataField==="stok"&&Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="orange"),t.rowType==="data"&&t.column.dataField==="ana_depo"&&Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff6e00",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="diger_depo"&&Number(t.data.diger_depo)+Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff5400",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="bakiye"&&t.value<0&&(t.cellElement.style.fontWeight="bold",t.cellElement.style.backgroundColor="red",t.cellElement.style.color="white")},Re=t=>{if(t.rowIndex===-1)return;const i=t.row.data;u.value=i},Ee=t=>{const i=new at.Workbook,d=i.addWorksheet("MalzemeListesi");tt({component:t.component,worksheet:d,autoFilterEnabled:!0}).then(()=>{i.xlsx.writeBuffer().then(o=>{it(new Blob([o],{type:"application/octet-stream"}),"MalzemeListesi.xlsx")})}),t.cancel=!0},Ie=(t,i)=>{t.innerText=i.text;const d=i.data.tipi,o=(Ne,pt)=>{const w=document.createElement("span");return w.className="dx-icon dx-icon-isnotblank",w.style.marginRight="8px",w.style.color=Ne,w.style.fontSize="16",w.style.display="inline-flex",w};let m="gray";switch(d){case"Hammadde":m="gold";break;case"YarıMamul":m="limegreen";break;case"Mamul":m="green";break;case"Ticari":m="gray";break}const W=o(m);t.insertBefore(W,t.firstChild)},Me=[{text:"Yenile"},{text:"Hangi İş Emirlerinde"},{text:"Açılmış İş Emirleri"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function ze({itemData:t}){if(!(t!=null&&t.items))switch(t==null?void 0:t.text){case"Yenile":ae();break;case"Hangi İş Emirlerinde":z.value=u.value.item_id,c.value=u.value.stok_kodu,p.value=u.value.stok_adi,M.value=!0;break;case"Açılmış İş Emirleri":z.value=u.value.item_id,c.value=u.value.stok_kodu,p.value=u.value.stok_adi,N.value=[],ke(u.value.item_id),K.value=!0;break;case"Stok Detayları":P.value=[],c.value=u.value.stok_kodu,p.value=u.value.stok_adi,le(u.value.item_id),I.value=!0;break;case"Satınalma Sipariş Detayları":G.value=[],c.value=u.value.stok_kodu,p.value=u.value.stok_adi,Ce(u.value.item_id),C.value=!0;break;case"Satınalma Talep Detayları":B.value=[],c.value=u.value.stok_kodu,p.value=u.value.stok_adi,Fe(u.value.item_id),F.value=!0;break;case"Düzen Yükle":ie();break;case"Düzen Kaydet":De();break;case"Düzen Sıfırla":_e();break}}const Pe=()=>Q.value.filter(t=>t.item_id===z.value),Ke=t=>{t.rowType==="data"&&t.column.dataField==="diger_depo"&&(P.value=[],c.value=t.data.stok_kodu,p.value=t.data.stok_adi,le(t.data.item_id),I.value=!0),t.rowType==="data"&&t.column.dataField==="dongu"&&(z.value=t.data.item_id,c.value=t.data.stok_kodu,p.value=t.data.stok_adi,M.value=!0)},Ce=async t=>{try{const i=await b.get("/api/satinalmasorgu",{params:{item_id:t}});G.value=i.data.satinalma}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},Fe=async t=>{try{const i=await b.get("/api/taleplersorgu",{params:{item_id:t}});B.value=i.data.talepler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},le=async t=>{try{const i=await b.get("/api/digerdepobakiyeleri",{params:{item_id:t}});P.value=i.data.bakiyeler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}};return(t,i)=>{const d=Le("DxGroupPanel");return q(),Ye(Ue,null,[e(rt,{class:"mt-0 pa-0"},{default:r(()=>[e(lt,{class:"mt-0 pa-2"},{default:r(()=>[e(f,{cols:"12",class:"mt-2 pa-1 pe-2 pt-0"},{default:r(()=>[s("div",ot,[e(a($e),{"data-source":Me,width:200,target:"#gridM",onItemClick:ze}),(q(),re(a(k),{id:"gridM",ref_key:"dataGridRefM",ref:x,key:me.value,class:"grid","data-source":O.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":"true","row-alternation-enabled":"true","min-width":200,"allow-column-reordering":"true","column-auto-width":"true","allow-column-resizing":"true",onContextMenuPreparing:Re,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%",onCellPrepared:Ae,onExporting:Ee,onCellClick:Ke},{filtreTarih1:r(()=>[s("div",nt,[e(a(oe),{label:"Başlangıç Tarihi",width:"150","label-mode":"floating",value:T.value,"onUpdate:value":i[1]||(i[1]=o=>T.value=o),type:"date"},null,8,["value"])])]),filtreTarih2:r(()=>[s("div",st,[e(a(oe),{label:"Bitiş Tarihi",width:"150","label-mode":"floating",value:S.value,"onUpdate:value":i[2]||(i[2]=o=>S.value=o),type:"date"},null,8,["value"])])]),filtreSiparis:r(()=>[s("div",dt,[e(a(ne),{"data-source":X.value,value:L.value,"onUpdate:value":i[3]||(i[3]=o=>L.value=o),label:"Sipariş","label-mode":"floating","display-expr":"siparis_belge_no","value-expr":"siparis_belge_no",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"siparis_belge_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:r(()=>[s("div",ut,[e(a(ne),{"data-source":ee.value,value:Y.value,"onUpdate:value":i[4]||(i[4]=o=>Y.value=o),label:"Cari","label-mode":"floating","display-expr":"cari_ad","value-expr":"cari_ad",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"cari_ad","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:r(()=>[e(a(j),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:r(()=>i[10]||(i[10]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-notequal"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),yenileTemplate:r(()=>[e(a(j),{id:"sayim",icon:"refresh","styling-mode":"text",hint:"Yenile"})]),menuYenileTemplate:r(()=>i[11]||(i[11]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-refresh"}),s("span",{style:{"margin-inline-start":"8px"}},"Yenile")],-1)])),filtreGosterTemplate:r(()=>[e(a(j),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:r(()=>i[12]||(i[12]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-filter"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:r(()=>[e(a(l),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":Ie}),e(a(l),{"data-field":"satinalmapersoneli",caption:"SATICI",visible:!0,width:80}),e(a(l),{"data-field":"mrk_adi",caption:"İŞ MERKEZİ",visible:!0,width:150}),e(a(l),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:80}),e(a(l),{"data-field":"stok_kodu",caption:"STOK KODU","data-type":"string",visible:!0,width:130}),e(a(l),{"data-field":"stok_adi",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),e(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"ihtiyac",caption:"İHTİYAÇ","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"diger_depo",caption:"DİĞER DEPO","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),e(a(l),{"data-field":"satinalma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"talepler",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"dongu",caption:"KAÇ İŞEMRİNDE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(q(),re(a(et),{key:g.value,visible:g.value,"onUpdate:visible":i[0]||(i[0]=o=>g.value=o),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),e(a(He),{visible:!0}),e(a(We),{visible:!0}),e(a(qe),{visible:V.value},null,8,["visible"]),e(a(je),{visible:!0,width:240}),e(a(D),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(a(Je),{mode:"multiple"}),e(a(Ze),{enabled:!0,"allow-export-selected-data":!1}),e(a(Qe),null,{default:r(()=>[e(a(y),{location:"before","locate-in-menu":"auto",template:"filtreTarih1"}),e(a(y),{location:"before","locate-in-menu":"auto",template:"filtreTarih2"}),e(a(y),{location:"before","locate-in-menu":"auto",template:"filtreSiparis"}),e(a(y),{location:"before","locate-in-menu":"auto",template:"filtreCari"}),e(a(y),{location:"before","locate-in-menu":"auto",template:"yenileTemplate","menu-item-template":"menuYenileTemplate",onClick:ae}),e(a(y),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:Se}),e(a(y),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:Te}),e(a(y),{name:"exportButton"}),e(a(y),{name:"searchPanel"})]),_:1}),e(a(J),null,{default:r(()=>[e(a(Xe),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:t.right},null,8,["alignment"]),e(a(A),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:t.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))])]),_:1})]),_:1})]),_:1}),e(a(R),{visible:I.value,"onUpdate:visible":i[5]||(i[5]=o=>I.value=o),"hide-on-outside-click":!0,title:"Stok Detayları","show-close-button":!1,"show-title":!0,width:600,height:500},{default:r(()=>[e(f,{class:"text-center"},{default:r(()=>[s("h2",null,v(c.value),1),s("h2",null,v(p.value),1)]),_:1}),i[13]||(i[13]=s("br",null,null,-1)),e(E,null,{default:r(()=>[e(f,null,{default:r(()=>[e(a(k),{id:"gridBakiyeler",ref_key:"dataGridRefB",ref:ce,"data-source":P.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",onCellPrepared:t.onCellPreparedB,"row-alternation-enabled":!0},{default:r(()=>[e(a(l),{"data-field":"whouse_id",caption:"DEPO ID",width:80,visible:!1}),e(a(l),{"data-field":"whouse_code",caption:"DEPO KODU",width:100}),e(a(l),{"data-field":"description",caption:"DEPO ADI"}),e(a(l),{"data-field":"qty_prm",caption:"STOK",width:100,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(d,{visible:!1}),e(a(D),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source","onCellPrepared"])]),_:1})]),_:1})]),_:1,__:[13]},8,["visible"]),e(a(R),{visible:F.value,"onUpdate:visible":i[6]||(i[6]=o=>F.value=o),"hide-on-outside-click":!0,title:"Taleplerin Detayı","show-close-button":!1,"show-title":!0,width:800,height:500},{default:r(()=>[e(f,{class:"text-center"},{default:r(()=>[s("h2",null,v(c.value),1),s("h2",null,v(p.value),1)]),_:1}),i[14]||(i[14]=s("br",null,null,-1)),e(E,null,{default:r(()=>[e(f,null,{default:r(()=>[e(a(k),{id:"gridTalepler",ref_key:"dataGridRefT",ref:ve,"data-source":B.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(a(l),{"data-field":"talep_no",caption:"TALEP NO",width:100}),e(a(l),{"data-field":"talep_tarihi",caption:"TALEP TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"onay_tarihi",caption:"ONAY TARİHİ","data-type":"date",width:120,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"kaynak",caption:"KAYNAK",width:150}),e(a(l),{"data-field":"tipi",caption:"TİPİ",width:100}),e(a(l),{"data-field":"miktar",caption:"MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(d,{visible:!1}),e(a(D),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[14]},8,["visible"]),e(a(R),{visible:C.value,"onUpdate:visible":i[7]||(i[7]=o=>C.value=o),"hide-on-outside-click":!0,title:"Satınalma Sipariş Detayı","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(f,{class:"text-center"},{default:r(()=>[s("h2",null,v(c.value),1),s("h2",null,v(p.value),1)]),_:1}),i[15]||(i[15]=s("br",null,null,-1)),e(E,null,{default:r(()=>[e(f,null,{default:r(()=>[e(a(k),{id:"gridSatinalma",ref_key:"dataGridRefS",ref:fe,"data-source":G.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(a(l),{"data-field":"BELGE_NO",caption:"BELGE NO",width:100}),e(a(l),{"data-field":"BELGE_TARIHI",caption:"BELGE TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"satici_adi",caption:"SATICI",width:100}),e(a(l),{"data-field":"sip_olusturan",caption:"OLUŞTURAN",width:100}),e(a(l),{"data-field":"CARI_AD",caption:"CARİ ADI",width:280}),e(a(l),{"data-field":"sevk_tarihi",caption:"SEVK TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"teslim_tarihi",caption:"TESLİM TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"teslim_tarihi_not",caption:"T.T. NOT",width:80}),e(a(l),{"data-field":"MIKTAR",caption:"SPR. MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"BIRIM_KOD",caption:"BİRİM",width:60}),e(a(l),{"data-field":"KALAN_MIKTAR",caption:"KALAN MİKTAR",width:100,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(d,{visible:!1}),e(a(D),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[15]},8,["visible"]),e(a(R),{visible:K.value,"onUpdate:visible":i[8]||(i[8]=o=>K.value=o),"hide-on-outside-click":!0,title:"Açılmış İş Emirleri","show-close-button":!1,"show-title":!0,width:1e3,height:600},{default:r(()=>[e(f,{class:"text-center"},{default:r(()=>[s("h2",null,v(c.value),1),s("h2",null,v(p.value),1)]),_:1}),i[16]||(i[16]=s("br",null,null,-1)),e(E,null,{default:r(()=>[e(f,null,{default:r(()=>[e(a(k),{id:"gridAcilmisEmirler",ref:"dataGridRefA","data-source":N.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%",height:400},{default:r(()=>[e(a(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(a(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:270,visible:!0}),e(a(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(a(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(a(l),{"data-field":"stok_id",caption:"STOK ID",width:100,visible:!1}),e(a(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:120,visible:!1}),e(a(l),{"data-field":"stok_adi",caption:"STOK ADI",visible:!1}),e(a(l),{"data-field":"planlanan_bitis_tarihi",caption:"PLN BTŞ","data-type":"date",width:110,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MKTRI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"kalan_miktar",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(J),null,{default:r(()=>[e(a(A),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":te},null,8,["alignment"]),e(a(A),{"align-by-column":!0,column:"kalan_miktar","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":te},null,8,["alignment"])]),_:1}),e(d,{visible:!1}),e(a(D),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[16]},8,["visible"]),e(a(R),{visible:M.value,"onUpdate:visible":i[9]||(i[9]=o=>M.value=o),"hide-on-outside-click":!0,title:"Kullanan İş Emirleri","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(f,{class:"text-center"},{default:r(()=>[s("h2",null,v(c.value),1),s("h2",null,v(p.value),1)]),_:1}),i[17]||(i[17]=s("br",null,null,-1)),e(E,null,{default:r(()=>[e(f,null,{default:r(()=>[e(a(k),{id:"gridEmirler",ref_key:"dataGridRefE",ref:pe,"data-source":Pe(),"show-borders":!0,"column-auto-width":!1,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(a(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(a(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:150,visible:!0}),e(a(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(a(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(a(l),{"data-field":"stok_id",caption:"STOK ID",visible:!1,width:50}),e(a(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:150}),e(a(l),{"data-field":"stok_adi",caption:"STOK ADI",width:t.auto},null,8,["width"]),e(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(a(l),{"data-field":"kalan",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(a(J),null,{default:r(()=>[e(a(A),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"]),e(a(A),{"align-by-column":!0,column:"kalan","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"])]),_:1}),e(d,{visible:!1}),e(a(D),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[17]},8,["visible"])],64)}}});export{Bt as default};
