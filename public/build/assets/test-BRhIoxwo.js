import{D as po}from"./check-box-Blxr-MXG.js";import{D as Rt}from"./date-box-CeivVpPy.js";import{E as ho,p as an,a as U}from"./editor-C7QDOJBp.js";import{df as at,d0 as re,dR as Ot,d7 as $,d9 as we,dD as xe,da as he,a_ as fe,d8 as ne,d3 as st,d4 as se,dg as Lt,d5 as Ce,dj as ke,dh as go,d1 as Nt,dL as fo,e2 as pe,dv as mo,dp as _o,e3 as yo,db as vo,eo as To,di as Re,d as j,r as ce,c as bo,e as te,b as J,f as Oe,L as wo,u as Q,F as So,aB as Co,a as ko,o as Do,l as Io}from"./main-CqlTUwGQ.js";import{bf as Eo,W as ht,l as Se,r as Z,h as Ft,e as de,N as gt,T as Ye,c as me,a as Ge,P as sn,B as Le,C as xo,d as lt,i as Ao,V as Po,aV as Mo,E as Me,bg as Bt,aC as Ro,g as Te,a9 as Oo,b3 as Ht,aB as Vt,R as Xe,a5 as Lo,Y as jt,o as No,n as Fo}from"./overlay-BhkxhbzC.js";import{ap as Bo,S as Ho,ar as Vo,c as jo,as as Wo,at as Uo,C as Ko,au as ft,P as zo,Y as Go,A as ln,q as ut,s as $o,D as qo,a4 as Zo,h as Yo}from"./m_select_box-CBeGJAQ-.js";import{a0 as Xo,g as be,a1 as Qo,_ as Jo,m as ea,c as ta,a as na,a2 as ia,D as ra,d as oa,b as aa,s as sa,r as la,a3 as ua,e as da,f as ca,h as Qe,a4 as pa,i as ha,G as ga,j as Ae,l as fa,q as ma,a5 as _a,t as ya,u as Ue,v as va,w as Ta,x as ba,y as wa,z as Ee,A as $e,a6 as Sa,a7 as Ca,B as ka,E as Da,F as Ia,H as Ea,I as xa,J as Aa,L as Pa,M as Ma,U as Ra,V as Oa,W as La,k as Wt,a8 as Na,a9 as Fa,aa as Ba,K as Ha,N as Va,ab as ja,P as Wa,X as Ua,Y as je,Z as Ka}from"./m_row_dragging-D1DCBETe.js";import{a as za}from"./m_utils.scroll-LVmpJpQq.js";import"./list.edit.decorator.swipe-DFl4Tt7r.js";import{i as Ga}from"./themes-ZcQ-fVem.js";import{g as $a}from"./_commonjsHelpers-D6-XlEtG.js";import{D as Ut}from"./number-box-Dv7n7skC.js";import{D as Je}from"./select-box-DExX9uVV.js";import"./m_popover-Dvwi9npj.js";const qa={create:C=>({NotifyTaskCreated:(e,a,p)=>{C._onRecordInserted("tasks",e,a)},NotifyTaskRemoved:(e,a,p)=>{C._onRecordRemoved("tasks",e,p)},NotifyTaskUpdated:(e,a,p)=>{C._onRecordUpdated("tasks",e,a)},NotifyParentTaskUpdated:(e,a)=>{C._onParentTaskUpdated(e)},NotifyDependencyInserted:(e,a,p)=>{C._onRecordInserted("dependencies",e,a)},NotifyDependencyRemoved:(e,a,p)=>{C._onRecordRemoved("dependencies",e,p)},NotifyResourceCreated:(e,a,p)=>{C._onRecordInserted("resources",e,a)},NotifyResourceRemoved:(e,a,p)=>{C._onRecordRemoved("resources",e,p)},NotifyResourceAssigned:(e,a,p)=>{C._onRecordInserted("resourceAssignments",e,a)},NotifyResourceUnassigned:(e,a,p)=>{C._onRecordRemoved("resourceAssignments",e,p)},NotifyParentDataRecalculated:e=>{C._onParentTasksRecalculated(e)},NotifyTaskCreating:e=>{C._actionsManager.raiseInsertingAction("tasks",e)},NotifyTaskRemoving:e=>{C._actionsManager.raiseDeletingAction("tasks",e)},NotifyTaskUpdating:e=>{C._actionsManager.raiseUpdatingAction("tasks",e)},NotifyTaskMoving:e=>{C._actionsManager.raiseUpdatingAction("tasks",e,C._actionsManager.getTaskMovingAction())},NotifyTaskEditDialogShowing:e=>{C._actionsManager.raiseTaskEditDialogShowingAction(e)},NotifyResourceManagerDialogShowing:e=>{C._actionsManager.raiseResourceManagerDialogShowingAction(e)},NotifyDependencyInserting:e=>{C._actionsManager.raiseInsertingAction("dependencies",e)},NotifyDependencyRemoving:e=>{C._actionsManager.raiseDeletingAction("dependencies",e)},NotifyResourceCreating:e=>{C._actionsManager.raiseInsertingAction("resources",e)},NotifyResourceRemoving:e=>{C._actionsManager.raiseDeletingAction("resources",e)},NotifyResourceAssigning:e=>{C._actionsManager.raiseInsertingAction("resourceAssignments",e)},NotifyResourceUnassigning:e=>{C._actionsManager.raiseDeletingAction("resourceAssignments",e)},NotifyScaleCellPrepared:e=>{C._actionsManager.raiseScaleCellPreparedAction(e)},NotifyGanttViewUpdated:()=>{C._onGanttViewCoreUpdated()}})};class un extends Eo{constructor(e,a,p){super(),this._optionName=e,this._getLoadPanel=a,this._dataSourceChangedCallback=p}insert(e,a,p){this._showLoadPanel(),this._getStore().insert(e).done((y=>{a&&a(y),this._hideLoadPanel()})).fail((y=>{p&&p(y),this._hideLoadPanel()}))}update(e,a,p,y){this._showLoadPanel(),this._getStore().update(e,a).done(((S,w)=>{p&&p(S,w),this._hideLoadPanel()})).fail((S=>{y&&y(S),this._hideLoadPanel()}))}remove(e,a,p){this._showLoadPanel(),this._getStore().remove(e).done((y=>{a&&a(y),this._hideLoadPanel()})).fail((y=>{p&&p(y),this._hideLoadPanel()}))}_dataSourceChangedHandler(e,a){this._dataSourceChangedCallback(this._optionName,e)}_dataSourceOptions(){return{paginate:!1}}_dataSourceLoadingChangedHandler(e){e&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}_showLoadPanel(){var e;(e=this._getLoadPanel())===null||e===void 0||e.show()}_hideLoadPanel(){var e;(e=this._getLoadPanel())===null||e===void 0||e.hide()}_getStore(){return this._dataSource.store()}_getItems(){return this._getStore()._array||this._dataSource.items()}_reloadDataSource(){return this._dataSource.load()}dispose(){this._disposeDataSource()}_optionChanged(e){e.name}}un.include(Bo);const Kt=gt(),Za="dx-splitter-bar";class Ya extends ht{_init(){super._init();const e=new at().toString();this.SPLITTER_POINTER_DOWN_EVENT_NAME=Se(Ye.down,"dxSplitterResizing"+e),this.SPLITTER_POINTER_MOVE_EVENT_NAME=Se(Ye.move,"dxSplitterResizing"+e),this.SPLITTER_POINTER_UP_EVENT_NAME=Se(Ye.up,"dxSplitterResizing"+e)}_initMarkup(){super._initMarkup(),this._initActions(),this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this.$element().addClass("dx-splitter-wrapper").addClass("dx-splitter-initial"),this._$splitterBorder=Z("<div>").addClass("dx-splitter-border").appendTo(this.$element()),this._$splitter=Z("<div>").addClass(Za).addClass("dx-splitter-inactive").appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){const e=Ft.getDocument();de.on(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME,this._onMouseDownHandler.bind(this)),de.on(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME,this._onMouseMoveHandler.bind(this)),de.on(e,this.SPLITTER_POINTER_UP_EVENT_NAME,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){const e=Ft.getDocument();de.off(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME),de.off(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME),de.off(e,this.SPLITTER_POINTER_UP_EVENT_NAME)}_dimensionChanged(e){(!e||e!=="height")&&(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(e){e.preventDefault(),this._offsetX=e.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?e.pageX-this._$splitterBorder.offset().left:0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass("dx-splitter-initial"),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(e){this._isSplitterActive&&this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(e),needUpdatePanels:!0})}_onMouseUpHandler(){this._isSplitterActive&&(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(e){let a=e.pageX-this._getContainerLeftOffset()-this._offsetX;return a=Math.max(0-this._getSplitterOffset(),a),a=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),a),a}_getContainerLeftOffset(){let e=this._$container.offset().left;if(Kt){const a=Kt.getComputedStyle(this._$container.get(0)),p=parseFloat(a.paddingLeft)||0,y=parseFloat(a.borderLeftWidth)||0;e+=p+y}return e}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}getSplitterBorderElement(){return this._$splitterBorder}_toggleActive(e){this.$element().toggleClass("dx-splitter-inactive",!e),this._$splitter.toggleClass("dx-splitter-inactive",!e),this._isSplitterActive=e,this._actions.onActiveStateChanged({isActive:e})}toggleDisabled(e){this.$element().toggleClass("dx-state-disabled",e),this._$splitter.toggleClass("dx-state-disabled",e)}isSplitterMoved(){return!this.$element().hasClass("dx-splitter-initial")}disableSplitterCalculation(e){this._isSplitterCalculationDisabled=e}_setSplitterPositionLeft(){let{splitterPositionLeft:e=null,needUpdatePanels:a=!1,usePercentagePanelsWidth:p=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=e||this._getLeftPanelWidth()-this._getSplitterOffset();const y=e+this._getSplitterOffset(),S=this._containerWidth-y;this._isSplitterCalculationDisabled||this.$element().css("left",e),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(y);const w=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));a&&this._actions.onApplyPanelSize({leftPanelWidth:p?`${this._leftPanelPercentageWidth}%`:y,rightPanelWidth:p?`${w}%`:S})}_optionChanged(e){switch(e.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(e.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[e.name]=this._createActionByOption(e.name);break;default:super._optionChanged(e)}}_convertToPercentage(e){return e/this._$container.get(0).clientWidth*100}_convertToPixels(e){return e/100*this._$container.get(0).clientWidth}}const ie={onContextMenuPreparing:"onContextMenuPreparing",onCustomCommand:"onCustomCommand",onDependencyDeleted:"onDependencyDeleted",onDependencyDeleting:"onDependencyDeleting",onDependencyInserted:"onDependencyInserted",onDependencyInserting:"onDependencyInserting",onResourceAssigned:"onResourceAssigned",onResourceAssigning:"onResourceAssigning",onResourceDeleted:"onResourceDeleted",onResourceDeleting:"onResourceDeleting",onResourceInserted:"onResourceInserted",onResourceInserting:"onResourceInserting",onResourceManagerDialogShowing:"onResourceManagerDialogShowing",onResourceUnassigned:"onResourceUnassigned",onResourceUnassigning:"onResourceUnassigning",onSelectionChanged:"onSelectionChanged",onTaskClick:"onTaskClick",onTaskDblClick:"onTaskDblClick",onTaskDeleted:"onTaskDeleted",onTaskDeleting:"onTaskDeleting",onTaskEditDialogShowing:"onTaskEditDialogShowing",onTaskInserted:"onTaskInserted",onTaskInserting:"onTaskInserting",onTaskMoving:"onTaskMoving",onTaskUpdated:"onTaskUpdated",onTaskUpdating:"onTaskUpdating",onScaleCellPrepared:"onScaleCellPrepared"};class Xa{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this._customFieldsManager=e._customFieldsManager}_createActionByOption(e){return this._gantt._createActionByOption(e)}_getTaskData(e){return this._gantt.getTaskData(e)}_convertCoreToMappedData(e,a){return this._mappingHelper.convertCoreToMappedData(e,a)}_convertMappedToCoreData(e,a){return this._mappingHelper.convertMappedToCoreData(e,a)}_convertMappedToCoreFields(e,a){return this._mappingHelper.convertMappedToCoreFields(e,a)}_convertCoreToMappedFields(e,a){return this._mappingHelper.convertCoreToMappedFields(e,a)}_saveCustomFieldsDataToCache(e,a){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._customFieldsManager.saveCustomFieldsDataToCache(e,a,p,y)}createTaskDblClickAction(){this._taskDblClickAction=this._createActionByOption(ie.onTaskDblClick)}taskDblClickAction(e){this._taskDblClickAction||this.createTaskDblClickAction(),this._taskDblClickAction(e)}raiseTaskDblClickAction(e,a){const p={cancel:!1,data:this._getTaskData(e),event:a,key:e};return this.taskDblClickAction(p),!p.cancel}createTaskClickAction(){this._taskClickAction=this._createActionByOption(ie.onTaskClick)}taskClickAction(e){this._taskClickAction||this.createTaskClickAction(),this._taskClickAction(e)}raiseTaskClickAction(e,a){const p={key:e,event:a,data:this._getTaskData(e)};this.taskClickAction(p)}createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption(ie.onSelectionChanged)}selectionChangedAction(e){this._selectionChangedAction||this.createSelectionChangedAction(),this._selectionChangedAction(e)}raiseSelectionChangedAction(e){this.selectionChangedAction({selectedRowKey:e})}createCustomCommandAction(){this._customCommandAction=this._createActionByOption(ie.onCustomCommand)}customCommandAction(e){this._customCommandAction||this.createCustomCommandAction(),this._customCommandAction(e)}raiseCustomCommand(e){this.customCommandAction({name:e})}createContextMenuPreparingAction(){this._contextMenuPreparingAction=this._createActionByOption(ie.onContextMenuPreparing)}contextMenuPreparingAction(e){this._contextMenuPreparingAction||this.createContextMenuPreparingAction(),this._contextMenuPreparingAction(e)}raiseContextMenuPreparing(e){this.contextMenuPreparingAction(e)}_getInsertingAction(e){switch(e){case"tasks":return this._getTaskInsertingAction();case"dependencies":return this._getDependencyInsertingAction();case"resources":return this._getResourceInsertingAction();case"resourceAssignments":return this._getResourceAssigningAction()}return()=>{}}raiseInsertingAction(e,a){const p=this._getInsertingAction(e);if(p){const y={cancel:!1,values:this._convertCoreToMappedData(e,a.values)};p(y),a.cancel=y.cancel,re(a.values,this._convertMappedToCoreData(e,y.values)),e==="tasks"&&this._saveCustomFieldsDataToCache("gantt_new_task_key",y.values)}}createTaskInsertingAction(){this._taskInsertingAction=this._createActionByOption(ie.onTaskInserting)}taskInsertingAction(e){this._getTaskInsertingAction()(e)}_getTaskInsertingAction(){return this._taskInsertingAction||this.createTaskInsertingAction(),this._taskInsertingAction}createDependencyInsertingAction(){this._dependencyInsertingAction=this._createActionByOption(ie.onDependencyInserting)}dependencyInsertingAction(e){this._getDependencyInsertingAction()(e)}_getDependencyInsertingAction(){return this._dependencyInsertingAction||this.createDependencyInsertingAction(),this._dependencyInsertingAction}createResourceInsertingAction(){this._resourceInsertingAction=this._createActionByOption(ie.onResourceInserting)}resourceInsertingAction(e){this._getResourceInsertingAction()(e)}_getResourceInsertingAction(){return this._resourceInsertingAction||this.createResourceInsertingAction(),this._resourceInsertingAction}createResourceAssigningAction(){this._resourceAssigningAction=this._createActionByOption(ie.onResourceAssigning)}resourceAssigningAction(e){this._getResourceAssigningAction()(e)}_getResourceAssigningAction(){return this._resourceAssigningAction||this.createResourceAssigningAction(),this._resourceAssigningAction}_getInsertedAction(e){switch(e){case"tasks":return this._getTaskInsertedAction();case"dependencies":return this._getDependencyInsertedAction();case"resources":return this._getResourceInsertedAction();case"resourceAssignments":return this._getResourceAssignedAction()}return()=>{}}raiseInsertedAction(e,a,p){const y=this._getInsertedAction(e);y&&y({values:a,key:p})}createTaskInsertedAction(){this._taskInsertedAction=this._createActionByOption(ie.onTaskInserted)}taskInsertedAction(e){this._getTaskInsertedAction()(e)}_getTaskInsertedAction(){return this._taskInsertedAction||this.createTaskInsertedAction(),this._taskInsertedAction}createDependencyInsertedAction(){this._dependencyInsertedAction=this._createActionByOption(ie.onDependencyInserted)}dependencyInsertedAction(e){this._getDependencyInsertedAction()(e)}_getDependencyInsertedAction(){return this._dependencyInsertedAction||this.createDependencyInsertedAction(),this._dependencyInsertedAction}createResourceInsertedAction(){this._resourceInsertedAction=this._createActionByOption(ie.onResourceInserted)}resourceInsertedAction(e){this._getResourceInsertedAction()(e)}_getResourceInsertedAction(){return this._resourceInsertedAction||this.createResourceInsertedAction(),this._resourceInsertedAction}createResourceAssignedAction(){this._resourceAssignedAction=this._createActionByOption(ie.onResourceAssigned)}resourceAssignedAction(e){this._getResourceAssignedAction()(e)}_getResourceAssignedAction(){return this._resourceAssignedAction||this.createResourceAssignedAction(),this._resourceAssignedAction}_getDeletingAction(e){switch(e){case"tasks":return this._getTaskDeletingAction();case"dependencies":return this._getDependencyDeletingAction();case"resources":return this._getResourceDeletingAction();case"resourceAssignments":return this._getResourceUnassigningAction()}return()=>{}}raiseDeletingAction(e,a){const p=this._getDeletingAction(e);if(p){const y={cancel:!1,key:a.key,values:this._convertCoreToMappedData(e,a.values)};p(y),a.cancel=y.cancel}}createTaskDeletingAction(){this._taskDeletingAction=this._createActionByOption(ie.onTaskDeleting)}taskDeletingAction(e){this._getTaskDeletingAction()(e)}_getTaskDeletingAction(){return this._taskDeletingAction||this.createTaskDeletingAction(),this._taskDeletingAction}createDependencyDeletingAction(){this._dependencyDeletingAction=this._createActionByOption(ie.onDependencyDeleting)}dependencyDeletingAction(e){this._getDependencyDeletingAction()(e)}_getDependencyDeletingAction(){return this._dependencyDeletingAction||this.createDependencyDeletingAction(),this._dependencyDeletingAction}createResourceDeletingAction(){this._resourceDeletingAction=this._createActionByOption(ie.onResourceDeleting)}resourceDeletingAction(e){this._getResourceDeletingAction()(e)}_getResourceDeletingAction(){return this._resourceDeletingAction||this.createResourceDeletingAction(),this._resourceDeletingAction}createResourceUnassigningAction(){this._resourceUnassigningAction=this._createActionByOption(ie.onResourceUnassigning)}resourceUnassigningAction(e){this._getResourceUnassigningAction()(e)}_getResourceUnassigningAction(){return this._resourceUnassigningAction||this.createResourceUnassigningAction(),this._resourceUnassigningAction}_getDeletedAction(e){switch(e){case"tasks":return this._getTaskDeletedAction();case"dependencies":return this._getDependencyDeletedAction();case"resources":return this._getResourceDeletedAction();case"resourceAssignments":return this._getResourceUnassignedAction()}return()=>{}}raiseDeletedAction(e,a,p){const y=this._getDeletedAction(e);y&&y({key:a,values:p})}createTaskDeletedAction(){this._taskDeletedAction=this._createActionByOption(ie.onTaskDeleted)}taskDeletedAction(e){this._getTaskDeletedAction()(e)}_getTaskDeletedAction(){return this._taskDeletedAction||this.createTaskDeletedAction(),this._taskDeletedAction}createDependencyDeletedAction(){this._dependencyDeletedAction=this._createActionByOption(ie.onDependencyDeleted)}dependencyDeletedAction(e){this._getDependencyDeletedAction()(e)}_getDependencyDeletedAction(){return this._dependencyDeletedAction||this.createDependencyDeletedAction(),this._dependencyDeletedAction}createResourceDeletedAction(){this._resourceDeletedAction=this._createActionByOption(ie.onResourceDeleted)}resourceDeletedAction(e){this._getResourceDeletedAction()(e)}_getResourceDeletedAction(){return this._resourceDeletedAction||this.createResourceDeletedAction(),this._resourceDeletedAction}createResourceUnassignedAction(){this._resourceUnassignedAction=this._createActionByOption(ie.onResourceUnassigned)}resourceUnassignedAction(e){this._getResourceUnassignedAction()(e)}_getResourceUnassignedAction(){return this._resourceUnassignedAction||this.createResourceUnassignedAction(),this._resourceUnassignedAction}_getUpdatingAction(e){return e==="tasks"?this._getTaskUpdatingAction():()=>{}}raiseUpdatingAction(e,a,p){if(p=p||this._getUpdatingAction(e),p){const y=e==="tasks",S={cancel:!1,key:a.key,newValues:this._convertCoreToMappedData(e,a.newValues),values:y?this._getTaskData(a.key):this._convertCoreToMappedData(e,a.values)};if(y&&this._customFieldsManager.cache.hasData(S.key)&&this._customFieldsManager.addCustomFieldsDataFromCache(S.key,S.newValues),p(S),a.cancel=S.cancel,re(a.newValues,this._convertMappedToCoreData(e,S.newValues)),y)if(S.cancel)this._customFieldsManager.resetCustomFieldsDataCache(S.key);else{const w=!Object.keys(a.newValues).length;this._saveCustomFieldsDataToCache(S.key,S.newValues,w)}}}createTaskUpdatingAction(){this._taskUpdatingAction=this._createActionByOption(ie.onTaskUpdating)}taskUpdatingAction(e){this._getTaskUpdatingAction()(e)}_getTaskUpdatingAction(){return this._taskUpdatingAction||this.createTaskUpdatingAction(),this._taskUpdatingAction}_getUpdatedAction(e){return e==="tasks"?this._getTaskUpdatedAction():()=>{}}raiseUpdatedAction(e,a,p){const y=this._getUpdatedAction(e);y&&y({values:a,key:p})}createTaskUpdatedAction(){this._taskUpdatedAction=this._createActionByOption(ie.onTaskUpdated)}taskUpdatedAction(e){this._getTaskUpdatedAction()(e)}_getTaskUpdatedAction(){return this._taskUpdatedAction||this.createTaskUpdatedAction(),this._taskUpdatedAction}createTaskEditDialogShowingAction(){this._taskEditDialogShowingAction=this._createActionByOption(ie.onTaskEditDialogShowing)}taskEditDialogShowingAction(e){this._getTaskEditDialogShowingAction()(e)}_getTaskEditDialogShowingAction(){return this._taskEditDialogShowingAction||this.createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}raiseTaskEditDialogShowingAction(e){const a=this._getTaskEditDialogShowingAction();if(a){const p={cancel:!1,key:e.key,values:this._convertCoreToMappedData("tasks",e.values),readOnlyFields:this._convertCoreToMappedFields("tasks",e.readOnlyFields),hiddenFields:this._convertCoreToMappedFields("tasks",e.hiddenFields)};a(p),e.cancel=p.cancel,re(e.values,this._convertMappedToCoreData("tasks",p.values)),e.readOnlyFields=this._convertMappedToCoreFields("tasks",p.readOnlyFields),e.hiddenFields=this._convertMappedToCoreFields("tasks",p.hiddenFields)}}createResourceManagerDialogShowingAction(){this._resourceManagerDialogShowingAction=this._createActionByOption(ie.onResourceManagerDialogShowing)}resourceManagerDialogShowingAction(e){this._getResourceManagerDialogShowingAction()(e)}_getResourceManagerDialogShowingAction(){return this._resourceManagerDialogShowingAction||this.createResourceManagerDialogShowingAction(),this._resourceManagerDialogShowingAction}raiseResourceManagerDialogShowingAction(e){const a=this._getResourceManagerDialogShowingAction();if(a){const y={cancel:!1,values:e.values.resources.items.map((S=>this._convertMappedToCoreData("resources",S)))};a(y),e.cancel=y.cancel}}createTaskMovingAction(){this._taskMovingAction=this._createActionByOption(ie.onTaskMoving)}taskMovingAction(e){this.getTaskMovingAction()(e)}getTaskMovingAction(){return this._taskMovingAction||this.createTaskMovingAction(),this._taskMovingAction}getScaleCellPreparedAction(){return this._scaleCellPreparedAction||this.createScaleCellPreparedAction(),this._scaleCellPreparedAction}createScaleCellPreparedAction(){this._scaleCellPreparedAction=this._createActionByOption(ie.onScaleCellPrepared)}raiseScaleCellPreparedAction(e){const a=this.getScaleCellPreparedAction();if(a){const p={scaleIndex:e.scaleIndex,scaleType:this._getScaleType(e.scaleType),scaleElement:me(Z(e.scaleElement)),separatorElement:me(Z(e.separatorElement)),startDate:new Date(e.start),endDate:new Date(e.end)};a(p)}}_getScaleType(e){switch(e){case 0:return"minutes";case 1:return"hours";case 2:return"sixHours";case 3:return"days";case 4:return"weeks";case 5:return"months";case 6:return"quarters";case 7:return"years";case 8:return"fiveYears";default:return}}}class Qa{constructor(){this._cache={},this._timers={}}saveData(e,a,p){if(a){this._clearTimer(e);const y=this._getCache(e,!0);Ot(y,a,!0),p&&this._setExpireTimer(e,p)}}pullDataFromCache(e,a){const p=this._getCache(e);p&&Ot(a,p),this._onKeyExpired(e)}hasData(e){return!!this._cache[e]}resetCache(e){this._onKeyExpired(e)}_getCache(e,a){return!this._cache[e]&&a&&(this._cache[e]={}),this._cache[e]}_setExpireTimer(e,a){this._timers[e]=setTimeout((()=>{a(e,this._getCache(e)),this._onKeyExpired(e)}),200)}_onKeyExpired(e){this._clearCache(e),this._clearTimer(e)}_clearCache(e){delete this._cache[e]}_clearTimer(e){const a=this._timers;a&&a[e]&&(clearTimeout(a[e]),delete a[e])}}const ae={prepareMapHandler:C=>e=>Object.keys(C).reduce(((a,p)=>{const y=p==="key"?"id":p;return a[y]=C[p](e),a}),{}),prepareSetterMapHandler:C=>e=>Object.keys(C).reduce(((a,p)=>{const y=p==="key"?"id":p;return C[p](a,e[y]),a}),{}),compileGettersByOption(C){const e={};for(const a in C){const p=a.match(/(\w*)Expr/);p&&(e[p[1]]=he(C[p[0]]))}return e},compileSettersByOption(C){const e={};for(const a in C){const p=a.match(/(\w*)Expr/);p&&!we(C[p[0]])&&(e[p[1]]=xe(C[p[0]]))}return e},compileFuncSettersByOption(C){const e={};for(const a in C){const p=a.match(/(\w*)Expr/);p&&we(C[p[0]])&&(e[p[1]]=C[p[0]])}return e},getStoreObject(C,e){const a=ae.compileSettersByOption(C);return Object.keys(a).reduce(((p,y)=>(y!=="key"&&a[y](p,e[y]),p)),{})},getInvertedData(C,e){const a={};if(C)for(let p=0;p<C.length;p++){const y=C[p],S=e(y);a[S]=y}return a},getArrayFromOneElement:C=>C==null?[]:[C],getSelectionMode:C=>C?"single":"none",convertTreeToList(C,e){C!=null&&C.data&&C!==null&&C!==void 0&&C.visible&&e.push(C.data);for(let p=0;p<((a=C.children)===null||a===void 0?void 0:a.length);p++){var a;const y=C.children[p];ae.convertTreeToList(y,e)}},getAllParentNodesKeys(C,e){var a;C!=null&&C.data&&e.push(C.key),C!=null&&(a=C.parent)!==null&&a!==void 0&&a.data&&ae.getAllParentNodesKeys(C.parent,e)},getDefaultOptions:()=>({tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,showDependencies:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskInserted:null,onTaskDeleting:null,onTaskDeleted:null,onTaskUpdating:null,onTaskUpdated:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyInserted:null,onDependencyDeleting:null,onDependencyDeleted:null,onResourceInserting:null,onResourceInserted:null,onResourceDeleting:null,onResourceDeleted:null,onResourceAssigning:null,onResourceAssigned:null,onResourceUnassigning:null,onResourceUnassigned:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",scaleTypeRange:{min:"minutes",max:"years"},editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1,enablePredecessorGap:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,taskProgressTooltipContentTemplate:null,taskTimeTooltipContentTemplate:null,taskContentTemplate:null,rootValue:0,sorting:{ascendingText:$.format("dxGantt-sortingAscendingText"),descendingText:$.format("dxGantt-sortingDescendingText"),clearText:$.format("dxGantt-sortingClearText"),mode:"single",showSortIndexes:!1},filterRow:void 0,headerFilter:void 0,rtlEnabled:!1})};class Ja{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this.cache=new Qa}_getTaskCustomFields(){const e=this._gantt.option("columns"),a=e&&e.map((y=>y.dataField)),p=this._mappingHelper.getTaskMappedFieldNames();return a?a.filter((y=>p.indexOf(y)<0)):[]}_getCustomFieldsData(e){return this._getTaskCustomFields().reduce(((a,p)=>(e&&e[p]!==void 0&&(a[p]=e[p]),a)),{})}addCustomFieldsData(e,a){if(a){const p=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),y=he(this._gantt.option("tasks.keyExpr")),S=p&&p.filter((d=>y(d)===e))[0],w=this._getTaskCustomFields();if(S)for(let d=0;d<w.length;d++){const l=w[d];Object.prototype.hasOwnProperty.call(S,l)&&(a[l]=S[l])}}}appendCustomFields(e){const a=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),p=this._gantt._getTaskKeyGetter(),y=ae.getInvertedData(a,p);return e.reduce(((S,w)=>{const d=p(w),l=y[d];if(!l)S.push(w);else{const u={};for(const h in l)u[h]=Object.prototype.hasOwnProperty.call(w,h)?w[h]:l[h];S.push(u)}return S}),[])}addCustomFieldsDataFromCache(e,a){this.cache.pullDataFromCache(e,a)}saveCustomFieldsDataToCache(e,a){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const S=this._getCustomFieldsData(a);if(Object.keys(S).length>0){const w=(d,l)=>{const u=this._gantt._tasksOption;u&&l&&u.update(d,l,((h,f)=>{const s={};this.addCustomFieldsData(f,s),u._reloadDataSource().done((i=>{this._gantt._ganttTreeList.updateDataSource(i??u._dataSource,!1,y)}));const n=this._gantt.option("selectedRowKey");this._gantt._ganttView._selectTask(n),this._gantt._actionsManager.raiseUpdatedAction("tasks",s,f)}))};this.cache.saveData(e,S,p?w:null)}}resetCustomFieldsDataCache(e){this.cache.resetCache(e)}}function Ne(C,e){return(C||e)&&!(C&&e)}class es extends Ho{_supportedKeys(){const e=super._supportedKeys(),a=y=>this._list._keyboardHandler(y),p=this.option("rtlEnabled");return fe({},e,{backspace(y){if(!this._isCaretAtTheStart())return;this._processKeyboardEvent(y),this._isTagRemoved=!0;const S=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),S.length!==0&&(this._preserveFocusedTag=!0,this._removeTagElement(S),delete this._preserveFocusedTag)},upArrow:(y,S)=>y.altKey||!this._list?e.upArrow.call(this,y):a(S),downArrow:(y,S)=>y.altKey||!this._list?e.downArrow.call(this,y):a(S),del(y){if(!this._$focusedTag||!this._isCaretAtTheStart())return;this._processKeyboardEvent(y),this._isTagRemoved=!0;const S=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(S),delete this._preserveFocusedTag},enter(y,S){var w;const d=((w=this._list)===null||w===void 0?void 0:w.option("focusedElement"))!==null&&this.option("opened")===!0;if(this.option("acceptCustomValue")&&!d){y.preventDefault(),this._searchValue()!==""&&this._customItemAddedHandler(y);return}this.option("opened")&&(this._saveValueChangeEvent(y),a(S),y.preventDefault())},space(y,S){const w=this.option("opened"),d=this._shouldRenderSearchEvent();w&&!d&&(this._saveValueChangeEvent(y),a(S),y.preventDefault())},leftArrow(y){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&p&&!this._$focusedTag)return;y.preventDefault();const S=p?"next":"prev";this._moveTagFocus(S),this.option("multiline")||this._scrollContainer(S)},rightArrow(y){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!p&&!this._$focusedTag)return;y.preventDefault();const S=p?"prev":"next";this._moveTagFocus(S),!this.option("multiline")&&this._scrollContainer(S)}})}_processKeyboardEvent(e){e.preventDefault(),e.stopPropagation(),this._saveValueChangeEvent(e)}_isEmpty(){return this._getValue().length===0}_updateTagsContainer(e){this._$tagsContainer=e.addClass("dx-tag-container")}_allowSelectItemByTab(){return!1}_isCaretAtTheStart(){const e=Vo(this._input());return(e==null?void 0:e.start)===0&&e.end===0}_updateInputAriaActiveDescendant(e){this.setAria("activedescendant",e,this._input())}_moveTagFocus(e,a){if(!this._$focusedTag){const y=this._tagElements();this._$focusedTag=e==="next"?y.first():y.last(),this._toggleFocusClass(!0,this._$focusedTag),this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"));return}const p=this._$focusedTag[e](".dx-tag");p.length>0?(this._replaceFocusedTag(p),this._updateInputAriaActiveDescendant(p.attr("id"))):(a||e==="next"&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())}_replaceFocusedTag(e){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=e,this._toggleFocusClass(!0,this._$focusedTag)}_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)}_focusClassTarget(e){return e&&e.length&&e[0]!==this._focusTarget()[0]?e:super._focusClassTarget()}_getLabelContainer(){return this._$tagsContainer}_getFieldElement(){return this._input()}_scrollContainer(e){if(this.option("multiline")||!sn()||!this._$tagsContainer)return;const a=this._getScrollPosition(e);this._$tagsContainer.scrollLeft(a)}_getScrollPosition(e){return e==="start"||e==="end"?this._getBorderPosition(e):this._$focusedTag?this._getFocusedTagPosition(e):this._getBorderPosition("end")}_getBorderPosition(e){const{rtlEnabled:a}=this.option(),p=Ne(e==="end",a),y=a?-1:1;return Ne(p,!a)?0:y*(this._$tagsContainer.get(0).scrollWidth-Le(this._$tagsContainer))}_getFocusedTagPosition(e){const a=this.option("rtlEnabled"),p=Ne(e==="next",a);let{left:y}=this._$focusedTag.position(),S=this._$tagsContainer.scrollLeft();return p&&(y+=Le(this._$focusedTag,!0)-Le(this._$tagsContainer)),Ne(p,y<0)&&(S+=y),S}_setNextValue(){}_getDefaultOptions(){return re(super._getDefaultOptions(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:$.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})}_init(){super._init(),this._selectedItems=[],this._initSelectAllValueChangedAction()}_initActions(){super._initActions(),this._initMultiTagPreparingAction()}_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:e=>{this._multiTagPreparingHandler(e.args[0])},excludeValidators:["disabled","readOnly"]})}_multiTagPreparingHandler(e){const{length:a}=this._getValue();this.option("showMultiTagOnly")?e.text=$.getFormatter("dxTagBox-selected")(a):e.text=$.getFormatter("dxTagBox-moreSelected")(a-this.option("maxDisplayedTags")+1)}_initDynamicTemplates(){super._initDynamicTemplates(),this._templateManager.addDefaultTemplates({tag:new jo(((e,a)=>{const p=Z("<div>").addClass("dx-tag-content");Z("<span>").text(a.text??a).appendTo(p),Z("<div>").addClass("dx-tag-remove-button").appendTo(p),e.append(p)}),["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})}_toggleSubmitElement(e){e?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)}_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=Z("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))}_setSubmitValue(){if(!this.option("useSubmitBehavior"))return;const e=this._getValue(),a=[];for(let p=0,y=e.length;p<y;p++){const S=this._shouldUseDisplayValue(e[p]);a.push(Z("<option>").val(S?this._displayGetter(e[p]):e[p]).attr("selected","selected"))}this._getSubmitElement().empty().append(a)}_initMarkup(){this._tagElementsCache=Z();const e=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",e);const a={role:"application",roledescription:$.format("dxTagBox-ariaRoleDescription")};this.setAria(a,this.$element()),this._initTagTemplate(),super._initMarkup()}_getNewLabelId(e,a,p){return e?p?e===a?void 0:e.split(" ").filter((y=>y!==a)).join(" "):`${e} ${a}`:a}_updateElementAria(e,a){if(!e){this.setAria("labelledby",void 0,this.$element());return}const y=this.$element().attr("aria-labelledby"),S=this._getNewLabelId(y,e,a);this.setAria("labelledby",S,this.$element())}_render(){super._render(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")}_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")}_renderField(){const e=!ne(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",e).toggleClass("dx-tagbox-custom-template",!e),super._renderField()}_renderTagRemoveAction(){const e=this._createAction(this._removeTagHandler.bind(this)),a=Se(xo,"dxTagBoxTagRemove");de.off(this._$tagsContainer,a),de.on(this._$tagsContainer,a,".dx-tag-remove-button",(p=>{e({event:p})}))}_renderSingleLineScroll(){const e=Se("dxmousewheel",this.NAME),a=this.$element(),p=this.option("multiline");if(de.off(a,e),lt.real().deviceType!=="desktop"){this._$tagsContainer&&this._$tagsContainer.css("overflowX",p?"":"auto");return}p||de.on(a,e,this._tagContainerMouseWheelHandler.bind(this))}_tagContainerMouseWheelHandler(e){const a=this._$tagsContainer.scrollLeft(),p=-.3*e.delta;if(!Ao(e)&&za(this._$tagsContainer,p,!0))return this._$tagsContainer.scrollLeft(a+p),!1}_renderEvents(){super._renderEvents();const e=this._input(),a=Se("keydown",this.NAME);de.on(e,a,(p=>{const y=Po(p);!this._isControlKey(y)&&this._isEditable()&&this._clearTagFocus()}))}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-tagbox-popup-wrapper`}_renderInput(){super._renderInput(),this._renderPreventBlurOnInputClick()}_renderPreventBlurOnInputClick(){const e=Se("mousedown","dxTagBox");de.off(this._inputWrapper(),e),de.on(this._inputWrapper(),e,(a=>{a.target!==this._input()[0]&&this._isFocused()&&a.preventDefault()}))}_renderInputValueImpl(){return this._renderMultiSelect()}_loadInputValue(){return st()}_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")}_focusInHandler(e){this._preventNestedFocusEvent(e)||this._scrollContainer("end"),super._focusInHandler(e)}_renderInputValue(){return this.option("displayValue",this._searchValue()),super._renderInputValue(...arguments)}_restoreInputText(e){e||this._clearTextValue()}_focusOutHandler(e){this._preventNestedFocusEvent(e)||(this._clearTagFocus(),this._scrollContainer("start")),super._focusOutHandler(e)}_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")}_renderList(){super._renderList(),this._setListDataSourceFilter()}_canListHaveFocus(){const{applyValueMode:e}=this.option();return e==="useButtons"}_listConfig(){const e=this.option("showSelectionControls")?"all":"multiple";return re(super._listConfig(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:e,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:a=>{let{value:p}=a;this._selectAllValueChangeAction({value:p})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})}_renderMultiSelect(){const e=se();return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(e.resolve).fail(e.reject),e.promise()}_listItemClickHandler(e){!this.option("showSelectionControls")&&this._clearTextValue();const{applyValueMode:a}=this.option();a!=="useButtons"&&(super._listItemClickHandler(e),this._saveValueChangeEvent(void 0))}_shouldClearFilter(){const e=super._shouldClearFilter();return!this.option("showSelectionControls")&&e}_renderInputSize(){const e=this._input(),a=e.val(),p=Nt(a)&&a;let y="",S;const w=this.option("searchEnabled")||this.option("acceptCustomValue");if(p&&w){const d=Mo(e,a,{includePaddings:!0});d.insertAfter(e),y=Le(d)+5,d.remove()}else a||(S=1);e.css("width",y),e.attr("size",S??"")}_renderInputSubstitution(){super._renderInputSubstitution(),this._updateWidgetHeight()}_getValue(){const{value:e}=this.option();return e||[]}_multiTagRequired(){const e=this._getValue(),{maxDisplayedTags:a}=this.option();return ne(a)&&e.length>a}_renderMultiTag(e){const a=`dx-${new at}`,p=Z("<div>").attr("id",a).addClass("dx-tag").addClass("dx-tagbox-multi-tag"),y={multiTagElement:me(p),selectedItems:this.option("selectedItems")};if(this._multiTagPreparingAction(y),y.cancel)return!1;p.data("dxTagData",y.text),p.insertBefore(e),this._tagTemplate.render({model:y.text,container:me(p)});const S=y.text;return this._setTagAria(p,S),this._updateElementAria(a),p}_getFilter(e){const a=this._dataController.filter(),p=e.getCombinedFilter(this.option("valueExpr"),a),y=encodeURI(JSON.stringify(p)).length,S=this.option("maxFilterQueryLength");if(y<=S)return p;Me.log("W1019",S)}_getFilteredItems(e){var a,p;(a=this._loadFilteredItemsPromise)===null||a===void 0||a.reject();const y=new Wo(e),S=(p=this._list)===null||p===void 0?void 0:p.option("selectedItems"),w=!!S&&this._list._dataController.isLoaded(),d=S||this.option("selectedItems"),l=y.getLocalFilter(this._valueGetter),u=d.filter(l),h=u.length===e.length,f=se(),s=this._dataController;if(!this._dataSource)return f.resolve([]).promise();if((!this._isDataSourceChanged||w)&&h&&!this._isDataSourceOptionChanged)return f.resolve(u).promise();const{customQueryParams:n,expand:i,select:t}=s.loadOptions(),r=this._getFilter(y);return s.loadFromStore({filter:r,customQueryParams:n,expand:i,select:t}).done(((o,c)=>{if(this._isDataSourceChanged=!1,this._isDataSourceOptionChanged=!1,this._disposed){f.reject();return}const{data:g}=Uo(o,c),v=s.applyMapFunction(g);f.resolve(v.filter(l))})).fail(f.reject),this._loadFilteredItemsPromise=f,f.promise()}_createTagsData(e,a){const p=[],y={},S=this._valueGetterExpr()==="this",{acceptCustomValue:w}=this.option(),d={};a.forEach((h=>{const f=S?JSON.stringify(h):this._valueGetter(h);d[f]=h}));const l=[];e.forEach(((h,f)=>{const s=d[S?JSON.stringify(h):h];if(S&&!ne(s)){if(!this._dataSource)return;l.push(this._loadItem(h,y).done((n=>{const i=this._createTagData(n,h);p.splice(f,0,i)})).fail((()=>{if(w){const n=this._createTagData(void 0,h);p.splice(f,0,n)}})))}else{const n=this._createTagData(s,h);p.splice(f,0,n)}}));const u=se();return st.apply(this,l).always((()=>{u.resolve(p)})),u.promise()}_createTagData(e,a){if(ne(e))return this._selectedItems.push(e),e;const p=this.option("selectedItem");return this._valueGetter(p)===a?p:a}_isGroupedData(){return this.option("grouped")&&!this._dataController.group()}_getItemsByValues(e){const a=[];return e.forEach((p=>{const y=this._getItemFromPlain(p);ne(y)&&a.push(y)})),a}_getFilteredGroupedItems(e){const a=se();return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?a.resolve(this._getItemsByValues(e)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done((()=>{a.resolve(this._getItemsByValues(e))})).fail((()=>{a.resolve([])})).always((()=>{this._filteredGroupedItemsLoadPromise=void 0})),a.promise()}_loadTagsData(){const e=this._getValue(),a=se();return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(e):this._getFilteredItems(e)).done((y=>{this._createTagsData(e,y).always((w=>{a.resolve(w)}))})).fail(a.reject.bind(this)),a.promise()}_renderTags(){const e=se();let a=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._tagsToRender=this._selectedItems,this._renderTagsImpl(),a=!0,e.resolve())),a||this._loadTagsData().done((p=>{if(this._disposed){e.reject();return}this._tagsToRender=p,this._renderTagsImpl(),e.resolve()})).fail(e.reject),e.promise()}_renderTagsImpl(){this._renderField(),this._shouldUpdateSelectedItems()&&this.option("selectedItems",this._selectedItems.slice()),this._getFieldTemplate()||(this._cleanTags(),this._renderTagsCore())}_shouldGetItemsFromPlain(e){return e&&this._dataController.isLoaded()&&e.length<=this._getPlainItems().length}_getItemsFromPlain(e){let a=this._getSelectedItemsFromList(e);if(a.length===0&&e.length>0||a.length<e.length){const y=this._getPlainItems();a=this._filterSelectedItems(y,e)}return a}_getSelectedItemsFromList(e){const{selectedItems:a}=this._list?this._list.option():{selectedItems:[]};let p=[];return e.length===(a==null?void 0:a.length)&&(p=this._filterSelectedItems(a,e)),p}_filterSelectedItems(e,a){return e.filter((y=>{let S;for(let w=0;w<a.length;w++)if(S=a[w],Lt(S)){if(this._isValueEquals(y,S))return!0}else if(this._isValueEquals(this._valueGetter(y),S))return!0;return!1}),this)}_processDataSourceChanging(){this._isDataSourceOptionChanged=!0,super._processDataSourceChanging()}_integrateInput(){super._integrateInput();const e=this.$element().find(".dx-texteditor-input-container");this._updateTagsContainer(e),this._renderTagRemoveAction(),this._renderTagsCore()}_renderTagsCore(){var e;this._renderTagsElements(this._tagsToRender),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus(),(e=this._popup)===null||e===void 0||e.refreshPosition()}_shouldUpdateSelectedItems(){var e,a;const{selectedItems:p}=this.option();return!!(ne(p)&&p.length!==((e=this._selectedItems)===null||e===void 0?void 0:e.length)||Bt(p,this._selectedItems).length!==((a=this._selectedItems)===null||a===void 0?void 0:a.length))}_renderTagsElements(e){const a=this._multiTagRequired()&&this._renderMultiTag(this._input()),p=this.option("showMultiTagOnly"),y=this.option("maxDisplayedTags");e.forEach(((S,w)=>{if(a&&p||a&&!p&&w-y>=-1)return!1;this._renderTag(S,a||this._input())})),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()}_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{const e=this._tagElements(),p=(this.option("selectedItems")??[]).map((y=>this._valueGetter(y)));Ce(e,((y,S)=>{const w=Z(S),d=w.data("dxTagData");p.includes(d)||w.remove()}))}this._updateElementAria()}_renderEmptyState(){const e=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(e),this._renderDisplayText()}_renderDisplayText(){this._renderInputSize()}_refreshTagElements(){this._tagElementsCache=this.$element().find(".dx-tag")}_tagElements(){return this._tagElementsCache}_applyTagTemplate(e,a){this._tagTemplate.render({model:e,container:me(a)})}_renderTag(e,a){const p=this._valueGetter(e);if(!ne(p))return;let y=this._getTag(p);const S=this._displayGetter(e),w=this._getItemModel(e,S);if(y){const d=y.data("dxTagDisplayValue");ne(S)&&!ke(d,S)&&(y.empty(),this._applyTagTemplate(w,y)),this._updateElementAria(y.attr("id"))}else{const d=`dx-${new at}`;y=this._createTag(p,a,d,S),this._setTagAria(y,ne(S)?S:p),ne(e)?this._applyTagTemplate(w,y):this._applyTagTemplate(p,y),this._updateElementAria(d)}}_setTagAria(e,a){const p={role:"button",label:a,roledescription:$.format("dxTagBox-tagRoleDescription")};this.setAria(p,e)}_getItemModel(e,a){return Lt(e)&&ne(a)?e:go(a,"")}_getTag(e){const a=this._tagElements(),p=a.length;let y=!1;for(let S=0;S<p;S++){const w=a[S],d=Ro(w,"dxTagData");if(e===d||ke(e,d)){y=Z(w);break}}return y}_createTag(e,a,p,y){return Z("<div>").attr("id",p).addClass("dx-tag").data("dxTagData",e).data("dxTagDisplayValue",y).insertBefore(a)}_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)}_customItemAddedHandler(e){super._customItemAddedHandler(e),this._clearTextValue()}_removeTagHandler(e){const a=e.event;a.stopPropagation(),this._saveValueChangeEvent(a);const p=Z(a.target).closest(".dx-tag");this._removeTagElement(p)}_removeTagElement(e){if(e.hasClass("dx-tagbox-multi-tag")){if(this.option("showMultiTagOnly"))this.clear();else{const{maxDisplayedTags:y}=this.option();this.option("value",this._getValue().slice(0,y))}return}const a=e.data("dxTagData"),p=e.attr("id");this._removeTagWithUpdate(a),this._updateElementAria(p,!0),this._refreshTagElements()}_updateField(){}_removeTagWithUpdate(e){const a=this._getValue().slice();this._removeTag(a,e),this.option("value",a),this.option("selectedItem",null),a.length===0&&this._clearTagFocus()}_getCurrentValue(){return this._lastValue()}_selectionChangeHandler(e){const{applyValueMode:a}=this.option();if(a==="useButtons")return;const p=this._getValue().slice();if(Ce(e.removedItems||[],((y,S)=>{this._removeTag(p,this._valueGetter(S))})),Ce(e.addedItems||[],((y,S)=>{this._addTag(p,this._valueGetter(S))})),this._updateWidgetHeight(),!ke(this._list.option("selectedItemKeys"),this.option("value"))){const y=this._list._getSelectionChangeEvent();y&&this._saveValueChangeEvent(y),this.option("value",p)}this._list._saveSelectionChangeEvent(void 0)}_removeTag(e,a){const p=this._valueIndex(a,e);p>=0&&e.splice(p,1)}_addTag(e,a){this._valueIndex(a)<0&&e.push(a)}_fieldRenderData(){return this._selectedItems.slice()}_completeSelection(e){this.option("showSelectionControls")||this._setValue(e)}_setValue(e){var a;if(e===null)return;const{applyValueMode:p}=this.option(),y=p==="useButtons",S=this._valueIndex(e),{selectedItemKeys:w}=((a=this._list)===null||a===void 0?void 0:a.option())||{selectedItemKeys:[]},d=(y?w??[]:this._getValue()).slice();if(S>=0?d.splice(S,1):d.push(e),y){var l;(l=this._list)===null||l===void 0||l.option("selectedItemKeys",d)}else this.option("value",d)}_isSelectedValue(e,a){return this._valueIndex(e,null,a)>-1}_valueIndex(e,a,p){let y=-1;return p&&typeof e!="object"&&(p.indexByValues||(p.indexByValues={},a=a||this._getValue(),a.forEach(((S,w)=>{p.indexByValues[S]=w}))),e in p.indexByValues)?p.indexByValues[e]:(a=a||this._getValue(),Ce(a,((S,w)=>{if(this._isValueEquals(e,w))return y=S,!1})),y)}_lastValue(){const e=this._getValue();return e[e.length-1]??null}_shouldRenderSearchEvent(){const{searchEnabled:e,acceptCustomValue:a}=this.option();return e||a}_searchHandler(e){this.option("searchEnabled")&&e&&!this._isTagRemoved&&(super._searchHandler(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved}_updateWidgetHeight(){const e=this.$element(),a=Te(e);this._renderInputSize();const p=Te(e);this._popup&&this.option("opened")&&this._isEditable()&&p!==a&&this._popup.repaint()}_refreshSelected(){var e;!((e=this._list)===null||e===void 0)&&e.getDataSource()&&this._list.option("selectedItems",this._selectedItems)}_resetListDataSourceFilter(){const e=this._dataController;delete this._userFilter,e.filter(null),e.reload()}_setListDataSourceFilter(){if(!this.option("hideSelectedItems")||!this._list)return;const e=this._dataController,a=this._valueGetterExpr();if(Nt(a)&&a!=="this"){const p=this._dataSourceFilterExpr();this._userFilter===void 0&&(this._userFilter=e.filter()||null),this._userFilter&&p.push(this._userFilter),p.length?e.filter(p):e.filter(null)}else e.filter(this._dataSourceFilterFunction.bind(this));e.load()}_dataSourceFilterExpr(){const e=[];return this._getValue().forEach((a=>e.push(["!",[this._valueGetterExpr(),a]]))),e}_dataSourceFilterFunction(e){const a=this._valueGetter(e);let p=!0;return Ce(this._getValue(),((y,S)=>{if(this._isValueEquals(S,a))return p=!1,!1})),p}_dataSourceChangedHandler(){this._isDataSourceChanged=!0,super._dataSourceChangedHandler.apply(this,arguments)}_applyButtonHandler(e){this._saveValueChangeEvent(e.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),super._applyButtonHandler(),this._cancelSearchIfNeed()}_getSortedListValues(){const e=this._getListValues(),{value:a}=this.option(),p=a||[],y=e.length?Bt(p,e):[],S=y.length?Oo(e,p):e;return y.concat(S)}_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map((e=>this._valueGetter(e))):[]}_setListDataSource(){const e=this._getValue();super._setListDataSource();const{value:a}=this.option();e!==a&&this.option("value",e),this._refreshSelected()}_renderOpenedState(){super._renderOpenedState();const{applyValueMode:e}=this.option();e==="useButtons"&&!this.option("opened")&&this._refreshSelected()}clear(){this._restoreInputText();const e=this._getDefaultOptions().value,{value:a}=this.option();e&&e.length===0&&a&&e.length===a.length||super.clear()}_clean(){super._clean(),delete this._valuesToUpdate,delete this._tagTemplate,delete this._tagsToRender}_getSelectedItemsDifference(e,a){if(!e.length)return{addedItems:[],removedItems:a.slice()};if(!a.length)return{addedItems:e.slice(),removedItems:[]};const p=a.reduce(((S,w)=>{const d=this._valueGetter(w);return S[d]=w,S}),{}),y=[];return e.forEach((S=>{const w=this._valueGetter(S);p[w]||y.push(S),delete p[w]})),{addedItems:y,removedItems:Object.values(p)}}_optionChanged(e){const{name:a,value:p,previousValue:y}=e;switch(a){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":p?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(p);break;case"displayExpr":super._optionChanged(e),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":super._optionChanged(e),!p&&this._refreshEvents();break;case"value":this._valuesToUpdate=p,super._optionChanged(e),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(a,p);break;case"selectedItem":case"maxFilterQueryLength":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(p,y));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!p),this._renderSingleLineScroll();break;default:super._optionChanged(e)}}_getActualSearchValue(){return super._getActualSearchValue()||this._searchValue()}_popupHidingHandler(){super._popupHidingHandler(),this._clearFilter()}}Ge("dxTagBox",es);class ts extends Ko{_focusTarget(){return Z(this.element()).parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){const e=super._getDefaultOptions();return re(e,ft._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),fo((()=>{this._itemElements().addClass("dx-radiobutton")}))}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(e){const{itemData:{html:a},itemElement:p}=e;if(!a){const y=Z("<div>").addClass("dx-radiobutton-icon");Z("<div>").addClass("dx-radiobutton-icon-dot").appendTo(y);const S=Z("<div>").append(y).addClass("dx-radio-value-container");Z(p).prepend(S)}super._postprocessRenderItem(e)}_processSelectableItem(e,a){super._processSelectableItem(e,a),e.toggleClass("dx-radiobutton-checked",a).find(".dx-radiobutton-icon").first().toggleClass("dx-radiobutton-icon-checked",a),this.setAria("checked",a,e)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){const e=super._supportedKeys();return re({},e,{enter(a){return a.preventDefault(),e.enter.apply(this,arguments)},space(a){return a.preventDefault(),e.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelectionAttribute(){}}class dn extends ho{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>lt.real().deviceType==="desktop"&&!lt.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(e){e&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){const e=super._getDefaultOptions();return re(e,re(ft._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(e){return this._valueGetter?this._valueGetter(e):e.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".dx-radiobutton",this._feedbackHideTimeout=100,this._initDataExpressions()}_initMarkup(){Z(this.element()).addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(e){let{itemElement:a,event:p,itemData:y}=e;if(this.itemElements().is(a)){const S=this._getItemValue(y);S!==this.option("value")&&(this._saveValueChangeEvent(p),this.option("value",S))}}_getSelectedItemKeys(e){return this.option("valueExpr")!=="this"&&e===null||ne(e)?[e]:[]}_setSelection(e){const a=this._unwrappedValue(e);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(a))}_renderValidationState(){var e;super._renderValidationState(),(e=this._validationMessage)===null||e===void 0||e.$content().attr("role","alert")}_optionChanged(e){const{name:a,value:p}=e;switch(this._dataExpressionOptionChanged(e),a){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(a,p);break;case"disabled":super._optionChanged(e),this._setCollectionWidgetOption(a,p);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(p),this._setSubmitValue(p),super._optionChanged(e);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(e)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){const{layout:e}=this.option(),a=Z(this.element());a.toggleClass("dx-radiogroup-vertical",e==="vertical"),a.toggleClass("dx-radiogroup-horizontal",e==="horizontal")}_renderRadios(){this._areRadiosCreated=se();const e=Z("<div>").appendTo(this.$element()),{displayExpr:a,accessKey:p,focusStateEnabled:y,itemTemplate:S,tabIndex:w,value:d}=this.option();this._createComponent(e,ts,{onInitialized:l=>{let{component:u}=l;this._radios=u},onContentReady:l=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:a,accessKey:p,dataSource:this._dataSource,focusStateEnabled:y,itemTemplate:S,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(d),tabIndex:w}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=Z("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),re(this._optionsByReference,{value:!0})}_setSubmitValue(e){e=e??this.option("value");const a=this.option("valueExpr")==="this"?this._displayGetter(e):e;this._$submitElement.val(a)}_setCollectionWidgetOption(e,a){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){const{layout:e}=this.option();if(e==="horizontal"){var a;(a=this.itemElements())===null||a===void 0||a.css("height","auto")}else{var p;const y=this.option("items").length;(p=this.itemElements())===null||p===void 0||p.css("height",100/y+"%")}}focus(){var e;(e=this._radios)===null||e===void 0||e.focus()}itemElements(){var e;return(e=this._radios)===null||e===void 0?void 0:e._itemElements()}}dn.include(ft);Ge("dxRadioGroup",dn);class ns{constructor(e,a){this._popupInstance=e._createComponent(a,zo),this.infoMap={TaskEdit:is,Resources:rs,Confirmation:os,ConstraintViolation:as}}_apply(){if(this._dialogInfo.isValidated()){const e=this._dialogInfo.getResult();this._callback(e),this.hide()}}show(e,a,p,y,S){if(this._callback=p,this._afterClosing=y,!this.infoMap[e])return;const w=this._popupInstance._isVisible()&&this._dialogInfo&&this._dialogInfo instanceof this.infoMap[e];this._dialogInfo=new this.infoMap[e](a,this._apply.bind(this),this.hide.bind(this),S),this._popupInstance.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._afterClosing&&this._popupInstance.option("onHidden",this._afterClosing),w||this._popupInstance.show()}hide(){this._popupInstance.hide(),this._afterClosing&&this._afterClosing()}}class qe{constructor(e,a,p,y){this._parameters=e,this._applyAction=a,this._hideAction=p,this._editingOptions=y}_getFormItems(){return{}}_getFormCssClass(){return""}_getFormData(){return this._parameters}_updateParameters(){}_getOkToolbarItem(){return this._getToolbarItem("OK",this._applyAction)}_getCancelToolbarItem(){return this._getToolbarItem("Cancel",this._hideAction)}_getYesToolbarItem(){return this._getToolbarItem("Yes",this._applyAction)}_getNoToolbarItem(){return this._getToolbarItem("No",this._hideAction)}_getToolbarItem(e,a){return{widget:"dxButton",toolbar:"bottom",options:{text:$.format(e),onClick:a}}}getTitle(){return""}getToolbarItems(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}getMaxWidth(){return 400}getHeight(){return"auto"}getContentTemplate(){return e=>(this._form=new Xo(e,{formData:this._getFormData(),items:this._getFormItems(),elementAttr:{class:this._getFormCssClass()},rtlEnabled:!1}),e)}getResult(){const e=this.getFormData();return this._updateParameters(e),this._parameters}getFormData(){return this._form&&this._form.option("formData")}isValidated(){return!0}}class is extends qe{getTitle(){return $.format("dxGantt-dialogTaskDetailsTitle")}_getFormItems(){const e=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,a=e||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:$.format("dxGantt-dialogTitle")},editorOptions:{readOnly:e||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:$.format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:a||this._isReadOnlyField("start")},visible:!this._isHiddenField("start"),validationRules:[{type:"required",message:$.format("validation-required-formatted",$.format("dxGantt-dialogStartTitle"))},{type:"custom",validationCallback:p=>{if(this._parameters.isValidationRequired){const y=this._parameters.getCorrectDateRange(this._parameters.id,p.value,this._parameters.end);if(y.start.getTime()!==p.value.getTime())return p.rule.message=this._getValidationMessage(!0,y.start),!1}return!0}}]},{dataField:"end",editorType:"dxDateBox",label:{text:$.format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:a||this._isReadOnlyField("end")},visible:!this._isHiddenField("end"),validationRules:[{type:"required",message:$.format("validation-required-formatted",$.format("dxGantt-dialogEndTitle"))},{type:"custom",validationCallback:p=>{if(this._parameters.isValidationRequired){const y=this._parameters.getCorrectDateRange(this._parameters.id,this._parameters.start,p.value);if(y.end.getTime()!==p.value.getTime())return p.rule.message=this._getValidationMessage(!1,y.end),!1}return!0}}]},{dataField:"progress",editorType:"dxNumberBox",label:{text:$.format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:a||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:$.format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:e||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:$.format("dxGantt-dialogEditResourceListHint"),onClick:()=>{this._parameters.showResourcesDialogCommand.execute((()=>{this._parameters.showTaskEditDialogCommand.execute()}))}}}]}}]}_getValidationMessage(e,a){return e?$.format("dxGantt-dialogStartDateValidation",this._getFormattedDateText(a)):$.format("dxGantt-dialogEndDateValidation",this._getFormattedDateText(a))}_getFormattedDateText(e){return e?pe.format(e,"shortDateShortTime"):""}_isReadOnlyField(e){return this._parameters.readOnlyFields.indexOf(e)>-1}_isHiddenField(e){return this._parameters.hiddenFields.indexOf(e)>-1}_getFormData(){const e={};for(const a in this._parameters)e[a]=a==="progress"?this._parameters[a]/100:this._parameters[a];return e}_updateParameters(e){this._parameters.title=e.title,this._parameters.start=e.start,this._parameters.end=e.end,this._parameters.progress=Math.round(100*e.progress),this._parameters.assigned=e.assigned}isValidated(){var e;const a=(e=this._form)===null||e===void 0?void 0:e.validate();return a==null?void 0:a.isValid}}class rs extends qe{getTitle(){return $.format("dxGantt-dialogResourceManagerTitle")}_getFormItems(){return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:$.format("dxGantt-dialogEditNoResources"),onInitialized:e=>{this.list=e.component},onItemDeleted:e=>{this._parameters.resources.remove(e.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:e=>{this.textBox=e.component},onInput:e=>{const a=e.component.getButton("addResource"),p=e.component.option("text");a.option("disabled",p.length===0)},buttons:[{name:"addResource",location:"after",options:{text:$.format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:e=>{const a=this._parameters.resources.createItem();a.text=this.textBox.option("text"),this._parameters.resources.add(a),this.list.option("items",this._parameters.resources.items),this.list.scrollToItem(a),this.textBox.clear(),e.component.option("disabled",!0)}}}]}}]}}class os extends qe{getContentTemplate(){return e=>this._getConfirmMessage()}_getConfirmMessage(){switch(this._parameters.type){case 0:return $.format("dxGantt-dialogTaskDeleteConfirmation");case 1:return $.format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return $.format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}getToolbarItems(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}class as extends qe{_getFormItems(){const e=this._parameters.hasCriticalErrors,a=this._parameters.errorsCount>1,p=[],y=a?"dxGantt-dialogDeleteDependenciesMessage":"dxGantt-dialogDeleteDependencyMessage",S=a?"dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"dxGantt-dialogMoveTaskAndKeepDependencyMessage";let w;return e?w=a?"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"dxGantt-dialogConstraintCriticalViolationMessage":w=a?"dxGantt-dialogConstraintViolationSeveralTasksMessage":"dxGantt-dialogConstraintViolationMessage",p.push({text:$.format("dxGantt-dialogCancelOperationMessage"),value:0}),p.push({text:$.format(y),value:1}),e||p.push({text:$.format(S),value:2}),[{template:$.format(w)},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:p,valueExpr:"value",value:0}}]}_getFormCssClass(){return"dx-cv-dialog"}_updateParameters(e){this._parameters.option=e.option}}const Fe=gt(),ss="dx-treelist-empty-space",ls="dx-treelist-table";class us{constructor(e){this._gantt=e,this._treeList=e._treeList,this._cache={}}reset(){this._cache={}}getTreeListTableStyle(){const e=this._getTreeListTable(),a=Fe.getComputedStyle(e);return{color:a.color,backgroundColor:a.backgroundColor,fontSize:a.fontSize,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontStyle:a.fontStyle,textAlign:"left",verticalAlign:"middle"}}getTreeListColCount(){return this._getHeaderView().getColumnWidths().filter((p=>p>0)).length}getTreeListHeaderInfo(e){const a=this._getHeaderElement(e);if(!a)return null;const p=Fe.getComputedStyle(a),y={color:p.color,padding:p.padding,paddingLeft:p.paddingLeft,paddingTop:p.paddingTop,paddingRight:p.paddingRight,paddingBottom:p.paddingBottom,verticalAlign:p.verticalAlign,width:this._getColumnWidth(e)};return{content:a.textContent,styles:y}}getTreeListCellInfo(e,a){const p=this._treeList.getNodeByKey(e),y=this._treeList.getRowIndexByKey(e),S=y>-1?this._getDataCell(y,a):null,w=S?Fe.getComputedStyle(S):this._getColumnCellStyle(a),d={color:w.color,padding:w.padding,paddingLeft:w.paddingLeft,paddingTop:w.paddingTop,paddingRight:w.paddingRight,paddingBottom:w.paddingBottom,width:this._getColumnWidth(a)};return a===0&&(d.extraLeftPadding=this._getEmptySpaceWidth(p.level)),{content:(S==null?void 0:S.textContent)??this._getDisplayText(e,a),styles:d}}getTreeListEmptyDataCellInfo(){return{content:this._treeList.option("noDataText")}}_ensureColumnWidthCache(e){var a;if((a=this._cache).columnWidths??(a.columnWidths={}),!this._cache.columnWidths[e]){const p=this._getHeaderElement(e);this._cache.columnWidths[e]=(p==null?void 0:p.clientWidth)??0}}_getColumnWidth(e){this._ensureColumnWidthCache(e);const a=this._cache.columnWidths;return a&&a[e]}_getEmptySpaceWidth(e){if(!this._cache.emptyWidth){var a;const p=this._getTreeListElement(ss);(a=this._cache).emptyWidth??(a.emptyWidth=p.offsetWidth??0)}return this._cache.emptyWidth*(e+1)}_getColumnCellStyle(e){return this._ensureColumnCellStyleCache(e),this._cache.columnStyles[e]}_ensureColumnCellStyleCache(e){var a;if((a=this._cache).columnStyles??(a.columnStyles={}),!this._cache.columnStyles[e]){const p=this._getDataCell(0,e);this._cache.columnStyles[e]=Fe.getComputedStyle(p)}}_getTask(e){return this._ensureTaskCache(e),this._cache.tasks[e]}_ensureTaskCache(e){var a,p;(a=this._cache).tasks??(a.tasks={}),(p=this._cache.tasks)[e]??(p[e]=this._gantt._findTaskByKey(e))}_getTreeListTable(){return this._getTreeListElement(ls)}_getTreeListElement(e){return this._treeList._$element.find("."+e).get(0)}_getDataCell(e,a){const y=this._treeList.getCellElement(e,a);return y&&y.length?y[0]:y}_getHeaderElement(e){return this._getHeaderView().getHeaderElement(e).get(0)}_getHeaderView(){return this._treeList._views.columnHeadersView}_getDisplayText(e,a){const p=this._getTask(e);return p&&this._getGridDisplayText(a,p)}_getGridDisplayText(e,a){const y=this._treeList.getController("columns").getColumns()[e],S=y==null?void 0:y.dataField,w=y==null?void 0:y.format,d=be.getDisplayValue(y,a[S],a,"data");if(ne(w)){if((y==null?void 0:y.dataType)==="date"||(y==null?void 0:y.dataType)==="datetime"){const l=mo(d)?d:new Date(d);return pe.format(l,w)}if(_o(d))return yo.format(d,w)}return typeof d=="string"?d:d==null?void 0:d.toString()}}const et=/(\w*)Expr/;class ds{constructor(e){this._gantt=e}_getMappedFieldName(e,a){let p=a;return a==="id"&&(p="key"),this._gantt.option(`${e}.${p}Expr`)}getTaskMappedFieldNames(){const e=[],a=this._gantt.option("tasks");for(const p in a){const y=p.match(et),S=y&&a[y[0]];S&&e.push(S)}return e}convertCoreToMappedData(e,a){return Object.keys(a).reduce(((p,y)=>{const S=this._getMappedFieldName(e,y);return S&&!we(S)&&xe(S)(p,a[y]),p}),{})}convertMappedToCoreData(e,a){const p={};if(a){const y=this._gantt.option(e);for(const S in y){const w=S.match(et),d=w&&y[w[0]];if(d&&a[d]!==void 0){const l=he(d),u=w[1];p[u]=l(a)}}}return p}convertCoreToMappedFields(e,a){return a.reduce(((p,y)=>{const S=this._getMappedFieldName(e,y);return S&&p.push(S),p}),[])}convertMappedToCoreFields(e,a){const p=[],y=this._gantt.option(e);for(const S in y){const w=S.match(et),d=w&&y[w[0]];if(d&&a.indexOf(d)>-1){const l=w[1];p.push(l)}}return p}}class cs{constructor(e){this._gantt=e}_setTreeListDimension(e,a){var p;const y=e==="width"?Ht:Vt,S=e==="width"?Xe:Te;y(this._gantt._$treeListWrapper,a),(p=this._gantt._ganttTreeList)===null||p===void 0||p.setOption(e,S(this._gantt._$treeListWrapper))}_setGanttViewDimension(e,a){const p=e==="width"?Ht:Vt,y=e==="width"?Xe:Te;p(this._gantt._$ganttView,a),this._gantt._setGanttViewOption(e,y(this._gantt._$ganttView))}_getPanelsWidthByOption(){var e,a;const p=Xe(this._gantt._$element),y=this._gantt.option("taskListWidth");let S;return isNaN(y)?((e=y.indexOf)===null||e===void 0?void 0:e.call(y,"px"))>0?S=p-parseInt(y.replace("px",""))+"px":((a=y.indexOf)===null||a===void 0?void 0:a.call(y,"%"))>0&&(S=100-parseInt(y.replace("%",""))+"%"):S=p-parseInt(y),{leftPanelWidth:y,rightPanelWidth:S}}onAdjustControl(){const e=Te(this._gantt._$element);this.updateGanttWidth(),this.setGanttHeight(e)}onApplyPanelSize(e){this.setInnerElementsWidth(e),this.updateGanttRowHeights()}updateGanttRowHeights(){const e=this._gantt._ganttTreeList.getRowHeight();if(this._gantt._getGanttViewOption("rowHeight")!==e){var a;this._gantt._setGanttViewOption("rowHeight",e),(a=this._gantt._ganttView)===null||a===void 0||a._ganttViewCore.updateRowHeights(e)}}adjustHeight(){this._gantt._hasHeight||(this._gantt._setGanttViewOption("height",0),this._gantt._setGanttViewOption("height",this._gantt._ganttTreeList.getOffsetHeight()))}setInnerElementsWidth(e){if(!sn())return;const a=!e;a&&(e=this._getPanelsWidthByOption(),this._setTreeListDimension("width",0),this._setGanttViewDimension("width",0)),this._setTreeListDimension("width",e.leftPanelWidth),this._setGanttViewDimension("width",e.rightPanelWidth),a&&this._gantt._splitter._setSplitterPositionLeft()}updateGanttWidth(){this._gantt._splitter._dimensionChanged()}setGanttHeight(e){var a;const p=this._gantt._$toolbarWrapper.get(0).offsetHeight,y=e-p;this._setTreeListDimension("height",y),this._setGanttViewDimension("height",y),(a=this._gantt._ganttView)===null||a===void 0||a._ganttViewCore.resetAndUpdate()}}class ps{constructor(e){this._gantt=e}getTaskTooltipContentTemplateFunc(e){const a=e&&this._gantt._getTemplate(e);return a&&((y,S,w)=>(a.render({model:this._gantt.getTaskDataByCoreData(S),container:me(Z(y)),onRendered:()=>{w()}}),!0))}getTaskProgressTooltipContentTemplateFunc(e){const a=e&&this._gantt._getTemplate(e);return a&&((y,S,w)=>(a.render({model:S,container:me(Z(y)),onRendered:()=>{w()}}),!0))}getTaskTimeTooltipContentTemplateFunc(e){const a=e&&this._gantt._getTemplate(e);return a&&((y,S,w)=>(a.render({model:S,container:me(Z(y)),onRendered:()=>{w()}}),!0))}getTaskContentTemplateFunc(e){const a=e&&this._gantt._getTemplate(e);return a&&((y,S,w,d)=>(S.taskData=this._gantt.getTaskDataByCoreData(S.taskData),a.render({model:S,container:me(Z(y)),onRendered:()=>{w(y,d)}}),!0))}}const hs="dx-gantt-toolbar-separator",oe={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12,resourceManager:13,toggleResources:14,toggleDependencies:15};class cn{constructor(e,a){this._element=e,this._owner=a,this._items=[],this._createControl()}createItems(e){this._cache=null,this._items=this._createItemsCore(e),this._menu.option("items",this._items)}_createItemsCore(e){return e.map((a=>{let p;return typeof a=="string"?p=this._createItemByText(a):p=a.name?re(this._createItemByText(a.name),a):re(this._getDefaultItemOptions(),a),a.items&&(p.items=this._createItemsCore(a.items)),p}))}_createItemByText(e){switch(e.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(oe.undo,$.format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(oe.redo,$.format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(oe.expandAll,$.format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(oe.collapseAll,$.format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(oe.createTask,$.format("dxGantt-addNewTask"),this._getIcon("add"));case"addsubtask":return this._createDefaultItem(oe.createSubTask,$.format("dxGantt-contextMenuNewSubtask"),this._getIcon("add-sub-task"));case"deletetask":return this._createDefaultItem(oe.removeTask,$.format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(oe.removeDependency,$.format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(oe.zoomIn,$.format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(oe.zoomOut,$.format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(oe.fullScreen,$.format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(oe.taskInformation,$.format("dxGantt-dialogTaskDetailsTitle")+"...",this._getIcon("task-details"));case"resourcemanager":return this._createDefaultItem(oe.resourceManager,$.format("dxGantt-dialogResourceManagerTitle"),this._getIcon("resource-manager"));case"showresources":return this._createDefaultItem(oe.toggleResources,$.format("dxGantt-showResources"),this._getIcon("toggle-resources"));case"showdependencies":return this._createDefaultItem(oe.toggleDependencies,$.format("dxGantt-showDependencies"),this._getIcon("toggle-dependencies"));default:return re(this._getDefaultItemOptions(),{options:{text:e}})}}_getDefaultItemOptions(){return{}}_getItemsCache(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}_fillCache(e){e.forEach((a=>{const p=a.commandId;p!==void 0&&(this._cache[p]||(this._cache[p]=[]),this._cache[p].push(a)),a.items&&this._fillCache(a.items)}))}_getIcon(e){return"dx-gantt-i dx-gantt-i-"+e}getCommandKeys(){const e=this._getItemsCache(),a=[];for(const p in e)a.push(parseInt(p));return a}setItemEnabled(e,a){this._getItemsCache()[e].forEach((y=>{y.disabled=!a}))}setItemVisible(e,a){this._getItemsCache()[e].forEach((y=>{y.visible=a}))}setItemValue(e,a){}setEnabled(e){this._menu.option("disabled",!e)}updateItemsList(){}isVisible(){return!0}isContextMenu(){return!1}completeUpdate(){}}class gs extends cn{_createControl(){this._menu=this._owner._createComponent(this._element,Qo,{onItemClick:e=>{const a=e.itemData.commandId;a!==void 0&&this._owner._executeCoreCommand(a)}})}_createDefaultItem(e,a,p){return{commandId:e,disabled:!0,widget:"dxButton",location:"before",options:{icon:p,stylingMode:"text",hint:a}}}_createSeparator(){return{location:"before",template:(e,a,p)=>{Z(p).addClass(hs)}}}_getDefaultItemOptions(){return{location:"before",widget:"dxButton"}}completeUpdate(){this._menu.option("items",this._items)}}class fs extends cn{_createControl(){this._menu=this._owner._createComponent(this._element,Jo,{showEvent:void 0,onItemClick:e=>{e.itemData.commandId!==void 0?this._owner._executeCoreCommand(e.itemData.commandId):e.itemData.name!==void 0&&this._owner._actionsManager.raiseCustomCommand(e.itemData.name)}})}createItems(e){(!e||e.length===0)&&(e=this._getDefaultItems()),super.createItems(e)}_getDefaultItems(){return[{text:$.format("dxGantt-dialogButtonAdd"),commandId:oe.taskAddContextItem,icon:this._getIcon("add"),items:[{text:$.format("dxGantt-contextMenuNewTask"),commandId:oe.createTask,icon:this._getIcon("add-task")},{text:$.format("dxGantt-contextMenuNewSubtask"),commandId:oe.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:$.format("dxGantt-dialogTaskDetailsTitle")+"...",commandId:oe.taskInformation,icon:this._getIcon("task-details")},{text:$.format("dxGantt-contextMenuDeleteTask"),commandId:oe.removeTask,icon:this._getIcon("delete")},{text:$.format("dxGantt-contextMenuDeleteDependency"),commandId:oe.removeDependency,icon:this._getIcon("delete-dependency")}]}_createDefaultItem(e,a,p){return{commandId:e,text:a,icon:p}}show(e,a){this._menu.option("items",a||this._items),this._menu.option("position.offset",{x:e.x,y:e.y}),this._menu.option("position.collision","fit"),this._menu.show()}hide(){this._menu.hide()}isContextMenu(){return!0}}const Y=re({},ea,{modules:[],foreachNodes(C,e,a){for(let p=0;p<C.length;p++)e(C[p])!==!1&&(a||C[p].hasChildren)&&C[p].children.length&&this.foreachNodes(C[p].children,e,a)}});Y.registerModule("columnHeaders",ta);class ms extends ia{_getFirstItems(e){return super._getFirstItems(e).map((a=>a.data))}getFirstDataColumnIndex(){const e=this.getVisibleColumns(),a=e.length;let p=0;for(let y=0;y<=a-1;y++)if(!ne(e[y].command)){p=e[y].index;break}return p}}Y.registerModule("columns",{defaultOptions:na.defaultOptions,controllers:{columns:ms}});const{queryByOptions:pn}=$o,Be=C=>C.option("filterMode")==="fullBranch",_s=function(C,e){const a=[];return e.forEach((p=>{const y=C.getNodeByKey(p);y&&y.children.forEach((S=>{a.push(S.key)}))})),a},zt=(C,e)=>pn(ut(C),{sort:e}).toArray();class ys extends ra{_createKeyGetter(){const e=this.getKeyExpr();return he(e)}_createKeySetter(){const e=this.getKeyExpr();return we(e)?e:xe(e)}createParentIdGetter(){return he(this.option("parentIdExpr"))}createParentIdSetter(){const e=this.option("parentIdExpr");return we(e)?e:xe(e)}_createItemsGetter(){return he(this.option("itemsExpr"))}_createHasItemsGetter(){const e=this.option("hasItemsExpr");return e&&he(e)}_createHasItemsSetter(){const e=this.option("hasItemsExpr");return we(e)?e:e&&xe(e)}_updateIndexByKeyObject(e){const a=this;a._indexByKey={},Ce(e,((p,y)=>{a._indexByKey[y.key]=p}))}_calculateHasItems(e,a){const p=this,{parentIds:y}=a.storeLoadOptions;let S;const w=Be(p);return p._hasItemsGetter&&(y||!a.storeLoadOptions.filter||w)&&(S=p._hasItemsGetter(e.data)),S===void 0&&(!p._isChildrenLoaded[e.key]&&a.remoteOperations.filtering&&(y||w)?S=!0:a.loadOptions.filter&&!a.remoteOperations.filtering&&w?S=e.children.length:S=e.hasChildren),!!S}_fillVisibleItemsByNodes(e,a,p){for(let y=0;y<e.length;y++)e[y].visible&&p.push(e[y]),(this.isRowExpanded(e[y].key,a)||!e[y].visible)&&e[y].hasChildren&&e[y].children.length&&this._fillVisibleItemsByNodes(e[y].children,a,p)}_convertItemToNode(e,a,p){const y=this._keyGetter(e);let S=this._parentIdGetter(e);S=ne(S)?S:a;const w=p[S]=p[S]||{key:S,children:[]},d=p[y]=p[y]||{key:y,children:[]};return d.data=e,d.parent=w,d}_createNodesByItems(e,a){const p=this,y=p.option("rootValue"),S={},w=p._nodeByKey={};let d;if(a)for(d=0;d<a.length;d++)S[this._keyGetter(a[d])]=!0;for(d=0;d<e.length;d++){const u=p._convertItemToNode(e[d],y,w);if(u.key===void 0)return;u.visible=!a||!!S[u.key],u.parent&&u.parent.children.push(u)}const l=w[y]||{key:y,children:[]};return l.level=-1,l}_convertDataToPlainStructure(e,a,p){let y;if(this._itemsGetter&&!e.isConverted){p=p||[];for(let S=0;S<e.length;S++){const w=Go(e[S]);y=this._keyGetter(w),y===void 0&&(y=p.length+1,this._keySetter(w,y)),this._parentIdSetter(w,a===void 0?this.option("rootValue"):a),p.push(w);const d=this._itemsGetter(w);if(d&&d.length){this._convertDataToPlainStructure(d,y,p);const l=this.option("itemsExpr");we(l)||delete w[l]}}return p.isConverted=!0,p}return e}_createIdFilter(e,a){const p=[];for(let y=0;y<a.length;y++)p.push([e,"=",a[y]]);return be.combineFilters(p,"or")}_customizeRemoteOperations(e,a){super._customizeRemoteOperations.apply(this,arguments),e.remoteOperations.paging=!1;let p=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,(!this._lastLoadOptions||a.filtering&&!e.storeLoadOptions.filter)&&!e.isCustomLoading&&(p=!0)),e.isCustomLoading||(this._isReload=this._isReload||a.reload,e.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(a.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?p=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=p}_getParentIdsToLoad(e){const a=[];for(let p=0;p<e.length;p++){const y=this.getNodeByKey(e[p]);(!y||y.hasChildren&&!y.children.length)&&a.push(e[p])}return a}_handleCustomizeStoreLoadOptions(e){const a=this.option("rootValue"),p=this.option("parentIdExpr");let{parentIds:y}=e.storeLoadOptions;if(y&&(e.isCustomLoading=!1),super._handleCustomizeStoreLoadOptions.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&(Be(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)){const S=e.collapseVisibleNodes?[]:this.option("expandedRowKeys");y=[a].concat(S).concat(y||[]);const w=e.data?this._getParentIdsToLoad(y):y;w.length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0,e.delay=this.option("loadingTimeout")),e.storeLoadOptions.parentIds=w,e.storeLoadOptions.filter=this._createIdFilter(p,w)}}_generateInfoToLoad(e,a){const p=this;let y;const S={},w={},d=[],l=p.option("rootValue");let u;for(u=0;u<e.length;u++)y=a?p._parentIdGetter(e[u]):p._keyGetter(e[u]),S[y]=!0;for(u=0;u<e.length;u++){y=a?p._keyGetter(e[u]):p._parentIdGetter(e[u]);const h=a?p.isRowExpanded(y):y!==l;!S[y]&&!w[y]&&h&&(w[y]=!0,d.push(y))}return{keyMap:w,keys:d}}_loadParentsOrChildren(e,a,p){var y,S;let w,d;const{keys:l,keyMap:u}=this._generateInfoToLoad(e,p),h=new se,f=a.remoteOperations.filtering,s=this.option("maxFilterLengthInRequest"),n=((y=a.storeLoadOptions)===null||y===void 0?void 0:y.sort)??((S=a.loadOptions)===null||S===void 0?void 0:S.sort);let i=f?a.storeLoadOptions:a.loadOptions;const t=v=>(f&&(this._cachedStoreData=zt(this._cachedStoreData.concat(v),n)),zt(e.concat(v),n));if(!l.length)return h.resolve(e);let r=l.map((v=>this.getNodeByKey(v))).filter((v=>v&&v.data));if(r.length===l.length&&(p&&(r=r.reduce(((v,m)=>v.concat(m.children)),[])),r.length))return this._loadParentsOrChildren(t(r.map((v=>v.data))),a,p);const o=p?this.option("parentIdExpr"):this.getKeyExpr();w=this._createIdFilter(o,l),encodeURI(JSON.stringify(w)).length>s&&(w=v=>u[p?this._parentIdGetter(v):this._keyGetter(v)],d=f),i=re({},i,{filter:d?null:w});const g=a.fullData?new ln(a.fullData):this._dataSource.store();return this.loadFromStore(i,g).done((v=>{v.length?(d&&(v=ut(v).filter(w).toArray()),this._loadParentsOrChildren(t(v),a,p).done(h.resolve).fail(h.reject)):h.resolve(e)})).fail(h.reject),h}_loadParents(e,a){return this._loadParentsOrChildren(e,a)}_loadChildrenIfNeed(e,a){return Be(this)?this._loadParentsOrChildren(e,a,!0):st(e)}_updateHasItemsMap(e){const{parentIds:a}=e.storeLoadOptions;if(a)for(let p=0;p<a.length;p++)this._isChildrenLoaded[a[p]]=!0}_getKeyInfo(){return{key:()=>"key",keyOf:e=>e.key}}_processChanges(e){let a=[];return e.forEach((p=>{p.type==="insert"?a=a.concat(this._applyInsert(p)):p.type==="remove"?a=a.concat(this._applyRemove(p)):p.type==="update"&&a.push({type:p.type,key:p.key,data:{data:p.data}})})),a}_handleChanging(e){super._handleChanging.apply(this,arguments),e.postProcessChanges=a=>{const p=a.filter((y=>y.type==="update"));return this._processChanges(p)}}_applyBatch(e){const a=this._processChanges(e);super._applyBatch(a)}_setHasItems(e,a){const p=this._hasItemsSetter;e.hasChildren=a,p&&e.data&&p(e.data,a)}_applyInsert(e){const a=this,p=[],y=a.parentKeyOf(e.data),S=a.getNodeByKey(y);if(S){const w=a.option("rootValue"),d=a._convertItemToNode(e.data,w,a._nodeByKey);if(d.hasChildren=!1,d.level=S.level+1,d.visible=!0,S.children.push(d),a._isChildrenLoaded[d.key]=!0,a._setHasItems(S,!0),(!S.parent||a.isRowExpanded(S.key))&&e.index!==void 0){let l=a.items().indexOf(S)+1;l+=e.index>=0?Math.min(e.index,S.children.length):S.children.length,p.push({type:e.type,data:d,index:l})}}return p}_needToCopyDataObject(){return!1}_applyRemove(e){let a=[];const p=this.getNodeByKey(e.key),y=p&&p.parent;if(y){const S=y.children.indexOf(p);S>=0&&(y.children.splice(S,1),y.children.length||this._setHasItems(y,!1),a.push(e),a=a.concat(this.getChildNodeKeys(e.key).map((w=>({type:e.type,key:w})))))}return a}_handleDataLoaded(e){const a=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=pn(ut(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),super._handleDataLoaded(e),a.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)}_fillNodes(e,a,p,y){const S=Be(this);y=y||0;for(let w=0;w<e.length;w++){const d=e[w];let l=!1;this._fillNodes(e[w].children,a,p,y+1),d.level=y,d.hasChildren=this._calculateHasItems(d,a),d.visible&&d.hasChildren&&(S?d.children.filter((u=>u.visible)).length?l=!0:d.children.length&&Y.foreachNodes(d.children,(u=>{u.visible=!0})):l=!0,a.expandVisibleNodes&&l&&p.push(d.key)),(d.visible||d.hasChildren)&&(d.parent.hasChildren=!0)}}_processTreeStructure(e,a){let{data:p}=e;const{parentIds:y}=e.storeLoadOptions,S=[];if(y&&y.length||this._isReload){if(e.fullData&&(p=e.fullData,a=a||e.data),this._rootNode=this._createNodesByItems(p,a),!this._rootNode){e.data=new se().reject(Me.Error("E1046",this.getKeyExpr()));return}this._fillNodes(this._rootNode.children,e,S),this._isNodesInitializing=!0,(e.collapseVisibleNodes||S.length)&&this.option("expandedRowKeys",S),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}const w=[];this._fillVisibleItemsByNodes(this._rootNode.children,e,w),e.data=w,this._totalItemsCount=w.length}_handleDataLoadedCore(e){const a=this,{data:p}=e,y=e.storeLoadOptions.filter||e.loadOptions.filter,S=a.option("filterMode");let w;const{parentIds:d}=e.storeLoadOptions,l=y&&(!d||!d.length)&&S!=="standard";if(!e.isCustomLoading){if(l){const u=e.data=new se;return S==="matchOnly"&&(w=p),a._loadParents(p,e).done((h=>{a._loadChildrenIfNeed(h,e).done((f=>{e.data=f,a._processTreeStructure(e,w),super._handleDataLoadedCore.call(a,e),u.resolve(e.data)}))})).fail(u.reject)}a._processTreeStructure(e)}super._handleDataLoadedCore(e)}_handlePush(e){let{changes:a}=e;this._dataSource._reshapeOnPush&&!!a.length&&(this._isReload=!0),a.forEach((S=>{S.index??(S.index=-1)})),super._handlePush.apply(this,arguments)}init(e,a){super.init.apply(this,arguments);const p=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this.createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),p==="tree"&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")}getKeyExpr(){const e=this.store(),a=e&&e.key(),p=this.option("keyExpr");if(ne(a)&&ne(p)&&!ke(a,p))throw Me.Error("E1044");return a||p||"id"}keyOf(e){return this._keyGetter&&this._keyGetter(e)}parentKeyOf(e){return this._parentIdGetter&&this._parentIdGetter(e)}getRootNode(){return this._rootNode}totalItemsCount(){return this._totalItemsCount+this._totalCountCorrection}isRowExpanded(e,a){if(a){let{isExpandedByKey:y}=a;if(!y){const S=this.option("expandedRowKeys")??[];y=a.isExpandedByKey={},S.forEach((w=>{y[w]=!0}))}return!!y[e]}return be.getIndexByKey(e,this.option("expandedRowKeys"),null)>=0}_changeRowExpandCore(e){const a=this.option("expandedRowKeys").slice(),p=be.getIndexByKey(e,a,null);p<0?a.push(e):a.splice(p,1),this.option("expandedRowKeys",a)}changeRowExpand(e){return this._changeRowExpandCore(e),this._isNodesInitializing?new se().resolve():this.load()}getNodeByKey(e){if(this._nodeByKey)return this._nodeByKey[e]}getNodeLeafKeys(){const e=this,a=[];return(e._rootNode?[e._rootNode.key]:[]).forEach((y=>{const S=e.getNodeByKey(y);S&&Y.foreachNodes([S],(w=>{!w.children.length&&a.push(w.key)}))})),a}getChildNodeKeys(e){const a=this.getNodeByKey(e),p=[];return a&&Y.foreachNodes(a.children,(y=>{p.push(y.key)})),p}loadDescendants(e,a){const p=this,y=new se,S=p.remoteOperations();if(ne(e)?e=Array.isArray(e)?e:[e]:e=p.getNodeLeafKeys(),!S.filtering||!e.length)return y.resolve();const w=p._dataSource._createStoreLoadOptions();return w.parentIds=e,p.load(w).done((()=>{if(!a){const d=_s(p,e);if(d.length){p.loadDescendants(d,a).done(y.resolve).fail(y.reject);return}}y.resolve()})).fail(y.reject),y.promise()}forEachNode(){let e=[],a;if(arguments.length===1){a=arguments[0];const p=this.getRootNode();e=p&&p.children||[]}else arguments.length===2&&(a=arguments[1],e=arguments[0],e=Array.isArray(e)?e:[e]);Y.foreachNodes(e,a)}}let tt=ys;const hn={extend(C){tt=C(tt)},create:C=>new tt(C)};class vs extends aa{_getDataSourceAdapter(){return hn}_getNodeLevel(e){let a=-1;for(;e.parent;)e.visible&&a++,e=e.parent;return a}_generateDataItem(e,a){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,a),level:this._getNodeLevel(e)}}_loadOnOptionChange(){this._dataSource.load()}_isItemEquals(e,a){return e.isSelected!==a.isSelected||e.node&&a.node&&e.node.hasChildren!==a.node.hasChildren||e.level!==a.level||e.isExpanded!==a.isExpanded?!1:super._isItemEquals.apply(this,arguments)}_isCellChanged(e,a,p,y,S){const w=this._columnsController.getFirstDataColumnIndex();return y===w&&e.isSelected!==a.isSelected?!0:super._isCellChanged.apply(this,arguments)}init(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),super.init.apply(this,arguments)}keyOf(e){const a=this._dataSource;if(a)return a.keyOf(e)}key(){const e=this._dataSource;if(e)return e.getKeyExpr()}publicMethods(){return super.publicMethods().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])}changeRowExpand(e){if(this._dataSource){const a={key:e},p=this.isRowExpanded(e);if(this.executeAction(p?"onRowCollapsing":"onRowExpanding",a),!a.cancel)return this._dataSource.changeRowExpand(e).done((()=>{this.executeAction(p?"onRowCollapsed":"onRowExpanded",a)}))}return new se().resolve()}isRowExpanded(e,a){return this._dataSource&&this._dataSource.isRowExpanded(e,a)}expandRow(e){return this.isRowExpanded(e)?new se().resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new se().resolve()}getRootNode(){return this._dataSource&&this._dataSource.getRootNode()}optionChanged(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":this._dataSource&&!this._dataSource._isNodesInitializing&&!ke(e.value,e.previousValue)&&this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:super.optionChanged(e)}}getNodeByKey(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)}getChildNodeKeys(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)}loadDescendants(e,a){if(this._dataSource)return this._dataSource.loadDescendants(e,a)}forEachNode(){this._dataSource.forEachNode.apply(this,arguments)}}Y.registerModule("data",{defaultOptions:()=>re({},oa.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}}),controllers:{data:vs}});Y.registerModule("sorting",sa);const gn="dx-treelist-text-content",Ts=function(C){return Z("<div>").addClass(gn).appendTo(C)},bs=(C,e,a)=>{const p=Z("<div>").addClass("dx-treelist-empty-space");return C&&p.addClass("dx-treelist-empty-space--last"),e&&p.addClass(a?"dx-treelist-expanded":"dx-treelist-collapsed"),p};class ws extends ua{_renderIconContainer(e,a){const p=Z("<div>").addClass("dx-treelist-icon-container").appendTo(e);if(a.watch){const y=a.watch((()=>[a.row.level,a.row.isExpanded,a.row.node.hasChildren]),(()=>{p.empty(),this._renderIcons(p,a)}));de.on(p,Lo,y)}return e.addClass("dx-treelist-cell-expandable"),this._renderIcons(p,a)}_renderIcons(e,a){const p=super._renderIcons(e,a),{row:y}=a,{level:S}=y;for(let w=0;w<=S;w+=1){const d=w===S,l=d&&y.node.hasChildren;bs(d,l,y.isExpanded).appendTo(p)}return p}_renderCellCommandContent(e,a){return this._renderIconContainer(e,a),!0}_processTemplate(e,a){var p;const y=this;let S;const w=super._processTemplate(e),d=y._columnsController.getFirstDataColumnIndex();return w&&((p=a.column)===null||p===void 0?void 0:p.index)===d?S={render(l){const u=l.container;y._renderCellCommandContent(u,l.model)&&(l.container=Ts(u)),w.render(l)}}:S=w,S}_updateCell(e,a){e=e.hasClass(gn)?e.parent():e,super._updateCell(e,a)}_rowClick(e){const a=this._dataController,p=Z(e.event.target),y=this.isExpandIcon(p),S=a==null?void 0:a.items()[e.rowIndex];y&&S&&a.changeRowExpand(S.key),super._rowClick(e)}_createRow(e){const a=e&&e.node,p=super._createRow.apply(this,arguments);return a&&(this.setAria("level",e.level+1,p),a.hasChildren&&this.setAriaExpandedAttribute(p,e)),p}_getGridRoleName(){return"treegrid"}isExpandIcon(e){return!!e.closest(".dx-treelist-expanded, .dx-treelist-collapsed").length}setAriaExpandedAttribute(e,a){const p=a.isExpanded;this.setAria("expanded",ne(p)&&p.toString(),e)}}Y.registerModule("rows",{defaultOptions:la.defaultOptions,views:{rowsView:ws}});Y.registerModule("contextMenu",da);Y.registerModule("errorHandling",ca);const Ss="dxTreeList-ariaExpandableInstruction";class Cs extends pa{constructor(){super(...arguments),this._expandableWidgetAriaId=Ss}_getWidgetAriaLabel(){return"dxTreeList-ariaTreeList"}_toggleBestFitMode(e){super._toggleBestFitMode(e),this._rowsView.getTableElement().find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}Y.registerModule("gridView",{defaultOptions:Qe.defaultOptions,controllers:fe({},Qe.controllers,{resizing:Cs}),views:Qe.views});Y.registerModule("headerPanel",ha);Y.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editingRowBased","editingFormBased","editingCellBased","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","headersKeyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);class mt extends ga{_initMarkup(){super._initMarkup.apply(this,arguments),this.$element().addClass("dx-treelist"),this.getView("gridView").render(this.$element())}static registerModule(){Y.registerModule.apply(Y,arguments)}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Ga(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])}_init(){super._init(),this.option("_disableDeprecationWarnings")||be.logHeaderFilterDeprecatedWarningIfNeed(this),Y.processModules(this,Y),Y.callModuleItemsMethod(this,"init")}getGridCoreHelper(){return Y}focus(e){super.focus(),ne(e)&&this.getController("keyboardNavigation").focus(e)}}Ge("dxTreeList",mt);const ks=C=>class extends Ae.extenders.controllers.stateStoring(C){applyState(e){super.applyState(e),this.option("expandedRowKeys",e.expandedRowKeys?e.expandedRowKeys.slice():[])}},Ds=C=>class extends Ae.extenders.controllers.data(C){getUserState(){const e=super.getUserState();return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}};Y.registerModule("stateStoring",fe({},Ae,{extenders:fe({},Ae.extenders,{controllers:fe({},Ae.extenders.controllers,{stateStoring:ks,data:Ds})})}));Y.registerModule("columnChooser",fa);const Is=C=>class extends _a(C){isRowExpanded(){return this.isRowExpandedHack.apply(this,arguments)}_processItems(){return this._processItemsHack.apply(this,arguments)}_processDataItem(){return this._processDataItemHack.apply(this,arguments)}};Y.registerModule("masterDetail",re(!0,{},ma,{extenders:{controllers:{data:Is}}}));Y.registerModule("editorFactory",ya);class Es extends Ue.controllers.editing{_generateNewItem(e){const a=super._generateNewItem(e);return a.data={key:e},a.children=[],a.level=0,a.parentKey=this.option("rootValue"),a}_isProcessedItem(){return!0}_setInsertAfterOrBeforeKey(e,a){const p=this._dataController.dataSource(),y=a||(p==null?void 0:p.parentKeyOf(e.data));y!==void 0&&y!==this.option("rootValue")?e.insertAfterKey=y:super._setInsertAfterOrBeforeKey.apply(this,arguments)}_getLoadedRowIndex(e,a){const p=this._dataController.dataSource(),y=p==null?void 0:p.parentKeyOf(a.data);return y!==void 0&&y!==this.option("rootValue")?be.getIndexByKey(y,e)>=0&&this._dataController.isRowExpanded(y)?super._getLoadedRowIndex.apply(this,arguments):-1:super._getLoadedRowIndex.apply(this,arguments)}_isEditColumnVisible(){const e=super._isEditColumnVisible.apply(this,arguments),a=this.option("editing");return e||a.allowAdding}_isDefaultButtonVisible(e,a){const p=super._isDefaultButtonVisible.apply(this,arguments),{row:y}=a;return e.name==="add"?this.allowAdding(a)&&y.rowIndex!==this._getVisibleEditRowIndex()&&!(y.removed||y.isNewRow):p}_getEditingButtons(e){const a=super._getEditingButtons.apply(this,arguments);return e.column.buttons||a.unshift(this._getButtonConfig("add",e)),a}_beforeSaveEditData(e){const a=super._beforeSaveEditData.apply(this,arguments);if(e&&e.type!=="insert"){var p;const y=(p=this._dataController)===null||p===void 0?void 0:p.store(),S=y==null?void 0:y.key();if(!ne(S))throw Me.Error("E1045")}return a}addRowByRowIndex(e){const a=this._dataController.getVisibleRows()[e];return this.addRow(a?a.key:void 0)}addRow(e){return e===void 0&&(e=this.option("rootValue")),super.addRow.call(this,e)}_addRowCore(e,a,p){const y=this.option("rootValue");if(a=this._dataController.dataSource().createParentIdGetter()(e),a!==void 0&&a!==y&&!this._dataController.isRowExpanded(a)){const d=new se;return this._dataController.expandRow(a).done((()=>{setTimeout((()=>{super._addRowCore.call(this,e,a,p).done(d.resolve).fail(d.reject)}))})).fail(d.reject),d.promise()}return super._addRowCore.call(this,e,a,p)}_initNewRow(e,a){return this._dataController.dataSource().createParentIdSetter()(e.data,a),super._initNewRow.apply(this,arguments)}allowAdding(e){return this._allowEditAction("allowAdding",e)}_needToCloseEditableCell(e){return super._needToCloseEditableCell.apply(this,arguments)||e.closest(".dx-treelist-icon-container").length&&this.isEditing()}getButtonLocalizationNames(){const e=super.getButtonLocalizationNames.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}const xs=C=>class extends Ue.extenders.views.rowsView(C){_renderCellCommandContent(e,a){const p=this._editingController,y=a.row&&p.isEditRow(a.row.rowIndex),S=a.isEditing||y;return!a.isOnForm&&!S?super._renderCellCommandContent.apply(this,arguments):!1}validateClick(e){const a=Z(e.event.target),p=e.event.type==="dxdblclick"?super._rowDblClick:super._rowClick;return a.closest(".dx-select-checkbox").length?!1:!this.needToCallOriginalClickHandler(e,p)}needToCallOriginalClickHandler(e,a){return Z(e.event.target).closest(".dx-treelist-icon-container").length?!1:(a.call(this,e),!0)}_rowClick(e){this.validateClick(e)&&super._rowClickTreeListHack.apply(this,arguments)}_rowDblClick(e){this.validateClick(e)&&super._rowDblClickTreeListHack.apply(this,arguments)}},As=C=>class extends va(C){changeRowExpand(){return this._editingController.refresh(),super.changeRowExpand.apply(this,arguments)}};Y.registerModule("editing",{defaultOptions:()=>re(!0,Ue.defaultOptions(),{editing:{texts:{addRowToNode:$.format("dxTreeList-editingAddRowToNode")}}}),controllers:{editing:Es},extenders:{controllers:{data:As},views:{rowsView:xs,headerPanel:Ue.extenders.views.headerPanel}}});Y.registerModule("editingRowBased",Ta);Y.registerModule("editingFormBased",ba);Y.registerModule("editingCellBased",wa);const Ps=C=>class extends Ee.extenders.controllers.editing(C){processDataItem(e){super.processDataItemTreeListHack.apply(this,arguments)}processItems(e,a){return super.processItemsTreeListHack.apply(this,arguments)}};Y.registerModule("validating",{defaultOptions:Ee.defaultOptions,controllers:Ee.controllers,extenders:{controllers:{editing:Ps,editorFactory:Ee.extenders.controllers.editorFactory},views:Ee.extenders.views}});const Ms=$e.defaultOptions;$e.extenders.views.rowsView=C=>class extends Sa(C){_handleDataChanged(e){const{operationTypes:a}=e;if(e!=null&&e.isDataChanged&&be.isVirtualRowRendering(this)&&a){const{fullReload:p,pageIndex:y}=a;!p&&y&&this._updateContentPosition()}super._handleDataChanged(e)}};$e.extenders.controllers.data=C=>class extends Ca(C){_loadOnOptionChange(){var e;const a=(e=this._dataSource)===null||e===void 0?void 0:e._virtualScrollController;a==null||a.reset(),super._loadOnOptionChange()}};const Rs=C=>class extends ka(C){changeRowExpand(){return super.changeRowExpand.apply(this,arguments).done((()=>{const e=this.getViewportItemIndex();e>=0&&this.setViewportItemIndex(e)}))}};Y.registerModule("virtualScrolling",fe({},$e,{defaultOptions:()=>re(!0,Ms(),{scrolling:{mode:"virtual"}})}));hn.extend(Rs);Y.registerModule("filterRow",Da);Y.registerModule("headerFilter",Ia);Y.registerModule("filterSync",Ea);Y.registerModule("filterBuilder",xa);Y.registerModule("filterPanel",Aa);Y.registerModule("pager",Pa);Y.registerModule("columnsResizingReordering",Ma);Y.registerModule("stickyColumns",Ra);Y.registerModule("columnFixing",Oa);Y.registerModule("adaptivity",La);const fn="dx-treelist-select-checkbox-container",Os=function(C,e){return!!C.filter((a=>a===e)).length},Ls=C=>class extends Ba(C){_handleDataChanged(e){this._selectionController.isRecursiveSelection()&&(!e||e.changeType!=="updateSelectionState")&&this._selectionController.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),super._handleDataChanged.apply(this,arguments)}loadDescendants(){const e=this,a=super.loadDescendants.apply(e,arguments);return this._selectionController.isRecursiveSelection()&&a.done((()=>{this._selectionController.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})})),a}},Ns=C=>class extends C{constructor(){super(...arguments),this._updateSelectColumn=vo}init(){super.init.apply(this,arguments),this._selectionStateByKey={}}_getSelectionConfig(){const e=super._getSelectionConfig.apply(this,arguments),{plainItems:a}=e;return e.plainItems=p=>{let y;return p&&(y=this._dataController.getCachedStoreData()),y||(y=a.apply(this,arguments).map((S=>S.data))),y||[]},e.isItemSelected=p=>{const y=this._dataController.keyOf(p);return this.isRowSelected(y)},e.isSelectableItem=p=>!!p,e.getItemData=p=>p,e.allowLoadByRange=void 0,e}renderSelectCheckBoxContainer(e,a){const p=this.component.getView("rowsView"),y=p._renderSelectCheckBox(e,{value:a.row.isSelected,row:a.row,column:a.column});p._attachCheckBoxClickEvent(y)}_getSelectAllNodeKeys(){const{component:e}=this,a=e.getRootNode(),p={},y=[],S=this.isRecursiveSelection();return a&&Y.foreachNodes(a.children,(w=>(w.key!==void 0&&(w.visible||S)&&y.push(w.key),w.visible?S?!1:e.isRowExpanded(w.key,p):!0))),y}isSelectAll(){if((this.option("selectedRowKeys")||[]).length===0)return!1;const{component:a}=this,p=this._getSelectAllNodeKeys(),y=this.isRecursiveSelection();let S=!1;const w=p.filter((d=>{const l=a.isRowSelected(d,y);return l===void 0&&(S=!0),l}));if(!w.length)return S?void 0:!1;if(w.length===p.length)return!0}selectAll(){const e=this._getSelectAllNodeKeys().filter((a=>!this.isRowSelected(a)));return this.focusedItemIndex(-1),this.selectRows(e,!0)}deselectAll(){const e=this._getSelectAllNodeKeys();return this.focusedItemIndex(-1),this.deselectRows(e)}selectedItemKeys(e,a,p,y){const S=this,w=S.option("selectedRowKeys"),l=this.isRecursiveSelection()&&S._normalizeSelectionArgs({keys:ne(e)?e:[]},a,!p);return l&&!ke(l.selectedRowKeys,w)?(S._isSelectionNormalizing=!0,super.selectedItemKeys(l.selectedRowKeys,!1,!1,!1).always((()=>{S._isSelectionNormalizing=!1})).done((u=>{l.selectedRowsData=u,S._fireSelectionChanged(l)}))):super.selectedItemKeys(e,a,p,y)}changeItemSelection(e,a,p){const y=this.isRecursiveSelection(),S=super.changeItemSelection.bind(this);if(y&&!a.shift){const w=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(w,!0,this.isRowSelected(w)).done((()=>{this.isRowSelected(w)&&S(e,a,!0)}))}return super.changeItemSelection.apply(this,arguments)}_updateParentSelectionState(e,a){const p=this;let y=a;const S=e.parent;S&&(S.children.length>1&&(a===!1?y=S.children.some((d=>p._selectionStateByKey[d.key]))?void 0:!1:a===!0&&(y=S.children.some((d=>!p._selectionStateByKey[d.key]))?void 0:!0)),this._selectionStateByKey[S.key]=y,S.parent&&S.parent.level>=0&&this._updateParentSelectionState(S,y))}_updateChildrenSelectionState(e,a){const p=this,{children:y}=e;y&&y.forEach((S=>{p._selectionStateByKey[S.key]=a,S.children.length>0&&p._updateChildrenSelectionState(S,a)}))}_updateSelectionStateCore(e,a){const p=this._dataController;this._selectionStateByKey={};for(let y=0;y<e.length;y++){this._selectionStateByKey[e[y]]=a;const S=p.getNodeByKey(e[y]);S&&(this._updateParentSelectionState(S,a),this._updateChildrenSelectionState(S,a))}}_getSelectedParentKeys(e,a,p){let y;const S=this._dataController.getNodeByKey(e);let w=S&&S.parent,d=[];for(;w&&w.level>=0;){if(d.unshift(w.key),p?!Os(a,w.key)&&this.isRowSelected(w.key):a.indexOf(w.key)>=0){y=w,d=this._getSelectedParentKeys(y.key,a,p).concat(d);break}else if(p)break;w=w.parent}return y&&d||[]}_getSelectedChildKeys(e,a){const p=[],y=this._dataController.getNodeByKey(e);return y&&Y.foreachNodes(y.children,(S=>{const w=a.indexOf(S.key);return w<0&&p.push(S.key),w>0||w<0&&this._selectionStateByKey[S.key]===void 0})),p}_normalizeParentKeys(e,a){const p=this;let y=[e];const S=p._getSelectedParentKeys(e,a.selectedRowKeys);if(S.length){y=y.concat(S),y.forEach((d=>{const l=a.selectedRowKeys.indexOf(d);l>=0&&a.selectedRowKeys.splice(l,1)}));const w=p._getSelectedChildKeys(S[0],y);a.selectedRowKeys=a.selectedRowKeys.concat(w)}}_normalizeChildrenKeys(e,a){const p=this._dataController.getNodeByKey(e);p&&p.children.forEach((y=>{const S=a.selectedRowKeys.indexOf(y.key);S>=0&&a.selectedRowKeys.splice(S,1),this._normalizeChildrenKeys(y.key,a)}))}_normalizeSelectedRowKeysCore(e,a,p,y){const S=this;e.forEach((w=>{if(p&&S.isRowSelected(w)===y)return;S._normalizeChildrenKeys(w,a);const d=a.selectedRowKeys.indexOf(w);y?(d<0&&a.selectedRowKeys.push(w),a.currentSelectedRowKeys.push(w)):(d>=0&&a.selectedRowKeys.splice(d,1),a.currentDeselectedRowKeys.push(w),S._normalizeParentKeys(w,a))}))}_normalizeSelectionArgs(e,a,p){let y;const S=Array.isArray(e.keys)?e.keys:[e.keys],w=this.option("selectedRowKeys")||[];return S.length&&(y={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:a?w.slice(0):[]},this._normalizeSelectedRowKeysCore(S,y,a,p)),y}_updateSelectedItems(e){this.updateSelectionState(e),super._updateSelectedItems(e)}_fireSelectionChanged(){this._isSelectionNormalizing||super._fireSelectionChanged.apply(this,arguments)}_isModeLeavesOnly(e){return e==="leavesOnly"}_removeDuplicatedKeys(e){const a=[],p={};return e.forEach((y=>{p[y]||(p[y]=!0,a.push(y))})),a}_getAllChildKeys(e){const a=[],p=this._dataController.getNodeByKey(e);return p&&Y.foreachNodes(p.children,(y=>{a.push(y.key)}),!0),a}_getAllSelectedRowKeys(e){let a=[];return e.forEach((p=>{const y=this._getSelectedParentKeys(p,[],!0),S=this._getAllChildKeys(p);a.push.apply(a,y.concat([p],S))})),a=this._removeDuplicatedKeys(a),a}_getParentSelectedRowKeys(e){const a=this,p=[];return e.forEach((y=>{!a._getSelectedParentKeys(y,e).length&&p.push(y)})),p}_getLeafSelectedRowKeys(e){const a=[],p=this._dataController;return e.forEach((y=>{const S=p.getNodeByKey(y);S&&!S.hasChildren&&a.push(y)})),a}isRecursiveSelection(){const e=this.option("selection.mode"),a=this.option("selection.recursive");return e==="multiple"&&a}updateSelectionState(e){const a=e.removedItemKeys||[],p=e.selectedItemKeys||[];this.isRecursiveSelection()&&(this._updateSelectionStateCore(a,!1),this._updateSelectionStateCore(p,!0))}isRowSelected(e,a){const p=super.isRowSelected.apply(this,arguments);return a=a??this.isRecursiveSelection(),!p&&a?e in this._selectionStateByKey?this._selectionStateByKey[e]:!1:p}getSelectedRowKeys(e){const a=this;if(!a._dataController)return[];let p=super.getSelectedRowKeys.apply(a,arguments);return e&&(this.isRecursiveSelection()&&(p=this._getAllSelectedRowKeys(p)),e!=="all"&&(e==="excludeRecursive"?p=a._getParentSelectedRowKeys(p):a._isModeLeavesOnly(e)&&(p=a._getLeafSelectedRowKeys(p)))),p}getSelectedRowsData(e){const a=this._dataController,p=this.getSelectedRowKeys(e)||[],y=[];return p.forEach((S=>{const w=a.getNodeByKey(S);w&&y.push(w.data)})),y}refresh(){return this._selectionStateByKey={},super.refresh.apply(this,arguments)}},Fs=C=>class extends Fa(C){_processTemplate(e,a){const p=this;let y;const S=super._processTemplate(e,a),w=p._columnsController.getFirstDataColumnIndex();return S&&a.rowType==="header"&&a.column.index===w?y={render(d){S.render(d),p.option("selection.mode")==="multiple"&&p.renderSelectAll(d.container,d.model)}}:y=S,y}_renderSelectAllCheckBox(e){const a=Z("<div>").addClass(fn),p=this._createSelectAllCheckboxElement();return p.appendTo(a),a.prependTo(e),p}renderSelectAll(e,a){e.addClass("dx-treelist-select-all"),this._renderSelectAllCheckBox(e)}_isSortableElement(e){return super._isSortableElement(e)&&!e.closest(".dx-select-checkbox").length}},Bs=C=>class extends Na(C){_renderIcons(e,a){const p=super._renderIcons(e,a),y=this.option("selection.mode")==="multiple";if(!a.row.isNewRow&&y){const S=Z("<div>").addClass(fn);S.appendTo(p),this._selectionController.renderSelectCheckBoxContainer(S,a)}return p}_rowClick(e){const a=Z(e.event.target);this.isExpandIcon(a)?super._rowClickForTreeList.apply(this,arguments):super._rowClick.apply(this,arguments)}};Y.registerModule("selection",re(!0,{},Wt,{defaultOptions:()=>re(!0,Wt.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}}),extenders:{controllers:{data:Ls,selection:Ns},views:{columnHeadersView:Fs,rowsView:Bs}}}));Y.registerModule("search",Ha);const Hs=C=>class extends ja(C){_leftRightKeysHandler(e,a){const p=this.getVisibleRowIndex(),y=this._dataController;if(e.ctrl){const S=this._getDirectionCodeByKey(e.keyName),w=y.getKeyByRowIndex(p);S==="nextInRow"?y.expandRow(w):y.collapseRow(w)}else return super._leftRightKeysHandler.apply(this,arguments)}};Y.registerModule("keyboardNavigation",re(!0,{},Va,{extenders:{controllers:{keyboardNavigation:Hs}}}));Y.registerModule("headersKeyboardNavigation",Wa);Y.registerModule("virtualColumns",Ua);function Vs(C,e){let a=-1;return C.forEach(((p,y)=>{e(p)&&(a=y)})),a}const js=C=>class extends je.extenders.controllers.data(C){changeRowExpand(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),super.changeRowExpand.apply(this,arguments)}_isFocusedRowInside(e){const a=this.option("focusedRowKey"),p=this.getRowIndexByKey(a),y=p>=0&&this.getVisibleRows()[p];let S=y&&y.node.parent;for(;S;){if(S.key===e)return!0;S=S.parent}return!1}getParentKey(e){const a=this._dataSource,p=this.getNodeByKey(e),y=new se;return p?y.resolve(p.parent?p.parent.key:void 0):a.load({filter:[a.getKeyExpr(),"=",e]}).done((S=>{const w=S[0];w?y.resolve(a.parentKeyOf(w)):y.resolve()})).fail(y.reject),y.promise()}expandAscendants(e){const a=this,p=a._dataSource,y=new se;return a.getParentKey(e).done((S=>{p&&S!==void 0&&S!==a.option("rootValue")?(p._isNodesInitializing=!0,a.expandRow(S),p._isNodesInitializing=!1,a.expandAscendants(S).done(y.resolve).fail(y.reject)):y.resolve()})).fail(y.reject),y.promise()}getPageIndexByKey(e){const a=this,p=a._dataSource,y=new se;return a.expandAscendants(e).done((()=>{p.load({parentIds:[]}).done((S=>{const w=Vs(S,(l=>a.keyOf(l.data)===e));let d=-1;w>=0&&(d=Math.floor(w/a.pageSize())),y.resolve(d)})).fail(y.reject)})).fail(y.reject),y.promise()}};Y.registerModule("focus",fe({},je,{extenders:fe({},je.extenders,{controllers:fe({},je.extenders.controllers,{data:js})})}));Y.registerModule("rowDragging",Ka);class Ws{constructor(e){var a;this.collapsed=!1,this.key=e.key,this.children=e.children.map((p=>p.key)),this.parentKey=(a=e.parent)===null||a===void 0?void 0:a.key}hasChildren(){return this.children.length>0}removeChild(e){const a=this.children.indexOf(e.key);a>-1&&(this.children=this.children.splice(a,1))}equal(e){return!(!e||e.key!==this.key||e.parentKey!==this.parentKey||this.children.length!==e.children.length||this.children.some(((a,p)=>a!==e.children[p])))}}class Us{constructor(){this._resetHash()}clear(){this._resetHash()}applyNodes(e,a){this._rootValue!==a&&(this._resetHash(),this._rootValue=a),this._removeNonExistentNodes(e.map((p=>p.key))),e.forEach((p=>this._applyNode(p))),this._validateHash()}saveExpandedState(e){this._hasCollapsed=!1,this._forEachState((a=>{a.hasChildren()&&!e.includes(a.key)&&(a.collapsed=!0,this._hasCollapsed=!0)}))}getExpandedKeys(){if(this._hasCollapsed){const e=[];return this._forEachState((a=>{a.hasChildren()&&!a.collapsed&&e.push(a.key)})),e}return null}_resetHash(){this._nodeHash={},this._hasCollapsed=!1}_getNodeState(e){return this._nodeHash[e]}_removeNonExistentNodes(e){e&&this._forEachState((a=>{e.includes(a.key)||this._removeStateWithChildren(a)}))}_removeStateWithChildren(e){const a=this._getNodeState(e);if(a){a.children.forEach((y=>this._removeStateWithChildren(y)));const p=this._getNodeState(a.parentKey);p&&p.removeChild(a),delete this._nodeHash[e]}}_applyNode(e){const a=new Ws(e),p=this._getNodeState(e.key);p!=null&&p.equal(a)||(this._nodeHash[e.key]=a,this._expandTreelineToNode(e.key))}_expandTreelineToNode(e){const a=this._getNodeState(e);let p=this._getNodeState(a==null?void 0:a.parentKey);for(;p;)p.collapsed=!1,p=this._getNodeState(p.parentKey)}_validateHash(){Object.keys(this._nodeHash).forEach((e=>{const a=this._getNodeState(e),p=a==null?void 0:a.parentKey;p!==this._rootValue&&!this._getNodeState(p)&&this._removeStateWithChildren(e)}))}_forEachState(e){Object.keys(this._nodeHash).forEach((a=>{const p=this._nodeHash[a];p&&e(p)}))}}const Ks="dx-gantt-collapsable-row";class zs{constructor(e){this._gantt=e,this._$treeList=this._gantt._$treeList}getTreeList(){const{keyExpr:e,parentIdExpr:a}=this._gantt.option("tasks");return this._treeList=this._gantt._createComponent(this._$treeList,mt,{dataSource:this.createDataSource(this._gantt._tasksRaw,e),keyExpr:e,filterSyncEnabled:!0,parentIdExpr:a,columns:this.getColumns(),columnResizingMode:"nextColumn",height:this._getHeight(),width:this._gantt.option("taskListWidth"),selection:{mode:ae.getSelectionMode(this._gantt.option("allowSelection"))},selectedRowKeys:ae.getArrayFromOneElement(this._gantt.option("selectedRowKey")),sorting:this._gantt.option("sorting"),filterRow:this._gantt.option("filterRow"),headerFilter:this._gantt.option("headerFilter"),scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this._gantt.option("showRowLines"),rootValue:this._gantt.option("rootValue"),onContentReady:p=>{this._onContentReady(p)},onSelectionChanged:p=>{this._onSelectionChanged(p)},onRowCollapsed:p=>{this._onRowCollapsed(p)},onRowExpanded:p=>{this._onRowExpanded(p)},onRowPrepared:p=>{this._onRowPrepared(p)},onContextMenuPreparing:p=>{this._onContextMenuPreparing(p)},onRowClick:p=>{this.onRowClick(p)},onRowDblClick:p=>{this.onRowDblClick(p)},onNodesInitialized:p=>{this._onNodesInitialized(p)},_disableDeprecationWarnings:!0}),this._treeList}onAfterTreeListCreate(){this._postponedGanttInitRequired&&(this._initGanttOnContentReady({component:this._treeList}),delete this._postponedGanttInitRequired)}_onContentReady(e){!!this._treeList?this._initGanttOnContentReady(e):this._postponedGanttInitRequired=!0,this._gantt._onTreeListContentReady(e)}_initGanttOnContentReady(e){e.component.getDataSource()&&(this._gantt._initGanttView(),this._initScrollSync(e.component)),this._gantt._sortAndFilter(),this._gantt._sizeHelper.updateGanttRowHeights()}_onSelectionChanged(e){const a=e.currentSelectedRowKeys[0];this._gantt._setGanttViewOption("selectedRowKey",a),this._gantt._setOptionWithoutOptionChange("selectedRowKey",a),this._gantt._actionsManager.raiseSelectionChangedAction(a)}_onRowCollapsed(e){this._gantt._onTreeListRowExpandChanged(e,!1)}_onRowExpanded(e){this._gantt._onTreeListRowExpandChanged(e,!0)}_onRowPrepared(e){e.rowType==="data"&&e.node.children.length>0&&Z(e.rowElement).addClass(Ks)}_onContextMenuPreparing(e){var a,p;if(e.target==="header")return;((a=e.row)===null||a===void 0?void 0:a.rowType)==="data"&&this.setOption("selectedRowKeys",[e.row.data[this._gantt.option("tasks.keyExpr")]]);const y={cancel:!1,event:e.event,type:"task",key:(p=e.row)===null||p===void 0?void 0:p.key,position:{x:e.event.pageX,y:e.event.pageY}};this._gantt._showPopupMenu(y),e.event.preventDefault()}_getHeight(){return Te(this._$treeList)?Te(this._$treeList):(this._gantt._hasHeight=ne(this._gantt.option("height"))&&this._gantt.option("height")!=="",this._gantt._hasHeight?"100%":"")}_initScrollSync(e){const a=e.getScrollable();a&&(a.off("scroll"),a.on("scroll",(p=>{this._onScroll(p)})))}_onScroll(e){const a=this._gantt._ganttView.getTaskAreaContainer();a.scrollTop!==e.component.scrollTop()&&(a.scrollTop=e.component.scrollTop())}_correctRowsViewRowHeight(e){const a=this._treeList._views&&this._treeList._views.rowsView;(a==null?void 0:a._rowHeight)!==e&&(a._rowHeight=e)}_skipUpdateTreeListDataSource(){return this._gantt.option("validation.autoUpdateParentTasks")}selectRows(e){this.setOption("selectedRowKeys",e)}scrollBy(e){const a=this._treeList.getScrollable();if(a){const p=e-a.scrollTop();Math.abs(p)>=2&&a.scrollBy({left:0,top:p})}}updateDataSource(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this._skipUpdateTreeListDataSource()||a)this.setDataSource(e);else if(p){const y=this._treeList.option("dataSource");this._gantt._onParentTasksRecalculated(y)}}setDataSource(e){this.setOption("dataSource",this.createDataSource(e))}createDataSource(e,a){return e&&new qo({store:new ln({data:e,key:a||this.getOption("keyExpr")})})}onRowClick(e){this._gantt._actionsManager.raiseTaskClickAction(e.key,e.event)}onRowDblClick(e){this._gantt._actionsManager.raiseTaskDblClickAction(e.key,e.event)&&this._gantt._ganttView._ganttViewCore.showTaskEditDialog()}saveExpandedKeys(){const e=this._treeList,a=e==null?void 0:e.getVisibleRows().length;if(a>0){const p=this.getAllNodes(),y=this.getOption("expandedRowKeys");if(y&&p.length!==a){const w=this.getNodesState();w.applyNodes(p,this.getOption("rootValue")),w.saveExpandedState(y)}}}_onNodesInitialized(e){const a=this.getNodesState(),p=a.getExpandedKeys(),y=this.getAllNodes();a.applyNodes(y,this.getOption("rootValue"));const S=a.getExpandedKeys();if(S&&this.setOption("expandedRowKeys",S),this.isExpandedStateChanged(p,S)){const w=y.reduce(((d,l)=>(d[l.key]=S?S.includes(l.key):!0,d)),{});this._gantt._ganttView.applyTasksExpandedState(w)}a.clear()}getNodesState(){return this._nodeState||(this._nodeState=new Us),this._nodeState}getAllNodes(){var e,a;const p=(e=this._treeList)===null||e===void 0||(e=e.getDataSource())===null||e===void 0?void 0:e.store();if(!p||!((a=this._treeList)!==null&&a!==void 0&&a.getNodeByKey))return[];const y=he(p.key());return p._array.map((S=>this._treeList.getNodeByKey(y(S)))).filter((S=>!!S))}isExpandedStateChanged(e,a){return e===null&&a===null?!1:(e==null?void 0:e.length)!==(a==null?void 0:a.length)?!0:e.some(((p,y)=>p!==a[y]))}getOffsetHeight(){return this._gantt._treeList._$element.get(0).offsetHeight}getRowHeight(){const e=this._treeList._$element.find(".dx-data-row");let a=e.length?jt(e.last().get(0)).height:34;return a||(a=34),this._correctRowsViewRowHeight(a),a}getHeaderHeight(){return jt(this._treeList._$element.find(".dx-treelist-headers").get(0)).height}getColumns(){const e=this._gantt.option("columns");if(e)for(let a=0;a<e.length;a++){const p=e[a];(p.dataField===this._gantt.option("tasks.keyExpr")||p.dataField===this._gantt.option("tasks.parentIdExpr"))&&!p.dataType&&(p.dataType="object")}return e}getSievedItems(){const e=this._treeList.getRootNode();if(!e)return;const a=[];ae.convertTreeToList(e,a);const p=ae.compileGettersByOption(this._gantt.option("tasks"));return this._gantt._validateSourceData("tasks",a).map(ae.prepareMapHandler(p))}setOption(e,a){this._treeList&&this._treeList.option(e,a)}getOption(e){var a;return(a=this._treeList)===null||a===void 0?void 0:a.option(e)}onTaskInserted(e,a){if(ne(a)){const p=this.getOption("expandedRowKeys");p.indexOf(a)===-1&&(p.push(a),this.setOption("expandedRowKeys",p))}this.selectRows(ae.getArrayFromOneElement(e)),this.setOption("focusedRowKey",e)}getDataSource(){var e;return(e=this._treeList)===null||e===void 0?void 0:e.getDataSource()}}var We={exports:{}};/*! For license information please see dx-gantt.min.js.LICENSE.txt */var Gs=We.exports,Gt;function $s(){return Gt||(Gt=1,(function(C,e){(function(a,p){C.exports=p()})(Gs,(()=>(()=>{var a={9279:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Browser=void 0;var l=(function(){function u(){}return u.IdentUserAgent=function(h,f){f===void 0&&(f=!1);var s=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],n="IE",i="Win",t={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(h&&h.length!==0){h=h.toLowerCase(),u.indentPlatformMajorVersion(h);try{for(var r={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},o="(?:/|\\s*)?",c="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",g="(?:"+c+")?",v={Safari:"applewebkit(?:.*?(?:version/"+c+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+o+g,Mozilla:"mozilla(?:.*rv:"+g+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+g,Firefox:"firefox"+o+g,Opera:"(?:opera|\\sopr)"+o+g,Opera10:"opera.*\\s*version"+o+g,IE:"msie\\s*"+g,Edge:"edge"+o+g},m=null,_=-1,T=0;T<s.length;T++){var b=s[T],k=new RegExp(v[b],"i").exec(h);if(k&&k.index>=0){if(m==="IE"&&_>=11&&b==="Safari")continue;(m=b)==="Opera10"&&(m="Opera");var D="trident"+o+g;_=u.GetBrowserVersion(h,k,D,u.getIECompatibleVersionString()),m==="Mozilla"&&_>=11&&(m="IE")}}m||(m=n);var E=_!==-1;E||(_=t[m]);var A=null,F=Number.MAX_VALUE;for(var R in r)if(Object.prototype.hasOwnProperty.call(r,R)){var x=R.substr(0,1)==="!",N=h.indexOf((x?R.substr(1):R).toLowerCase());N>=0&&(N<F||x)&&(F=x?0:N,A=r[R])}var H=h.toUpperCase().match("SM-[A-Z]"),G=H&&H.length>0;A==="WinPhone"&&_<9&&(_=Math.floor(u.getVersionFromTrident(h,"trident"+o+g))),!f&&m==="IE"&&_>7&&document.documentMode<_&&(_=document.documentMode),A==="WinPhone"&&(_=Math.max(9,_)),A||(A=i),A!==r["cpu os"]||E||(_=4),u.fillUserAgentInfo(s,m,_,A,G)}catch{u.fillUserAgentInfo(s,n,t[n],i)}}else u.fillUserAgentInfo(s,n,t[n],i)},u.GetBrowserVersion=function(h,f,s,n){var i=u.getVersionFromMatches(f);if(n){var t=u.getVersionFromTrident(h,s);if(n==="edge"||parseInt(n)===t)return t}return i},u.getIECompatibleVersionString=function(){if(document.compatible){for(var h=0;h<document.compatible.length;h++)if(document.compatible[h].userAgent==="IE"&&document.compatible[h].version)return document.compatible[h].version.toLowerCase()}return""},u.isTouchEnabled=function(){return u.hasTouchStart()||u.hasMaxTouchPoints()||u.hasMsMaxTouchPoints()},u.hasTouchStart=function(){return"ontouchstart"in window},u.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},u.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},u.hasNavigator=function(){return typeof navigator<"u"},u.fillUserAgentInfo=function(h,f,s,n,i){i===void 0&&(i=!1);for(var t=0;t<h.length;t++){var r=h[t];u[r]=r===f}u.Version=Math.floor(10*s)/10,u.MajorVersion=Math.floor(u.Version),u.WindowsPlatform=n==="Win"||n==="WinPhone",u.MacOSMobilePlatform=n==="MacMobile"||n==="Mac"&&u.isTouchEnabled(),u.MacOSPlatform=n==="Mac"&&!u.MacOSMobilePlatform,u.AndroidMobilePlatform=n==="Android",u.WindowsPhonePlatform=n==="WinPhone",u.WebKitFamily=u.Safari||u.Chrome||u.Opera&&u.MajorVersion>=15,u.NetscapeFamily=u.Netscape||u.Mozilla||u.Firefox,u.WebKitTouchUI=u.MacOSMobilePlatform||u.AndroidMobilePlatform;var o=u.IE&&u.MajorVersion>9&&u.WindowsPlatform&&u.UserAgent.toLowerCase().indexOf("touch")>=0;if(u.MSTouchUI=o||u.Edge&&!!window.navigator.maxTouchPoints,u.TouchUI=u.WebKitTouchUI||u.MSTouchUI,u.MobileUI=u.WebKitTouchUI||u.WindowsPhonePlatform,u.AndroidDefaultBrowser=u.AndroidMobilePlatform&&!u.Chrome,u.AndroidChromeBrowser=u.AndroidMobilePlatform&&u.Chrome,i&&(u.SamsungAndroidDevice=i),u.MSTouchUI){var c=u.UserAgent.toLowerCase().indexOf("arm;")>-1;u.VirtualKeyboardSupported=c||u.WindowsPhonePlatform}else u.VirtualKeyboardSupported=u.WebKitTouchUI;u.fillDocumentElementBrowserTypeClassNames(h)},u.indentPlatformMajorVersion=function(h){var f=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(h);f&&(u.PlaformMajorVersion=f[1])},u.getVersionFromMatches=function(h){var f=-1,s="";return h&&(h[1]&&(s+=h[1],h[2]&&(s+="."+h[2])),s!==""&&(f=parseFloat(s),isNaN(f)&&(f=-1))),f},u.getVersionFromTrident=function(h,f){var s=new RegExp(f,"i").exec(h);return u.getVersionFromMatches(s)+4},u.fillDocumentElementBrowserTypeClassNames=function(h){for(var f="",s=h.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),n=0;n<s.length;n++){var i=s[n];u[i]&&(f+="dx"+i+" ")}f+="dxBrowserVersion-"+u.MajorVersion,typeof document<"u"&&document&&document.documentElement&&(document.documentElement.className!==""&&(f=" "+f),document.documentElement.className+=f,u.Info=f)},u.getUserAgent=function(){return u.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},u.UserAgent=u.getUserAgent(),u._foo=u.IdentUserAgent(u.UserAgent),u})();d.Browser=l},6799:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExtendedMinMax=d.ExtendedMax=d.ExtendedMin=d.MinMaxNumber=d.MinMax=void 0;var u=l(655),h=function(t,r){this.minElement=t,this.maxElement=r};d.MinMax=h;var f=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(r,t),Object.defineProperty(r.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),r})(h);d.MinMaxNumber=f;var s=function(t,r){this.minElement=t,this.minValue=r};d.ExtendedMin=s;var n=function(t,r){this.maxElement=t,this.maxValue=r};d.ExtendedMax=n;var i=(function(t){function r(o,c,g,v){var m=t.call(this,o,g)||this;return m.minValue=c,m.maxValue=v,m}return u.__extends(r,t),r})(h);d.ExtendedMinMax=i},3604:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Margins=void 0;var u=l(655),h=(function(f){function s(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(s,f),s.empty=function(){return new s(0,0,0,0)},s.prototype.clone=function(){return new s(this.left,this.right,this.top,this.bottom)},s})(l(4125).Offsets);d.Margins=h},5596:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Metrics=void 0;var l=(function(){function u(){}return u.euclideanDistance=function(h,f){var s=h.x-f.x,n=h.y-f.y;return Math.sqrt(s*s+n*n)},u.manhattanDistance=function(h,f){return Math.abs(h.x-f.x)+Math.abs(h.y-f.y)},u})();d.Metrics=l},4125:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Offsets=void 0;var l=(function(){function u(h,f,s,n){this.left=h,this.right=f,this.top=s,this.bottom=n}return u.empty=function(){return new u(0,0,0,0)},Object.defineProperty(u.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),u.fromNumber=function(h){return new u(h,h,h,h)},u.fromOffsets=function(h){return new u(h.left,h.right,h.top,h.bottom)},u.fromSide=function(h,f){return new u(h,h,f,f)},u.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},u.prototype.toString=function(){return JSON.stringify(this)},u.prototype.isEmpty=function(){return this.left===0&&this.right===0&&this.top===0&&this.bottom===0},u.prototype.offset=function(h){return this.left+=h.left,this.right+=h.right,this.top+=h.top,this.bottom+=h.bottom,this},u.prototype.multiply=function(h,f,s,n){switch(arguments.length){case 1:return this.left*=h,this.right*=h,this.top*=h,this.bottom*=h,this;case 2:return this.left*=h,this.right*=h,this.top*=f,this.bottom*=f,this;case 4:return this.left*=h,this.right*=f,this.top*=s,this.bottom*=n,this}return this},u.prototype.clone=function(){return new u(this.left,this.right,this.top,this.bottom)},u.prototype.copyFrom=function(h){this.left=h.left,this.right=h.right,this.top=h.top,this.bottom=h.bottom},u.prototype.equals=function(h){return this.top===h.top&&this.bottom===h.bottom&&this.right===h.right&&this.left===h.left},u.prototype.applyConverter=function(h){return this.left=h(this.left),this.right=h(this.right),this.top=h(this.top),this.bottom=h(this.bottom),this},u})();d.Offsets=l},8900:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Point=void 0;var l=(function(){function u(h,f){this.x=h,this.y=f}return u.zero=function(){return new u(0,0)},u.fromNumber=function(h){return new u(h,h)},u.prototype.isZero=function(){return this.x===0&&this.y===0},u.prototype.toString=function(){return JSON.stringify(this)},u.prototype.copyFrom=function(h){this.x=h.x,this.y=h.y},u.prototype.clone=function(){return new u(this.x,this.y)},u.prototype.equals=function(h){return this.x===h.x&&this.y===h.y},u.prototype.offset=function(h,f){return this.x+=h,this.y+=f,this},u.prototype.offsetByPoint=function(h){return this.x+=h.x,this.y+=h.y,this},u.prototype.multiply=function(h,f){return this.x*=h,this.y*=f,this},u.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},u.prototype.applyConverter=function(h){return this.x=h(this.x),this.y=h(this.y),this},u.plus=function(h,f){return new u(h.x+f.x,h.y+f.y)},u.minus=function(h,f){return new u(h.x-f.x,h.y-f.y)},u.xComparer=function(h,f){return h.x-f.x},u.yComparer=function(h,f){return h.y-f.y},u.equals=function(h,f){return h.x===f.x&&h.y===f.y},u})();d.Point=l},6353:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Size=void 0;var l=(function(){function u(h,f){this.width=h,this.height=f}return u.empty=function(){return new u(0,0)},u.fromNumber=function(h){return new u(h,h)},u.initByCommonAction=function(h){var f=function(n){return n.width},s=function(n){return n.height};return new u(h(f,s),h(s,f))},u.prototype.isEmpty=function(){return this.width===0&&this.height===0},u.prototype.toString=function(){return JSON.stringify(this)},u.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},u.prototype.offset=function(h,f){return this.width=this.width+h,this.height=this.height+f,this},u.prototype.multiply=function(h,f){return this.width*=h,this.height*=f,this},u.prototype.equals=function(h){return this.width===h.width&&this.height===h.height},u.prototype.clone=function(){return new u(this.width,this.height)},u.prototype.copyFrom=function(h){this.width=h.width,this.height=h.height},u.prototype.applyConverter=function(h){return this.width=h(this.width),this.height=h(this.height),this},u.equals=function(h,f){return h.width===f.width&&h.height===f.height},u})();d.Size=l},2217:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AttrUtils=void 0;var u=l(9279),h=(function(){function f(){}return f.setElementAttribute=function(s,n,i){s.setAttribute&&(u.Browser.IE&&u.Browser.MajorVersion>=11&&n.toLowerCase()==="src"&&s.setAttribute(n,""),s.setAttribute(n,i))},f.setStyleAttribute=function(s,n,i){s.setProperty&&s.setProperty(n,i,"")},f.getElementAttribute=function(s,n){return s.getAttribute(n)},f.getStyleAttribute=function(s,n){if(s.getPropertyValue){if(u.Browser.Firefox)try{return s.getPropertyValue(n)}catch{return s[n]}return s.getPropertyValue(n)}return null},f.removeElementAttribute=function(s,n){s.removeAttribute&&s.removeAttribute(n)},f.removeStyleAttribute=function(s,n){s.removeProperty&&s.removeProperty(n)},f.changeElementStyleAttribute=function(s,n,i){f.saveStyleAttributeInElement(s,n),f.setStyleAttribute(s.style,n,i)},f.restoreElementStyleAttribute=function(s,n){var i="dxwu_saved"+n,t=s.style;if(f.isExistsAttributeInElement(s,i)){var r=f.getElementAttribute(s,i);return r===f.emptyObject||r===null?f.removeStyleAttribute(t,n):f.setStyleAttribute(t,n,r),f.removeElementAttribute(s,i),!0}return!1},f.saveStyleAttributeInElement=function(s,n){var i="dxwu_saved"+n,t=s.style;if(!f.isExistsAttributeInElement(s,i)){var r=f.getStyleAttribute(t,n);f.setElementAttribute(s,i,f.isAttributeExists(r)?r:f.emptyObject)}},f.isExistsAttributeInElement=function(s,n){var i=f.getElementAttribute(s,n);return f.isAttributeExists(i)},f.isAttributeExists=function(s){return s!==null&&s!==""},f.emptyObject="DxEmptyValue",f})();d.AttrUtils=h},2491:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.numberToStringHex=d.numberToStringBin=d.isOdd=d.isEven=d.isNonNullString=d.isString=d.isNumber=d.boolToString=d.boolToInt=d.isDefined=void 0;var u=l(49);d.isDefined=function(h){return h!=null},d.boolToInt=function(h){return h?1:0},d.boolToString=function(h){return h?"1":"0"},d.isNumber=function(h){return typeof h=="number"},d.isString=function(h){return typeof h=="string"},d.isNonNullString=function(h){return!!h},d.isEven=function(h){return h%2!=0},d.isOdd=function(h){return h%2==0},d.numberToStringBin=function(h,f){return f===void 0&&(f=0),u.StringUtils.padLeft(h.toString(2),f,"0")},d.numberToStringHex=function(h,f){return f===void 0&&(f=0),u.StringUtils.padLeft(h.toString(16),f,"0")}},4170:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Equals=d.Comparers=void 0;var l=(function(){function h(){}return h.number=function(f,s){return f-s},h.string=function(f,s){return f===s?0:f>s?1:-1},h.stringIgnoreCase=function(f,s){return(f=f.toLowerCase())===(s=s.toLowerCase())?0:f>s?1:-1},h})();d.Comparers=l;var u=(function(){function h(){}return h.simpleType=function(f,s){return f===s},h.object=function(f,s){return f&&s&&(f===s||f.equals(s))},h})();d.Equals=u},6907:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DomUtils=void 0;var u=l(9279),h=l(2491),f=l(8679),s=l(49),n=(function(){function r(){}return r.clearInnerHtml=function(o){for(;o.firstChild;)o.removeChild(o.firstChild)},r.setStylePosition=function(o,c){o.left=f.MathUtils.round(c.x,3)+"px",o.top=f.MathUtils.round(c.y,3)+"px"},r.setStyleSize=function(o,c){o.width=f.MathUtils.round(c.width,3)+"px",o.height=f.MathUtils.round(c.height,3)+"px"},r.setStyleSizeAndPosition=function(o,c){r.setStylePosition(o,c),r.setStyleSize(o,c)},r.hideNode=function(o){if(o){var c=o.parentNode;c&&c.removeChild(o)}},r.isHTMLElementNode=function(o){return o.nodeType===Node.ELEMENT_NODE},r.isTextNode=function(o){return o.nodeType===Node.TEXT_NODE},r.isElementNode=function(o){return o.nodeType===Node.ELEMENT_NODE},r.isHTMLTableRowElement=function(o){return o.tagName==="TR"},r.isItParent=function(o,c){if(!o||!c)return!1;for(;c;){if(c===o)return!0;if(c.tagName==="BODY")return!1;c=c.parentNode}return!1},r.getParentByTagName=function(o,c){for(c=c.toUpperCase();o;){if(o.tagName==="BODY")return null;if(o.tagName===c)return o;o=o.parentNode}return null},r.getDocumentScrollTop=function(){var o=u.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollTop>0;return u.Browser.WebKitFamily||u.Browser.Edge||o?u.Browser.MacOSMobilePlatform?window.pageYOffset:u.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},r.getDocumentScrollLeft=function(){var o=u.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollLeft>0;return u.Browser.Edge||o?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:u.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},r.getCurrentStyle=function(o){if(o.currentStyle)return o.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var c=document.defaultView.getComputedStyle(o,null);if(!c&&u.Browser.Firefox&&window.frameElement){for(var g=[],v=window.frameElement;!(c=document.defaultView.getComputedStyle(o,null));)g.push([v,v.style.display]),v.style.setProperty("display","block","important"),v=v.tagName==="BODY"?v.ownerDocument.defaultView.frameElement:v.parentNode;c=(function(T){if(typeof T!="object"||!h.isDefined(T))return T;var b={};for(var k in T)b[k]=T[k];return b})(c);for(var m=void 0,_=0;m=g[_];_++)m[0].style.display=m[1];document.body.offsetWidth}return c}return window.getComputedStyle(o,null)},r.setFocus=function(o){function c(){try{o.focus(),u.Browser.IE&&document.activeElement!==o&&o.focus()}catch{}}u.Browser.MacOSMobilePlatform?c():setTimeout((function(){c()}),100)},r.hasClassName=function(o,c){try{var g=c.split(" "),v=o.classList;if(v){for(var m=g.length-1;m>=0;m--)if(!v.contains(g[m]))return!1}else{var _=o.getAttribute&&o.getAttribute("class");if(!_)return!1;var T=_.split(" ");for(m=g.length-1;m>=0;m--)if(T.indexOf(g[m])<0)return!1}return!0}catch{return!1}},r.addClassName=function(o,c){if(!r.hasClassName(o,c)){var g=o.getAttribute&&o.getAttribute("class");o.setAttribute("class",g===""?c:g+" "+c)}},r.removeClassName=function(o,c){var g=" "+(o.getAttribute&&o.getAttribute("class"))+" ",v=g.replace(" "+c+" "," ");g.length!==v.length&&o.setAttribute("class",s.StringUtils.trim(v))},r.toggleClassName=function(o,c,g){g===void 0?r.hasClassName(o,c)?r.removeClassName(o,c):r.addClassName(o,c):g?r.addClassName(o,c):r.removeClassName(o,c)},r.pxToInt=function(o){return i(o,parseInt)},r.pxToFloat=function(o){return i(o,parseFloat)},r.getAbsolutePositionY=function(o){function c(g){return Math.round(g.getBoundingClientRect().top+r.getDocumentScrollTop())}return o?u.Browser.IE?(function(g){return u.Browser.IE&&g.parentNode===null?0:g.getBoundingClientRect().top+r.getDocumentScrollTop()})(o):u.Browser.Firefox&&u.Browser.Version>=3?c(o):u.Browser.NetscapeFamily&&(!u.Browser.Firefox||u.Browser.Version<3)?(function(g){for(var v=t(g,!1),m=!0;g!=null;){if(v+=g.offsetTop,m||g.offsetParent==null||(v-=g.scrollTop),!m&&u.Browser.Firefox){var _=r.getCurrentStyle(g);g.tagName==="DIV"&&_.overflow!=="visible"&&(v+=r.pxToInt(_.borderTopWidth))}m=!1,g=g.offsetParent}return v})(o):u.Browser.WebKitFamily||u.Browser.Edge?c(o):(function(g){for(var v=0,m=!0;g!=null;)v+=g.offsetTop,m||g.offsetParent==null||(v-=g.scrollTop),m=!1,g=g.offsetParent;return v})(o):0},r.getAbsolutePositionX=function(o){function c(g){return Math.round(g.getBoundingClientRect().left+r.getDocumentScrollLeft())}return o?u.Browser.IE?(function(g){return u.Browser.IE&&g.parentNode===null?0:g.getBoundingClientRect().left+r.getDocumentScrollLeft()})(o):u.Browser.Firefox&&u.Browser.Version>=3?c(o):u.Browser.Opera&&u.Browser.Version<=12?(function(g){for(var v=!0,m=t(g,!0);g!=null;)m+=g.offsetLeft,v||(m-=g.scrollLeft),g=g.offsetParent,v=!1;return m+=document.body.scrollLeft})(o):u.Browser.NetscapeFamily&&(!u.Browser.Firefox||u.Browser.Version<3)?(function(g){for(var v=t(g,!0),m=!0;g!=null;){if(v+=g.offsetLeft,m||g.offsetParent==null||(v-=g.scrollLeft),!m&&u.Browser.Firefox){var _=r.getCurrentStyle(g);g.tagName==="DIV"&&_.overflow!=="visible"&&(v+=r.pxToInt(_.borderLeftWidth))}m=!1,g=g.offsetParent}return v})(o):u.Browser.WebKitFamily||u.Browser.Edge?c(o):(function(g){for(var v=0,m=!0;g!=null;)v+=g.offsetLeft,m||g.offsetParent==null||(v-=g.scrollLeft),m=!1,g=g.offsetParent;return v})(o):0},r.isInteractiveControl=function(o){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(o.tagName)>-1},r.getClearClientHeight=function(o){return o.offsetHeight-(r.getTopBottomPaddings(o)+r.getVerticalBordersWidth(o))},r.getTopBottomPaddings=function(o,c){var g=c||r.getCurrentStyle(o);return r.pxToInt(g.paddingTop)+r.pxToInt(g.paddingBottom)},r.getVerticalBordersWidth=function(o,c){h.isDefined(c)||(c=u.Browser.IE&&u.Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(o):r.getCurrentStyle(o));var g=0;return c.borderTopStyle!=="none"&&(g+=r.pxToFloat(c.borderTopWidth)),c.borderBottomStyle!=="none"&&(g+=r.pxToFloat(c.borderBottomWidth)),g},r.getNodes=function(o,c){for(var g=o.all||o.getElementsByTagName("*"),v=[],m=0;m<g.length;m++){var _=g[m];c(_)&&v.push(_)}return v},r.getChildNodes=function(o,c){for(var g=o.childNodes,v=[],m=0;m<g.length;m++){var _=g[m];c(_)&&v.push(_)}return v},r.getNodesByClassName=function(o,c){if(o.querySelectorAll){var g=o.querySelectorAll("."+c),v=[];return g.forEach((function(m){return v.push(m)})),v}return r.getNodes(o,(function(m){return r.hasClassName(m,c)}))},r.getChildNodesByClassName=function(o,c){return o.querySelectorAll?(function(g,v){for(var m=[],_=0;_<g.length;_++){var T=g[_];v(T)&&m.push(T)}return m})(o.querySelectorAll("."+c),(function(g){return g.parentNode===o})):r.getChildNodes(o,(function(g){return!!r.isElementNode(g)&&h.isNonNullString(g.className)&&r.hasClassName(g,g.className)}))},r.getVerticalScrollBarWidth=function(){if(r.verticalScrollBarWidth===void 0){var o=document.createElement("DIV");o.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(o);var c=document.createElement("P");o.appendChild(c),c.style.cssText="width: 100%; height: 200px;";var g=c.offsetWidth;o.style.overflow="scroll";var v=c.offsetWidth;g===v&&(v=o.clientWidth),r.verticalScrollBarWidth=g-v,document.body.removeChild(o)}return r.verticalScrollBarWidth},r.getHorizontalBordersWidth=function(o,c){h.isDefined(c)||(c=u.Browser.IE&&window.getComputedStyle?window.getComputedStyle(o):r.getCurrentStyle(o));var g=0;return c.borderLeftStyle!=="none"&&(g+=r.pxToFloat(c.borderLeftWidth)),c.borderRightStyle!=="none"&&(g+=r.pxToFloat(c.borderRightWidth)),g},r.getFontFamiliesFromCssString=function(o){return o.split(",").map((function(c){return s.StringUtils.trim(c.replace(/'|"/gi,""))}))},r.getInnerText=function(o){if(u.Browser.Safari&&u.Browser.MajorVersion<=5){r.html2PlainTextFilter===null&&(r.html2PlainTextFilter=document.createElement("DIV"),r.html2PlainTextFilter.style.width="0",r.html2PlainTextFilter.style.height="0",r.html2PlainTextFilter.style.overflow="visible",r.html2PlainTextFilter.style.display="none",document.body.appendChild(r.html2PlainTextFilter));var c=r.html2PlainTextFilter;c.innerHTML=o.innerHTML,c.style.display="";var g=c.innerText;return c.style.display="none",g}return u.Browser.NetscapeFamily||u.Browser.WebKitFamily||u.Browser.IE&&u.Browser.Version>=9||u.Browser.Edge?o.textContent:o.innerText},r.html2PlainTextFilter=null,r.verticalScrollBarWidth=void 0,r})();function i(r,o){var c=0;if(h.isDefined(r)&&r!=="")try{var g=r.indexOf("px");g>-1&&(c=o(r.substr(0,g)))}catch{}return c}function t(r,o){for(var c=0,g=!0;r!=null&&r.tagName!=="BODY";){var v=n.getCurrentStyle(r);if(v.position==="absolute")break;g||r.tagName!=="DIV"||v.position!==""&&v.position!=="static"||(c-=o?r.scrollLeft:r.scrollTop),r=r.parentNode,g=!1}return c}d.DomUtils=n},9712:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EncodeUtils=void 0;var l=(function(){function u(){}return u.encodeHtml=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},u.decodeHtml=function(h){return h.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},u.prepareTextForRequest=function(h){return h.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},u.prepareTextForCallBackRequest=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},u.decodeViaTextArea=function(h){var f=document.createElement("TEXTAREA");return f.innerHTML=h,f.value},u})();d.EncodeUtils=l},3714:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EvtUtils=void 0;var u=l(9279),h=l(2491),f=l(6907),s=l(1632),n=(function(){function i(){}return i.preventEvent=function(t){t.cancelable&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.getEventSource=function(t){return h.isDefined(t)?i.getEventSourceCore(t):null},i.getEventSourceByPosition=function(t){if(!h.isDefined(t))return null;if(!document.elementFromPoint)return i.getEventSourceCore(t);var r=i.getEventX(t)-(i.clientEventRequiresDocScrollCorrection()?f.DomUtils.getDocumentScrollLeft():0),o=i.getEventY(t)-(i.clientEventRequiresDocScrollCorrection()?f.DomUtils.getDocumentScrollTop():0);return r===void 0||o===void 0?i.getEventSourceCore(t):document.elementFromPoint(r,o)},i.getEventSourceCore=function(t){return t.srcElement?t.srcElement:t.target},i.getMouseWheelEventName=function(){return u.Browser.Safari?"mousewheel":u.Browser.NetscapeFamily&&u.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},i.isLeftButtonPressed=function(t){return!!s.TouchUtils.isTouchEvent(t)||!!(t=u.Browser.IE&&h.isDefined(event)?event:t)&&(u.Browser.IE&&u.Browser.Version<11?!!u.Browser.MSTouchUI||t.button%2==1:u.Browser.WebKitFamily?t.type==="pointermove"||t.type==="pointerenter"||t.type==="pointerleave"?t.buttons===1:t.which===1:u.Browser.NetscapeFamily||u.Browser.Edge||u.Browser.IE&&u.Browser.Version>=11?i.isMoveEventName(t.type)?t.buttons===1:t.which===1:!u.Browser.Opera||t.button===0)},i.isMoveEventName=function(t){return t===s.TouchUtils.touchMouseMoveEventName||t===i.getMoveEventName()},i.getMoveEventName=function(){return window.PointerEvent?"pointermove":u.Browser.TouchUI?"touchmove":"mousemove"},i.preventEventAndBubble=function(t){i.preventEvent(t),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},i.clientEventRequiresDocScrollCorrection=function(){var t=u.Browser.Safari&&u.Browser.Version<3,r=u.Browser.MacOSMobilePlatform&&u.Browser.Version<5.1;return u.Browser.AndroidDefaultBrowser||u.Browser.AndroidChromeBrowser||!(t||r)},i.getEventX=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventX(t):t.clientX+(i.clientEventRequiresDocScrollCorrection()?f.DomUtils.getDocumentScrollLeft():0)},i.getEventY=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventY(t):t.clientY+(i.clientEventRequiresDocScrollCorrection()?f.DomUtils.getDocumentScrollTop():0)},i.cancelBubble=function(t){t.cancelBubble=!0},i.getWheelDelta=function(t){var r;return r=u.Browser.NetscapeFamily&&u.Browser.MajorVersion<17?-t.detail:u.Browser.Safari?t.wheelDelta:-t.deltaY,u.Browser.Opera&&u.Browser.Version<9&&(r=-r),r},i})();d.EvtUtils=n},9937:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.JsonUtils=void 0;var l=(function(){function u(){}return u.isValid=function(h){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(h.replace(/"(\\.|[^"\\])*"/g,""))},u})();d.JsonUtils=l},2153:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.KeyCode=d.ModifierKey=d.KeyUtils=void 0;var u,h,f=l(9279),s=l(9712),n=l(49),i=(function(){function t(){}return t.getKeyModifiers=function(r){var o=0;return r.altKey&&(o|=u.Alt),r.ctrlKey&&(o|=u.Ctrl),r.shiftKey&&(o|=u.Shift),r.metaKey&&(o|=u.Meta),o},t.getShortcutCode=function(r,o,c,g,v){var m=r;return m|=o?u.Ctrl:0,m|=c?u.Shift:0,m|=g?u.Alt:0,m|=v?u.Meta:0},t.getShortcutCodeByEvent=function(r){return t.getShortcutCode(t.getEventKeyCode(r),r.ctrlKey,r.shiftKey,r.altKey,!!f.Browser.MacOSPlatform&&r.metaKey)},t.getEventKeyCode=function(r){return f.Browser.NetscapeFamily||f.Browser.Opera?r.which:r.keyCode},t.parseShortcutString=function(r){if(!r)return 0;var o=!1,c=!1,g=!1,v=!1,m=null,_=r.toString().split("+");if(_.length>0)for(var T=0;T<_.length;T++){var b=n.StringUtils.trim(_[T].toUpperCase());switch(b){case"CONTROL":case"CONTROLKEY":case"CTRL":o=!0;break;case"SHIFT":case"SHIFTKEY":c=!0;break;case"ALT":g=!0;break;case"CMD":v=!0;break;case"F1":m=h.F1;break;case"F2":m=h.F2;break;case"F3":m=h.F3;break;case"F4":m=h.F4;break;case"F5":m=h.F5;break;case"F6":m=h.F6;break;case"F7":m=h.F7;break;case"F8":m=h.F8;break;case"F9":m=h.F9;break;case"F10":m=h.F10;break;case"F11":m=h.F11;break;case"F12":m=h.F12;break;case"RETURN":case"ENTER":m=h.Enter;break;case"HOME":m=h.Home;break;case"END":m=h.End;break;case"LEFT":m=h.Left;break;case"RIGHT":m=h.Right;break;case"UP":m=h.Up;break;case"DOWN":m=h.Down;break;case"PAGEUP":m=h.PageUp;break;case"PAGEDOWN":m=h.PageDown;break;case"SPACE":m=h.Space;break;case"TAB":m=h.Tab;break;case"BACKSPACE":case"BACK":m=h.Backspace;break;case"CONTEXT":m=h.ContextMenu;break;case"ESCAPE":case"ESC":m=h.Esc;break;case"DELETE":case"DEL":m=h.Delete;break;case"INSERT":case"INS":m=h.Insert;break;case"PLUS":m=43;break;default:m=b.charCodeAt(0)}}else alert(s.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return t.getShortcutCode(m,o,c,g,v)},t})();d.KeyUtils=i,(function(t){t[t.None=0]="None",t[t.Ctrl=65536]="Ctrl",t[t.Shift=262144]="Shift",t[t.Alt=1048576]="Alt",t[t.Meta=16777216]="Meta"})(u=d.ModifierKey||(d.ModifierKey={})),(function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Pause=19]="Pause",t[t.CapsLock=20]="CapsLock",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Key_0=48]="Key_0",t[t.Key_1=49]="Key_1",t[t.Key_2=50]="Key_2",t[t.Key_3=51]="Key_3",t[t.Key_4=52]="Key_4",t[t.Key_5=53]="Key_5",t[t.Key_6=54]="Key_6",t[t.Key_7=55]="Key_7",t[t.Key_8=56]="Key_8",t[t.Key_9=57]="Key_9",t[t.Key_a=65]="Key_a",t[t.Key_b=66]="Key_b",t[t.Key_c=67]="Key_c",t[t.Key_d=68]="Key_d",t[t.Key_e=69]="Key_e",t[t.Key_f=70]="Key_f",t[t.Key_g=71]="Key_g",t[t.Key_h=72]="Key_h",t[t.Key_i=73]="Key_i",t[t.Key_j=74]="Key_j",t[t.Key_k=75]="Key_k",t[t.Key_l=76]="Key_l",t[t.Key_m=77]="Key_m",t[t.Key_n=78]="Key_n",t[t.Key_o=79]="Key_o",t[t.Key_p=80]="Key_p",t[t.Key_q=81]="Key_q",t[t.Key_r=82]="Key_r",t[t.Key_s=83]="Key_s",t[t.Key_t=84]="Key_t",t[t.Key_u=85]="Key_u",t[t.Key_v=86]="Key_v",t[t.Key_w=87]="Key_w",t[t.Key_x=88]="Key_x",t[t.Key_y=89]="Key_y",t[t.Key_z=90]="Key_z",t[t.Windows=91]="Windows",t[t.ContextMenu=93]="ContextMenu",t[t.Numpad_0=96]="Numpad_0",t[t.Numpad_1=97]="Numpad_1",t[t.Numpad_2=98]="Numpad_2",t[t.Numpad_3=99]="Numpad_3",t[t.Numpad_4=100]="Numpad_4",t[t.Numpad_5=101]="Numpad_5",t[t.Numpad_6=102]="Numpad_6",t[t.Numpad_7=103]="Numpad_7",t[t.Numpad_8=104]="Numpad_8",t[t.Numpad_9=105]="Numpad_9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.Decimal=110]="Decimal",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.Semicolon=186]="Semicolon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.ForwardSlash=191]="ForwardSlash",t[t.GraveAccent=192]="GraveAccent",t[t.OpenBracket=219]="OpenBracket",t[t.BackSlash=220]="BackSlash",t[t.CloseBracket=221]="CloseBracket",t[t.SingleQuote=222]="SingleQuote"})(h=d.KeyCode||(d.KeyCode={}))},2940:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ListUtils=void 0;var u=l(6799),h=l(4170),f=(function(){function s(){}return s.remove=function(n,i){var t=n.indexOf(i,0);t>=0&&n.splice(t,1)},s.removeBy=function(n,i){for(var t=n.length,r=0;r<t;r++)if(i(n[r],r))return n.splice(r,1)[0];return null},s.shallowCopy=function(n){return n.slice()},s.deepCopy=function(n){return s.map(n,(function(i){return i.clone()}))},s.initByValue=function(n,i){for(var t=[];n>0;n--)t.push(i);return t},s.initByCallback=function(n,i){for(var t=[],r=0;r<n;r++)t.push(i(r));return t},s.forEachOnInterval=function(n,i){for(var t=n.end,r=n.start;r<t;r++)i(r)},s.reverseForEachOnInterval=function(n,i){for(var t=n.start,r=n.end-1;r>=t;r--)i(r)},s.reducedMap=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=[],c=t;c<r;c++){var g=i(n[c],c);g!==null&&o.push(g)}return o},s.filter=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=[],c=t;c<r;c++){var g=n[c];i(g,c)&&o.push(g)}return o},s.map=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=[],c=t;c<r;c++)o.push(i(n[c],c));return o},s.indexBy=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)if(i(n[o],o))return o;return-1},s.reverseIndexBy=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)if(i(n[o],o))return o;return-1},s.elementBy=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.indexBy(n,i,t,r);return o<0?null:n[o]},s.reverseElementBy=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);var o=s.reverseIndexBy(n,i,t,r);return o<0?null:n[o]},s.last=function(n){return n[n.length-1]},s.setLast=function(n,i){return n[n.length-1]=i},s.incLast=function(n){return++n[n.length-1]},s.decLast=function(n){return--n[n.length-1]},s.equals=function(n,i){return n.length===i.length&&s.allOf2(n,i,(function(t,r){return t.equals(r)}))},s.equalsByReference=function(n,i){var t=n.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(n[r]!==i[r])return!1;return!0},s.unique=function(n,i,t,r){t===void 0&&(t=i),r===void 0&&(r=function(){});var o=n.length;if(o===0)return[];var c=(n=n.sort(i))[0],g=s.reducedMap(n,(function(v){return t(c,v)!==0?(c=v,v):(r(v),null)}),1,o);return g.unshift(n[0]),g},s.uniqueNumber=function(n){n=n.sort(h.Comparers.number);for(var i=Number.NaN,t=n.length-1;t>=0;t--)i===n[t]?n.splice(t,1):i=n[t];return n},s.forEach=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)i(n[o],o)},s.forEach2=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var c=r;c<o;c++)t(n[c],i[c],c)},s.reverseForEach=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)i(n[o],o)},s.reverseIndexOf=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)if(n[o]===i)return o;return-1},s.accumulate=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var c=i,g=r;g<o;g++)c=t(c,n[g],g);return c},s.accumulateNumber=function(n,i,t,r,o){t===void 0&&(t=0),r===void 0&&(r=0),o===void 0&&(o=n.length);for(var c=t,g=r;g<o;g++)c+=i(n[g],g,c);return c},s.anyOf=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)if(i(n[o],o))return!0;return!1},s.unsafeAnyOf=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++){var c=i(n[o],o);if(c)return c}return null},s.reverseAnyOf=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)if(i(n[o],o))return!0;return!1},s.unsafeReverseAnyOf=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--){var c=i(n[o],o);if(c)return c}return null},s.anyOf2=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var c=r;c<o;c++)if(t(n[c],i[c],c))return!0;return!1},s.allOf=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)if(!i(n[o],o))return!1;return!0},s.allOf2=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var c=r;c<o;c++)if(!t(n[c],i[c],c))return!1;return!0},s.allOfOnInterval=function(n,i){for(var t=n.end,r=n.start;r<t;r++)if(!i(r))return!1;return!0},s.addListOnTail=function(n,i){for(var t=0,r=void 0;r=i[t];t++)n.push(r);return n},s.joinLists=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return s.accumulate(i,[],(function(r,o){return s.addListOnTail(r,n(o)),r}))},s.push=function(n,i){return n.push(i),n},s.countIf=function(n,i){return s.accumulateNumber(n,(function(t,r){return i(t,r)?1:0}))},s.clear=function(n){n.splice(0)},s.merge=function(n,i,t,r,o,c){if(o===void 0&&(o=0),c===void 0&&(c=n.length),n=n.slice(o,c),c-o<2)return n;for(var g=(n=n.sort(i))[o],v=[g],m=o+1;m<c;m++){var _=n[m];t(g,_)?r(g,_):(g=_,v.push(g))}return v},s.min=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.minExtended(n,i,t,r);return o?o.minElement:null},s.max=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.maxExtended(n,i,t,r);return o?o.maxElement:null},s.minMax=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.minMaxExtended(n,i,t,r);return o?new u.MinMax(o.minElement,o.maxElement):null},s.minExtended=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],c=i(o),g=t+1;g<r;g++){var v=n[g],m=i(v);m<c&&(c=m,o=v)}return new u.ExtendedMin(o,c)},s.maxExtended=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],c=i(o),g=t+1;g<r;g++){var v=n[g],m=i(v);m>c&&(c=m,o=v)}return new u.ExtendedMax(o,c)},s.minMaxExtended=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],c=o,g=i(o),v=g,m=t+1;m<r;m++){var _=n[m],T=i(_);T<g?(g=T,o=_):T>v&&(v=T,c=_)}return new u.ExtendedMinMax(o,g,c,v)},s.minByCmp=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],c=t+1;c<r;c++){var g=n[c];i(g,o)<0&&(o=g)}return o},s.maxByCmp=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],c=t+1;c<r;c++){var g=n[c];i(g,o)>0&&(o=g)}return o},s.minMaxByCmp=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],c=o,g=t+1;g<r;g++){var v=n[g],m=i(v,o);m>0?c=v:m<0&&(o=v)}return new u.MinMax(o,c)},s})();d.ListUtils=f},8679:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MathUtils=void 0;var u=l(2940),h=(function(){function f(){}return f.round=function(s,n){n===void 0&&(n=0);var i=f.powFactor[n];return Math.round(s*i)/i},f.numberCloseTo=function(s,n,i){return i===void 0&&(i=1e-5),Math.abs(s-n)<i},f.restrictValue=function(s,n,i){return i<n&&(i=n),s>i?i:s<n?n:s},f.getRandomInt=function(s,n){return Math.floor(Math.random()*(n-s+1))+s},f.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(s){var n=16*Math.random()|0;return(s==="x"?n:3&n|8).toString(16)}))},f.powFactor=u.ListUtils.initByCallback(20,(function(s){return Math.pow(10,s)})),f.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],f})();d.MathUtils=h},49:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StringUtils=void 0;var l=(function(){function u(){}return u.isAlpha=function(h){return h>="a"&&h<="z"||h>="A"&&h<="Z"},u.isDigit=function(h){return h>="0"&&h<="9"},u.stringHashCode=function(h){var f=0;if(h.length===0)return f;for(var s=h.length,n=0;n<s;n++)f=(f<<5)-f+h.charCodeAt(n),f|=0;return f},u.endsAt=function(h,f){var s=h.length-1,n=f.length-1,i=s-n;if(i<0)return!1;for(;s>=i;s--,n--)if(h[s]!==f[n])return!1;return!0},u.startsAt=function(h,f){return h.substr(0,f.length)===f},u.stringInLowerCase=function(h){return h.toLowerCase()===h},u.stringInUpperCase=function(h){return h.toUpperCase()===h},u.atLeastOneSymbolInUpperCase=function(h){for(var f=0,s=void 0;s=h[f];f++)if(u.stringInUpperCase(s)&&!u.stringInLowerCase(s))return!0;return!1},u.getSymbolFromEnd=function(h,f){return h[h.length-f]},u.trim=function(h,f){if(f===void 0)return u.trimInternal(h,!0,!0);var s=f.join("");return h.replace(new RegExp("(^["+s+"]*)|(["+s+"]*$)","g"),"")},u.trimStart=function(h,f){if(f===void 0)return u.trimInternal(h,!0,!1);var s=f.join("");return h.replace(new RegExp("^["+s+"]*","g"),"")},u.trimEnd=function(h,f){if(f===void 0)return u.trimInternal(h,!1,!0);var s=f.join("");return h.replace(new RegExp("["+s+"]*$","g"),"")},u.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},u.repeat=function(h,f){return new Array(f<=0?0:f+1).join(h)},u.isNullOrEmpty=function(h){return!h||!h.length},u.padLeft=function(h,f,s){return u.repeat(s,Math.max(0,f-h.length))+h},u.trimInternal=function(h,f,s){var n=h.length;if(!n)return h;if(n<764833){var i=h;return f&&(i=i.replace(/^\s+/,"")),s&&(i=i.replace(/\s+$/,"")),i}var t=0;if(s)for(;n>0&&/\s/.test(h[n-1]);)n--;if(f&&n>0)for(;t<n&&/\s/.test(h[t]);)t++;return h.substring(t,n)},u})();d.StringUtils=l},1632:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TouchUtils=void 0;var u=l(9279),h=l(2491),f=(function(){function s(){}return s.onEventAttachingToDocument=function(n,i){return!u.Browser.MacOSMobilePlatform||!s.isTouchEventName(n)||(s.documentTouchHandlers[n]||(s.documentTouchHandlers[n]=[]),s.documentTouchHandlers[n].push(i),s.documentEventAttachingAllowed)},s.isTouchEventName=function(n){return u.Browser.WebKitTouchUI&&(n.indexOf("touch")>-1||n.indexOf("gesture")>-1)},s.isTouchEvent=function(n){return u.Browser.WebKitTouchUI&&h.isDefined(n.changedTouches)},s.getEventX=function(n){return u.Browser.IE?n.pageX:n.changedTouches[0].pageX},s.getEventY=function(n){return u.Browser.IE?n.pageY:n.changedTouches[0].pageY},s.touchMouseDownEventName=u.Browser.WebKitTouchUI?"touchstart":u.Browser.Edge&&u.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",s.touchMouseUpEventName=u.Browser.WebKitTouchUI?"touchend":u.Browser.Edge&&u.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",s.touchMouseMoveEventName=u.Browser.WebKitTouchUI?"touchmove":u.Browser.Edge&&u.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",s.msTouchDraggableClassName="dxMSTouchDraggable",s.documentTouchHandlers={},s.documentEventAttachingAllowed=!0,s})();d.TouchUtils=f},8721:(w,d,l)=>{l.r(d)},639:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BarManager=void 0;var l=(function(){function u(h,f){this.commandManager=h,this.bars=f}return u.prototype.updateContextMenu=function(){for(var h=0,f=void 0;f=this.bars[h];h++)if(f.isContextMenu()){f.updateItemsList();for(var s=f.getCommandKeys(),n=0;n<s.length;n++)this.updateBarItem(f,s[n])}},u.prototype.updateItemsState=function(h){for(var f=!!h.length,s=function(r,o){if(o.isVisible()){for(var c=o.getCommandKeys(),g=function(m){if(f&&!h.filter((function(_){return _==c[m]})).length)return"continue";n.updateBarItem(o,c[m])},v=0;v<c.length;v++)g(v);o.completeUpdate()}},n=this,i=0,t=void 0;t=this.bars[i];i++)s(0,t)},u.prototype.updateBarItem=function(h,f){var s=this.commandManager.getCommand(f);if(s){var n=s.getState();h.setItemVisible(f,n.visible),n.visible&&(h.setItemEnabled(f,n.enabled),h.setItemValue(f,n.value))}},u})();d.BarManager=l},3290:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttClientCommand=void 0,(function(l){l[l.CreateTask=0]="CreateTask",l[l.CreateSubTask=1]="CreateSubTask",l[l.RemoveTask=2]="RemoveTask",l[l.RemoveDependency=3]="RemoveDependency",l[l.TaskInformation=4]="TaskInformation",l[l.TaskAddContextItem=5]="TaskAddContextItem",l[l.Undo=6]="Undo",l[l.Redo=7]="Redo",l[l.ZoomIn=8]="ZoomIn",l[l.ZoomOut=9]="ZoomOut",l[l.FullScreen=10]="FullScreen",l[l.CollapseAll=11]="CollapseAll",l[l.ExpandAll=12]="ExpandAll",l[l.ResourceManager=13]="ResourceManager",l[l.ToggleResources=14]="ToggleResources",l[l.ToggleDependencies=15]="ToggleDependencies"})(d.GanttClientCommand||(d.GanttClientCommand={}))},3756:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CollapseAllCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(this.isEnabled())},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.collapseAll(),!0},i.prototype.isEnabled=function(){return!0},i})(h.CommandBase);d.CollapseAllCommand=s},6585:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExpandAllCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(this.isEnabled())},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.expandAll(),!0},i.prototype.isEnabled=function(){return!0},i})(h.CommandBase);d.ExpandAllCommand=s},9687:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CommandBase=void 0;var l=(function(){function u(h){this.control=h}return Object.defineProperty(u.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),u.prototype.execute=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];if(!this.state.enabled)return!1;var s=this.executeInternal.apply(this,h);return s&&this.control.barManager.updateItemsState([]),s},u.prototype.isEnabled=function(){return this.control.settings.editing.enabled},u.prototype.executeInternal=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];throw new Error("Not implemented")},u})();d.CommandBase=l},7156:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CommandManager=void 0;var u=l(5237),h=l(126),f=l(5477),s=l(6152),n=l(3290),i=l(3756),t=l(6585),r=l(4118),o=l(3044),c=l(9762),g=l(7823),v=l(3250),m=l(9072),_=l(1955),T=l(1757),b=l(7977),k=l(9793),D=l(358),E=l(9791),A=l(3936),F=l(5258),R=l(2018),x=l(4195),N=l(2714),H=l(299),G=l(2231),O=(function(){function B(W){this.control=W,this.commands={},this.createCommand(n.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(n.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(n.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(n.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(n.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(n.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(n.GanttClientCommand.TaskAddContextItem,new N.TaskAddContextItemCommand(this.control)),this.createCommand(n.GanttClientCommand.Undo,new m.UndoCommand(this.control)),this.createCommand(n.GanttClientCommand.Redo,new v.RedoCommand(this.control)),this.createCommand(n.GanttClientCommand.ZoomIn,new H.ZoomInCommand(this.control)),this.createCommand(n.GanttClientCommand.ZoomOut,new G.ZoomOutCommand(this.control)),this.createCommand(n.GanttClientCommand.FullScreen,new g.ToggleFullScreenCommand(this.control)),this.createCommand(n.GanttClientCommand.CollapseAll,new i.CollapseAllCommand(this.control)),this.createCommand(n.GanttClientCommand.ExpandAll,new t.ExpandAllCommand(this.control)),this.createCommand(n.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(n.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(B.prototype,"createTaskCommand",{get:function(){return new F.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"createSubTaskCommand",{get:function(){return new A.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"removeTaskCommand",{get:function(){return new x.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"updateTaskCommand",{get:function(){return new R.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"removeDependencyCommand",{get:function(){return new o.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"createResourceCommand",{get:function(){return new T.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"removeResourceCommand",{get:function(){return new D.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"assignResourceCommand",{get:function(){return new _.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"deassignResourceCommand",{get:function(){return new b.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changeResourceColorCommand",{get:function(){return new k.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"showTaskEditDialog",{get:function(){return new s.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"showConstraintViolationDialog",{get:function(){return new h.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"showConfirmationDialog",{get:function(){return new u.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"showResourcesDialog",{get:function(){return new f.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"toggleResources",{get:function(){return new E.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"toggleDependencies",{get:function(){return new c.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),B.prototype.getCommand=function(W){return this.commands[W]},B.prototype.createCommand=function(W,V){this.commands[W]=V},B})();d.CommandManager=O},4118:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateDependencyCommand=void 0;var u=l(655),h=l(5950),f=l(3279),s=l(1211),n=(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return u.__extends(t,i),t.prototype.execute=function(r,o,c){return i.prototype.execute.call(this,r,o,c)},t.prototype.executeInternal=function(r,o,c){if(this.control.viewModel.dependencies.items.filter((function(m){return m.predecessorId===r&&m.successorId===o||m.successorId===r&&m.predecessorId===o})).length)return!1;var g=new f.DependencyInsertingArguments(r,o,c);if(this.modelManipulator.dispatcher.notifyDependencyInserting(g),g.cancel)return!1;if(r=g.predecessorId,o=g.successorId,c=g.type,this.control.history.beginTransaction(),this.history.addAndRedo(new s.InsertDependencyHistoryItem(this.modelManipulator,r,o,c)),this.control.isValidateDependenciesRequired()){var v=this.control.viewModel.tasks.getItemById(r);c===h.DependencyType.SF||c===h.DependencyType.SS?this.control.validationController.moveStartDependTasks(r,v.start):this.control.validationController.moveEndDependTasks(r,v.end)}return this.control.history.endTransaction(),!0},t.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},t})(l(2291).DependencyCommandBase);d.CreateDependencyCommand=n},2291:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyCommandBase=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(this.isEnabled())},i})(h.CommandBase);d.DependencyCommandBase=s},3044:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveDependencyCommand=void 0;var u=l(655),h=l(9544),f=l(5139),s=l(4797),n=l(5865),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(r,t),r.prototype.execute=function(o,c){var g=this;return c===void 0&&(c=!0),c?(this.control.commandManager.showConfirmationDialog.execute(new f.ConfirmationDialogParameters(h.ConfirmationType.DependencyDelete,(function(){g.executeInternal(o)}))),!1):t.prototype.execute.call(this,o)},r.prototype.executeInternal=function(o){if((o=o||this.control.taskEditController.dependencyId)!=null){var c=this.control.viewModel.dependencies.items.filter((function(v){return v.internalId===o}))[0];if(c){var g=new s.DependencyRemovingArguments(c);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(g),!g.cancel)return this.history.addAndRedo(new n.RemoveDependencyHistoryItem(this.modelManipulator,o)),o===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},r.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},r.prototype.getState=function(){var o=t.prototype.getState.call(this);return o.visible=o.enabled&&this.control.taskEditController.dependencyId!=null,o},r})(l(2291).DependencyCommandBase);d.RemoveDependencyCommand=i},9762:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ToggleDependenciesCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},i})(h.CommandBase);d.ToggleDependenciesCommand=s},7823:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ToggleFullScreenCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.isInFullScreenMode=!1,t.fullScreenTempVars={},t}return u.__extends(i,n),i.prototype.getState=function(){var t=new f.SimpleCommandState(!0);return t.value=this.control.fullScreenModeHelper.isInFullScreenMode,t},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},i})(h.CommandBase);d.ToggleFullScreenCommand=s},3250:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RedoCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){var t=new f.SimpleCommandState(this.isEnabled());return t.visible=this.control.settings.editing.enabled,t},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.history.redo(),!0},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.history.canRedo()},i})(h.CommandBase);d.RedoCommand=s},9072:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UndoCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){var t=new f.SimpleCommandState(this.isEnabled());return t.visible=this.control.settings.editing.enabled,t},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.history.undo(),!0},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.history.canUndo()},i})(h.CommandBase);d.UndoCommand=s},1955:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AssignResourceCommand=void 0;var u=l(655),h=l(1389),f=l(3683),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.execute=function(t,r){return n.prototype.execute.call(this,t,r)},i.prototype.executeInternal=function(t,r){if(!this.control.viewModel.assignments.items.filter((function(g){return g.resourceId===t&&g.taskId===r}))[0]){var o=this.control.viewModel,c=new h.ResourceAssigningArguments(o.convertInternalToPublicKey("resource",t),o.convertInternalToPublicKey("task",r));if(this.modelManipulator.dispatcher.notifyResourceAssigning(c),!c.cancel)return this.history.addAndRedo(new f.AssignResourceHistoryItem(this.modelManipulator,o.convertPublicToInternalKey("resource",c.resourceId),o.convertPublicToInternalKey("task",c.taskId))),!0}return!1},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},i})(l(200).ResourceCommandBase);d.AssignResourceCommand=s},1757:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateResourceCommand=void 0;var u=l(655),h=l(990),f=l(2961),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.execute=function(t,r,o){return r===void 0&&(r=""),n.prototype.execute.call(this,t,r,o)},i.prototype.executeInternal=function(t,r,o){r===void 0&&(r="");var c=new h.ResourceInsertingArguments(t,r);return this.modelManipulator.dispatcher.notifyResourceCreating(c),c.cancel||this.history.addAndRedo(new f.CreateResourceHistoryItem(this.modelManipulator,c.text,c.color,o)),!c.cancel},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},i})(l(200).ResourceCommandBase);d.CreateResourceCommand=s},7977:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DeassignResourceCommand=void 0;var u=l(655),h=l(1493),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.execute=function(i){return s.prototype.execute.call(this,i)},n.prototype.executeInternal=function(i){var t=this.control.viewModel.assignments.items.filter((function(r){return r.internalId===i}))[0];return!(!t||!this.modelManipulator.dispatcher.fireResourceUnassigning(t))&&(this.history.addAndRedo(new h.DeassignResourceHistoryItem(this.modelManipulator,i)),!0)},n.prototype.isEnabled=function(){return s.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},n})(l(200).ResourceCommandBase);d.DeassignResourceCommand=f},9793:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceColorCommand=void 0;var u=l(655),h=l(4641),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.execute=function(i,t){return s.prototype.execute.call(this,i,t)},n.prototype.executeInternal=function(i,t){return this.control.viewModel.resources.getItemById(i).color!==t&&(this.history.addAndRedo(new h.ResourceColorHistoryItem(this.modelManipulator,i,t)),!0)},n})(l(9876).ResourcePropertyCommandBase);d.ResourceColorCommand=f},9876:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertyCommandBase=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(this.isEnabled())},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},i})(h.CommandBase);d.ResourcePropertyCommandBase=s},358:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveResourceCommand=void 0;var u=l(655),h=l(9748),f=l(7466),s=l(1493),n=(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return u.__extends(t,i),t.prototype.execute=function(r){return i.prototype.execute.call(this,r)},t.prototype.executeInternal=function(r){var o=this,c=this.control.viewModel.resources.items.filter((function(m){return m.internalId===r}))[0];if(c){var g=new h.ResourceRemovingArguments(c);if(this.modelManipulator.dispatcher.notifyResourceRemoving(g),!g.cancel){var v=new f.RemoveResourceHistoryItem(this.modelManipulator,r);return this.control.viewModel.assignments.items.filter((function(m){return m.resourceId===r})).forEach((function(m){o.modelManipulator.dispatcher.fireResourceUnassigning(m)&&v.add(new s.DeassignResourceHistoryItem(o.modelManipulator,m.internalId))})),this.history.addAndRedo(v),!0}}return!1},t.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},t})(l(200).ResourceCommandBase);d.RemoveResourceCommand=n},200:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceCommandBase=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(this.isEnabled())},i})(h.CommandBase);d.ResourceCommandBase=s},9791:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ToggleResourceCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.toggleResources(),!0},i})(h.CommandBase);d.ToggleResourceCommand=s},4409:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleCommandState=void 0;var l=function(u,h){this.visible=!0,this.enabled=u,this.value=h};d.SimpleCommandState=l},3936:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateSubTaskCommand=void 0;var u=l(655),h=l(4605),f=l(1284),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.execute=function(t){return n.prototype.execute.call(this,t)},i.prototype.executeInternal=function(t){t=t||this.control.currentSelectedTaskID;var r=this.control.viewModel.findItem(t);if(r.selected){var o={start:new Date(r.task.start.getTime()),end:new Date(r.task.end.getTime()),title:"New task",progress:0,parentId:t},c=new h.TaskInsertingArguments(null,o);if(this.modelManipulator.dispatcher.notifyTaskCreating(c),!c.cancel){this.history.addAndRedo(new f.CreateTaskHistoryItem(this.modelManipulator,c));var g=this.control.viewModel.findItem(o.parentId);n.prototype.updateParent.call(this,g)}return!c.cancel}return!1},i.prototype.isEnabled=function(){var t=this.control,r=t.viewModel.findItem(t.currentSelectedTaskID);return n.prototype.isEnabled.call(this)&&!!r&&r.selected},i.prototype.getState=function(){var t=n.prototype.getState.call(this),r=this.control;return t.visible=t.visible&&r.settings.editing.allowTaskInsert,t},i})(l(9254).TaskCommandBase);d.CreateSubTaskCommand=s},5258:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateTaskCommand=void 0;var u=l(655),h=l(4605),f=l(1284),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.execute=function(t){return n.prototype.execute.call(this,t)},i.prototype.executeInternal=function(t){var r,o;if(t!=null||(t={}),!t.parentId){var c=this.control.viewModel.findItem(this.control.currentSelectedTaskID),g=c&&c.task;g&&(t.parentId=g.parentId)}var v=this.control.viewModel.findItem(t.parentId)||this.control.viewModel.items[0],m=v&&v.task;t.start||(t.start=m?new Date(m.start.getTime()):new Date(this.control.range.start.getTime())),t.end||(t.end=m?new Date(m.end.getTime()):new Date(this.control.range.end.getTime())),(r=t.title)!==null&&r!==void 0||(t.title="New task"),(o=t.progress)!==null&&o!==void 0||(t.progress=0);var _=new h.TaskInsertingArguments(null,t);if(this.modelManipulator.dispatcher.notifyTaskCreating(_),!_.cancel){this.history.addAndRedo(new f.CreateTaskHistoryItem(this.modelManipulator,_));var T=this.control.viewModel.findItem(t.parentId);n.prototype.updateParent.call(this,T)}return!_.cancel},i.prototype.getState=function(){var t=n.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},i})(l(9254).TaskCommandBase);d.CreateTaskCommand=s},4195:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveTaskCommand=void 0;var u=l(655),h=l(9544),f=l(5139),s=l(4642),n=l(5865),i=l(1493),t=l(9599),r=(function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(c,o),c.prototype.execute=function(g,v,m,_,T,b){var k=this;return v===void 0&&(v=!0),m===void 0&&(m=!1),_===void 0&&(_=!0),this.isApiCall=m,this.isUpdateParentTaskRequired=_,v?(this.control.commandManager.showConfirmationDialog.execute(new f.ConfirmationDialogParameters(h.ConfirmationType.TaskDelete,(function(){k.executeInternal(g,T,b)}))),!1):o.prototype.execute.call(this,g,T,b)},c.prototype.executeInternal=function(g,v,m){var _=this,T=m||[];g=g||this.control.currentSelectedTaskID;var b=this.control.viewModel.findItem(g),k=b?b.task:this.control.viewModel.tasks.getItemById(g),D=new s.TaskRemovingArguments(k);if(this.modelManipulator.dispatcher.notifyTaskRemoving(D),D.cancel)return!1;var E=this.history,A=this.control.viewModel;E.beginTransaction(),A.beginUpdate();var F=!!v,R=new t.RemoveTaskHistoryItem(this.modelManipulator,g),x=A.tasks.items.filter((function(O){return O.parentId===g})),N=x.map((function(O){return O.internalId})),H=A.dependencies.items.filter((function(O){return T.indexOf(O.internalId)===-1&&(O.predecessorId===g||O.successorId===g)&&!N.some((function(B){return O.predecessorId===B||O.successorId===B}))}));if(H.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;H.forEach((function(O){R.add(new n.RemoveDependencyHistoryItem(_.modelManipulator,O.internalId)),T.push(O.internalId)}))}if(A.assignments.items.filter((function(O){return O.taskId===g})).forEach((function(O){_.modelManipulator.dispatcher.fireResourceUnassigning(O)&&R.add(new i.DeassignResourceHistoryItem(_.modelManipulator,O.internalId))})),x.reverse().forEach((function(O){return new c(_.control).execute(O.internalId,!1,!0,!1,R,T)})),F?v.add(R):E.addAndRedo(R),this.isUpdateParentTaskRequired){var G=this.control.viewModel.findItem(k.parentId);o.prototype.updateParent.call(this,G)}return E.endTransaction(),A.endUpdate(),!0},c.prototype.isEnabled=function(){var g=this.control,v=g.viewModel.findItem(g.currentSelectedTaskID);return o.prototype.isEnabled.call(this)&&(!!v&&v.selected||this.isApiCall)},c.prototype.getState=function(){var g=o.prototype.getState.call(this),v=this.control;return g.visible=g.visible&&v.settings.editing.allowTaskDelete,g},c})(l(9254).TaskCommandBase);d.RemoveTaskCommand=r},2714:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAddContextItemCommand=void 0;var u=l(655),h=(function(f){function s(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(s,f),s.prototype.getState=function(){var n=f.prototype.getState.call(this);return n.visible=n.visible&&this.control.settings.editing.allowTaskInsert,n},s.prototype.execute=function(){return!1},s})(l(9254).TaskCommandBase);d.TaskAddContextItemCommand=h},9254:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskCommandBase=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.isApiCall=!1,t}return u.__extends(i,n),i.prototype.getState=function(){var t=new f.SimpleCommandState(this.isEnabled());return t.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,t},i.prototype.updateParent=function(t){this.validationController._parentAutoCalc&&t&&t.children.length>0&&this.control.validationController.updateParentsIfRequired(t.children[0].task.internalId)},i})(h.CommandBase);d.TaskCommandBase=s},2018:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UpdateTaskCommand=void 0;var u=l(655),h=l(2491),f=l(9544),s=l(3433),n=l(5865),i=l(9496),t=l(9201),r=(function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return u.__extends(c,o),c.prototype.execute=function(g,v){return o.prototype.execute.call(this,g,v)},c.prototype.executeInternal=function(g,v){var m=this.control.viewModel.tasks.getItemById(g);if(!m)return!1;var _=this.control.modelManipulator.dispatcher.raiseTaskUpdating(m,v,(function(b){v.title=b.title,v.progress=b.progress,v.start=b.start,v.end=b.end,v.color=b.color}));if(_){(0,h.isDefined)(v.start)&&(0,h.isDefined)(v.end)&&v.end.getTime()<v.start.getTime()&&(v.end=v.start),(0,h.isDefined)(v.progress)&&(v.progress=Math.max(Math.min(v.progress,100),0));var T=this.filterChangedValues(v,m);this.processDependecyValidation(T,m)}return _},c.prototype.isEnabled=function(){return o.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},c.prototype.filterChangedValues=function(g,v){if(!g)return null;var m={};for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(0,h.isDefined)(g[_])&&v[_]!==g[_]&&(m[_]=g[_]);return m},c.prototype.processDependecyValidation=function(g,v){var m=this,_=function(E){m.onAfterValidationCallback(g,v,E)},T=this.control.isValidateDependenciesRequired();if(T){var b=[],k=(0,h.isDefined)(g.start)&&g.start!==v.start,D=(0,h.isDefined)(g.end)&&g.end!==v.end;k&&T&&(b=b.concat(this.control.validationController.checkStartDependencies(v.internalId,g.start))),D&&T&&(b=b.concat(this.control.validationController.checkEndDependencies(v.internalId,g.end))),b.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new s.ConstraintViolationDialogParameters(b,_)):_(null)}else _(null)},c.prototype.onAfterValidationCallback=function(g,v,m){var _=this;if(!m||m.option!==f.ConstraintViolationOption.DoNothing||(delete g.start,delete g.end),Object.keys(g).length>0){this.history.beginTransaction(),(m==null?void 0:m.option)===f.ConstraintViolationOption.RemoveDependency&&m.validationErrors.forEach((function(E){return _.history.addAndRedo(new n.RemoveDependencyHistoryItem(_.modelManipulator,E.dependencyId))}));var T=this.control.isValidateDependenciesRequired(),b=v.internalId,k=v.start,D=v.end;this.history.addAndRedo(new i.UpdateTaskHistoryItem(this.modelManipulator,b,g)),(0,h.isDefined)(g.start)&&T&&this.control.validationController.moveStartDependTasks(b,k),(0,h.isDefined)(g.end)&&T&&this.control.validationController.moveEndDependTasks(b,D),this.processAutoParentUpdate(b,g,k,D),this.history.endTransaction(),(m==null?void 0:m.option)!==f.ConstraintViolationOption.RemoveDependency&&(m==null?void 0:m.option)!==f.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},c.prototype.processAutoParentUpdate=function(g,v,m,_){var T=(0,h.isDefined)(v.start),b=(0,h.isDefined)(v.end),k=(0,h.isDefined)(v.progress)||T||b,D=T?v.start.getTime()-m.getTime():null,E=b?v.end.getTime()-_.getTime():null,A=T&&t.DateUtils.getTimezoneOffsetDiff(m,v.start)!==0,F=b&&t.DateUtils.getTimezoneOffsetDiff(_,v.end)!==0,R=(A||F)&&Math.abs(E-D)===t.DateUtils.msPerHour;k?D!==0&&(D===E||R)?this.validationController.correctParentsOnChildMoving(g,D):this.validationController.updateParentsIfRequired(g):this.control.updateOwnerInAutoParentMode()},c})(l(9254).TaskCommandBase);d.UpdateTaskCommand=r},299:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ZoomInCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.zoomIn(),!0},i})(h.CommandBase);d.ZoomInCommand=s},2231:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ZoomOutCommand=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.getState=function(){return new f.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.zoomOut(),!0},i})(h.CommandBase);d.ZoomOutCommand=s},5237:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConfirmationDialog=void 0;var u=l(655),h=(function(f){function s(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(s,f),s.prototype.applyParameters=function(n,i){return this.history.beginTransaction(),i.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},s.prototype.createParameters=function(n){return n},s.prototype.getDialogName=function(){return"Confirmation"},s})(l(4730).DialogBase);d.ConfirmationDialog=h},126:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintViolationDialogCommand=void 0;var u=l(655),h=(function(f){function s(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(s,f),s.prototype.applyParameters=function(n,i){return i.callback(n),!0},s.prototype.createParameters=function(n){return n},s.prototype.getDialogName=function(){return"ConstraintViolation"},s})(l(4730).DialogBase);d.ConstraintViolationDialogCommand=h},4730:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DialogBase=void 0;var u=l(655),h=l(9687),f=l(4409),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.isApiCall=!1,t._canRefresh=!0,t}return u.__extends(i,n),i.prototype.execute=function(t,r){return t===void 0&&(t=void 0),r===void 0&&(r=!1),this.isApiCall=r,n.prototype.execute.call(this,t)},i.prototype.executeInternal=function(t){return this.options=t,this.showDialog(t)},Object.defineProperty(i.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),i.prototype.refresh=function(){this.showDialog(this.options)},i.prototype.showDialog=function(t){var r=this,o=this.createParameters(t),c=o.clone();return!!this.onBeforeDialogShow(o)&&(i.activeInstance=this,this.control.showDialog(this.getDialogName(),o,(function(g){g&&(r._canRefresh=!1,r.applyParameters(g,c),r._canRefresh=!0)}),(function(){delete i.activeInstance,r.afterClosing()})),!0)},i.prototype.onBeforeDialogShow=function(t){return!0},i.prototype.applyParameters=function(t,r){return!1},i.prototype.afterClosing=function(){},i.prototype.getState=function(){return new f.SimpleCommandState(this.isEnabled())},i.activeInstance=null,i})(h.CommandBase);d.DialogBase=s},9544:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintViolationOption=d.ConfirmationType=void 0,(function(l){l[l.TaskDelete=0]="TaskDelete",l[l.DependencyDelete=1]="DependencyDelete",l[l.ResourcesDelete=2]="ResourcesDelete"})(d.ConfirmationType||(d.ConfirmationType={})),(function(l){l[l.DoNothing=0]="DoNothing",l[l.RemoveDependency=1]="RemoveDependency",l[l.KeepDependency=2]="KeepDependency"})(d.ConstraintViolationOption||(d.ConstraintViolationOption={}))},5139:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConfirmationDialogParameters=void 0;var u=l(655),h=(function(f){function s(n,i){var t=f.call(this)||this;return t.type=n,t.callback=i,t}return u.__extends(s,f),s.prototype.clone=function(){var n=new s(this.type,this.callback);return n.message=this.message,n},s})(l(9705).DialogParametersBase);d.ConfirmationDialogParameters=h},3433:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintViolationDialogParameters=void 0;var u=l(655),h=(function(f){function s(n,i){var t=f.call(this)||this;return t.validationErrors=n,t.callback=i,t}return u.__extends(s,f),s.prototype.clone=function(){var n=new s(this.validationErrors,this.callback);return n.option=this.option,n},Object.defineProperty(s.prototype,"hasCriticalErrors",{get:function(){var n;return(n=this.validationErrors)===null||n===void 0?void 0:n.some((function(i){return i.critical}))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"errorsCount",{get:function(){var n;return(n=this.validationErrors)===null||n===void 0?void 0:n.length},enumerable:!1,configurable:!0}),s})(l(9705).DialogParametersBase);d.ConstraintViolationDialogParameters=h},9705:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DialogParametersBase=void 0;var l=function(){};d.DialogParametersBase=l},6711:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcesDialogParameters=void 0;var u=l(655),h=l(8828),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.clone=function(){var i=new n;return i.resources=new h.ResourceCollection,i.resources.addRange(this.resources.items),i},n})(l(9705).DialogParametersBase);d.ResourcesDialogParameters=f},1563:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditParameters=void 0;var u=l(655),h=l(8828),f=(function(s){function n(){var i=s!==null&&s.apply(this,arguments)||this;return i.enableEdit=!0,i.enableRangeEdit=!0,i.isValidationRequired=!1,i.hiddenFields=[],i.readOnlyFields=[],i}return u.__extends(n,s),n.prototype.clone=function(){var i=new n;return i.id=this.id,i.title=this.title,i.progress=this.progress,i.start=this.start,i.end=this.end,i.assigned=new h.ResourceCollection,i.assigned.addRange(this.assigned.items),i.resources=new h.ResourceCollection,i.resources.addRange(this.resources.items),i.showResourcesDialogCommand=this.showResourcesDialogCommand,i.showTaskEditDialogCommand=this.showTaskEditDialogCommand,i.enableEdit=this.enableEdit,i.enableRangeEdit=this.enableRangeEdit,i.hiddenFields=this.hiddenFields.slice(),i.readOnlyFields=this.readOnlyFields.slice(),i.isValidationRequired=this.isValidationRequired,i.getCorrectDateRange=this.getCorrectDateRange,i},n})(l(9705).DialogParametersBase);d.TaskEditParameters=f},5477:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcesDialogCommand=void 0;var u=l(655),h=l(8828),f=l(4730),s=l(9544),n=l(5139),i=l(6711),t=(function(r){function o(){var c=r!==null&&r.apply(this,arguments)||this;return c.resourcesForDelete=[],c}return u.__extends(o,r),o.prototype.onBeforeDialogShow=function(c){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(c,(function(g){c.resources=g.values.resources}))},o.prototype.applyParameters=function(c,g){this.history.beginTransaction();for(var v=0;v<c.resources.length;v++)g.resources.getItemById(c.resources.getItem(v).internalId)||this.control.commandManager.createResourceCommand.execute(c.resources.getItem(v).text);for(v=0;v<g.resources.length;v++)c.resources.getItemById(g.resources.getItem(v).internalId)||this.resourcesForDelete.push(g.resources.getItem(v));return this.history.endTransaction(),!1},o.prototype.createParameters=function(c){this.callBack=c;var g=new i.ResourcesDialogParameters;return g.resources=new h.ResourceCollection,g.resources.addRange(this.control.viewModel.resources.items),g},o.prototype.afterClosing=function(){var c=this;if(this.resourcesForDelete.length){var g=this.control.commandManager.showConfirmationDialog,v=new n.ConfirmationDialogParameters(s.ConfirmationType.ResourcesDelete,(function(){c.history.beginTransaction();for(var m=0;m<c.resourcesForDelete.length;m++)c.control.commandManager.removeResourceCommand.execute(c.resourcesForDelete[m].internalId);c.history.endTransaction()}));v.message=this.resourcesForDelete.reduce((function(m,_){return u.__spreadArray(u.__spreadArray([],m,!0),[_.text],!1)}),[]).join(", "),this.callBack&&(g.afterClosing=function(){delete f.DialogBase.activeInstance,c.callBack()}),g.execute(v)}else this.callBack&&this.callBack()},o.prototype.getDialogName=function(){return"Resources"},o})(f.DialogBase);d.ResourcesDialogCommand=t},6152:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditDialogCommand=void 0;var u=l(655),h=l(8828),f=l(1389),s=l(3683),n=l(1493),i=l(4730),t=l(1563),r=l(2491),o=(function(c){function g(){return c!==null&&c.apply(this,arguments)||this}return u.__extends(g,c),g.prototype.onBeforeDialogShow=function(v){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(v,(function(m){var _=m.values;v.start=_.start,v.end=_.end,v.progress=_.progress,v.title=_.title,v.readOnlyFields=m.readOnlyFields,v.hiddenFields=m.hiddenFields}))},g.prototype.applyParameters=function(v,m){var _=this;this.history.beginTransaction();var T=this.getUpdatedTaskData(v,m);Object.keys(T).length>0&&setTimeout((function(){return _.control.commandManager.updateTaskCommand.execute(m.id,T)}),0);for(var b=0;b<v.assigned.length;b++)if(!m.assigned.getItemById(v.assigned.getItem(b).internalId)){var k=v.assigned.getItem(b).internalId,D=m.id,E=new f.ResourceAssigningArguments(k,D);this.modelManipulator.dispatcher.notifyResourceAssigning(E),E.cancel||this.history.addAndRedo(new s.AssignResourceHistoryItem(this.modelManipulator,E.resourceId,E.taskId))}var A=function(R){var x=m.assigned.getItem(R);if(!v.assigned.getItemById(x.internalId)){var N=F.control.viewModel.assignments.items.filter((function(H){return H.resourceId===x.internalId&&H.taskId===m.id}))[0];F.modelManipulator.dispatcher.fireResourceUnassigning(N)&&F.history.addAndRedo(new n.DeassignResourceHistoryItem(F.modelManipulator,N.internalId))}},F=this;for(b=0;b<m.assigned.length;b++)A(b);return this.history.endTransaction(),!1},g.prototype.getUpdatedTaskData=function(v,m){var _={};return(0,r.isDefined)(v.title)&&m.title!==v.title&&(_.title=v.title),(0,r.isDefined)(v.progress)&&m.progress!==v.progress&&(_.progress=v.progress),(0,r.isDefined)(v.start)&&m.start!==v.start&&(_.start=v.start),(0,r.isDefined)(v.end)&&m.end!==v.end&&(_.end=v.end),_},g.prototype.createParameters=function(v){var m=this;v=v||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var _=new t.TaskEditParameters;return _.id=v.internalId,_.title=v.title,_.progress=v.progress,_.start=v.start,_.end=v.end,_.assigned=this.control.viewModel.getAssignedResources(v),_.resources=new h.ResourceCollection,_.resources.addRange(this.control.viewModel.resources.items),_.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,_.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,_.enableEdit=this.isTaskEditEnabled(),_.enableRangeEdit=this.isTaskRangeEditEnabled(v),_.isValidationRequired=this.control.isValidateDependenciesRequired(),_.getCorrectDateRange=function(T,b,k){return m.control.validationController.getCorrectDateRange(T,b,k)},_},g.prototype.isTaskEditEnabled=function(){var v=this.control.settings;return v.editing.enabled&&v.editing.allowTaskUpdate},g.prototype.isTaskRangeEditEnabled=function(v){return!this.control.viewModel.isTaskToCalculateByChildren(v.internalId)},g.prototype.isEnabled=function(){var v=this.control,m=v.viewModel.findItem(v.currentSelectedTaskID);return!!m&&m.selected||this.isApiCall},g.prototype.getState=function(){var v=c.prototype.getState.call(this);return v.visible=v.visible&&!this.control.taskEditController.dependencyId,v},g.prototype.getDialogName=function(){return"TaskEdit"},g})(i.DialogBase);d.TaskEditDialogCommand=o},6893:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttExportCalculator=void 0;var u=l(8900),h=l(6907),f=l(2449),s=l(1855),n=l(4991),i=l(2485),t=l(3917),r=l(405),o=l(6995),c=l(5063),g=l(6032),v=l(8603),m=l(6997),_=l(8935),T=l(6353),b=l(3424),k=l(5763),D=l(7802),E=l(9895),A=l(2642),F=(function(){function R(x,N){var H,G;this._owner=x,this._props=new m.GanttPdfExportProps(N),(H=(G=this._props).margins)!==null&&H!==void 0||(G.margins=new c.Margin(R._defaultPageMargin))}return Object.defineProperty(R.prototype,"chartTableScaleTopMatrix",{get:function(){var x;return(x=this._chartTableScaleTopMatrix)!==null&&x!==void 0||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"chartTableScaleBottomMatrix",{get:function(){var x;return(x=this._chartTableScaleBottomMatrix)!==null&&x!==void 0||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),R.prototype.getPages=function(x){return new b.PdfGanttPaginator(x,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(R.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"taskAreaHelper",{get:function(){var x;return(x=this._taskAreaHelper)!==null&&x!==void 0||(this._taskAreaHelper=new v.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"scalingHelper",{get:function(){var x,N;return(x=this._scalingHelper)!==null&&x!==void 0||(this._scalingHelper=new k.ScalingHelper((N=this._props)===null||N===void 0?void 0:N.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"chartScaleTableStyle",{get:function(){var x;return(x=this._chartScaleTableStyle)!==null&&x!==void 0||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"chartMainTableStyle",{get:function(){var x;return(x=this._chartMainTableStyle)!==null&&x!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"headerTableTop",{get:function(){var x;return(x=this._headerTableTop)!==null&&x!==void 0||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"mainTableTop",{get:function(){var x;return(x=this._mainTableTop)!==null&&x!==void 0||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),R.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(R.prototype,"chartLeft",{get:function(){var x;return(x=this._chartLeft)!==null&&x!==void 0||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),R.prototype.getChartLeft=function(){var x;return((((x=this._props)===null||x===void 0?void 0:x.exportMode)||E.ExportMode.all)===E.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(R.prototype,"treeListLeft",{get:function(){var x;return(x=this._treeListLeft)!==null&&x!==void 0||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"mainTableHeight",{get:function(){var x;return(x=this._mainTableHeight)!==null&&x!==void 0||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"treeListWidth",{get:function(){var x;return(x=this._treeListWidth)!==null&&x!==void 0||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),R.prototype.getTreeListTableWidth=function(){var x,N=this,H=this.treeListHeaderMatrix[0].map((function(G,O){return N.getTreeListColumnWidth(O)}));return(x=H==null?void 0:H.reduce((function(G,O){return G+O}),0))!==null&&x!==void 0?x:0},Object.defineProperty(R.prototype,"chartWidth",{get:function(){var x=this;if(!this._chartWidth){var N=this.chartTableScaleBottomMatrix[0];this._chartWidth=N.reduce((function(H,G){return H+(G.styles.cellWidth.hasValue()?G.styles.cellWidth.getValue():x.baseCellWidth)}),0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new m.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),R.prototype.prepareAutoFormat=function(x){if(x.format===m.GanttPdfExportProps.autoFormatKey){x.format=null;var N=x.landscape,H=this.autoFormatWidth,G=this.autoFormatHeight;(N&&G>H||!N&&G<H)&&(x.landscape=!N),x.pageSize=new T.Size(H,G)}},Object.defineProperty(R.prototype,"autoFormatWidth",{get:function(){var x,N=(((x=this._props)===null||x===void 0?void 0:x.exportMode)||E.ExportMode.all)!==E.ExportMode.treeList,H=this.pageRightMargin;return(H+=N?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+R._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),R.prototype.createGlobalInfo=function(){var x={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(x),x},R.prototype.getTablesInfo=function(){var x={};return this._canExportTreelist()&&(x[_.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),x[_.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(x[_.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),x[_.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),x[_.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),x},Object.defineProperty(R.prototype,"exportMode",{get:function(){var x,N;return(N=(x=this._props)===null||x===void 0?void 0:x.exportMode)!==null&&N!==void 0?N:E.ExportMode.all},enumerable:!1,configurable:!0}),R.prototype._canExportTreelist=function(){return this.exportMode===E.ExportMode.all||this.exportMode===E.ExportMode.treeList},R.prototype._canExportChart=function(){return this.exportMode===E.ExportMode.all||this.exportMode===E.ExportMode.chart},Object.defineProperty(R.prototype,"_predefinedFont",{get:function(){var x,N,H,G,O=(N=(x=this._props)===null||x===void 0?void 0:x.pdfDoc)===null||N===void 0?void 0:N.getFont();return(O==null?void 0:O.fontName)||((G=(H=this._props)===null||H===void 0?void 0:H.font)===null||G===void 0?void 0:G.name)},enumerable:!1,configurable:!0}),R.prototype._createChartScaleTopInfo=function(){return{name:_.PdfPageTableNames.chartScaleTop,size:new T.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new u.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new T.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},R.prototype._createChartScaleBottomInfo=function(){var x=this.taskAreaHelper.headerRowHeight;return{name:_.PdfPageTableNames.chartScaleBottom,size:new T.Size(this.chartWidth,x),position:new u.Point(this.chartLeft,this.headerTableTop+x),style:this.chartScaleTableStyle,baseCellSize:new T.Size(this.baseCellWidth,x),cells:this.chartTableScaleBottomMatrix}},R.prototype.createChartMainTableInfo=function(){return{name:_.PdfPageTableNames.chartMain,size:new T.Size(this.chartWidth,this.mainTableHeight),position:new u.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new T.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},R.prototype.createTreeListHeaderTableInfo=function(){return{name:_.PdfPageTableNames.treeListHeader,size:new T.Size(this.treeListWidth,this.headerTableHeight),position:new u.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new T.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},R.prototype.createTreeListMainTableInfo=function(){return{name:_.PdfPageTableNames.treeListMain,size:new T.Size(this.treeListWidth,this.mainTableHeight),position:new u.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new T.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},R.prototype.calculateChartScaleMatrix=function(x){for(var N=this.taskAreaHelper,H=N.scaleRanges,G=new Array,O=H[x][0],B=H[x][1],W=O;W<=B;W++){var V=this.layoutCalculator.getScaleItemStart(W,N.scales[x]),K=new g.CellDef(this._owner.renderHelper.getScaleItemTextByStart(V,N.scales[x]));K.styles.cellPadding.assign(0),K.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var X=x===0?N.scaleTopWidths[W]:N.scaleBottomWidths[W];K.styles.cellWidth.assign(X),G.push(K)}return[G]},R.prototype.calculateChartTableBodyMatrix=function(){var x=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach((function(N){return x._chartTableBodyMatrix.push(x.createChartTableBodyRow(N))})):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},R.prototype.createChartTableBodyRow=function(x){var N=new g.CellDef;return this.rowHasChildren(x)&&N.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map((function(H){var G=new g.CellDef(N);return G.styles.cellWidth.assign(H.styles.cellWidth),G}))},R.prototype.rowHasSelection=function(x){return this._owner.rowHasSelection(x)},R.prototype.rowHasChildren=function(x){return this._owner.rowHasChildren(x)},R.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var x=this._owner,N=x.getTreeListColCount(),H=new Array,G=0;G<N;G++){var O=new g.CellDef(x.getTreeListHeaderInfo(G));O.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,H.push(O)}this._treeListHeaderMatrix.push(H)},R.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},R.prototype.fillTreeListTableBodyMatrix=function(x){for(var N,H=this.visibleTaskIndices,G=this.treeListHeaderMatrix[0].length,O=0;O<H.length;O++){for(var B=new Array,W=H[O],V=(N=this._owner.getTask(W))===null||N===void 0?void 0:N.id,K=0;K<G;K++){var X=new g.CellDef(this._owner.getTreeListCellInfo(W,K,V));X.styles.cellWidth.hasValue()||X.styles.cellWidth.assign(this.getTreeListColumnWidth(K)),this.rowHasChildren(H[O])&&X.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),B.push(X)}x.push(B)}},R.prototype.fillTreeListEmptyTableBodyMatrix=function(x){var N=new Array,H=new g.CellDef(this._owner.getTreeListEmptyDataCellInfo());H.styles.cellWidth.assign(this.treeListWidth),H.styles.halign=A.PredefinedStyles.horizontalAlign[1],H.styles.valign=A.PredefinedStyles.verticalAlign[1],N.push(H),x.push(N)},R.prototype.getTreeListColumnWidth=function(x){var N=this.treeListHeaderMatrix[0][x],H=N&&N.styles;return H.cellWidth.getValue()||H.minCellWidth||0},R.prototype.getObjectsLeftOffset=function(x){x===void 0&&(x=!1);var N=this.dataObjectLeftDelta;return x||(N+=this.taskAreaHelper.customRangeLeftOffset),N},Object.defineProperty(R.prototype,"dataObjectLeftDelta",{get:function(){var x;return(x=this._dataObjectLeftDelta)!==null&&x!==void 0||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"dataObjectTopDelta",{get:function(){var x;return(x=this._dataObjectTopDelta)!==null&&x!==void 0||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),R.prototype.getChartScaleTableStyle=function(){var x=new o.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(x.font=this._predefinedFont),x},R.prototype.getChartMainTableStyle=function(){var x=new o.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(x.font=this._predefinedFont),x},R.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new o.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},R.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(R.prototype,"tasksInfo",{get:function(){var x;return(x=this._tasksInfo)!==null&&x!==void 0||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"dependenciesInfo",{get:function(){var x;return(x=this._dependenciesInfo)!==null&&x!==void 0||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"resourcesInfo",{get:function(){var x;return(x=this._resourcesInfo)!==null&&x!==void 0||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"timeMarkersInfo",{get:function(){var x;return(x=this._timeMarkersInfo)!==null&&x!==void 0||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),R.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},R.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},R.prototype.calculateTasksInfo=function(){var x=this,N=new Array;return this.visibleTaskIndices.forEach((function(H){return N.push(x.calculateTaskInfo(H))})),N},R.prototype.calculateTaskInfo=function(x){var N=new t.PdfTaskInfo,H=this.layoutCalculator.getTaskElementInfo(x);return N.taskColor=this.getTaskColor(x),N.sidePoints=this.getTaskSidePoints(x),N.isMilestone=H.className.indexOf(s.GridLayoutCalculator.milestoneClassName)>0,N.isMilestone||(N.isSmallTask=H.className.indexOf(s.GridLayoutCalculator.smallTaskClassName)>0,N.isParent=H.className.indexOf(s.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(N,x),this.appendTaskProgress(N,x)),N},R.prototype.appendTaskTitle=function(x,N){var H=this._owner.settings.taskTitlePosition;x.isSmallTask&&H!==f.TaskTitlePosition.Outside||H===f.TaskTitlePosition.None||(x.text=this._owner.getTaskText(N),x.textPosition=H,x.textStyle=this.getTaskTextStyle(N))},R.prototype.appendTaskProgress=function(x,N){var H=this.layoutCalculator.getTaskProgressElementInfo(N);x.progressWidth=H.size.width,x.progressColor=this.getTaskProgressColor(N),x.progressColor.applyOpacityToBackground(x.taskColor)},R.prototype.getTaskSidePoints=function(x){var N=this,H=this.layoutCalculator.getTaskSidePoints(x);return H.forEach((function(G){G.x+=N.getObjectsLeftOffset(!0),G.y+=N.dataObjectTopDelta})),H},R.prototype.getTaskColor=function(x){var N=this.taskAreaHelper.getTaskElementBackColor(x,s.GridLayoutCalculator.taskClassName);return new r.Color(N)},R.prototype.getTaskProgressColor=function(x){return new r.Color(this.taskAreaHelper.getTaskElementBackColor(x,s.GridLayoutCalculator.taskProgressClassName))},R.prototype.getTaskTextStyle=function(x){var N=new o.StyleDef;return N.cellPadding.assign(0),N.assign(this.taskAreaHelper.getTaskElementStyle(x,s.GridLayoutCalculator.taskTitleClassName)),N},R.prototype.calculateDependenciesInfo=function(){var x=this,N=new Array,H=this.taskAreaHelper,G=new r.Color(H.dependencyColor);return H.connectorLines.forEach((function(O){return N.push(x.createLineInfo(O,G,H.arrowWidth))})),N},R.prototype.createLineInfo=function(x,N,H){var G=new n.PdfDependencyLineInfo;if(G.fillColor=N,x.className.indexOf(s.GridLayoutCalculator.arrowClassName)>-1){var O=this.layoutCalculator.getArrowPositionByClassName(x.className);G.arrowInfo={position:O,width:H},G.points=[this.getArrowTopCorner(x,O,H)]}else G.points=this.getLinePoints(x);return G},R.prototype.getArrowTopCorner=function(x,N,H){var G=x.position.x+this.getObjectsLeftOffset(),O=x.position.y+this.dataObjectTopDelta;switch(N){case f.Position.Left:G+=H;break;case f.Position.Top:O+=H}return new u.Point(G,O)},R.prototype.getLinePoints=function(x){var N=x.position.x+this.getObjectsLeftOffset(),H=x.position.y+this.dataObjectTopDelta,G=N+x.size.width,O=H+x.size.height;return[new u.Point(N,H),new u.Point(G,O)]},R.prototype.calculateResourcesInfo=function(){var x=this,N=new Array;return this.taskAreaHelper.resourcesElements.forEach((function(H){return N=N.concat(x.calculateResourcesInLine(H))})),N},R.prototype.calculateResourcesInLine=function(x){var N=new Array;if(x)for(var H=h.DomUtils.pxToInt(x.style.left)+this.getObjectsLeftOffset(),G=h.DomUtils.pxToInt(x.style.top)+this.dataObjectTopDelta,O=x.getElementsByClassName(s.GridLayoutCalculator.taskResourceClassName),B=0;B<O.length;B++){var W=O[B];if(this.taskAreaHelper.isElementVisible(W)){var V=getComputedStyle(W);H+=this.getMargin(V).left,N.push(new i.PdfTaskResourcesInfo(W.textContent,new o.StyleDef(V),H,G)),H+=h.DomUtils.pxToInt(V.width)}}return N},R.prototype.calculateTimeMarkersInfoInfo=function(){var x=this,N=new Array;return this.taskAreaHelper.stripLinesElements.forEach((function(H){return N.push(x.createTimeMarkerInfo(H,!0))})),this.taskAreaHelper.noWorkingIntervalsElements.forEach((function(H){return N.push(x.createTimeMarkerInfo(H,!1))})),N},R.prototype.createTimeMarkerInfo=function(x,N){var H=getComputedStyle(x),G=h.DomUtils.pxToInt(H.left)+this.getObjectsLeftOffset(),O=h.DomUtils.pxToInt(H.top)+this.dataObjectTopDelta,B=h.DomUtils.pxToInt(H.width),W=h.DomUtils.pxToInt(H.height);return new D.PdfTimeMarkerInfo(new u.Point(G,O),new T.Size(B,W),new r.Color(H.backgroundColor),new r.Color(H.borderLeftColor),N)},R.prototype.getMargin=function(x){var N=new c.Margin(0);if(x){var H=x.margin;H||(H+=x.marginTop||"0",H+=" "+x.marginRight||0,H+=" "+x.marginBottom||0,H+=" "+x.marginLeft||0),N.assign(H)}return N},R._defaultPageMargin=10,R._autoFormatWidthAddStock=1,R})();d.GanttExportCalculator=F},4991:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfDependencyLineInfo=void 0;var u=l(8900),h=l(405),f=(function(){function s(){}return s.prototype.assign=function(n){var i;this._copyPoints(n.points),this.arrowInfo=n.arrowInfo,(i=this.fillColor)!==null&&i!==void 0||(this.fillColor=new h.Color),this.fillColor.assign(n.fillColor)},s.prototype._copyPoints=function(n){var i=this;this.points=new Array,n==null||n.forEach((function(t){return i.points.push(new u.Point(t.x,t.y))}))},s})();d.PdfDependencyLineInfo=f},266:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfObjectDrawer=void 0;var u=l(2449),h=l(817),f=l(3917),s=(function(){function n(i,t){this._FONT_ROW_RATIO=1.15,this._info=t,this._pdfDoc=i}return n.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},n.prototype.drawTasks=function(){var i,t=this,r=(i=this._info)===null||i===void 0?void 0:i.tasks;r&&r.forEach((function(o){return t.drawTask(o)}))},n.prototype.drawTask=function(i){var t=this._pdfDoc;t.setFillColor.apply(t,i.taskColor.getRBGColor()),t.setDrawColor.apply(t,i.taskColor.getRBGColor()),i.isMilestone?this.drawMilestone(i):this.drawRegularTask(i)},n.prototype.drawMilestone=function(i){var t=this._pdfDoc,r=i.sidePoints[0].x,o=i.sidePoints[0].y,c=i.sidePoints[1].x,g=i.sidePoints[1].y,v=i.sidePoints[2].x,m=i.sidePoints[2].y,_=i.sidePoints[3].x,T=i.sidePoints[3].y;t.triangle(r,o,c,g,v,m,"FD"),t.triangle(r,o,_,T,v,m,"FD")},n.prototype.drawRegularTask=function(i){var t=this._pdfDoc;t.rect(i.left,i.top,i.width,i.height,"FD"),i.isParent&&this.drawParentBorder(i),i.progressWidth&&(t.setFillColor.apply(t,i.progressColor.getRBGColor()),t.rect(i.left,i.top,i.progressWidth,i.height,"F")),i.text&&this.printTaskTitle(i)},n.prototype.drawParentBorder=function(i){var t=this._pdfDoc,r=i.sidePoints[0].x,o=i.sidePoints[1].y,c=i.sidePoints[3].y,g=i.sidePoints[2].x,v=i.sidePoints[3].y-i.sidePoints[1].y,m=i.progressWidth>v?i.progressColor.getRBGColor():i.taskColor.getRBGColor();t.setFillColor.apply(t,m),t.triangle(r,o,r,c,r+v,o,"FD"),t.setFillColor.apply(t,i.taskColor.getRBGColor()),t.triangle(g,o,g,c,g-v,o,"FD")},n.prototype.printTaskTitle=function(i){var t,r=this._pdfDoc,o=i.textStyle,c=o&&o.textColor.getRBGColor(),g=o&&o.fontSize;r.setTextColor.apply(r,c),r.setFontSize(g);var v=i.top+g*this._FONT_ROW_RATIO/r.internal.scaleFactor;i.isParent&&(v-=f.PdfTaskInfo.defaultParentHeightCorrection);var m=o&&o.cellPadding.left||0,_=o&&o.cellPadding.right||0;if(i.textPosition===u.TaskTitlePosition.Inside){var T=i.width-m-_;t=i.left+m,r.text(h.EllipsisHelper.limitPdfTextWithEllipsis(i.text,r,T),t,v)}else t=i.left-_,r.text(i.text,t,v,{align:"right"})},n.prototype.drawDependencies=function(){var i,t=this,r=(i=this._info)===null||i===void 0?void 0:i.dependencies;r&&r.forEach((function(o){return t.drawDependencyLine(o)}))},n.prototype.drawDependencyLine=function(i){var t,r;if((t=this._pdfDoc).setFillColor.apply(t,i.fillColor.getRBGColor()),(r=this._pdfDoc).setDrawColor.apply(r,i.fillColor.getRBGColor()),i.arrowInfo)this.drawArrow(i);else{var o=i.points;this._pdfDoc.line(o[0].x,o[0].y,o[1].x,o[1].y)}},n.prototype.isValidLine=function(i){var t=i.points;return!(isNaN(t[0].x)||isNaN(t[0].y)||isNaN(t[1].x)||isNaN(t[1].y))},n.prototype.drawArrow=function(i){var t=i.arrowInfo.width||0,r=i.points[0].x,o=i.points[0].y;switch(i.arrowInfo.position){case u.Position.Left:this._pdfDoc.triangle(r,o+t,r+t,o,r+t,o+2*t,"FD");break;case u.Position.Right:this._pdfDoc.triangle(r,o,r,o+2*t,r+t,o+t,"FD");break;case u.Position.Top:this._pdfDoc.triangle(r,o+t,r+t,o,r+2*t,o+t,"FD");break;case u.Position.Bottom:this._pdfDoc.triangle(r,o,r+t,o+t,r+2*t,o,"FD")}},n.prototype.drawResources=function(){var i,t=this,r=this._pdfDoc,o=(i=this._info)===null||i===void 0?void 0:i.resources;o&&o.forEach((function(c){var g,v,m;r.setFontSize((g=c.style.fontSize)!==null&&g!==void 0?g:11);var _=c.y+c.style.fontSize*t._FONT_ROW_RATIO/r.internal.scaleFactor,T=(v=c.style.cellPadding.left)!==null&&v!==void 0?v:0,b=(m=c.style.cellPadding.right)!==null&&m!==void 0?m:1,k=Math.max(c.style.cellWidth.getValue(),T+r.getTextWidth(c.text)+b);r.setFillColor.apply(r,c.style.fillColor.getRBGColor()),r.rect(c.x,c.y,k,c.style.minCellHeight,"F"),r.setTextColor.apply(r,c.style.textColor.getRBGColor()),r.text(c.text,c.x+T,_)}))},n.prototype.drawTimeMarkers=function(){var i,t=this,r=(i=this._info)===null||i===void 0?void 0:i.timeMarkers;r==null||r.forEach((function(o){return t.drawTimeMarker(o)}))},n.prototype.drawTimeMarker=function(i){var t,r,o=this._pdfDoc,c=i.size.width>1,g=i.start.x,v=i.start.y,m=i.size.width,_=i.size.height,T=i.isStripLine;c&&(o.setFillColor.apply(o,i.color.getRBGColor()),o.saveGraphicsState(),o.setGState(new o.GState({opacity:(r=i.color.opacity)!==null&&r!==void 0?r:1})),o.rect(g,v,m,_,"F"),o.restoreGraphicsState()),T&&(this._pdfDoc.setLineDashPattern([3]),(t=this._pdfDoc).setDrawColor.apply(t,i.lineColor.getRBGColor()),c&&this._pdfDoc.line(g+m,v,g+m,v+_,"S"),this._pdfDoc.line(g,v,g,v+_,"S"),this._pdfDoc.setLineDashPattern())},n})();d.PdfObjectDrawer=s},3917:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfTaskInfo=void 0;var u=l(8900),h=l(405),f=l(6995),s=(function(){function n(){}return Object.defineProperty(n.prototype,"left",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){var i=this.bottom-this.top;return this.isParent&&(i-=n.defaultParentHeightCorrection),i},enumerable:!1,configurable:!0}),n.prototype.assign=function(i){var t,r,o;this.isMilestone=i.isMilestone,this._copyPoints(i.sidePoints),this.progressWidth=i.progressWidth,this.isSmallTask=i.isSmallTask,this.text=i.text,this.textPosition=i.textPosition,(t=this.progressColor)!==null&&t!==void 0||(this.progressColor=new h.Color),this.progressColor.assign(i.progressColor),(r=this.taskColor)!==null&&r!==void 0||(this.taskColor=new h.Color),this.taskColor.assign(i.taskColor),(o=this.textStyle)!==null&&o!==void 0||(this.textStyle=new f.StyleDef),this.textStyle.assign(i.textStyle),this.isParent=i.isParent},n.prototype._copyPoints=function(i){var t=this;this.sidePoints=new Array,i==null||i.forEach((function(r){return t.sidePoints.push(new u.Point(r.x,r.y))}))},n.defaultParentHeightCorrection=4,n})();d.PdfTaskInfo=s},2485:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfTaskResourcesInfo=void 0;var u=l(2491),h=l(6995),f=(function(){function s(n,i,t,r){n&&(this.text=n),i&&(this.style=new h.StyleDef(i)),(0,u.isDefined)(t)&&(this.x=t),(0,u.isDefined)(r)&&(this.y=r)}return s.prototype.assign=function(n){this.text=n.text,this.style=new h.StyleDef(n.style),this.x=n.x,this.y=n.y},s})();d.PdfTaskResourcesInfo=f},7802:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfTimeMarkerInfo=void 0;var u=l(8900),h=l(6353),f=l(2491),s=l(405),n=(function(){function i(t,r,o,c,g){this.lineColor=new s.Color,this.color=new s.Color,t&&(this.start=new u.Point(t.x,t.y)),r&&(this.size=new h.Size(r.width,r.height)),o&&this.color.assign(o),c&&this.lineColor.assign(c),(0,f.isDefined)(g)&&(this.isStripLine=g)}return i.prototype.assign=function(t){var r,o,c,g;t&&(this.start=new u.Point((r=t.start)===null||r===void 0?void 0:r.x,(o=t.start)===null||o===void 0?void 0:o.y),this.size=new h.Size((c=t.size)===null||c===void 0?void 0:c.width,(g=t.size)===null||g===void 0?void 0:g.height),this.isStripLine=t.isStripLine,this.color.assign(t.color),this.lineColor.assign(t.lineColor))},i})();d.PdfTimeMarkerInfo=n},2978:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttExporter=void 0;var u=l(4970),h=(function(){function f(s){if(!s.settings.pdfDoc&&!s.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=s}return f.prototype.export=function(){var s,n,i=this.pdfDoc;this.applyCustomFont();for(var t=this._info,r=new u.PdfGanttPageDrawer(i,t.settings),o=t.getPages(i),c=o.length,g=0;g<c;g++){g>0&&i.addPage(this.getDocumentFormat(),this.getOrientation());var v=o[g];r.drawPage(v)}return!((s=this.props)===null||s===void 0)&&s.fileName&&i.save((n=this.props)===null||n===void 0?void 0:n.fileName),i},Object.defineProperty(f.prototype,"pdfDoc",{get:function(){var s,n;return(s=this._pdfDoc)!==null&&s!==void 0||(this._pdfDoc=(n=this._info.settings.pdfDoc)!==null&&n!==void 0?n:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),f.prototype.createDoc=function(){var s=this.getJsPDFProps();return this._info.settings.docCreateMethod(s)},f.prototype.getJsPDFProps=function(){var s={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return s.orientation=this.getOrientation(),s.format=this.getDocumentFormat(),s},f.prototype.getOrientation=function(){var s;return!((s=this.props)===null||s===void 0)&&s.landscape?"l":"p"},f.prototype.getDocumentFormat=function(){var s,n,i,t;return!((s=this.props)===null||s===void 0)&&s.format||!((n=this.props)===null||n===void 0)&&n.pageSize?!((i=this.props)===null||i===void 0)&&i.pageSize?[this.props.pageSize.height,this.props.pageSize.width]:(t=this.props)===null||t===void 0?void 0:t.format:"a4"},f.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},f})();d.PdfGanttExporter=h},8935:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfPageTableNames=void 0;var l=(function(){function u(){}return u.treeListHeader="treeListHeader",u.treeListMain="treeListMain",u.chartMain="chartMain",u.chartScaleTop="chartScaleTop",u.chartScaleBottom="chartScaleBottom",u})();d.PdfPageTableNames=l},4970:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttPageDrawer=void 0;var u=l(8900),h=l(266),f=l(8935),s=l(9895),n=l(5510),i=(function(){function t(r,o){this._pdfDoc=r,this._props=o}return t.prototype.drawPage=function(r){var o=this._pdfDoc,c=new n.PdfGanttTableDrawer(o);return this.needDrawChart()&&(c.drawTable(r.tables[f.PdfPageTableNames.chartMain]),new h.PdfObjectDrawer(o,r.objects).draw(),c.drawTable(r.tables[f.PdfPageTableNames.chartScaleTop]),c.drawTable(r.tables[f.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(c.drawTable(r.tables[f.PdfPageTableNames.treeListMain]),c.drawTable(r.tables[f.PdfPageTableNames.treeListHeader])),this.drawMargins(r),o},t.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.chart},t.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.treeList},t.prototype.getContentRightBottom=function(r){var o=new u.Point(0,0);for(var c in r.tables)if(Object.prototype.hasOwnProperty.call(r.tables,c)){var g=r.tables[c];o.x=Math.max(o.x,g.position.x+g.size.width),o.y=Math.max(o.y,g.position.y+g.size.height)}return o},t.prototype.drawMargins=function(r){var o=this._pdfDoc,c=this._props,g=o.getPageWidth(),v=o.getPageHeight(),m=this.getContentRightBottom(r);o.setFillColor(255,255,255),o.rect(0,0,c.margins.left,v,"F"),o.rect(0,0,g,c.margins.top,"F"),o.rect(m.x,0,g,v,"F"),o.rect(0,m.y,g,v,"F")},t})();d.PdfGanttPageDrawer=i},4429:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PageNavigation=void 0;var l=(function(){function u(h,f,s,n,i,t){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=h==null?void 0:h.top,this._left=h==null?void 0:h.left,this._bottom=h==null?void 0:h.bottom,this._right=h==null?void 0:h.right,this.vIndex=f??this.vIndex,this.hIndex=s??this.hIndex,this.pageX=n??this.pageX,this.pageY=i??this.pageY,t&&(this._correctedBottoms=t)}return u.prototype.offset=function(h,f){h&&this.offsetOneD(h),f&&this.offsetOneD(f,!0)},u.prototype.offsetOneD=function(h,f){for(var s=h,n=this.getSpaceToBorder(f);n<s;)f?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),s-=n,n=this.getSpaceToBorder(f);f?this.pageY+=s:this.pageX+=s},Object.defineProperty(u.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),u.prototype.getPageEnd=function(h){return h?this.getCurrentPageBottom():this._right},u.prototype.getPageStart=function(h){return h?this._top:this._left},u.prototype.getPageSize=function(h,f){return h?this.getPageHeight(f):this.defaultPageWidth},u.prototype.getSpaceToBorder=function(h){return h?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},u.prototype.getPageGlobalOffset=function(h,f){if(!f)return h*this.defaultPageWidth;for(var s=0,n=1;n<=h;n++)s+=this.getPageHeight(n-1);return s},u.prototype.assign=function(h){this._top=h._top,this._left=h._left,this._bottom=h._bottom,this._right=h._right,this._correctedBottoms=h._correctedBottoms,this.vIndex=h.vIndex,this.hIndex=h.hIndex,this.pageX=h.pageX,this.pageY=h.pageY},u.createFrom=function(h){var f=new u;return f.assign(h),f},u.prototype.clone=function(){var h=new u;return h.assign(this),h},u.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},u.prototype.getPageBottom=function(h){var f;return(f=this._correctedBottoms[h])!==null&&f!==void 0?f:this._bottom},u.prototype.getPageHeight=function(h){return this.getPageBottom(h)-this._top},u})();d.PageNavigation=l},3424:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttPaginator=void 0;var u=l(8900),h=l(6353),f=l(4991),s=l(3917),n=l(2485),i=l(7802),t=l(8935),r=l(6032),o=l(4429),c=function(m,_,T,b,k){this.pageVerIndex=_,this.pageHorIndex=m,this.cellRowIndexOnPage=T,this.cellColIndexOnPage=b,this.cell=k},g=(function(){function m(_,T,b,k){this.pageIndex=_,this.globalCellIndex=T,this.pageOffset=b,this.cutSize=k}return Object.defineProperty(m.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),m})(),v=(function(){function m(_,T,b){this._pdfDoc=_,this._props=T,this._globalInfo=b}return m.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},m.prototype._paginateTables=function(){this._paginateTable(t.PdfPageTableNames.treeListHeader),this._paginateTable(t.PdfPageTableNames.treeListMain),this._paginateTable(t.PdfPageTableNames.chartScaleBottom),this._paginateTable(t.PdfPageTableNames.chartScaleTop),this._paginateTable(t.PdfPageTableNames.chartMain)},m.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(m.prototype,"pageMatrixToArray",{get:function(){var _,T=new Array;return(_=this._pages)===null||_===void 0||_.forEach((function(b){T=T.concat(b)})),T},enumerable:!1,configurable:!0}),m.prototype._paginateTasks=function(){var _,T,b=this;(T=(_=this._globalInfo.objects)===null||_===void 0?void 0:_.tasks)===null||T===void 0||T.forEach((function(k){return b._paginateTask(k)}))},m.prototype._paginateDependencies=function(){var _,T,b=this;(T=(_=this._globalInfo.objects)===null||_===void 0?void 0:_.dependencies)===null||T===void 0||T.forEach((function(k){k.arrowInfo?b._paginateArrow(k):b._paginateDependencyLine(k)}))},m.prototype._paginateResources=function(){var _,T,b=this;(T=(_=this._globalInfo.objects)===null||_===void 0?void 0:_.resources)===null||T===void 0||T.forEach((function(k){return b._paginateResource(k)}))},m.prototype._paginateTimeMarkers=function(){var _,T,b=this;(T=(_=this._globalInfo.objects)===null||_===void 0?void 0:_.timeMarkers)===null||T===void 0||T.forEach((function(k){return b._paginateTimeMarker(k)}))},m.prototype._paginateTable=function(_){var T,b=(T=this._globalInfo)===null||T===void 0?void 0:T.tables[_];if(b){for(var k=this._getTableStart(b),D=this._preparePagesNavigationMatrixForTable(k,b),E=D.length,A=0;A<E;A++)for(var F=D[A].length,R=0;R<F;R++){var x=D[A][R],N=this._getPage(x.pageVerIndex,x.pageHorIndex,!0),H=x.pageHorIndex===k.hIndex?k.pageX:this.pageLeft,G=x.pageVerIndex===k.vIndex?k.pageY:this.pageTop;this._setTablePositionOnPage(N,_,H,G),this._addCellToPage(N,_,x)}this._updateTableSizeOnPages(_)}},m.prototype._paginateTask=function(_){for(var T=this._getTaskPagination(_),b=this._getTaskPagination(_,!0),k=0;k<b.length;k++)for(var D=0;D<T.length;D++){var E=new s.PdfTaskInfo;E.assign(_),this._offsetPoints(E.sidePoints,T[D].offset,b[k].offset),this._addTaskToPage(b[k].pageIndex,T[D].pageIndex,E)}},m.prototype._paginateArrow=function(_){var T=this._getPointPageInfo(_.points[0]),b=new f.PdfDependencyLineInfo;b.assign(_),this._offsetPoints(b.points,T.offsetX,T.offsetY),this._addDependencyToPage(T.pageVerIndex,T.pageHorIndex,b)},m.prototype._paginateDependencyLine=function(_){for(var T=this._getDependencyLinePagination(_),b=this._getDependencyLinePagination(_,!0),k=0;k<b.length;k++)for(var D=0;D<T.length;D++){var E=new f.PdfDependencyLineInfo;E.assign(_),this._offsetPoints(E.points,T[D].offset,b[k].offset),this._addDependencyToPage(b[k].pageIndex,T[D].pageIndex,E)}},m.prototype._paginateResource=function(_){var T=this._getPointPageInfo(new u.Point(_.x,_.y)),b=new n.PdfTaskResourcesInfo;b.assign(_),b.x-=T.offsetX,b.y-=T.offsetY,this._addResourceToPage(T.pageVerIndex,T.pageHorIndex,b)},m.prototype._paginateTimeMarker=function(_){for(var T=this._getTimeMarkerPagination(_),b=this._getTimeMarkerPagination(_,!0),k=0;k<b.length;k++)for(var D=0;D<T.length;D++){var E=new i.PdfTimeMarkerInfo;E.assign(_),E.start.x-=T[D].offset,E.start.y-=b[k].offset,this._addTimeMarkerToPage(b[k].pageIndex,T[D].pageIndex,E)}},m.prototype._getTableStart=function(_){var T=new o.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return T.offset(_.position.x,_.position.y),T},m.prototype._getPage=function(_,T,b){return b&&this._extendPageMatrixIfRequired(_,T),this._pages[_]&&this._pages[_][T]},m.prototype._getTableOrCreate=function(_,T){var b,k;return(b=(k=_.tables)[T])!==null&&b!==void 0||(k[T]=this._createTable(T)),_.tables[T]},m.prototype._preparePagesNavigationMatrixForTable=function(_,T){for(var b=new Array,k=this._getTableNavigationVector(_,T,!0),D=k.length,E=0;E<D;E++){for(var A=new Array,F=k[E],R=this._getTableNavigationVector(_,T,!1,F.globalCellIndex),x=R.length,N=0;N<x;N++){var H=R[N],G=T.name===t.PdfPageTableNames.chartScaleTop,O=this._prepareCuttedCell(T.cells[F.globalCellIndex][H.globalCellIndex],H,F,G),B=new c(H.pageIndex,F.pageIndex,F.cellIndexOnPage,H.cellIndexOnPage,O);A.push(B)}b.push(A)}return b},m.prototype._setTablePositionOnPage=function(_,T,b,k){this._getTableOrCreate(_,T).position=new u.Point(b,k)},m.prototype._extendPageMatrixIfRequired=function(_,T){var b;(b=this._pages)!==null&&b!==void 0||(this._pages=new Array);for(var k=this._pages.length;k<=_;k++)this._pages.push(new Array);var D=this._pages[_];for(k=D.length;k<=T;k++)D.push(this._createPage())},m.prototype._getTableAndExtendIfRequired=function(_,T,b,k){for(var D=this._getTableOrCreate(_,T),E=D.cells,A=E.length;A<=b;A++)E.push(new Array);var F=E[b];for(A=F.length;A<=k;A++)F.push(new r.CellDef);return D},m.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},m.prototype._createTable=function(_){var T,b=(T=this._globalInfo)===null||T===void 0?void 0:T.tables[_];return{name:_,size:null,position:null,style:b.style,baseCellSize:b.baseCellSize,cells:new Array,hideRowLines:b.hideRowLines}},m.prototype._addCellToPage=function(_,T,b){var k=b.cellRowIndexOnPage,D=b.cellColIndexOnPage;this._getTableAndExtendIfRequired(_,T,k,D).cells[k][D].assign(b.cell)},m.prototype._updateTableSizeOnPages=function(_){for(var T,b=(T=this._pages[0])===null||T===void 0?void 0:T.length,k=this._pages.length,D=0;D<k;D++)for(var E=0;E<b;E++)this._updateTableSizeOnPage(this._pages[D][E],_)},m.prototype._updateTableSizeOnPage=function(_,T){var b,k=this,D=_==null?void 0:_.tables[T];if(D){var E=D.cells.length*D.baseCellSize.height||0,A=((b=D.cells[0])===null||b===void 0?void 0:b.reduce((function(F,R,x){return F+k._getCellWidth(D,0,x)}),0))||0;D.size=new h.Size(A,E)}},m.prototype._getTableNavigationVector=function(_,T,b,k){var D,E;b===void 0&&(b=!1),k===void 0&&(k=0);for(var A=new Array,F=o.PageNavigation.createFrom(_),R=b?(D=T.cells)===null||D===void 0?void 0:D.length:(E=T.cells[k])===null||E===void 0?void 0:E.length,x=0;x<R;x++){var N=b?T.baseCellSize.height:this._getCellWidth(T,k,x);this._placeCell(A,F,x,N,b)}return A},m.prototype._placeCell=function(_,T,b,k,D){var E,A,F=D?T.vIndex:T.hIndex,R=(A=(E=_[_.length-1])===null||E===void 0?void 0:E.pageOffset)!==null&&A!==void 0?A:b,x=k,N=T.getSpaceToBorder(D);T.offsetOneD(k,D);var H=D?T.vIndex:T.hIndex;if(!D)for(var G=F;G<H;G++){var O=new g(G,b,R,N);R=b,_.push(O),x-=N,N=T.getPageSize(D)}H!==F&&(R=b);var B=new g(H,b,R,x!==k?x:null);_.push(B)},m.prototype._prepareCuttedCell=function(_,T,b,k){var D=new r.CellDef(_);if(T.isCutted){var E=T.cutSize;if(!k){var A=D.content,F=_.styles,R=E-(F&&F.cellPadding.left||0)-(F&&F.cellPadding.right||0),x=this._pdfDoc.splitTextToSize(A,R);_.content=A.replace(x[0],""),D.content=x[0]}D.styles.cellWidth.assign(E)}return b.isCutted&&(D.styles.minCellHeight=b.cutSize),D},m.prototype._getCellWidth=function(_,T,b){var k,D=_.cells[T][b],E=D.styles,A=E.cellWidth.getValue(),F=A??E.minCellWidth;return F??_.baseCellSize.width*((k=D.colSpan)!==null&&k!==void 0?k:1)},m.prototype._getTaskPagination=function(_,T){var b=T?_.height:_.width,k=T?_.top:_.left;return this._getLinePagination(k,b,T)},m.prototype._getDependencyLinePagination=function(_,T){var b=_.points[0],k=_.points[1],D=T?k.y-b.y:k.x-b.x,E=T?b.y:b.x;return this._getLinePagination(E,D,T)},m.prototype._getTimeMarkerPagination=function(_,T){var b=T?_.size.height:_.size.width,k=T?_.start.y:_.start.x;return this._getLinePagination(k,b,T)},m.prototype._getLinePagination=function(_,T,b){var k=new Array,D=this.pageNavigator.clone();D.offsetOneD(_,b);var E=b?D.vIndex:D.hIndex;D.offsetOneD(T,b);for(var A=b?D.vIndex:D.hIndex,F=E;F<=A;F++)k.push({offset:D.getPageGlobalOffset(F,b),pageIndex:F});return k},m.prototype._getPointPageInfo=function(_){var T=this.pageNavigator.clone();return T.offset(_.x,_.y),{offsetX:T.getPageGlobalOffset(T.hIndex),offsetY:T.getPageGlobalOffset(T.vIndex,!0),pageHorIndex:T.hIndex,pageVerIndex:T.vIndex}},Object.defineProperty(m.prototype,"pageWidth",{get:function(){var _;return(_=this._pdfDoc)===null||_===void 0?void 0:_.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageHeight",{get:function(){var _;return(_=this._pdfDoc)===null||_===void 0?void 0:_.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageLeftMargin",{get:function(){var _;return(_=this._props)===null||_===void 0?void 0:_.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageTopMargin",{get:function(){var _;return(_=this._props)===null||_===void 0?void 0:_.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageRightMargin",{get:function(){var _;return(_=this._props)===null||_===void 0?void 0:_.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageBottomMargin",{get:function(){var _;return(_=this._props)===null||_===void 0?void 0:_.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageLeft",{get:function(){var _;return(_=this._pageLeft)!==null&&_!==void 0||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageRight",{get:function(){var _;return(_=this._pageRight)!==null&&_!==void 0||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageTop",{get:function(){var _;return(_=this._pageTop)!==null&&_!==void 0||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageBottom",{get:function(){var _;return(_=this._pageBottom)!==null&&_!==void 0||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"correctedPageBottoms",{get:function(){var _;return(_=this._correctedPageBottoms)!==null&&_!==void 0||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pageNavigator",{get:function(){var _;return(_=this._pageNavigator)!==null&&_!==void 0||(this._pageNavigator=new o.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),m.prototype._getCorrectedPagesBottom=function(){var _,T,b,k,D=new Array,E=(_=this._globalInfo)===null||_===void 0?void 0:_.tables,A=(T=E[t.PdfPageTableNames.treeListMain])!==null&&T!==void 0?T:E[t.PdfPageTableNames.chartMain],F=new o.PageNavigation(this.pageBorders);F.pageY=A.position.y;for(var R=0;R<A.cells.length;R++){var x=(k=(b=A.cells[R][0].styles)===null||b===void 0?void 0:b.minCellHeight)!==null&&k!==void 0?k:A.baseCellSize.height,N=F.vIndex,H=F.pageY;F.offsetOneD(x,!0),N!==F.vIndex&&(D.push(H),F.pageY=F.getPageStart(!0)+x)}return D},m.prototype._addTaskToPage=function(_,T,b){var k,D,E=this._getPage(_,T);E&&((k=(D=E.objects).tasks)!==null&&k!==void 0||(D.tasks=new Array),E.objects.tasks.push(b))},m.prototype._addDependencyToPage=function(_,T,b){var k,D,E=this._getPage(_,T);E&&((k=(D=E.objects).dependencies)!==null&&k!==void 0||(D.dependencies=new Array),E.objects.dependencies.push(b))},m.prototype._addResourceToPage=function(_,T,b){var k,D,E=this._getPage(_,T);E&&((k=(D=E.objects).resources)!==null&&k!==void 0||(D.resources=new Array),E.objects.resources.push(b))},m.prototype._addTimeMarkerToPage=function(_,T,b){var k,D,E=this._getPage(_,T);E&&((k=(D=E.objects).timeMarkers)!==null&&k!==void 0||(D.timeMarkers=new Array),E.objects.timeMarkers.push(b))},m.prototype._offsetPoints=function(_,T,b){_.forEach((function(k){k.x-=T,k.y-=b}))},m})();d.PdfGanttPaginator=v},5763:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScalingHelper=void 0;var u=l(8935),h=(function(){function f(s){this._doc=s}return Object.defineProperty(f.prototype,"_docScaleFactor",{get:function(){var s,n;return(n=(s=this._doc)===null||s===void 0?void 0:s.internal)===null||n===void 0?void 0:n.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-f._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),f.prototype.getScaledSize=function(s){return s*f._defaultScaleFactor/this._docScaleFactor},f.prototype.scalePageMargins=function(s){var n,i,t,r;this._correctScaleNeeded&&(!((n=s==null?void 0:s.margins)===null||n===void 0)&&n.left&&(s.margins.left=this.getScaledSize(s.margins.left)),!((i=s==null?void 0:s.margins)===null||i===void 0)&&i.right&&(s.margins.right=this.getScaledSize(s.margins.right)),!((t=s==null?void 0:s.margins)===null||t===void 0)&&t.top&&(s.margins.top=this.getScaledSize(s.margins.top)),!((r=s==null?void 0:s.margins)===null||r===void 0)&&r.bottom&&(s.margins.bottom=this.getScaledSize(s.margins.bottom)))},f.prototype.scaleSizes=function(s){this._correctScaleNeeded&&(this.scaleTables(s),this.scaleObjects(s.objects))},f.prototype.scaleTables=function(s){s!=null&&s.tables&&(this.scaleTable(s.tables[u.PdfPageTableNames.treeListHeader]),this.scaleTable(s.tables[u.PdfPageTableNames.treeListMain]),this.scaleTable(s.tables[u.PdfPageTableNames.chartMain]),this.scaleTable(s.tables[u.PdfPageTableNames.chartScaleTop]),this.scaleTable(s.tables[u.PdfPageTableNames.chartScaleBottom]))},f.prototype.scaleTable=function(s){var n,i,t,r,o,c;if(s&&(!((n=s.size)===null||n===void 0)&&n.width&&(s.size.width=this.getScaledSize(s.size.width)),!((i=s.size)===null||i===void 0)&&i.height&&(s.size.height=this.getScaledSize(s.size.height)),!((t=s.position)===null||t===void 0)&&t.x&&(s.position.x=this.getScaledSize(s.position.x)),!((r=s.position)===null||r===void 0)&&r.y&&(s.position.y=this.getScaledSize(s.position.y)),!((o=s.baseCellSize)===null||o===void 0)&&o.width&&(s.baseCellSize.width=this.getScaledSize(s.baseCellSize.width)),!((c=s.baseCellSize)===null||c===void 0)&&c.height&&(s.baseCellSize.height=this.getScaledSize(s.baseCellSize.height)),s.cells))for(var g=0;g<s.cells.length;g++)for(var v=s.cells[g],m=0;m<v.length;m++){var _=v[m];this.scaleStyle(_.styles)}},f.prototype.scaleObjects=function(s){this.scaleTasks(s==null?void 0:s.tasks),this.scaleDependencies(s==null?void 0:s.dependencies),this.scaleResources(s==null?void 0:s.resources),this.scaleTimeMarkers(s==null?void 0:s.timeMarkers)},f.prototype.scaleTasks=function(s){var n=this;s==null||s.forEach((function(i){n.scalePoints(i.sidePoints),i.progressWidth=n.getScaledSize(i.progressWidth),n.scaleStyle(i.textStyle)}))},f.prototype.scaleDependencies=function(s){var n=this;s==null||s.forEach((function(i){var t;n.scalePoints(i.points),!((t=i.arrowInfo)===null||t===void 0)&&t.width&&(i.arrowInfo.width=n.getScaledSize(i.arrowInfo.width))}))},f.prototype.scaleResources=function(s){var n=this;s==null||s.forEach((function(i){i.x=n.getScaledSize(i.x),i.y=n.getScaledSize(i.y),n.scaleStyle(i.style)}))},f.prototype.scaleTimeMarkers=function(s){var n=this;s==null||s.forEach((function(i){i.start.x=n.getScaledSize(i.start.x),i.start.y=n.getScaledSize(i.start.y),i.size.width=n.getScaledSize(i.size.width),i.size.height=n.getScaledSize(i.size.height)}))},f.prototype.scaleStyle=function(s){var n,i,t,r;if(s){var o=s.cellWidth;if(o!=null&&o.hasValue()){var c=this.getScaledSize(Number(o.getValue()));o.assign(c)}s.minCellHeight&&(s.minCellHeight=this.getScaledSize(s.minCellHeight)),s.minCellWidth&&(s.minCellWidth=this.getScaledSize(s.minCellWidth)),!((n=s.cellPadding)===null||n===void 0)&&n.left&&(s.cellPadding.left=this.getScaledSize(s.cellPadding.left)),!((i=s.cellPadding)===null||i===void 0)&&i.right&&(s.cellPadding.right=this.getScaledSize(s.cellPadding.right)),!((t=s.cellPadding)===null||t===void 0)&&t.top&&(s.cellPadding.top=this.getScaledSize(s.cellPadding.top)),!((r=s.cellPadding)===null||r===void 0)&&r.bottom&&(s.cellPadding.bottom=this.getScaledSize(s.cellPadding.bottom))}},f.prototype.scalePoints=function(s){var n=this;s==null||s.forEach((function(i){i.x=n.getScaledSize(i.x),i.y=n.getScaledSize(i.y)}))},f._defaultScaleFactor=.75,f})();d.ScalingHelper=h},7223:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfCustomFontSettings=void 0;var u=l(2491),h=(function(){function f(s){this.style="normal",s&&this.assign(s)}return f.prototype.assign=function(s){(0,u.isDefined)(s.fontObject)&&(this.fontObject=s.fontObject),(0,u.isDefined)(s.name)&&(this.name=s.name),(0,u.isDefined)(s.style)&&(this.style=s.style),(0,u.isDefined)(s.weight)&&(this.weight=s.weight)},f.prototype.applyToDoc=function(s){try{if(s&&this.fontObject&&this.name){var n=this.name+"-"+this.style+".ttf";s.addFileToVFS(n,this.fontObject),s.addFont(n,this.name,this.style,this.weight),s.setFont(this.name)}}catch{}},f})();d.PdfCustomFontSettings=h},6431:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfDataRange=void 0;var u=l(2491),h=(function(){function f(s,n,i,t){var r=!s||s instanceof Date?{startDate:s,endDate:n,startIndex:i,endIndex:t}:s;r&&this.assign(r)}return f.prototype.assign=function(s){(0,u.isDefined)(s.startDate)&&(this.startDate=s.startDate instanceof Date?s.startDate:new Date(s.startDate)),(0,u.isDefined)(s.endDate)&&(this.endDate=s.endDate instanceof Date?s.endDate:new Date(s.endDate)),(0,u.isDefined)(s.startIndex)&&(this.startIndex=parseInt(s.startIndex)),(0,u.isDefined)(s.endIndex)&&(this.endIndex=parseInt(s.endIndex))},f})();d.PdfDataRange=h},9895:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DataExportMode=d.ExportMode=void 0,(function(l){l[l.all=0]="all",l[l.treeList=1]="treeList",l[l.chart=2]="chart"})(d.ExportMode||(d.ExportMode={})),(function(l){l[l.all=0]="all",l[l.visible=1]="visible"})(d.DataExportMode||(d.DataExportMode={}))},6997:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttPdfExportProps=void 0;var u=l(6353),h=l(2491),f=l(5063),s=l(6431),n=l(7223),i=l(9895),t=(function(){function r(o){this.landscape=!1,this.margins=null,this.exportMode=i.ExportMode.all,this.exportDataMode=i.DataExportMode.visible,o&&this.assign(o)}return r.prototype.assign=function(o){if(o){if((0,h.isDefined)(o.pdfDocument)&&(this.pdfDoc=o.pdfDocument),(0,h.isDefined)(o.pdfDoc)&&(this.pdfDoc=o.pdfDoc),this.docCreateMethod=o.docCreateMethod,(0,h.isDefined)(o.fileName)&&(this.fileName=o.fileName),this.landscape=!!o.landscape,(0,h.isDefined)(o.margins)&&(this.margins=new f.Margin(o.margins)),(0,h.isDefined)(o.format)){var c=o.format;if(typeof c=="string")this.format=c;else{var g=parseInt(c.width),v=parseInt(c.height);this.pageSize=new u.Size(g,v)}}else if((0,h.isDefined)(o.pageSize)){var m=o.pageSize;this.pageSize=m instanceof u.Size?m.clone():new u.Size(m.width,m.height)}if((0,h.isDefined)(o.exportMode)&&(this.exportMode=this.getEnumValue(i.ExportMode,o.exportMode)),(0,h.isDefined)(o.dateRange)){var _=o.dateRange;typeof _=="number"||typeof _=="string"?this.exportDataMode=this.getEnumValue(i.DataExportMode,_):this.dateRange=new s.PdfDataRange(_)}(0,h.isDefined)(o.font)&&(this.font=new n.PdfCustomFontSettings(o.font))}},r.prototype.getEnumValue=function(o,c){if(!(0,h.isDefined)(o[c]))return null;var g=parseInt(c);return isNaN(g)?o[c]:g},r.autoFormatKey="auto",r})();d.GanttPdfExportProps=t},6032:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CellDef=void 0;var u=l(2491),h=l(6995),f=(function(){function s(n,i,t){this.content="",typeof n=="string"?(this.content=n,this.colSpan=i,t&&this.appendStyles(t)):n&&this.assign(n)}return Object.defineProperty(s.prototype,"styles",{get:function(){return this._styles||(this._styles=new h.StyleDef),this._styles},enumerable:!1,configurable:!0}),s.prototype.assign=function(n){(0,u.isDefined)(n.content)&&(this.content=n.content),(0,u.isDefined)(n.colSpan)&&(this.colSpan=n.colSpan),n.styles&&this.appendStyles(n.styles)},s.prototype.appendStyles=function(n){n&&this.styles.assign(n)},s.prototype.hasValue=function(){return!0},s.prototype.getValue=function(){var n={};return n.content=this.content,this.colSpan>1&&(n.colSpan=this.colSpan),this._styles&&(n.styles=this._styles.getValue()),n},s})();d.CellDef=f},405:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Color=void 0;var u=l(2491),h=(function(){function f(s){this._num=null,this._opacity=1,this._rgb=null,this.assign(s)}return Object.defineProperty(f.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),f.prototype.hasValue=function(){return(0,u.isDefined)(this._num)||!!this._rgb||this._opacity===0},f.prototype.getValue=function(){return!(this._opacity===0&&!this._rgb)&&((0,u.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},f.prototype.assign=function(s){this.reset(),typeof s=="string"&&this.assignFromString(s),typeof s=="number"&&(this._num=s),s instanceof Array&&this.assignFromRgbArray(s),s instanceof f&&this.assignFromColor(s)},f.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},f.prototype.assignFromString=function(s){s&&(s==="transparent"&&(this._opacity=0),s.indexOf("#")===0&&this.assignFromHexString(s),s.substr(0,3).toLowerCase()==="rgb"&&this.assignFromRgbString(s))},f.prototype.assignFromHexString=function(s){if(s.length===4&&(s="#"+s[1].repeat(2)+s[2].repeat(2)+s[3].repeat(2)),s.length>6){var n=parseInt(s.substr(1,2),16),i=parseInt(s.substr(3,2),16),t=parseInt(s.substr(5,2),16);this._rgb=[n,i,t]}},f.prototype.assignFromRgbString=function(s){var n=s.substr(0,4).toLowerCase()==="rgba",i=s.toLowerCase().match(n?f.rgbaRegexp:f.rgbRegexp);if(i){var t=parseInt(i[1]),r=parseInt(i[2]),o=parseInt(i[3]);this._rgb=[t,r,o],n&&(this._opacity=parseFloat(i[4]))}},f.prototype.assignFromRgbArray=function(s){s&&s.length>2&&(this._rgb=[s[0],s[1],s[2]],(0,u.isDefined)(s[3])&&(this._opacity=s[3]))},f.prototype.assignFromColor=function(s){this._opacity=s._opacity,this._num=s._num,this._rgb=s._rgb},f.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},f.prototype.applyOpacityToBackground=function(s){if(this._opacity!==1){var n=(s instanceof f?s:new f(s)).getValue();if(n instanceof Array){var i=this.opacity,t=Math.round((1-i)*n[0]+i*this._rgb[0]),r=Math.round((1-i)*n[1]+i*this._rgb[1]),o=Math.round((1-i)*n[2]+i*this._rgb[2]);this._rgb=[t,r,o]}}},f.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,f.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,f})();d.Color=h},5510:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PdfGanttTableDrawer=void 0;var u=l(2491),h=l(8935),f=l(817),s=l(7624),n=(function(){function i(t){this._pdfDoc=t}return i.prototype.drawTable=function(t){var r,o;if(t){var c=this.createTableOptions(t);!((r=t.style)===null||r===void 0)&&r.fontSize&&this._pdfDoc.setFontSize((o=t.style)===null||o===void 0?void 0:o.fontSize),this._pdfDoc.autoTable(c.getValue())}},i.prototype.createTableOptions=function(t){var r=this.createDefaultTableOptions();return this.addTableCommonSettings(t,r),this.addCommonTableStyles(t,r),this.prepareBodyCells(t),r.addBody(t.cells),t.hideRowLines&&this.hideRowLines(r),r},i.prototype.createDefaultTableOptions=function(){var t=new s.TableOptions;return t.pageBreak="auto",t.margin.assign(0),t.tableWidth.assign("auto"),t.styles.cellPadding.assign(0),t.styles.halign="center",t.styles.valign="middle",t.styles.lineWidth=1,t.styles.overflow="hidden",t},i.prototype.addTableCommonSettings=function(t,r){r.startY=t.position.y,r.margin.assign({left:t.position.x}),r.tableWidth.assign(t.size.width)},i.prototype.addCommonTableStyles=function(t,r){var o=r.styles;o.assign(t.style),o.fillColor.opacity===0&&o.fillColor.assign("#FFFFFF"),o.minCellHeight=t.baseCellSize.height,r.alternateRowStyles.minCellHeight=r.styles.minCellHeight,r.alternateRowStyles.fillColor.assign(r.styles.fillColor),(0,u.isDefined)(t.baseCellSize.width)&&o.cellWidth.assign(t.baseCellSize.width)},i.prototype.prepareBodyCells=function(t){var r,o,c;if(t.name===h.PdfPageTableNames.treeListMain||t.name===h.PdfPageTableNames.chartScaleTop||t.name===h.PdfPageTableNames.chartScaleBottom)for(var g=t.cells,v=0;v<g.length;v++)for(var m=g[v],_=0;_<m.length;_++){var T=m[_],b=T.styles,k=((r=b==null?void 0:b.cellWidth)===null||r===void 0?void 0:r.getValue())||t.baseCellSize.width||0,D=(o=b==null?void 0:b.cellPadding.left)!==null&&o!==void 0?o:0,E=(c=b==null?void 0:b.cellPadding.right)!==null&&c!==void 0?c:0,A=Math.max(k-D-E-i.cellEllipsisSpace,0);T.content=f.EllipsisHelper.limitPdfTextWithEllipsis(T.content,this._pdfDoc,A)}},i.prototype.hideRowLines=function(t){t.styles.lineWidth=0,t.onDrawCellCallback=function(r){var o=r.cell,c=r.doc,g=o.styles.lineColor,v=o.x,m=o.x+o.styles.cellWidth,_=o.y,T=o.y+r.row.height,b=r.column.index===r.table.columns.length-1,k=r.row.index===r.table.body.length-1,D=r.row.index===0;c.setDrawColor(g[0],g[1],g[2]),c.setLineWidth(1),c.line(v,T,v,_),b&&c.line(m,T,m,_),D&&c.line(v,_,m,_),k&&c.line(v,T,m,T)}},i.cellEllipsisSpace=3,i})();d.PdfGanttTableDrawer=n},817:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EllipsisHelper=void 0;var l=(function(){function u(){}return u.limitPdfTextWithEllipsis=function(h,f,s){if(!(f!=null&&f.getTextWidth)||!s)return h;if(f.getTextWidth(h.toString())>s){for(var n=h,i=h.length-1;f.getTextWidth(n)>s&&i>0;)n=n.substring(0,i)+u.ellipsis,i--;return n}return h},u.ellipsis="...",u})();d.EllipsisHelper=l},5063:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Margin=void 0;var u=l(2491),h=l(6907),f=(function(){function s(n){this.assign(n)}return s.prototype.assign=function(n){if((0,u.isDefined)(n))if(typeof n=="string")this.assignFromString(n);else if(typeof n=="number"||n instanceof Array)this.assignWithValues(n);else{var i=n||n;this.assignWithMargin(i)}},s.prototype.assignFromString=function(n){var i=n.split(" ").map((function(t){return h.DomUtils.pxToInt(t)}));this.assignWithValues(i)},s.prototype.assignWithMargin=function(n){(0,u.isDefined)(n.top)&&(this.top=n.top),(0,u.isDefined)(n.right)&&(this.right=n.right),(0,u.isDefined)(n.bottom)&&(this.bottom=n.bottom),(0,u.isDefined)(n.left)&&(this.left=n.left)},s.prototype.assignWithValues=function(n){var i=this.getCorrectedValues(n);this.top=i[0],this.right=i[1],this.bottom=i[2],this.left=i[3]},s.prototype.getCorrectedValues=function(n){var i=[this.top,this.right,this.bottom,this.left];if(typeof n=="number")i=[n,n,n,n];else{var t=n;switch(t.length){case 1:i=[t[0],t[0],t[0],t[0]];break;case 2:i=[t[0],t[1],t[0],t[1]];break;case 3:i=[t[0],t[1],t[2],t[1]];break;default:t.forEach((function(r,o){return i[o]=r}))}}return i},s.prototype.hasValue=function(){return(0,u.isDefined)(this.top)||(0,u.isDefined)(this.left)||(0,u.isDefined)(this.right)||(0,u.isDefined)(this.bottom)},s.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var n={};return(0,u.isDefined)(this.top)&&(n.top=this.top),(0,u.isDefined)(this.left)&&(n.left=this.left),(0,u.isDefined)(this.right)&&(n.right=this.right),(0,u.isDefined)(this.bottom)&&(n.bottom=this.bottom),n},s})();d.Margin=f},2642:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PredefinedStyles=void 0;var l=(function(){function u(){}return u.getPredefinedStringOrUndefined=function(h,f){var s=h&&f&&h.toLowerCase()||void 0;return s&&(f.filter((function(n){return n.toLowerCase()===s}))[0]||f.filter((function(n){return s.indexOf(n.toLowerCase())>-1}))[0])},u.fontFamilies=["helvetica","times","courier"],u.fontStyles=["normal","bold","italic","bolditalic"],u.headerFooterVisibility=["everyPage","firstPage","never"],u.horizontalAlign=["left","center","right"],u.overflow=["linebreak","ellipsize","visible","hidden"],u.pageBreak=["auto","avoid","always"],u.rowPageBreak=["auto","avoid"],u.verticalAlign=["top","middle","bottom"],u.width=["auto","wrap"],u})();d.PredefinedStyles=l},6995:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StyleDef=void 0;var u=l(2491),h=l(6907),f=l(405),s=l(2642),n=l(5063),i=l(7343),t=(function(){function r(o){this._fillColor=new f.Color,this._textColor=new f.Color,this._lineColor=new f.Color,this._cellWidth=new i.Width,this._cellPadding=new n.Margin,o&&this.assign(o)}return Object.defineProperty(r.prototype,"font",{get:function(){return this._fontFamily},set:function(o){this._fontFamily=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.fontFamilies)||o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(o){this._fontStyle=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(o){this._fontSize=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overflow",{get:function(){return this._overflow},set:function(o){this._overflow=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(o){this._horizontalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valign",{get:function(){return this._verticalAlign},set:function(o){this._verticalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(o){this._lineWidth=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(o){this._minCellWidth=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(o){this._minCellHeight=o},enumerable:!1,configurable:!0}),r.prototype.assign=function(o){o&&(o instanceof r?((0,u.isDefined)(o.font)&&(this.font=o.font),(0,u.isDefined)(o.fontStyle)&&(this.fontStyle=o.fontStyle),(0,u.isDefined)(o.overflow)&&(this.overflow=o.overflow),(0,u.isDefined)(o.halign)&&(this.halign=o.halign),(0,u.isDefined)(o.valign)&&(this.valign=o.valign),(0,u.isDefined)(o.fontSize)&&(this.fontSize=o.fontSize),(0,u.isDefined)(o.lineWidth)&&(this.lineWidth=o.lineWidth),(0,u.isDefined)(o.minCellWidth)&&(this.minCellWidth=o.minCellWidth),(0,u.isDefined)(o.minCellHeight)&&(this.minCellHeight=o.minCellHeight),(0,u.isDefined)(o.fillColor)&&this.fillColor.assign(o.fillColor),(0,u.isDefined)(o.textColor)&&this.textColor.assign(o.textColor),(0,u.isDefined)(o.lineColor)&&this.lineColor.assign(o.lineColor),(0,u.isDefined)(o.cellWidth)&&this.cellWidth.assign(o.cellWidth),(0,u.isDefined)(o.cellPadding)&&this.cellPadding.assign(o.cellPadding)):this.assignFromCssStyle(o))},r.prototype.assignFromCssStyle=function(o){if(o.fontFamily&&(this.font=this.getPdfFontFamily(o)),this.fontStyle=this.getPdfFontStyle(o),(0,u.isDefined)(o.fontSize)&&(this.fontSize=this.getPfrFontSize(o.fontSize)),o.textAlign&&(this.halign=o.textAlign),o.verticalAlign&&(this.valign=o.verticalAlign),(0,u.isDefined)(o.borderWidth)&&(this.lineWidth=o.borderWidth),(0,u.isDefined)(o.cellWidth)&&this.cellWidth.assign(o.cellWidth),(0,u.isDefined)(o.width)&&(this.minCellWidth=typeof o.width=="number"?o.width:h.DomUtils.pxToInt(o.width)),(0,u.isDefined)(o.height)&&(this.minCellHeight=typeof o.height=="number"?o.height:h.DomUtils.pxToInt(o.height)),o.backgroundColor&&this.fillColor.assign(o.backgroundColor),o.color&&this.textColor.assign(o.color),o.borderColor&&this.lineColor.assign(o.borderColor),(0,u.isDefined)(o.width)&&this.cellWidth.assign(o.width),this.assignPaddingFromCss(o),(0,u.isDefined)(o.extraLeftPadding)){var c=this._cellPadding.left;this._cellPadding.left=c?c+o.extraLeftPadding:o.extraLeftPadding}},r.prototype.getPdfFontStyle=function(o){var c=o.fontWeight,g=parseInt(c),v=c==="bold"||!isNaN(g)&&g>500,m=v?"bold":"normal";return o.fontStyle==="italic"&&(m=v?"bolditalic":"italic"),m},r.prototype.getPdfFontFamily=function(o){var c=o.fontFamily&&o.fontFamily.toLowerCase(),g="helvetica";return c.indexOf("times")>-1&&(g="times"),c.indexOf("courier")>-1&&(g="courier"),g},r.prototype.getPfrFontSize=function(o){var c=h.DomUtils.pxToInt(o);if(!isNaN(c))return Math.ceil(c/96*72)},r.prototype.assignPaddingFromCss=function(o){if(o.padding)this._cellPadding.assign(o.padding);else{var c={};o.paddingLeft&&(c.left=h.DomUtils.pxToInt(o.paddingLeft)),o.paddingTop&&(c.top=h.DomUtils.pxToInt(o.paddingTop)),o.paddingRight&&(c.right=h.DomUtils.pxToInt(o.paddingRight)),o.paddingBottom&&(c.bottom=h.DomUtils.pxToInt(o.paddingBottom)),this._cellPadding.assign(c)}},r.prototype.hasValue=function(){return!0},r.prototype.getValue=function(){var o=this,c={};return(0,u.isDefined)(this.font)&&(c.font=this.font),(0,u.isDefined)(this.fontStyle)&&(c.fontStyle=this.fontStyle),(0,u.isDefined)(this.fontSize)&&(c.fontSize=this.fontSize),(0,u.isDefined)(this.overflow)&&(c.overflow=this.overflow),(0,u.isDefined)(this.halign)&&(c.halign=this.halign),(0,u.isDefined)(this.valign)&&(c.valign=this.valign),(0,u.isDefined)(this.lineWidth)&&(c.lineWidth=this.lineWidth),(0,u.isDefined)(this.minCellWidth)&&(c.minCellWidth=this.minCellWidth),(0,u.isDefined)(this.minCellHeight)&&(c.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach((function(g){var v=o[g];v&&v.hasValue()&&(c[g]=v.getValue())})),c},r.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},r})();d.StyleDef=t},7624:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TableOptions=void 0;var u=l(2491),h=l(6032),f=l(405),s=l(2642),n=l(5063),i=l(6995),t=l(7343),r=(function(){function o(){this._margin=new n.Margin,this._tableLineColor=new f.Color,this._tableWidth=new t.Width,this._styles=new i.StyleDef,this._alternateRowStyles=new i.StyleDef}return Object.defineProperty(o.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(c){this._pageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(c,s.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(c){this._rowPageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(c,s.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showHead",{get:function(){return this._showHead},set:function(c){this._showHead=s.PredefinedStyles.getPredefinedStringOrUndefined(c,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showFoot",{get:function(){return this._showFoot},set:function(c){this._showFoot=s.PredefinedStyles.getPredefinedStringOrUndefined(c,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"startY",{get:function(){return this._startY},set:function(c){this._startY=c},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(c){this._tableLineWidth=c},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),o.prototype.hasValue=function(){return!0},o.prototype.getValue=function(){var c=this,g={};return g.pageBreak=this.pageBreak,g.rowPageBreak=this.rowPageBreak,g.showFoot=this.showFoot,g.showHead=this.showHead,g.startY=this.startY,g.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach((function(v){var m=c[v];m&&m.hasValue()&&(g[v]=m.getValue())})),g.body=this.getBodyForJsPdf(),g.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(g.didDrawCell=this.onDrawCellCallback),g},o.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},o.prototype.getBodyForJsPdf=function(){for(var c=[],g=0;g<this._body.length;g++){for(var v=this._body[g],m=[],_=0;_<v.length;_++)m.push(v[_].getValue());c.push(m)}return c},o.prototype.assign=function(c){c&&((0,u.isDefined)(c.margin)&&this.margin.assign(c.margin),(0,u.isDefined)(c.pageBreak)&&(this.pageBreak=c.pageBreak),(0,u.isDefined)(c.rowPageBreak)&&(this.rowPageBreak=c.rowPageBreak),(0,u.isDefined)(c.showFoot)&&(this.showFoot=c.showFoot),(0,u.isDefined)(c.showHead)&&(this.showHead=c.showHead),(0,u.isDefined)(c.startY)&&(this.startY=c.startY),(0,u.isDefined)(c.tableLineWidth)&&(this.tableLineWidth=c.tableLineWidth),(0,u.isDefined)(c.tableLineColor)&&this.tableLineColor.assign(c.tableLineColor),(0,u.isDefined)(c.tableWidth)&&this.tableWidth.assign(c.tableWidth))},o.prototype.addBody=function(c){c&&(this._body=new Array,this.addCells(c,this._body))},o.prototype.addCells=function(c,g){for(var v=this.styles.fillColor,m=0;m<c.length;m++){for(var _=c[m],T=new Array,b=0;b<_.length;b++){var k=new h.CellDef(_[b]);v.hasValue()&&k.styles&&k.styles.fillColor.hasValue()&&k.styles.fillColor.applyOpacityToBackground(v),T.push(k)}g.push(T)}},o.prototype.applyColumnStyle=function(c,g){var v;(v=this._columnStyles)!==null&&v!==void 0||(this._columnStyles=new Array),this._columnStyles[c]=new i.StyleDef(g)},o.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var c={};return this._columnStyles.forEach((function(g,v){g&&(c[v]=g.getValue())})),c}return null},o})();d.TableOptions=r},7343:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Width=void 0;var u=l(2642),h=l(6907),f=(function(){function s(n){this.assign(n)}return s.prototype.assign=function(n){if(n instanceof s)this._widthInternal=n._widthInternal;else{var i=typeof n=="number"?n:parseInt(n);isNaN(i)?this.assignFromString(n):this._widthInternal=i}},s.prototype.assignFromString=function(n){if(n){var i=h.DomUtils.pxToInt(n);this._widthInternal=i||u.PredefinedStyles.getPredefinedStringOrUndefined(n,u.PredefinedStyles.width)}},s.prototype.hasValue=function(){return!!this._widthInternal},s.prototype.getValue=function(){return this._widthInternal},s})();d.Width=f},8603:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaExportHelper=void 0;var u=l(6907),h=l(858),f=l(1855),s=l(9201),n=l(405),i=l(9895),t=(function(){function r(o,c){this._owner=o,this._props=c}return Object.defineProperty(r.prototype,"customRangeLeftOffset",{get:function(){var o;return(o=this._customRangeLeftOffset)!==null&&o!==void 0||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var o=this.visibleTaskIndices[0];return this.getCellTop(o)+this.getTaskCellOffsetTop(o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetLeft",{get:function(){var o;return(o=this._offsetLeft)!==null&&o!==void 0||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetTop",{get:function(){var o;return(o=this._offsetTop)!==null&&o!==void 0||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scales",{get:function(){var o=this.settings.viewType;return[s.DateUtils.ViewTypeToScaleMap[o],o]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRanges",{get:function(){var o;return(o=this._scaleRanges)!==null&&o!==void 0||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopWidths",{get:function(){var o;return(o=this._scaleTopWidths)!==null&&o!==void 0||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomWidths",{get:function(){var o;return(o=this._scaleBottomWidths)!==null&&o!==void 0||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var o=this.scaleElements[0].filter((function(c){return!!c&&c.offsetHeight}))[0];this._headerRowHeight=o==null?void 0:o.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTaskIndices",{get:function(){var o;return(o=this._visibleTaskIndices)!==null&&o!==void 0||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTableStyle",{get:function(){var o;return(o=this._scaleTableStyle)!==null&&o!==void 0||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"chartMainTableStyle",{get:function(){var o;return(o=this._chartMainTableStyle)!==null&&o!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentRowBackColor",{get:function(){var o;return(o=this._parentRowBackColor)!==null&&o!==void 0||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arrowWidth",{get:function(){var o;return(o=this._arrowWidth)!==null&&o!==void 0||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dependencyColor",{get:function(){var o;return(o=this._dependencyColor)!==null&&o!==void 0||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),r.prototype.getTaskElementBackColor=function(o,c){var g=this.getTaskElementStyle(o,c);return g==null?void 0:g.backgroundColor},r.prototype.getTaskElementStyle=function(o,c){var g=this.getTaskWrapper(o);return this.getElementStyle(g.getElementsByClassName(c)[0])},r.prototype.isElementVisible=function(o){return o&&getComputedStyle(o).display!=="none"},Object.defineProperty(r.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleLeft",{get:function(){var o;return(o=this._visibleLeft)!==null&&o!==void 0||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTop",{get:function(){var o;return(o=this._visibleTop)!==null&&o!==void 0||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleRight",{get:function(){var o;return(o=this._visibleRight)!==null&&o!==void 0||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),r.prototype.getVisibleRight=function(){var o=this.container.getElement().offsetWidth;return this.visibleLeft+o},Object.defineProperty(r.prototype,"visibleBottom",{get:function(){var o;return(o=this._visibleBottom)!==null&&o!==void 0||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),r.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(r.prototype,"scaleLeft",{get:function(){var o;return(o=this._scaleLeft)!==null&&o!==void 0||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRight",{get:function(){var o;return(o=this._scaleRight)!==null&&o!==void 0||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),r.prototype.getScaleTopWidths=function(){var o=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),c=this.layoutCalculator,g=c.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),v=c.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),m=Math.max(g.position.x-v.position.x,0);o[this.scaleTopStartIndex]-=m;var _=c.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),T=c.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return m=Math.max(_.position.x+_.size.width-T.position.x-T.size.width,0),o[this.scaleTopEndIndex]-=m,o},r.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},r.prototype.getScaleWidths=function(o,c,g){for(var v=new Array,m=o;m<=c;m++)v[m]=this.layoutCalculator.getScaleItemInfo(m,g).size.width;return v},r.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(r.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),r.prototype.getTaskCellOffsetTop=function(o){var c=this.getCellTop(o);return Math.max(this.visibleTop-c,0)},r.prototype.getCellTop=function(o){return this.layoutCalculator.getGridBorderPosition(o-1,!1).y},r.prototype.getCellLeft=function(o){return this.layoutCalculator.getScaleItemInfo(o,this.scales[1]).position.x},r.prototype.getTaskIndices=function(){var o,c;return this.dataMode===i.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices((o=this.exportRange)===null||o===void 0?void 0:o.startIndex,(c=this.exportRange)===null||c===void 0?void 0:c.endIndex):this.getVisibleTaskIndices()},r.prototype.getVisibleTaskIndices=function(){var o=this,c=[];return this.taskElements.forEach((function(g,v){if(g){var m=u.DomUtils.pxToInt(g.style.top),_=m+g.offsetHeight,T=m>=o.visibleTop&&m<=o.visibleBottom,b=_>=o.visibleTop&&_<=o.visibleBottom;(T||b)&&c.push(v)}})),c},Object.defineProperty(r.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter((function(o){return!!o}))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter((function(o){return!!o}))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){var o,c=this;return(o=this._connectorLines)!==null&&o!==void 0||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter((function(g){return c.isLineVisible(g)}))),this._connectorLines},enumerable:!1,configurable:!0}),r.prototype.isLineVisible=function(o){if(this.dataMode===i.DataExportMode.all)return!0;var c=o.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(c)>-1},Object.defineProperty(r.prototype,"visibleDependencyKeys",{get:function(){var o;return(o=this._visibleDependencyKeys)!==null&&o!==void 0||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resourcesElements",{get:function(){var o,c=this;return(o=this._resourcesElements)!==null&&o!==void 0||(this._resourcesElements=this.visibleTaskIndices.map((function(g){return c._owner.renderHelper.resourcesElements[g]})).filter((function(g){return c.isElementVisible(g)&&g.parentElement}))),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var o=this._owner.renderHelper.stripLinesMap.filter((function(c){return!!c})).map((function(c){return c}));this._stripLinesElements=o.map((function(c){return c}))}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var o=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&this._noWorkingIntervalsElements.push(o[c])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataMode",{get:function(){var o;return(o=this._props)===null||o===void 0?void 0:o.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"exportRange",{get:function(){var o;return(o=this._props)===null||o===void 0?void 0:o.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisibleMode",{get:function(){return this.dataMode===i.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startDate",{get:function(){var o,c,g,v;if(!((o=this.exportRange)===null||o===void 0)&&o.startDate&&(!((c=this.exportRange)===null||c===void 0)&&c.endDate)){var m=Math.min((g=this.exportRange)===null||g===void 0?void 0:g.startDate.getTime(),(v=this.exportRange)===null||v===void 0?void 0:v.endDate.getTime());return new Date(m)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){var o,c,g,v;if(!((o=this.exportRange)===null||o===void 0)&&o.startDate&&(!((c=this.exportRange)===null||c===void 0)&&c.endDate)){var m=Math.max((g=this.exportRange)===null||g===void 0?void 0:g.startDate.getTime(),(v=this.exportRange)===null||v===void 0?void 0:v.endDate.getTime());return new Date(m)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var o=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new f.GridLayoutCalculator,this._layoutCalculator.setSettings(o.visibleTaskAreaSize,o.tickSize,o.elementSizeValues,new h.DateRange(this.startDate,this.endDate),o.viewModel,o.viewType,o.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=o}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),r.prototype.getPosByDate=function(o){return this.layoutCalculator.getPosByDate(o)},r.prototype.getScaleTableStyle=function(){var o={},c=this.scaleElements[0].filter((function(v){return!!v}))[0],g=this.getElementStyle(c);return o.backgroundColor=this.findElementBackColor(c),o.borderColor=this.getChartTableBorderColor(),o.verticalAlign="middle",o.textAlign="center",o.fontSize=g.fontSize,o.fontFamily=g.fontFamily,o.fontWeight=g.fontWeight,o.fontStyle=g.fontStyle,o.color=g.color,o},r.prototype.getChartMainTableStyle=function(){var o={};return o.backgroundColor=this.findElementBackColor(this.taskArea),o.borderColor=this.getChartTableBorderColor(),o},r.prototype.findElementBackColor=function(o){if(!o)return null;for(var c=o,g=new n.Color("transparent");g.opacity===0&&c;){var v=this.getElementStyle(c);g.assign(v.backgroundColor),c=c.parentElement}return g},r.prototype.getChartTableBorderColor=function(){var o=this.getElementStyle(this.scaleBorders[0].filter((function(c){return!!c}))[0]);return o==null?void 0:o.borderColor},r.prototype.getParentBackColor=function(){var o=this.getElementStyle(this.hlRowElements[0]);return o==null?void 0:o.backgroundColor},r.prototype.getArrowWidth=function(){var o=this.getDependencyLineStyle(f.GridLayoutCalculator.arrowClassName),c=o.borderWidth||o.borderLeftWidth||o.borderRightWidth||o.borderTopWidth||o.borderBottomWidth;return o&&u.DomUtils.pxToInt(c)},r.prototype.getDependencyColor=function(){var o=this.getDependencyLineStyle(f.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return o==null?void 0:o.borderColor},r.prototype.getDependencyLineStyle=function(o){return this.getElementStyle(this.taskArea.getElementsByClassName(o)[0])},r.prototype.getElementStyle=function(o){return o&&getComputedStyle(o)},r.prototype.getTaskWrapper=function(o){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[o]||this._owner.renderHelper.createDefaultTaskElement(o),this.taskElements[o])},Object.defineProperty(r.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),r})();d.TaskAreaExportHelper=t},6057:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CollectionBase=void 0;var u=l(2491),h=l(2601),f=(function(){function s(){this._items=new Array,this._isGanttCollection=!0}return s.prototype.add=function(n){if((0,u.isDefined)(n)){if(this.getItemById(n.internalId))throw"The collection item with id ='"+n.internalId+"' already exists.";this._addItem(n)}},s.prototype.addRange=function(n){for(var i=0;i<n.length;i++)this.add(n[i])},s.prototype.remove=function(n){var i=this._items.indexOf(n);i>-1&&i<this._items.length&&this._removeItems(i,1)},s.prototype.clear=function(){this._removeItems(0,this._items.length)},s.prototype.invalidate=function(){delete this._invertedItems},s.prototype._addItem=function(n){this._items.push(n),delete this._invertedItems},s.prototype._removeItems=function(n,i){this._items.splice(n,i),delete this._invertedItems},Object.defineProperty(s.prototype,"items",{get:function(){return this._items.slice()},set:function(n){n&&(this._items=n.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),s.prototype.getItem=function(n){return n>-1&&n<this._items.length?this._items[n]:null},Object.defineProperty(s.prototype,"invertedItems",{get:function(){var n;return(n=this._invertedItems)!==null&&n!==void 0||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),s.prototype._createInvertedItems=function(){for(var n={},i=0;i<this._items.length;i++){var t=this._items[i];n[t.internalId]=t}return n},s.prototype.getItemById=function(n){return this.invertedItems[n]},s.prototype.getItemByPublicId=function(n){return this._items.filter((function(i){return i.id===n||i.id.toString()===n}))[0]},s.prototype.assign=function(n){(0,u.isDefined)(n)&&(this.items=n.items)},s.prototype.importFromObject=function(n){(0,u.isDefined)(n)&&(this.clear(),n._isGanttCollection?this.assign(n):n instanceof Array?this.importFromArray(n):this.createItemFromObjectAndAdd(n))},s.prototype.createItemFromObjectAndAdd=function(n){if((0,u.isDefined)(n)&&Object.keys(n).length>0){var i=this.createItem();i.assignFromObject(n),this.add(i)}},s.prototype.importFromArray=function(n){for(var i=0;i<n.length;i++)this.createItemFromObjectAndAdd(n[i])},s.prototype.importFromJSON=function(n){this.importFromObject(h.GanttJsonUtils.parseJson(n))},s})();d.CollectionBase=f},7380:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyCollection=void 0;var u=l(655),h=l(6057),f=l(7352),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.createItem=function(){return new f.Dependency},i})(h.CollectionBase);d.DependencyCollection=s},4432:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WorkingDayRuleCollection=void 0;var u=l(655),h=l(6057),f=l(8401),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.createItem=function(){return new f.WorkingTimeRule},i})(h.CollectionBase);d.WorkingDayRuleCollection=s},9883:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceAssignmentCollection=void 0;var u=l(655),h=l(6057),f=l(7437),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.createItem=function(){return new f.ResourceAssignment},i})(h.CollectionBase);d.ResourceAssignmentCollection=s},8828:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceCollection=void 0;var u=l(655),h=l(6057),f=l(2301),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.createItem=function(){return new f.Resource},i})(h.CollectionBase);d.ResourceCollection=s},9504:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskCollection=void 0;var u=l(655),h=l(8492),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.createItem=function(){return new h.Task},n})(l(6057).CollectionBase);d.TaskCollection=f},5594:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EventDispatcher=void 0;var l=(function(){function u(){this.listeners=[]}return u.prototype.add=function(h){if(!h)throw new Error("Error");this.hasEventListener(h)||this.listeners.push(h)},u.prototype.remove=function(h){for(var f=0,s=void 0;s=this.listeners[f];f++)if(s===h){this.listeners.splice(f,1);break}},u.prototype.raise=function(h){for(var f=[],s=1;s<arguments.length;s++)f[s-1]=arguments[s];for(var n=0,i=void 0;i=this.listeners[n];n++){var t=i[h];t==null||t.apply(i,f)}},u.prototype.hasEventListener=function(h){for(var f=0,s=this.listeners.length;f<s;f++)if(this.listeners[f]===h)return!0;return!1},u})();d.EventDispatcher=l},3452:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ModelChangesDispatcher=void 0;var u=l(255),h=l(8403),f=l(8738),s=l(9669),n=l(5594),i=(function(){function t(){this.onModelChanged=new n.EventDispatcher,this.isLocked=!1}return t.prototype.notifyTaskCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",r)},t.prototype.notifyTaskCreated=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",r,o,c)},t.prototype.notifyTaskRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",r)},t.prototype.notifyTaskRemoved=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",r,o,c)},t.prototype.notifyTaskUpdating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",r)},t.prototype.notifyTaskMoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",r)},t.prototype.notifyTaskEditDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",r)},t.prototype.notifyResourceManagerDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",r)},t.prototype.notifyTaskUpdated=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",r,o,c)},t.prototype.notifyParentTaskUpdated=function(r,o){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",r,o)},t.prototype.notifyDependencyInserting=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",r)},t.prototype.notifyDependencyInserted=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",r,o,c)},t.prototype.notifyDependencyRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",r)},t.prototype.notifyDependencyRemoved=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",r,o,c)},t.prototype.notifyResourceCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",r)},t.prototype.notifyResourceCreated=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",r,o,c)},t.prototype.notifyResourceRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",r)},t.prototype.notifyResourceRemoved=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",r,o,c)},t.prototype.notifyResourceColorChanged=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",r,o,c)},t.prototype.notifyResourceAssigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",r)},t.prototype.notifyResourceAssigned=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",r,o,c)},t.prototype.notifyResourceUnassigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",r)},t.prototype.notifyResourceUnassigned=function(r,o,c){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",r,o,c)},t.prototype.notifyParentDataRecalculated=function(r){this.onModelChanged.raise("NotifyParentDataRecalculated",r)},t.prototype.notifyScaleCellPrepared=function(r){this.onModelChanged.raise("NotifyScaleCellPrepared",r)},t.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},t.prototype.fireResourceUnassigning=function(r){var o=new f.ResourceUnassigningArguments(r);return this.notifyResourceUnassigning(o),!o.cancel},t.prototype.raiseTaskUpdating=function(r,o,c){var g=new s.TaskUpdatingArguments(r,o);return this.notifyTaskUpdating(g),!g.cancel&&(c(g.newValues),!0)},t.prototype.raiseTaskMoving=function(r,o,c,g){var v=new s.TaskUpdatingArguments(r,{start:o,end:c});return this.notifyTaskMoving(v),!v.cancel&&(g(v.start,v.end),!0)},t.prototype.raiseTaskTaskEditDialogShowing=function(r,o){var c=new h.TaskEditDialogShowingArguments(r);return this.notifyTaskEditDialogShowing(c),!c.cancel&&(o(c),!0)},t.prototype.raiseResourceManagerDialogShowing=function(r,o){var c=new u.ResourceManagerDialogShowingArguments(r);return this.notifyResourceManagerDialogShowing(c),!c.cancel&&(o(c),!0)},t.prototype.lock=function(){this.isLocked=!0},t.prototype.unlock=function(){this.isLocked=!1},t})();d.ModelChangesDispatcher=i},6124:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttDataObjectNames=d.DataObject=void 0;var u=l(2491),h=l(8679),f=(function(){function s(){this.internalId=h.MathUtils.generateGuid()}return s.prototype.assignFromObject=function(n){(0,u.isDefined)(n)&&(0,u.isDefined)(n.id)&&this.updateId(n.id)},s.prototype.updateId=function(n){this.id=n,this.internalId=String(n)},s})();d.DataObject=f,d.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},7352:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Dependency=void 0;var u=l(655),h=l(2491),f=l(6124),s=l(5950),n=(function(i){function t(){var r=i.call(this)||this;return r.predecessorId="",r.successorId="",r.type=null,r}return u.__extends(t,i),Object.defineProperty(t.prototype,"isStartDependency",{get:function(){return this.type===s.DependencyType.SS||this.type===s.DependencyType.SF},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(r){(0,h.isDefined)(r)&&(i.prototype.assignFromObject.call(this,r),this.predecessorId=String(r.predecessorId),this.successorId=String(r.successorId),this.type=this.parseType(r.type))},t.prototype.parseType=function(r){if(!(0,h.isDefined)(r))return s.DependencyType.FS;switch(r.toString().toUpperCase()){case"SS":case"1":return s.DependencyType.SS;case"FF":case"2":return s.DependencyType.FF;case"SF":case"3":return s.DependencyType.SF;default:return s.DependencyType.FS}},t})(f.DataObject);d.Dependency=n},5950:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyType=d.TaskType=void 0,(function(l){l[l.Regular=0]="Regular",l[l.Summary=1]="Summary",l[l.Milestone=2]="Milestone"})(d.TaskType||(d.TaskType={})),(function(l){l[l.FS=0]="FS",l[l.SS=1]="SS",l[l.FF=2]="FF",l[l.SF=3]="SF"})(d.DependencyType||(d.DependencyType={}))},2301:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Resource=void 0;var u=l(655),h=l(2491),f=(function(s){function n(){var i=s.call(this)||this;return i.text="",i.color="",i}return u.__extends(n,s),n.prototype.assignFromObject=function(i){(0,h.isDefined)(i)&&(s.prototype.assignFromObject.call(this,i),this.text=i.text,(0,h.isDefined)(i.color)&&(this.color=i.color))},n})(l(6124).DataObject);d.Resource=f},7437:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceAssignment=void 0;var u=l(655),h=l(2491),f=(function(s){function n(){var i=s.call(this)||this;return i.taskId="",i.resourceId="",i}return u.__extends(n,s),n.prototype.assignFromObject=function(i){(0,h.isDefined)(i)&&(s.prototype.assignFromObject.call(this,i),this.taskId=String(i.taskId),this.resourceId=String(i.resourceId))},n})(l(6124).DataObject);d.ResourceAssignment=f},8492:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Task=void 0;var u=l(655),h=l(2491),f=l(6124),s=-8e15,n=(function(i){function t(){var r=i.call(this)||this;return r.start=null,r.end=null,r.duration=null,r.description="",r.parentId=null,r.title="",r.owner=null,r.progress=0,r.taskType=null,r.customFields={},r.expanded=!0,r.color="",r}return u.__extends(t,i),Object.defineProperty(t.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(r){(0,h.isDefined)(r)&&(i.prototype.assignFromObject.call(this,r),this.owner=r.owner,this.parentId=(0,h.isDefined)(r.parentId)?String(r.parentId):null,this.rawParentId=r.parentId,this.description=r.description,this.title=r.title,this.start=typeof r.start=="string"?new Date(r.start):r.start||this.createInvalidDate(),this.end=typeof r.end=="string"?new Date(r.end):r.end||this.createInvalidDate(),this.duration=r.duration,this.progress=r.progress,this.taskType=r.taskType,(0,h.isDefined)(r.expanded)&&(this.expanded=!!r.expanded),(0,h.isDefined)(r.color)&&(this.color=r.color),this.assignCustomFields(r.customFields))},t.prototype.assignCustomFields=function(r){if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(this.customFields[o]=r[o])},t.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},t.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},t.prototype.isValidStart=function(){return this.isValidTaskaDte(this.start)},t.prototype.isValidEnd=function(){return this.isValidTaskaDte(this.end)},t.prototype.isValid=function(){return this.isValidStart()&&this.isValidEnd()},t.prototype.createInvalidDate=function(){return new Date(s)},t.prototype.isValidTaskaDte=function(r){return!!r&&r.getTime()!==s},t})(f.DataObject);d.Task=n},8774:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseArguments=void 0;var l=function(u){this.cancel=!1,this.values={},this.key=u};d.BaseArguments=l},3279:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyInsertingArguments=void 0;var u=l(655),h=(function(f){function s(n,i,t){var r=f.call(this,null)||this;return r.values={predecessorId:n,successorId:i,type:t},r}return u.__extends(s,f),Object.defineProperty(s.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),s})(l(8774).BaseArguments);d.DependencyInsertingArguments=h},4797:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DependencyRemovingArguments=void 0;var u=l(655),h=(function(f){function s(n){var i=f.call(this,n.id)||this;return i.values=n,i}return u.__extends(s,f),s})(l(8774).BaseArguments);d.DependencyRemovingArguments=h},255:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceManagerDialogShowingArguments=void 0;var u=l(655),h=(function(f){function s(n){var i=f.call(this,void 0)||this;return i.values.resources=n.resources,i}return u.__extends(s,f),s})(l(8774).BaseArguments);d.ResourceManagerDialogShowingArguments=h},8403:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditDialogShowingArguments=void 0;var u=l(655),h=(function(f){function s(n){var i=f.call(this,n.id)||this;return i.values={start:n.start,end:n.end,title:n.title,progress:n.progress},i.hiddenFields=n.hiddenFields,i.readOnlyFields=n.readOnlyFields,i}return u.__extends(s,f),s})(l(8774).BaseArguments);d.TaskEditDialogShowingArguments=h},1389:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceAssigningArguments=void 0;var u=l(655),h=(function(f){function s(n,i){var t=f.call(this,null)||this;return t.values={resourceId:n,taskId:i},t}return u.__extends(s,f),Object.defineProperty(s.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),s})(l(8774).BaseArguments);d.ResourceAssigningArguments=h},8738:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceUnassigningArguments=void 0;var u=l(655),h=(function(f){function s(n){var i=f.call(this,n.internalId)||this;return i.values=n,i}return u.__extends(s,f),s})(l(8774).BaseArguments);d.ResourceUnassigningArguments=h},990:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceInsertingArguments=void 0;var u=l(655),h=(function(f){function s(n,i){i===void 0&&(i="");var t=f.call(this,null)||this;return t.values={text:n,color:i},t}return u.__extends(s,f),Object.defineProperty(s.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),s})(l(8774).BaseArguments);d.ResourceInsertingArguments=h},9748:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceRemovingArguments=void 0;var u=l(655),h=(function(f){function s(n){var i=f.call(this,n.id)||this;return i.values=n,i}return u.__extends(s,f),s})(l(8774).BaseArguments);d.ResourceRemovingArguments=h},4605:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskInsertingArguments=void 0;var u=l(655),h=(function(f){function s(n,i){var t=f.call(this,n)||this;return t.values=i??{},t}return u.__extends(s,f),Object.defineProperty(s.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),s})(l(8774).BaseArguments);d.TaskInsertingArguments=h},4642:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskRemovingArguments=void 0;var u=l(655),h=(function(f){function s(n){var i=f.call(this,n.id)||this;return i.values=n,i}return u.__extends(s,f),s})(l(8774).BaseArguments);d.TaskRemovingArguments=h},9669:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskUpdatingArguments=void 0;var u=l(655),h=(function(f){function s(n,i){var t=f.call(this,n.id)||this;return t.values=n,t.createNewValues(i),t}return u.__extends(s,f),s.prototype.createNewValues=function(n){var i=this;this.newValues={};var t=function(c){Object.prototype.hasOwnProperty.call(n,c)&&(r.newValues[c]=n[c],Object.defineProperty(r,c,{get:function(){return i.newValues[c]}}))},r=this;for(var o in n)t(o)},s})(l(8774).BaseArguments);d.TaskUpdatingArguments=h},8725:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.History=void 0;var u=l(5221),h=l(9751),f=(function(){function s(n){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=n}return s.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},s.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},s.prototype.beginTransaction=function(){var n;this.transactionLevel++,this.transactionLevel==0&&(this.transaction=new h.CompositionHistoryItem,(n=this._listener)===null||n===void 0||n.onTransactionStart())},s.prototype.endTransaction=function(){var n;if(!(--this.transactionLevel>=0)){var i=this.transaction.historyItems.length;i>1?this.addInternal(this.transaction):i==1&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,(n=this._listener)===null||n===void 0||n.onTransactionEnd()}},s.prototype.addAndRedo=function(n){this.add(n),this.activateItem(n)},s.prototype.add=function(n){this.transactionLevel>=0?this.transaction.add(n):this.addInternal(n)},s.prototype.canUndo=function(){return this.currentIndex>=0},s.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},s.prototype.addInternal=function(n){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(n),this.currentIndex++,this.deleteOldItems()},s.prototype.deleteOldItems=function(){var n=this.historyItems.length-s.MAX_HISTORY_ITEM_COUNT;n>0&&this.currentIndex>n&&(this.historyItems.splice(0,n),this.currentIndex-=n)},s.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},s.prototype.activateItem=function(n,i){i===void 0&&(i=!1),this.currentProcessingItemInfo=new u.HistoryItemInfo(n,i),i?n.undo():n.redo(),this.currentProcessingItemInfo=null},s.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},s.prototype.rollBackAndRemove=function(n){var i=n.item;this.checkAndRemoveItem(i)&&(n.isUndo?i.redo():i instanceof h.CompositionHistoryItem?i.undoItemsQuery():i.undo())},s.prototype.checkAndRemoveItem=function(n){var i=this.historyItems.indexOf(n);return i>-1?(this.historyItems.splice(i,1),this.currentIndex--):this.transaction&&(i=this.transaction.historyItems.indexOf(n))>-1&&this.transaction.historyItems.splice(i,1),i>-1},s.prototype.updateObsoleteInsertedKey=function(n,i,t){this.transaction&&this.updateItemsObsoleteInsertedKey(n,i,t,[this.transaction]),this.updateItemsObsoleteInsertedKey(n,i,t,this.historyItems)},s.prototype.updateItemsObsoleteInsertedKey=function(n,i,t,r){if(r)for(var o=0;o<r.length;o++){var c=r[o];c.keyUpdaters.filter((function(g){return g.getKey()===n&&g.objectType===t})).forEach((function(g){return g.updateKey(i)})),c instanceof h.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(n,i,t,c.historyItems)}},s.MAX_HISTORY_ITEM_COUNT=100,s})();d.History=f},9751:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CompositionHistoryItem=void 0;var u=l(655),h=(function(f){function s(){var n=f.call(this,null)||this;return n.historyItems=[],n}return u.__extends(s,f),s.prototype.redo=function(){for(var n,i=0;n=this.historyItems[i];i++)n.redo()},s.prototype.undo=function(){for(var n,i=this.historyItems.length-1;n=this.historyItems[i];i--)n.undo()},s.prototype.add=function(n){if(n==null)throw new Error("Can't add null HistoryItem");this.historyItems.push(n)},s.prototype.undoItemsQuery=function(){this.undo()},s.prototype.setModelManipulator=function(n){if(f.prototype.setModelManipulator.call(this,n),this.historyItems)for(var i=0;i<this.historyItems.length;i++)this.historyItems[i].setModelManipulator(n)},s})(l(7917).HistoryItem);d.CompositionHistoryItem=h},1211:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InsertDependencyHistoryItem=void 0;var u=l(655),h=l(8679),f=l(6124),s=(function(n){function i(t,r,o,c){var g=n.call(this,t)||this;return g.predecessorId=r,g.successorId=o,g.type=c,g}return u.__extends(i,n),i.prototype.redo=function(){var t;(t=this.insertedKey)!==null&&t!==void 0||(this.insertedKey=h.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},i.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:f.GanttDataObjectNames.dependency,getKey:function(){return t.insertedKey},updateKey:function(r){return t.insertedKey=r}},{objectType:f.GanttDataObjectNames.task,getKey:function(){return t.predecessorId},updateKey:function(r){return t.predecessorId=r}},{objectType:f.GanttDataObjectNames.task,getKey:function(){return t.successorId},updateKey:function(r){return t.successorId=r}}]},enumerable:!1,configurable:!0}),i})(l(7917).HistoryItem);d.InsertDependencyHistoryItem=s},5865:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveDependencyHistoryItem=void 0;var u=l(655),h=l(6124),f=(function(s){function n(i,t){var r=s.call(this,i)||this;return r.dependencyId=t,r}return u.__extends(n,s),n.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},n.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:h.GanttDataObjectNames.dependency,getKey:function(){return i.dependencyId},updateKey:function(t){return i.dependencyId=t}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var t;return(t=i.dependency)===null||t===void 0?void 0:t.predecessorId},updateKey:function(t){return i.dependency.predecessorId=t}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var t;return(t=i.dependency)===null||t===void 0?void 0:t.successorId},updateKey:function(t){return i.dependency.successorId=t}}]},enumerable:!1,configurable:!0}),n})(l(7917).HistoryItem);d.RemoveDependencyHistoryItem=f},7917:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.HistoryItem=void 0;var l=(function(){function u(h){this.setModelManipulator(h)}return u.prototype.setModelManipulator=function(h){this.modelManipulator=h},Object.defineProperty(u.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),u})();d.HistoryItem=l},5221:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.HistoryItemInfo=void 0;var l=function(u,h){h===void 0&&(h=!1),this.item=u,this.isUndo=h};d.HistoryItemInfo=l},3064:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.HistoryItemState=void 0;var l=function(u,h){this.id=u,this.value=h};d.HistoryItemState=l},3683:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AssignResourceHistoryItem=void 0;var u=l(655),h=l(7917),f=l(6124),s=l(8679),n=(function(i){function t(r,o,c){var g=i.call(this,r)||this;return g.resourceId=o,g.taskId=c,g}return u.__extends(t,i),t.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=s.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},t.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:f.GanttDataObjectNames.resourceAssignment,getKey:function(){return r.insertedKey},updateKey:function(o){return r.insertedKey=o}},{objectType:f.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(o){return r.taskId=o}},{objectType:f.GanttDataObjectNames.resource,getKey:function(){return r.resourceId},updateKey:function(o){return r.resourceId=o}}]},enumerable:!1,configurable:!0}),t})(h.HistoryItem);d.AssignResourceHistoryItem=n},1493:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DeassignResourceHistoryItem=void 0;var u=l(655),h=l(7917),f=l(6124),s=(function(n){function i(t,r){var o=n.call(this,t)||this;return o.assignmentId=r,o}return u.__extends(i,n),i.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},i.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:f.GanttDataObjectNames.resourceAssignment,getKey:function(){return t.assignmentId},updateKey:function(r){return t.assignmentId=r}},{objectType:f.GanttDataObjectNames.task,getKey:function(){var r;return(r=t.assignment)===null||r===void 0?void 0:r.taskId},updateKey:function(r){return t.assignment.taskId=r}},{objectType:f.GanttDataObjectNames.resource,getKey:function(){var r;return(r=t.assignment)===null||r===void 0?void 0:r.resourceId},updateKey:function(r){return t.assignment.resourceId=r}}]},enumerable:!1,configurable:!0}),i})(h.HistoryItem);d.DeassignResourceHistoryItem=s},2961:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateResourceHistoryItem=void 0;var u=l(655),h=l(7917),f=l(6124),s=l(8679),n=(function(i){function t(r,o,c,g){c===void 0&&(c="");var v=i.call(this,r)||this;return v.text=o,v.color=c,v.createCallback=g,v}return u.__extends(t,i),t.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=s.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},t.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:f.GanttDataObjectNames.resource,getKey:function(){return r.insertedKey},updateKey:function(o){return r.insertedKey=o}}]},enumerable:!1,configurable:!0}),t})(h.HistoryItem);d.CreateResourceHistoryItem=n},4641:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceColorHistoryItem=void 0;var u=l(655),h=(function(f){function s(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(s,f),s.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},s})(l(7049).ResourcePropertiesHistoryItemBase);d.ResourceColorHistoryItem=h},7049:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertiesHistoryItemBase=void 0;var u=l(655),h=l(6124),f=(function(s){function n(i,t,r){var o=s.call(this,i)||this;return o.resourceId=t,o.newValue=r,o}return u.__extends(n,s),n.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},n.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},n.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:h.GanttDataObjectNames.resource,getKey:function(){return i.resourceId},updateKey:function(t){return i.resourceId=t}}]},enumerable:!1,configurable:!0}),n})(l(7917).HistoryItem);d.ResourcePropertiesHistoryItemBase=f},7466:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveResourceHistoryItem=void 0;var u=l(655),h=l(9751),f=l(6124),s=(function(n){function i(t,r){var o=n.call(this)||this;return o.modelManipulator=t,o.resourceId=r,o}return u.__extends(i,n),i.prototype.redo=function(){n.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},i.prototype.undo=function(){var t=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){t.resource.color&&t.modelManipulator.resource.properties.color.setValue(t.resource.internalId,t.resource.color),window.setTimeout((function(){return n.prototype.undo.call(t)}),0)}))},i.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){})),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),n.prototype.undo.call(this)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:f.GanttDataObjectNames.resource,getKey:function(){return t.resourceId},updateKey:function(r){return t.resourceId=r}}]},enumerable:!1,configurable:!0}),i})(h.CompositionHistoryItem);d.RemoveResourceHistoryItem=s},1284:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CreateTaskHistoryItem=void 0;var u=l(655),h=l(8679),f=l(6124),s=(function(n){function i(t,r){var o=n.call(this,t)||this;return o.data=r,o}return u.__extends(i,n),i.prototype.redo=function(){var t;(t=this.insertedKey)!==null&&t!==void 0||(this.insertedKey=h.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},i.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t,r=this,o=[{objectType:f.GanttDataObjectNames.task,getKey:function(){return r.insertedKey},updateKey:function(c){return r.insertedKey=c}}];return!((t=this.data)===null||t===void 0)&&t.parentId&&o.push({objectType:f.GanttDataObjectNames.task,getKey:function(){var c;return(c=r.data)===null||c===void 0?void 0:c.parentId},updateKey:function(c){return r.data.parentId=c}}),o},enumerable:!1,configurable:!0}),i})(l(7917).HistoryItem);d.CreateTaskHistoryItem=s},9599:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RemoveTaskHistoryItem=void 0;var u=l(655),h=l(6124),f=l(9751),s=(function(n){function i(t,r){var o=n.call(this)||this;return o.modelManipulator=t,o.taskId=r,o}return u.__extends(i,n),i.prototype.redo=function(){n.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},i.prototype.undo=function(){var t=this;this.modelManipulator.task.create(this.task,this.taskId,(function(){window.setTimeout((function(){return n.prototype.undo.call(t)}),0)}))},i.prototype.undoItemsQuery=function(){var t;this.modelManipulator.task.create(this.task,this.taskId);for(var r=this.historyItems.length-1;t=this.historyItems[r];r--)t instanceof f.CompositionHistoryItem?t.undoItemsQuery():t.undo()},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:h.GanttDataObjectNames.task,getKey:function(){return t.taskId},updateKey:function(r){return t.taskId=r}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var r;return(r=t.task)===null||r===void 0?void 0:r.parentId},updateKey:function(r){return t.task.parentId=r}}]},enumerable:!1,configurable:!0}),i})(f.CompositionHistoryItem);d.RemoveTaskHistoryItem=s},9496:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UpdateTaskHistoryItem=void 0;var u=l(655),h=l(6124),f=l(7917),s=l(3064),n=(function(i){function t(r,o,c){var g=i.call(this,r)||this;return g.taskId=o,g.newValues=c,g}return u.__extends(t,i),t.prototype.redo=function(){var r=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new s.HistoryItemState(this.taskId,r)},t.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:h.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(o){return r.taskId=o}}]},enumerable:!1,configurable:!0}),t})(f.HistoryItem);d.UpdateTaskHistoryItem=n},6382:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseManipulator=void 0;var l=(function(){function u(h,f){this.viewModel=h,this.dispatcher=f}return u.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(u.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),u})();d.BaseManipulator=l},1178:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskDependencyManipulator=void 0;var u=l(655),h=l(6124),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.insertDependency=function(i,t,r,o){var c=this.viewModel;c.onBeginDataObjectCreate();var g=c.dependencies.createItem();return g.predecessorId=i,g.successorId=t,g.type=r,o&&(g.internalId=o),g.id=g.internalId,c.dependencies.add(g),c.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(g.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(g),(function(v){var m=g.internalId;g.updateId(v),c.processServerInsertedKey(m,g.internalId,h.GanttDataObjectNames.dependency)}),this.getErrorCallback()),c.onEndDataObjectCreate(),g},n.prototype.removeDependency=function(i){var t=this.viewModel.dependencies.getItemById(i);return this.viewModel.dependencies.remove(t),this.dispatcher.notifyDependencyRemoved(t.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(t)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(t.internalId),t},n.prototype.getObjectForDataSource=function(i){var t=this.viewModel.tasks.getItemById(i.predecessorId),r=this.viewModel.tasks.getItemById(i.successorId);return{id:i.id,predecessorId:t.id,successorId:r.id,type:i.type}},n})(l(6382).BaseManipulator);d.TaskDependencyManipulator=f},9650:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ModelManipulator=void 0;var u=l(1178),h=l(7518),f=l(728),s=function(n,i){this.task=new f.TaskManipulator(n,i),this.dependency=new u.TaskDependencyManipulator(n,i),this.resource=new h.ResourcesManipulator(n,i),this.dispatcher=i};d.ModelManipulator=s},4596:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourceColorManipulator=void 0;var u=l(655),h=(function(f){function s(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(s,f),s.prototype.getPropertyValue=function(n){return n.color},s.prototype.setPropertyValue=function(n,i){n.color=i,this.dispatcher.notifyResourceColorChanged(n.id,i,this.getErrorCallback())},s})(l(7470).ResourcePropertyManipulator);d.ResourceColorManipulator=h},79:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertiesManipulator=void 0;var u=l(655),h=l(6382),f=l(4596),s=(function(n){function i(t,r){var o=n.call(this,t,r)||this;return o.color=new f.ResourceColorManipulator(t,r),o}return u.__extends(i,n),i})(h.BaseManipulator);d.ResourcePropertiesManipulator=s},7470:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcePropertyManipulator=void 0;var u=l(655),h=l(3064),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.setValue=function(i,t){var r=this,o=this.viewModel.resources.getItemById(i),c=new h.HistoryItemState(i,this.getPropertyValue(o));return this.setPropertyValue(o,t),this.viewModel.assignments.items.filter((function(g){return g.resourceId===o.internalId})).forEach((function(g){var v=r.viewModel.findItem(g.taskId).visibleIndex;r.renderHelper.recreateTaskElement(v)})),c},n.prototype.restoreValue=function(i){var t=this;if(i){var r=i.value,o=this.viewModel.resources.getItemById(i.id);this.setPropertyValue(o,r),this.viewModel.assignments.items.filter((function(c){return c.resourceId===o.internalId})).forEach((function(c){var g=t.viewModel.findItem(c.taskId).visibleIndex;t.renderHelper.recreateTaskElement(g)}))}},n})(l(6382).BaseManipulator);d.ResourcePropertyManipulator=f},7518:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourcesManipulator=void 0;var u=l(655),h=l(6124),f=l(6382),s=l(79),n=(function(i){function t(r,o){var c=i.call(this,r,o)||this;return c.properties=new s.ResourcePropertiesManipulator(r,o),c}return u.__extends(t,i),t.prototype.create=function(r,o,c,g){var v=this.viewModel;v.onBeginDataObjectCreate();var m=v.resources.createItem();return m.text=r,o&&(m.color=o),c&&(m.internalId=c),m.id=m.internalId,this.viewModel.resources.add(m),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(m),(function(_){var T=m.internalId;m.updateId(_),v.processServerInsertedKey(T,m.internalId,h.GanttDataObjectNames.resource),g&&g(_)}),this.getErrorCallback()),v.onEndDataObjectCreate(),m},t.prototype.remove=function(r){var o=this.viewModel.resources.getItemById(r);if(!o)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter((function(c){return c.resourceId===r})).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(o),this.dispatcher.notifyResourceRemoved(o.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(o)),o},t.prototype.assign=function(r,o,c){var g=this.viewModel;g.onBeginDataObjectCreate();var v=g.assignments.createItem();return v.resourceId=r,v.taskId=o,c&&(v.internalId=c),v.id=v.internalId,this.viewModel.assignments.add(v),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(v),(function(m){var _=v.internalId;v.updateId(m),g.processServerInsertedKey(_,v.internalId,h.GanttDataObjectNames.resourceAssignment)}),this.getErrorCallback()),this.viewModel.updateModel(),g.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),v},t.prototype.deassig=function(r){var o=this.viewModel.assignments.getItemById(r);return this.viewModel.assignments.remove(o),this.dispatcher.notifyResourceUnassigned(o.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(o)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),o},t.prototype.getResourceObjectForDataSource=function(r){return{id:r.id,text:r.text}},t.prototype.getResourceAssignmentObjectForDataSource=function(r){return{id:r.id,taskId:this.viewModel.tasks.getItemById(r.taskId).id,resourceId:this.viewModel.resources.getItemById(r.resourceId).id}},t})(f.BaseManipulator);d.ResourcesManipulator=n},728:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskManipulator=void 0;var u=l(655),h=l(2491),f=l(6124),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.create=function(t,r,o){var c=this,g=this.viewModel;g.onBeginDataObjectCreate();var v=g.tasks.createItem();v.start=t.start,v.end=t.end,v.title=t.title,v.progress=t.progress,t.color&&(v.color=t.color);var m=g.tasks.getItemById(t.parentId);return m&&(m.expanded=!0),v.parentId=t.parentId,r&&(v.internalId=r),v.id=v.internalId,g.tasks.add(v),g.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(v),(function(_){var T=v.internalId;if(v.updateId(_),g.processServerInsertedKey(T,v.internalId,f.GanttDataObjectNames.task),o&&o(),c.viewModel.requireFirstLoadParentAutoCalc){var b=g.getCurrentTaskData().map((function(k){return k.parentId===""&&(k.parentId=null),k}));c.dispatcher.notifyParentDataRecalculated(b)}}),this.getErrorCallback()),g.onEndDataObjectCreate(),g.owner.resetAndUpdate(),v},i.prototype.remove=function(t){var r=this.viewModel.tasks.getItemById(t);if(!r)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter((function(o){return o.predecessorId==t||o.successorId==t})).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter((function(o){return o.taskId==t})).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(r),this.dispatcher.notifyTaskRemoved(r.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(r)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),r},i.prototype.update=function(t,r){var o=this.viewModel.tasks.getItemById(t),c={};Object.keys(r).forEach((function(v){(0,h.isDefined)(o[v])&&(c[v]=o[v],o[v]=r[v])}));var g=this.viewModel.findItem(t);return g&&this.renderHelper.recreateTaskElement(g.visibleIndex),this.dispatcher.notifyTaskUpdated(o.id,r,this.getErrorCallback()),c},i.prototype.getObjectForDataSource=function(t){return this.viewModel.getTaskObjectForDataSource(t)},i})(l(6382).BaseManipulator);d.TaskManipulator=s},2601:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttJsonUtils=void 0;var u=l(9937),h=(function(){function f(){}return f.parseJson=function(s){return u.JsonUtils.isValid(s)?JSON.parse(s):null},f})();d.GanttJsonUtils=h},8478:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationController=void 0;var u=l(655),h=l(2491),f=l(9201),s=l(5950),n=l(9496),i=l(858),t=l(7880),r=l(4927),o=(function(){function c(g){this.lockPredecessorToSuccessor=!0,this.settings=g}return Object.defineProperty(c.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),c.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},c.prototype.checkStartDependencies=function(g,v){var m=this,_=[],T=this.viewModel.tasks.getItemById(g);return this.viewModel.dependencies.items.filter((function(b){return b.successorId===g})).forEach((function(b){var k=m.viewModel.tasks.getItemById(b.predecessorId);(b.type===s.DependencyType.FS&&k.end>v||b.type===s.DependencyType.SS&&k.start>v)&&_.push(new r.ValidationError(b.internalId,!0)),(b.type===s.DependencyType.FS&&k.end.valueOf()===T.start.valueOf()&&v>k.end||b.type===s.DependencyType.SS&&k.start.valueOf()===T.start.valueOf()&&v>k.start)&&_.push(new r.ValidationError(b.internalId))})),_},c.prototype.checkEndDependencies=function(g,v){var m=this,_=[],T=this.viewModel.tasks.getItemById(g);return this.viewModel.dependencies.items.filter((function(b){return b.successorId===g})).forEach((function(b){var k=m.viewModel.tasks.getItemById(b.predecessorId);(b.type===s.DependencyType.SF&&k.start>v||b.type===s.DependencyType.FF&&k.end>v)&&_.push(new r.ValidationError(b.internalId,!0)),(b.type===s.DependencyType.SF&&k.start.valueOf()===T.end.valueOf()&&v>k.start||b.type===s.DependencyType.FF&&k.end.valueOf()===T.end.valueOf()&&v>k.end)&&_.push(new r.ValidationError(b.internalId))})),_},c.prototype.moveEndDependTasks=function(g,v,m){var _=this;m===void 0&&(m=null);var T=this.viewModel.dependencies.items.filter((function(k){return k.predecessorId===g&&!k.isStartDependency})),b=this.viewModel.tasks.getItemById(g);T.forEach((function(k){var D=_.viewModel.tasks.getItemById(k.successorId);if(!(!D||m&&_.viewModel.checkParent(D.internalId,m)||D.parentId===b.id)){var E=new i.DateRange(new Date(D.start.getTime()),new Date(D.end.getTime())),A=new i.DateRange(new Date(D.start.getTime()),new Date(D.end.getTime())),F=b.end.getTime()-v.getTime(),R=_.enablePredecessorGap?b.end:v;if(k.type===s.DependencyType.FS&&(D.start<R||_.lockPredecessorToSuccessor&&D.start.getTime()===v.getTime())?(A.start.setTime(b.end.getTime()),A.end.setTime(A.start.getTime()+(D.end.getTime()-D.start.getTime())),_.correctMoving(D.internalId,A)):k.type===s.DependencyType.FF&&(D.end<R||_.lockPredecessorToSuccessor&&D.end.getTime()===v.getTime())?(A.start.setTime(b.end.getTime()-(D.end.getTime()-D.start.getTime())),A.end.setTime(b.end.getTime()),_.correctMoving(D.internalId,A)):_.enablePredecessorGap||(A.start.setTime(D.start.getTime()+F),A.end.setTime(D.end.getTime()+F)),!E.equal(A)){var x={start:A.start,end:A.end};_.history.addAndRedo(new n.UpdateTaskHistoryItem(_.modelManipulator,k.successorId,x)),_.moveRelatedTasks(k,E,D,A)}}}))},c.prototype.moveStartDependTasks=function(g,v,m){var _=this;m===void 0&&(m=null);var T=this.viewModel.dependencies.items.filter((function(k){return k.predecessorId===g&&k.isStartDependency})),b=this.viewModel.tasks.getItemById(g);T.forEach((function(k){var D=_.viewModel.tasks.getItemById(k.successorId);if(!(!D||m&&_.viewModel.checkParent(D.internalId,m)||D.parentId===b.id)){var E=new i.DateRange(new Date(D.start.getTime()),new Date(D.end.getTime())),A=new i.DateRange(new Date(D.start.getTime()),new Date(D.end.getTime())),F=b.start.getTime()-v.getTime(),R=_.enablePredecessorGap?b.start:v;if(k.type===s.DependencyType.SF&&(D.end<R||_.lockPredecessorToSuccessor&&D.end.getTime()===v.getTime())?(A.start.setTime(b.start.getTime()-(D.end.getTime()-D.start.getTime())),A.end.setTime(b.start.getTime()),_.correctMoving(D.internalId,A)):k.type===s.DependencyType.SS&&(D.start<R||_.lockPredecessorToSuccessor&&D.start.getTime()===v.getTime())?(A.start.setTime(b.start.getTime()),A.end.setTime(b.start.getTime()+(D.end.getTime()-D.start.getTime())),_.correctMoving(D.internalId,A)):_.enablePredecessorGap||(A.start.setTime(D.start.getTime()+F),A.end.setTime(D.end.getTime()+F)),!E.equal(A)){var x={start:A.start,end:A.end};_.history.addAndRedo(new n.UpdateTaskHistoryItem(_.modelManipulator,k.successorId,x)),_.moveRelatedTasks(k,E,D,A)}}}))},c.prototype.moveRelatedTasks=function(g,v,m,_){var T=_.start.getTime()-v.start.getTime();this.correctParentsOnChildMoving(m.internalId,T),this.moveStartDependTasks(g.successorId,v.start),this.moveEndDependTasks(g.successorId,v.end)},c.prototype.getCorrectDateRange=function(g,v,m){var _=this,T=new i.DateRange(new Date(v),new Date(m));return u.__spreadArray(u.__spreadArray([],this.checkStartDependencies(g,T.start),!0),this.checkEndDependencies(g,T.end),!0).filter((function(b){return b.critical})).forEach((function(b){var k=_.viewModel.dependencies.getItemById(b.dependencyId),D=_.viewModel.tasks.getItemById(k.predecessorId);k.type===s.DependencyType.FS&&T.start<D.end&&T.start.setTime(D.end.getTime()),k.type===s.DependencyType.SS&&T.start<D.start&&T.start.setTime(D.start.getTime()),k.type===s.DependencyType.FF&&T.end<D.end&&T.end.setTime(D.end.getTime()),k.type===s.DependencyType.SF&&T.end<D.start&&T.end.setTime(D.start.getTime())})),T},c.prototype.correctMoving=function(g,v){var m=this,_=v.end.getTime()-v.start.getTime();return u.__spreadArray(u.__spreadArray([],this.checkStartDependencies(g,v.start),!0),this.checkEndDependencies(g,v.end),!0).filter((function(T){return T.critical})).forEach((function(T){var b=m.viewModel.dependencies.getItemById(T.dependencyId),k=m.viewModel.tasks.getItemById(b.predecessorId);b.type===s.DependencyType.FS&&v.start<k.end&&(v.start.setTime(k.end.getTime()),v.end.setTime(v.start.getTime()+_)),b.type===s.DependencyType.SS&&v.start<k.start&&(v.start.setTime(k.start.getTime()),v.end.setTime(v.start.getTime()+_)),b.type===s.DependencyType.FF&&v.end<k.end&&(v.end.setTime(k.end.getTime()),v.start.setTime(v.end.getTime()-_)),b.type===s.DependencyType.SF&&v.end<k.start&&(v.end.setTime(k.start.getTime()),v.start.setTime(v.end.getTime()-_))})),v},c.prototype.recalculateParents=function(g,v){for(var m=g&&g.parent;m&&m.task;){for(var _=m.children,T=this.range.end,b=this.range.start,k=0,D=0,E={id:m.task.internalId},A=0;A<_.length;A++){var F=_[A].task;if(F.isValid()){T=t.DateTimeUtils.getMinDate(T,F.start),b=t.DateTimeUtils.getMaxDate(b,F.end);var R=F.getDuration();k+=F.progress*R,D+=R}}t.DateTimeUtils.areDatesEqual(m.task.start,T)||(E.start=T),t.DateTimeUtils.areDatesEqual(m.task.end,b)||(E.end=b),E.oldStart=m.task.start,E.oldEnd=m.task.end,(k=D>0?Math.round(k/D):0)!==m.task.progress&&(E.progress=k),v(E),m=m.parent}},c.prototype.updateParentsRangeByChild=function(g){var v=this;this.recalculateParents(this.viewModel.findItem(g),(function(m){if((0,h.isDefined)(m.id)){var _=v.history,T=v.modelManipulator;(0,h.isDefined)(m.start)&&(_.addAndRedo(new n.UpdateTaskHistoryItem(T,m.id,{start:m.start})),v.moveStartDependTasks(m.id,m.oldStart)),(0,h.isDefined)(m.end)&&(_.addAndRedo(new n.UpdateTaskHistoryItem(T,m.id,{end:m.end})),v.moveEndDependTasks(m.id,m.oldEnd)),(0,h.isDefined)(m.progress)&&_.addAndRedo(new n.UpdateTaskHistoryItem(T,m.id,{progress:m.progress}))}}))},c.prototype.updateChildRangeByParent=function(g,v,m){var _=this.viewModel.findItem(g);if(_&&_.children.length!==0)for(var T=_.children,b=0;b<T.length;b++){var k=T[b].task,D=new Date(k.start.getTime()+v),E=f.DateUtils.getRangeMSPeriod(k.start,k.end),A=f.DateUtils.getDSTCorrectedTaskEnd(D,E);m.push({id:k.internalId,start:k.start,end:k.end}),this.history.addAndRedo(new n.UpdateTaskHistoryItem(this.modelManipulator,k.internalId,{start:D,end:A})),this.updateChildRangeByParent(k.internalId,v,m)}},c.prototype.updateParentsIfRequired=function(g){this._parentAutoCalc&&(this.updateParentsRangeByChild(g),this.updateOwnerInAutoParentMode())},c.prototype.correctParentsOnChildMoving=function(g,v){var m=this;if(this._parentAutoCalc&&v!==0){this.updateParentsRangeByChild(g);var _=[];this.updateChildRangeByParent(g,v,_),this.isValidateDependenciesRequired&&_.forEach((function(T){m.moveStartDependTasks(T.id,T.start,g),m.moveEndDependTasks(T.id,T.end,g)})),this.updateOwnerInAutoParentMode()}},c.prototype.canCreateDependency=function(g,v){return this.viewModel.canCreateDependency(g,v)},c})();d.ValidationController=o},4927:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationError=void 0;var l=function(u,h){h===void 0&&(h=!1),this.dependencyId=u,this.critical=h};d.ValidationError=l},6350:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewVisualModelDependencyInfo=void 0;var l=function(u,h,f){this.id=u,this.predecessor=h,this.type=f};d.ViewVisualModelDependencyInfo=l},3562:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewVisualModelItem=void 0;var u=l(2491),h=l(6353),f=(function(){function s(n,i){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=n,this.resources=i,this.children=new Array,this.isCustom=!1,this.size=new h.Size(0,0)}return Object.defineProperty(s.prototype,"resourceText",{get:function(){var n="";return this.resources.items.forEach((function(i){return n+=i.text+" "})),n},enumerable:!1,configurable:!0}),s.prototype.addChild=function(n){(0,u.isDefined)(n)&&this.children.indexOf(n)<0&&this.children.push(n)},s.prototype.removeChild=function(n){var i=this.children.indexOf(n);i>-1&&this.children.splice(i,1)},s.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},s.prototype.getVisible=function(){if(!this.visible)return!1;for(var n=this.parent;n;){if(!n.visible)return!1;n=n.parent}return!0},s.prototype.changeVisibility=function(n){this.visible=n},s.prototype.changeSelection=function(n){this.selected=n},s.prototype.setDependencies=function(n){n&&(this.dependencies=n.slice())},s})();d.ViewVisualModelItem=f},1408:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewVisualModel=void 0;var u=l(8828),h=l(9504),f=l(7380),s=l(9883),n=l(3562),i=l(6350),t=l(21),r=l(2491),o=l(6124),c=l(7352),g=l(2301),v=l(7437),m=(function(){function _(T,b,k,D,E,A,F){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=T,this.tasks=new h.TaskCollection,this.tasks.importFromObject(b),this.dependencies=new f.DependencyCollection,this.dependencies.importFromObject(k),this.resources=new u.ResourceCollection,this.resources.importFromObject(D),this.assignments=new s.ResourceAssignmentCollection,this.assignments.importFromObject(E),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new t.WorkingTimeCalculator(A,F),this.updateModel(!0)}return Object.defineProperty(_.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),_.prototype.updateModel=function(T){this._itemList.splice(0,this._itemList.length);for(var b=this.tasks.items,k=0;k<b.length;k++){var D=b[k];D&&this._itemList.push(new n.ViewVisualModelItem(D,this.getAssignedResources(D)))}this.createHierarchy(T),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},_.prototype.createHierarchy=function(T){var b=this;this.root=new n.ViewVisualModelItem(null,null);for(var k=this._itemList,D=k.reduce((function(x,N){var H,G=(H=N.task)===null||H===void 0?void 0:H.internalId;return(0,r.isDefined)(G)&&(x[G]=N),x}),{}),E=this.requireFirstLoadParentAutoCalc&&T,A=0;A<k.length;A++){var F=k[A],R=D[F.task.parentId]||this.root;F.parent=R,R.addChild(F),E&&this.owner.validationController.recalculateParents(F,(function(x){if((0,r.isDefined)(x.id)){var N=b.tasks.getItemById(x.id);(0,r.isDefined)(x.start)&&(N.start=x.start),(0,r.isDefined)(x.end)&&(N.end=x.end),(0,r.isDefined)(x.progress)&&(N.progress=x.progress)}}))}E&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},_.prototype.getCurrentTaskData=function(){var T=this;return this.tasks.items.map((function(b){return T.getTaskObjectForDataSource(b)}))},_.prototype.getTaskObjectForDataSource=function(T){var b=T.parentId&&this.tasks.getItemById(T.parentId),k=this.getRootTaskId(),D=k&&T.parentId===k?this.getRootRawValue():b==null?void 0:b.id;return{id:T.id,start:T.isValidStart()?T.start:null,end:T.isValidEnd()?T.end:null,duration:T.duration,description:T.description,parentId:D,progress:T.progress,color:T.color,taskType:T.taskType,title:T.title,customFields:T.customFields,expanded:T.expanded}},_.prototype.getDependencyObjectForDataSource=function(T){var b=T instanceof c.Dependency?T:this.getItemByPublicId("dependency",T);if(b){var k=this.convertInternalToPublicKey("task",b.predecessorId),D=this.convertInternalToPublicKey("task",b.successorId);return{id:b.id,predecessorId:(0,r.isDefined)(k)?k:b.predecessorId,successorId:(0,r.isDefined)(D)?D:b.successorId,type:b.type}}return null},_.prototype.getResourceObjectForDataSource=function(T){var b=T instanceof g.Resource?T:this.getItemByPublicId("resource",T);return b?{id:b.id,text:b.text,color:b.color}:null},_.prototype.getResourceAssignmentObjectForDataSource=function(T){var b=T instanceof v.ResourceAssignment?T:this.getItemByPublicId("assignment",T);if(b){var k=this.convertInternalToPublicKey("task",b.taskId),D=this.convertInternalToPublicKey("resource",b.resourceId);return{id:b.id,taskId:(0,r.isDefined)(k)?k:b.taskId,resourceId:(0,r.isDefined)(D)?D:b.resourceId}}return null},_.prototype.getRootRawValue=function(){var T,b,k;return(k=(b=(T=this.root.children[0])===null||T===void 0?void 0:T.task)===null||b===void 0?void 0:b.rawParentId)!==null&&k!==void 0?k:null},_.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},_.prototype.populateVisibleItems=function(T){var b=this,k=T===this.root;T&&(T.task||k)&&(k||(this._viewItemList.push(T),T.visibleIndex=this._viewItemList.length-1),(T.getExpanded()||T===this.root)&&T.children.forEach((function(D){return b.populateVisibleItems(D)})))},_.prototype.updateVisibleItemDependencies=function(){for(var T=this._viewItemList,b=0;b<T.length;b++){var k=T[b],D=this.getTasVisibleDependencies(k.task);k.setDependencies(D)}},_.prototype.getAssignedResources=function(T){var b=this,k=new u.ResourceCollection;return this.assignments.items.filter((function(D){return D.taskId==T.internalId})).forEach((function(D){k.add(b.resources.getItemById(D.resourceId))})),k},_.prototype.getTasVisibleDependencies=function(T){for(var b=new Array,k=T.internalId,D=this.dependencies.items.filter((function(R){return R.successorId==k})),E=0;E<D.length;E++){var A=D[E],F=this.findItem(A.predecessorId);F&&F.getVisible()&&b.push(new i.ViewVisualModelDependencyInfo(A.internalId,F,A.type))}return b},_.prototype.changeTaskExpanded=function(T,b){var k=this.tasks.getItemById(String(T));k&&(k.expanded=b,this.changed())},_.prototype.changeTaskVisibility=function(T,b){var k=this.findItem(T);k&&(k.visible=b,this.changed())},_.prototype.changeTaskSelected=function(T,b){var k=this._itemList.filter((function(A){return A.task&&A.task.internalId===T}))[0];if(k){k.selected=b;var D=this.findItem(T),E=D&&D.visibleIndex;E>-1&&this.renderHelper.recreateTaskElement(E)}},_.prototype.beginUpdate=function(){this._fLockCount++},_.prototype.endUpdate=function(){this._fLockCount--,this._fLockCount==0&&this.changed()},_.prototype.compareTaskOrder=function(T){var b=new h.TaskCollection;b.importFromObject(T);var k=b.items,D=this.tasks.items;if(k.length!==D.length)return!1;for(var E=0;E<k.length;E++){var A=k[E],F=D[E];if(A.id!==F.id)return!1}return!0},_.prototype.refreshTaskDataIfRequires=function(T){var b=!this.lockChangesProcessing&&!this.compareTaskOrder(T);if(b){var k=this.saveTaskInternalIds();this.tasks.importFromObject(T),this.restoreTaskInternalIds(k),this.updateModel()}return b},_.prototype.saveTaskInternalIds=function(){var T={};return this.tasks.items.map((function(b){return T[b.id]=b.internalId})),T},_.prototype.restoreTaskInternalIds=function(T){for(var b in T)if(Object.prototype.hasOwnProperty.call(T,b)){var k=this.tasks.getItemByPublicId(b);k&&(k.internalId=T[b])}},_.prototype.canCreateDependency=function(T,b){if(!T||!b||T===b)return!1;var k=!1;if(this.enableDependencyValidation){var D=this.getDependentTasksHash();k=this.parentAutoCalc?this.checkTasksInterdependence(T,b,D)||this.checkParent(T,b)||this.checkParent(b,T):this.checkDependencyChain([T],[b],D,[])}return!k},_.prototype.checkParent=function(T,b){return this.getTaskTreeLine(T).indexOf(b)>-1},_.prototype.getTaskTreeLine=function(T){var b=[T],k=this.findItem(T);if(k)for(k=k.parent;k!=null&&k.task;)b.push(k==null?void 0:k.task.internalId),k=k.parent;else for(var D=this.tasks.getItemById(T),E=this.tasks.getItemById(D==null?void 0:D.parentId);E;)b.push(E.id),E=this.tasks.getItemById(E.parentId);return b},_.prototype.getDependentTasksHash=function(){var T={};return this.dependencies.items.forEach((function(b){var k,D,E=b.predecessorId,A=b.successorId;(k=T[E])!==null&&k!==void 0||(T[E]=[]),T[E].indexOf(A)<0&&T[E].push(A),(D=T[A])!==null&&D!==void 0||(T[A]=[]),T[A].indexOf(E)<0&&T[A].push(E)})),T},_.prototype.checkTasksInterdependence=function(T,b,k){for(var D,E,A=this.getTaskTreeLine(T).reverse(),F=this.getTaskTreeLine(b).reverse(),R=0;R<A.length-1;R++){var x=A[R],N=F.indexOf(x);N>-1&&(D=A[R+1],E=F[N+1])}return D||E||(D=A[0],E=F[0]),this.checkDependencyChain(this.getBranchIds(D),this.getBranchIds(E),k,[])},_.prototype.checkDependencyChain=function(T,b,k,D){if(T.some((function(F){return b.indexOf(F)>-1})))return!0;D.push.apply(D,T);for(var E=0;E<T.length;E++){var A=k[T[E]];if(A&&this.checkDependencyChain(A.filter((function(F){return D.indexOf(F)===-1})),b,k,D))return!0}return!1},_.prototype.getBranchIds=function(T){var b=this,k=[T],D=this.findItem(T),E=D==null?void 0:D.children;return E&&E.forEach((function(A){var F,R=(F=A.task)===null||F===void 0?void 0:F.internalId;R&&(k=k.concat(b.getBranchIds(R)))})),k},_.prototype.getTasksExpandedState=function(){var T=this.tasks.items,b={};return T.forEach((function(k){return b[k.id]=k.expanded})),b},_.prototype.applyTasksExpandedState=function(T){if(T){for(var b in this.beginUpdate(),T)Object.prototype.hasOwnProperty.call(T,b)&&this.changeTaskExpanded(b,T[b]);this.endUpdate()}},_.prototype.changed=function(){this._fLockCount===0&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},_.prototype.findItem=function(T){return this._viewItemList.filter((function(b){return b.task&&b.task.internalId===T}))[0]},Object.defineProperty(_.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),_.prototype.getTaskVisibility=function(T){var b=this.findItem(T);return!!b&&b.getVisible()},_.prototype.getTaskSelected=function(T){var b=this.findItem(T);return!!b&&b.selected},Object.defineProperty(_.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),_.prototype.updateRange=function(T){this._workTimeCalculator.updateRange(T)},_.prototype.taskHasChildrenByIndex=function(T){return this._viewItemList[T].children.length>0},_.prototype.taskHasChildren=function(T){var b=this.findItem(T);return b&&b.children.length>0},Object.defineProperty(_.prototype,"enableDependencyValidation",{get:function(){var T,b=this.owner&&this.owner.settings;return(T=b==null?void 0:b.validation)===null||T===void 0?void 0:T.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"parentAutoCalc",{get:function(){var T=this.owner&&this.owner.settings;return T&&T.validation&&T.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"enablePredecessorGap",{get:function(){var T=this.owner&&this.owner.settings;return T&&T.validation&&T.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),_.prototype.isTaskToCalculateByChildren=function(T){return this.parentAutoCalc&&this.taskHasChildren(T)},_.prototype.hasTasks=function(){return this.tasks.length>0},_.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},_.prototype.convertPublicToInternalKey=function(T,b){var k=this.getItemByPublicId(T,b);return k&&k.internalId},_.prototype.convertInternalToPublicKey=function(T,b){var k=this.getItemByInternalId(T,b);return k&&k.id},_.prototype.getItemByPublicId=function(T,b){var k=b.toString();switch(T){case"task":return this.tasks.getItemByPublicId(k);case"dependency":return this.dependencies.getItemByPublicId(k);case"resource":return this.resources.getItemByPublicId(k);case"assignment":return this.assignments.getItemByPublicId(k)}return null},_.prototype.getItemByInternalId=function(T,b){switch(T){case"task":return this.tasks.getItemById(b);case"dependency":return this.dependencies.getItemById(b);case"resource":return this.resources.getItemById(b);case"assignment":return this.assignments.getItemById(b)}return null},_.prototype.findAssignment=function(T,b){var k=this.convertPublicToInternalKey("resource",T),D=this.convertPublicToInternalKey("task",b);return this.assignments.items.filter((function(E){return E.resourceId===k&&E.taskId===D}))[0]},_.prototype.findAllTaskAssignments=function(T){return this.assignments.items.filter((function(b){return b.taskId===T}))},_.prototype.getAllVisibleTaskIndices=function(T,b){var k,D=[];T!=null||(T=0),b!=null||(b=this._viewItemList.length-1);for(var E=T;E<=b;E++){var A=this._viewItemList[E];A!=null&&A.getVisible()&&(!((k=A==null?void 0:A.task)===null||k===void 0)&&k.isValid())&&D.push(E)}return D},_.prototype.getVisibleTasks=function(){var T=this;return this.tasks.items.filter((function(b){return b&&T.getTaskVisibility(b.internalId)&&b.isValid()}))},_.prototype.getVisibleDependencies=function(){var T=this.getVisibleTasks().map((function(b){return b.internalId}));return this.dependencies.items.filter((function(b){return b&&T.indexOf(b.successorId)>-1&&T.indexOf(b.predecessorId)>-1}))},_.prototype.getVisibleResourceAssignments=function(){var T=this.getVisibleTasks().map((function(b){return b.internalId}));return this.assignments.items.filter((function(b){return b&&T.indexOf(b.taskId)>-1}))},_.prototype.getVisibleResources=function(){for(var T=[],b=this.getVisibleResourceAssignments(),k=0;k<b.length;k++){var D=this.getItemByInternalId("resource",b[k].resourceId);D&&T.indexOf(D)===-1&&T.push(D)}return T},_.prototype.getRootTaskId=function(){var T;return(T=this.rootTaskId)!==null&&T!==void 0||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},_.prototype.calculateRootTaskId=function(){var T=this.items[0];if(!T)return null;for(;T.parent&&T.task;)T=T.parent;return T.children[0].task.parentId},_.prototype.getTaskMinStart=function(){var T=this.owner.dataRange.start;return this.tasks.items.forEach((function(b){b.isValid()&&b.start.getTime()<T.getTime()&&(T=b.start)})),T},_.prototype.getTaskMaxEnd=function(){var T=this.owner.dataRange.end;return this.tasks.items.forEach((function(b){b.isValid()&&b.end.getTime()>T.getTime()&&(T=b.end)})),T},_.prototype.processServerInsertedKey=function(T,b,k){var D;k===o.GanttDataObjectNames.task&&this.tasks.invalidate(),k===o.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),k===o.GanttDataObjectNames.resource&&this.resources.invalidate(),k===o.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),(D=this.owner)===null||D===void 0||D.updateHistoryObsoleteInsertedKey(T,b,k)},_.prototype.onBeginDataObjectCreate=function(){var T,b;(b=(T=this.owner).lockUpdateWithReload)===null||b===void 0||b.call(T)},_.prototype.onEndDataObjectCreate=function(){var T,b;(b=(T=this.owner).unlockUpdateWithReload)===null||b===void 0||b.call(T)},_})();d.ViewVisualModel=m},858:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DateRange=void 0;var l=(function(){function u(h,f){this.start=h,this.end=f}return u.prototype.equal=function(h){var f=!0;return f=(f=f&&this.start.getTime()===h.start.getTime())&&this.end.getTime()===h.end.getTime()},u})();d.DateRange=l},7880:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DateTimeUtils=void 0;var u=l(2753),h=l(9331),f=l(2491),s=l(858),n=l(7812),i=(function(){function t(){}return t.compareDates=function(r,o){return r&&o?o.getTime()-r.getTime():-1},t.areDatesEqual=function(r,o){return this.compareDates(r,o)==0},t.getMaxDate=function(r,o){return r||o?r?o&&this.compareDates(r,o)>0?o:r:o:null},t.getMinDate=function(r,o){return r||o?r?o?this.compareDates(r,o)>0?r:o:r:o:null},t.getDaysBetween=function(r,o){var c=Math.abs(o.getTime()-r.getTime());return Math.ceil(c/this.msInDay)},t.getWeeksBetween=function(r,o){var c=this.getDaysBetween(r,o),g=Math.floor(c/7);return r.getDay()>o.getDay()&&g++,g},t.getMonthsDifference=function(r,o){var c=this.compareDates(r,o),g=c>=0?r:o,v=c>=0?o:r;return 12*(v.getFullYear()-g.getFullYear())+(v.getMonth()-g.getMonth())},t.getYearsDifference=function(r,o){return Math.abs(o.getFullYear()-r.getFullYear())},t.getDayNumber=function(r){return Math.ceil(r.getTime()/this.msInDay)},t.getDateByDayNumber=function(r){var o=new Date(r*this.msInDay);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o},t.addDays=function(r,o){return new Date(r.getTime()+o*this.msInDay)},t.checkDayOfMonth=function(r,o){return r==o.getDate()},t.checkDayOfWeek=function(r,o){return r==o.getDay()},t.checkMonth=function(r,o){return r==o.getMonth()},t.checkYear=function(r,o){return r==o.getFullYear()},t.checkDayOfWeekOccurrenceInMonth=function(r,o,c){var g=this.getSpecificDayOfWeekInMonthDates(o,r.getFullYear(),r.getMonth());return c==n.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(r,g[g.length-1]):this.areDatesEqual(r,g[c])},t.getFirstDayOfWeekInMonth=function(r,o){return new Date(r,o,1).getDay()},t.getSpecificDayOfWeekInMonthDates=function(r,o,c){for(var g=this.getFirstDayOfWeekInMonth(o,c),v=r>=g?r-g:r+7-g,m=new Array,_=new Date(o,c,v+1);_.getMonth()==c;)m.push(_),_=this.addDays(_,7);return m},t.getSpecificDayOfWeekInMonthDate=function(r,o,c,g){var v=this.getSpecificDayOfWeekInMonthDates(r,o,c);return g==n.DayOfWeekMonthlyOccurrence.Last?v[v.length-1]:v[g]},t.checkValidDayInMonth=function(r,o,c){return!(c<1||c>31||new Date(r,o,c).getMonth()!=o)},t.getNextMonth=function(r,o){return o===void 0&&(o=1),(r+o)%12},t.convertToDate=function(r){if(r instanceof Date)return new Date(r);var o=Date.parse(r);return isNaN(o)?null:new Date(o)},t.convertTimeRangeToDateRange=function(r,o){var c=this.getDateByDayNumber(o),g=c.getFullYear(),v=c.getMonth(),m=c.getDate(),_=r.start,T=new Date(g,v,m,_.hour,_.min,_.sec,_.msec),b=r.end,k=new Date(g,v,m,b.hour,b.min,b.sec,b.msec);return new s.DateRange(T,k)},t.convertToTimeRanges=function(r){var o=this;return r instanceof Array?r.map((function(c){return o.convertToTimeRange(c)})):this.parseTimeRanges(r)},t.convertToTimeRange=function(r){return r?r instanceof h.TimeRange?r:(0,f.isDefined)(r.start)&&(0,f.isDefined)(r.end)?new h.TimeRange(this.convertToTime(r.start),this.convertToTime(r.end)):this.parseTimeRange(r):null},t.convertToTime=function(r){return r?r instanceof u.Time?r:r instanceof Date?this.getTimeGromJsDate(r):this.parseTime(r):null},t.parseTimeRanges=function(r){var o=this;return r?r.split(/;|,/).map((function(c){return o.parseTimeRange(c)})).filter((function(c){return!!c})):null},t.parseTimeRange=function(r){if(!r)return null;var o=r.split("-"),c=o[0],g=o[1];return(0,f.isDefined)(c)&&(0,f.isDefined)(g)?new h.TimeRange(this.parseTime(c),this.parseTime(g)):null},t.parseTime=function(r){if(!r)return null;var o=r.split(":"),c=parseInt(o[0])||0,g=parseInt(o[1])||0,v=parseInt(o[2])||0,m=parseInt(o[3])||0;return new u.Time(c,g,v,m)},t.getTimeGromJsDate=function(r){if(!r)return null;var o=r.getHours(),c=r.getMinutes(),g=r.getSeconds(),v=r.getMilliseconds();return new u.Time(o,c,g,v)},t.caclTimeDifference=function(r,o){return o.getTimeInMilleconds()-r.getTimeInMilleconds()},t.areTimesEqual=function(r,o){return this.caclTimeDifference(r,o)==0},t.getMaxTime=function(r,o){return r||o?r?o&&this.caclTimeDifference(r,o)>0?o:r:o:null},t.getMinTime=function(r,o){return r||o?r?o?this.caclTimeDifference(r,o)>0?r:o:r:o:null},t.getLastTimeOfDay=function(){return new u.Time(23,59,59,999)},t.msInDay=864e5,t})();d.DateTimeUtils=i},8719:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DayOfWeek=void 0,(function(l){l[l.Sunday=0]="Sunday",l[l.Monday=1]="Monday",l[l.Tuesday=2]="Tuesday",l[l.Wednesday=3]="Wednesday",l[l.Thursday=4]="Thursday",l[l.Friday=5]="Friday",l[l.Saturday=6]="Saturday"})(d.DayOfWeek||(d.DayOfWeek={}))},7812:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DayOfWeekMonthlyOccurrence=void 0,(function(l){l[l.First=0]="First",l[l.Second=1]="Second",l[l.Third=2]="Third",l[l.Forth=3]="Forth",l[l.Last=4]="Last"})(d.DayOfWeekMonthlyOccurrence||(d.DayOfWeekMonthlyOccurrence={}))},1805:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DayWorkingTimeInfo=void 0;var u=l(9331),h=l(7880),f=l(2753),s=(function(){function n(i,t,r){i===void 0&&(i=0),t===void 0&&(t=!0),r===void 0&&(r=null),this._workingIntervals=new Array,this.dayNumber=i,this.isWorkDay=t,this.addWorkingIntervals(r)}return n.prototype.addWorkingIntervals=function(i){i&&(this._workingIntervals=this._workingIntervals.concat(i.filter((function(t){return!!t}))),this.rearrangeWorkingIntervals())},n.prototype.rearrangeWorkingIntervals=function(){for(var i=0;i<this._workingIntervals.length;i++)this.concatWithIntersectedRanges(this._workingIntervals[i]);this.sortIntervals()},n.prototype.concatWithIntersectedRanges=function(i){var t=this;this.getIntersectedIntervals(i).forEach((function(r){i.concatWith(r),t.removeInterval(r)}))},n.prototype.getIntersectedIntervals=function(i){return this._workingIntervals.filter((function(t){return t.hasIntersect(i)&&t!==i}))},n.prototype.sortIntervals=function(){this._workingIntervals.sort((function(i,t){return h.DateTimeUtils.caclTimeDifference(t.start,i.start)}))},n.prototype.removeInterval=function(i){var t=this._workingIntervals.indexOf(i);t>-1&&t<this._workingIntervals.length&&this._workingIntervals.splice(t,1)},n.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(n.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"noWorkingIntervals",{get:function(){var i=new Array;if(this.isWorkDay&&this._workingIntervals.length===0)return i;var t=this._workingIntervals.map((function(v){return v.end}));t.splice(0,0,new f.Time);var r=this._workingIntervals.map((function(v){return v.start}));r.push(h.DateTimeUtils.getLastTimeOfDay());for(var o=0;o<t.length;o++){var c=t[o],g=r[o];h.DateTimeUtils.areTimesEqual(c,g)||i.push(new u.TimeRange(c,g))}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(i){this._isWorkDay=i,i||this.clearIntervals()},enumerable:!1,configurable:!0}),n})();d.DayWorkingTimeInfo=s},3110:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Month=void 0,(function(l){l[l.January=0]="January",l[l.February=1]="February",l[l.March=2]="March",l[l.April=3]="April",l[l.May=4]="May",l[l.June=5]="June",l[l.July=6]="July",l[l.August=7]="August",l[l.September=8]="September",l[l.October=9]="October",l[l.November=10]="November",l[l.December=11]="December"})(d.Month||(d.Month={}))},7872:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MonthInfo=void 0;var u=l(7880),h=(function(){function f(s,n){this.month=s,this.year=n}return f.prototype.addMonths=function(s){var n=u.DateTimeUtils.getNextMonth(this.month,s),i=Math.floor(s/12);n<this.month&&++i,this.month=n,this.year+=i},f})();d.MonthInfo=h},4902:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Daily=void 0;var u=l(655),h=l(1789),f=l(7880),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.checkDate=function(t){return!0},i.prototype.checkInterval=function(t){return f.DateTimeUtils.getDaysBetween(this.start,t)%this.interval==0},i.prototype.calculatePointByInterval=function(t){var r=this.interval;return this.isRecurrencePoint(t)||(r-=f.DateTimeUtils.getDaysBetween(this.start,t)%this.interval),f.DateTimeUtils.addDays(t,r)},i.prototype.calculateNearestPoint=function(t){return f.DateTimeUtils.addDays(t,1)},i})(h.RecurrenceBase);d.Daily=s},4390:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Monthly=void 0;var u=l(655),h=l(1789),f=l(7880),s=l(7872),n=(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return u.__extends(t,i),t.prototype.checkDate=function(r){return this._calculateByDayOfWeek?f.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(r,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):f.DateTimeUtils.checkDayOfMonth(this.dayInternal,r)},t.prototype.checkInterval=function(r){return f.DateTimeUtils.getMonthsDifference(this.start,r)%this.interval==0},t.prototype.calculatePointByInterval=function(r){var o=this.start,c=f.DateTimeUtils.getMonthsDifference(o,r),g=Math.floor(c/this.interval)*this.interval,v=new s.MonthInfo(o.getMonth(),o.getFullYear());v.addMonths(g);var m=this.getSpecDayInMonth(v.year,v.month);return f.DateTimeUtils.compareDates(m,r)>=0&&(v.addMonths(this.interval),m=this.getSpecDayInMonth(v.year,v.month)),m},t.prototype.calculateNearestPoint=function(r){var o=r.getMonth(),c=r.getFullYear(),g=this.getSpecDayInMonth(c,o);if(f.DateTimeUtils.compareDates(g,r)>=0){var v=new s.MonthInfo(o,c);v.addMonths(1),g=this.getSpecDayInMonth(v.year,v.month)}return g},Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(r){this.dayInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(r){this.dayOfWeekInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(r){this.dayOfWeekOccurrenceInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(r){this._calculateByDayOfWeek=r},enumerable:!1,configurable:!0}),t})(h.RecurrenceBase);d.Monthly=n},1789:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RecurrenceBase=void 0;var u=l(655),h=l(8719),f=l(7812),s=l(3110),n=l(2491),i=l(7880),t=l(9612),r=(function(o){function c(g,v,m,_){g===void 0&&(g=null),v===void 0&&(v=null),m===void 0&&(m=1),_===void 0&&(_=0);var T=o.call(this)||this;return T._start=null,T._end=null,T._interval=1,T._occurrenceCount=0,T._dayOfWeek=0,T._day=1,T._dayOfWeekOccurrence=0,T._month=0,T._calculateByDayOfWeek=!1,T.start=g,T.end=v,T.interval=m,T.occurrenceCount=_,T}return u.__extends(c,o),c.prototype.assignFromObject=function(g){(0,n.isDefined)(g)&&(o.prototype.assignFromObject.call(this,g),this.start=i.DateTimeUtils.convertToDate(g.start),this.end=i.DateTimeUtils.convertToDate(g.end),(0,n.isDefined)(g.interval)&&(this.interval=g.interval),(0,n.isDefined)(g.occurrenceCount)&&(this.occurrenceCount=g.occurrenceCount),(0,n.isDefined)(g.dayOfWeek)&&(this.dayOfWeekInternal=t.RecurrenceFactory.getEnumValue(h.DayOfWeek,g.dayOfWeek)),(0,n.isDefined)(g.day)&&(this.dayInternal=g.day),(0,n.isDefined)(g.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=t.RecurrenceFactory.getEnumValue(f.DayOfWeekMonthlyOccurrence,g.dayOfWeekOccurrence)),(0,n.isDefined)(g.month)&&(this.monthInternal=t.RecurrenceFactory.getEnumValue(s.Month,g.month)),(0,n.isDefined)(g.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!g.calculateByDayOfWeek))},c.prototype.calculatePoints=function(g,v){if(!g||!v)return new Array;var m=i.DateTimeUtils.getMaxDate(g,this._start),_=i.DateTimeUtils.getMinDate(v,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(m,_):this.calculatePointsByDateRange(m,_)},c.prototype.calculatePointsByOccurrenceCount=function(g,v){for(var m=new Array,_=this.getFirstPoint(g);_&&m.length<this._occurrenceCount&&i.DateTimeUtils.compareDates(_,v)>=0;)this.isRecurrencePoint(_)&&m.push(_),_=this.getNextPoint(_);return m},c.prototype.calculatePointsByDateRange=function(g,v){for(var m=new Array,_=this.getFirstPoint(g);_&&i.DateTimeUtils.compareDates(_,v)>=0;)this.isRecurrencePoint(_)&&m.push(_),_=this.getNextPoint(_);return m},c.prototype.getFirstPoint=function(g){return this.isRecurrencePoint(g)?g:this.getNextPoint(g)},c.prototype.isRecurrencePoint=function(g){return this.isDateInRange(g)&&this.checkDate(g)&&(!this.useIntervalInCalc()||this.checkInterval(g))},c.prototype.isDateInRange=function(g){return!!g&&!(this._start&&i.DateTimeUtils.compareDates(this.start,g)<0)&&!(this._occurrenceCount==0&&this.end&&i.DateTimeUtils.compareDates(g,this.end)<0)},c.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},c.prototype.getNextPoint=function(g){return this.isDateInRange(g)?this.useIntervalInCalc()?this.calculatePointByInterval(g):this.calculateNearestPoint(g):null},c.prototype.getSpecDayInMonth=function(g,v){return this._calculateByDayOfWeek?i.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,g,v,this.dayOfWeekOccurrenceInternal):new Date(g,v,this.dayInternal)},Object.defineProperty(c.prototype,"dayInternal",{get:function(){return this._day},set:function(g){g>0&&g<=31&&(this._day=g)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(g){g>=h.DayOfWeek.Sunday&&g<=h.DayOfWeek.Saturday&&(this._dayOfWeek=g)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(g){g>=f.DayOfWeekMonthlyOccurrence.First&&g<=f.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=g)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"monthInternal",{get:function(){return this._month},set:function(g){g>=s.Month.January&&g<=s.Month.December&&(this._month=g)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"start",{get:function(){return this._start},set:function(g){g&&(this._start=g,this._end&&g>this._end&&(this._end=g))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"end",{get:function(){return this._end},set:function(g){g&&(this._end=g,this._start&&g<this._start&&(this._start=g))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(g){g<0&&(g=0),this._occurrenceCount=g},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"interval",{get:function(){return this._interval},set:function(g){g>0&&(this._interval=g)},enumerable:!1,configurable:!0}),c})(l(6124).DataObject);d.RecurrenceBase=r},9612:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RecurrenceFactory=void 0;var u=l(2491),h=l(4902),f=l(5475),s=l(4390),n=l(7515),i=(function(){function t(){}return t.createRecurrenceByType=function(r){if(!r)return null;switch(r.toLowerCase()){case"daily":return new h.Daily;case"weekly":return new f.Weekly;case"monthly":return new s.Monthly;case"yearly":return new n.Yearly}return null},t.createRecurrenceFromObject=function(r){if(!r)return null;var o=this.createRecurrenceByType(r.type);return o&&o.assignFromObject(r),o},t.getEnumValue=function(r,o){if(!(0,u.isDefined)(r[o]))return null;var c=parseInt(o);return isNaN(c)?r[o]:c},t})();d.RecurrenceFactory=i},5475:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Weekly=void 0;var u=l(655),h=l(1789),f=l(7880),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.checkDate=function(t){return f.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,t)},i.prototype.checkInterval=function(t){return f.DateTimeUtils.getWeeksBetween(this.start,t)%this.interval==0},i.prototype.calculatePointByInterval=function(t){var r=f.DateTimeUtils.getWeeksBetween(this.start,t),o=Math.floor(r/this.interval);(r%this.interval>0||t.getDay()>=this.dayOfWeekInternal)&&o++;var c=o*this.interval;return this.calcNextPointWithWeekCount(this.start,c)},i.prototype.calculateNearestPoint=function(t){var r=this.dayOfWeekInternal-t.getDay();return r>0?f.DateTimeUtils.addDays(new Date(t),r):this.calcNextPointWithWeekCount(t,1)},i.prototype.calcNextPointWithWeekCount=function(t,r){r===void 0&&(r=1);var o=7*r+this.dayOfWeekInternal-t.getDay();return f.DateTimeUtils.addDays(new Date(t),o)},Object.defineProperty(i.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!1,configurable:!0}),i})(h.RecurrenceBase);d.Weekly=s},7515:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Yearly=void 0;var u=l(655),h=l(1789),f=l(7880),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return u.__extends(i,n),i.prototype.checkDate=function(t){return!!f.DateTimeUtils.checkMonth(this.month,t)&&(this._calculateByDayOfWeek?f.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(t,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):f.DateTimeUtils.checkDayOfMonth(this.dayInternal,t))},i.prototype.checkInterval=function(t){return f.DateTimeUtils.getYearsDifference(this.start,t)%this.interval==0},i.prototype.calculatePointByInterval=function(t){var r=f.DateTimeUtils.getYearsDifference(this.start,t),o=Math.floor(r/this.interval)*this.interval,c=this.start.getFullYear()+o,g=this.getSpecDayInMonth(c,this.monthInternal);return f.DateTimeUtils.compareDates(g,t)>=0&&(c+=this.interval,g=this.getSpecDayInMonth(c,this.monthInternal)),g},i.prototype.calculateNearestPoint=function(t){var r=t.getFullYear(),o=this.getSpecDayInMonth(r,this.monthInternal);return f.DateTimeUtils.compareDates(o,t)>=0&&(o=this.getSpecDayInMonth(++r,this.monthInternal)),o},Object.defineProperty(i.prototype,"month",{get:function(){return this.monthInternal},set:function(t){this.monthInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"day",{get:function(){return this.dayInternal},set:function(t){this.dayInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(t){this.dayOfWeekOccurrenceInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(t){this._calculateByDayOfWeek=t},enumerable:!1,configurable:!0}),i})(h.RecurrenceBase);d.Yearly=s},2753:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Time=void 0;var l=(function(){function u(h,f,s,n){h===void 0&&(h=0),f===void 0&&(f=0),s===void 0&&(s=0),n===void 0&&(n=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=h,this.min=f,this.sec=s,this.msec=n}return Object.defineProperty(u.prototype,"hour",{get:function(){return this._hour},set:function(h){h>=0&&h<24&&(this._hour=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(h){h>=0&&h<60&&(this._min=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"sec",{get:function(){return this._sec},set:function(h){h>=0&&h<60&&(this._sec=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"msec",{get:function(){return this._msec},set:function(h){h>=0&&h<1e3&&(this._msec=h,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),u.prototype.updateFullMilleconds=function(){var h=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*h+this._msec},u.prototype.getTimeInMilleconds=function(){return this._fullmsec},u})();d.Time=l},9331:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TimeRange=void 0;var u=l(7880),h=(function(){function f(s,n){u.DateTimeUtils.caclTimeDifference(s,n)>=0?(this._start=s,this._end=n):(this._start=n,this._end=s)}return Object.defineProperty(f.prototype,"start",{get:function(){return this._start},set:function(s){s&&u.DateTimeUtils.caclTimeDifference(s,this._end)>=0&&(this._start=s)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"end",{get:function(){return this._end},set:function(s){s&&u.DateTimeUtils.caclTimeDifference(this._start,s)>=0&&(this._end=s)},enumerable:!1,configurable:!0}),f.prototype.isTimeInRange=function(s){return u.DateTimeUtils.caclTimeDifference(this._start,s)>=0&&u.DateTimeUtils.caclTimeDifference(s,this._end)>=0},f.prototype.hasIntersect=function(s){return this.isTimeInRange(s.start)||this.isTimeInRange(s.end)||s.isTimeInRange(this.start)||s.isTimeInRange(this.end)},f.prototype.concatWith=function(s){return!!this.hasIntersect(s)&&(this.start=u.DateTimeUtils.getMinTime(this.start,s.start),this.end=u.DateTimeUtils.getMaxTime(this.end,s.end),!0)},f})();d.TimeRange=h},21:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WorkingTimeCalculator=void 0;var u=l(4432),h=l(1805),f=l(7880),s=(function(){function n(i,t){this._workingRules=new u.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=i,this._workingRules.importFromObject(t)}return n.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var i=this._workingRules.items,t=0;t<i.length;t++)this.processRule(i[t]);this.sortList()}},n.prototype.processRule=function(i){for(var t=i.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),r=function(g){var v=t[g],m=f.DateTimeUtils.getDayNumber(v),_=o._workDayList.filter((function(T){return T.dayNumber==m}))[0];_?(_.isWorkDay=_.isWorkDay&&i.isWorkDay,_.addWorkingIntervals(i.workTimeRanges)):o._workDayList.push(new h.DayWorkingTimeInfo(m,i.isWorkDay,i.workTimeRanges))},o=this,c=0;c<t.length;c++)r(c)},n.prototype.sortList=function(){this._workDayList.sort((function(i,t){return i.dayNumber-t.dayNumber}))},n.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},n.prototype.calculateNoWorkTimeIntervals=function(){var i=this,t=new Array;return this._workDayList.length==0&&this.calculateWorkDayList(),this._workDayList.forEach((function(r){return t=t.concat(i.getNoWorkTimeRangesFromDay(r))})),this.concatJointedRanges(t)},n.prototype.concatJointedRanges=function(i){for(var t=new Array,r=0;r<i.length;r++){var o=i[r];t.length>0&&f.DateTimeUtils.compareDates(t[t.length-1].end,o.start)<2?t[t.length-1].end=o.end:t.push(o)}return t},n.prototype.getNoWorkTimeRangesFromDay=function(i){return i.noWorkingIntervals.map((function(t){return f.DateTimeUtils.convertTimeRangeToDateRange(t,i.dayNumber)}))},Object.defineProperty(n.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),n.prototype.updateRange=function(i){this._calculationRange=i,this.invalidate()},n.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},n})();d.WorkingTimeCalculator=s},8401:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WorkingTimeRule=void 0;var u=l(655),h=l(6124),f=l(2491),s=l(7880),n=l(9612),i=l(4902),t=(function(r){function o(c,g,v){c===void 0&&(c=null),g===void 0&&(g=!0),v===void 0&&(v=null);var m=r.call(this)||this;return m.isWorkDay=!0,m.workTimeRanges=new Array,m.recurrence=c,m.isWorkDay=g,v&&m.workTimeRanges.concat(v),m}return u.__extends(o,r),o.prototype.assignFromObject=function(c){if((0,f.isDefined)(c)){r.prototype.assignFromObject.call(this,c),this.recurrence=n.RecurrenceFactory.createRecurrenceByType(c.recurrenceType)||new i.Daily,(0,f.isDefined)(c.recurrence)&&this.recurrence.assignFromObject(c.recurrence),(0,f.isDefined)(c.isWorkDay)&&(this.isWorkDay=!!c.isWorkDay);var g=s.DateTimeUtils.convertToTimeRanges(c.workTimeRanges);g&&(this.workTimeRanges=g)}},o})(h.DataObject);d.WorkingTimeRule=t},6626:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttViewApi=void 0;var l=(function(){function u(h){this.maxZoom=3,this._ganttView=h}return Object.defineProperty(u.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(h){this._ganttView.currentZoom=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),u.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},u.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(u.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),u.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},u.prototype.scrollToDateCore=function(h,f){this._ganttView.scrollToDateCore(h,f)},Object.defineProperty(u.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),u.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(u.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),u.prototype.calculateAutoViewType=function(h,f){return this._ganttView.calculateAutoViewType(h,f)},u.prototype.zoomIn=function(h){h===void 0&&(h=this.getTaskAreaContainerWidth()/2);var f=this.renderHelper.getTargetDateByPos(h),s=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>s&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(f,-h)},u.prototype.zoomOut=function(h){h===void 0&&(h=this.renderHelper.getTaskAreaContainerWidth()/2);var f=this.renderHelper.getTargetDateByPos(h),s=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<s&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(f,-h)},u.prototype.setViewType=function(h,f){f===void 0&&(f=!0),h==null&&(h=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==h&&(this.settings.viewType=h,this.updateTickSizeWidth(),this.resetAndUpdate(),f&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(h))},u.prototype.setViewTypeRange=function(h,f){h!==void 0&&(this.settings.viewTypeRange.min=Math.min(h,f)),f!==void 0&&(this.settings.viewTypeRange.max=Math.max(h,f));var s=this.settings.viewTypeRange.min,n=this.settings.viewTypeRange.max,i=this.settings.viewType;s>i?this.setViewType(s):n<i&&this.setViewType(n)},u})();d.GanttViewApi=l},5098:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditController=void 0;var u=l(2449),h=l(858),f=l(6907),s=l(9279),n=l(1886),i=l(9080),t=l(9201),r=(function(){function o(c){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=c,this.createElements()}return Object.defineProperty(o.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),o.prototype.raiseTaskMoving=function(c,g,v,m){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(c,g,v,m)},Object.defineProperty(o.prototype,"tooltip",{get:function(){var c;return(c=this._tooltip)!==null&&c!==void 0||(this._tooltip=new n.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tooltipSettings",{get:function(){var c=this;return i.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(g){c.settings.destroyTemplate(g)},formatDate:function(g){return c.settings.formatDate(g)},getTaskAreaContainer:function(){return c.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),o.prototype.show=function(c){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=c,this.hide(),this.changeWrapInfo(),this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+o.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(o.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var g=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new h.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(g),this.displayProgressEdit(),this.displayStartEndEditElements()}},o.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},o.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},o.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},o.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},o.prototype.displayTaskEditBox=function(c){var g=this;c===void 0&&(c=0);var v=function(){g.renderHelper.taskArea.appendChild(g.baseElement),g.isTaskEditBoxShown=!0};c?this.timerId=setTimeout(v,c):v()},o.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},o.prototype.hide=function(){this.isTaskEditBoxShown=!1;var c=this.baseElement.parentNode;c&&c.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},o.prototype.cancel=function(){clearTimeout(this.timerId)},o.prototype.showTaskInfo=function(c,g){g===void 0&&(g=500),this.timerId&&(g=this.showInfoDelay),this.tooltip.showInfo(this.task,c,g)},o.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},o.prototype.isAllowedToConnectTasks=function(c){var g,v=this.viewModel.items[c];return this.validationController.canCreateDependency(this.taskId,(g=v.task)===null||g===void 0?void 0:g.internalId)},o.prototype.showDependencySuccessor=function(c){if(this.isAllowedToConnectTasks(c)){this.successorIndex=c;var g=this.getTaskWrapperElementInfo(c);g.assignPosition(this.dependencySuccessorBaseElement),g.assignSize(this.dependencySuccessorBaseElement),g.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},o.prototype.hideDependencySuccessor=function(){var c=this.dependencySuccessorBaseElement.parentNode;c&&c.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},o.prototype.processProgress=function(c){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var g=c.x-this.wrapInfo.position.x,v=0;c.x>this.wrapInfo.position.x&&(v=c.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(g/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=v/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(v,f.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},o.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var c=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:c})}},o.prototype.processEnd=function(c){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var g=c.x>this.wrapInfo.position.x?c.x:this.wrapInfo.position.x,v=g-this.wrapInfo.position.x;this.baseElement.style.width=(v<1?0:v)+"px";var m=this.task.start,_=this.renderHelper.gridLayoutCalculator.getDateByPos(g);_.setSeconds(0),_<m||v<1?this.taskDateRange.end.setTime(m.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,_),this.tooltip.showTime(m,this.taskDateRange.end,f.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},o.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},o.prototype.processStart=function(c){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var g=c.x<this.wrapInfo.position.x+this.wrapInfo.size.width?c.x:this.wrapInfo.position.x+this.wrapInfo.size.width,v=this.wrapInfo.size.width-(g-this.wrapInfo.position.x);this.baseElement.style.left=g+"px",this.baseElement.style.width=(v<1?0:v)+"px";var m=this.task.end,_=this.renderHelper.gridLayoutCalculator.getDateByPos(g);_.setSeconds(0),_>m||v<1?this.taskDateRange.start.setTime(m.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,_),this.tooltip.showTime(this.taskDateRange.start,m,f.DomUtils.getAbsolutePositionX(this.baseElement))}},o.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},o.prototype.processMove=function(c){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var g=this.baseElement.offsetLeft+c;this.baseElement.style.left=g+"px";var v=this.renderHelper.gridLayoutCalculator.getDateByPos(g);this.taskDateRange.start=this.getCorrectedDate(this.task.start,v);var m=t.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=t.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,m),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,f.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},o.prototype.onTaskMovingCallback=function(c,g){if(this.taskDateRange.start!==c||this.taskDateRange.end!==g){var v=this.renderHelper.gridLayoutCalculator,m=v.getPosByDate(c),_=v.getPosByDate(g)-m;this.baseElement.style.left=m+"px",this.baseElement.style.width=(_<1?0:_)+"px",this.taskDateRange.start=c,this.taskDateRange.end=g}},o.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},o.prototype.getCorrectedDate=function(c,g){if(this.ganttSettings.viewType>u.ViewType.SixHours){var v=g.getFullYear(),m=g.getMonth(),_=g.getDate(),T=this.ganttSettings.viewType===u.ViewType.Days?g.getHours():c.getHours(),b=c.getMinutes(),k=c.getSeconds(),D=c.getMilliseconds();return new Date(v,m,_,T,b,k,D)}return g},o.prototype.startDependency=function(c){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=o.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=c},o.prototype.processDependency=function(c){this.isEditingInProgress=!0,this.drawline(this.startPosition,c)},o.prototype.endDependency=function(c){this.isEditingInProgress=!1,c!=null&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,c);var g=this.dependencyLine.parentNode;g&&g.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},o.prototype.selectDependency=function(c){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=c)},o.prototype.isDependencySelected=function(c){return this.dependencyId&&this.dependencyId===c},o.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},o.prototype.getTaskWrapperElementInfo=function(c){var g=this.renderHelper.gridLayoutCalculator,v=g.getTaskWrapperElementInfo(c);return v.size.width=g.getTaskWidth(c),v.size.height=g.getTaskHeight(c),v},o.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=o.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=o.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(o.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencyFinish.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(o.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencyStart.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=o.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=o.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=o.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=o.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(o.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(o.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new n.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},o.prototype.attachEvents=function(){this.onMouseLeaveHandler=(function(){this.isEditingInProgress||this.hide()}).bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},o.prototype.drawline=function(c,g){if(c.x>g.x){var v=g;g=c,c=v}var m=Math.atan((c.y-g.y)/(g.x-c.x));m=-(m=180*m/Math.PI);var _=Math.sqrt((c.x-g.x)*(c.x-g.x)+(c.y-g.y)*(c.y-g.y));this.dependencyLine.style.left=c.x+"px",this.dependencyLine.style.top=c.y+"px",this.dependencyLine.style.width=_+"px",this.dependencyLine.style.transform="rotate("+m+"deg)"},o.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},o.prototype.isTaskUpdateAllowed=function(){var c=this.ganttSettings.editing;return c.enabled&&c.allowTaskUpdate},o.prototype.detachEvents=function(){var c;(c=this.baseElement)===null||c===void 0||c.removeEventListener("mouseleave",this.onMouseLeaveHandler)},o.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},o})();d.TaskEditController=r},1886:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditTooltip=void 0;var u=l(6907),h=(function(){function f(s,n,i){this.parentElement=s,this.cultureInfo=i,this.tooltipSettings=n}return Object.defineProperty(f.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),f.prototype.destroyTemplate=function(s){this.tooltipSettings.destroyTemplate(s)},f.prototype.formatDate=function(s){return this.tooltipSettings.formatDate(s)},f.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=f.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},f.prototype.setDefaultTooltip=function(s){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=f.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var n=document.createElement("DIV");n.className=f.CLASSNAMES.TASK_EDIT_TASK_TITLE;var i=document.createElement("SPAN");if(n.appendChild(i),this.defaultTooltip.appendChild(n),i.innerText=s.title,this.defaultTooltip.appendChild(this.getTimeContent(s.start,s.end)),!isNaN(s.progress)){var t=document.createElement("DIV");t.className=f.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),o=document.createElement("SPAN");t.appendChild(r),t.appendChild(o),this.defaultTooltip.appendChild(t),r.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",o.innerText=s.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},f.prototype.setDefaultProgressTooltip=function(s){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=f.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=s+"%",this.baseElement.appendChild(this.defaultTooltip)},f.prototype.setDefaultTimeTooltip=function(s,n){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=f.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(s,n)),this.baseElement.appendChild(this.defaultTooltip)},f.prototype.showInfo=function(s,n,i){var t=this;i===void 0&&(i=0);var r=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,s,(function(){t.showTooltip(n,!1,i)})):(this.setDefaultTooltip(s),this.showTooltip(n,!1,i))},f.prototype.showProgress=function(s,n){var i=this,t=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),t?t(this.baseElement,{progress:s},(function(){i.showTooltip(n)})):(this.setDefaultProgressTooltip(s),this.show(n))},f.prototype.showTime=function(s,n,i){var t=this,r=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,{start:s,end:n},(function(){t.showTooltip(i)})):(this.setDefaultTimeTooltip(s,n),this.show(i))},f.prototype.showTooltip=function(s,n,i){var t,r=this;if(n===void 0&&(n=!0),i===void 0&&(i=0),(t=this.baseElement)===null||t===void 0?void 0:t.innerHTML){var o=function(){r.show(s,n)};i?this.timerId=setTimeout(o,i):o()}},f.prototype.show=function(s,n){var i,t,r,o=this;n===void 0&&(n=!0),(i=this.defaultTooltip)===null||i===void 0||i.classList.remove(f.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),(t=this.defaultTooltip)===null||t===void 0||t.classList.remove(f.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var c=this.getLeftPosition(s),g=this.needToShowUnderParent(),v=this.getTopPosition(g),m=g?f.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:f.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;(r=this.defaultTooltip)===null||r===void 0||r.classList.add(m),this.baseElement.style.left=c+"px",this.baseElement.style.top=v+"px",n&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){o.hide()}),1500))},f.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},f.prototype.getTimeContent=function(s,n){var i=document.createElement("TABLE");i.className=f.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var t=document.createElement("TBODY");i.appendChild(t);var r=document.createElement("TR"),o=document.createElement("TD"),c=document.createElement("TD"),g=document.createElement("TR"),v=document.createElement("TD"),m=document.createElement("TD");return r.appendChild(o),r.appendChild(c),g.appendChild(v),g.appendChild(m),t.appendChild(r),t.appendChild(g),o.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",c.innerText=this.formatDate(s),v.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",m.innerText=this.formatDate(n),i},f.prototype.getLeftPosition=function(s){var n=s-u.DomUtils.getAbsolutePositionX(this.parentElement)-2*f.defaultArrowHeight;if(this.taskAreaContainer){var i=u.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),t=s+this.baseElement.clientWidth-i;t>0&&(n-=t)}return n},f.prototype.getTopPosition=function(s){return s?this.parentElement.clientHeight+f.defaultArrowHeight:-this.baseElement.clientHeight-f.defaultArrowHeight},f.prototype.needToShowUnderParent=function(){var s,n=u.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-u.DomUtils.getDocumentScrollTop()-f.defaultHeightOffset,i=((s=this.taskAreaContainer)===null||s===void 0?void 0:s.scrollTop)||0,t=this.parentElement.offsetTop-i;return this.baseElement.clientHeight>n||this.baseElement.clientHeight>t},f.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},f.defaultArrowHeight=5,f.defaultHeightOffset=15,f})();d.TaskEditTooltip=h},3336:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttMovingHelper=void 0;var u=l(9279),h=l(3714),f=(function(){function s(n){this.taskAreaContainer=n,this.movingInfo=null}return s.prototype.startMoving=function(n){this.movingInfo=this.calcMovingInfo(n),this.updateGanttAreaCursor(!0)},s.prototype.cancelMoving=function(){this.movingInfo=null},s.prototype.onMouseMove=function(n){this.move(n)},s.prototype.onMouseUp=function(n){this.cancelMoving(),this.updateGanttAreaCursor(!1)},s.prototype.move=function(n){this.updateScrollPosition(n)},s.prototype.updateScrollPosition=function(n){var i=Math.round(h.EvtUtils.getEventX(n)),t=Math.round(h.EvtUtils.getEventY(n)),r=i-this.movingInfo.eventX,o=t-this.movingInfo.eventY,c=r<0?-1:1,g=o<0?-1:1,v=c<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,m=g<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(r)>v&&(r=v*c),Math.abs(o)>m&&(o=m*g);var _=this.movingInfo.scrollLeft-r,T=this.movingInfo.scrollTop-o,b=this.taskAreaContainer;b.scrollLeft!==_&&(b.scrollLeft=_),b.scrollTop!==T&&(b.scrollTop=T)},s.prototype.calcMovingInfo=function(n){var i=this.taskAreaContainer;return{eventX:h.EvtUtils.getEventX(n),eventY:h.EvtUtils.getEventY(n),scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,maxLeftDelta:i.scrollLeft,maxRightDelta:i.scrollWidth-i.scrollLeft-i.getElement().offsetWidth,maxTopDelta:i.scrollTop,maxBottomDelta:i.scrollHeight-i.scrollTop-i.getElement().offsetHeight}},s.prototype.updateGanttAreaCursor=function(n){var i=u.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=n?i:"default"},s})();d.GanttMovingHelper=f},6958:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaStateController=void 0;var u=l(8900),h=l(6907),f=l(3714),s=l(5098),n=l(2449),i=l(5376),t=l(4264),r=l(9155),o=l(125),c=l(1404),g=l(6591),v=l(2395),m=l(7295),_=(function(){function T(b,k,D){var E=this;this.position=new u.Point(-1,-1),this._pointers={},this._listener=b,this._listener.setHandler(c.TaskAreaStateEventNames.STATE_EXIT,(function(){E.switchToDefaultState()})),this._listener.setHandler(c.TaskAreaStateEventNames.GET_POINTERS_INFO,(function(A){return E.getPointersInfo(A.triggerEvent)})),this._taskArea=k,this._cellSize=D,this.switchToDefaultState()}return T.prototype.onKeyDown=function(b){this._state.onKeyDown(b)},T.prototype.onScroll=function(b){this._state.onScroll(b)},T.prototype.onContextMenu=function(b){this._state.onContextMenu(b)},T.prototype.onMouseWheel=function(b){b.ctrlKey&&(b.preventDefault(),b.stopPropagation(),this.switchState(g.TaskAreaZoomState)),this._state.onMouseWheel(b)},Object.defineProperty(T.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),T.prototype.onTaskPointerEnter=function(b){this._state.onTaskPointerEnter(b)},T.prototype.onTaskAreaPointerLeave=function(b){this._state.onTaskAreaLeave(b)},T.prototype.onDocumentPointerCancel=function(b){this._clearPointerInfo(b)},T.prototype.onDocumentPointerDown=function(b){this._updatePinterInfo(b),this.toggleStateOnPointerDown(b),this._state.onDocumentPointerDown(b)},T.prototype.onDocumentPointerMove=function(b){this._updatePinterInfo(b),this.toggleStateOnPointerMove(b),this._state.onDocumentPointerMove(b)},T.prototype.onDocumentPointerUp=function(b){this._clearPointerInfo(b),this._state.onDocumentPointerUp(b)},T.prototype.onTaskTouchStart=function(b){this._state.onTaskTouchStart(b)},T.prototype.onTouchStart=function(b){this.toggleStateOnPointerDown(b),this._state.onTouchStart(b)},T.prototype.onTouchEnd=function(b){this._state.onTouchEnd(b)},T.prototype.onTouchMove=function(b){this.toggleStateOnPointerMove(b),this._state.onTouchMove(b)},T.prototype.onClick=function(b){this._state.onClick(b)},T.prototype.onDblClick=function(b){this._state.onDblClick(b)},T.prototype.onTaskAreaMouseLeave=function(b){this._state.onTaskAreaLeave(b)},T.prototype.onTaskElementHover=function(b){this._state.onTaskHover(b)},T.prototype.onTaskElementLeave=function(b){this._state.onTaskLeave(b)},T.prototype.onMouseUp=function(b){this._state.onMouseUp(b)},T.prototype.onMouseMove=function(b){this._state.onMouseMove(b)},T.prototype.onMouseDown=function(b){switch(this.getTaskAreaEventSource(b)){case n.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(b);break;case n.TaskAreaEventSource.TaskEdit_Frame:this.switchState(m.TaskMoveState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(v.TaskEditState);break;case n.TaskAreaEventSource.TaskEdit_DependencyStart:case n.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(t.TaskAreaDependencyState)}this._state.onMouseDown(b)},Object.defineProperty(T.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),T.prototype.switchToDefaultState=function(){this._state=new i.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},T.prototype.switchState=function(b){this._state instanceof b||(this._state&&this._state.finish(),this._state=new b(this._listener,this.taskArea,this._cellSize),this._state.start())},T.prototype.processMouseDownOnTaskArea=function(b){f.EvtUtils.isLeftButtonPressed(b)&&!r.TaskAreaDomHelper.isConnectorLine(b)&&this.switchState(o.TaskAreaScrollState)},T.prototype.toggleStateOnPointerDown=function(b){var k=this.toggleStateWhenMultiOrOutsideTouch(b);if(this.position=new u.Point(f.EvtUtils.getEventX(b),f.EvtUtils.getEventY(b)),!k&&this._canStartDrag(b))switch(this.getTaskAreaEventSource(b)){case n.TaskAreaEventSource.TaskEdit_DependencyStart:case n.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(t.TaskAreaDependencyState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(v.TaskEditState)}},T.prototype.toggleStateOnPointerMove=function(b){var k=this.toggleStateWhenMultiOrOutsideTouch(b),D=Math.abs(this.position.x-f.EvtUtils.getEventX(b))>1||Math.abs(this.position.y-f.EvtUtils.getEventY(b))>1;if(!k&&D&&this._canStartDrag(b)&&this._state instanceof i.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(b)){case n.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(b)?this.switchState(m.TaskMoveState):this.switchState(o.TaskAreaScrollState);break;case n.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(o.TaskAreaScrollState):this.switchState(m.TaskMoveState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(v.TaskEditState)}},T.prototype.toggleStateWhenMultiOrOutsideTouch=function(b){var k=this._getActivePointersCount(b),D=!this.isInTaskArea(b),E=k>=2||D;return k>2||D?this.switchState(i.TaskAreaDefaultState):k===2&&this.switchState(g.TaskAreaZoomState),E},T.prototype.checkEventInTaskEditFrameArea=function(b){var k,D,E=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!E)return!1;var A=(b==null?void 0:b.clientX)||((k=b==null?void 0:b.touches[0])===null||k===void 0?void 0:k.clientX),F=(b==null?void 0:b.clientY)||((D=b==null?void 0:b.touches[0])===null||D===void 0?void 0:D.clientY),R=E.getBoundingClientRect();return A>=R.left&&A<=R.left+R.width&&F>=R.top&&F<=R.top+R.height},T.prototype.isTaskUpdateDisabled=function(){return this._taskArea.getAttribute("task-edit-enabled")==="false"},T.prototype.isInTaskArea=function(b){return h.DomUtils.isItParent(this._taskArea,f.EvtUtils.getEventSource(b))},T.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(s.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},T.prototype._updatePinterInfo=function(b){var k=b.pointerId;this._pointers[k]={pageX:b.pageX,pageY:b.pageY,pointerType:b.pointerType}},T.prototype._clearPointerInfo=function(b){var k=b.pointerId;delete this._pointers[k]},T.prototype.isTouchEvent=function(b){return r.TaskAreaDomHelper.isTouchEvent(b)},T.prototype.isPointerEvent=function(b){return r.TaskAreaDomHelper.isPointerEvent(b)},T.prototype._getActivePointersCount=function(b){var k=this;return this.isTouchEvent(b)?b.touches.length:Object.keys(this._pointers).filter((function(D){return k._pointers[D].pointerType===b.pointerType})).length},T.prototype.getPointersInfo=function(b){var k=this,D=b==null?void 0:b.pointerType,E=Object.keys(this._pointers).map((function(A){return k._pointers[A]}));return D&&(E=E.filter((function(A){return A.pointerType===D}))),E},T.prototype._canStartDrag=function(b){return!(this._getActivePointersCount(b)>1)&&(!r.TaskAreaDomHelper.isMousePointer(b)||b.buttons===1)&&!r.TaskAreaDomHelper.isConnectorLine(b)},T.prototype.getTaskAreaEventSource=function(b){return r.TaskAreaDomHelper.getEventSource(f.EvtUtils.getEventSource(b))},T})();d.TaskAreaStateController=_},5376:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaDefaultState=void 0;var u=l(655),h=l(3714),f=l(9155),s=l(5867),n=l(1404),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(r,t),r.prototype.finish=function(){this.clearTimers(),this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},r.prototype.onMouseDownInternal=function(o){this.onPointerDownBase(o)},r.prototype.onDocumentPointerDownInternal=function(o){this.onPointerDownBase(o)},r.prototype.onDocumentPointerUpInternal=function(o){this.onPointerUpBase(o)},r.prototype.onDocumentPointerMoveInternal=function(o){this.clearTimers()},r.prototype.onTouchStartInternal=function(o){this.onPointerDownBase(o)},r.prototype.onTouchEndInternal=function(o){this.onPointerUpBase(o)},r.prototype.onTouchMoveInternal=function(o){this.clearTimers()},r.prototype.onPointerDownBase=function(o){var c=this;o.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(o),(this.isPointerEvent(o)?f.TaskAreaDomHelper.isMousePointer(o):this.isMouseEvent(o))?this.changeSelectionOnTouchDown(o):(setTimeout((function(){f.TaskAreaDomHelper.isMousePointer(o)||c.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE,o),c.changeSelectionOnTouchDown(o)}),0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout((function(){return c.showContextMenuOnTouchDown(o)}),r.defaultContextMenuTimeout))},r.prototype.onPointerUpBase=function(o){var c=this;if(clearTimeout(this._contextMenuTimer),o.preventDefault(),this.canToEmulateClick(o)){var g=this.getClickedRowIndex(o),v=new Date;if(this._lastEmulatedClickTime)v.getTime()-this._lastEmulatedClickTime.getTime()<r.defaultDblClickTimeout&&(this.raiseEvent(n.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,o,g),delete this._lastEmulatedClickTime);else{var m=!this.raiseEvent(n.TaskAreaStateEventNames.TASK_AREA_CLICK,o,g);clearTimeout(this._dblClickClearTimer),f.TaskAreaDomHelper.isMousePointer(o)&&this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE,o),m||(this._lastEmulatedClickTime=v,this._dblClickClearTimer=setTimeout((function(){delete c._lastEmulatedClickTime}),r.defaultDblClickClearTimeout))}}},r.prototype.canToEmulateClick=function(o){var c=!f.TaskAreaDomHelper.isConnectorLine(o)&&this.getClickedRowIndex(o)===this._lastTouchRowIndex;return c&&f.TaskAreaDomHelper.isMousePointer(o)&&c&&(c=o.button!==2),c},r.prototype.changeSelectionOnTouchDown=function(o){var c=f.TaskAreaDomHelper.isConnectorLine(o);c||this.raiseTaskSelection(o,this.getClickedRowIndex(o)),this.raiseDependencySelection(o,c?h.EvtUtils.getEventSource(o).getAttribute("dependency-id"):null)},r.prototype.showContextMenuOnTouchDown=function(o){var c=f.TaskAreaDomHelper.isConnectorLine(o);this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_SHOW,o,this.getClickedRowIndex(o),{type:c?"dependency":"task"})},r.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},r.defaultContextMenuTimeout=3e3,r.defaultDblClickTimeout=500,r.defaultDblClickClearTimeout=r.defaultDblClickTimeout+100,r})(s.TaskAreaStateBase);d.TaskAreaDefaultState=i},4264:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaDependencyState=d.dependencyMap=void 0;var u=l(655),h=l(8900),f=l(6907),s=l(3714),n=l(5950),i=l(2449),t=l(9155),r=l(5867),o=l(1404);d.dependencyMap=[],d.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyStart]=[],d.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],d.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyStart][i.TaskAreaEventSource.Successor_DependencyStart]=n.DependencyType.SS,d.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyStart][i.TaskAreaEventSource.Successor_DependencyFinish]=n.DependencyType.SF,d.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyFinish][i.TaskAreaEventSource.Successor_DependencyStart]=n.DependencyType.FS,d.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyFinish][i.TaskAreaEventSource.Successor_DependencyFinish]=n.DependencyType.FF;var c=(function(g){function v(){return g!==null&&g.apply(this,arguments)||this}return u.__extends(v,g),v.prototype.onMouseUp=function(m){this.onDependencyEndByMouse(m)},v.prototype.onMouseDownInternal=function(m){this.onDependencyStart(m)},v.prototype.onMouseMoveInternal=function(m){this.onDependencyMoveStep(m)},v.prototype.onTouchStartInternal=function(m){this.onDependencyStart(m)},v.prototype.onTouchEndInternal=function(m){this.onDependencyEndByTouch(m)},v.prototype.onTouchMoveInternal=function(m){this.onDependencyMoveStep(m)},v.prototype.onDocumentPointerDownInternal=function(m){this.onDependencyStart(m)},v.prototype.onDocumentPointerUpInternal=function(m){this.onDependencyEndByTouch(m)},v.prototype.onDocumentPointerMoveInternal=function(m){this.onDependencyMoveStep(m)},v.prototype.onDependencyStart=function(m){var _=s.EvtUtils.getEventSource(m);this.source=t.TaskAreaDomHelper.getEventSource(_);var T=this.getRelativePos(new h.Point(f.DomUtils.getAbsolutePositionX(_)+_.clientWidth/2,f.DomUtils.getAbsolutePositionY(_)+_.clientHeight/2));this.raiseEvent(o.TaskAreaStateEventNames.DEPENDENCY_START,m,null,{pos:T})},v.prototype.onDependencyMoveStep=function(m){m.preventDefault();var _=this.getRelativePos(new h.Point(s.EvtUtils.getEventX(m),s.EvtUtils.getEventY(m)));this.raiseEvent(o.TaskAreaStateEventNames.DEPENDENCY_PROCESS,m,this.getClickedRowIndex(m),{pos:_})},v.prototype.onDependencyEndByMouse=function(m){var _=t.TaskAreaDomHelper.getEventSource(s.EvtUtils.getEventSource(m)),T=_===i.TaskAreaEventSource.Successor_DependencyStart||_===i.TaskAreaEventSource.Successor_DependencyFinish?d.dependencyMap[this.source][_]:null;this.processEndDependency(m,T)},v.prototype.onDependencyEndByTouch=function(m){var _=this.raiseEvent(o.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,m),T=this.getRelativePos(_.successorStart),b=this.getRelativePos(_.successorFinish),k=this.getRelativePos(new h.Point(s.EvtUtils.getEventX(m),s.EvtUtils.getEventY(m))),D=this.isTouchNearby(k,T)?i.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(k,b)?i.TaskAreaEventSource.Successor_DependencyFinish:null,E=D===i.TaskAreaEventSource.Successor_DependencyStart||D===i.TaskAreaEventSource.Successor_DependencyFinish?d.dependencyMap[this.source][D]:null;this.processEndDependency(m,E)},v.prototype.onTaskAreaLeaveInternal=function(m){this.processEndDependency(m,null)},v.prototype.processEndDependency=function(m,_){this.raiseEvent(o.TaskAreaStateEventNames.DEPENDENCY_END,m,null,{type:_}),this.raiseEvent(o.TaskAreaStateEventNames.STATE_EXIT,m)},v.prototype.isTouchNearby=function(m,_){return Math.abs(_.x-m.x)<=20&&Math.abs(_.y-m.y)<=20},v})(r.TaskAreaStateBase);d.TaskAreaDependencyState=c},9155:(w,d,l)=>{var u;Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaDomHelper=void 0;var h=l(6907),f=l(3714),s=l(5098),n=l(2449),i=l(1855),t=(function(){function r(){}return r.getEventSource=function(o){var c,g=(o.nodeType===((c=window==null?void 0:window.Node)===null||c===void 0?void 0:c.ELEMENT_NODE)?o:o.parentNode).classList[0];return r.classToSource[g]||n.TaskAreaEventSource.TaskArea},r.isConnectorLine=function(o){var c=f.EvtUtils.getEventSource(o);return h.DomUtils.hasClassName(c,i.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||h.DomUtils.hasClassName(c,i.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},r.isTaskElement=function(o){var c=f.EvtUtils.getEventSource(o),g=r.classToSource[c.classList[0]];return g===n.TaskAreaEventSource.TaskEdit_Frame||g===n.TaskAreaEventSource.TaskEdit_Progress||g===n.TaskAreaEventSource.TaskEdit_Start||g===n.TaskAreaEventSource.TaskEdit_End||g===n.TaskAreaEventSource.TaskEdit_DependencyStart||g===n.TaskAreaEventSource.TaskEdit_DependencyFinish},r.isMouseEvent=function(o){return o instanceof MouseEvent},r.isTouchEvent=function(o){return window.TouchEvent&&o instanceof TouchEvent},r.isPointerEvent=function(o){return window.PointerEvent&&o instanceof PointerEvent},r.isMousePointer=function(o){return this.isPointerEvent(o)&&o.pointerType==="mouse"},r.classToSource=((u={})[s.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=n.TaskAreaEventSource.TaskEdit_Progress,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_START]=n.TaskAreaEventSource.TaskEdit_Start,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_END]=n.TaskAreaEventSource.TaskEdit_End,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=n.TaskAreaEventSource.TaskEdit_Frame,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=n.TaskAreaEventSource.TaskEdit_DependencyStart,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=n.TaskAreaEventSource.TaskEdit_DependencyFinish,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=n.TaskAreaEventSource.Successor_DependencyStart,u[s.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=n.TaskAreaEventSource.Successor_DependencyFinish,u),r})();d.TaskAreaDomHelper=t},125:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaScrollState=void 0;var u=l(655),h=l(5867),f=l(1404),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t._isStarted=!1,t}return u.__extends(i,n),i.prototype.finish=function(){this.raiseEvent(f.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},i.prototype.onMouseUp=function(t){this.onEnd(t)},i.prototype.onMouseDownInternal=function(t){this.onBeforeStart(t)},i.prototype.onMouseMoveInternal=function(t){this.onMove(t)},i.prototype.onDocumentPointerUpInternal=function(t){this.onEnd(t)},i.prototype.onDocumentPointerMoveInternal=function(t){this.onMoveByPointer(t)},i.prototype.onTouchEndInternal=function(t){this.onEnd(t)},i.prototype.onTouchMoveInternal=function(t){this.onMoveByPointer(t)},i.prototype.onBeforeStart=function(t){t.preventDefault(),this.raiseDependencySelection(t,null),this.raiseEvent(f.TaskAreaStateEventNames.TASK_EDIT_END,t),this.raiseEvent(f.TaskAreaStateEventNames.TASK_AREA_START_MOVE,t),this._isStarted=!0},i.prototype.onMoveByPointer=function(t){this._isStarted?this.onMove(t):this.onBeforeStart(t)},i.prototype.onMove=function(t){t.preventDefault(),this.raiseEvent(f.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,t)},i.prototype.onEnd=function(t){t.preventDefault(),this.raiseEvent(f.TaskAreaStateEventNames.TASK_AREA_END_MOVE,t),this.raiseEvent(f.TaskAreaStateEventNames.STATE_EXIT,t),this._isStarted=!1},i})(h.TaskAreaStateBase);d.TaskAreaScrollState=s},5867:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaStateBase=void 0;var u=l(9279),h=l(8900),f=l(6907),s=l(3714),n=l(2153),i=l(3461),t=l(9155),r=l(1404),o=(function(){function c(g,v,m){this.position=new h.Point(-1,-1),this.isCursorInArea=!1,this._listener=g,this._taskArea=v,this._cellSize=m}return c.prototype.start=function(){},c.prototype.finish=function(){},c.prototype.isTouchEvent=function(g){return t.TaskAreaDomHelper.isTouchEvent(g)},c.prototype.isPointerEvent=function(g){return t.TaskAreaDomHelper.isPointerEvent(g)},c.prototype.isMouseEvent=function(g){return t.TaskAreaDomHelper.isMouseEvent(g)},c.prototype.onMouseWheel=function(g){},c.prototype.onScroll=function(g){this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_SCROLL)},c.prototype.onKeyDown=function(g){this.isCursorInArea&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,g,null,{code:this.getShortcutCode(g)})},c.prototype.onContextMenu=function(g){var v=this.getClickedRowIndex(g),m=t.TaskAreaDomHelper.isConnectorLine(g);m||this.raiseTaskSelection(g,v),g.stopPropagation(),g.preventDefault(),u.Browser.WebKitFamily&&(g.returnValue=!1),this.raiseEvent(r.TaskAreaStateEventNames.CONTEXTMENU_SHOW,g,v,{type:m?"dependency":"task"})},c.prototype.onTaskPointerEnter=function(g){this.onTaskPointerEnterBase(g)},c.prototype.onDocumentPointerMove=function(g){this.processPointerMove(g)},c.prototype.onDocumentPointerDown=function(g){this.processPointerDown(g)},c.prototype.onDocumentPointerUp=function(g){this.processPointerUp(g)},c.prototype.onTaskTouchStart=function(g){this.onTaskPointerEnterBase(g)},c.prototype.onTouchMove=function(g){this.processPointerMove(g)},c.prototype.onTouchStart=function(g){this.processPointerDown(g)},c.prototype.onTouchEnd=function(g){this.processPointerUp(g)},c.prototype.onMouseDown=function(g){this.processPointerDown(g)},c.prototype.onMouseUp=function(g){},c.prototype.onMouseMove=function(g){this.processPointerMove(g)},c.prototype.onTaskHover=function(g){this.onTaskPointerEnterBase(g)},c.prototype.onTaskLeave=function(g){this.raiseEvent(r.TaskAreaStateEventNames.TASK_LEAVE,g,this.getClickedRowIndex(g))},c.prototype.onClick=function(g){var v=this.getClickedRowIndex(g);this.raiseTaskSelection(g,v),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_CLICK,g,v)},c.prototype.onDblClick=function(g){g.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,g,this.getClickedRowIndex(g))},c.prototype.onTaskAreaLeave=function(g){(!this.isPointerEvent(g)||t.TaskAreaDomHelper.isMousePointer(g))&&(this.isCursorInArea=!1,this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,g)),this.onTaskAreaLeaveInternal(g)},c.prototype.onTaskPointerEnterBase=function(g){this.isTouchEvent(g)||this.isPointerEvent(g)||g.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_START,g,this.getClickedRowIndex(g))},c.prototype.processPointerDown=function(g){var v=this.isTouchEvent(g),m=this.isPointerEvent(g);(v||m)&&this.checkAndProcessTouchOutsideArea(g)||(this.position=new h.Point(s.EvtUtils.getEventX(g),s.EvtUtils.getEventY(g)),(v||m)&&g.preventDefault(),v?this.onTouchStartInternal(g):m?this.onDocumentPointerDownInternal(g):this.onMouseDownInternal(g))},c.prototype.processPointerMove=function(g){var v,m=this.isTouchEvent(g),_=this.isPointerEvent(g);(v=this.position)!==null&&v!==void 0||(this.position=new h.Point(s.EvtUtils.getEventX(g),s.EvtUtils.getEventY(g)));var T=Math.abs(this.position.x-s.EvtUtils.getEventX(g))>2||Math.abs(this.position.y-s.EvtUtils.getEventY(g))>2;!((m||_)&&this.checkAndProcessTouchOutsideArea(g))&&T&&((m||_)&&g.preventDefault(),this.isTouchEvent(g)?this.onTouchMoveInternal(g):this.isPointerEvent(g)?this.onDocumentPointerMoveInternal(g):(this.isCursorInArea=!0,this.onMouseMoveInternal(g)))},c.prototype.processPointerUp=function(g){this.checkAndProcessTouchOutsideArea(g)||(g.preventDefault(),this.isTouchEvent(g)?this.onTouchEndInternal(g):this.onDocumentPointerUpInternal(g))},c.prototype.onMouseDownInternal=function(g){},c.prototype.onMouseMoveInternal=function(g){},c.prototype.onDocumentPointerUpInternal=function(g){},c.prototype.onDocumentPointerDownInternal=function(g){},c.prototype.onDocumentPointerMoveInternal=function(g){},c.prototype.onTouchStartInternal=function(g){},c.prototype.onTouchEndInternal=function(g){},c.prototype.onTouchMoveInternal=function(g){},c.prototype.onTaskAreaLeaveInternal=function(g){},c.prototype.checkAndProcessTouchOutsideArea=function(g){var v=!this.isInTaskArea(g);return v&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,g),this.isCursorInArea=!v,v},c.prototype.raiseEvent=function(g,v,m,_){var T=new i.TaskAreaEventArgs(g,v,m,_),b=this._listener.getHandler(g);return b&&b(T)},c.prototype.raiseDependencySelection=function(g,v){this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_SELECTION,g,null,{key:v})},c.prototype.raiseTaskSelection=function(g,v){f.DomUtils.isItParent(this._taskArea,s.EvtUtils.getEventSource(g))&&!t.TaskAreaDomHelper.isConnectorLine(g)&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_SELECTION,g,v)},c.prototype.getClickedRowIndex=function(g){if(!g)return-1;var v=s.EvtUtils.getEventY(g)-f.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(v/this._cellSize.height)},c.prototype.getRelativePos=function(g){var v=f.DomUtils.getAbsolutePositionX(this._taskArea),m=f.DomUtils.getAbsolutePositionY(this._taskArea);return new h.Point(g.x-v,g.y-m)},c.prototype.isInTaskArea=function(g){return f.DomUtils.isItParent(this._taskArea,s.EvtUtils.getEventSource(g))},c.prototype.getShortcutCode=function(g){var v=n.KeyUtils.getEventKeyCode(g),m=0;return g.altKey&&(m|=n.ModifierKey.Alt),g.ctrlKey&&(m|=n.ModifierKey.Ctrl),g.shiftKey&&(m|=n.ModifierKey.Shift),g.metaKey&&u.Browser.MacOSPlatform&&(m|=n.ModifierKey.Meta),m|v},c})();d.TaskAreaStateBase=o},1404:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaStateEventNames=void 0;var l=(function(){function u(){}return u.TASK_AREA_CLICK="taskAreaClick",u.TASK_AREA_DBLCLICK="taskAreaDblClick",u.TASK_AREA_SCROLL="taskAreaScroll",u.TASK_AREA_START_MOVE="taskAreaStartMove",u.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",u.TASK_AREA_END_MOVE="taskAreaEndMove",u.TASK_AREA_ZOOM_IN="taskAreaZoomIn",u.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",u.CONTEXTMENU_SHOW="contextMenuShow",u.CONTEXTMENU_HIDE="contextMenuHide",u.DEPENDENCY_SELECTION="dependencySelection",u.STATE_EXIT="stateExit",u.TASK_SELECTION="taskSelection",u.TASK_EDIT_START="taskEditStart",u.TASK_EDIT_END="taskEditEnd",u.TASK_LEAVE="taskLeave",u.TASK_PROCESS_MOVE="taskProcessMove",u.TASK_END_MOVE="taskEndMove",u.TASK_PROCESS_PROGRESS="taskProcessProgress",u.TASK_END_PROGRESS="taskEndProgress",u.TASK_PROCESS_START="taskProcessStart",u.TASK_CONFIRM_START="taskConfirmStart",u.TASK_PROCESS_END="taskProcessEnd",u.TASK_CONFIRM_END="taskConfirmEnd",u.GET_DEPENDENCY_POINTS="getDependencyPoints",u.DEPENDENCY_START="dependencyStart",u.DEPENDENCY_PROCESS="dependencyProcess",u.DEPENDENCY_END="dependencyEnd",u.TASK_AREA_KEY_DOWN="taskAreaKeyDown",u.GET_POINTERS_INFO="getPointersInfo",u.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",u})();d.TaskAreaStateEventNames=l},6591:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaZoomState=void 0;var u=l(655),h=l(8900),f=l(3714),s=l(5596),n=l(5867),i=l(1404),t=(function(r){function o(){var c=r!==null&&r.apply(this,arguments)||this;return c._isInZooming=!1,c}return u.__extends(o,r),o.prototype.onMouseWheel=function(c){c.ctrlKey&&(c.preventDefault(),c.stopPropagation(),this._isInZooming||this.processZoom(c,f.EvtUtils.getWheelDelta(c)>0,50))},o.prototype.onDocumentPointerUpInternal=function(c){this.onEndZoom(c)},o.prototype.onDocumentPointerMoveInternal=function(c){this.onTouchZoom(c)},o.prototype.onTouchEndInternal=function(c){this.onEndZoom(c)},o.prototype.onTouchMoveInternal=function(c){this.onTouchZoom(c)},o.prototype.onTouchZoom=function(c){var g;if(c.stopPropagation(),c.preventDefault(),!this._isInZooming){var v=this.getTouchDistance(c);(g=this.prevDistance)!==null&&g!==void 0||(this.prevDistance=v);var m=this.prevDistance-v;Math.abs(m)>3&&(this.processZoom(c,m>0,1e3),this.prevDistance=v)}},o.prototype.processZoom=function(c,g,v){var m=this;this._isInZooming=!0,setTimeout((function(){m._isInZooming=!1}),v);var _=g?i.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:i.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(_,c,null,{leftPos:this.getLeftPosition(c)})},o.prototype.onEndZoom=function(c){this.prevDistance=null,this.raiseEvent(i.TaskAreaStateEventNames.STATE_EXIT,c)},o.prototype.getTouchDistance=function(c){var g=this.GetTouchPoints(c);return this.getDistance(g[0],g[1])},o.prototype.GetTouchPoints=function(c){var g,v,m,_;if(this.isTouchEvent(c)){var T=c.touches;return[new h.Point(T[0].pageX,T[0].pageY),new h.Point(T[1].pageX,T[1].pageY)]}var b=this.raiseEvent(i.TaskAreaStateEventNames.GET_POINTERS_INFO,c);return[new h.Point((g=b[0])===null||g===void 0?void 0:g.pageX,(v=b[0])===null||v===void 0?void 0:v.pageY),new h.Point((m=b[1])===null||m===void 0?void 0:m.pageX,(_=b[1])===null||_===void 0?void 0:_.pageY)]},o.prototype.getDistance=function(c,g){return s.Metrics.euclideanDistance(c,g)},o.prototype.getLeftPosition=function(c){var g=0;return this.isTouchEvent(c)||this.isPointerEvent(c)?g=this.getZoomMiddlePoint(c).x:this.isMouseEvent(c)&&(g=this.getMouseZoomLeftPos(c)),g},o.prototype.getMouseZoomLeftPos=function(c){var g=this.raiseEvent(i.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return f.EvtUtils.getEventX(c)-g.x},o.prototype.getZoomMiddlePoint=function(c){var g=this.raiseEvent(i.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),v=this.GetTouchPoints(c),m=this.convertScreenToChartCoordinates(v[0],g),_=this.convertScreenToChartCoordinates(v[1],g);return new h.Point((m.x+_.x)/2,(m.y+_.y)/2)},o.prototype.convertScreenToChartCoordinates=function(c,g){return new h.Point(c.x-g.x,c.y-g.y)},o})(n.TaskAreaStateBase);d.TaskAreaZoomState=t},6262:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskDragBaseState=void 0;var u=l(655),h=l(8900),f=l(3714),s=l(5867),n=l(1404),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(r,t),r.prototype.onMouseDownInternal=function(o){this.onStart(o)},r.prototype.onMouseUp=function(o){this.onEnd(o)},r.prototype.onMouseMoveInternal=function(o){this.onDrag(o)},r.prototype.onTouchStartInternal=function(o){this.onStart(o)},r.prototype.onTouchEndInternal=function(o){this.onEnd(o)},r.prototype.onTouchMoveInternal=function(o){this.onDrag(o)},r.prototype.onDocumentPointerDownInternal=function(o){this.onStart(o)},r.prototype.onDocumentPointerUpInternal=function(o){this.onEnd(o)},r.prototype.onDocumentPointerMoveInternal=function(o){this.onDrag(o)},r.prototype.onStart=function(o){this.currentPosition=new h.Point(f.EvtUtils.getEventX(o),f.EvtUtils.getEventY(o)),this.raiseDependencySelection(o,null),this.onStartInternal(o)},r.prototype.onDrag=function(o){var c;o.preventDefault();var g=new h.Point(f.EvtUtils.getEventX(o),f.EvtUtils.getEventY(o));(c=this.currentPosition)!==null&&c!==void 0||(this.currentPosition=g),this.onDragInternal(g),this.currentPosition=g},r.prototype.onEnd=function(o){this.onEndInternal(o),this.raiseEvent(n.TaskAreaStateEventNames.STATE_EXIT,o)},r.prototype.onStartInternal=function(o){},r.prototype.onEndInternal=function(o){},r.prototype.onDragInternal=function(o){},r.prototype.finish=function(){this.raiseEvent(n.TaskAreaStateEventNames.TASK_EDIT_END)},r})(s.TaskAreaStateBase);d.TaskDragBaseState=i},2395:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditState=void 0;var u=l(655),h=l(3714),f=l(2449),s=l(9155),n=l(1404),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return u.__extends(r,t),r.prototype.onStartInternal=function(o){var c;(c=this._source)!==null&&c!==void 0||(this._source=s.TaskAreaDomHelper.getEventSource(h.EvtUtils.getEventSource(o)))},r.prototype.onEndInternal=function(o){this.raiseEvent(this.getEventOnEndKey(),o)},r.prototype.onDragInternal=function(o){var c=this.getRelativePos(o);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:c})},r.prototype.getEventOnDragKey=function(){switch(this._source){case f.TaskAreaEventSource.TaskEdit_Start:return n.TaskAreaStateEventNames.TASK_PROCESS_START;case f.TaskAreaEventSource.TaskEdit_End:return n.TaskAreaStateEventNames.TASK_PROCESS_END;case f.TaskAreaEventSource.TaskEdit_Progress:return n.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},r.prototype.getEventOnEndKey=function(){switch(this._source){case f.TaskAreaEventSource.TaskEdit_Start:return n.TaskAreaStateEventNames.TASK_CONFIRM_START;case f.TaskAreaEventSource.TaskEdit_End:return n.TaskAreaStateEventNames.TASK_CONFIRM_END;case f.TaskAreaEventSource.TaskEdit_Progress:return n.TaskAreaStateEventNames.TASK_END_PROGRESS}},r})(l(6262).TaskDragBaseState);d.TaskEditState=i},7295:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskMoveState=void 0;var u=l(655),h=l(1404),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.prototype.onEndInternal=function(i){this.raiseEvent(h.TaskAreaStateEventNames.TASK_END_MOVE,i)},n.prototype.onDragInternal=function(i){this.raiseEvent(h.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:i.x-this.currentPosition.x})||this.raiseEvent(h.TaskAreaStateEventNames.STATE_EXIT)},n})(l(6262).TaskDragBaseState);d.TaskMoveState=f},3461:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaEventArgs=void 0;var u=l(2491),h=function(f,s,n,i){this.rowIndex=-1,this.info={},this.eventName=f,this.triggerEvent=s,(0,u.isDefined)(n)&&(this.rowIndex=n),i&&(this.info=i)};d.TaskAreaEventArgs=h},8269:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaEventsListener=void 0;var u=l(8900),h=l(2491),f=l(6907),s=l(3714),n=l(2153),i=l(3336),t=l(1404),r=(function(){function o(c){this._owner=c}return Object.defineProperty(o.prototype,"taskEditController",{get:function(){var c;return(c=this._owner)===null||c===void 0?void 0:c.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderHelper",{get:function(){var c;return(c=this._owner)===null||c===void 0?void 0:c.renderHelper},enumerable:!1,configurable:!0}),o.prototype.getHandler=function(c){return this.handlers[c]},o.prototype.setHandler=function(c,g){this.handlers[c]=g},Object.defineProperty(o.prototype,"handlers",{get:function(){var c;return(c=this._handlers)!==null&&c!==void 0||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),o.prototype.createTaskAreaEventHandlers=function(){var c={};return c[t.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),c[t.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),c[t.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),c[t.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),c[t.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),c[t.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),c[t.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),c[t.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),c[t.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),c[t.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),c[t.TaskAreaStateEventNames.STATE_EXIT]=function(){},c},o.prototype.taskAreaClickHandler=function(c){return this._owner.onTaskAreaClick(c.rowIndex,c.triggerEvent)},o.prototype.taskAreaDblClickHandler=function(c){this._owner.onTaskAreaDblClick(c.rowIndex,c.triggerEvent)},o.prototype.taskSelectionHandler=function(c){this._owner.onTaskSelectionChanged(c.rowIndex,c.triggerEvent)},o.prototype.taskAreaContextMenuShowHandler=function(c){this._owner.onTaskAreaContextMenu(c.rowIndex,c.triggerEvent,c.info.type)},o.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},o.prototype.taskAreaScrollHandler=function(c){this._owner.updateView()},o.prototype.dependencySelectionHandler=function(c){var g=c.info.key,v=this.taskEditController.dependencyId;(g!==v||!g&&(0,h.isDefined)(v))&&this._owner.selectDependency(g)},Object.defineProperty(o.prototype,"ganttMovingHelper",{get:function(){var c;return(c=this._ganttMovingHelper)!==null&&c!==void 0||(this._ganttMovingHelper=new i.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),o.prototype.taskAreaStartMoveHandler=function(c){this.ganttMovingHelper.startMoving(c.triggerEvent)},o.prototype.taskAreaProcessMoveHandler=function(c){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(c.triggerEvent),c.triggerEvent.preventDefault())},o.prototype.taskAreaEndMoveHandler=function(c){this.ganttMovingHelper.onMouseUp(c.triggerEvent)},o.prototype.taskAreaZoomInHandler=function(c){this._owner.zoomIn(c.info.leftPos)},o.prototype.taskAreaZoomOutHandler=function(c){this._owner.zoomOut(c.info.leftPos)},o.prototype.getCoordinatesRefPoint=function(c){var g=f.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),v=f.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new u.Point(g,v)},o.prototype.taskEditStartHandler=function(c){this.taskEditController.show(c.rowIndex),this.taskEditController.showTaskInfo(s.EvtUtils.getEventX(c.triggerEvent))},o.prototype.taskLeaveHandler=function(c){this.taskEditController.cancel()},o.prototype.taskEditEndHandler=function(c){this.taskEditController.endEditing()},o.prototype.taskEndMoveHandler=function(c){this.taskEditController.confirmMove()},o.prototype.taskProcessMoveHandler=function(c){var g;return this.taskEditController.processMove((g=c.info.delta)!==null&&g!==void 0?g:0)},o.prototype.taskEndProgressHandler=function(c){this.taskEditController.confirmProgress()},o.prototype.taskProcessProgressHandler=function(c){this.taskEditController.processProgress(c.info.position)},o.prototype.taskProcessStartHandler=function(c){this.taskEditController.processStart(c.info.position)},o.prototype.taskConfirmStartHandler=function(c){this.taskEditController.confirmStart()},o.prototype.taskProcessEndHandler=function(c){this.taskEditController.processEnd(c.info.position)},o.prototype.taskConfirmEndHandler=function(c){this.taskEditController.confirmEnd()},o.prototype.getDependencyPoints=function(c){var g={};return g.successorStart=new u.Point(f.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,f.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),g.successorFinish=new u.Point(f.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,f.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),g},o.prototype.dependencyStartHandler=function(c){this.taskEditController.startDependency(c.info.pos)},o.prototype.dependencyEndHandler=function(c){this.taskEditController.endDependency(c.info.type)},o.prototype.dependencyProcessHandler=function(c){this.taskEditController.processDependency(c.info.pos),this._owner.viewModel.tasks.items[c.rowIndex]&&this.taskEditController.showDependencySuccessor(c.rowIndex)},o.prototype.onTaskAreaKeyDown=function(c){var g=c.info.code;g==(n.ModifierKey.Ctrl|n.KeyCode.Key_z)&&this._owner.history.undo(),g==(n.ModifierKey.Ctrl|n.KeyCode.Key_y)&&this._owner.history.redo(),g==n.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},o})();d.TaskAreaEventsListener=r},3682:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaManager=d.TOUCH_ACTION_NONE=void 0;var u=l(9279),h=l(6907),f=l(3714),s=l(6958);d.TOUCH_ACTION_NONE="dx-gantt-touch-action";var n=(function(){function i(t,r,o){this._eventListener=t,this._taskArea=r,this._cellSize=o,this.attachEvents()}return i.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():u.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},i.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():u.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},i.prototype.attachEventsOnTask=function(t){window.PointerEvent?t==null||t.addEventListener("pointerenter",this.onTaskPointerEnterHandler):u.Browser.TouchUI?t==null||t.addEventListener("touchstart",this.onTaskTouchStartHandler):(t==null||t.addEventListener("mouseenter",this.onTaskMouseEnterHandler),t==null||t.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},i.prototype.detachEventsOnTask=function(t){window.PointerEvent?t==null||t.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):u.Browser.TouchUI?t==null||t.removeEventListener("touchstart",this.onTaskTouchStartHandler):(t==null||t.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),t==null||t.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},i.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(f.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},i.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(f.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},i.prototype.attachPointerEvents=function(){h.DomUtils.addClassName(this.taskArea,d.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},i.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),h.DomUtils.removeClassName(this.taskArea,d.TOUCH_ACTION_NONE)},i.prototype.attachTouchEvents=function(){h.DomUtils.addClassName(this.taskArea,d.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},i.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),h.DomUtils.removeClassName(this.taskArea,d.TOUCH_ACTION_NONE)},i.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},i.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(i.prototype,"stateController",{get:function(){var t;return(t=this._stateController)!==null&&t!==void 0||(this._stateController=new s.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),i.prototype.taskAreaAddEventListener=function(t,r){this.taskArea.addEventListener(t,r)},i.prototype.taskAreaRemoveEventListener=function(t,r){this.taskArea.removeEventListener(t,r)},Object.defineProperty(i.prototype,"onContextMenuHandler",{get:function(){var t,r=this;return(t=this._onContextMenuHandler)!==null&&t!==void 0||(this._onContextMenuHandler=function(o){r.stateController.onContextMenu(o)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseWheelHandler",{get:function(){var t,r=this;return(t=this._onMouseWheelHandler)!==null&&t!==void 0||(this._onMouseWheelHandler=function(o){r.stateController.onMouseWheel(o)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onScrollHandler",{get:function(){var t,r=this;return(t=this._onScrollHandler)!==null&&t!==void 0||(this._onScrollHandler=function(o){r.stateController.onScroll(o)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onKeyDownHandler",{get:function(){var t,r=this;return(t=this._onKeyDownHandler)!==null&&t!==void 0||(this._onKeyDownHandler=function(o){r.stateController.onKeyDown(o)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskPointerEnterHandler",{get:function(){var t,r=this;return(t=this._onTaskPointerEnterHandler)!==null&&t!==void 0||(this._onTaskPointerEnterHandler=function(o){r.stateController.onTaskPointerEnter(o)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var t,r=this;return(t=this._onTaskAreaPointerLeaveHandler)!==null&&t!==void 0||(this._onTaskAreaPointerLeaveHandler=function(o){r.stateController.onTaskAreaPointerLeave(o)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerDownHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerDownHandler)!==null&&t!==void 0||(this._onDocumentPointerDownHandler=function(o){r.stateController.onDocumentPointerDown(o)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerUpHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerUpHandler)!==null&&t!==void 0||(this._onDocumentPointerUpHandler=function(o){r.stateController.onDocumentPointerUp(o)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerCancelHandler)!==null&&t!==void 0||(this._onDocumentPointerCancelHandler=function(o){r.stateController.onDocumentPointerCancel(o)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerMoveHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerMoveHandler)!==null&&t!==void 0||(this._onDocumentPointerMoveHandler=function(o){r.stateController.onDocumentPointerMove(o)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTouchStartHandler",{get:function(){var t,r=this;return(t=this._onTouchStartHandler)!==null&&t!==void 0||(this._onTouchStartHandler=function(o){r.stateController.onTouchStart(o)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTouchEndHandler",{get:function(){var t,r=this;return(t=this._onTouchEndHandler)!==null&&t!==void 0||(this._onTouchEndHandler=function(o){r.stateController.onTouchEnd(o)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTouchMoveHandler",{get:function(){var t,r=this;return(t=this._onTouchMoveHandler)!==null&&t!==void 0||(this._onTouchMoveHandler=function(o){r.stateController.onTouchMove(o)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskTouchStartHandler",{get:function(){var t,r=this;return(t=this._onTaskTouchStartHandler)!==null&&t!==void 0||(this._onTaskTouchStartHandler=function(o){r.stateController.onTaskTouchStart(o)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseClickHandler",{get:function(){var t,r=this;return(t=this._onMouseClickHandler)!==null&&t!==void 0||(this._onMouseClickHandler=function(o){r.stateController.onClick(o)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseDblClickHandler",{get:function(){var t,r=this;return(t=this._onMouseDblClickHandler)!==null&&t!==void 0||(this._onMouseDblClickHandler=function(o){r.stateController.onDblClick(o)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseDownHandler",{get:function(){var t,r=this;return(t=this._onMouseDownHandler)!==null&&t!==void 0||(this._onMouseDownHandler=function(o){r.stateController.onMouseDown(o)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var t,r=this;return(t=this._onTaskAreaMouseLeaveHandler)!==null&&t!==void 0||(this._onTaskAreaMouseLeaveHandler=function(o){r.stateController.onTaskAreaMouseLeave(o)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseMoveHandler",{get:function(){var t,r=this;return(t=this._onMouseMoveHandler)!==null&&t!==void 0||(this._onMouseMoveHandler=function(o){r.stateController.onMouseMove(o)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseUpHandler",{get:function(){var t,r=this;return(t=this._onMouseUpHandler)!==null&&t!==void 0||(this._onMouseUpHandler=function(o){r.stateController.onMouseUp(o)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskMouseEnterHandler",{get:function(){var t,r=this;return(t=this._onTaskMouseEnterHandler)!==null&&t!==void 0||(this._onTaskMouseEnterHandler=function(o){r.stateController.onTaskElementHover(o)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskMouseLeaveHandler",{get:function(){var t,r=this;return(t=this._onTaskMouseLeaveHandler)!==null&&t!==void 0||(this._onTaskMouseLeaveHandler=function(o){r.stateController.onTaskElementLeave(o)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),i.DBLCLICK_INTERVAL=300,i.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",i})();d.TaskAreaManager=n},2366:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GanttView=void 0;var u=l(639),h=l(9279),f=l(7156),s=l(1284),n=l(858),i=l(7880),t=l(9201),r=l(9954),o=l(8695),c=l(6893),g=l(8725),v=l(2491),m=l(3452),_=l(9650),T=l(2978),b=l(1074),k=l(5351),D=l(6353),E=l(9057),A=l(5098),F=l(9640),R=l(8478),x=l(5846),N=l(2449),H=l(1408),G=l(6626),O=l(3714),B=l(6907),W=l(8900),V=l(8269),K=l(4730),X=l(6124),q=(function(){function M(I,P,L){var z=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new D.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=P,this.settings=k.Settings.parse(L),this.initValidationController(),this.renderHelper=new b.RenderHelper(this),this.renderHelper.initMarkup(I),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new f.CommandManager(this),this.barManager=new u.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new g.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout((function(){z.scrollLeftByViewType()}),0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return M.prototype.initGanttViewApi=function(){this.ganttViewApi=new G.GanttViewApi(this)},M.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},M.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},M.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},M.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},M.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,this._updateWithModelReloadLockedCounter===0&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},M.prototype.initValidationController=function(){var I=this,P=x.ValidationControllerSettings.parse({getViewModel:function(){return I.viewModel},getHistory:function(){return I.history},getModelManipulator:function(){return I.modelManipulator},getRange:function(){return I.range},getValidationSettings:function(){return I.settings.validation},updateOwnerInAutoParentMode:function(){I.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return I.isValidateDependenciesRequired()}});this.validationController=new R.ValidationController(P)},M.prototype.initTaskEditController=function(){var I=this,P=F.TaskEditSettings.parse({destroyTemplate:function(L){I.destroyTemplate(L)},formatDate:function(L){return I.getDateFormat(L)},getRenderHelper:function(){return I.renderHelper},getGanttSettings:function(){return I.settings},getViewModel:function(){return I.viewModel},getCommandManager:function(){return I.commandManager},getModelManipulator:function(){return I.modelManipulator},getValidationController:function(){return I.validationController}});this.taskEditController=new A.TaskEditController(P)},Object.defineProperty(M.prototype,"taskAreaEventsListener",{get:function(){var I;return(I=this._taskAreaEventsListener)!==null&&I!==void 0||(this._taskAreaEventsListener=new V.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),M.prototype.initFullScreenModeHelper=function(){var I=this,P=r.FullScreenHelperSettings.parse({getMainElement:function(){return I.getOwnerControlMainElement()},adjustControl:function(){I.adjustOwnerControl()}});this.fullScreenModeHelper=new o.FullScreenModeHelper(P)},M.prototype.getDateRange=function(I,P){var L=this.getVisibleAreaTime(),z=this.settings.startDateRange||t.DateUtils.adjustStartDateByViewType(new Date(I.getTime()-L),this.settings.viewType,this.settings.firstDayOfWeek),ee=this.settings.endDateRange||t.DateUtils.adjustEndDateByViewType(new Date(P.getTime()+L),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&z>ee?ee=z:this.settings.endDateRange&&z>ee&&(z=ee),new n.DateRange(z,ee)},M.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*t.DateUtils.getTickTimeSpan(this.settings.viewType)},M.prototype.zoomIn=function(I){I===void 0&&(I=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(I)},M.prototype.zoomOut=function(I){I===void 0&&(I=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(I)},M.prototype.scrollToDate=function(I){if(I){var P=I instanceof Date?t.DateUtils.getOrCreateUTCDate(I):t.DateUtils.parse(I);this.scrollToDateCore(P,0)}},M.prototype.showDialog=function(I,P,L,z){this.ganttOwner.showDialog(I,P,L,z)},M.prototype.showPopupMenu=function(I){this.ganttOwner.showPopupMenu(I)},M.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},M.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},M.prototype.expandAll=function(){this.ganttOwner.expandAll()},M.prototype.onGanttViewContextMenu=function(I,P,L){return this.ganttOwner.onGanttViewContextMenu(I,P,L)},M.prototype.changeGanttTaskSelection=function(I,P){this.ganttOwner.changeGanttTaskSelection(I,P)},M.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},M.prototype.scrollLeftByViewType=function(){var I=t.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(I,1)},M.prototype.scrollToDateCore=function(I,P){this.renderHelper.setTaskAreaContainerScrollLeftToDate(I,P)},M.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},M.prototype.initializeStripLinesUpdater=function(){var I=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval((function(){I.renderHelper.recreateStripLines()}),Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},M.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},M.prototype.getGanttViewStartDate=function(I){if(!I)return new Date;var P=I.map((function(L){return typeof L.start=="string"?new Date(L.start):L.start})).filter((function(L){return(0,v.isDefined)(L)}));return P.length>0?P.reduce((function(L,z){return z<L?z:L}),P[0]):new Date},M.prototype.getGanttViewEndDate=function(I){if(!I)return new Date;var P=I.map((function(L){return typeof L.end=="string"?new Date(L.end):L.end})).filter((function(L){return(0,v.isDefined)(L)}));return P.length>0?P.reduce((function(L,z){return z>L?z:L}),P[0]):new Date},M.prototype.getTask=function(I){var P=this.getViewItem(I);return P==null?void 0:P.task},M.prototype.getViewItem=function(I){var P;return(P=this.viewModel)===null||P===void 0?void 0:P.items[I]},M.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},M.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},M.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},M.prototype.onBeginUpdateView=function(){this[M.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[M.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},M.prototype.onEndUpdateView=function(){delete this[M.taskAreaScrollTopKey],delete this[M.taskAreaScrollLeftKey],delete this[M.taskTextHeightKey]},Object.defineProperty(M.prototype,"taskAreaContainerScrollTop",{get:function(){var I;return(I=this[M.taskAreaScrollTopKey])!==null&&I!==void 0?I:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"taskAreaContainerScrollLeft",{get:function(){var I;return(I=this[M.taskAreaScrollLeftKey])!==null&&I!==void 0?I:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),M.prototype.processScroll=function(I){this.hideTaskEditControl(),this.renderHelper.processScroll(I)},M.prototype.allowTaskAreaBorders=function(I){return I?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},M.prototype.getScaleItemText=function(I,P){return this.renderHelper.getScaleItemText(I,P)},M.prototype.getTaskText=function(I){return this.renderHelper.getTaskText(I)},M.prototype.rowHasChildren=function(I){var P=this.getViewItem(I);return(P==null?void 0:P.children.length)>0},M.prototype.rowHasSelection=function(I){var P=this.getViewItem(I);return P==null?void 0:P.selected},M.prototype.getAllVisibleTaskIndices=function(I,P){return this.viewModel.getAllVisibleTaskIndices(I,P)},M.prototype.getVisibleDependencyKeysByTaskRange=function(I){if(!this.settings.showDependencies)return[];var P=this.viewModel,L=I.map((function(z){return P.tasks.items[z].internalId}));return P.dependencies.items.filter((function(z){return L.indexOf(z.successorId)>-1||L.indexOf(z.predecessorId)>-1})).map((function(z){return z.internalId}))},M.prototype.getTreeListTableStyle=function(){var I,P;return(P=(I=this.ganttOwner).getTreeListTableStyle)===null||P===void 0?void 0:P.call(I)},M.prototype.getTreeListColCount=function(){var I,P;return(P=(I=this.ganttOwner).getTreeListColCount)===null||P===void 0?void 0:P.call(I)},M.prototype.getTreeListHeaderInfo=function(I){var P,L;return(L=(P=this.ganttOwner).getTreeListHeaderInfo)===null||L===void 0?void 0:L.call(P,I)},M.prototype.getTreeListCellInfo=function(I,P,L){var z,ee;return(ee=(z=this.ganttOwner).getTreeListCellInfo)===null||ee===void 0?void 0:ee.call(z,I,P,L)},M.prototype.getTreeListEmptyDataCellInfo=function(){var I,P;return(P=(I=this.ganttOwner).getTreeListEmptyDataCellInfo)===null||P===void 0?void 0:P.call(I)},M.prototype.exportToPdf=function(I){var P;return(P=I.docCreateMethod)!==null&&P!==void 0||(I.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new T.PdfGanttExporter(new c.GanttExportCalculator(this,I)).export()},M.prototype.getDefaultPdfDocCreateMethod=function(){var I;return(I=window.jspdf)===null||I===void 0?void 0:I.jsPDF},M.prototype.getTaskDependencies=function(I){return this.viewModel.dependencies.items.filter((function(P){return P.predecessorId==I||P.successorId==I}))},M.prototype.isHighlightRowElementAllowed=function(I){var P=this.getViewItem(I);return I%2!=0&&this.settings.areAlternateRowsEnabled||(P==null?void 0:P.children.length)>0},M.prototype.calculateAutoViewType=function(I,P){var L=(P.getTime()-I.getTime())/36e5;return L>8760?N.ViewType.Years:L>720?N.ViewType.Months:L>168?N.ViewType.Weeks:L>24?N.ViewType.Days:L>6?N.ViewType.SixHours:L>1?N.ViewType.Hours:N.ViewType.TenMinutes},M.prototype.getExternalTaskAreaContainer=function(I){return this.ganttOwner.getExternalTaskAreaContainer(I)},M.prototype.prepareExternalTaskAreaContainer=function(I,P){return this.ganttOwner.prepareExternalTaskAreaContainer(I,P)},M.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},M.prototype.changeTaskExpanded=function(I,P){var L=this.getTaskByPublicId(I);L&&this.viewModel.changeTaskExpanded(L.internalId,P)},M.prototype.expandTask=function(I){this.viewModel.changeTaskExpanded(I,!0)},M.prototype.collapseTask=function(I){this.viewModel.changeTaskExpanded(I,!1)},M.prototype.showTask=function(I){this.viewModel.changeTaskVisibility(I,!0)},M.prototype.hideTask=function(I){this.viewModel.changeTaskVisibility(I,!1)},M.prototype.getTaskVisibility=function(I){return this.viewModel.getTaskVisibility(I)},M.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},M.prototype.getTaskSelected=function(I){return this.viewModel.getTaskSelected(I)},M.prototype.setViewType=function(I,P){P===void 0&&(P=!0),this.ganttViewApi.setViewType(I,P)},M.prototype.setViewTypeRange=function(I,P){this.ganttViewApi.setViewTypeRange(I,P)},M.prototype.setTaskTitlePosition=function(I){this.settings.taskTitlePosition!==I&&(this.settings.taskTitlePosition=I,this.resetAndUpdate())},M.prototype.setShowResources=function(I){this.settings.showResources!==I&&(this.settings.showResources=I,this.resetAndUpdate())},M.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},M.prototype.setShowDependencies=function(I){this.settings.showDependencies!==I&&(this.settings.showDependencies=I,this.resetAndUpdate())},M.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},M.prototype.setFirstDayOfWeek=function(I){this.settings.firstDayOfWeek!==I&&(this.settings.firstDayOfWeek=I,this.resetAndUpdate())},M.prototype.setStartDateRange=function(I){i.DateTimeUtils.areDatesEqual(this.settings.startDateRange,I)||(this.settings.startDateRange=new Date(I),this.resetAndUpdate())},M.prototype.setEndDateRange=function(I){i.DateTimeUtils.areDatesEqual(this.settings.endDateRange,I)||(this.settings.endDateRange=new Date(I),this.resetAndUpdate())},M.prototype.loadOptionsFromGanttOwner=function(){var I,P=this;this.tickSize.height=this.ganttOwner.getRowHeight();var L=this.ganttOwner.getGanttTasksData();this.dataRange=new n.DateRange(this.getGanttViewStartDate(L),this.getGanttViewEndDate(L)),this.settings.viewType==null&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new m.ModelChangesDispatcher;var z=this.ganttOwner.getModelChangesListener();z&&this.dispatcher.onModelChanged.add(z),this.viewModel=new H.ViewVisualModel(this,L,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new _.ModelManipulator(this.viewModel,this.dispatcher),(I=this.history)===null||I===void 0||I.historyItems.forEach((function(ee){return ee.setModelManipulator(P.modelManipulator)}))},M.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),h.Browser.IE&&this.taskEditController.createElements(),this.updateView()},M.prototype.cleanMarkup=function(){this.setNormalScreenMode(),this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},M.prototype.checkAndProcessModelChanges=function(){var I=this.ganttOwner.getGanttTasksData(),P=this.viewModel.refreshTaskDataIfRequires(I);return P&&this.resetAndUpdate(),P},M.prototype.updateHistoryObsoleteInsertedKey=function(I,P,L){var z;(z=this.history)===null||z===void 0||z.updateObsoleteInsertedKey(I,P,L),L===X.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(I,P)},M.prototype.updateRowHeights=function(I){if(this.tickSize.height!==I){this.tickSize.height=I;var P=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(P)}},M.prototype.selectTask=function(I){this.selectDependency(null),this.viewModel.changeTaskSelected(I,!0),this.currentSelectedTaskID=I,this.updateBarManager()},M.prototype.unselectTask=function(I){this.viewModel.changeTaskSelected(I,!1),this.updateBarManager()},M.prototype.selectTaskById=function(I){this.unselectCurrentSelectedTask();var P=this.getTaskByPublicId(I);P&&this.selectTask(P.internalId)},M.prototype.selectDependency=function(I){this.taskEditController.selectDependency(I),this.renderHelper.createConnectorLines()},M.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},M.prototype.setWidth=function(I){this.renderHelper.setMainElementWidth(I)},M.prototype.setHeight=function(I){this.renderHelper.setMainElementHeight(I)},M.prototype.setAllowSelection=function(I){this.settings.allowSelectTask=I},M.prototype.setEditingSettings=function(I){this.settings.editing=I,this.updateBarManager()},M.prototype.setValidationSettings=function(I){this.settings.validation=I},M.prototype.setRowLinesVisible=function(I){this.settings.areHorizontalBordersEnabled=I,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},M.prototype.setStripLines=function(I){this.settings.stripLines=E.StripLineSettings.parse(I),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},M.prototype.deleteTask=function(I){var P=this.getTaskByPublicId(I.toString());P&&this.commandManager.removeTaskCommand.execute(P.internalId,!1,!0)},M.prototype.insertTask=function(I){if(I){var P=I.parentId!=null?String(I.parentId):null,L=this.getTaskByPublicId(P),z=this.viewModel.getRootTaskId(),ee=typeof I.start=="string"?new Date(I.start):I.start,le=typeof I.end=="string"?new Date(I.end):I.end,ve={parentId:z&&P===z?P:L==null?void 0:L.internalId,title:I.title,start:ee,end:le,progress:parseInt(I.progress)||0,color:I.color};if(this.commandManager.createTaskCommand.execute(ve))return this.getLastInsertedTaskId()}return""},M.prototype.updateTask=function(I,P){var L=this.getTaskByPublicId(I.toString()),z=this._getTaskDataForUpdate(P,L);z&&this.commandManager.updateTaskCommand.execute(L.internalId,z)},M.prototype.getTaskData=function(I){var P=this.getTaskByPublicId(I.toString());if(P)return this.viewModel.getTaskObjectForDataSource(P)},M.prototype.insertDependency=function(I){if(I){var P=String(I.predecessorId),L=this.getTaskByPublicId(P),z=String(I.successorId),ee=this.getTaskByPublicId(z),le=I.type;L&&ee&&this.validationController.canCreateDependency(P,z)&&this.commandManager.createDependencyCommand.execute(L.internalId,ee.internalId,le)}},M.prototype.deleteDependency=function(I){var P=this.viewModel.convertPublicToInternalKey("dependency",I);(0,v.isDefined)(P)&&this.commandManager.removeDependencyCommand.execute(P)},M.prototype.getDependencyData=function(I){return this.viewModel.getDependencyObjectForDataSource(I)},M.prototype.insertResource=function(I,P){var L=this;I&&this.commandManager.createResourceCommand.execute(String(I.text),I.color&&String(I.color),(function(z){if((0,v.isDefined)(P))for(var ee=0;ee<P.length;ee++)L.assignResourceToTask(z,P[ee])}))},M.prototype.deleteResource=function(I){var P=this.viewModel.convertPublicToInternalKey("resource",I);(0,v.isDefined)(P)&&this.commandManager.removeResourceCommand.execute(P)},M.prototype.assignResourceToTask=function(I,P){var L=this.viewModel.convertPublicToInternalKey("resource",I),z=this.viewModel.convertPublicToInternalKey("task",P);(0,v.isDefined)(L)&&(0,v.isDefined)(z)&&this.commandManager.assignResourceCommand.execute(L,z)},M.prototype.unassignResourceFromTask=function(I,P){var L=this.viewModel.findAssignment(I,P);L&&this.commandManager.deassignResourceCommand.execute(L.internalId)},M.prototype.unassignAllResourcesFromTask=function(I){var P=this,L=this.viewModel.convertPublicToInternalKey("task",I);this.viewModel.findAllTaskAssignments(L).forEach((function(z){return P.commandManager.deassignResourceCommand.execute(z.internalId)}))},M.prototype.getResourceData=function(I){return this.viewModel.getResourceObjectForDataSource(I)},M.prototype.getResourceAssignmentData=function(I){return this.viewModel.getResourceAssignmentObjectForDataSource(I)},M.prototype.getTaskResources=function(I){var P=this.viewModel,L=P.getItemByPublicId("task",I);return L&&P.getAssignedResources(L).items||[]},M.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map((function(I){return I.id}))},M.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map((function(I){return I.id}))},M.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map((function(I){return I.id}))},M.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map((function(I){return I.id}))},M.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},M.prototype.applyTasksExpandedState=function(I){this.viewModel.applyTasksExpandedState(I)},M.prototype.updateWithDataReload=function(I){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:I};else{var P=I&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),I?this.applyTasksExpandedState(P):this.resetAndUpdate();var L=K.DialogBase.activeInstance;L&&L.canRefresh&&L.getDialogName()==="TaskEdit"&&L.refresh(),this.dispatcher.notifyGanttViewUpdated()}},M.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},M.prototype.getTaskTreeLine=function(I){return this.viewModel.getTaskTreeLine(I).reverse()},M.prototype.isInFullScreenMode=function(){var I;return!!(!((I=this.fullScreenModeHelper)===null||I===void 0)&&I.isInFullScreenMode)},M.prototype.setFullScreenMode=function(){this.isInFullScreenMode()||this.fullScreenModeHelper.toggle()},M.prototype.setNormalScreenMode=function(){this.isInFullScreenMode()&&this.fullScreenModeHelper.toggle()},M.prototype.setTaskValue=function(I,P,L){var z=this.commandManager.updateTaskCommand,ee=this.getTaskByPublicId(I),le={};return ee&&(P==="title"&&(le[P]=L||""),P==="progress"&&(le[P]=L),P==="start"&&(le[P]=i.DateTimeUtils.getMinDate(L,ee.end)),P==="end"&&(le[P]=i.DateTimeUtils.getMaxDate(L,ee.start))),Object.keys(le).length>0&&z.execute(ee.internalId,le)},M.prototype.getLastInsertedTaskId=function(){var I=this.history.historyItems.filter((function(L){return L instanceof s.CreateTaskHistoryItem})),P=I[I.length-1];return P&&P.insertedKey},M.prototype.getTaskByPublicId=function(I){return this.viewModel.tasks.getItemByPublicId(I)},M.prototype.getPrevTask=function(I){var P=this.viewModel.findItem(I);if(!P)return null;var L=(P.parent||this.viewModel.root).children.indexOf(P)-1;return L>-1?P.parent.children[L].task:P.parent.task},M.prototype.getTaskIdByInternalId=function(I){var P=this.viewModel.findItem(I),L=P&&P.task;return L?L.id:null},M.prototype.isTaskHasChildren=function(I){var P=this.viewModel.findItem(I);return P&&P.children.length>0},M.prototype.requireFirstLoadParentAutoCalc=function(){var I=this.ganttOwner;return I.getRequireFirstLoadParentAutoCalc&&I.getRequireFirstLoadParentAutoCalc()},M.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},M.prototype.getOwnerControlMainElement=function(){var I=this.ganttOwner;return I.getMainElement&&I.getMainElement()},M.prototype.adjustOwnerControl=function(){var I=this.ganttOwner;I.adjustControl&&I.adjustControl()},M.prototype.applySettings=function(I,P){P===void 0&&(P=!1);var L=k.Settings.parse(I),z=P||this.settings.equal(L);this.settings=L,z||this.resetAndUpdate()},M.prototype.getDataUpdateErrorCallback=function(){var I=this,P=this.history,L=P.getCurrentProcessingItemInfo();return function(){I.dispatcher.lock(),P.rollBackAndRemove(L),I.dispatcher.unlock(),I.updateBarManager()}},M.prototype.setTaskTooltipContentTemplate=function(I){this.settings.taskTooltipContentTemplate=I},M.prototype.setTaskProgressTooltipContentTemplate=function(I){this.settings.taskProgressTooltipContentTemplate=I},M.prototype.setTaskTimeTooltipContentTemplate=function(I){this.settings.taskTimeTooltipContentTemplate=I},M.prototype.setTaskContentTemplate=function(I){this.settings.taskContentTemplate=I},M.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},M.prototype.onTaskAreaClick=function(I,P){var L,z=this.viewModel.items[I];return z&&this.onTaskClick((L=z.task)===null||L===void 0?void 0:L.id,P)},M.prototype.onTaskAreaDblClick=function(I,P){var L=this.viewModel.items[I];L&&this.onTaskDblClick(L.task.id,P)&&this.commandManager.showTaskEditDialog.execute(L.task)},M.prototype.onTaskAreaContextMenu=function(I,P,L){var z,ee,le=L==="dependency",ve=P,Pt=this.viewModel,Mt=le?Pt.convertInternalToPublicKey("dependency",O.EvtUtils.getEventSource(P).getAttribute("dependency-id")):(ee=(z=Pt.items[I])===null||z===void 0?void 0:z.task)===null||ee===void 0?void 0:ee.id;if(this.onGanttViewContextMenu(P,Mt,L)){var co={event:P,type:L,key:Mt,position:new W.Point(O.EvtUtils.getEventX(ve),O.EvtUtils.getEventY(ve))};this.showPopupMenu(co)}},M.prototype.onTaskSelectionChanged=function(I,P){var L=this,z=this.viewModel.items[I];this.isFocus=B.DomUtils.isItParent(this.renderHelper.taskArea,O.EvtUtils.getEventSource(P)),z&&this.isFocus&&this.settings.allowSelectTask&&setTimeout((function(){L.changeGanttTaskSelection(z.task.id,!0)}),0)},M.prototype.onTaskClick=function(I,P){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(I,P)},M.prototype.onTaskDblClick=function(I,P){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(I,P)},M.prototype.getDateFormat=function(I){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(I):this.getDefaultDateFormat(I)},M.prototype.getDefaultDateFormat=function(I){return("0"+I.getDate()).slice(-2)+"/"+("0"+(I.getMonth()+1)).slice(-2)+"/"+I.getFullYear()+" "+("0"+I.getHours()).slice(-2)+":"+("0"+I.getMinutes()).slice(-2)},M.prototype.destroyTemplate=function(I){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(I):I.innerHTML=""},M.prototype.onTaskAreaSizeChanged=function(I){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(I)},M.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},M.prototype.showTaskDetailsDialog=function(I){var P=this.getTaskByPublicId(I);P&&this.commandManager.showTaskEditDialog.execute(P,!0)},M.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},M.prototype.getCommandByKey=function(I){return this.commandManager.getCommand(I)},M.prototype._getTaskDataForUpdate=function(I,P){var L={};return P&&I&&((0,v.isDefined)(I.title)&&I.title!==P.title&&(L.title=I.title),(0,v.isDefined)(I.progress)&&I.progress!==P.progress&&(L.progress=I.progress),(0,v.isDefined)(I.start)&&I.start!==P.start&&(L.start=I.start),(0,v.isDefined)(I.end)&&I.end!==P.end&&(L.end=I.end),(0,v.isDefined)(I.color)&&I.color!==P.color&&(L.color=I.color)),Object.keys(L).length>0?L:null},M.prototype.updateViewDataRange=function(){var I=this.viewModel,P=I.getTaskMinStart(),L=I.getTaskMaxEnd(),z=P.getTime()<this.dataRange.start.getTime(),ee=L.getTime()>this.dataRange.end.getTime();z&&(this.dataRange.start=P),ee&&(this.dataRange.end=L),(z||ee)&&this.resetAndUpdate()},M.cachedPrefix="cached_",M.taskAreaScrollLeftKey=M.cachedPrefix+"taskAreaScrollLeft",M.taskAreaScrollTopKey=M.cachedPrefix+"taskAreaScrollTop",M.taskTextHeightKey=M.cachedPrefix+"taskTextHeight",M})();d.GanttView=q},2449:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaEventSource=d.TaskTitlePosition=d.Position=d.ViewType=void 0,(function(l){l[l.TenMinutes=0]="TenMinutes",l[l.Hours=1]="Hours",l[l.SixHours=2]="SixHours",l[l.Days=3]="Days",l[l.Weeks=4]="Weeks",l[l.Months=5]="Months",l[l.Quarter=6]="Quarter",l[l.Years=7]="Years",l[l.FiveYears=8]="FiveYears"})(d.ViewType||(d.ViewType={})),(function(l){l[l.Left=0]="Left",l[l.Top=1]="Top",l[l.Right=2]="Right",l[l.Bottom=3]="Bottom"})(d.Position||(d.Position={})),(function(l){l[l.Inside=0]="Inside",l[l.Outside=1]="Outside",l[l.None=2]="None"})(d.TaskTitlePosition||(d.TaskTitlePosition={})),(function(l){l[l.TaskArea=0]="TaskArea",l[l.TaskEdit_Frame=1]="TaskEdit_Frame",l[l.TaskEdit_Progress=2]="TaskEdit_Progress",l[l.TaskEdit_Start=3]="TaskEdit_Start",l[l.TaskEdit_End=4]="TaskEdit_End",l[l.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",l[l.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",l[l.Successor_Wrapper=7]="Successor_Wrapper",l[l.Successor_DependencyStart=8]="Successor_DependencyStart",l[l.Successor_DependencyFinish=9]="Successor_DependencyFinish"})(d.TaskAreaEventSource||(d.TaskAreaEventSource={}))},8877:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EtalonSizeValues=void 0;var l=function(){this.scaleItemWidths={}};d.EtalonSizeValues=l},8695:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FullScreenModeHelper=void 0;var u=l(9279),h=l(2217),f=l(6907),s=(function(){function n(i){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=i}return Object.defineProperty(n.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),n.prototype.getMainElement=function(){return this.settings.getMainElement()},n.prototype.adjustControl=function(){this.settings.adjustControl()},n.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},n.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},n.prototype.prepareFullScreenMode=function(){var i=this.getMainElement();h.AttrUtils.changeElementStyleAttribute(i,"border-top-width","0px"),h.AttrUtils.changeElementStyleAttribute(i,"border-left-width","0px"),h.AttrUtils.changeElementStyleAttribute(i,"border-right-width","0px"),h.AttrUtils.changeElementStyleAttribute(i,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=f.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=f.DomUtils.getDocumentScrollLeft(),h.AttrUtils.changeElementStyleAttribute(i,"background-color","white"),h.AttrUtils.changeElementStyleAttribute(i,"position","fixed"),h.AttrUtils.changeElementStyleAttribute(i,"top","0px"),h.AttrUtils.changeElementStyleAttribute(i,"left","0px"),h.AttrUtils.changeElementStyleAttribute(i,"z-index","1010"),h.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),h.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=i.style.width,this.fullScreenTempVars.height=i.style.height||i.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},n.prototype.setNormalMode=function(){this.cancelFullScreen(document);var i=this.getMainElement();h.AttrUtils.restoreElementStyleAttribute(i,"left"),h.AttrUtils.restoreElementStyleAttribute(i,"top"),h.AttrUtils.restoreElementStyleAttribute(i,"background-color"),h.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),h.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),h.AttrUtils.restoreElementStyleAttribute(i,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,h.AttrUtils.restoreElementStyleAttribute(i,"position"),h.AttrUtils.restoreElementStyleAttribute(i,"border-top-width"),h.AttrUtils.restoreElementStyleAttribute(i,"border-left-width"),h.AttrUtils.restoreElementStyleAttribute(i,"border-right-width"),h.AttrUtils.restoreElementStyleAttribute(i,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},n.prototype.adjustControlInFullScreenMode=function(){var i=document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth,t=document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(i),this.setHeight(t),this.adjustControl()},n.prototype.requestFullScreen=function(i){i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()},n.prototype.cancelFullScreen=function(i){u.Browser.Firefox&&!this.getFullScreenElement(i)||(i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen?i.msExitFullscreen():i.exitFullscreen&&i.exitFullscreen())},n.prototype.getFullScreenElement=function(i){return i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement},n.prototype.setWidth=function(i){this.getMainElement().style.width=this.isNumber(i)?i+"px":i},n.prototype.setHeight=function(i){this.getMainElement().style.height=this.isNumber(i)?i+"px":i},n.prototype.isNumber=function(i){return!isNaN(parseFloat(i))&&isFinite(i)},n})();d.FullScreenModeHelper=s},1391:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GridElementInfo=void 0;var u=l(8900),h=l(6353),f=l(3604),s=(function(){function n(i,t,r){this.id=n.id++,this.position=new u.Point(void 0,void 0),this.size=new h.Size(0,0),this.margins=new f.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},i&&(this.className=i),t&&this.setPosition(t),r&&this.setSize(r)}return n.prototype.setSize=function(i){this.size.width=i.width,this.size.height=i.height},n.prototype.setPosition=function(i){this.position.x=i.x,this.position.y=i.y},n.prototype.assignToElement=function(i){this.assignPosition(i),this.assignSize(i),this.assignMargins(i),this.className&&(i.className=this.className)},n.prototype.assignPosition=function(i){this.position.x!=null&&(i.style.left=this.position.x+"px"),this.position.y!=null&&(i.style.top=this.position.y+"px")},n.prototype.assignSize=function(i){this.size.width&&(i.style.width=this.size.width+"px"),this.size.height&&(i.style.height=this.size.height+"px")},n.prototype.assignMargins=function(i){this.margins.left&&(i.style.marginLeft=this.margins.left+"px"),this.margins.top&&(i.style.marginTop=this.margins.top+"px"),this.margins.right&&(i.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(i.style.marginBottom=this.margins.bottom+"px")},n.prototype.setAttribute=function(i,t){this.attr[i]=t},n.id=0,n})();d.GridElementInfo=s},1855:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GridLayoutCalculator=void 0;var u=l(6353),h=l(858),f=l(2449),s=l(1391),n=l(8900),i=l(9201),t=l(1442),r=l(5950),o=l(7072),c=l(2491),g=(function(){function v(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new o.ScaleCalculator}return v.prototype.setSettings=function(m,_,T,b,k,D,E,A){E===void 0&&(E=0),A===void 0&&(A=0),this.visibleTaskAreaSize=m,this.tickSize=_,this._viewType=D,this.range=b,this.verticalTickCount=k.itemCount,this.viewModel=k,this.elementSizeValues=T,this.taskHeight=T.taskHeight,this.parentTaskHeight=T.parentTaskHeight,this.milestoneWidth=T.milestoneWidth,this.scaleHeight=T.scaleItemHeight,this.arrowSize=new u.Size(T.connectorArrowWidth,T.connectorArrowWidth),this.lineThickness=T.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=i.DateUtils.getTickTimeSpan(D),this.scrollBarHeight=E,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(b,D,_,A),this.reset()},Object.defineProperty(v.prototype,"viewType",{get:function(){return this._viewType},set:function(m){this._viewType!==m&&(this._viewType=m,this._scaleCalculator.setViewType(m))},enumerable:!1,configurable:!0}),v.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},v.prototype.resetTaskInfo=function(m){delete this._taskWrapperPoints[m],delete this._taskElementInfoList[m]},v.prototype.getTaskAreaBorderInfo=function(m,_){var T=_?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(m,_,T)},v.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},v.prototype.getScaleBorderInfo=function(m,_){var T=new s.GridElementInfo,b=this._scaleCalculator;return T.setPosition(new n.Point(b.getScaleBorderPosition(m,_),void 0)),T.setSize(new u.Size(0,this.scaleHeight)),T.className="dx-gantt-vb",T},v.prototype.getGridBorderInfo=function(m,_,T){var b=new s.GridElementInfo;return b.setPosition(this.getGridBorderPosition(m,_)),T&&b.setSize(this.getGridBorderSize(_,T)),b.className=_?"dx-gantt-vb":"dx-gantt-hb",b},v.prototype.getGridBorderPosition=function(m,_){var T=new n.Point(void 0,void 0),b=this._scaleCalculator,k=_?b.getScaleBorderPosition(m,this.viewType):(m+1)*this.tickSize.height;return _?T.x=k:T.y=k,T},v.prototype.getGridBorderSize=function(m,_){var T=new u.Size(0,0);return m?T.height=_:T.width=_,T},v.prototype.getScaleElementInfo=function(m,_){var T=new s.GridElementInfo,b=this.getScaleItemInfo(m,_);if(b){T.setPosition(b.position),T.setSize(b.size),T.className=this.getScaleItemClassName(_,T,this.getRenderedNoWorkingIntervals(T.position.x));var k=this._scaleCalculator.getScaleItems(_);(m===0||m===k.length-1)&&(T.style.overflowX="hidden",T.style.textOverflow="ellipsis"),T.additionalInfo.range=new h.DateRange(b.start,b.end)}return T},v.prototype.getScaleItemStart=function(m,_){return this._scaleCalculator.getScaleItemAdjustedStart(m,_)},v.prototype.getScaleItemClassName=function(m,_,T){var b="dx-gantt-si";return m.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(_,T)&&(b+=" dx-gantt-holiday-scaleItem"),b},v.prototype.getScaleItemInfo=function(m,_){return this._scaleCalculator.getScaleItem(m,_)},v.prototype.getScaleRangesInArea=function(m,_){var T=i.DateUtils.ViewTypeToScaleMap[this.viewType],b=this._scaleCalculator,k=Math.max(b.getScaleIndexByPos(m,T),0),D=b.getScaleIndexByPos(_,T);D===-1&&(D=b.topScaleItems.length-1);var E=Math.max(b.getScaleIndexByPos(m),0),A=b.getScaleIndexByPos(_);return A===-1&&(A=b.bottomScaleItems.length-1),[[k,D],[E,A]]},v.prototype.isScaleItemInsideNoWorkingInterval=function(m,_){for(var T=m.position.x,b=m.position.x+m.size.width,k=0;k<_.length;k++){var D=_[k].position.x,E=_[k].position.x+_[k].size.width;if(T>=D&&b<=E)return!0}return!1},v.prototype.getScaleItemColSpan=function(m){return this._scaleCalculator.getScaleItemColSpan(m)},v.prototype.getTaskWrapperElementInfo=function(m){var _=new s.GridElementInfo;return _.className=this.getTaskWrapperClassName(m),_.setPosition(this.getTaskWrapperPoint(m)),_.setAttribute("task-index",m),_},v.prototype.getTaskWrapperClassName=function(m){var _="dx-gantt-taskWrapper",T=this.getViewItem(m);return T.task.isMilestone()&&(_="dx-gantt-milestoneWrapper"),T.selected&&(_+=" dx-gantt-selectedTask"),_},v.prototype.getTaskWrapperPoint=function(m){if(!(0,c.isDefined)(this._taskWrapperPoints[m])){var _=this.getViewItem(m),T=this.getTaskHeight(m),b=this.getTaskWidth(m),k=m*this.tickSize.height+(this.tickSize.height-T)/2,D=new n.Point(this.getPosByDate(_.task.start),k);_.task.isMilestone()&&(D.x-=b/2),this._taskWrapperPoints[m]=D}return this._taskWrapperPoints[m].clone()},v.prototype.getTaskElementInfo=function(m,_){if(_===void 0&&(_=!1),!(0,c.isDefined)(this._taskElementInfoList[m])){var T=new s.GridElementInfo,b=this.getTask(m),k=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(m);if(!b.isMilestone()){var D=this.getTaskWidth(m);T.size.width=this.getCorrectedTaskWidthByRange(m,D),T.size.width<D&&(T.additionalInfo.taskCut=!0),_&&(T.size.height=this.getTaskHeight(m))}T.className=this.getTaskClassName(m,T.size.width),b.color&&(T.style.backgroundColor=b.color,k&&(T.style.borderLeftColor=b.color,T.style.borderRightColor=b.color,T.style.borderTopColor=b.color)),this._taskElementInfoList[m]=T}return this._taskElementInfoList[m]},v.prototype.getTaskClassName=function(m,_){var T=v.taskClassName,b=this.getViewItem(m),k=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(m);return b.task.isMilestone()&&!b.isCustom?T+=" "+v.milestoneClassName:(_<=this.elementSizeValues.smallTaskWidth&&(T+=" "+v.smallTaskClassName),k&&(T+=this.getAutoCalcParentTaskClassName(b.task))),T},v.prototype.getAutoCalcParentTaskClassName=function(m){var _=" "+v.parentTaskClassName;return m.progress==0&&(_+=" dx-gantt-noPrg"),m.progress>=100&&(_+=" dx-gantt-cmpl"),_},v.prototype.getTaskPoint=function(m){var _=this.getTaskWrapperPoint(m);return this.getTask(m).isMilestone()||(_.y+=this.elementSizeValues.taskWrapperTopPadding),_},v.prototype.getTaskSize=function(m){return new u.Size(this.getTaskWidth(m),this.getTaskHeight(m))},v.prototype.getTaskWidth=function(m){var _=this.getViewItem(m);return _.isCustom&&_.size.width?_.size.width:_.task.isMilestone()&&!_.isCustom?this.getTaskHeight(m):Math.max(this.getWidthByDateRange(_.task.start,_.task.end),this.minTaskWidth)},v.prototype.getTaskHeight=function(m){var _=this.getViewItem(m);return _.task.isMilestone()&&!_.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(_.task.internalId)?this.parentTaskHeight:_.isCustom&&_.size.height?_.size.height:this.taskHeight},v.prototype.getTask=function(m){var _=this.getViewItem(m);return _==null?void 0:_.task},v.prototype.getViewItem=function(m){return this.viewModel.items[m]},v.prototype.getTaskProgressElementInfo=function(m){var _=new s.GridElementInfo;return _.className=v.taskProgressClassName,_.setSize(this.getTaskProgressSize(m)),_},v.prototype.getTaskProgressSize=function(m){var _=this.getTaskProgressWidth(m);return this.isTaskCutByRange(m)&&(_=this.getCorrectedTaskWidthByRange(m,_)),new u.Size(_,0)},v.prototype.getTaskProgressWidth=function(m){return this.getTaskWidth(m)*this.getTask(m).normalizedProgress/100},v.prototype.getTaskTextElementInfo=function(m,_){var T=new s.GridElementInfo;if(T.className=this.getTaskTextElementClassName(_),!_){var b=this.getTaskPoint(m).x;if(b<this.elementSizeValues.outsideTaskTextDefaultWidth){var k=Math.max(b,0);T.size.width=k,k>0?T.margins.left=-k:T.additionalInfo.hidden=!0}}return T},v.prototype.getTaskTextElementClassName=function(m){return v.taskTitleClassName.concat(" ",m?v.titleInClassName:v.titleOutClassName)},v.prototype.getTaskResourcesWrapperElementInfo=function(m){var _=new s.GridElementInfo,T=this.getTaskSize(m).width;return _.className="dx-gantt-taskResWrapper",_.setPosition(this.getTaskWrapperPoint(m)),_.position.x=_.position.x+T,_},v.prototype.getTaskResourceElementInfo=function(){var m=new s.GridElementInfo;return m.className=v.taskResourceClassName,m},v.prototype.getSelectionElementInfo=function(m){return this.getRowElementInfo(m,"dx-gantt-sel")},v.prototype.getSelectionPosition=function(m){var _=new n.Point(void 0,void 0);return _.y=m*this.tickSize.height,_},v.prototype.getSelectionSize=function(){return new u.Size(this.getTotalWidth(),this.tickSize.height)},v.prototype.getHighlightRowInfo=function(m){return this.getRowElementInfo(m,"dx-gantt-altRow")},v.prototype.getRowElementInfo=function(m,_){var T=new s.GridElementInfo;return T.className=_,T.setPosition(this.getSelectionPosition(m)),T.setSize(this.getSelectionSize()),T},v.prototype.getNoWorkingIntervalInfo=function(m){var _=new s.GridElementInfo;return _.className="dx-gantt-nwi",_.setPosition(this.getNoWorkingIntervalPosition(m.start)),_.setSize(this.getNoWorkingIntervalSize(m)),_},v.prototype.getNoWorkingIntervalPosition=function(m){var _=new n.Point(void 0,void 0);return _.x=this.getPosByDate(m),_},v.prototype.getNoWorkingIntervalSize=function(m){return new u.Size(this.getWidthByDateRange(m.start,m.end),this.getVerticalGridLineHeight())},v.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},v.prototype.getConnectorInfo=function(m,_,T,b){for(var k=new Array,D=this.getConnectorPoints(_,T,b),E=0;E<D.length-1;E++)k.push(this.getConnectorLineInfo(m,D[E],D[E+1],E==0||E==D.length-2));return k.push(this.getArrowInfo(m,D,k,_,T)),this.checkAndCorrectConnectorLinesByRange(k),k.filter((function(A){return!!A}))},v.prototype.getConnectorLineInfo=function(m,_,T,b){var k=new s.GridElementInfo,D=_.x==T.x;return k.className=this.getConnectorClassName(D),k.setPosition(this.getConnectorPosition(_,T)),k.setSize(this.getConnectorSize(_,T,D,b)),k.setAttribute("dependency-id",m),k},v.prototype.getConnectorClassName=function(m){return m?v.CLASSNAMES.CONNECTOR_VERTICAL:v.CLASSNAMES.CONNECTOR_HORIZONTAL},v.prototype.getConnectorPosition=function(m,_){return new n.Point(Math.min(m.x,_.x),Math.min(m.y,_.y))},v.prototype.getConnectorSize=function(m,_,T,b){var k=new u.Size(0,0),D=b?0:1;return T?k.height=Math.abs(_.y-m.y)+D:k.width=Math.abs(_.x-m.x)+D,k},v.prototype.getArrowInfo=function(m,_,T,b,k){var D=new s.GridElementInfo,E=this.findArrowLineInfo(T,b,k),A=this.getArrowPosition(_,b,k);return D.className=this.getArrowClassName(A),D.setPosition(this.getArrowPoint(E,A)),D.setAttribute("dependency-id",m),D},v.prototype.findArrowLineInfo=function(m,_,T){return m[_<T?m.length-1:0]},v.prototype.getArrowPosition=function(m,_,T){var b=m[_<T?m.length-2:1],k=m[_<T?m.length-1:0];return b.x==k.x?b.y>k.y?f.Position.Top:f.Position.Bottom:b.x>k.x?f.Position.Left:f.Position.Right},v.prototype.getArrowClassName=function(m){var _=v.arrowClassName;switch(m){case f.Position.Left:_=_.concat(" ",v.leftArrowClassName);break;case f.Position.Top:_=_.concat(" ",v.topArrowClassName);break;case f.Position.Right:_=_.concat(" ",v.rightArrowClassName);break;case f.Position.Bottom:_=_.concat(" ",v.bottomArrowClassName)}return _},v.prototype.getArrowPositionByClassName=function(m){return m.indexOf(v.leftArrowClassName)>-1?f.Position.Left:m.indexOf(v.topArrowClassName)>-1?f.Position.Top:m.indexOf(v.rightArrowClassName)>-1?f.Position.Right:m.indexOf(v.bottomArrowClassName)>-1?f.Position.Bottom:void 0},v.prototype.getArrowPoint=function(m,_){return new n.Point(this.getArrowX(m,_),this.getArrowY(m,_))},v.prototype.getArrowX=function(m,_){switch(_){case f.Position.Left:return m.position.x-this.arrowSize.width/2;case f.Position.Right:return m.position.x+m.size.width-this.arrowSize.width/2;case f.Position.Top:case f.Position.Bottom:return m.position.x-(this.arrowSize.width-this.lineThickness)/2}},v.prototype.getArrowY=function(m,_){switch(_){case f.Position.Top:return m.position.y-this.arrowSize.height/2;case f.Position.Bottom:return m.position.y+m.size.height-this.arrowSize.height/2;case f.Position.Left:case f.Position.Right:return m.position.y-(this.arrowSize.height-this.lineThickness)/2}},v.prototype.getPosByDate=function(m){return this.getWidthByDateRange(this.range.start,m)},v.prototype.getWidthByDateRange=function(m,_){return i.DateUtils.getRangeTickCount(m,_,this.viewType)*this.tickSize.width},v.prototype.getDateByPos=function(m){if(this.viewType===f.ViewType.Months||this.viewType===f.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(m);var _=m/this.tickSize.width,T=new Date(this.range.start);return i.DateUtils.getDSTCorrectedTaskEnd(T,_*this.tickTimeSpan)},v.prototype.getDateByPosInMonthBasedViewTypes=function(m){return this._scaleCalculator.getDateInScale(m)},v.prototype.getConnectorPoints=function(m,_,T){switch(T){case r.DependencyType.FS:return this.getFinishToStartConnectorPoints(m,_);case r.DependencyType.SF:return this.getStartToFinishConnectorPoints(m,_);case r.DependencyType.SS:return this.getStartToStartConnectorPoints(m,_);case r.DependencyType.FF:return this.getFinishToFinishConnectorPoints(m,_);default:return new Array}},v.prototype.getFinishToStartConnectorPoints=function(m,_){return m<_?this.getTask(m).end<=this.getTask(_).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(m,_,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(m,_,!1):this.getTask(m).end<=this.getTask(_).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(_,m,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(_,m,!0)},v.prototype.getFinishToFinishConnectorPoints=function(m,_){return m<_?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(m,_):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(_,m)},v.prototype.getStartToStartConnectorPoints=function(m,_){return m<_?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(m,_):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(_,m)},v.prototype.getStartToFinishConnectorPoints=function(m,_){return m<_?this.getTask(m).start>=this.getTask(_).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(m,_,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(m,_,!1):this.getTask(m).start>=this.getTask(_).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(_,m,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(_,m,!0)},v.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(m,_,T){var b=new Array,k=this.getTaskPoint(m),D=this.getTaskPoint(_),E=this.getTaskRightCenter(k,m),A=this.getTask(_).isMilestone(),F=this.getTaskTopCenter(D,_),R=this.getHorizontalIndentFromTaskEdge(_,T);return b.push(new n.Point(Math.floor(E.x),Math.floor(E.y))),b.push(new n.Point(Math.floor(A?F.x:D.x+R),Math.floor(b[0].y))),b.push(new n.Point(Math.floor(b[1].x),Math.floor(F.y))),b},v.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(m,_){var T=new Array,b=this.getTaskPoint(m),k=this.getTaskPoint(_),D=this.getTaskRightCenter(b,m),E=this.getTaskRightCenter(k,_);return T.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),T.push(new n.Point(Math.floor(Math.max(D.x,E.x)+this.minLineLength),Math.floor(T[0].y))),T.push(new n.Point(Math.floor(T[1].x),Math.floor(E.y))),T.push(new n.Point(Math.floor(E.x),Math.floor(E.y))),T},v.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(m,_,T){var b=new Array,k=this.getTaskPoint(m),D=this.getTaskPoint(_),E=this.getTaskRightCenter(k,m),A=this.getTaskBottomCenter(k,m),F=this.getTaskLeftCenter(D,_),R=this.getTaskTopCenter(D,_),x=T?this.getViewItem(m):this.getViewItem(_),N=x.isCustom?(this.tickSize.height-x.size.height)/2:this.minConnectorSpaceFromTask;return b.push(new n.Point(Math.floor(E.x),Math.floor(E.y))),b.push(new n.Point(Math.floor(b[0].x+this.minLineLength),Math.floor(b[0].y))),b.push(new n.Point(Math.floor(b[1].x),Math.floor(T?A.y+N:R.y-N))),b.push(new n.Point(Math.floor(F.x-this.minLineLength),Math.floor(b[2].y))),b.push(new n.Point(Math.floor(b[3].x),Math.floor(F.y))),b.push(new n.Point(Math.floor(F.x),Math.floor(F.y))),b},v.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(m,_,T){var b=new Array,k=this.getTaskPoint(m),D=this.getTaskPoint(_),E=this.getTaskBottomCenter(k,m),A=this.getTask(m).isMilestone(),F=this.getTaskRightCenter(D,_),R=this.getHorizontalIndentFromTaskEdge(m,T);return b.push(new n.Point(Math.floor(A?E.x:k.x+R),Math.floor(E.y))),b.push(new n.Point(Math.floor(b[0].x),Math.floor(F.y))),b.push(new n.Point(Math.floor(F.x),Math.floor(F.y))),b},v.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(m,_,T){var b=new Array,k=this.getTaskPoint(m),D=this.getTaskPoint(_),E=this.getTaskBottomCenter(k,m),A=this.getTask(m).isMilestone(),F=this.getTaskLeftCenter(D,_),R=this.getHorizontalIndentFromTaskEdge(m,T);return b.push(new n.Point(Math.floor(A?E.x:k.x+R),Math.floor(E.y))),b.push(new n.Point(Math.floor(b[0].x),Math.floor(F.y))),b.push(new n.Point(Math.floor(F.x),Math.floor(F.y))),b},v.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(m,_,T){var b=new Array,k=this.getTaskPoint(m),D=this.getTaskPoint(_),E=this.getTaskLeftCenter(k,m),A=this.getTaskTopCenter(D,_),F=this.getTask(_).isMilestone(),R=this.getHorizontalIndentFromTaskEdge(_,T);return b.push(new n.Point(Math.floor(E.x),Math.floor(E.y))),b.push(new n.Point(Math.floor(F?A.x:D.x+R),Math.floor(b[0].y))),b.push(new n.Point(Math.floor(b[1].x),Math.floor(A.y))),b},v.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(m,_,T){var b=new Array,k=this.getTaskPoint(m),D=this.getTaskPoint(_),E=this.getTaskLeftCenter(k,m),A=this.getTaskBottomCenter(k,m),F=this.getTaskRightCenter(D,_),R=this.getTaskTopCenter(D,_),x=T?this.getViewItem(m):this.getViewItem(_),N=x.isCustom?(this.tickSize.height-x.size.height)/2:this.minConnectorSpaceFromTask;return b.push(new n.Point(Math.floor(E.x),E.y)),b.push(new n.Point(Math.floor(b[0].x-this.minLineLength),b[0].y)),b.push(new n.Point(Math.floor(b[1].x),Math.floor(T?A.y+N:R.y-N))),b.push(new n.Point(Math.floor(F.x+this.minLineLength),Math.floor(b[2].y))),b.push(new n.Point(Math.floor(b[3].x),Math.floor(F.y))),b.push(new n.Point(Math.floor(F.x),Math.floor(F.y))),b},v.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(m,_){var T=new Array,b=this.getTaskPoint(m),k=this.getTaskPoint(_),D=this.getTaskLeftCenter(b,m),E=this.getTaskLeftCenter(k,_);return T.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),T.push(new n.Point(Math.floor(Math.min(D.x,E.x)-this.minLineLength),Math.floor(T[0].y))),T.push(new n.Point(Math.floor(T[1].x),Math.floor(E.y))),T.push(new n.Point(Math.floor(E.x),Math.floor(E.y))),T},v.prototype.getTaskSidePoints=function(m){var _=this.getTaskPoint(m);return[this.getTaskLeftCenter(_,m),this.getTaskTopCenter(_,m),this.getTaskRightCenter(_,m),this.getTaskBottomCenter(_,m)]},v.prototype.getTaskLeftCenter=function(m,_){return new n.Point(m.x-this.getTaskEdgeCorrection(_),m.y+this.getTaskHeight(_)/2)},v.prototype.getTaskRightCenter=function(m,_){return new n.Point(m.x+this.getTaskWidth(_)+this.getTaskEdgeCorrection(_),m.y+this.getTaskHeight(_)/2)},v.prototype.getTaskTopCenter=function(m,_){return new n.Point(m.x+this.getTaskWidth(_)/2,m.y-this.getTaskEdgeCorrection(_))},v.prototype.getTaskBottomCenter=function(m,_){return new n.Point(m.x+this.getTaskWidth(_)/2,m.y+this.getTaskHeight(_)+this.getTaskEdgeCorrection(_))},v.prototype.getTaskEdgeCorrection=function(m){var _=this.getViewItem(m);return _.task.isMilestone()&&!_.isCustom?this.getTaskHeight(m)*(Math.sqrt(2)-1)/2:0},v.prototype.getHorizontalIndentFromTaskEdge=function(m,_){_===void 0&&(_=!1);var T=this.getTaskWidth(m),b=this.minLineLength<T/3?this.minLineLength:.2*T;return _?T-b:b},v.prototype.getRenderedRowColumnIndices=function(m,_){for(var T=_?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,b=_?this.getFirstVisibleGridCellIndex(m,this.tickSize.height):this.getFirstScaleVisibleIndex(m),k=_?this.getLastVisibleGridCellIndex(m,this.tickSize.height,T,this.verticalTickCount):this.getLastScaleVisibleIndex(m),D=new Array,E=b;E<=k;E++)D.push(E);return D},v.prototype.getRenderedScaleItemIndices=function(m,_){for(var T=m===this.viewType,b=this._scaleCalculator,k=_[0],D=_[_.length-1],E=T?k:b.getTopScaleIndexByBottomIndex(k),A=T?D:b.getTopScaleIndexByBottomIndex(D),F=new Array,R=E;R<=A;R++)F.push(R);return F},v.prototype.getFirstScaleVisibleIndex=function(m){return this._scaleCalculator.getFirstScaleIndexForRender(m)},v.prototype.getLastScaleVisibleIndex=function(m){return this._scaleCalculator.getLastScaleIndexForRender(m+this.visibleTaskAreaSize.width)},v.prototype.getFirstVisibleGridCellIndex=function(m,_){var T=Math.floor(m/_);return T=Math.max(T-10,0)},v.prototype.getLastVisibleGridCellIndex=function(m,_,T,b){var k=Math.floor((m+T)/_);return k=Math.min(k+10,b-1)},v.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var m=0;m<this.viewModel.items.length;m++)for(var _=0;_<this.viewModel.items[m].dependencies.length;_++)this.createConnecotInfo(this.viewModel.items[m].dependencies[_],this.viewModel.items[m].visibleIndex)},v.prototype.updateTileToConnectorLinesMap=function(m){this.tileToDependencyMap.forEach((function(k,D,E){E[D]=k.filter((function(A){return A.attr["dependency-id"]!=m}))}));var _=[],T=this.viewModel.items.filter((function(k){return k.dependencies.filter((function(D){return D.id==m})).length>0}))[0];if(T){var b=T.dependencies.filter((function(k){return k.id===m}))[0];_=this.createConnecotInfo(b,T.visibleIndex)}return _},v.prototype.createConnecotInfo=function(m,_){var T=this,b=m.predecessor.visibleIndex,k=m.type,D=m.id,E=this.getConnectorInfo(D,b,_,k);return E.forEach((function(A){T.addElementInfoToTileMap(A,T.tileToDependencyMap,!0)})),E},v.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var m=0;m<this.viewModel.noWorkingIntervals.length;m++){var _=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[m]);if(_){var T=this.getNoWorkingIntervalInfo(_);this.addElementInfoToTileMap(T,this.tileToNoWorkingIntervalsMap,!1)}}},v.prototype.getAdjustedNoWorkingInterval=function(m){return m.end.getTime()-m.start.getTime()<this.tickTimeSpan-1?null:new h.DateRange(i.DateUtils.getNearestScaleTickDate(m.start,this.range,this.tickTimeSpan,this.viewType),i.DateUtils.getNearestScaleTickDate(m.end,this.range,this.tickTimeSpan,this.viewType))},v.prototype.addElementInfoToTileMap=function(m,_,T){var b=T?m.position.y:m.position.x,k=T?m.size.height:m.size.width,D=2*(T?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(D>0)for(var E=Math.floor(b/D),A=Math.floor((b+k)/D),F=E;F<=A;F++)_[F]||(_[F]=new Array),_[F].push(m)},v.prototype.getRenderedConnectorLines=function(m){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,m)},v.prototype.getRenderedNoWorkingIntervals=function(m){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,m)},v.prototype.getRenderedStripLines=function(m){var _=new Array,T=m.stripLines.map((function(R){return R.clone()}));m.showCurrentTime&&T.push(new t.StripLine(new Date,null,m.currentTimeTitle,m.currentTimeCssClass,!0));for(var b=0,k=void 0;k=T[b];b++){var D=i.DateUtils.parse(k.start),E=k.end?i.DateUtils.parse(k.end):null;if(D>=this.range.start&&D<=this.range.end||E&&E>=this.range.start&&E<=this.range.end){var A=D>this.range.start?D:this.range.start,F=new s.GridElementInfo;F.size.height=this.getVerticalGridLineHeight(),F.position.x=this.getPosByDate(A),F.size.width=E?this.getWidthByDateRange(A,E<this.range.end?E:this.range.end):0,F.className=k.isCurrent?"dx-gantt-tc":E?"dx-gantt-ti":"dx-gantt-tm",F.className+=k.cssClass?" "+k.cssClass:"",F.attr.title=k.title,_.push(F)}}return _},v.prototype.getElementsInRenderedTiles=function(m,_,T){var b=new Array,k=_?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(k>0)for(var D=Math.floor(T/(2*k)),E=Math.floor((T+k)/(2*k)),A=D;A<=E;A++)m[A]&&m[A].forEach((function(F){b.indexOf(F)===-1&&b.push(F)}));return b},v.prototype.isTaskInRenderedRange=function(m){var _=this.getViewItem(m),T=this.getTaskPoint(m);return _.task.isMilestone()?T.x+this.getTaskWidth(m)<this.getTotalWidth():T.x<this.getTotalWidth()},v.prototype.isTaskCutByRange=function(m){return!!this.getTaskElementInfo(m).additionalInfo.taskCut},v.prototype.checkAndCorrectElementDisplayByRange=function(m){m.parentElement.offsetLeft+m.offsetLeft+m.offsetWidth>this.getTotalWidth()&&(m.style.display="none")},v.prototype.checkAndCorrectArrowElementDisplayByRange=function(m){m.offsetLeft+m.offsetWidth>this.getTotalWidth()&&(m.style.display="none")},v.prototype.checkAndCorrectConnectorLinesByRange=function(m){if(m!=null&&m.length)for(var _=this.getTotalWidth(),T=0;T<m.length;T++){var b=m[T],k=!b.size.width;b.position.x>_?delete m[T]:!k&&b.position.x+b.size.width>_&&(b.size.width=_-b.position.x)}},v.prototype.getCorrectedTaskWidthByRange=function(m,_){var T=this.getTotalWidth()-this.getTaskPoint(m).x;return Math.min(T,_)},v.dxGanttPrefix="dx-gantt-",v.taskClassName=v.dxGanttPrefix+"task",v.milestoneClassName=v.dxGanttPrefix+"milestone",v.smallTaskClassName=v.dxGanttPrefix+"smallTask",v.parentTaskClassName=v.dxGanttPrefix+"parent",v.taskProgressClassName=v.dxGanttPrefix+"tPrg",v.taskTitleClassName=v.dxGanttPrefix+"taskTitle",v.titleInClassName=v.dxGanttPrefix+"titleIn",v.titleOutClassName=v.dxGanttPrefix+"titleOut",v.taskResourceClassName=v.dxGanttPrefix+"taskRes",v.arrowClassName=v.dxGanttPrefix+"arrow",v.leftArrowClassName=v.dxGanttPrefix+"LA",v.topArrowClassName=v.dxGanttPrefix+"TA",v.rightArrowClassName=v.dxGanttPrefix+"RA",v.bottomArrowClassName=v.dxGanttPrefix+"BA",v.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},v})();d.GridLayoutCalculator=g},7072:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScaleCalculator=d.ScaleItemInfo=void 0;var u=l(8900),h=l(6353),f=l(9201),s=l(2449),n=function(t,r,o,c){this.start=t,this.end=r,this.position=o,this.size=c};d.ScaleItemInfo=n;var i=(function(){function t(){this.firstDayOfWeek=0}return t.prototype.setSettings=function(r,o,c,g){g===void 0&&(g=0),this.range=r,this.viewType=o,this.tickSize=c,this.firstDayOfWeek=g,this.reset()},t.prototype.setViewType=function(r){this.viewType=r,this.reset()},t.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},t.prototype.getScaleIndexByPos=function(r,o){o!=null||(o=this.viewType);var c=o===this.viewType?this.bottomScaleItems:this.topScaleItems,g=-1;if(c.findIndex)g=c.findIndex((function(m){return r>=m.position.x&&r<=m.position.x+m.size.width}));else{var v=c.filter((function(m){return r>=m.position.x&&r<=m.position.x+m.size.width}))[0];v&&(g=c.indexOf(v))}return g},t.prototype.getScaleBorderPosition=function(r,o){var c=this.getScaleItems(o)[r];if(c)return c.position.x+c.size.width},t.prototype.getScaleItems=function(r){return r===this.viewType?this.bottomScaleItems:r===f.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},t.prototype.getScaleItem=function(r,o){return this.getScaleItems(o)[r]},t.prototype.getScaleItemAdjustedStart=function(r,o){var c=this.getScaleItems(o)[r];if(r>0)return c.start;var g=o!==this.viewType,v=g?f.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(c.start,o,this.firstDayOfWeek);if(g&&o===s.ViewType.Months){var m=this.range.start;v=new Date(m.getFullYear(),m.getMonth(),1)}if(g&&o===s.ViewType.FiveYears){var _=5*Math.trunc(v.getFullYear()/5);v=new Date(_,v.getMonth(),v.getDate())}return v},Object.defineProperty(t.prototype,"topScaleItems",{get:function(){var r;return(r=this._topScaleItems)!==null&&r!==void 0||(this._topScaleItems=this.calculateTopScale(f.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomScaleItems",{get:function(){var r;return(r=this._bottomScaleItems)!==null&&r!==void 0||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleWidth",{get:function(){var r;return(r=this._scaleWidth)!==null&&r!==void 0||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),t.prototype.getFirstScaleIndexForRender=function(r){var o=this.getScaleIndexByPos(r);return o=Math.max(o-10,0)},t.prototype.getLastScaleIndexForRender=function(r){var o=this.getScaleIndexByPos(r);return o=o===-1?this.bottomScaleItems.length-1:Math.min(o+10,this.bottomScaleItems.length-1)},t.prototype.getTopScaleIndexByBottomIndex=function(r){var o=this.bottomScaleItems[r];return o?this.getScaleIndexByPos(o.position.x,f.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},t.prototype.calculateBottomScale=function(r){for(var o=new Array,c=this.tickSize.width,g=this.range.start,v=0;g.getTime()<this.range.end.getTime();){var m=this.getNextScaleDate(g,r),_=g.getTime()===this.range.start.getTime(),T=m.getTime()>=this.range.end.getTime(),b=_||T||r>s.ViewType.Hours&&f.DateUtils.hasDST()?this.getRangeTickCount(g,m)*c:c;o.push(new n(g,m,new u.Point(v,void 0),new h.Size(b,0))),g=m,v+=b}return o},t.prototype.calculateTopScale=function(r){for(var o=new Array,c=this.range.end.getTime(),g=this.range.start,v=0,m=0;g.getTime()<c;)for(var _=this.getNextScaleDate(g,r),T=_.getTime(),b=m;b<this.bottomScaleItems.length;b++){var k=this.bottomScaleItems[b],D=k.start.getTime(),E=k.end.getTime();if(T>=D&&T<=E){var A=(T-D)/(E-D)*k.size.width+k.position.x;o.push(new n(g,_,new u.Point(v,void 0),new h.Size(A-v,0))),m=b,v=A,g=_;break}}return o},t.prototype.getDateInScale=function(r){if(r<0){var o=r/this.tickSize.width,c=f.DateUtils.getTickTimeSpan(this.viewType);return new Date(this.range.start.getTime()+o*c)}for(var g=0;g<this.bottomScaleItems.length;g++){var v=this.bottomScaleItems[g],m=v.size.width,_=v.position.x;if(r>=_&&r<=_+m){var T=v.start.getTime();return o=(r-_)/m*(v.end.getTime()-T),new Date(v.start.getTime()+o)}}return new Date(this.range.end)},t.prototype.getNextScaleDate=function(r,o){var c;switch(o){case s.ViewType.TenMinutes:c=this.getNextDateInTenMinutesScale(r);break;case s.ViewType.Hours:c=this.getNextDateInHoursScale(r);break;case s.ViewType.SixHours:c=this.getNextDateInSixHoursScale(r);break;case s.ViewType.Days:c=this.getNextDateInDaysScale(r);break;case s.ViewType.Weeks:c=this.getNextDateInWeeksScale(r,this.firstDayOfWeek);break;case s.ViewType.Months:c=this.getNextDateInMonthsScale(r);break;case s.ViewType.Quarter:c=this.getNextDateInQuartersScale(r);break;case s.ViewType.Years:c=this.getNextDateInYearsScale(r);break;case s.ViewType.FiveYears:c=this.getNextDateInFiveYearsScale(r)}return c.getTime()>this.range.end.getTime()&&(c=this.range.end),c},t.prototype.getNextTimeBySpan=function(r,o){return(Math.trunc(r/o)+1)*o},t.prototype.getNextDateInTenMinutesScale=function(r){var o=this.getNextTimeBySpan(r.getMinutes(),10);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),o)},t.prototype.getNextDateInHoursScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()+1)},t.prototype.getNextDateInSixHoursScale=function(r){var o=this.getNextTimeBySpan(r.getHours(),6);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),o)},t.prototype.getNextDateInDaysScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)},t.prototype.getNextDateInWeeksScale=function(r,o){return o===void 0&&(o=0),new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+o+7)},t.prototype.getNextDateInMonthsScale=function(r){return new Date(r.getFullYear(),r.getMonth()+1,1)},t.prototype.getNextDateInQuartersScale=function(r){var o=this.getNextTimeBySpan(r.getMonth(),3);return new Date(r.getFullYear(),o,1)},t.prototype.getNextDateInYearsScale=function(r){return new Date(r.getFullYear()+1,0,1)},t.prototype.getNextDateInFiveYearsScale=function(r){var o=this.getNextTimeBySpan(r.getFullYear(),5);return new Date(o,0,1)},t.prototype.getAdjustedBottomScaleItemStart=function(r,o,c){switch(c===void 0&&(c=0),o){case s.ViewType.TenMinutes:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),10*Math.floor(r.getMinutes()/10));case s.ViewType.SixHours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),6*Math.floor(r.getHours()/6));case s.ViewType.Hours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours());case s.ViewType.Days:return new Date(r.getFullYear(),r.getMonth(),r.getDate());case s.ViewType.Weeks:return new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+c);case s.ViewType.Months:return new Date(r.getFullYear(),r.getMonth(),1);case s.ViewType.Quarter:return new Date(r.getFullYear(),3*Math.floor(r.getMonth()/3),1);case s.ViewType.Years:return new Date(r.getFullYear(),0,1);default:return new Date}},t.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce((function(r,o){return r+o.size.width}),0)},t.prototype.getScaleItemColSpan=function(r){return r.valueOf()===this.viewType.valueOf()?1:this.viewType===s.ViewType.TenMinutes?6:this.viewType===s.ViewType.Hours?24:this.viewType===s.ViewType.SixHours?4:this.viewType===s.ViewType.Days?7:this.viewType===s.ViewType.Weeks?4.29:this.viewType===s.ViewType.Months?12:this.viewType===s.ViewType.Quarter?4:this.viewType===s.ViewType.Years?5:1},t.prototype.getRangeTickCount=function(r,o){return f.DateUtils.getRangeTickCount(r,o,this.viewType)},t})();d.ScaleCalculator=i},9377:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaContainer=void 0;var l=(function(){function u(h,f){this.element=h,this.onScrollHandler=function(){f.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(u.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(h){this.element.scrollTop=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(h){this.element.scrollLeft=h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.getWidth=function(){return this.element.offsetWidth},u.prototype.getHeight=function(){return this.element.offsetHeight},u.prototype.getElement=function(){return this.element},u.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},u})();d.TaskAreaContainer=l},6923:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ConnectorLinesRender=void 0;var u=l(658),h=l(1855),f=(function(){function s(n){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=n}return Object.defineProperty(s.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),s.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},s.prototype.createConnectorLineElement=function(n){if(this.showDependencies){var i=n.attr["dependency-id"];if(!this.invalidTaskDependencies.some((function(o){return o.id==i}))){this.taskEditController.isDependencySelected(i)&&(n.className=n.className+" active");var t=n.className.indexOf(h.GridLayoutCalculator.arrowClassName)>-1,r=u.RenderElementUtils.create(n,null,this.taskArea,this.connectorLinesToElementsMap);return t&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(r),r}}},s.prototype.removeConnectorLineElement=function(n){u.RenderElementUtils.remove(n,null,this.taskArea,this.connectorLinesToElementsMap)},s.prototype.recreateConnectorLineElement=function(n,i){var t=this;i===void 0&&(i=!1);var r=[];this._renderedConnectorLines=this.renderedConnectorLines.filter((function(c){return c.attr["dependency-id"]!=n||(r.push(c),!1)}));var o=r.length>0;r.forEach((function(c){t.removeConnectorLineElement(c)})),r=this.gridLayoutCalculator.updateTileToConnectorLinesMap(n),(o||i)&&r.forEach((function(c){t.createConnectorLineElement(c),t.renderedConnectorLines.push(c)}))},s.prototype.recreateConnectorLineElements=function(){var n=this,i=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);u.RenderElementUtils.recreate(this.renderedConnectorLines,i,(function(t){n.removeConnectorLineElement(t)}),(function(t){n.createConnectorLineElement(t)})),this._renderedConnectorLines=i},s.prototype.updateRenderedConnectorLinesId=function(n,i){for(var t in this._renderedConnectorLines.forEach((function(o){o.attr["dependency-id"]===n&&(o.attr["dependency-id"]=i)})),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,t)){var r=this.connectorLinesToElementsMap[t];r.getAttribute("dependency-id")===n&&r.setAttribute("dependency-id",i)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(n),this.gridLayoutCalculator.updateTileToConnectorLinesMap(i)},s})();d.ConnectorLinesRender=f},1419:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CustomTaskRender=void 0;var u=l(2449),h=l(658),f=(function(){function s(n,i){this._pendingTemplateFuncsToRender=[],this._renderHelper=n,this._taskRender=i}return Object.defineProperty(s.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),s.prototype.getViewItem=function(n){return this._renderHelper.getViewItem(n)},s.prototype.getTask=function(n){return this._renderHelper.getTask(n)},s.prototype.destroyTemplate=function(n){this._renderHelper.destroyTemplate(n)},s.prototype.getTaskDependencies=function(n){return this._renderHelper.getTaskDependencies(n)},s.prototype.getTaskResources=function(n){return this._renderHelper.getTaskResources(n)},s.prototype.attachEventsOnTask=function(n){this._renderHelper.attachEventsOnTask(n)},s.prototype.recreateConnectorLineElement=function(n,i){i===void 0&&(i=!1),this._renderHelper.recreateConnectorLineElement(n,i)},s.prototype.createTaskSelectionElement=function(n){this._taskRender.createTaskSelectionElement(n)},s.prototype.createCustomTaskElement=function(n,i){if(this._saveTemplateFuncToStack(n,i),!this._hasRepeatedTemplateRenderCall(n)){var t=this.getViewItem(n);if(t){t.isCustom=!1;var r=document.createElement("DIV"),o=this.createCustomTaskInformation(n);t.isCustom=!0,i(r,o,this.onTaskTemplateContainerRendered.bind(this),n)}this._clearTemplateFuncsStack(n)}},s.prototype.onTaskTemplateContainerRendered=function(n,i){var t=this;if(this._hasRepeatedTemplateRenderCall(i)){n&&this._renderHelper.destroyTemplate(n);var r=this._getLastPendingTemplateFunc(i);setTimeout((function(){return t.createCustomTaskElement(i,r)}))}else this.drawCustomTask(n,i);this._clearTemplateFuncsStack(i)},s.prototype._saveTemplateFuncToStack=function(n,i){var t,r;(t=(r=this._pendingTemplateFuncsToRender)[n])!==null&&t!==void 0||(r[n]=[]),this._pendingTemplateFuncsToRender[n].push(i)},s.prototype._clearTemplateFuncsStack=function(n){this._pendingTemplateFuncsToRender[n]=[]},s.prototype._hasRepeatedTemplateRenderCall=function(n){return this._pendingTemplateFuncsToRender[n].length>1},s.prototype._getLastPendingTemplateFunc=function(n){var i=this._pendingTemplateFuncsToRender[n];return i[i.length-1]},s.prototype.createCustomTaskWrapperElement=function(n,i){h.RenderElementUtils.create(i,n,this.taskArea,this.taskElements)},s.prototype.createCustomTaskVisualElement=function(n,i){return h.RenderElementUtils.create(i,n,this.taskElements[n])},s.prototype.drawCustomTask=function(n,i){var t=this,r=this.getViewItem(i);if(r&&this.taskElements[i]){if(r.visible=!!n.innerHTML,this.taskElements[i].innerHTML=n.innerHTML,r.size.height=this.taskElements[i].offsetHeight,r.size.width=this.taskElements[i].offsetWidth,this.destroyTemplate(this.taskElements[i]),this._taskRender.removeTaskElement(i),r.visible&&r.task.isValid()){var o=this.gridLayoutCalculator.getTaskWrapperElementInfo(i);this.createCustomTaskWrapperElement(i,o),this.taskElements[i].appendChild(n),this.attachEventsOnTask(i)}else{var c=this.getTaskDependencies(r.task.internalId);c.length&&(this._taskRender.addInvalidTaskDependencies(c),c.forEach((function(g){return t.recreateConnectorLineElement(g.internalId,!0)})))}this._taskRender.isHighlightRowElementAllowed(i)&&this._taskRender.createHighlightRowElement(i),r.selected&&this.createTaskSelectionElement(i)}},s.prototype.createCustomTaskInformation=function(n){var i=this.getTask(n),t=this.getViewItem(n),r=this.gridLayoutCalculator.getTaskWrapperElementInfo(n),o=this.gridLayoutCalculator.getTaskElementInfo(n,this.taskTitlePosition!==u.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(n,r);var c=this.taskElements[n];this._renderHelper.taskTitlePosition===u.TaskTitlePosition.Outside&&this._taskRender.createTaskTextElement(n,c),this.createCustomTaskVisualElement(n,o);var g=this.getTaskResources(i.id);return{cellSize:this.tickSize,isMilestone:i.isMilestone(),isParent:!!(t!=null&&t.children.length),taskData:i,taskHTML:c.children,taskPosition:r.position,taskResources:g,taskSize:o.size}},s})();d.CustomTaskRender=f},9385:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EtalonsHelper=void 0;var u=l(6907),h=l(2449),f=l(1391),s=l(658),n=(function(){function i(t){this._renderHelper=t}return Object.defineProperty(i.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),i.prototype.getScaleItemTextTemplate=function(t){return this._renderHelper.getScaleItemTextTemplate(t)},i.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},i.prototype.getSmallTaskWidth=function(t){return this._renderHelper.getSmallTaskWidth(t)},i.prototype.createEtalonElementsContainer=function(){var t=document.createElement("DIV");return t.style.visibility="hidden",t.style.position="absolute",t.style.left="-1000px",this.mainElement.appendChild(t),t},i.prototype.createEtalonElements=function(t){var r=[],o=s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-taskWrapper"),null,t),c=s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-task"),null,o);s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,c).innerText="WWW",r.push(o);var g=s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-taskWrapper"),null,t);s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,g),r.push(g);for(var v=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],m=0;m<v.length;m++){var _=new f.GridElementInfo(v[m]);r.push(s.RenderElementUtils.create(_,null,t))}var T=s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-taskWrapper"),null,t),b=s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,T);return s.RenderElementUtils.create(new f.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,b).innerText="WWW",r.push(T),r},i.prototype.calculateEtalonSizeValues=function(){var t=this.createEtalonElementsContainer(),r=this.createEtalonElements(t);this.calculateEtalonSizeValuesCore(r),this.mainElement.removeChild(t)},i.prototype.calculateEtalonSizeValuesCore=function(t){this.etalonSizeValues.taskHeight=t[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=t[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=u.DomUtils.pxToInt(u.DomUtils.getCurrentStyle(t[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=u.DomUtils.getVerticalBordersWidth(t[2]),this.etalonSizeValues.connectorArrowWidth=u.DomUtils.getHorizontalBordersWidth(t[3]);for(var r=0;r<=h.ViewType.Years;r++)t[4].innerText=this.getScaleItemTextTemplate(r),this.etalonSizeValues.scaleItemWidths[r]=t[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(u.DomUtils.getCurrentStyle(t[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=u.DomUtils.pxToFloat(u.DomUtils.getCurrentStyle(t[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=t[t.length-1].firstChild.offsetHeight},i})();d.EtalonsHelper=n},4289:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScaleCellPreparedArguments=void 0;var l=(function(){function u(h){this.info=h}return Object.defineProperty(u.prototype,"scaleIndex",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleType",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"start",{get:function(){var h,f;return(f=(h=this.info)===null||h===void 0?void 0:h.range)===null||f===void 0?void 0:f.start},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"end",{get:function(){var h,f;return(f=(h=this.info)===null||h===void 0?void 0:h.range)===null||f===void 0?void 0:f.end},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleElement",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"separatorElement",{get:function(){var h;return(h=this.info)===null||h===void 0?void 0:h.separatorElement},enumerable:!1,configurable:!0}),u})();d.ScaleCellPreparedArguments=l},2121:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MainElementsRender=void 0;var l=(function(){function u(){}return u.prototype.createMainElement=function(h){var f=document.createElement("DIV");return f.style.width=h.offsetWidth+"px",f.style.height=h.offsetHeight+"px",f},u.prototype.createHeader=function(){var h=document.createElement("DIV");return h.className="dx-gantt-header",h},u})();d.MainElementsRender=l},1027:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NoWorkingIntervalRender=void 0;var u=l(658),h=(function(){function f(s){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=s}return Object.defineProperty(f.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(s){this._renderedNoWorkingIntervals=s},enumerable:!1,configurable:!0}),f.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},f.prototype.createNoWorkingIntervalElement=function(s){return u.RenderElementUtils.create(s,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},f.prototype.removeNoWorkingIntervalElement=function(s){u.RenderElementUtils.remove(s,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},f.prototype.recreateNoWorkingIntervalElements=function(){var s=this,n=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);u.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,n,(function(i){s.removeNoWorkingIntervalElement(i)}),(function(i){s.createNoWorkingIntervalElement(i)})),this.renderedNoWorkingIntervals=n},f})();d.NoWorkingIntervalRender=h},658:(w,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RenderElementUtils=void 0;var l=(function(){function u(){}return u.create=function(h,f,s,n){var i=document.createElement("DIV");for(var t in h.assignToElement(i),s.appendChild(i),n&&(n instanceof Array&&f!==null?n[f]=i:n[h.id]=i),h.attr)Object.prototype.hasOwnProperty.call(h.attr,t)&&i.setAttribute(t,h.attr[t]);for(var t in h.style)Object.prototype.hasOwnProperty.call(h.style,t)&&(i.style[t]=h.style[t]);return i},u.remove=function(h,f,s,n){var i;n instanceof Array&&f!==null?(i=n[f],delete n[f]):(i=n[h.id],delete n[h.id]),i&&i.parentNode==s&&s.removeChild(i)},u.recreate=function(h,f,s,n){h.filter((function(i){return f.indexOf(i)===-1})).forEach((function(i){s(i)})),f.filter((function(i){return h.indexOf(i)===-1})).forEach((function(i){n(i)}))},u})();d.RenderElementUtils=l},1074:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RenderHelper=void 0;var u=l(6923),h=l(9385),f=l(8877),s=l(2366),n=l(1855),i=l(1027),t=l(4966),r=l(6700),o=l(8148),c=l(3682),g=l(2349),v=l(2290),m=l(2121),_=l(6353),T=l(9377),b=l(8380),k=(function(){function D(E){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new f.EtalonSizeValues,this._gridLayoutCalculator=new n.GridLayoutCalculator,this._ganttView=E,this._connectorLinesRender=new u.ConnectorLinesRender(this),this._etalonsHelper=new h.EtalonsHelper(this),this._noWorkingIntervalRender=new i.NoWorkingIntervalRender(this),this._resourceRender=new t.ResourseRender(this),this._scaleRender=new r.ScaleRender(this),this._stripLinesRender=new o.StripLinesRender(this),this._taskAreaRender=new g.TaskAreaRender(this),this._taskRender=new v.TaskRender(this),this._mainElementsRender=new m.MainElementsRender}return D.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},D.prototype.createMainElement=function(E){this.mainElement=this._mainElementsRender.createMainElement(E),E.appendChild(this.mainElement)},D.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},D.prototype.init=function(E,A,F,R,x){x===void 0&&(x=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(E,A,F,R,x),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new c.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},D.prototype.initMarkup=function(E){this._elementTextHelper=new b.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(E),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},D.prototype.processScroll=function(E){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(E),E?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(D.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskTextHeightKey",{get:function(){return s.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskAreaManager",{get:function(){var E;return(E=this._taskAreaManager)!==null&&E!==void 0||(this._taskAreaManager=new c.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce((function(E,A){return E.concat(A)}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),D.prototype.setupHelpers=function(E,A,F,R,x){x===void 0&&(x=0);var N=new _.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),H=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(N,E,this.etalonSizeValues,A,R,F,H,x),this._elementTextHelper.setSettings(A.start.getTime(),F,R.items)},D.prototype.resetAndUpdate=function(E,A,F,R,x){x===void 0&&(x=0);var N=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(E,A,F,R,x),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(N)},D.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},D.prototype.getTargetDateByPos=function(E){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+E)},D.prototype.getExternalTaskAreaContainer=function(E){return this._ganttView.getExternalTaskAreaContainer(E)},D.prototype.prepareExternalTaskAreaContainer=function(E,A){return this._ganttView.prepareExternalTaskAreaContainer(E,A)},D.prototype.isAllowTaskAreaBorders=function(E){return this._ganttView.allowTaskAreaBorders(E)},D.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},D.prototype.getViewItem=function(E){return this._ganttView.getViewItem(E)},D.prototype.getTask=function(E){return this._ganttView.getTask(E)},D.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},D.prototype.destroyTemplate=function(E){this._ganttView.destroyTemplate(E)},D.prototype.getTaskDependencies=function(E){return this._ganttView.getTaskDependencies(E)},D.prototype.getTaskResources=function(E){return this._ganttView.getTaskResources(E)},D.prototype.isHighlightRowElementAllowed=function(E){return this._ganttView.isHighlightRowElementAllowed(E)},D.prototype.updateRenderedConnectorLinesId=function(E,A){this._connectorLinesRender.updateRenderedConnectorLinesId(E,A)},D.prototype.recreateConnectorLineElement=function(E,A){A===void 0&&(A=!1),this._connectorLinesRender.recreateConnectorLineElement(E,A)},D.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},D.prototype.setMainElementWidth=function(E){this.mainElement.style.width=E+"px"},D.prototype.setMainElementHeight=function(E){this.mainElement.style.height=E+"px"},D.prototype.createResources=function(E){this._resourceRender.createResourcesWrapperElement(E),this._resourceRender.createResources(E)},D.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},D.prototype.setTimeScaleContainerScrollLeft=function(E){this._scaleRender.setTimeScaleContainerScrollLeft(E)},D.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},D.prototype.createTaskArea=function(E){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),E.appendChild(this._taskArea)},D.prototype.isTaskUpdateAllowed=function(){var E=this.ganttViewSettings.editing;return E.enabled&&E.allowTaskUpdate},D.prototype.setSizeForTaskArea=function(){var E=this.getTaskAreaWidth(),A=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(E,A),this._ganttView.onTaskAreaSizeChanged({width:E,height:A})},D.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},D.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},D.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},D.prototype.setTaskAreaContainerScrollLeft=function(E){this._taskAreaRender.taskAreaContainer.scrollLeft=E},D.prototype.setTaskAreaContainerScrollLeftToDate=function(E,A){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(E))+A},D.prototype.getTaskAreaContainer=function(E){return new T.TaskAreaContainer(E,this._ganttView)},D.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},D.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},D.prototype.createHighlightRowElement=function(E){this._taskAreaRender.createHighlightRowElement(E)},D.prototype.getSmallTaskWidth=function(E){return this._taskRender.getSmallTaskWidth(E)},D.prototype.createTaskElement=function(E){this._taskRender.createTaskElement(E,this._ganttView.settings.taskContentTemplate)},D.prototype.removeTaskElement=function(E){this._taskRender.removeTaskElement(E)},D.prototype.recreateTaskElement=function(E){this._taskRender.recreateTaskElement(E)},D.prototype.createDefaultTaskElement=function(E){this._taskRender.createDefaultTaskElement(E)},D.prototype.getScaleItemText=function(E,A){var F=this._gridLayoutCalculator.getScaleItemStart(E,A);return this.getScaleItemTextByStart(F,A)},D.prototype.getScaleItemTextByStart=function(E,A){return this._elementTextHelper.getScaleItemText(E,A)},D.prototype.getTextWidth=function(E){return this._elementTextHelper.getTextWidth(E)},D.prototype.getTaskVisibility=function(E){return this.gridLayoutCalculator.isTaskInRenderedRange(E)&&this._elementTextHelper.getTaskVisibility(E)},D.prototype.getTaskResourcesVisibility=function(E){return this.getTaskVisibility(E)&&!this.gridLayoutCalculator.isTaskCutByRange(E)},D.prototype.getScaleItemTextTemplate=function(E){return this._elementTextHelper.getScaleItemTextTemplate(E)},D.prototype.getTaskText=function(E){return this._elementTextHelper.getTaskText(E)},D.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},D.prototype.attachEventsOnTask=function(E){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[E])},D.prototype.detachEventsOnTask=function(E){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[E])},D})();d.RenderHelper=k},4966:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ResourseRender=void 0;var u=l(658),h=(function(){function f(s){this._resourcesElements=[],this._renderHelper=s}return Object.defineProperty(f.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),f.prototype.getViewItem=function(s){return this._renderHelper.getViewItem(s)},f.prototype.getTaskResourcesVisibility=function(s){return this._renderHelper.getTaskResourcesVisibility(s)},f.prototype.createResources=function(s){for(var n=this.getViewItem(s).resources.items,i=0;i<n.length;i++)this.createResourceElement(s,n[i])},f.prototype.createResourcesWrapperElement=function(s){var n=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(s);u.RenderElementUtils.create(n,s,this.taskArea,this.resourcesElements),this.resourcesElements[s].style.display=this.getTaskResourcesVisibility(s)?"":"none"},f.prototype.createResourceElement=function(s,n){var i=this.gridLayoutCalculator.getTaskResourceElementInfo();n.color&&(i.style.backgroundColor=n.color);var t=u.RenderElementUtils.create(i,s,this.resourcesElements[s]);t.innerText=n.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(t)},f})();d.ResourseRender=h},6700:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScaleRender=void 0;var u=l(6907),h=l(2449),f=l(9201),s=l(4289),n=l(658),i=(function(){function t(r){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=r}return Object.defineProperty(t.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),t.prototype.getScaleItemText=function(r,o){return this._renderHelper.getScaleItemText(r,o)},t.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},t.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},t.prototype.setTimeScaleContainerScrollLeft=function(r){this._timeScaleContainer.scrollLeft=r},t.prototype.createTimeScaleContainer=function(r){var o=document.createElement("DIV");o.className="dx-gantt-tsac",o.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=o,r.appendChild(this.timeScaleContainer)},t.prototype.createTimeScaleArea=function(){var r=document.createElement("DIV");return r.className="dx-gantt-tsa",r.style.width=this.getTaskAreaWidth()+"px",r.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(r),this.timeScaleAreas.unshift(r),r},t.prototype.createTimeScaleAreas=function(){for(var r=0;r<this.scaleCount;r++)this.createTimeScaleArea()},t.prototype.createScaleElementCore=function(r,o,c,g){return g[c]||(g[c]=[]),n.RenderElementUtils.create(o,r,this.timeScaleAreas[c],g[c])},t.prototype.createScaleElement=function(r,o,c,g){var v=this._renderHelper.getTextWidth("a"),m=this.createScaleElementCore(r,g,o,this.scaleElements);if(m.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(g==null?void 0:g.size.width)>5*v){var _=this.getScaleItemText(r,c);m.innerText=_,c===h.ViewType.Quarter&&(m.style.padding="0");var T=getComputedStyle(m);g.size.width-u.DomUtils.pxToInt(T.paddingLeft)-u.DomUtils.pxToInt(T.paddingRight)<this._renderHelper.getTextWidth(_)&&(m.title=_)}return m},t.prototype.createScaleBorder=function(r,o,c){var g=this.gridLayoutCalculator.getScaleBorderInfo(r,c);return this.createScaleElementCore(r,g,o,this.scaleBorders)},t.prototype.createScaleElementAndBorder=function(r,o,c){var g=this.gridLayoutCalculator.getScaleElementInfo(r,c),v=this.createScaleElement(r,o,c,g),m=this.createScaleBorder(r,o,c);this.onScaleCellPrepared(c,o,v,m,g.additionalInfo.range)},t.prototype.removeScaleElementAndBorder=function(r,o){n.RenderElementUtils.remove(null,r,this.timeScaleAreas[o],this.scaleElements[o]),n.RenderElementUtils.remove(null,r,this.timeScaleAreas[o],this.scaleBorders[o])},t.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(f.DateUtils.ViewTypeToScaleMap[this.viewType],1)},t.prototype.recreateScaleElements=function(r,o){var c=this,g=this.gridLayoutCalculator.getRenderedScaleItemIndices(r,this.renderedColIndices),v=this.renderedScaleItemIndices[r-this.viewType]||[];n.RenderElementUtils.recreate(v,g,(function(m){c.removeScaleElementAndBorder(m,o)}),(function(m){c.createScaleElementAndBorder(m,o,r)})),this.renderedScaleItemIndices[r-this.viewType]=g},Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),t.prototype.onScaleCellPrepared=function(r,o,c,g,v){var m=new s.ScaleCellPreparedArguments({scaleType:r,scaleIndex:o,range:v,scaleElement:c,separatorElement:g});this.dispatcher.notifyScaleCellPrepared(m)},t})();d.ScaleRender=i},8148:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StripLinesRender=void 0;var u=l(658),h=(function(){function f(s){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=s}return Object.defineProperty(f.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(s){this._renderedStripLines=s},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),f.prototype.reset=function(){this._renderedStripLines=[]},f.prototype.recreateStripLines=function(){var s=this,n=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);u.RenderElementUtils.recreate(this.renderedStripLines,n,(function(i){u.RenderElementUtils.remove(i,null,s.taskArea,s.stripLinesMap)}),(function(i){return u.RenderElementUtils.create(i,null,s.taskArea,s.stripLinesMap)})),this.renderedStripLines=n},f})();d.StripLinesRender=h},2349:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskAreaRender=void 0;var u=l(6907),h=l(658),f=(function(){function s(n){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=n}return Object.defineProperty(s.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(n){this._renderHelper.renderedRowIndices=n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(n){this._renderHelper.renderedColIndices=n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),s.prototype.getExternalTaskAreaContainer=function(n){return this._renderHelper.getExternalTaskAreaContainer(n)},s.prototype.prepareExternalTaskAreaContainer=function(n,i){return this._renderHelper.prepareExternalTaskAreaContainer(n,i)},s.prototype.isAllowTaskAreaBorders=function(n){return this._renderHelper.isAllowTaskAreaBorders(n)},s.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},s.prototype.initTaskAreaContainer=function(n){this._renderHelper.createTaskArea(n),this._taskAreaContainer=this.getExternalTaskAreaContainer(n),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,this.taskAreaContainer==null&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(n))},s.prototype.createTaskElement=function(n){this._renderHelper.createTaskElement(n)},s.prototype.removeTaskElement=function(n){this._renderHelper.removeTaskElement(n)},s.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},s.prototype.prepareTaskAreaContainer=function(){var n="dx-gantt-tac-hb",i=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?u.DomUtils.addClassName(i,n):u.DomUtils.removeClassName(i,n);var t=parseInt(getComputedStyle(i).getPropertyValue("margin-top"))||0,r="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+t,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(i,{height:r}):i.style.height=r},s.prototype.createTaskAreaContainer=function(){var n=document.createElement("DIV");n.className="dx-gantt-tac",this.mainElement.appendChild(n),this.initTaskAreaContainer(n),this.prepareTaskAreaContainer()},s.prototype.createTaskAreaBorder=function(n,i){var t=this.gridLayoutCalculator.getTaskAreaBorderInfo(n,i);h.RenderElementUtils.create(t,n,this.taskArea,this.getTaskAreaBordersDictionary(i))},s.prototype.createTaskArea=function(){var n=document.createElement("DIV");return n.id="dx-gantt-ta",n},s.prototype.removeTaskAreaBorder=function(n,i){h.RenderElementUtils.remove(null,n,this.taskArea,this.getTaskAreaBordersDictionary(i))},s.prototype.createTaskAreaBorderAndTaskElement=function(n,i){this.isAllowTaskAreaBorders(i)&&this.createTaskAreaBorder(n,!i),i&&this.createTaskElement(n)},s.prototype.removeTaskAreaBorderAndTaskElement=function(n,i){this.isAllowTaskAreaBorders(i)&&this.removeTaskAreaBorder(n,!i),i&&this.removeTaskElement(n)},s.prototype.recreateTaskAreaBordersAndTaskElements=function(n){var i=this,t=n?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,r=this.gridLayoutCalculator.getRenderedRowColumnIndices(t,n),o=n?this.renderedRowIndices:this.renderedColIndices;h.RenderElementUtils.recreate(o,r,(function(c){i.removeTaskAreaBorderAndTaskElement(c,n)}),(function(c){i.createTaskAreaBorderAndTaskElement(c,n)})),n?this.renderedRowIndices=r:this.renderedColIndices=r,this.gridLayoutCalculator.createTileToConnectorLinesMap()},s.prototype.getTaskAreaBordersDictionary=function(n){return n?this.vertTaskAreaBorders:this.horTaskAreaBorders},s.prototype.setSizeForTaskArea=function(n,i){this.taskArea.style.width=n+"px",this.taskArea.style.height=i+"px"},s.prototype.createHighlightRowElement=function(n){var i=this.gridLayoutCalculator.getHighlightRowInfo(n);h.RenderElementUtils.create(i,n,this.taskArea,this.hlRowElements)},s})();d.TaskAreaRender=f},2290:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskRender=void 0;var u=l(6907),h=l(2449),f=l(1419),s=l(658),n=(function(){function i(t){this._selectionElements=[],this._taskElements=[],this._renderHelper=t,this.customTaskRender=new f.CustomTaskRender(t,this)}return Object.defineProperty(i.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),i.prototype.isHighlightRowElementAllowed=function(t){return this._renderHelper.isHighlightRowElementAllowed(t)},i.prototype.getTaskVisibility=function(t){return this._renderHelper.getTaskVisibility(t)},i.prototype.getTaskText=function(t){return this._renderHelper.getTaskText(t)},Object.defineProperty(i.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fakeTaskWrapper",{get:function(){var t;return(t=this._fakeTaskWrapper)!==null&&t!==void 0||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),i.prototype.getViewItem=function(t){return this._renderHelper.getViewItem(t)},i.prototype.getTask=function(t){return this._renderHelper.getTask(t)},i.prototype.createHighlightRowElement=function(t){this._renderHelper.createHighlightRowElement(t)},i.prototype.getTaskDependencies=function(t){return this._renderHelper.getTaskDependencies(t)},i.prototype.addInvalidTaskDependencies=function(t){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(t)},i.prototype.removeInvalidTaskDependencies=function(t){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter((function(r){return r.predecessorId!=t||r.successorId!=t}))},i.prototype.createResources=function(t){this.showResources&&this._renderHelper.createResources(t)},i.prototype.attachEventsOnTask=function(t){this._renderHelper.attachEventsOnTask(t)},i.prototype.detachEventsOnTask=function(t){this._renderHelper.detachEventsOnTask(t)},i.prototype.recreateConnectorLineElement=function(t,r){r===void 0&&(r=!1),this._renderHelper.recreateConnectorLineElement(t,r)},i.prototype.renderTaskElement=function(t){this._renderHelper.createTaskElement(t)},i.prototype.reset=function(){var t=this;this._taskElements.forEach((function(r,o){return t.removeTaskElement(o)})),this._selectionElements=[],this._taskElements=[]},i.prototype.createTaskWrapperElement=function(t){var r=this.gridLayoutCalculator.getTaskWrapperElementInfo(t);s.RenderElementUtils.create(r,t,this.taskArea,this.taskElements),this.taskElements[t].style.display=this.getTaskVisibility(t)?"":"none"},i.prototype.createTaskElement=function(t,r){var o=this.getViewItem(t);if(r)this.customTaskRender.createCustomTaskElement(t,r);else{if(!o.task.isValid()||!o.visible){var c=this.getTaskDependencies(o.task.internalId);return this.addInvalidTaskDependencies(c),void(o.selected&&this.createTaskSelectionElement(t))}this.createDefaultTaskElement(t)}},i.prototype.createTaskVisualElement=function(t){var r=this.gridLayoutCalculator.getTaskElementInfo(t,this.taskTitlePosition!==h.TaskTitlePosition.Inside),o=s.RenderElementUtils.create(r,t,this.taskElements[t]);return this.attachEventsOnTask(t),o},i.prototype.createDefaultTaskElement=function(t){var r=this.getViewItem(t);this.isHighlightRowElementAllowed(t)&&this.createHighlightRowElement(t),r.selected&&this.createTaskSelectionElement(t),this.createTaskWrapperElement(t),this.taskTitlePosition===h.TaskTitlePosition.Outside&&this.createTaskTextElement(t,this.taskElements[t]);var o=this.createTaskVisualElement(t);r.task.isMilestone()||(this.taskTitlePosition===h.TaskTitlePosition.Inside&&this.createTaskTextElement(t,o),this.createTaskProgressElement(t,o)),this.createResources(t)},i.prototype.removeTaskElement=function(t){var r=this.getTask(t);if(r&&this.removeInvalidTaskDependencies(r.id),this.detachEventsOnTask(t),this._renderHelper.hasTaskTemplate()){var o=this.taskElements[t],c=o==null?void 0:o.firstElementChild;c&&(this._renderHelper.destroyTemplate(c),o.removeChild(c))}s.RenderElementUtils.remove(null,t,this.taskArea,this.taskElements),s.RenderElementUtils.remove(null,t,this.taskArea,this.resourcesElements),s.RenderElementUtils.remove(null,t,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(t)&&s.RenderElementUtils.remove(null,t,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(t)},i.prototype.recreateTaskElement=function(t){var r=this,o=this.renderedRowIndices.filter((function(v){return v===t})).length>0,c=this.getTask(t);if(c){o&&(this.removeTaskElement(t),this.renderTaskElement(t));var g=this.getTaskDependencies(c.internalId);g.length&&g.forEach((function(v){return r.recreateConnectorLineElement(v.internalId,!0)}))}},i.prototype.createFakeTaskWrapper=function(){var t,r,o=(r=(t=this.viewModelItems.filter((function(m){return m.task&&!m.task.isMilestone}))[0])===null||t===void 0?void 0:t.visibleIndex)!==null&&r!==void 0?r:0,c=this.gridLayoutCalculator,g=s.RenderElementUtils.create(c.getTaskWrapperElementInfo(o),null,this.taskArea),v=s.RenderElementUtils.create(c.getTaskElementInfo(o),null,g);return this.createTaskTextElement(o,v),this.createTaskProgressElement(o,v),g.style.display="none",g},i.prototype.createTaskProgressElement=function(t,r){var o=this.gridLayoutCalculator.getTaskProgressElementInfo(t);s.RenderElementUtils.create(o,t,r)},i.prototype.getTextWidth=function(t){return this._renderHelper.getTextWidth(t)},Object.defineProperty(i.prototype,"minTextWidth",{get:function(){var t;return(t=this._minTextWidth)!==null&&t!==void 0||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),i.prototype.createTaskTextElement=function(t,r){var o,c,g=this.gridLayoutCalculator.getTaskTextElementInfo(t,this.taskTitlePosition===h.TaskTitlePosition.Inside);if(!g.additionalInfo.hidden){var v=s.RenderElementUtils.create(g,t,r),m=this.getTaskText(t);if(this.taskTitlePosition===h.TaskTitlePosition.Outside&&g.size.width>0){var _=getComputedStyle(v),T=g.size.width-u.DomUtils.pxToInt(_.paddingLeft);if(T>=this.minTextWidth){var b=u.DomUtils.pxToInt(_.paddingRight),k=m?this.getTextWidth(m):0;b&&k>T-b&&(b=Math.min(i.minTitleOutRightPadding,T-this.minTextWidth),v.style.paddingRight=b+"px"),k>T-b&&(v.style.overflowX="hidden",v.style.textOverflow="ellipsis")}else v.style.display="none"}m||((o=this[c=this.taskTextHeightKey])!==null&&o!==void 0||(this[c]=this.getTaskTextHeight(v)),v.style.height=this[this.taskTextHeightKey]),v.innerText=m}},i.prototype.createTaskSelectionElement=function(t){var r=this.gridLayoutCalculator.getSelectionElementInfo(t);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&r.size.height++,s.RenderElementUtils.create(r,t,this.taskArea,this.selectionElements)},i.prototype.getTaskTextHeight=function(t){t.innerText="WWW";var r=getComputedStyle(t).height;return t.innerText="",r},i.prototype.getSmallTaskWidth=function(t){var r=0;if(t!=null&&t!==""){var o=t.indexOf("rem");if(o>-1)try{r=parseFloat(t.substr(0,o))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch{}else r=u.DomUtils.pxToInt(t)}return 2*r},i.minTitleOutRightPadding=5,i})();d.TaskRender=n},2990:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EditingSettings=void 0;var u=l(2491),h=(function(){function f(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return f.parse=function(s){var n=new f;return s&&((0,u.isDefined)(s.enabled)&&(n.enabled=s.enabled),(0,u.isDefined)(s.allowDependencyDelete)&&(n.allowDependencyDelete=s.allowDependencyDelete),(0,u.isDefined)(s.allowDependencyInsert)&&(n.allowDependencyInsert=s.allowDependencyInsert),(0,u.isDefined)(s.allowTaskDelete)&&(n.allowTaskDelete=s.allowTaskDelete),(0,u.isDefined)(s.allowTaskInsert)&&(n.allowTaskInsert=s.allowTaskInsert),(0,u.isDefined)(s.allowTaskUpdate)&&(n.allowTaskUpdate=s.allowTaskUpdate),(0,u.isDefined)(s.allowResourceDelete)&&(n.allowResourceDelete=s.allowResourceDelete),(0,u.isDefined)(s.allowResourceInsert)&&(n.allowResourceInsert=s.allowResourceInsert),(0,u.isDefined)(s.allowResourceUpdate)&&(n.allowResourceUpdate=s.allowResourceUpdate),(0,u.isDefined)(s.allowTaskResourceUpdate)&&(n.allowTaskResourceUpdate=s.allowTaskResourceUpdate),(0,u.isDefined)(s.taskHoverDelay)&&(n.taskHoverDelay=s.taskHoverDelay)),n},f.prototype.equal=function(s){var n=!0;return n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n&&this.enabled===s.enabled)&&this.allowDependencyDelete===s.allowDependencyDelete)&&this.allowDependencyInsert===s.allowDependencyInsert)&&this.allowTaskDelete===s.allowTaskDelete)&&this.allowTaskInsert===s.allowTaskInsert)&&this.allowTaskUpdate===s.allowTaskUpdate)&&this.allowResourceDelete===s.allowResourceDelete)&&this.allowResourceInsert===s.allowResourceInsert)&&this.allowResourceUpdate===s.allowResourceUpdate)&&this.allowTaskResourceUpdate===s.allowTaskResourceUpdate},f})();d.EditingSettings=h},9954:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FullScreenHelperSettings=void 0;var u=l(2491),h=(function(){function f(){}return f.parse=function(s){var n=new f;return s&&((0,u.isDefined)(s.getMainElement)&&(n.getMainElement=s.getMainElement),(0,u.isDefined)(s.adjustControl)&&(n.adjustControl=s.adjustControl)),n},f})();d.FullScreenHelperSettings=h},9640:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TaskEditSettings=void 0;var u=l(655),h=l(2491),f=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return u.__extends(n,s),n.parse=function(i){var t=new n;return i&&((0,h.isDefined)(i.getCommandManager)&&(t.getCommandManager=i.getCommandManager),(0,h.isDefined)(i.getViewModel)&&(t.getViewModel=i.getViewModel),(0,h.isDefined)(i.getGanttSettings)&&(t.getGanttSettings=i.getGanttSettings),(0,h.isDefined)(i.getRenderHelper)&&(t.getRenderHelper=i.getRenderHelper),(0,h.isDefined)(i.destroyTemplate)&&(t.destroyTemplate=i.destroyTemplate),(0,h.isDefined)(i.formatDate)&&(t.formatDate=i.formatDate),(0,h.isDefined)(i.getModelManipulator)&&(t.getModelManipulator=i.getModelManipulator),(0,h.isDefined)(i.getValidationController)&&(t.getValidationController=i.getValidationController)),t},n})(l(9080).TooltipSettings);d.TaskEditSettings=f},9080:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TooltipSettings=void 0;var u=l(2491),h=(function(){function f(){}return f.parse=function(s){var n=new f;return s&&((0,u.isDefined)(s.getHeaderHeight)&&(n.getHeaderHeight=s.getHeaderHeight),(0,u.isDefined)(s.getTaskTooltipContentTemplate)&&(n.getTaskTooltipContentTemplate=s.getTaskTooltipContentTemplate),(0,u.isDefined)(s.getTaskProgressTooltipContentTemplate)&&(n.getTaskProgressTooltipContentTemplate=s.getTaskProgressTooltipContentTemplate),(0,u.isDefined)(s.getTaskTimeTooltipContentTemplate)&&(n.getTaskTimeTooltipContentTemplate=s.getTaskTimeTooltipContentTemplate),(0,u.isDefined)(s.destroyTemplate)&&(n.destroyTemplate=s.destroyTemplate),(0,u.isDefined)(s.formatDate)&&(n.formatDate=s.formatDate),(0,u.isDefined)(s.getTaskAreaContainer)&&(n.getTaskAreaContainer=s.getTaskAreaContainer)),n},f})();d.TooltipSettings=h},5846:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationControllerSettings=void 0;var u=l(2491),h=(function(){function f(){}return f.parse=function(s){var n=new f;return s&&((0,u.isDefined)(s.getViewModel)&&(n.getViewModel=s.getViewModel),(0,u.isDefined)(s.getHistory)&&(n.getHistory=s.getHistory),(0,u.isDefined)(s.getModelManipulator)&&(n.getModelManipulator=s.getModelManipulator),(0,u.isDefined)(s.getRange)&&(n.getRange=s.getRange),(0,u.isDefined)(s.getValidationSettings)&&(n.getValidationSettings=s.getValidationSettings),(0,u.isDefined)(s.updateOwnerInAutoParentMode)&&(n.updateOwnerInAutoParentMode=s.updateOwnerInAutoParentMode),(0,u.isDefined)(s.getIsValidateDependenciesRequired)&&(n.getIsValidateDependenciesRequired=s.getIsValidateDependenciesRequired)),n},f})();d.ValidationControllerSettings=h},5351:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Settings=void 0;var u=l(2491),h=l(7880),f=l(2449),s=l(2990),n=l(9057),i=l(2762),t=l(9820),r=(function(){function o(){this.viewType=void 0,this.taskTitlePosition=f.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new s.EditingSettings,this.validation=new i.ValidationSettings,this.stripLines=new n.StripLineSettings,this.viewTypeRange=new t.ViewTypeRangeSettings}return o.parse=function(c){var g=new o;return c&&((0,u.isDefined)(c.viewType)&&(g.viewType=c.viewType),(0,u.isDefined)(c.taskTitlePosition)&&(g.taskTitlePosition=c.taskTitlePosition),(0,u.isDefined)(c.showResources)&&(g.showResources=c.showResources),(0,u.isDefined)(c.showDependencies)&&(g.showDependencies=c.showDependencies),(0,u.isDefined)(c.areHorizontalBordersEnabled)&&(g.areHorizontalBordersEnabled=c.areHorizontalBordersEnabled),(0,u.isDefined)(c.areVerticalBordersEnabled)&&(g.areHorizontalBordersEnabled=c.areHorizontalBordersEnabled),(0,u.isDefined)(c.areAlternateRowsEnabled)&&(g.areAlternateRowsEnabled=c.areAlternateRowsEnabled),(0,u.isDefined)(c.allowSelectTask)&&(g.allowSelectTask=c.allowSelectTask),(0,u.isDefined)(c.firstDayOfWeek)&&(g.firstDayOfWeek=c.firstDayOfWeek),(0,u.isDefined)(c.startDateRange)&&(g.startDateRange=new Date(c.startDateRange)),(0,u.isDefined)(c.endDateRange)&&(g.endDateRange=new Date(c.endDateRange)),(0,u.isDefined)(c.editing)&&(g.editing=s.EditingSettings.parse(c.editing)),(0,u.isDefined)(c.validation)&&(g.validation=i.ValidationSettings.parse(c.validation)),(0,u.isDefined)(c.stripLines)&&(g.stripLines=n.StripLineSettings.parse(c.stripLines)),(0,u.isDefined)(c.viewTypeRange)&&(g.viewTypeRange=t.ViewTypeRangeSettings.parse(c.viewTypeRange)),(0,u.isDefined)(c.taskTooltipContentTemplate)&&(g.taskTooltipContentTemplate=c.taskTooltipContentTemplate),(0,u.isDefined)(c.taskProgressTooltipContentTemplate)&&(g.taskProgressTooltipContentTemplate=c.taskProgressTooltipContentTemplate),(0,u.isDefined)(c.taskTimeTooltipContentTemplate)&&(g.taskTimeTooltipContentTemplate=c.taskTimeTooltipContentTemplate),(0,u.isDefined)(c.taskContentTemplate)&&(g.taskContentTemplate=c.taskContentTemplate),(0,u.isDefined)(c.cultureInfo)&&(g.cultureInfo=c.cultureInfo)),g},o.prototype.equal=function(c){var g=!0;return g=(g=(g=(g=(g=(g=(g=(g=(g=(g=(g=(g=g&&this.viewType===c.viewType)&&this.taskTitlePosition===c.taskTitlePosition)&&this.showResources===c.showResources)&&this.showDependencies===c.showDependencies)&&this.areHorizontalBordersEnabled===c.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===c.areAlternateRowsEnabled)&&this.allowSelectTask===c.allowSelectTask)&&this.editing.equal(c.editing))&&this.validation.equal(c.validation))&&this.stripLines.equal(c.stripLines))&&h.DateTimeUtils.areDatesEqual(this.startDateRange,c.startDateRange))&&h.DateTimeUtils.areDatesEqual(this.endDateRange,c.endDateRange)},o})();d.Settings=r},1442:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StripLine=void 0;var u=l(2491),h=(function(){function f(s,n,i,t,r){this.isCurrent=!1,this.start=s,this.end=n,this.title=i,this.cssClass=t,this.isCurrent=r}return f.parse=function(s){var n=new f;return s&&((0,u.isDefined)(s.start)&&(n.start=s.start),(0,u.isDefined)(s.end)&&(n.end=s.end),(0,u.isDefined)(s.title)&&(n.title=s.title),(0,u.isDefined)(s.cssClass)&&(n.cssClass=s.cssClass)),n},f.prototype.clone=function(){return new f(this.start,this.end,this.title,this.cssClass,this.isCurrent)},f.prototype.equal=function(s){var n=!0;return n=(n=(n=(n=n&&this.start==s.start)&&this.end==s.end)&&this.title==s.title)&&this.cssClass==s.cssClass},f})();d.StripLine=h},9057:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StripLineSettings=void 0;var u=l(2491),h=l(1442),f=(function(){function s(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return s.parse=function(n){var i=new s;if(n&&((0,u.isDefined)(n.showCurrentTime)&&(i.showCurrentTime=n.showCurrentTime),(0,u.isDefined)(n.currentTimeUpdateInterval)&&(i.currentTimeUpdateInterval=n.currentTimeUpdateInterval),(0,u.isDefined)(n.currentTimeTitle)&&(i.currentTimeTitle=n.currentTimeTitle),(0,u.isDefined)(n.currentTimeCssClass)&&(i.currentTimeCssClass=n.currentTimeCssClass),(0,u.isDefined)(n.stripLines)))for(var t=0;t<n.stripLines.length;t++)i.stripLines.push(h.StripLine.parse(n.stripLines[t]));return i},s.prototype.equal=function(n){var i=!0;if(i=(i=(i=(i=(i=i&&this.showCurrentTime==n.showCurrentTime)&&this.currentTimeUpdateInterval==n.currentTimeUpdateInterval)&&this.currentTimeTitle==n.currentTimeTitle)&&this.currentTimeCssClass==n.currentTimeCssClass)&&this.stripLines.length===n.stripLines.length)for(var t=0;t<n.stripLines.length;t++)i=i&&this.stripLines[t].equal(n.stripLines[t]);return i},s})();d.StripLineSettings=f},2762:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationSettings=void 0;var u=l(2491),h=(function(){function f(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return f.parse=function(s){var n=new f;return s&&((0,u.isDefined)(s.validateDependencies)&&(n.validateDependencies=s.validateDependencies),(0,u.isDefined)(s.autoUpdateParentTasks)&&(n.autoUpdateParentTasks=s.autoUpdateParentTasks),(0,u.isDefined)(s.enablePredecessorGap)&&(n.enablePredecessorGap=s.enablePredecessorGap)),n},f.prototype.equal=function(s){var n=!0;return n=(n=(n=n&&this.validateDependencies===s.validateDependencies)&&this.autoUpdateParentTasks===s.autoUpdateParentTasks)&&this.enablePredecessorGap===s.enablePredecessorGap},f})();d.ValidationSettings=h},9820:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ViewTypeRangeSettings=void 0;var u=l(2491),h=l(2449),f=(function(){function s(){this.min=h.ViewType.TenMinutes,this.max=h.ViewType.Years}return s.parse=function(n){var i=new s;return n&&((0,u.isDefined)(n.min)&&(i.min=n.min),(0,u.isDefined)(n.max)&&(i.max=n.max)),i},s.prototype.equal=function(n){var i=!0;return i=(i=i&&this.min===n.min)&&this.max===n.max},s})();d.ViewTypeRangeSettings=f},9201:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DateUtils=void 0;var u=l(2449),h=(function(){function f(){}var s;return f.getDaysInQuarter=function(n){var i=3*Math.floor(n.getMonth()/3);return[i,i+1,i+2].reduce((function(t,r){return t+f.getDaysInMonth(r,n.getFullYear())}),0)},f.getDaysInMonth=function(n,i){return new Date(i,n+1,0).getDate()},f.getOffsetInMonths=function(n,i){return 12*(i.getFullYear()-n.getFullYear())+i.getMonth()-n.getMonth()},f.getOffsetInQuarters=function(n,i){return 4*(i.getFullYear()-n.getFullYear())+Math.floor(i.getMonth()/3)-Math.floor(n.getMonth()/3)},f.getNearestScaleTickDate=function(n,i,t,r){var o=new Date,c=i.start.getTime(),g=i.end.getTime();if(o.setTime(n.getTime()),n.getTime()<c)o.setTime(c);else if(n.getTime()>g)o.setTime(g);else if(this.needCorrectDate(n,c,t,r)){var v=this.getNearestLeftTickTime(n,c,t,r),m=this.getNextTickTime(v,t,r);Math.abs(n.getTime()-v)>Math.abs(n.getTime()-m)?o.setTime(m):o.setTime(v)}return o},f.needCorrectDate=function(n,i,t,r){return r==u.ViewType.Months?n.getTime()!==new Date(n.getFullYear(),n.getMonth(),1).getTime():(n.getTime()-i)%t!=0},f.getNearestLeftTickTime=function(n,i,t,r){return r==u.ViewType.Months?new Date(n.getFullYear(),n.getMonth(),1).getTime():i+Math.floor((n.getTime()-i)/t)*t},f.getNextTickTime=function(n,i,t){if(t==u.ViewType.Months){var r=new Date;return r.setTime(n),r.setMonth(r.getMonth()+1),r.getTime()}return n+i},f.adjustStartDateByViewType=function(n,i,t){switch(t===void 0&&(t=0),i){case u.ViewType.TenMinutes:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours());case u.ViewType.SixHours:case u.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate());case u.ViewType.Days:case u.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay()+t);case u.ViewType.Months:case u.ViewType.Quarter:case u.ViewType.Years:return new Date(n.getFullYear(),0,1);default:return new Date}},f.adjustEndDateByViewType=function(n,i,t){switch(t===void 0&&(t=0),i){case u.ViewType.TenMinutes:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+1);case u.ViewType.SixHours:case u.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);case u.ViewType.Days:case u.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()+7-n.getDay()+t);case u.ViewType.Months:case u.ViewType.Quarter:case u.ViewType.Years:return new Date(n.getFullYear()+1,0,1);default:return new Date}},f.roundStartDate=function(n,i){switch(i){case u.ViewType.TenMinutes:case u.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()-1);case u.ViewType.SixHours:case u.ViewType.Days:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-1);case u.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay());case u.ViewType.Months:return new Date(n.getFullYear(),n.getMonth()-1);case u.ViewType.Quarter:case u.ViewType.Years:return new Date(n.getFullYear()-1,0,1);default:return new Date}},f.getTickTimeSpan=function(n){switch(n){case u.ViewType.TenMinutes:return f.msPerHour/6;case u.ViewType.Hours:return f.msPerHour;case u.ViewType.SixHours:return 6*f.msPerHour;case u.ViewType.Days:return f.msPerDay;case u.ViewType.Weeks:return f.msPerWeek;case u.ViewType.Months:return f.msPerMonth;case u.ViewType.Quarter:return 3*f.msPerMonth;case u.ViewType.Years:return f.msPerYear}},f.getRangeTickCount=function(n,i,t){return t===u.ViewType.Months?this.getRangeTickCountInMonthsViewType(n,i):t===u.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(n,i):f.getRangeMSPeriod(n,i)/f.getTickTimeSpan(t)},f.getRangeMSPeriod=function(n,i){return i.getTime()-f.getDSTTotalDelta(n,i)-n.getTime()},f.getRangeTickCountInMonthsViewType=function(n,i){var t=new Date(n.getFullYear(),n.getMonth(),1),r=new Date(i.getFullYear(),i.getMonth(),1);return f.getOffsetInMonths(t,r)+(i.getTime()-r.getTime())/(f.getDaysInMonth(i.getMonth(),i.getFullYear())*f.msPerDay)-(n.getTime()-t.getTime())/(f.getDaysInMonth(n.getMonth(),n.getFullYear())*f.msPerDay)},f.getRangeTickCountInQuarterViewType=function(n,i){var t=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1),r=new Date(i.getFullYear(),3*Math.floor(i.getMonth()/3),1);return f.getOffsetInQuarters(t,r)+(i.getTime()-r.getTime())/(f.getDaysInQuarter(r)*f.msPerDay)-(n.getTime()-t.getTime())/(f.getDaysInQuarter(t)*f.msPerDay)},f.parse=function(n){return typeof n=="function"?new Date(n()):new Date(n)},f.getOrCreateUTCDate=function(n){var i=n.getTimezoneOffset();return i?new Date(n.valueOf()+6e4*i):n},f.getTimezoneOffsetDiff=function(n,i){return i.getTimezoneOffset()-n.getTimezoneOffset()},f.getDSTDelta=function(n,i){var t=f.getTimezoneOffsetDiff(n,i)*f.msPerMinute;return t>0?t:0},f.getDSTTotalDelta=function(n,i){if(!f.hasDST())return 0;for(var t=n,r=0,o=t.getFullYear(),c=t.getMonth();t<i;){c>=5?(o++,c=0):c=5;var g=new Date(o,c,1);g>i&&(g=i),r+=f.getDSTDelta(t,g),t=g}return r},f.getDSTCorrectedTaskEnd=function(n,i){var t=n.getTime()+i,r=f.getDSTTotalDelta(n,new Date(t));return new Date(t+r)},f.hasDST=function(){var n=new Date().getFullYear(),i=new Date(n,0,1),t=new Date(n,5,1);return f.getTimezoneOffsetDiff(i,t)!==0},f.msPerMinute=6e4,f.msPerHour=36e5,f.msPerDay=24*f.msPerHour,f.msPerWeek=7*f.msPerDay,f.msPerMonth=30*f.msPerDay,f.msPerYear=365*f.msPerDay,f.ViewTypeToScaleMap=((s={})[u.ViewType.TenMinutes]=u.ViewType.Hours,s[u.ViewType.Hours]=u.ViewType.Days,s[u.ViewType.SixHours]=u.ViewType.Days,s[u.ViewType.Days]=u.ViewType.Weeks,s[u.ViewType.Weeks]=u.ViewType.Months,s[u.ViewType.Months]=u.ViewType.Years,s[u.ViewType.Quarter]=u.ViewType.Years,s[u.ViewType.Years]=u.ViewType.FiveYears,s),f})();d.DateUtils=h},8380:(w,d,l)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ElementTextHelper=void 0;var u=l(6907),h=l(2449),f=l(9201),s=(function(){function n(i){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var t=document.createElement("canvas");this.textMeasureContext=t.getContext("2d"),this.cultureInfo=i}return n.prototype.setFont=function(i){var t=u.DomUtils.getCurrentStyle(i),r=t.font?t.font:t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" / "+t.lineHeight+" "+t.fontFamily;this.textMeasureContext.font=r},n.prototype.setSettings=function(i,t,r){this.startTime=i,this.viewType=t,this.modelItems=r},n.prototype.getScaleItemText=function(i,t){var r=this.viewType.valueOf()===t.valueOf();switch(t){case h.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(i);case h.ViewType.Hours:case h.ViewType.SixHours:return this.getHoursScaleItemText(i);case h.ViewType.Days:return this.getDaysScaleItemText(i,r);case h.ViewType.Weeks:return this.getWeeksScaleItemText(i,r);case h.ViewType.Months:return this.getMonthsScaleItemText(i,r);case h.ViewType.Quarter:return this.getQuarterScaleItemText(i,r);case h.ViewType.Years:return this.getYearsScaleItemText(i);case h.ViewType.FiveYears:return this.getFiveYearsScaleItemText(i)}},n.prototype.getTenMinutesScaleItemText=function(i){var t=i.getMinutes()+1;return(10*Math.ceil(t/10)).toString()},n.prototype.getThirtyMinutesScaleItemText=function(i){return i.getMinutes()<30?"30":"60"},n.prototype.getHoursScaleItemText=function(i){var t=i.getHours(),r=this.getHourDisplayText(t),o=t<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(r,o)},n.prototype.getDaysScaleItemText=function(i,t){return this.getDayTotalText(i,!0,t,t,!t)},n.prototype.getWeeksScaleItemText=function(i,t){var r=f.DateUtils.getDSTCorrectedTaskEnd(i,f.DateUtils.msPerWeek-f.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(i,t,!0,t,!t),this.getDayTotalText(r,t,!0,t,!t))},n.prototype.getMonthsScaleItemText=function(i,t){var r=this.getMonthNames(),o=t?"":i.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[i.getMonth()],o)},n.prototype.getQuarterScaleItemText=function(i,t){var r=this.getQuarterNames(),o=t?"":i.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[Math.floor(i.getMonth()/3)],o)},n.prototype.getYearsScaleItemText=function(i){return i.getFullYear().toString()},n.prototype.getFiveYearsScaleItemText=function(i){return i.getFullYear().toString()+" - "+(i.getFullYear()+4).toString()},n.prototype.getHourDisplayText=function(i){return this.hasAmPm()?(i==0?12:i<=12?i:i-12).toString():i<10?"0"+i:i.toString()},n.prototype.getDayTotalText=function(i,t,r,o,c){var g=o?this.getAbbrMonthNames():this.getMonthNames(),v=r?this.getAbbrDayNames():this.getDayNames(),m=t?v[i.getDay()]:"",_=i.getDate(),T=g[i.getMonth()],b=c?i.getFullYear().toString():"";return this.getDayTotalTextCore(m,_.toString(),T,b)},n.prototype.getTaskText=function(i){var t=this.modelItems[i];return t?t.task.title:""},n.prototype.getTaskVisibility=function(i){var t=this.modelItems[i];return!!t&&t.getVisible()},n.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},n.prototype.getScaleItemTextTemplate=function(i){switch(i){case h.ViewType.TenMinutes:return"00";case h.ViewType.Hours:case h.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case h.ViewType.Days:return this.getDayTextTemplate();case h.ViewType.Weeks:return this.getWeekTextTemplate();case h.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case h.ViewType.Quarter:return"Q4";case h.ViewType.Years:return"0000"}},n.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},n.prototype.getWeekTextTemplate=function(){var i=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(i,i)},n.prototype.getHoursScaleItemTextCore=function(i,t){return i+":00"+(this.hasAmPm()?" "+t:"")},n.prototype.getDayTotalTextCore=function(i,t,r,o){var c=i.length>0?i+", ":"";return c+=t+" "+r,c+=o.length>0?" "+o:""},n.prototype.getWeeksScaleItemTextCore=function(i,t){return i+" - "+t},n.prototype.getMonthsScaleItemTextCore=function(i,t){var r=i;return t.length>0&&(r+=" "+t),r},n.prototype.getLongestAbbrMonthName=function(){return this.longestAbbrMonthName==null&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},n.prototype.getLongestMonthName=function(){return this.longestMonthName==null&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},n.prototype.getLongestAbbrDayName=function(){return this.longestAbbrDayName==null&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},n.prototype.getLongestText=function(i){var t=this,r="",o=0;return i.forEach((function(c){var g=t.getTextWidth(c);g>o&&(o=g,r=c)})),r},n.prototype.getTextWidth=function(i){return Math.round(this.textMeasureContext.measureText(i).width)},n.prototype.getAmText=function(){return this.cultureInfo.amText},n.prototype.getPmText=function(){return this.cultureInfo.pmText},n.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},n.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},n.prototype.getDayNames=function(){return this.cultureInfo.dayNames},n.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},n.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},n})();d.ElementTextHelper=s},655:(w,d,l)=>{l.r(d),l.d(d,{__assign:()=>f,__asyncDelegator:()=>E,__asyncGenerator:()=>D,__asyncValues:()=>A,__await:()=>k,__awaiter:()=>r,__classPrivateFieldGet:()=>H,__classPrivateFieldSet:()=>G,__createBinding:()=>c,__decorate:()=>n,__exportStar:()=>g,__extends:()=>h,__generator:()=>o,__importDefault:()=>N,__importStar:()=>x,__makeTemplateObject:()=>F,__metadata:()=>t,__param:()=>i,__read:()=>m,__rest:()=>s,__spread:()=>_,__spreadArray:()=>b,__spreadArrays:()=>T,__values:()=>v});var u=function(O,B){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,V){W.__proto__=V}||function(W,V){for(var K in V)Object.prototype.hasOwnProperty.call(V,K)&&(W[K]=V[K])},u(O,B)};function h(O,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function W(){this.constructor=O}u(O,B),O.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)}var f=function(){return f=Object.assign||function(O){for(var B,W=1,V=arguments.length;W<V;W++)for(var K in B=arguments[W])Object.prototype.hasOwnProperty.call(B,K)&&(O[K]=B[K]);return O},f.apply(this,arguments)};function s(O,B){var W={};for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&B.indexOf(V)<0&&(W[V]=O[V]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function"){var K=0;for(V=Object.getOwnPropertySymbols(O);K<V.length;K++)B.indexOf(V[K])<0&&Object.prototype.propertyIsEnumerable.call(O,V[K])&&(W[V[K]]=O[V[K]])}return W}function n(O,B,W,V){var K,X=arguments.length,q=X<3?B:V===null?V=Object.getOwnPropertyDescriptor(B,W):V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(O,B,W,V);else for(var M=O.length-1;M>=0;M--)(K=O[M])&&(q=(X<3?K(q):X>3?K(B,W,q):K(B,W))||q);return X>3&&q&&Object.defineProperty(B,W,q),q}function i(O,B){return function(W,V){B(W,V,O)}}function t(O,B){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,B)}function r(O,B,W,V){return new(W||(W=Promise))((function(K,X){function q(P){try{I(V.next(P))}catch(L){X(L)}}function M(P){try{I(V.throw(P))}catch(L){X(L)}}function I(P){var L;P.done?K(P.value):(L=P.value,L instanceof W?L:new W((function(z){z(L)}))).then(q,M)}I((V=V.apply(O,B||[])).next())}))}function o(O,B){var W,V,K,X,q={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return X={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function M(I){return function(P){return(function(L){if(W)throw new TypeError("Generator is already executing.");for(;q;)try{if(W=1,V&&(K=2&L[0]?V.return:L[0]?V.throw||((K=V.return)&&K.call(V),0):V.next)&&!(K=K.call(V,L[1])).done)return K;switch(V=0,K&&(L=[2&L[0],K.value]),L[0]){case 0:case 1:K=L;break;case 4:return q.label++,{value:L[1],done:!1};case 5:q.label++,V=L[1],L=[0];continue;case 7:L=q.ops.pop(),q.trys.pop();continue;default:if(K=q.trys,!((K=K.length>0&&K[K.length-1])||L[0]!==6&&L[0]!==2)){q=0;continue}if(L[0]===3&&(!K||L[1]>K[0]&&L[1]<K[3])){q.label=L[1];break}if(L[0]===6&&q.label<K[1]){q.label=K[1],K=L;break}if(K&&q.label<K[2]){q.label=K[2],q.ops.push(L);break}K[2]&&q.ops.pop(),q.trys.pop();continue}L=B.call(O,q)}catch(z){L=[6,z],V=0}finally{W=K=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}})([I,P])}}}var c=Object.create?function(O,B,W,V){V===void 0&&(V=W),Object.defineProperty(O,V,{enumerable:!0,get:function(){return B[W]}})}:function(O,B,W,V){V===void 0&&(V=W),O[V]=B[W]};function g(O,B){for(var W in O)W==="default"||Object.prototype.hasOwnProperty.call(B,W)||c(B,O,W)}function v(O){var B=typeof Symbol=="function"&&Symbol.iterator,W=B&&O[B],V=0;if(W)return W.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&V>=O.length&&(O=void 0),{value:O&&O[V++],done:!O}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(O,B){var W=typeof Symbol=="function"&&O[Symbol.iterator];if(!W)return O;var V,K,X=W.call(O),q=[];try{for(;(B===void 0||B-- >0)&&!(V=X.next()).done;)q.push(V.value)}catch(M){K={error:M}}finally{try{V&&!V.done&&(W=X.return)&&W.call(X)}finally{if(K)throw K.error}}return q}function _(){for(var O=[],B=0;B<arguments.length;B++)O=O.concat(m(arguments[B]));return O}function T(){for(var O=0,B=0,W=arguments.length;B<W;B++)O+=arguments[B].length;var V=Array(O),K=0;for(B=0;B<W;B++)for(var X=arguments[B],q=0,M=X.length;q<M;q++,K++)V[K]=X[q];return V}function b(O,B,W){if(W||arguments.length===2)for(var V,K=0,X=B.length;K<X;K++)!V&&K in B||(V||(V=Array.prototype.slice.call(B,0,K)),V[K]=B[K]);return O.concat(V||Array.prototype.slice.call(B))}function k(O){return this instanceof k?(this.v=O,this):new k(O)}function D(O,B,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,K=W.apply(O,B||[]),X=[];return V={},q("next"),q("throw"),q("return"),V[Symbol.asyncIterator]=function(){return this},V;function q(z){K[z]&&(V[z]=function(ee){return new Promise((function(le,ve){X.push([z,ee,le,ve])>1||M(z,ee)}))})}function M(z,ee){try{(le=K[z](ee)).value instanceof k?Promise.resolve(le.value.v).then(I,P):L(X[0][2],le)}catch(ve){L(X[0][3],ve)}var le}function I(z){M("next",z)}function P(z){M("throw",z)}function L(z,ee){z(ee),X.shift(),X.length&&M(X[0][0],X[0][1])}}function E(O){var B,W;return B={},V("next"),V("throw",(function(K){throw K})),V("return"),B[Symbol.iterator]=function(){return this},B;function V(K,X){B[K]=O[K]?function(q){return(W=!W)?{value:k(O[K](q)),done:K==="return"}:X?X(q):q}:X}}function A(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,W=O[Symbol.asyncIterator];return W?W.call(O):(O=v(O),B={},V("next"),V("throw"),V("return"),B[Symbol.asyncIterator]=function(){return this},B);function V(K){B[K]=O[K]&&function(X){return new Promise((function(q,M){(function(I,P,L,z){Promise.resolve(z).then((function(ee){I({value:ee,done:L})}),P)})(q,M,(X=O[K](X)).done,X.value)}))}}}function F(O,B){return Object.defineProperty?Object.defineProperty(O,"raw",{value:B}):O.raw=B,O}var R=Object.create?function(O,B){Object.defineProperty(O,"default",{enumerable:!0,value:B})}:function(O,B){O.default=B};function x(O){if(O&&O.__esModule)return O;var B={};if(O!=null)for(var W in O)W!=="default"&&Object.prototype.hasOwnProperty.call(O,W)&&c(B,O,W);return R(B,O),B}function N(O){return O&&O.__esModule?O:{default:O}}function H(O,B,W,V){if(W==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof B=="function"?O!==B||!V:!B.has(O))throw new TypeError("Cannot read private member from an object whose class did not declare it");return W==="m"?V:W==="a"?V.call(O):V?V.value:B.get(O)}function G(O,B,W,V,K){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!K)throw new TypeError("Private accessor was defined without a setter");if(typeof B=="function"?O!==B||!K:!B.has(O))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?K.call(O,W):K?K.value=W:B.set(O,W),W}}},p={};function y(w){var d=p[w];if(d!==void 0)return d.exports;var l=p[w]={exports:{}};return a[w](l,l.exports,y),l.exports}y.d=(w,d)=>{for(var l in d)y.o(d,l)&&!y.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:d[l]})},y.o=(w,d)=>Object.prototype.hasOwnProperty.call(w,d),y.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var S={};return(()=>{var w=S;Object.defineProperty(w,"__esModule",{value:!0}),w.GanttView=w.default=void 0,y(8721);var d=y(2366);Object.defineProperty(w,"default",{enumerable:!0,get:function(){return d.GanttView}}),Object.defineProperty(w,"GanttView",{enumerable:!0,get:function(){return d.GanttView}})})(),S})()))})(We)),We.exports}var qs=$s();const $t=$a(qs);function Zs(){if(!$t)throw Me.Error("E1041","devexpress-gantt");return $t}class Ys{constructor(e,a){this._element=e,this._scrollView=a._createComponent(this._element,Zo,{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:()=>{a.updateView()}})}get scrollTop(){return this._scrollView.scrollTop()}set scrollTop(e){const a=e-this._scrollView.scrollTop();a!==0&&this._scrollView.scrollBy({left:0,top:a})}get scrollLeft(){return this._scrollView.scrollLeft()}set scrollLeft(e){const a=e-this._scrollView.scrollLeft();a!==0&&this._scrollView.scrollBy({left:a,top:0})}get scrollWidth(){return this._scrollView.scrollWidth()}get scrollHeight(){return this._scrollView.scrollHeight()}get isExternal(){return!0}getWidth(){return this._element.offsetWidth}getHeight(){return this._element.offsetHeight}getElement(){return this._element}}const Xs="fullScreen";class Qs extends ht{_init(){super._init(),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onViewTypeChanged=this._createActionByOption("onViewTypeChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._onPopupMenuHiding=this._createActionByOption("onPopupMenuHiding"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick"),this._onAdjustControl=this._createActionByOption("onAdjustControl")}_initMarkup(){var e;const a=Zs();this._ganttViewCore=new a(this.$element().get(0),this,{showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:(e=this.option("stripLines"))===null||e===void 0?void 0:e.map((y=>fe({},y)))},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),viewTypeRange:this._parseViewTypeRangeSettings(this.option("scaleTypeRange")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate"),taskProgressTooltipContentTemplate:this.option("taskProgressTooltipContentTemplate"),taskTimeTooltipContentTemplate:this.option("taskTimeTooltipContentTemplate"),taskContentTemplate:this.option("taskContentTemplate"),sieve:this.option("sieve")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState();const p=this.option("visualState");p&&(this._restoreStateFrameId=No((()=>this._restoreVisualState(p))))}_dispose(){super._dispose(),Fo(this._restoreStateFrameId)}_restoreVisualState(e){e.fullScreen&&this._ganttViewCore.setFullScreenMode()}_getFirstDayOfWeek(e){return ne(e)?e:pe.firstDayOfWeekIndex()}getTaskAreaContainer(){return this._ganttViewCore.getTaskAreaContainer()}getBarManager(){return this._ganttViewCore.barManager}executeCoreCommand(e){const a=this._ganttViewCore.getCommandByKey(e);a&&a.execute()}changeTaskExpanded(e,a){this._ganttViewCore.changeTaskExpanded(e,a)}updateView(){var e;(e=this._ganttViewCore)===null||e===void 0||e.updateView()}updateBarItemsState(){this._ganttViewCore.barManager.updateItemsState([])}setWidth(e){this._ganttViewCore.setWidth(e)}_onDimensionChanged(){this._ganttViewCore.onBrowserWindowResize()}_selectTask(e){this._ganttViewCore.selectTaskById(e)}_update(e){var a;(a=this._ganttViewCore)===null||a===void 0||a.updateWithDataReload(e)}_getCultureInfo(){return{monthNames:pe.getMonthNames("wide"),dayNames:pe.getDayNames("wide"),abbrMonthNames:pe.getMonthNames("abbreviated"),abbrDayNames:pe.getDayNames("abbreviated"),quarterNames:this._getQuarterNames(),amText:this._getAmText(),pmText:this._getPmText(),start:$.format("dxGantt-dialogStartTitle"),end:$.format("dxGantt-dialogEndTitle"),progress:$.format("dxGantt-dialogProgressTitle")}}_getAmText(){return this._hasAmPM()?pe.getPeriodNames()[0]:""}_getPmText(){return this._hasAmPM()?pe.getPeriodNames()[1]:""}_hasAmPM(){const e=new Date(Date.UTC(2012,11,12,3,0,0));return e.toLocaleTimeString(To.locale()).match(/am|pm/i)||e.toString().match(/am|pm/i)}_getQuarterNames(){const e=$.format("dxGantt-quarter");return e?[Re(e,1),Re(e,2),Re(e,3),Re(e,4)]:pe.getQuarterNames()}_getTaskTitlePosition(e){switch(e){case"outside":return 1;case"none":return 2;default:return 0}}_getViewTypeByScaleType(e){switch(e){case"minutes":return 0;case"hours":return 1;case"sixHours":return 2;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}_parseEditingSettings(e){return{enabled:e.enabled,allowDependencyDelete:e.allowDependencyDeleting,allowDependencyInsert:e.allowDependencyAdding,allowTaskDelete:e.allowTaskDeleting,allowTaskInsert:e.allowTaskAdding,allowTaskUpdate:e.allowTaskUpdating,allowResourceDelete:e.allowResourceDeleting,allowResourceInsert:e.allowResourceAdding,allowResourceUpdate:e.allowResourceUpdating,allowTaskResourceUpdate:e.allowTaskResourceUpdating}}_parseViewTypeRangeSettings(e){return{min:this._getViewTypeByScaleType(e.min),max:this._getViewTypeByScaleType(e.max)}}_optionChanged(e){switch(e.name){case"width":super._optionChanged(e),this._ganttViewCore.setWidth(e.value);break;case"height":this._ganttViewCore.setHeight(e.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._sieveOptions=void 0,this._update(!0);break;case"showResources":this._ganttViewCore.setShowResources(e.value);break;case"showDependencies":this._ganttViewCore.setShowDependencies(e.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(e.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(e.value));break;case"startDateRange":this._ganttViewCore.setStartDateRange(e.value);break;case"endDateRange":this._ganttViewCore.setEndDateRange(e.value);break;case"allowSelection":this._ganttViewCore.setAllowSelection(e.value);break;case"selectedRowKey":this._selectTask(e.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(e.value));break;case"validation":this._ganttViewCore.setValidationSettings(e.value),this._update(!0);break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(e.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(e.value));break;case"scaleTypeRange":this._ganttViewCore.setViewTypeRange(this._getViewTypeByScaleType(e.value.min),this._getViewTypeByScaleType(e.value.max));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:this.option("stripLines")});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(e.value);break;case"taskProgressTooltipContentTemplate":this._ganttViewCore.setTaskProgressTooltipContentTemplate(e.value);break;case"taskTimeTooltipContentTemplate":this._ganttViewCore.setTaskTimeTooltipContentTemplate(e.value);break;case"taskContentTemplate":this._ganttViewCore.setTaskContentTemplate(e.value);break;case"sieve":this._sortAndFilter(e.value);break;default:super._optionChanged(e)}}get bars(){return this.option("bars")}getRowHeight(){return this.option("rowHeight")}getHeaderHeight(){return this.option("headerHeight")}getGanttTasksData(){const e=this.option("tasks"),a=this.getSieveOptions();return a!=null&&a.sievedItems&&a!==null&&a!==void 0&&a.sieveColumn?a.sievedItems:e}_sortAndFilter(e){this._sieveOptions=e,this._update(!(e!=null&&e.expandTasks));const a=this.option("selectedRowKey");this._selectTask(a)}getSieveOptions(){return this._sieveOptions}getGanttDependenciesData(){return this.option("dependencies")}getGanttResourcesData(){return this.option("resources")}getGanttResourceAssignmentsData(){return this.option("resourceAssignments")}getGanttWorkTimeRules(){return null}getExternalTaskAreaContainer(e){return this._taskAreaContainer||(this._taskAreaContainer=new Ys(e,this)),this._taskAreaContainer}prepareExternalTaskAreaContainer(e,a){a!=null&&a.height&&this._taskAreaContainer._scrollView.option("height",a.height)}changeGanttTaskSelection(e,a){this._onSelectionChanged({id:e,selected:a})}onGanttScroll(e){this._onScroll({scrollTop:e})}showDialog(e,a,p,y){this._onDialogShowing({name:e,parameters:a,callback:p,afterClosing:y})}getModelChangesListener(){return this.option("modelChangesListener")}getExportInfo(){return this.option("exportInfo")}showPopupMenu(e){this._onPopupMenuShowing(e)}hidePopupMenu(e){this._onPopupMenuHiding(e)}getMainElement(){return this.option("mainElement").get(0)}adjustControl(){this._onAdjustControl()}getRequireFirstLoadParentAutoCalc(){return this.option("validation.autoUpdateParentTasks")}collapseAll(){this._collapseAll()}expandAll(){this._expandAll()}onTaskClick(e,a){return this._taskClick({key:e,event:a}),!0}onTaskDblClick(e,a){return this._taskDblClick({key:e,event:a})}onGanttViewContextMenu(e,a,p){return!0}getFormattedDateText(e){let a="";if(e){const p=pe.format(e,"shortDate"),y=this._hasAmPM()?"hh:mm a":"HH:mm",S=pe.format(e,y);a=p+" "+S}return a}destroyTemplate(e){Z(e).empty()}onTaskAreaSizeChanged(e){const a=this._taskAreaContainer._scrollView;if(ne(e==null?void 0:e.height)){const p=(e==null?void 0:e.height)>this._taskAreaContainer.getHeight()?"both":"horizontal";a.option("direction",p)}}updateGanttViewType(e){this._onViewTypeChanged({type:e})}getTreeListTableStyle(){return this.callExportHelperMethod("getTreeListTableStyle")}getTreeListColCount(){return this.callExportHelperMethod("getTreeListColCount")}getTreeListHeaderInfo(e){return this.callExportHelperMethod("getTreeListHeaderInfo",e)}getTreeListCellInfo(e,a,p){return this.callExportHelperMethod("getTreeListCellInfo",p,a)}getTreeListEmptyDataCellInfo(){return this.callExportHelperMethod("getTreeListEmptyDataCellInfo")}callExportHelperMethod(e){const a=this.option("exportHelper");for(var p=arguments.length,y=new Array(p>1?p-1:0),S=1;S<p;S++)y[S-1]=arguments[S];return a[e](...y)}applyTasksExpandedState(e){var a;(a=this._ganttViewCore)===null||a===void 0||a.applyTasksExpandedState(e)}getVisualStateToRestore(){var e,a;return{[Xs]:(e=this._ganttViewCore)===null||e===void 0||(a=e.isInFullScreenMode)===null||a===void 0?void 0:a.call(e)}}}class Js{constructor(){this._waitingForGanttViewReady=!1,this._waitingForTreeListReady=!1,this._completionActions=[]}onGanttViewReady(){this._stopWaitForGanttViewReady(),this.executeActionsIfPossible()}onTreeListReady(){this._stopWaitForTreeListReady(),this.executeActionsIfPossible()}addCompletionAction(e,a,p){e&&(a&&this._startWaitForGanttViewReady(),p&&this._startWaitForTreeListReady(),this._completionActions.push(e))}executeActionsIfPossible(){this._canExecuteActions()&&(this._completionActions.forEach((e=>e())),this._completionActions=[])}_startWaitForGanttViewReady(){this._waitingForGanttViewReady=!0}_stopWaitForGanttViewReady(){this._waitingForGanttViewReady=!1}_startWaitForTreeListReady(){this._waitingForTreeListReady=!0}_stopWaitForTreeListReady(){this._waitingForTreeListReady=!1}_canExecuteActions(){return!(this._waitingForGanttViewReady||this._waitingForTreeListReady)}}const qt=gt(),el="dx-gantt-treelist-wrapper",tl="dx-gantt-toolbar-wrapper",nl="dx-gantt-main-wrapper";class mn extends ht{_init(){super._init(),be.logHeaderFilterDeprecatedWarningIfNeed(this),this._initGantt(),this._isGanttRendered=!1,this._initHelpers()}_initGantt(){this._refreshDataSources()}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-gantt"),this._$toolbarWrapper=Z("<div>").addClass(tl).appendTo(this.$element()),this._$toolbar=Z("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=Z("<div>").addClass(nl).appendTo(this.$element()),this._$treeListWrapper=Z("<div>").addClass(el).appendTo(this._$mainWrapper),this._$treeList=Z("<div>").appendTo(this._$treeListWrapper),this._$splitter=Z("<div>").appendTo(this._$mainWrapper),this._$ganttView=Z("<div>").addClass("dx-gantt-view").appendTo(this._$mainWrapper),this._$dialog=Z("<div>").appendTo(this.$element()),this._$loadPanel=Z("<div>").appendTo(this.$element()),this._$contextMenu=Z("<div>").appendTo(this.$element())}_clean(){var e,a;this._savedGanttViewState=(e=this._ganttView)===null||e===void 0?void 0:e.getVisualStateToRestore(),(a=this._ganttView)===null||a===void 0||a._ganttViewCore.cleanMarkup(),delete this._ganttView,delete this._dialogInstance,delete this._loadPanel,delete this._exportHelper,super._clean()}_refresh(){this._isGanttRendered=!1,this._contentReadyRaised=!1,super._refresh()}_fireContentReadyAction(){this._contentReadyRaised||super._fireContentReadyAction(),this._contentReadyRaised=!0}_dimensionChanged(){var e;(e=this._ganttView)===null||e===void 0||e._onDimensionChanged()}_visibilityChanged(e){e&&this._refreshGantt()}_refreshGantt(){this._refreshDataSources(),setTimeout((()=>this._refresh()))}_refreshDataSources(){this._refreshDataSource("tasks"),this._refreshDataSource("dependencies"),this._refreshDataSource("resources"),this._refreshDataSource("resourceAssignments")}_renderContent(){this._isMainElementVisible=this.$element().is(":visible"),this._isMainElementVisible&&!this._isGanttRendered&&(this._isGanttRendered=!0,this._renderBars(),this._renderTreeList(),this._renderSplitter())}_renderTreeList(){this._ganttTreeList=new zs(this),this._treeList=this._ganttTreeList.getTreeList(),this._ganttTreeList.onAfterTreeListCreate()}_renderSplitter(){this._splitter=this._createComponent(this._$splitter,Ya,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:e=>{this._sizeHelper.onApplyPanelSize(e)}}),this._splitter.option("initialLeftPanelWidth",this.option("taskListWidth"))}_renderBars(){this._bars=[],this._toolbar=new gs(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new fs(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}_initHelpers(){this._mappingHelper=new ds(this),this._customFieldsManager=new Ja(this),this._actionsManager=new Xa(this),this._ganttTemplatesManager=new ps(this),this._sizeHelper=new cs(this),this._dataProcessingHelper=new Js}_initGanttView(){var e;this._ganttView||(this._ganttView=this._createComponent(this._$ganttView,Qs,{width:"100%",height:this._ganttTreeList.getOffsetHeight(),rowHeight:this._ganttTreeList.getRowHeight(),headerHeight:this._ganttTreeList.getHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:this.option("allowSelection"),selectedRowKey:this.option("selectedRowKey"),showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),taskTitlePosition:this.option("taskTitlePosition"),firstDayOfWeek:this.option("firstDayOfWeek"),showRowLines:this.option("showRowLines"),scaleType:this.option("scaleType"),scaleTypeRange:this.option("scaleTypeRange"),editing:this.option("editing"),validation:this.option("validation"),stripLines:(e=this.option("stripLines"))===null||e===void 0?void 0:e.map((a=>fe({},a))),bars:this._bars,mainElement:this.$element(),onSelectionChanged:a=>{this._ganttTreeList.selectRows(ae.getArrayFromOneElement(a.id))},onViewTypeChanged:a=>{this._onViewTypeChanged(a.type)},onScroll:a=>{this._ganttTreeList.scrollBy(a.scrollTop)},onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onPopupMenuHiding:this._hidePopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:qa.create(this),exportHelper:this._getExportHelper(),taskTooltipContentTemplate:this._ganttTemplatesManager.getTaskTooltipContentTemplateFunc(this.option("taskTooltipContentTemplate")),taskProgressTooltipContentTemplate:this._ganttTemplatesManager.getTaskProgressTooltipContentTemplateFunc(this.option("taskProgressTooltipContentTemplate")),taskTimeTooltipContentTemplate:this._ganttTemplatesManager.getTaskTimeTooltipContentTemplateFunc(this.option("taskTimeTooltipContentTemplate")),taskContentTemplate:this._ganttTemplatesManager.getTaskContentTemplateFunc(this.option("taskContentTemplate")),onTaskClick:a=>{this._ganttTreeList.onRowClick(a)},onTaskDblClick:a=>{this._ganttTreeList.onRowDblClick(a)},onAdjustControl:()=>{this._sizeHelper.onAdjustControl()},onContentReady:this._onGanttViewContentReady.bind(this),visualState:this._savedGanttViewState}),delete this._savedGanttViewState)}_onGanttViewContentReady(e){this._isParentAutoUpdateMode()||this._fireContentReadyAction()}_isParentAutoUpdateMode(){return this.option("validation.autoUpdateParentTasks")}_onTreeListContentReady(e){this._isParentAutoUpdateMode()&&this._treeListParentRecalculatedDataUpdating&&this._fireContentReadyAction(),delete this._treeListParentRecalculatedDataUpdating,this._dataProcessingHelper.onTreeListReady()}_onViewTypeChanged(e){this.option("scaleType",this._actionsManager._getScaleType(e))}_refreshDataSource(e){let a=this[`_${e}Option`];a&&(a.dispose(),delete this[`_${e}Option`],delete this[`_${e}`]),a=new un(e,this._getLoadPanel.bind(this),((p,y)=>{this._dataSourceChanged(p,y)})),a.option("dataSource",this._getSpecificDataSourceOption(e)),a._refreshDataSource(),this[`_${e}Option`]=a}_getSpecificDataSourceOption(e){const a=this.option(`${e}.dataSource`);return!a||Array.isArray(a)?{store:{type:"array",data:a??[],key:this.option(`${e}.keyExpr`)}}:a}_dataSourceChanged(e,a){const p=ae.compileGettersByOption(this.option(e)),y=this._validateSourceData(e,a),S=y.map(ae.prepareMapHandler(p));if(this[`_${e}`]=S,this._setGanttViewOption(e,S),e==="tasks"){var w,d,l;this._tasksRaw=y;const u=!((w=this._ganttTreeList)!==null&&w!==void 0&&w.getDataSource())&&!this._ganttView;(d=this._ganttTreeList)===null||d===void 0||d.saveExpandedKeys(),(l=this._ganttTreeList)===null||l===void 0||l.updateDataSource(y,u)}}_validateSourceData(e,a){return a&&e==="tasks"?this._validateTaskData(a):a}_validateTaskData(e){const a=he(this.option("tasks.keyExpr")),p=he(this.option("tasks.parentIdExpr")),y=this.option("rootValue")??"dx_dxt_gantt_default_root_value",S={};for(let d=0;d<e.length;d++){const l=e[d];if(l){const u=a(l),h=u===y,f=S[u]??(S[u]={key:u,children:[]});if(!h){const s=p(l)??y,n=S[s]??(S[s]={key:s,children:[]});n.children.push(f),f.parent=n}}}const w=[y];return this._appendChildKeys(S[y],w),e.filter((d=>w.indexOf(a(d))>-1))}_appendChildKeys(e,a){const p=e==null?void 0:e.children;for(let y=0;y<(p==null?void 0:p.length);y++){const S=p[y];a.push(S.key),this._appendChildKeys(S,a)}}_onRecordInserted(e,a,p){const y=this[`_${e}Option`];if(y){const S=ae.getStoreObject(this.option(e),a),w=e==="tasks";w&&this._customFieldsManager.addCustomFieldsDataFromCache("gantt_new_task_key",S),y.insert(S,(d=>{const u=he(this.option(`${e}.keyExpr`))(d);p(u),this._executeFuncSetters(e,a,u),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseInsertedAction(e,S,u)}),!0,w),this._ganttTreeList.saveExpandedKeys(),y._reloadDataSource().done((h=>{w&&this._ganttTreeList.onTaskInserted(u,a.parentId)}))}))}}_onRecordUpdated(e,a,p){const y=this[`_${e}Option`],S=e==="tasks";if(y){const w=this._mappingHelper.convertCoreToMappedData(e,p);S&&this._customFieldsManager.cache.hasData(a)&&this._customFieldsManager.addCustomFieldsDataFromCache(a,w),y.update(a,w,(()=>{this._executeFuncSetters(e,p,a),this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseUpdatedAction(e,w,a)}),!0,S),y._reloadDataSource()}))}}_onRecordRemoved(e,a,p){const y=this[`_${e}Option`];y&&y.remove(a,(()=>{this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseDeletedAction(e,a,this._mappingHelper.convertCoreToMappedData(e,p))}),!0,e==="tasks"),y._reloadDataSource()}))}_onParentTaskUpdated(e){const a=this.getTaskDataByCoreData(e);this._actionsManager.raiseUpdatedAction("tasks",a,e.id)}_onParentTasksRecalculated(e){if(!this.isSieving){const a=ae.compileSettersByOption(this.option("tasks")),p=this._customFieldsManager.appendCustomFields(e.map(ae.prepareSetterMapHandler(a)));setTimeout((()=>{var y;this._treeListParentRecalculatedDataUpdating=!0,(y=this._ganttTreeList)===null||y===void 0||y.setDataSource(p)}))}this.isSieving=!1}_onGanttViewCoreUpdated(){this._dataProcessingHelper.onGanttViewReady()}_executeFuncSetters(e,a,p){const y=ae.compileFuncSettersByOption(this.option(e)),S=Object.keys(y).filter((w=>ne(a[w])));if(S.length>0){const w=this._getDataSourceItem(e,p);S.forEach((d=>{const l=y[d];l(w,a[d])}))}}_sortAndFilter(){var e,a,p;const y=this._treeList,S=y.getColumns(),w=S.filter((n=>n.sortIndex>-1)),d=w.map((n=>({sortIndex:n.sortIndex,sortOrder:n.sortOrder}))),l=!this._compareSortedState((e=this._savedSortFilterState)===null||e===void 0?void 0:e.sort,d),u=y.option("filterValue"),h=y.option("expandNodesOnFiltering")&&u!==((a=this._savedSortFilterState)===null||a===void 0?void 0:a.filter),f=w[0]||S.filter((n=>{var i;return ne(n.filterValue)||((i=n.filterValues)===null||i===void 0?void 0:i.length)}))[0],s=((p=this._savedSortFilterState)===null||p===void 0?void 0:p.sieveColumn)&&!f;if(f||s){const n=f&&{sievedItems:this._ganttTreeList.getSievedItems(),sieveColumn:f,expandTasks:h||u&&l};this.isSieving=!s,this._setGanttViewOption("sieve",n)}this._savedSortFilterState={sort:d,filter:u,sieveColumn:f}}_compareSortedState(e,a){return!e||!a||e.length!==a.length?!1:e.every(((p,y)=>p.sortIndex===a[y].sortIndex&&p.sortOrder===a[y].sortOrder))}_getToolbarItems(){const e=this.option("toolbar.items");return e||[]}_updateToolbarContent(){const e=this._getToolbarItems();e.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),this._toolbar&&this._toolbar.createItems(e),this._updateBarItemsState()}_updateContextMenu(){const e=this.option("contextMenu");e.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(e.items),this._updateBarItemsState())}_updateBarItemsState(){this._ganttView&&this._ganttView.updateBarItemsState()}_showDialog(e){this._dialogInstance||(this._dialogInstance=new ns(this,this._$dialog)),this._dialogInstance.show(e.name,e.parameters,e.callback,e.afterClosing,this.option("editing"))}_showPopupMenu(e){if(this.option("contextMenu.enabled")){this._ganttView.getBarManager().updateContextMenu();const a={cancel:!1,event:e.event,targetType:e.type,targetKey:e.key,items:re(!0,[],this._contextMenuBar._items),data:e.type==="task"?this.getTaskData(e.key):this.getDependencyData(e.key)};this._actionsManager.raiseContextMenuPreparing(a),a.cancel||this._contextMenuBar.show(e.position,a.items)}}_hidePopupMenu(){this._contextMenuBar.hide()}_getLoadPanel(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,Yo,{position:{of:this.$element()}})),this._loadPanel}_getTaskKeyGetter(){return this._getDataSourceItemKeyGetter("tasks")}_findTaskByKey(e){return this._getDataSourceItem("tasks",e)}_getDataSourceItem(e,a){const p=this[`_${e}Option`],y=this._getDataSourceItemKeyGetter(e);return(p==null?void 0:p._getItems()).find((w=>y(w)===a))}_getDataSourceItemKeyGetter(e){return he(this.option(`${e}.keyExpr`))}_setGanttViewOption(e,a){this._ganttView&&this._ganttView.option(e,a)}_getGanttViewOption(e,a){var p;return(p=this._ganttView)===null||p===void 0?void 0:p.option(e)}_getExportHelper(){return this._exportHelper??(this._exportHelper=new us(this)),this._exportHelper}_executeCoreCommand(e){this._ganttView.executeCoreCommand(e)}_expandAll(){this._changeExpandAll(!0)}_collapseAll(){this._changeExpandAll(!1)}_onTreeListRowExpandChanged(e,a){this._lockRowExpandEvent||(this._ganttView.changeTaskExpanded(e.key,a),this._sizeHelper.adjustHeight())}_changeExpandAll(e,a,p){var y;const S=[],w=[];if(this._treeList.forEachNode((u=>{var h;(h=u.children)!==null&&h!==void 0&&h.length&&S.push(u)})),p){const u=this._treeList.getNodeByKey(p);ae.getAllParentNodesKeys(u,w)}let d;this._lockRowExpandEvent=S.length>0;const l=S.reduce(((u,h,f)=>{p?e=w.includes(h.key):a&&(e=h.level<a),u[h.key]=e;const s=e?this._treeList.expandRow:this._treeList.collapseRow;return f===S.length-1?d=s(h.key):s(h.key),u}),{});(y=d)===null||y===void 0||y.then((()=>{this._ganttView.applyTasksExpandedState(l),this._sizeHelper.adjustHeight(),delete this._lockRowExpandEvent}))}getTaskResources(e){return ne(e)?this._ganttView._ganttViewCore.getTaskResources(e).map((p=>this._mappingHelper.convertCoreToMappedData("resources",p))):null}getVisibleTaskKeys(){return this._ganttView._ganttViewCore.getVisibleTaskKeys()}getVisibleDependencyKeys(){return this._ganttView._ganttViewCore.getVisibleDependencyKeys()}getVisibleResourceKeys(){return this._ganttView._ganttViewCore.getVisibleResourceKeys()}getVisibleResourceAssignmentKeys(){return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()}getTaskData(e){if(!ne(e))return null;const a=this._ganttView._ganttViewCore.getTaskData(e);return this.getTaskDataByCoreData(a)}getTaskDataByCoreData(e){const a=e?this._mappingHelper.convertCoreToMappedData("tasks",e):null;return this._customFieldsManager.addCustomFieldsData(e.id,a),a}insertTask(e){this._customFieldsManager.saveCustomFieldsDataToCache("gantt_new_task_key",e),this._ganttView._ganttViewCore.insertTask(this._mappingHelper.convertMappedToCoreData("tasks",e))}deleteTask(e){this._ganttView._ganttViewCore.deleteTask(e)}updateTask(e,a){const p=this._mappingHelper.convertMappedToCoreData("tasks",a),y=!Object.keys(p).length;if(this._customFieldsManager.saveCustomFieldsDataToCache(e,a,!0,y),y){const S=this._customFieldsManager._getCustomFieldsData(a);Object.keys(S).length>0&&this._actionsManager.raiseUpdatingAction("tasks",{cancel:!1,key:e,newValues:{}})}else this._ganttView._ganttViewCore.updateTask(e,p)}getDependencyData(e){if(!ne(e))return null;const a=this._ganttView._ganttViewCore.getDependencyData(e);return a?this._mappingHelper.convertCoreToMappedData("dependencies",a):null}insertDependency(e){this._ganttView._ganttViewCore.insertDependency(this._mappingHelper.convertMappedToCoreData("dependencies",e))}deleteDependency(e){this._ganttView._ganttViewCore.deleteDependency(e)}getResourceData(e){const a=this._ganttView._ganttViewCore.getResourceData(e);return a?this._mappingHelper.convertCoreToMappedData("resources",a):null}deleteResource(e){this._ganttView._ganttViewCore.deleteResource(e)}insertResource(e,a){this._ganttView._ganttViewCore.insertResource(this._mappingHelper.convertMappedToCoreData("resources",e),a)}getResourceAssignmentData(e){const a=this._ganttView._ganttViewCore.getResourceAssignmentData(e);return a?this._mappingHelper.convertCoreToMappedData("resourceAssignments",a):null}assignResourceToTask(e,a){this._ganttView._ganttViewCore.assignResourceToTask(e,a)}unassignResourceFromTask(e,a){this._ganttView._ganttViewCore.unassignResourceFromTask(e,a)}unassignAllResourcesFromTask(e){this._ganttView._ganttViewCore.unassignAllResourcesFromTask(e)}updateDimensions(){this._sizeHelper.onAdjustControl()}scrollToDate(e){this._ganttView._ganttViewCore.scrollToDate(e)}showResourceManagerDialog(){this._ganttView._ganttViewCore.showResourcesDialog()}showTaskDetailsDialog(e){this._ganttView._ganttViewCore.showTaskDetailsDialog(e)}exportToPdf(e){return this._exportToPdf(e)}_exportToPdf(e){var a;this._exportHelper.reset();const p=re({},e);return p.createDocumentMethod&&(p.docCreateMethod=p.createDocumentMethod),p.pdfDocument??(p.pdfDocument=p.jsPDFDocument),p.docCreateMethod??(p.docCreateMethod=((a=qt.jspdf)===null||a===void 0?void 0:a.jsPDF)??qt.jsPDF),p.format??(p.format="a4"),new Promise((y=>{var S;const w=(S=this._ganttView)===null||S===void 0?void 0:S._ganttViewCore.exportToPdf(p);y(w)}))}refresh(){return new Promise(((e,a)=>{try{this._refreshGantt(),e()}catch(p){a(p.message)}}))}expandAll(){this._expandAll()}collapseAll(){this._collapseAll()}expandAllToLevel(e){this._changeExpandAll(!1,e)}expandToTask(e){var a;const p=this._treeList.getNodeByKey(e);this._changeExpandAll(!1,0,p==null||(a=p.parent)===null||a===void 0?void 0:a.key)}collapseTask(e){this._treeList.collapseRow(e)}expandTask(e){this._treeList.expandRow(e)}showResources(e){this.option("showResources",e)}showDependencies(e){this.option("showDependencies",e)}zoomIn(){this._ganttView._ganttViewCore.zoomIn()}zoomOut(){this._ganttView._ganttViewCore.zoomOut()}_getDefaultOptions(){return re(super._getDefaultOptions(),ae.getDefaultOptions())}_optionChanged(e){var a,p,y,S,w,d,l,u,h,f,s,n,i,t,r,o,c,g,v,m,_,T,b,k,D,E,A,F,R,x,N,H,G,O,B,W,V,K,X,q,M,I;switch(e.name){case"tasks":this._refreshDataSource("tasks");break;case"dependencies":this._refreshDataSource("dependencies");break;case"resources":this._refreshDataSource("resources");break;case"resourceAssignments":this._refreshDataSource("resourceAssignments");break;case"columns":(a=this._ganttTreeList)===null||a===void 0||a.setOption("columns",this._ganttTreeList.getColumns());break;case"taskListWidth":(p=this._sizeHelper)===null||p===void 0||p.setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",e.value);break;case"showDependencies":this._setGanttViewOption("showDependencies",e.value);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",e.value);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",e.value);break;case"startDateRange":this._setGanttViewOption("startDateRange",e.value);break;case"endDateRange":this._setGanttViewOption("endDateRange",e.value);break;case"selectedRowKey":(y=this._ganttTreeList)===null||y===void 0||y.selectRows(ae.getArrayFromOneElement(e.value));break;case"onSelectionChanged":(S=this._actionsManager)===null||S===void 0||S.createSelectionChangedAction();break;case"onTaskClick":(w=this._actionsManager)===null||w===void 0||w.createTaskClickAction();break;case"onTaskDblClick":(d=this._actionsManager)===null||d===void 0||d.createTaskDblClickAction();break;case"onTaskInserting":(l=this._actionsManager)===null||l===void 0||l.createTaskInsertingAction();break;case"onTaskInserted":(u=this._actionsManager)===null||u===void 0||u.createTaskInsertedAction();break;case"onTaskDeleting":(h=this._actionsManager)===null||h===void 0||h.createTaskDeletingAction();break;case"onTaskDeleted":(f=this._actionsManager)===null||f===void 0||f.createTaskDeletedAction();break;case"onTaskUpdating":(s=this._actionsManager)===null||s===void 0||s.createTaskUpdatingAction();break;case"onTaskUpdated":(n=this._actionsManager)===null||n===void 0||n.createTaskUpdatedAction();break;case"onTaskMoving":(i=this._actionsManager)===null||i===void 0||i.createTaskMovingAction();break;case"onTaskEditDialogShowing":(t=this._actionsManager)===null||t===void 0||t.createTaskEditDialogShowingAction();break;case"onResourceManagerDialogShowing":(r=this._actionsManager)===null||r===void 0||r.createResourceManagerDialogShowingAction();break;case"onDependencyInserting":(o=this._actionsManager)===null||o===void 0||o.createDependencyInsertingAction();break;case"onDependencyInserted":(c=this._actionsManager)===null||c===void 0||c.createDependencyInsertedAction();break;case"onDependencyDeleting":(g=this._actionsManager)===null||g===void 0||g.createDependencyDeletingAction();break;case"onDependencyDeleted":(v=this._actionsManager)===null||v===void 0||v.createDependencyDeletedAction();break;case"onResourceInserting":(m=this._actionsManager)===null||m===void 0||m.createResourceInsertingAction();break;case"onResourceInserted":(_=this._actionsManager)===null||_===void 0||_.createResourceInsertedAction();break;case"onResourceDeleting":(T=this._actionsManager)===null||T===void 0||T.createResourceDeletingAction();break;case"onResourceDeleted":(b=this._actionsManager)===null||b===void 0||b.createResourceDeletedAction();break;case"onResourceAssigning":(k=this._actionsManager)===null||k===void 0||k.createResourceAssigningAction();break;case"onResourceAssigned":(D=this._actionsManager)===null||D===void 0||D.createResourceAssignedAction();break;case"onResourceUnassigning":(E=this._actionsManager)===null||E===void 0||E.createResourceUnassigningAction();break;case"onResourceUnassigned":(A=this._actionsManager)===null||A===void 0||A.createResourceUnassignedAction();break;case"onCustomCommand":(F=this._actionsManager)===null||F===void 0||F.createCustomCommandAction();break;case"onContextMenuPreparing":(R=this._actionsManager)===null||R===void 0||R.createContextMenuPreparingAction();break;case"onScaleCellPrepared":(x=this._actionsManager)===null||x===void 0||x.createScaleCellPreparedAction();break;case"allowSelection":(N=this._ganttTreeList)===null||N===void 0||N.setOption("selection.mode",ae.getSelectionMode(e.value)),this._setGanttViewOption("allowSelection",e.value);break;case"showRowLines":(H=this._ganttTreeList)===null||H===void 0||H.setOption("showRowLines",e.value),this._setGanttViewOption("showRowLines",e.value);break;case"stripLines":this._setGanttViewOption(e.fullName,e.value);break;case"scaleType":this._setGanttViewOption("scaleType",e.value);break;case"scaleTypeRange":this._setGanttViewOption("scaleTypeRange",this.option(e.name));break;case"editing":this._setGanttViewOption("editing",this.option(e.name));break;case"validation":this._setGanttViewOption("validation",this.option(e.name));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",(G=this._ganttTemplatesManager)===null||G===void 0?void 0:G.getTaskTooltipContentTemplateFunc(e.value));break;case"taskProgressTooltipContentTemplate":this._setGanttViewOption("taskProgressTooltipContentTemplate",(O=this._ganttTemplatesManager)===null||O===void 0?void 0:O.getTaskProgressTooltipContentTemplateFunc(e.value));break;case"taskTimeTooltipContentTemplate":this._setGanttViewOption("taskTimeTooltipContentTemplate",(B=this._ganttTemplatesManager)===null||B===void 0?void 0:B.getTaskTimeTooltipContentTemplateFunc(e.value));break;case"taskContentTemplate":this._setGanttViewOption("taskContentTemplate",(W=this._ganttTemplatesManager)===null||W===void 0?void 0:W.getTaskContentTemplateFunc(e.value));break;case"rootValue":(V=this._ganttTreeList)===null||V===void 0||V.setOption("rootValue",e.value);break;case"width":super._optionChanged(e),(K=this._sizeHelper)===null||K===void 0||K.updateGanttWidth();break;case"height":super._optionChanged(e),(X=this._sizeHelper)===null||X===void 0||X.setGanttHeight(Te(this._$element));break;case"sorting":(q=this._ganttTreeList)===null||q===void 0||q.setOption("sorting",this.option(e.name));break;case"filterRow":(M=this._ganttTreeList)===null||M===void 0||M.setOption("filterRow",this.option(e.name));break;case"headerFilter":(I=this._ganttTreeList)===null||I===void 0||I.setOption("headerFilter",this.option(e.name));break;default:super._optionChanged(e)}}}Ge("dxGantt",mn);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const _n={props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:Object,endDateRange:Date,filterRow:Object,firstDayOfWeek:Number,focusStateEnabled:Boolean,headerFilter:Object,height:[Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleted:Function,onDependencyDeleting:Function,onDependencyInserted:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigned:Function,onResourceAssigning:Function,onResourceDeleted:Function,onResourceDeleting:Function,onResourceInserted:Function,onResourceInserting:Function,onResourceManagerDialogShowing:Function,onResourceUnassigned:Function,onResourceUnassigning:Function,onScaleCellPrepared:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleted:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserted:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdated:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,scaleTypeRange:Object,selectedRowKey:{},showDependencies:Boolean,showResources:Boolean,showRowLines:Boolean,sorting:Object,startDateRange:Date,stripLines:Array,tabIndex:Number,taskContentTemplate:{},taskListWidth:Number,taskProgressTooltipContentTemplate:{},tasks:Object,taskTimeTooltipContentTemplate:{},taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:endDateRange":null,"update:filterRow":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:headerFilter":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleted":null,"update:onDependencyDeleting":null,"update:onDependencyInserted":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigned":null,"update:onResourceAssigning":null,"update:onResourceDeleted":null,"update:onResourceDeleting":null,"update:onResourceInserted":null,"update:onResourceInserting":null,"update:onResourceManagerDialogShowing":null,"update:onResourceUnassigned":null,"update:onResourceUnassigning":null,"update:onScaleCellPrepared":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleted":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserted":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdated":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:scaleTypeRange":null,"update:selectedRowKey":null,"update:showDependencies":null,"update:showResources":null,"update:showRowLines":null,"update:sorting":null,"update:startDateRange":null,"update:stripLines":null,"update:tabIndex":null,"update:taskContentTemplate":null,"update:taskListWidth":null,"update:taskProgressTooltipContentTemplate":null,"update:tasks":null,"update:taskTimeTooltipContentTemplate":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=mn,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},ganttHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},scaleTypeRange:{isCollectionItem:!1,optionName:"scaleTypeRange"},sorting:{isCollectionItem:!1,optionName:"sorting"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}};an(_n);const il=j(_n),yn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowFiltering":null,"update:allowHeaderFiltering":null,"update:allowSorting":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:format":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:minWidth":null,"update:selectedFilterOperation":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowFiltering:Boolean,allowHeaderFiltering:Boolean,allowSorting:Boolean,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},cssClass:String,customizeText:Function,dataField:String,dataType:String,encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,format:[Object,String,Function],headerCellTemplate:{},headerFilter:Object,minWidth:Number,selectedFilterOperation:String,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,visible:Boolean,visibleIndex:Number,width:[Number,String]}};U(yn);const De=j(yn);De.$_optionName="columns";De.$_isCollectionItem=!0;De.$_expectedChildren={columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},format:{isCollectionItem:!1,optionName:"format"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"}};const vn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,width:[Number,String]}};U(vn);const Tn=j(vn);Tn.$_optionName="headerFilter";Tn.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"}};const bn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};U(bn);const rl=j(bn);rl.$_optionName="search";const wn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}};U(wn);const Sn=j(wn);Sn.$_optionName="contextMenu";Sn.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Cn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};U(Cn);const _t=j(Cn);_t.$_optionName="items";_t.$_isCollectionItem=!0;_t.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const kn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};U(kn);const Dn=j(kn);Dn.$_optionName="items";Dn.$_isCollectionItem=!0;const In={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}};U(In);const En=j(In);En.$_optionName="dependencies";const xn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}};U(xn);const An=j(xn);An.$_optionName="editing";const Pn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}};U(Pn);const Mn=j(Pn);Mn.$_optionName="filterRow";Mn.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};const Rn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};U(Rn);const ol=j(Rn);ol.$_optionName="format";const On={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:Number,search:Object,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}};U(On);const Ln=j(On);Ln.$_optionName="headerFilter";Ln.$_expectedChildren={ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const Nn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};U(Nn);const al=j(Nn);al.$_optionName="search";const Fn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};U(Fn);const Bn=j(Fn);Bn.$_optionName="headerFilter";Bn.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const Hn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}};U(Hn);const ue=j(Hn);ue.$_optionName="items";ue.$_isCollectionItem=!0;ue.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Vn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};U(Vn);const sl=j(Vn);sl.$_optionName="operationDescriptions";const jn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}};U(jn);const Wn=j(jn);Wn.$_optionName="resourceAssignments";const Un={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],keyExpr:[Function,String],textExpr:[Function,String]}};U(Un);const Kn=j(Un);Kn.$_optionName="resources";const zn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:max":null,"update:min":null},props:{max:String,min:String}};U(zn);const ll=j(zn);ll.$_optionName="scaleTypeRange";const Gn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};U(Gn);const ul=j(Gn);ul.$_optionName="search";const $n={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}};U($n);const dl=j($n);dl.$_optionName="sorting";const qn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:[Date,Function,Number,String],start:[Date,Function,Number,String],title:String}};U(qn);const Zn=j(qn);Zn.$_optionName="stripLines";Zn.$_isCollectionItem=!0;const Yn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}};U(Yn);const Xn=j(Yn);Xn.$_optionName="tasks";const Qn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};U(Qn);const cl=j(Qn);cl.$_optionName="texts";const Jn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}};U(Jn);const yt=j(Jn);yt.$_optionName="toolbar";yt.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};const ei={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}};U(ei);const ti=j(ei);ti.$_optionName="items";ti.$_isCollectionItem=!0;const ni={emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:enablePredecessorGap":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,enablePredecessorGap:Boolean,validateDependencies:Boolean}};U(ni);const pl=j(ni);pl.$_optionName="validation";/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const ii={props:{accessKey:String,activeStateEnabled:Boolean,allowColumnReordering:Boolean,allowColumnResizing:Boolean,autoExpandAll:Boolean,autoNavigateToFocusedRow:Boolean,cacheEnabled:Boolean,cellHintEnabled:Boolean,columnAutoWidth:Boolean,columnChooser:Object,columnFixing:Object,columnHidingEnabled:Boolean,columnMinWidth:Number,columnResizingMode:String,columns:Array,columnWidth:[String,Number],customizeColumns:Function,dataSource:[Array,Object,String],dataStructure:String,dateSerializationFormat:String,disabled:Boolean,editing:Object,elementAttr:Object,errorRowEnabled:Boolean,expandedRowKeys:Array,expandNodesOnFiltering:Boolean,filterBuilder:Object,filterBuilderPopup:Object,filterMode:String,filterPanel:Object,filterRow:Object,filterSyncEnabled:[Boolean,String],filterValue:[Array,Function,String],focusedColumnIndex:Number,focusedRowEnabled:Boolean,focusedRowIndex:Number,focusedRowKey:{},hasItemsExpr:[Function,String],headerFilter:Object,height:[Number,String],highlightChanges:Boolean,hint:String,hoverStateEnabled:Boolean,itemsExpr:[Function,String],keyboardNavigation:Object,keyExpr:[Function,String],loadPanel:Object,noDataText:String,onAdaptiveDetailRowPreparing:Function,onCellClick:Function,onCellDblClick:Function,onCellHoverChanged:Function,onCellPrepared:Function,onContentReady:Function,onContextMenuPreparing:Function,onDataErrorOccurred:Function,onDisposing:Function,onEditCanceled:Function,onEditCanceling:Function,onEditingStart:Function,onEditorPrepared:Function,onEditorPreparing:Function,onFocusedCellChanged:Function,onFocusedCellChanging:Function,onFocusedRowChanged:Function,onFocusedRowChanging:Function,onInitialized:Function,onInitNewRow:Function,onKeyDown:Function,onNodesInitialized:Function,onOptionChanged:Function,onRowClick:Function,onRowCollapsed:Function,onRowCollapsing:Function,onRowDblClick:Function,onRowExpanded:Function,onRowExpanding:Function,onRowInserted:Function,onRowInserting:Function,onRowPrepared:Function,onRowRemoved:Function,onRowRemoving:Function,onRowUpdated:Function,onRowUpdating:Function,onRowValidating:Function,onSaved:Function,onSaving:Function,onSelectionChanged:Function,onToolbarPreparing:Function,pager:Object,paging:Object,parentIdExpr:[Function,String],remoteOperations:[String,Object],renderAsync:Boolean,repaintChangesOnly:Boolean,rootValue:{},rowAlternationEnabled:Boolean,rowDragging:Object,rtlEnabled:Boolean,scrolling:Object,searchPanel:Object,selectedRowKeys:Array,selection:Object,showBorders:Boolean,showColumnHeaders:Boolean,showColumnLines:Boolean,showRowLines:Boolean,sorting:Object,stateStoring:Object,syncLookupFilterValues:Boolean,tabIndex:Number,toolbar:Object,twoWayBindingEnabled:Boolean,visible:Boolean,width:[Number,String],wordWrapEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowColumnReordering":null,"update:allowColumnResizing":null,"update:autoExpandAll":null,"update:autoNavigateToFocusedRow":null,"update:cacheEnabled":null,"update:cellHintEnabled":null,"update:columnAutoWidth":null,"update:columnChooser":null,"update:columnFixing":null,"update:columnHidingEnabled":null,"update:columnMinWidth":null,"update:columnResizingMode":null,"update:columns":null,"update:columnWidth":null,"update:customizeColumns":null,"update:dataSource":null,"update:dataStructure":null,"update:dateSerializationFormat":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:errorRowEnabled":null,"update:expandedRowKeys":null,"update:expandNodesOnFiltering":null,"update:filterBuilder":null,"update:filterBuilderPopup":null,"update:filterMode":null,"update:filterPanel":null,"update:filterRow":null,"update:filterSyncEnabled":null,"update:filterValue":null,"update:focusedColumnIndex":null,"update:focusedRowEnabled":null,"update:focusedRowIndex":null,"update:focusedRowKey":null,"update:hasItemsExpr":null,"update:headerFilter":null,"update:height":null,"update:highlightChanges":null,"update:hint":null,"update:hoverStateEnabled":null,"update:itemsExpr":null,"update:keyboardNavigation":null,"update:keyExpr":null,"update:loadPanel":null,"update:noDataText":null,"update:onAdaptiveDetailRowPreparing":null,"update:onCellClick":null,"update:onCellDblClick":null,"update:onCellHoverChanged":null,"update:onCellPrepared":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onDataErrorOccurred":null,"update:onDisposing":null,"update:onEditCanceled":null,"update:onEditCanceling":null,"update:onEditingStart":null,"update:onEditorPrepared":null,"update:onEditorPreparing":null,"update:onFocusedCellChanged":null,"update:onFocusedCellChanging":null,"update:onFocusedRowChanged":null,"update:onFocusedRowChanging":null,"update:onInitialized":null,"update:onInitNewRow":null,"update:onKeyDown":null,"update:onNodesInitialized":null,"update:onOptionChanged":null,"update:onRowClick":null,"update:onRowCollapsed":null,"update:onRowCollapsing":null,"update:onRowDblClick":null,"update:onRowExpanded":null,"update:onRowExpanding":null,"update:onRowInserted":null,"update:onRowInserting":null,"update:onRowPrepared":null,"update:onRowRemoved":null,"update:onRowRemoving":null,"update:onRowUpdated":null,"update:onRowUpdating":null,"update:onRowValidating":null,"update:onSaved":null,"update:onSaving":null,"update:onSelectionChanged":null,"update:onToolbarPreparing":null,"update:pager":null,"update:paging":null,"update:parentIdExpr":null,"update:remoteOperations":null,"update:renderAsync":null,"update:repaintChangesOnly":null,"update:rootValue":null,"update:rowAlternationEnabled":null,"update:rowDragging":null,"update:rtlEnabled":null,"update:scrolling":null,"update:searchPanel":null,"update:selectedRowKeys":null,"update:selection":null,"update:showBorders":null,"update:showColumnHeaders":null,"update:showColumnLines":null,"update:showRowLines":null,"update:sorting":null,"update:stateStoring":null,"update:syncLookupFilterValues":null,"update:tabIndex":null,"update:toolbar":null,"update:twoWayBindingEnabled":null,"update:visible":null,"update:width":null,"update:wordWrapEnabled":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=mt,this.$_hasAsyncTemplate=!1,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},columnChooser:{isCollectionItem:!1,optionName:"columnChooser"},columnFixing:{isCollectionItem:!1,optionName:"columnFixing"},editing:{isCollectionItem:!1,optionName:"editing"},filterBuilder:{isCollectionItem:!1,optionName:"filterBuilder"},filterBuilderPopup:{isCollectionItem:!1,optionName:"filterBuilderPopup"},filterPanel:{isCollectionItem:!1,optionName:"filterPanel"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},keyboardNavigation:{isCollectionItem:!1,optionName:"keyboardNavigation"},loadPanel:{isCollectionItem:!1,optionName:"loadPanel"},pager:{isCollectionItem:!1,optionName:"pager"},paging:{isCollectionItem:!1,optionName:"paging"},remoteOperations:{isCollectionItem:!1,optionName:"remoteOperations"},rowDragging:{isCollectionItem:!1,optionName:"rowDragging"},scrolling:{isCollectionItem:!1,optionName:"scrolling"},searchPanel:{isCollectionItem:!1,optionName:"searchPanel"},selection:{isCollectionItem:!1,optionName:"selection"},sorting:{isCollectionItem:!1,optionName:"sorting"},stateStoring:{isCollectionItem:!1,optionName:"stateStoring"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},treeListHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},treeListSelection:{isCollectionItem:!1,optionName:"selection"}}}};an(ii);const hl=j(ii),ri={emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}};U(ri);const oi=j(ri);oi.$_optionName="animation";oi.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};const ai={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}};U(ai);const vt=j(ai);vt.$_optionName="validationRules";vt.$_isCollectionItem=!0;vt.$_predefinedProps={type:"async"};const si={emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}};U(si);const gl=j(si);gl.$_optionName="at";const li={emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}};U(li);const fl=j(li);fl.$_optionName="boundaryOffset";const ui={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:hint":null,"update:icon":null,"update:name":null,"update:onClick":null,"update:template":null,"update:text":null,"update:visible":null},props:{cssClass:String,disabled:[Boolean,Function],hint:String,icon:String,name:String,onClick:Function,template:{},text:String,visible:[Boolean,Function]}};U(ui);const di=j(ui);di.$_optionName="buttons";di.$_isCollectionItem=!0;const ci={emits:{"update:isActive":null,"update:hoveredElement":null,"update:data":null,"update:insertAfterKey":null,"update:insertBeforeKey":null,"update:type":null},props:{data:{},insertAfterKey:{},insertBeforeKey:{},type:String}};U(ci);const pi=j(ci);pi.$_optionName="changes";pi.$_isCollectionItem=!0;const hi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:lg":null,"update:md":null,"update:sm":null,"update:xs":null},props:{lg:Number,md:Number,sm:Number,xs:Number}};U(hi);const ml=j(hi);ml.$_optionName="colCountByScreen";const gi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}};U(gi);const _l=j(gi);_l.$_optionName="collision";const fi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowEditing":null,"update:allowFiltering":null,"update:allowFixing":null,"update:allowHeaderFiltering":null,"update:allowHiding":null,"update:allowReordering":null,"update:allowResizing":null,"update:allowSearch":null,"update:allowSorting":null,"update:buttons":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:columns":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:editCellTemplate":null,"update:editorOptions":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:fixed":null,"update:fixedPosition":null,"update:format":null,"update:formItem":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:hidingPriority":null,"update:isBand":null,"update:lookup":null,"update:minWidth":null,"update:name":null,"update:ownerBand":null,"update:renderAsync":null,"update:selectedFilterOperation":null,"update:setCellValue":null,"update:showEditorAlways":null,"update:showInColumnChooser":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:type":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowEditing:Boolean,allowFiltering:Boolean,allowFixing:Boolean,allowHeaderFiltering:Boolean,allowHiding:Boolean,allowReordering:Boolean,allowResizing:Boolean,allowSearch:Boolean,allowSorting:Boolean,buttons:Array,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},columns:Array,cssClass:String,customizeText:Function,dataField:String,dataType:String,editCellTemplate:{},editorOptions:{},encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,fixed:Boolean,fixedPosition:String,format:[Object,String,Function],formItem:Object,headerCellTemplate:{},headerFilter:Object,hidingPriority:Number,isBand:Boolean,lookup:Object,minWidth:Number,name:String,ownerBand:Number,renderAsync:Boolean,selectedFilterOperation:String,setCellValue:Function,showEditorAlways:Boolean,showInColumnChooser:Boolean,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,type:String,validationRules:Array,visible:Boolean,visibleIndex:Number,width:[Number,String]}};U(fi);const ge=j(fi);ge.$_optionName="columns";ge.$_isCollectionItem=!0;ge.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},button:{isCollectionItem:!0,optionName:"buttons"},columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},columnLookup:{isCollectionItem:!1,optionName:"lookup"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},format:{isCollectionItem:!1,optionName:"format"},formItem:{isCollectionItem:!1,optionName:"formItem"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},lookup:{isCollectionItem:!1,optionName:"lookup"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};const mi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:container":null,"update:emptyPanelText":null,"update:enabled":null,"update:height":null,"update:mode":null,"update:position":null,"update:search":null,"update:searchTimeout":null,"update:selection":null,"update:sortOrder":null,"update:title":null,"update:width":null},props:{allowSearch:Boolean,container:{},emptyPanelText:String,enabled:Boolean,height:[Number,String],mode:String,position:Object,search:Object,searchTimeout:Number,selection:Object,sortOrder:String,title:String,width:[Number,String]}};U(mi);const _i=j(mi);_i.$_optionName="columnChooser";_i.$_expectedChildren={columnChooserSearch:{isCollectionItem:!1,optionName:"search"},columnChooserSelection:{isCollectionItem:!1,optionName:"selection"},position:{isCollectionItem:!1,optionName:"position"},search:{isCollectionItem:!1,optionName:"search"},selection:{isCollectionItem:!1,optionName:"selection"}};const yi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,timeout:Number}};U(yi);const yl=j(yi);yl.$_optionName="search";const vi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSelectAll":null,"update:recursive":null,"update:selectByClick":null},props:{allowSelectAll:Boolean,recursive:Boolean,selectByClick:Boolean}};U(vi);const vl=j(vi);vl.$_optionName="selection";const Ti={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:icons":null,"update:texts":null},props:{enabled:Boolean,icons:Object,texts:Object}};U(Ti);const bi=j(Ti);bi.$_optionName="columnFixing";bi.$_expectedChildren={columnFixingTexts:{isCollectionItem:!1,optionName:"texts"},icons:{isCollectionItem:!1,optionName:"icons"},texts:{isCollectionItem:!1,optionName:"texts"}};const wi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:fix":null,"update:leftPosition":null,"update:rightPosition":null,"update:stickyPosition":null,"update:unfix":null},props:{fix:String,leftPosition:String,rightPosition:String,stickyPosition:String,unfix:String}};U(wi);const Tl=j(wi);Tl.$_optionName="texts";const Si={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,width:[Number,String]}};U(Si);const Ci=j(Si);Ci.$_optionName="headerFilter";Ci.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"}};const ki={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};U(ki);const bl=j(ki);bl.$_optionName="search";const Di={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:calculateCellValue":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,calculateCellValue:Function,dataSource:[Array,Object,Function],displayExpr:[Function,String],valueExpr:String}};U(Di);const wl=j(Di);wl.$_optionName="lookup";const Ii={emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,message:String,type:String}};U(Ii);const Tt=j(Ii);Tt.$_optionName="validationRules";Tt.$_isCollectionItem=!0;Tt.$_predefinedProps={type:"compare"};const Ei={emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}};U(Ei);const Sl=j(Ei);Sl.$_optionName="cursorOffset";const xi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateFilterExpression":null,"update:caption":null,"update:customizeText":null,"update:dataTypes":null,"update:editorTemplate":null,"update:hasValue":null,"update:icon":null,"update:name":null},props:{calculateFilterExpression:Function,caption:String,customizeText:Function,dataTypes:Array,editorTemplate:{},hasValue:Boolean,icon:String,name:String}};U(xi);const Ai=j(xi);Ai.$_optionName="customOperations";Ai.$_isCollectionItem=!0;const Pi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}};U(Pi);const bt=j(Pi);bt.$_optionName="validationRules";bt.$_isCollectionItem=!0;bt.$_predefinedProps={type:"custom"};const Mi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowAdding":null,"update:allowDeleting":null,"update:allowUpdating":null,"update:changes":null,"update:confirmDelete":null,"update:editColumnName":null,"update:editRowKey":null,"update:form":null,"update:mode":null,"update:popup":null,"update:refreshMode":null,"update:selectTextOnEditStart":null,"update:startEditAction":null,"update:texts":null,"update:useIcons":null},props:{allowAdding:[Boolean,Function],allowDeleting:[Boolean,Function],allowUpdating:[Boolean,Function],changes:Array,confirmDelete:Boolean,editColumnName:String,editRowKey:{},form:Object,mode:String,popup:Object,refreshMode:String,selectTextOnEditStart:Boolean,startEditAction:String,texts:Object,useIcons:Boolean}};U(Mi);const Ri=j(Mi);Ri.$_optionName="editing";Ri.$_expectedChildren={change:{isCollectionItem:!0,optionName:"changes"},editingTexts:{isCollectionItem:!1,optionName:"texts"},form:{isCollectionItem:!1,optionName:"form"},popup:{isCollectionItem:!1,optionName:"popup"},texts:{isCollectionItem:!1,optionName:"texts"}};const Oi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:addRow":null,"update:addRowToNode":null,"update:cancelAllChanges":null,"update:cancelRowChanges":null,"update:confirmDeleteMessage":null,"update:confirmDeleteTitle":null,"update:deleteRow":null,"update:editRow":null,"update:saveAllChanges":null,"update:saveRowChanges":null,"update:undeleteRow":null,"update:validationCancelChanges":null},props:{addRow:String,addRowToNode:String,cancelAllChanges:String,cancelRowChanges:String,confirmDeleteMessage:String,confirmDeleteTitle:String,deleteRow:String,editRow:String,saveAllChanges:String,saveRowChanges:String,undeleteRow:String,validationCancelChanges:String}};U(Oi);const Cl=j(Oi);Cl.$_optionName="texts";const Li={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}};U(Li);const wt=j(Li);wt.$_optionName="validationRules";wt.$_isCollectionItem=!0;wt.$_predefinedProps={type:"email"};const Ni={emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateFilterExpression":null,"update:caption":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:editorOptions":null,"update:editorTemplate":null,"update:falseText":null,"update:filterOperations":null,"update:format":null,"update:lookup":null,"update:name":null,"update:trueText":null},props:{calculateFilterExpression:Function,caption:String,customizeText:Function,dataField:String,dataType:String,editorOptions:{},editorTemplate:{},falseText:String,filterOperations:Array,format:[Object,String,Function],lookup:Object,name:String,trueText:String}};U(Ni);const St=j(Ni);St.$_optionName="fields";St.$_isCollectionItem=!0;St.$_expectedChildren={fieldLookup:{isCollectionItem:!1,optionName:"lookup"},format:{isCollectionItem:!1,optionName:"format"},lookup:{isCollectionItem:!1,optionName:"lookup"}};const Fi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,dataSource:[Array,Object],displayExpr:[Function,String],valueExpr:[Function,String]}};U(Fi);const kl=j(Fi);kl.$_optionName="lookup";const Bi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowHierarchicalFields":null,"update:customOperations":null,"update:disabled":null,"update:elementAttr":null,"update:fields":null,"update:filterOperationDescriptions":null,"update:focusStateEnabled":null,"update:groupOperationDescriptions":null,"update:groupOperations":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxGroupLevel":null,"update:onContentReady":null,"update:onDisposing":null,"update:onEditorPrepared":null,"update:onEditorPreparing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:rtlEnabled":null,"update:tabIndex":null,"update:value":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,allowHierarchicalFields:Boolean,customOperations:Array,disabled:Boolean,elementAttr:Object,fields:Array,filterOperationDescriptions:Object,focusStateEnabled:Boolean,groupOperationDescriptions:Object,groupOperations:Array,height:[Number,String],hint:String,hoverStateEnabled:Boolean,maxGroupLevel:Number,onContentReady:Function,onDisposing:Function,onEditorPrepared:Function,onEditorPreparing:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,rtlEnabled:Boolean,tabIndex:Number,value:[Array,Function,String],visible:Boolean,width:[Number,String]}};U(Bi);const Hi=j(Bi);Hi.$_optionName="filterBuilder";Hi.$_expectedChildren={customOperation:{isCollectionItem:!0,optionName:"customOperations"},field:{isCollectionItem:!0,optionName:"fields"},filterOperationDescriptions:{isCollectionItem:!1,optionName:"filterOperationDescriptions"},groupOperationDescriptions:{isCollectionItem:!1,optionName:"groupOperationDescriptions"}};const Vi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:animation":null,"update:container":null,"update:contentTemplate":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:enableBodyScroll":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,animation:Object,container:{},contentTemplate:{},deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,enableBodyScroll:Boolean,focusStateEnabled:Boolean,fullScreen:Boolean,height:[Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],onContentReady:Function,onDisposing:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,String,Object],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Number,String],wrapperAttr:{}}};U(Vi);const ji=j(Vi);ji.$_optionName="filterBuilderPopup";ji.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};const Wi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:isBlank":null,"update:isNotBlank":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,isBlank:String,isNotBlank:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};U(Wi);const Dl=j(Wi);Dl.$_optionName="filterOperationDescriptions";const Ui={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:filterEnabled":null,"update:texts":null,"update:visible":null},props:{customizeText:Function,filterEnabled:Boolean,texts:Object,visible:Boolean}};U(Ui);const Ki=j(Ui);Ki.$_optionName="filterPanel";Ki.$_expectedChildren={filterPanelTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};const zi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:clearFilter":null,"update:createFilter":null,"update:filterEnabledHint":null},props:{clearFilter:String,createFilter:String,filterEnabledHint:String}};U(zi);const Il=j(zi);Il.$_optionName="texts";const Gi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:applyFilter":null,"update:applyFilterText":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{applyFilter:String,applyFilterText:String,betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}};U(Gi);const Ct=j(Gi);Ct.$_optionName="filterRow";Ct.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};const $i={emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:alignItemLabels":null,"update:alignItemLabelsInAllGroups":null,"update:colCount":null,"update:colCountByScreen":null,"update:customizeItem":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:formData":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:isDirty":null,"update:items":null,"update:labelLocation":null,"update:labelMode":null,"update:minColWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onEditorEnterKey":null,"update:onFieldDataChanged":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:optionalMark":null,"update:readOnly":null,"update:requiredMark":null,"update:requiredMessage":null,"update:rtlEnabled":null,"update:screenByWidth":null,"update:scrollingEnabled":null,"update:showColonAfterLabel":null,"update:showOptionalMark":null,"update:showRequiredMark":null,"update:showValidationSummary":null,"update:tabIndex":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,alignItemLabels:Boolean,alignItemLabelsInAllGroups:Boolean,colCount:[String,Number],colCountByScreen:Object,customizeItem:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,formData:{},height:[Number,String],hint:String,hoverStateEnabled:Boolean,isDirty:Boolean,items:Array,labelLocation:String,labelMode:String,minColWidth:Number,onContentReady:Function,onDisposing:Function,onEditorEnterKey:Function,onFieldDataChanged:Function,onInitialized:Function,onOptionChanged:Function,optionalMark:String,readOnly:Boolean,requiredMark:String,requiredMessage:String,rtlEnabled:Boolean,screenByWidth:Function,scrollingEnabled:Boolean,showColonAfterLabel:Boolean,showOptionalMark:Boolean,showRequiredMark:Boolean,showValidationSummary:Boolean,tabIndex:Number,validationGroup:String,visible:Boolean,width:[Number,String]}};U($i);const qi=j($i);qi.$_optionName="form";qi.$_expectedChildren={colCountByScreen:{isCollectionItem:!1,optionName:"colCountByScreen"}};const Zi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};U(Zi);const El=j(Zi);El.$_optionName="format";const Yi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colSpan":null,"update:cssClass":null,"update:dataField":null,"update:editorOptions":null,"update:editorType":null,"update:helpText":null,"update:isRequired":null,"update:itemType":null,"update:label":null,"update:name":null,"update:template":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null},props:{colSpan:Number,cssClass:String,dataField:String,editorOptions:{},editorType:String,helpText:String,isRequired:Boolean,itemType:String,label:Object,name:String,template:{},validationRules:Array,visible:Boolean,visibleIndex:Number}};U(Yi);const Xi=j(Yi);Xi.$_optionName="formItem";Xi.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},label:{isCollectionItem:!1,optionName:"label"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};const Qi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}};U(Qi);const Ji=j(Qi);Ji.$_optionName="from";Ji.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};const er={emits:{"update:isActive":null,"update:hoveredElement":null,"update:and":null,"update:notAnd":null,"update:notOr":null,"update:or":null},props:{and:String,notAnd:String,notOr:String,or:String}};U(er);const xl=j(er);xl.$_optionName="groupOperationDescriptions";const tr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};U(tr);const nr=j(tr);nr.$_optionName="headerFilter";nr.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},treeListHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},treeListHeaderFilterTexts:{isCollectionItem:!1,optionName:"texts"}};const ir={emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}};U(ir);const rr=j(ir);rr.$_optionName="hide";rr.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};const or={emits:{"update:isActive":null,"update:hoveredElement":null,"update:fix":null,"update:leftPosition":null,"update:rightPosition":null,"update:stickyPosition":null,"update:unfix":null},props:{fix:String,leftPosition:String,rightPosition:String,stickyPosition:String,unfix:String}};U(or);const Al=j(or);Al.$_optionName="icons";const ar={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}};U(ar);const sr=j(ar);sr.$_optionName="items";sr.$_isCollectionItem=!0;const lr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editOnKeyPress":null,"update:enabled":null,"update:enterKeyAction":null,"update:enterKeyDirection":null},props:{editOnKeyPress:Boolean,enabled:Boolean,enterKeyAction:String,enterKeyDirection:String}};U(lr);const Pl=j(lr);Pl.$_optionName="keyboardNavigation";const ur={emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:location":null,"update:showColon":null,"update:template":null,"update:text":null,"update:visible":null},props:{alignment:String,location:String,showColon:Boolean,template:{},text:String,visible:Boolean}};U(ur);const Ml=j(ur);Ml.$_optionName="label";const dr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:height":null,"update:indicatorSrc":null,"update:shading":null,"update:shadingColor":null,"update:showIndicator":null,"update:showPane":null,"update:text":null,"update:width":null},props:{enabled:[Boolean,String],height:[Number,String],indicatorSrc:String,shading:Boolean,shadingColor:String,showIndicator:Boolean,showPane:Boolean,text:String,width:[Number,String]}};U(dr);const Rl=j(dr);Rl.$_optionName="loadPanel";const cr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:calculateCellValue":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,calculateCellValue:Function,dataSource:[Array,Object,Function],displayExpr:[Function,String],valueExpr:[String,Function]}};U(cr);const Ol=j(cr);Ol.$_optionName="lookup";const pr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}};U(pr);const Ll=j(pr);Ll.$_optionName="my";const hr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}};U(hr);const kt=j(hr);kt.$_optionName="validationRules";kt.$_isCollectionItem=!0;kt.$_predefinedProps={type:"numeric"};const gr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}};U(gr);const Nl=j(gr);Nl.$_optionName="offset";const fr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};U(fr);const Fl=j(fr);Fl.$_optionName="operationDescriptions";const mr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedPageSizes":null,"update:displayMode":null,"update:infoText":null,"update:label":null,"update:showInfo":null,"update:showNavigationButtons":null,"update:showPageSizeSelector":null,"update:visible":null},props:{allowedPageSizes:[Array,String],displayMode:String,infoText:String,label:String,showInfo:Boolean,showNavigationButtons:Boolean,showPageSizeSelector:Boolean,visible:[Boolean,String]}};U(mr);const Bl=j(mr);Bl.$_optionName="pager";const _r={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:pageIndex":null,"update:pageSize":null},props:{enabled:Boolean,pageIndex:Number,pageSize:Number}};U(_r);const Hl=j(_r);Hl.$_optionName="paging";const yr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:pattern":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,pattern:[RegExp,String],type:String}};U(yr);const Dt=j(yr);Dt.$_optionName="validationRules";Dt.$_isCollectionItem=!0;Dt.$_predefinedProps={type:"pattern"};const vr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:animation":null,"update:container":null,"update:contentTemplate":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:enableBodyScroll":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,animation:Object,container:{},contentTemplate:{},deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,enableBodyScroll:Boolean,focusStateEnabled:Boolean,fullScreen:Boolean,height:[Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],onContentReady:Function,onDisposing:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,String,Object],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Number,String],wrapperAttr:{}}};U(vr);const Tr=j(vr);Tr.$_optionName="popup";Tr.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};const br={emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[String,Object],my:[Object,String],of:{},offset:[Object,String]}};U(br);const wr=j(br);wr.$_optionName="position";wr.$_expectedChildren={at:{isCollectionItem:!1,optionName:"at"},boundaryOffset:{isCollectionItem:!1,optionName:"boundaryOffset"},collision:{isCollectionItem:!1,optionName:"collision"},my:{isCollectionItem:!1,optionName:"my"},offset:{isCollectionItem:!1,optionName:"offset"}};const Sr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:reevaluate":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:[Date,Number,String],message:String,min:[Date,Number,String],reevaluate:Boolean,type:String}};U(Sr);const It=j(Sr);It.$_optionName="validationRules";It.$_isCollectionItem=!0;It.$_predefinedProps={type:"range"};const Cr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:filtering":null,"update:grouping":null,"update:sorting":null},props:{filtering:Boolean,grouping:Boolean,sorting:Boolean}};U(Cr);const Vl=j(Cr);Vl.$_optionName="remoteOperations";const kr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:message":null,"update:trim":null,"update:type":null},props:{message:String,trim:Boolean,type:String}};U(kr);const Et=j(kr);Et.$_optionName="validationRules";Et.$_isCollectionItem=!0;Et.$_predefinedProps={type:"required"};const Dr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDropInsideItem":null,"update:allowReordering":null,"update:autoScroll":null,"update:boundary":null,"update:container":null,"update:cursorOffset":null,"update:data":null,"update:dragDirection":null,"update:dragTemplate":null,"update:dropFeedbackMode":null,"update:filter":null,"update:group":null,"update:handle":null,"update:onAdd":null,"update:onDragChange":null,"update:onDragEnd":null,"update:onDragMove":null,"update:onDragStart":null,"update:onRemove":null,"update:onReorder":null,"update:scrollSensitivity":null,"update:scrollSpeed":null,"update:showDragIcons":null},props:{allowDropInsideItem:Boolean,allowReordering:Boolean,autoScroll:Boolean,boundary:{},container:{},cursorOffset:[Object,String],data:{},dragDirection:String,dragTemplate:{},dropFeedbackMode:String,filter:String,group:String,handle:String,onAdd:Function,onDragChange:Function,onDragEnd:Function,onDragMove:Function,onDragStart:Function,onRemove:Function,onReorder:Function,scrollSensitivity:Number,scrollSpeed:Number,showDragIcons:Boolean}};U(Dr);const Ir=j(Dr);Ir.$_optionName="rowDragging";Ir.$_expectedChildren={cursorOffset:{isCollectionItem:!1,optionName:"cursorOffset"}};const Er={emits:{"update:isActive":null,"update:hoveredElement":null,"update:columnRenderingMode":null,"update:mode":null,"update:preloadEnabled":null,"update:renderAsync":null,"update:rowRenderingMode":null,"update:scrollByContent":null,"update:scrollByThumb":null,"update:showScrollbar":null,"update:useNative":null},props:{columnRenderingMode:String,mode:String,preloadEnabled:Boolean,renderAsync:Boolean,rowRenderingMode:String,scrollByContent:Boolean,scrollByThumb:Boolean,showScrollbar:String,useNative:[Boolean,String]}};U(Er);const jl=j(Er);jl.$_optionName="scrolling";const xr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};U(xr);const Wl=j(xr);Wl.$_optionName="search";const Ar={emits:{"update:isActive":null,"update:hoveredElement":null,"update:highlightCaseSensitive":null,"update:highlightSearchText":null,"update:placeholder":null,"update:searchVisibleColumnsOnly":null,"update:text":null,"update:visible":null,"update:width":null},props:{highlightCaseSensitive:Boolean,highlightSearchText:Boolean,placeholder:String,searchVisibleColumnsOnly:Boolean,text:String,visible:Boolean,width:[Number,String]}};U(Ar);const Ul=j(Ar);Ul.$_optionName="searchPanel";const Pr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSelectAll":null,"update:mode":null,"update:recursive":null,"update:selectByClick":null},props:{allowSelectAll:Boolean,mode:String,recursive:Boolean,selectByClick:Boolean}};U(Pr);const Mr=j(Pr);Mr.$_optionName="selection";const Rr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}};U(Rr);const Or=j(Rr);Or.$_optionName="show";Or.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};const Lr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}};U(Lr);const Kl=j(Lr);Kl.$_optionName="sorting";const Nr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customLoad":null,"update:customSave":null,"update:enabled":null,"update:savingTimeout":null,"update:storageKey":null,"update:type":null},props:{customLoad:Function,customSave:Function,enabled:Boolean,savingTimeout:Number,storageKey:String,type:String}};U(Nr);const Fr=j(Nr);Fr.$_optionName="stateStoring";const Br={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:trim":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:Number,message:String,min:Number,trim:Boolean,type:String}};U(Br);const xt=j(Br);xt.$_optionName="validationRules";xt.$_isCollectionItem=!0;xt.$_predefinedProps={type:"stringLength"};const Hr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:addRow":null,"update:addRowToNode":null,"update:cancel":null,"update:cancelAllChanges":null,"update:cancelRowChanges":null,"update:clearFilter":null,"update:confirmDeleteMessage":null,"update:confirmDeleteTitle":null,"update:createFilter":null,"update:deleteRow":null,"update:editRow":null,"update:emptyValue":null,"update:filterEnabledHint":null,"update:fix":null,"update:leftPosition":null,"update:ok":null,"update:rightPosition":null,"update:saveAllChanges":null,"update:saveRowChanges":null,"update:stickyPosition":null,"update:undeleteRow":null,"update:unfix":null,"update:validationCancelChanges":null},props:{addRow:String,addRowToNode:String,cancel:String,cancelAllChanges:String,cancelRowChanges:String,clearFilter:String,confirmDeleteMessage:String,confirmDeleteTitle:String,createFilter:String,deleteRow:String,editRow:String,emptyValue:String,filterEnabledHint:String,fix:String,leftPosition:String,ok:String,rightPosition:String,saveAllChanges:String,saveRowChanges:String,stickyPosition:String,undeleteRow:String,unfix:String,validationCancelChanges:String}};U(Hr);const zl=j(Hr);zl.$_optionName="texts";const Vr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}};U(Vr);const jr=j(Vr);jr.$_optionName="to";jr.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};const Wr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:items":null,"update:visible":null},props:{disabled:Boolean,items:Array,visible:Boolean}};U(Wr);const Ur=j(Wr);Ur.$_optionName="toolbar";Ur.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"}};const Kr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},options:{},showText:String,template:{},text:String,toolbar:String,visible:Boolean,widget:String}};U(Kr);const zr=j(Kr);zr.$_optionName="toolbarItems";zr.$_isCollectionItem=!0;const Gr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:[Number,String],search:Object,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};U(Gr);const $r=j(Gr);$r.$_optionName="headerFilter";$r.$_expectedChildren={search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"},treeListHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},treeListHeaderFilterTexts:{isCollectionItem:!1,optionName:"texts"}};const qr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};U(qr);const Gl=j(qr);Gl.$_optionName="search";const Zr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};U(Zr);const $l=j(Zr);$l.$_optionName="texts";const Yr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSelectAll":null,"update:mode":null,"update:recursive":null},props:{allowSelectAll:Boolean,mode:String,recursive:Boolean}};U(Yr);const ql=j(Yr);ql.$_optionName="selection";const Xr={emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:pattern":null,"update:reevaluate":null,"update:trim":null,"update:type":null,"update:validationCallback":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,max:[Date,Number,String],message:String,min:[Date,Number,String],pattern:[RegExp,String],reevaluate:Boolean,trim:Boolean,type:String,validationCallback:Function}};U(Xr);const At=j(Xr);At.$_optionName="validationRules";At.$_isCollectionItem=!0;At.$_predefinedProps={type:"required"};function Qr(C,e,a,p,y){p=p||{};var S=1.15,w=y.internal.scaleFactor,d=y.internal.getFontSize()/w,l=y.getLineHeightFactor?y.getLineHeightFactor():S,u=d*l,h=/\r\n|\r|\n/g,f="",s=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(f=typeof C=="string"?C.split(h):C,s=f.length||1),a+=d*(2-S),p.valign==="middle"?a-=s/2*u:p.valign==="bottom"&&(a-=s*u),p.halign==="center"||p.halign==="right"){var n=d;if(p.halign==="center"&&(n*=.5),f&&s>=1){for(var i=0;i<f.length;i++)y.text(f[i],e-y.getStringUnitWidth(f[i])*n,a),a+=u;return y}e-=y.getStringUnitWidth(C)*n}return p.halign==="justify"?y.text(C,e,a,{maxWidth:p.maxWidth||100,align:"justify"}):y.text(C,e,a),y}var Zt={},Ie=(function(){function C(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return C.setDefaults=function(e,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=e:Zt=e},C.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},C.prototype.applyStyles=function(e,a){var p,y,S;a===void 0&&(a=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var w=this.jsPDFDocument.internal.getFont(),d=w.fontStyle,l=w.fontName;if(e.font&&(l=e.font),e.fontStyle){d=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),d=u[0])}if(this.jsPDFDocument.setFont(l,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!a){var h=C.unifyColor(e.fillColor);h&&(p=this.jsPDFDocument).setFillColor.apply(p,h),h=C.unifyColor(e.textColor),h&&(y=this.jsPDFDocument).setTextColor.apply(y,h),h=C.unifyColor(e.lineColor),h&&(S=this.jsPDFDocument).setDrawColor.apply(S,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},C.prototype.splitTextToSize=function(e,a,p){return this.jsPDFDocument.splitTextToSize(e,a,p)},C.prototype.rect=function(e,a,p,y,S){return this.jsPDFDocument.rect(e,a,p,y,S)},C.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},C.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},C.prototype.getDocument=function(){return this.jsPDFDocument},C.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},C.prototype.addPage=function(){return this.jsPDFDocument.addPage()},C.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},C.prototype.getGlobalOptions=function(){return Zt||{}},C.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},C.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},C.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},C.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},C.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},C.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},C})(),dt=function(C,e){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(a[y]=p[y])},dt(C,e)};function Jr(C,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dt(C,e);function a(){this.constructor=C}C.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}var eo=(function(C){Jr(e,C);function e(a){var p=C.call(this)||this;return p._element=a,p}return e})(Array);function Zl(C){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/C,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Yl(C){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[C]}function Ke(C,e,a){a.applyStyles(e,!0);var p=Array.isArray(C)?C:[C],y=p.map(function(S){return a.getTextWidth(S)}).reduce(function(S,w){return Math.max(S,w)},0);return y}function to(C,e,a,p){var y=e.settings.tableLineWidth,S=e.settings.tableLineColor;C.applyStyles({lineWidth:y,lineColor:S});var w=no(y,!1);w&&C.rect(a.x,a.y,e.getWidth(C.pageSize().width),p.y-a.y,w)}function no(C,e){var a=C>0,p=e||e===0;return a&&p?"DF":a?"S":p?"F":null}function Ze(C,e){var a,p,y,S;if(C=C||e,Array.isArray(C)){if(C.length>=4)return{top:C[0],right:C[1],bottom:C[2],left:C[3]};if(C.length===3)return{top:C[0],right:C[1],bottom:C[2],left:C[1]};if(C.length===2)return{top:C[0],right:C[1],bottom:C[0],left:C[1]};C.length===1?C=C[0]:C=e}return typeof C=="object"?(typeof C.vertical=="number"&&(C.top=C.vertical,C.bottom=C.vertical),typeof C.horizontal=="number"&&(C.right=C.horizontal,C.left=C.horizontal),{left:(a=C.left)!==null&&a!==void 0?a:e,top:(p=C.top)!==null&&p!==void 0?p:e,right:(y=C.right)!==null&&y!==void 0?y:e,bottom:(S=C.bottom)!==null&&S!==void 0?S:e}):(typeof C!="number"&&(C=e),{top:C,right:C,bottom:C,left:C})}function io(C,e){var a=Ze(e.settings.margin,0);return C.pageSize().width-(a.left+a.right)}function Xl(C,e,a,p,y){var S={},w=1.3333333333333333,d=nt(e,function(g){return y.getComputedStyle(g).backgroundColor});d!=null&&(S.fillColor=d);var l=nt(e,function(g){return y.getComputedStyle(g).color});l!=null&&(S.textColor=l);var u=Jl(p,a);u&&(S.cellPadding=u);var h="borderTopColor",f=w*a,s=p.borderTopWidth;if(p.borderBottomWidth===s&&p.borderRightWidth===s&&p.borderLeftWidth===s){var n=(parseFloat(s)||0)/f;n&&(S.lineWidth=n)}else S.lineWidth={top:(parseFloat(p.borderTopWidth)||0)/f,right:(parseFloat(p.borderRightWidth)||0)/f,bottom:(parseFloat(p.borderBottomWidth)||0)/f,left:(parseFloat(p.borderLeftWidth)||0)/f},S.lineWidth.top||(S.lineWidth.right?h="borderRightColor":S.lineWidth.bottom?h="borderBottomColor":S.lineWidth.left&&(h="borderLeftColor"));var i=nt(e,function(g){return y.getComputedStyle(g)[h]});i!=null&&(S.lineColor=i);var t=["left","right","center","justify"];t.indexOf(p.textAlign)!==-1&&(S.halign=p.textAlign),t=["middle","bottom","top"],t.indexOf(p.verticalAlign)!==-1&&(S.valign=p.verticalAlign);var r=parseInt(p.fontSize||"");isNaN(r)||(S.fontSize=r/w);var o=Ql(p);o&&(S.fontStyle=o);var c=(p.fontFamily||"").toLowerCase();return C.indexOf(c)!==-1&&(S.font=c),S}function Ql(C){var e="";return(C.fontWeight==="bold"||C.fontWeight==="bolder"||parseInt(C.fontWeight)>=700)&&(e="bold"),(C.fontStyle==="italic"||C.fontStyle==="oblique")&&(e+="italic"),e}function nt(C,e){var a=ro(C,e);if(!a)return null;var p=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!p||!Array.isArray(p))return null;var y=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])],S=parseInt(p[4]);return S===0||isNaN(y[0])||isNaN(y[1])||isNaN(y[2])?null:y}function ro(C,e){var a=e(C);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?C.parentElement==null?null:ro(C.parentElement,e):a}function Jl(C,e){var a=[C.paddingTop,C.paddingRight,C.paddingBottom,C.paddingLeft],p=96/(72/e),y=(parseInt(C.lineHeight)-parseInt(C.fontSize))/e/2,S=a.map(function(d){return parseInt(d||"0")/p}),w=Ze(S,0);return y>w.top&&(w.top=y),y>w.bottom&&(w.bottom=y),w}function oo(C,e,a,p,y){var S,w;p===void 0&&(p=!1),y===void 0&&(y=!1);var d;typeof e=="string"?d=a.document.querySelector(e):d=e;var l=Object.keys(C.getFontList()),u=C.scaleFactor(),h=[],f=[],s=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:h,body:f,foot:s};for(var n=0;n<d.rows.length;n++){var i=d.rows[n],t=(w=(S=i==null?void 0:i.parentElement)===null||S===void 0?void 0:S.tagName)===null||w===void 0?void 0:w.toLowerCase(),r=eu(l,u,a,i,p,y);r&&(t==="thead"?h.push(r):t==="tfoot"?s.push(r):f.push(r))}return{head:h,body:f,foot:s}}function eu(C,e,a,p,y,S){for(var w=new eo(p),d=0;d<p.cells.length;d++){var l=p.cells[d],u=a.getComputedStyle(l);if(y||u.display!=="none"){var h=void 0;S&&(h=Xl(C,l,e,u,a)),w.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:tu(l)})}}var f=a.getComputedStyle(p);if(w.length>0&&(y||f.display!=="none"))return w}function tu(C){var e=C.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),e.innerText||e.textContent||""}function nu(C,e,a){for(var p=0,y=[C,e,a];p<y.length;p++){var S=y[p];S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY)}}function _e(C,e,a,p,y){if(C==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(C),w=1;w<arguments.length;w++){var d=arguments[w];if(d!=null)for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(S[l]=d[l])}return S}function iu(C,e){var a=new Ie(C),p=a.getDocumentOptions(),y=a.getGlobalOptions();nu(y,p,e);var S=_e({},y,p,e),w;typeof window<"u"&&(w=window);var d=ru(y,p,e),l=ou(y,p,e),u=au(a,S),h=lu(a,S,w);return{id:e.tableId,content:h,hooks:l,styles:d,settings:u}}function ru(C,e,a){for(var p={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},y=function(l){if(l==="columnStyles"){var u=C[l],h=e[l],f=a[l];p.columnStyles=_e({},u,h,f)}else{var s=[C,e,a],n=s.map(function(i){return i[l]||{}});p[l]=_e({},n[0],n[1],n[2])}},S=0,w=Object.keys(p);S<w.length;S++){var d=w[S];y(d)}return p}function ou(C,e,a){for(var p=[C,e,a],y={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},S=0,w=p;S<w.length;S++){var d=w[S];d.didParseCell&&y.didParseCell.push(d.didParseCell),d.willDrawCell&&y.willDrawCell.push(d.willDrawCell),d.didDrawCell&&y.didDrawCell.push(d.didDrawCell),d.willDrawPage&&y.willDrawPage.push(d.willDrawPage),d.didDrawPage&&y.didDrawPage.push(d.didDrawPage)}return y}function au(C,e){var a,p,y,S,w,d,l,u,h,f,s,n,i=Ze(e.margin,40/C.scaleFactor()),t=(a=su(C,e.startY))!==null&&a!==void 0?a:i.top,r;e.showFoot===!0?r="everyPage":e.showFoot===!1?r="never":r=(p=e.showFoot)!==null&&p!==void 0?p:"everyPage";var o;e.showHead===!0?o="everyPage":e.showHead===!1?o="never":o=(y=e.showHead)!==null&&y!==void 0?y:"everyPage";var c=(S=e.useCss)!==null&&S!==void 0?S:!1,g=e.theme||(c?"plain":"striped"),v=!!e.horizontalPageBreak,m=(w=e.horizontalPageBreakRepeat)!==null&&w!==void 0?w:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:c,theme:g,startY:t,margin:i,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:o,showFoot:r,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(s=e.tableLineColor)!==null&&s!==void 0?s:200,horizontalPageBreak:v,horizontalPageBreakRepeat:m,horizontalPageBreakBehaviour:(n=e.horizontalPageBreakBehaviour)!==null&&n!==void 0?n:"afterAllRows"}}function su(C,e){var a=C.getLastAutoTable(),p=C.scaleFactor(),y=C.pageNumber(),S=!1;if(a&&a.startPageNumber){var w=a.startPageNumber+a.pageNumber-1;S=w===y}return typeof e=="number"?e:(e==null||e===!1)&&S&&(a==null?void 0:a.finalY)!=null?a.finalY+20/p:null}function lu(C,e,a){var p=e.head||[],y=e.body||[],S=e.foot||[];if(e.html){var w=e.includeHiddenHtml;if(a){var d=oo(C,e.html,a,w,e.useCss)||{};p=d.head||p,y=d.body||p,S=d.foot||p}else console.error("Cannot parse html in non browser environment")}var l=e.columns||uu(p,y,S);return{columns:l,head:p,body:y,foot:S}}function uu(C,e,a){var p=C[0]||e[0]||a[0]||[],y=[];return Object.keys(p).filter(function(S){return S!=="_element"}).forEach(function(S){var w=1,d;Array.isArray(p)?d=p[parseInt(S)]:d=p[S],typeof d=="object"&&!Array.isArray(d)&&(w=(d==null?void 0:d.colSpan)||1);for(var l=0;l<w;l++){var u=void 0;Array.isArray(p)?u=y.length:u=S+(l>0?"_".concat(l):"");var h={dataKey:u};y.push(h)}}),y}var ct=(function(){function C(e,a,p){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=p,this.doc=e.getDocument()}return C})(),du=(function(C){Jr(e,C);function e(a,p,y,S,w,d){var l=C.call(this,a,p,d)||this;return l.cell=y,l.row=S,l.column=w,l.section=S.section,l}return e})(ct),cu=(function(){function C(e,a){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return C.prototype.getHeadHeight=function(e){return this.head.reduce(function(a,p){return a+p.getMaxCellHeight(e)},0)},C.prototype.getFootHeight=function(e){return this.foot.reduce(function(a,p){return a+p.getMaxCellHeight(e)},0)},C.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},C.prototype.callCellHooks=function(e,a,p,y,S,w){for(var d=0,l=a;d<l.length;d++){var u=l[d],h=new du(e,this,p,y,S,w),f=u(h)===!1;if(p.text=Array.isArray(p.text)?p.text:[p.text],f)return!1}return!0},C.prototype.callEndPageHooks=function(e,a){e.applyStyles(e.userStyles);for(var p=0,y=this.hooks.didDrawPage;p<y.length;p++){var S=y[p];S(new ct(e,this,a))}},C.prototype.callWillDrawPageHooks=function(e,a){for(var p=0,y=this.hooks.willDrawPage;p<y.length;p++){var S=y[p];S(new ct(e,this,a))}},C.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(y,S){return y+S.wrappedWidth},0);return a}else{var p=this.settings.margin;return e-p.left-p.right}},C})(),ao=(function(){function C(e,a,p,y,S){S===void 0&&(S=!1),this.height=0,this.raw=e,e instanceof eo&&(this.raw=e._element,this.element=e._element),this.index=a,this.section=p,this.cells=y,this.spansMultiplePages=S}return C.prototype.getMaxCellHeight=function(e){var a=this;return e.reduce(function(p,y){var S;return Math.max(p,((S=a.cells[y.index])===null||S===void 0?void 0:S.height)||0)},0)},C.prototype.hasRowSpan=function(e){var a=this;return e.filter(function(p){var y=a.cells[p.index];return y?y.rowSpan>1:!1}).length>0},C.prototype.canEntireRowFit=function(e,a){return this.getMaxCellHeight(a)<=e},C.prototype.getMinimumRowHeight=function(e,a){var p=this;return e.reduce(function(y,S){var w=p.cells[S.index];if(!w)return 0;var d=a.getLineHeight(w.styles.fontSize),l=w.padding("vertical"),u=l+d;return u>y?u:y},0)},C})(),so=(function(){function C(e,a,p){var y;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=p,this.raw=e;var S=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,S=(y=e.content)!==null&&y!==void 0?y:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var w=S!=null?""+S:"",d=/\r\n|\r|\n/g;this.text=w.split(d)}return C.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");e=this.y+a/2+this.padding("top")}var p;if(this.styles.halign==="right")p=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var y=this.width-this.padding("horizontal");p=this.x+y/2+this.padding("left")}else p=this.x+this.padding("left");return{x:p,y:e}},C.prototype.getContentHeight=function(e,a){a===void 0&&(a=1.15);var p=Array.isArray(this.text)?this.text.length:1,y=this.styles.fontSize/e*a,S=p*y+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},C.prototype.padding=function(e){var a=Ze(this.styles.cellPadding,0);return e==="vertical"?a.top+a.bottom:e==="horizontal"?a.left+a.right:a[e]},C})(),pu=(function(){function C(e,a,p){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=a,this.index=p}return C.prototype.getMaxCustomCellWidth=function(e){for(var a=0,p=0,y=e.allRows();p<y.length;p++){var S=y[p],w=S.cells[this.index];w&&typeof w.styles.cellWidth=="number"&&(a=Math.max(a,w.styles.cellWidth))}return a},C})();function hu(C,e){gu(C,e);var a=[],p=0;e.columns.forEach(function(S){var w=S.getMaxCustomCellWidth(e);w?S.width=w:(S.width=S.wrappedWidth,a.push(S)),p+=S.width});var y=e.getWidth(C.pageSize().width)-p;y&&(y=pt(a,y,function(S){return Math.max(S.minReadableWidth,S.minWidth)})),y&&(y=pt(a,y,function(S){return S.minWidth})),y=Math.abs(y),!e.settings.horizontalPageBreak&&y>.1/C.scaleFactor()&&(y=y<1?y:Math.round(y),console.warn("Of the table content, ".concat(y," units width could not fit page"))),mu(e),_u(e,C),fu(e)}function gu(C,e){var a=C.scaleFactor(),p=e.settings.horizontalPageBreak,y=io(C,e);e.allRows().forEach(function(S){for(var w=0,d=e.columns;w<d.length;w++){var l=d[w],u=S.cells[l.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(C,h,u,S,l,null);var f=u.padding("horizontal");u.contentWidth=Ke(u.text,u.styles,C)+f;var s=Ke(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,C);if(u.minReadableWidth=s+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||p===!0)u.contentWidth>y?(u.minWidth=y,u.wrappedWidth=y):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var n=10/a;u.minWidth=u.styles.minCellWidth||n,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(S){for(var w=0,d=e.columns;w<d.length;w++){var l=d[w],u=S.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=h.cellWidth||h.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function pt(C,e,a){for(var p=e,y=C.reduce(function(n,i){return n+i.wrappedWidth},0),S=0;S<C.length;S++){var w=C[S],d=w.wrappedWidth/y,l=p*d,u=w.width+l,h=a(w),f=u<h?h:u;e-=f-w.width,w.width=f}if(e=Math.round(e*1e10)/1e10,e){var s=C.filter(function(n){return e<0?n.width>a(n):!0});s.length&&(e=pt(s,e,a))}return e}function fu(C){for(var e={},a=1,p=C.allRows(),y=0;y<p.length;y++)for(var S=p[y],w=0,d=C.columns;w<d.length;w++){var l=d[w],u=e[l.index];if(a>1)a--,delete S.cells[l.index];else if(u)u.cell.height+=S.height,a=u.cell.colSpan,delete S.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var h=S.cells[l.index];if(!h)continue;if(h.height=S.height,h.rowSpan>1){var f=p.length-y,s=h.rowSpan>f?f:h.rowSpan;e[l.index]={cell:h,left:s,row:S}}}}}function mu(C){for(var e=C.allRows(),a=0;a<e.length;a++)for(var p=e[a],y=null,S=0,w=0,d=0;d<C.columns.length;d++){var l=C.columns[d];if(w-=1,w>1&&C.columns[d+1])S+=l.width,delete p.cells[l.index];else if(y){var u=y;delete p.cells[l.index],y=null,u.width=l.width+S}else{var u=p.cells[l.index];if(!u)continue;if(w=u.colSpan,S=0,u.colSpan>1){y=u,S+=l.width;continue}u.width=l.width+S}}}function _u(C,e){for(var a={count:0,height:0},p=0,y=C.allRows();p<y.length;p++){for(var S=y[p],w=0,d=C.columns;w<d.length;w++){var l=d[w],u=S.cells[l.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Yt(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Yt(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,h);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var s=u.contentHeight/u.rowSpan;u.rowSpan>1&&a.count*a.height<s*u.rowSpan?a={height:s,count:u.rowSpan}:a&&a.count>0&&a.height>s&&(s=a.height),s>S.height&&(S.height=s)}}a.count--}}function Yt(C,e,a,p,y){return C.map(function(S){return yu(S,e,a,p,y)})}function yu(C,e,a,p,y){var S=1e4*p.scaleFactor();if(e=Math.ceil(e*S)/S,e>=Ke(C,a,p))return C;for(;e<Ke(C+y,a,p)&&!(C.length<=1);)C=C.substring(0,C.length-1);return C.trim()+y}function vu(C,e){var a=new Ie(C),p=Tu(e,a.scaleFactor()),y=new cu(e,p);return hu(a,y),a.applyStyles(a.userStyles),y}function Tu(C,e){var a=C.content,p=wu(a.columns);if(a.head.length===0){var y=Xt(p,"head");y&&a.head.push(y)}if(a.foot.length===0){var y=Xt(p,"foot");y&&a.foot.push(y)}var S=C.settings.theme,w=C.styles;return{columns:p,head:it("head",a.head,p,w,S,e),body:it("body",a.body,p,w,S,e),foot:it("foot",a.foot,p,w,S,e)}}function it(C,e,a,p,y,S){var w={},d=e.map(function(l,u){for(var h=0,f={},s=0,n=0,i=0,t=a;i<t.length;i++){var r=t[i];if(w[r.index]==null||w[r.index].left===0)if(n===0){var o=void 0;Array.isArray(l)?o=l[r.index-s-h]:o=l[r.dataKey];var c={};typeof o=="object"&&!Array.isArray(o)&&(c=(o==null?void 0:o.styles)||{});var g=Su(C,r,u,y,p,S,c),v=new so(o,g,C);f[r.dataKey]=v,f[r.index]=v,n=v.colSpan-1,w[r.index]={left:v.rowSpan-1,times:n}}else n--,s++;else w[r.index].left--,n=w[r.index].times,h++}return new ao(l,u,C,f)});return d}function Xt(C,e){var a={};return C.forEach(function(p){if(p.raw!=null){var y=bu(e,p.raw);y!=null&&(a[p.dataKey]=y)}}),Object.keys(a).length>0?a:null}function bu(C,e){if(C==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(C==="foot"&&typeof e=="object")return e.footer;return null}function wu(C){return C.map(function(e,a){var p,y;return typeof e=="object"?y=(p=e.dataKey)!==null&&p!==void 0?p:a:y=a,new pu(y,e,a)})}function Su(C,e,a,p,y,S,w){var d=Yl(p),l;C==="head"?l=y.headStyles:C==="body"?l=y.bodyStyles:C==="foot"&&(l=y.footStyles);var u=_e({},d.table,d[C],y.styles,l),h=y.columnStyles[e.dataKey]||y.columnStyles[e.index]||{},f=C==="body"?h:{},s=C==="body"&&a%2===0?_e({},d.alternateRow,y.alternateRowStyles):{},n=Zl(S),i=_e({},n,u,s,f);return _e(i,w)}function Cu(C,e,a){var p;a===void 0&&(a={});var y=io(C,e),S=new Map,w=[],d=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(s){var n=e.columns.find(function(i){return i.dataKey===s||i.index===s});n&&!S.has(n.index)&&(S.set(n.index,!0),w.push(n.index),d.push(e.columns[n.index]),y-=n.wrappedWidth)});for(var u=!0,h=(p=a==null?void 0:a.start)!==null&&p!==void 0?p:0;h<e.columns.length;){if(S.has(h)){h++;continue}var f=e.columns[h].wrappedWidth;if(u||y>=f)u=!1,w.push(h),d.push(e.columns[h]),y-=f;else break;h++}return{colIndexes:w,columns:d,lastIndex:h-1}}function ku(C,e){for(var a=[],p=0;p<e.columns.length;p++){var y=Cu(C,e,{start:p});y.columns.length&&(a.push(y),p=y.lastIndex)}return a}function Du(C,e){var a=e.settings,p=a.startY,y=a.margin,S={x:y.left,y:p},w=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=p+y.bottom+w;if(a.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(s,n){return s+n.height},0);d+=u}var h=new Ie(C);(a.pageBreak==="always"||a.startY!=null&&d>h.pageSize().height)&&(uo(h),S.y=y.top),e.callWillDrawPageHooks(h,S);var f=_e({},S);e.startPageNumber=h.pageNumber(),a.horizontalPageBreak?Iu(h,e,f,S):(h.applyStyles(h.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return ye(h,e,s,S,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(s,n){var i=n===e.body.length-1;ze(h,e,s,i,f,S,e.columns)}),h.applyStyles(h.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return ye(h,e,s,S,e.columns)})),to(h,e,f,S),e.callEndPageHooks(h,S),e.finalY=S.y,C.lastAutoTable=e,h.applyStyles(h.userStyles)}function Iu(C,e,a,p){var y=ku(C,e),S=e.settings;if(S.horizontalPageBreakBehaviour==="afterAllRows")y.forEach(function(u,h){C.applyStyles(C.userStyles),h>0?Pe(C,e,a,p,u.columns,!0):Qt(C,e,p,u.columns),Eu(C,e,a,p,u.columns),rt(C,e,p,u.columns)});else for(var w=-1,d=y[0],l=function(){var u=w;if(d){C.applyStyles(C.userStyles);var h=d.columns;w>=0?Pe(C,e,a,p,h,!0):Qt(C,e,p,h),u=Jt(C,e,w+1,p,h),rt(C,e,p,h)}var f=u-w;y.slice(1).forEach(function(s){C.applyStyles(C.userStyles),Pe(C,e,a,p,s.columns,!0),Jt(C,e,w+1,p,s.columns,f),rt(C,e,p,s.columns)}),w=u};w<e.body.length-1;)l()}function Qt(C,e,a,p){var y=e.settings;C.applyStyles(C.userStyles),(y.showHead==="firstPage"||y.showHead==="everyPage")&&e.head.forEach(function(S){return ye(C,e,S,a,p)})}function Eu(C,e,a,p,y){C.applyStyles(C.userStyles),e.body.forEach(function(S,w){var d=w===e.body.length-1;ze(C,e,S,d,a,p,y)})}function Jt(C,e,a,p,y,S){C.applyStyles(C.userStyles),S=S??e.body.length;var w=Math.min(a+S,e.body.length),d=-1;return e.body.slice(a,w).forEach(function(l,u){var h=a+u===e.body.length-1,f=lo(C,e,h,p);l.canEntireRowFit(f,y)&&(ye(C,e,l,p,y),d=a+u)}),d}function rt(C,e,a,p){var y=e.settings;C.applyStyles(C.userStyles),(y.showFoot==="lastPage"||y.showFoot==="everyPage")&&e.foot.forEach(function(S){return ye(C,e,S,a,p)})}function xu(C,e,a){var p=a.getLineHeight(C.styles.fontSize),y=C.padding("vertical"),S=Math.floor((e-y)/p);return Math.max(0,S)}function Au(C,e,a,p){var y={};C.spansMultiplePages=!0,C.height=0;for(var S=0,w=0,d=a.columns;w<d.length;w++){var l=d[w],u=C.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new so(u.raw,u.styles,u.section);h=_e(h,u),h.text=[];var f=xu(u,e,p);u.text.length>f&&(h.text=u.text.splice(f,u.text.length));var s=p.scaleFactor(),n=p.getLineHeightFactor();u.contentHeight=u.getContentHeight(s,n),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>C.height&&(C.height=u.contentHeight),h.contentHeight=h.getContentHeight(s,n),h.contentHeight>S&&(S=h.contentHeight),y[l.index]=h}}var i=new ao(C.raw,-1,C.section,y,!0);i.height=S;for(var t=0,r=a.columns;t<r.length;t++){var l=r[t],h=i.cells[l.index];h&&(h.height=i.height);var u=C.cells[l.index];u&&(u.height=C.height)}return i}function Pu(C,e,a,p){var y=C.pageSize().height,S=p.settings.margin,w=S.top+S.bottom,d=y-w;e.section==="body"&&(d-=p.getHeadHeight(p.columns)+p.getFootHeight(p.columns));var l=e.getMinimumRowHeight(p.columns,C),u=l<a;if(l>d)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(p.columns),f=e.getMaxCellHeight(p.columns)>d;return f?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||p.settings.rowPageBreak==="avoid")}function ze(C,e,a,p,y,S,w){var d=lo(C,e,p,S);if(a.canEntireRowFit(d,w))ye(C,e,a,S,w);else if(Pu(C,a,d,e)){var l=Au(a,d,e,C);ye(C,e,a,S,w),Pe(C,e,y,S,w),ze(C,e,l,p,y,S,w)}else Pe(C,e,y,S,w),ze(C,e,a,p,y,S,w)}function ye(C,e,a,p,y){p.x=e.settings.margin.left;for(var S=0,w=y;S<w.length;S++){var d=w[S],l=a.cells[d.index];if(!l){p.x+=d.width;continue}C.applyStyles(l.styles),l.x=p.x,l.y=p.y;var u=e.callCellHooks(C,e.hooks.willDrawCell,l,a,d,p);if(u===!1){p.x+=d.width;continue}Mu(C,l,p);var h=l.getTextPos();Qr(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},C.getDocument()),e.callCellHooks(C,e.hooks.didDrawCell,l,a,d,p),p.x+=d.width}p.y+=a.height}function Mu(C,e,a){var p=e.styles;if(C.getDocument().setFillColor(C.getDocument().getFillColor()),typeof p.lineWidth=="number"){var y=no(p.lineWidth,p.fillColor);y&&C.rect(e.x,a.y,e.width,e.height,y)}else typeof p.lineWidth=="object"&&(p.fillColor&&C.rect(e.x,a.y,e.width,e.height,"F"),Ru(C,e,a,p.lineWidth))}function Ru(C,e,a,p){var y,S,w,d;p.top&&(y=a.x,S=a.y,w=a.x+e.width,d=a.y,p.right&&(w+=.5*p.right),p.left&&(y-=.5*p.left),l(p.top,y,S,w,d)),p.bottom&&(y=a.x,S=a.y+e.height,w=a.x+e.width,d=a.y+e.height,p.right&&(w+=.5*p.right),p.left&&(y-=.5*p.left),l(p.bottom,y,S,w,d)),p.left&&(y=a.x,S=a.y,w=a.x,d=a.y+e.height,p.top&&(S-=.5*p.top),p.bottom&&(d+=.5*p.bottom),l(p.left,y,S,w,d)),p.right&&(y=a.x+e.width,S=a.y,w=a.x+e.width,d=a.y+e.height,p.top&&(S-=.5*p.top),p.bottom&&(d+=.5*p.bottom),l(p.right,y,S,w,d));function l(u,h,f,s,n){C.getDocument().setLineWidth(u),C.getDocument().line(h,f,s,n,"S")}}function lo(C,e,a,p){var y=e.settings.margin.bottom,S=e.settings.showFoot;return(S==="everyPage"||S==="lastPage"&&a)&&(y+=e.getFootHeight(e.columns)),C.pageSize().height-p.y-y}function Pe(C,e,a,p,y,S){y===void 0&&(y=[]),S===void 0&&(S=!1),C.applyStyles(C.userStyles),e.settings.showFoot==="everyPage"&&!S&&e.foot.forEach(function(d){return ye(C,e,d,p,y)}),e.callEndPageHooks(C,p);var w=e.settings.margin;to(C,e,a,p),uo(C),e.pageNumber++,p.x=w.left,p.y=w.top,a.y=w.top,e.callWillDrawPageHooks(C,p),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return ye(C,e,d,p,y)}),C.applyStyles(C.userStyles))}function uo(C){var e=C.pageNumber();C.setPage(e+1);var a=C.pageNumber();return a===e?(C.addPage(),!0):!1}function Ou(C){C.API.autoTable=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var p=e[0],y=iu(this,p),S=vu(this,y);return Du(this,S),this},C.API.lastAutoTable=!1,C.API.autoTableText=function(e,a,p,y){Qr(e,a,p,y,this)},C.API.autoTableSetDefaults=function(e){return Ie.setDefaults(e,this),this},C.autoTableSetDefaults=function(e,a){Ie.setDefaults(e,a)},C.API.autoTableHtmlToJson=function(e,a){var p;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var y=new Ie(this),S=oo(y,e,window,a,!1),w=S.head,d=S.body,l=((p=w[0])===null||p===void 0?void 0:p.map(function(u){return u.content}))||[];return{columns:l,rows:d,data:d}}}var ot;try{if(typeof window<"u"&&window){var en=window,tn=en.jsPDF||((ot=en.jspdf)===null||ot===void 0?void 0:ot.jsPDF);tn&&Ou(tn)}}catch(C){console.error("Could not apply autoTable plugin",C)}const Lu=JSON.parse('[{"worder_sub_id":2652,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.332Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132341,"branch_id":6756,"co_id":2729,"item_id":221161,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":1,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":3228,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2653,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.332Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132322,"branch_id":6756,"co_id":2729,"item_id":221203,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":2,"sub_worder_parent_id":1,"note1":null,"route_m_id":0,"product_route_m_id":3231,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2654,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.332Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132304,"branch_id":6756,"co_id":2729,"item_id":221142,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":3,"sub_worder_parent_id":2,"note1":null,"route_m_id":0,"product_route_m_id":3206,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2655,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.332Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132323,"branch_id":6756,"co_id":2729,"item_id":221202,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":4,"sub_worder_parent_id":1,"note1":null,"route_m_id":0,"product_route_m_id":3232,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2656,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132305,"branch_id":6756,"co_id":2729,"item_id":221143,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":5,"sub_worder_parent_id":4,"note1":null,"route_m_id":0,"product_route_m_id":3207,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2657,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132325,"branch_id":6756,"co_id":2729,"item_id":221201,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":6,"sub_worder_parent_id":1,"note1":null,"route_m_id":0,"product_route_m_id":3233,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2658,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132324,"branch_id":6756,"co_id":2729,"item_id":221166,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":7,"sub_worder_parent_id":6,"note1":null,"route_m_id":0,"product_route_m_id":3224,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2659,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132306,"branch_id":6756,"co_id":2729,"item_id":221144,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":8,"sub_worder_parent_id":7,"note1":null,"route_m_id":0,"product_route_m_id":3208,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2660,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132307,"branch_id":6756,"co_id":2729,"item_id":221146,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":9,"sub_worder_parent_id":7,"note1":null,"route_m_id":0,"product_route_m_id":3209,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2661,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132308,"branch_id":6756,"co_id":2729,"item_id":221147,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":10,"sub_worder_parent_id":7,"note1":null,"route_m_id":0,"product_route_m_id":3210,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2662,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132309,"branch_id":6756,"co_id":2729,"item_id":221148,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":11,"sub_worder_parent_id":7,"note1":null,"route_m_id":0,"product_route_m_id":3211,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2663,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132331,"branch_id":6756,"co_id":2729,"item_id":221162,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":12,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":3225,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2664,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132310,"branch_id":6756,"co_id":2729,"item_id":221149,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":13,"sub_worder_parent_id":12,"note1":null,"route_m_id":0,"product_route_m_id":3212,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2665,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":37554,"branch_id":6756,"co_id":2729,"item_id":138371,"qty":2,"qty_from_item":2,"qty_from_wo":2,"qty_offered":2,"unit_id":166,"worder_m_id":7432,"sub_worder_id":14,"sub_worder_parent_id":12,"note1":null,"route_m_id":0,"product_route_m_id":54166,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2666,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132326,"branch_id":6756,"co_id":2729,"item_id":221197,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":15,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":3234,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2667,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.348Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132311,"branch_id":6756,"co_id":2729,"item_id":221150,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":16,"sub_worder_parent_id":15,"note1":null,"route_m_id":0,"product_route_m_id":3213,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2668,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132327,"branch_id":6756,"co_id":2729,"item_id":221196,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":17,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":3235,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2669,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132312,"branch_id":6756,"co_id":2729,"item_id":221151,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":18,"sub_worder_parent_id":17,"note1":null,"route_m_id":0,"product_route_m_id":3214,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2670,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132344,"branch_id":6756,"co_id":2729,"item_id":221163,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":19,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":54167,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2671,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132328,"branch_id":6756,"co_id":2729,"item_id":221195,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":20,"sub_worder_parent_id":19,"note1":null,"route_m_id":0,"product_route_m_id":3236,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2672,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132313,"branch_id":6756,"co_id":2729,"item_id":221152,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":21,"sub_worder_parent_id":20,"note1":null,"route_m_id":0,"product_route_m_id":3215,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2673,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132329,"branch_id":6756,"co_id":2729,"item_id":221194,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":22,"sub_worder_parent_id":19,"note1":null,"route_m_id":0,"product_route_m_id":3237,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2674,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132314,"branch_id":6756,"co_id":2729,"item_id":221153,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":23,"sub_worder_parent_id":22,"note1":null,"route_m_id":0,"product_route_m_id":3216,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2675,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132347,"branch_id":6756,"co_id":2729,"item_id":221164,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":24,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":54168,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2676,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132335,"branch_id":6756,"co_id":2729,"item_id":221193,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":25,"sub_worder_parent_id":24,"note1":null,"route_m_id":0,"product_route_m_id":3238,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2677,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132334,"branch_id":6756,"co_id":2729,"item_id":221168,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":26,"sub_worder_parent_id":25,"note1":null,"route_m_id":0,"product_route_m_id":3226,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2678,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132317,"branch_id":6756,"co_id":2729,"item_id":221154,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":27,"sub_worder_parent_id":26,"note1":null,"route_m_id":0,"product_route_m_id":3217,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2679,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132318,"branch_id":6756,"co_id":2729,"item_id":221155,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":28,"sub_worder_parent_id":26,"note1":null,"route_m_id":0,"product_route_m_id":3218,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2680,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.364Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132345,"branch_id":6756,"co_id":2729,"item_id":221169,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":29,"sub_worder_parent_id":24,"note1":null,"route_m_id":0,"product_route_m_id":3229,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2681,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132337,"branch_id":6756,"co_id":2729,"item_id":221190,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":30,"sub_worder_parent_id":29,"note1":null,"route_m_id":0,"product_route_m_id":3239,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2682,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132336,"branch_id":6756,"co_id":2729,"item_id":221182,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":31,"sub_worder_parent_id":30,"note1":null,"route_m_id":0,"product_route_m_id":3227,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2683,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132319,"branch_id":6756,"co_id":2729,"item_id":221156,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":32,"sub_worder_parent_id":31,"note1":null,"route_m_id":0,"product_route_m_id":3219,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2684,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132320,"branch_id":6756,"co_id":2729,"item_id":221157,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":33,"sub_worder_parent_id":24,"note1":null,"route_m_id":0,"product_route_m_id":3220,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2685,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132346,"branch_id":6756,"co_id":2729,"item_id":221170,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":34,"sub_worder_parent_id":24,"note1":null,"route_m_id":0,"product_route_m_id":3230,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2686,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132340,"branch_id":6756,"co_id":2729,"item_id":221189,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":35,"sub_worder_parent_id":34,"note1":null,"route_m_id":0,"product_route_m_id":3240,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2687,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132321,"branch_id":6756,"co_id":2729,"item_id":221158,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":36,"sub_worder_parent_id":35,"note1":null,"route_m_id":0,"product_route_m_id":3221,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2688,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132332,"branch_id":6756,"co_id":2729,"item_id":221188,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":37,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":3241,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2689,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132315,"branch_id":6756,"co_id":2729,"item_id":221159,"qty":1,"qty_from_item":1,"qty_from_wo":1,"qty_offered":1,"unit_id":166,"worder_m_id":7432,"sub_worder_id":38,"sub_worder_parent_id":37,"note1":null,"route_m_id":0,"product_route_m_id":3222,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null},{"worder_sub_id":2690,"create_user_id":11920,"update_user_id":0,"create_date":"2022-01-07T08:13:16.379Z","update_date":"0001-12-29T21:00:00.000Z","bom_m_id":132316,"branch_id":6756,"co_id":2729,"item_id":221160,"qty":2,"qty_from_item":2,"qty_from_wo":2,"qty_offered":2,"unit_id":166,"worder_m_id":7432,"sub_worder_id":39,"sub_worder_parent_id":0,"note1":null,"route_m_id":0,"product_route_m_id":3223,"root_worder_m_id":0,"color_id":null,"lot_id":null,"package_type_id":null,"quality_id":null,"project_m_id":0,"item_attribute1_id":null,"item_attribute2_id":null,"item_attribute3_id":null,"item_gnl_attribute1_id":null,"item_gnl_attribute2_id":null,"item_gnl_attribute3_id":null}]'),He={prdt_worder_sub:Lu},Ve=[{id:1,parentId:-1,title:"Software Development",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:31},{id:2,parentId:1,title:"Scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:60},{id:3,parentId:2,title:"Determine project scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-21T09:00:00.000Z"),progress:100},{id:4,parentId:2,title:"Secure project sponsorship",start:new Date("2019-02-21T10:00:00.000Z"),end:new Date("2019-02-22T09:00:00.000Z"),progress:100},{id:5,parentId:2,title:"Define preliminary resources",start:new Date("2019-02-22T10:00:00.000Z"),end:new Date("2019-02-25T09:00:00.000Z"),progress:60},{id:6,parentId:2,title:"Secure core resources",start:new Date("2019-02-25T10:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:7,parentId:2,title:"Scope complete",start:new Date("2019-02-26T09:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:8,parentId:1,title:"Analysis/Software Requirements",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:80},{id:9,parentId:8,title:"Conduct needs analysis",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-05T09:00:00.000Z"),progress:100},{id:10,parentId:8,title:"Draft preliminary software specifications",start:new Date("2019-03-05T10:00:00.000Z"),end:new Date("2019-03-08T09:00:00.000Z"),progress:100},{id:11,parentId:8,title:"Develop preliminary budget",start:new Date("2019-03-08T10:00:00.000Z"),end:new Date("2019-03-12T09:00:00.000Z"),progress:100},{id:12,parentId:8,title:"Review software specifications/budget with team",start:new Date("2019-03-12T10:00:00.000Z"),end:new Date("2019-03-12T14:00:00.000Z"),progress:100},{id:13,parentId:8,title:"Incorporate feedback on software specifications",start:new Date("2019-03-13T05:00:00.000Z"),end:new Date("2019-03-13T14:00:00.000Z"),progress:70},{id:14,parentId:8,title:"Develop delivery timeline",start:new Date("2019-03-14T05:00:00.000Z"),end:new Date("2019-03-14T14:00:00.000Z"),progress:0},{id:15,parentId:8,title:"Obtain approvals to proceed (concept, timeline, budget)",start:new Date("2019-03-15T05:00:00.000Z"),end:new Date("2019-03-15T09:00:00.000Z"),progress:0},{id:16,parentId:8,title:"Secure required resources",start:new Date("2019-03-15T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:17,parentId:8,title:"Analysis complete",start:new Date("2019-03-18T09:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:18,parentId:1,title:"Design",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:80},{id:19,parentId:18,title:"Review preliminary software specifications",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:20,parentId:18,title:"Develop functional specifications",start:new Date("2019-03-20T10:00:00.000Z"),end:new Date("2019-03-27T09:00:00.000Z"),progress:100},{id:21,parentId:18,title:"Develop prototype based on functional specifications",start:new Date("2019-03-27T10:00:00.000Z"),end:new Date("2019-04-02T09:00:00.000Z"),progress:100},{id:22,parentId:18,title:"Review functional specifications",start:new Date("2019-04-02T10:00:00.000Z"),end:new Date("2019-04-04T09:00:00.000Z"),progress:30},{id:23,parentId:18,title:"Incorporate feedback into functional specifications",start:new Date("2019-04-04T10:00:00.000Z"),end:new Date("2019-04-05T09:00:00.000Z"),progress:0},{id:24,parentId:18,title:"Obtain approval to proceed",start:new Date("2019-04-05T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:25,parentId:18,title:"Design complete",start:new Date("2019-04-05T14:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:26,parentId:1,title:"Development",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:42},{id:27,parentId:26,title:"Review functional specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:100},{id:28,parentId:26,title:"Identify modular/tiered design parameters",start:new Date("2019-04-09T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:29,parentId:26,title:"Assign development staff",start:new Date("2019-04-10T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:30,parentId:26,title:"Develop code",start:new Date("2019-04-11T05:00:00.000Z"),end:new Date("2019-05-01T14:00:00.000Z"),progress:49},{id:31,parentId:26,title:"Developer testing (primary debugging)",start:new Date("2019-04-16T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:24},{id:32,parentId:26,title:"Development complete",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:0},{id:33,parentId:1,title:"Testing",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:23},{id:34,parentId:33,title:"Develop unit test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:35,parentId:33,title:"Develop integration test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:36,parentId:33,title:"Unit Testing",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:37,parentId:36,title:"Review modular code",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-14T12:00:00.000Z"),progress:0},{id:38,parentId:36,title:"Test component modules to product specifications",start:new Date("2019-05-14T12:00:00.000Z"),end:new Date("2019-05-16T12:00:00.000Z"),progress:0},{id:39,parentId:36,title:"Identify anomalies to product specifications",start:new Date("2019-05-16T12:00:00.000Z"),end:new Date("2019-05-21T12:00:00.000Z"),progress:0},{id:40,parentId:36,title:"Modify code",start:new Date("2019-05-21T12:00:00.000Z"),end:new Date("2019-05-24T12:00:00.000Z"),progress:0},{id:41,parentId:36,title:"Re-test modified code",start:new Date("2019-05-24T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:42,parentId:36,title:"Unit testing complete",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:43,parentId:33,title:"Integration Testing",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:44,parentId:43,title:"Test module integration",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-04T12:00:00.000Z"),progress:0},{id:45,parentId:43,title:"Identify anomalies to specifications",start:new Date("2019-06-04T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:46,parentId:43,title:"Modify code",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-11T12:00:00.000Z"),progress:0},{id:47,parentId:43,title:"Re-test modified code",start:new Date("2019-06-11T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:48,parentId:43,title:"Integration testing complete",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:49,parentId:1,title:"Training",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:25},{id:50,parentId:49,title:"Develop training specifications for end users",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:51,parentId:49,title:"Develop training specifications for helpdesk support staff",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:52,parentId:49,title:"Identify training delivery methodology (computer based training, classroom, etc.)",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:53,parentId:49,title:"Develop training materials",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:54,parentId:49,title:"Conduct training usability study",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-03T12:00:00.000Z"),progress:0},{id:55,parentId:49,title:"Finalize training materials",start:new Date("2019-06-03T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:56,parentId:49,title:"Develop training delivery mechanism",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:57,parentId:49,title:"Training materials complete",start:new Date("2019-06-10T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:58,parentId:1,title:"Documentation",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:59,parentId:58,title:"Develop Help specification",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:80},{id:60,parentId:58,title:"Develop Help system",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:61,parentId:58,title:"Review Help documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-16T09:00:00.000Z"),progress:0},{id:62,parentId:58,title:"Incorporate Help documentation feedback",start:new Date("2019-05-16T10:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:63,parentId:58,title:"Develop user manuals specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:65},{id:64,parentId:58,title:"Develop user manuals",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:65,parentId:58,title:"Review all user documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-15T09:00:00.000Z"),progress:0},{id:66,parentId:58,title:"Incorporate user documentation feedback",start:new Date("2019-05-15T10:00:00.000Z"),end:new Date("2019-05-17T09:00:00.000Z"),progress:0},{id:67,parentId:58,title:"Documentation complete",start:new Date("2019-05-20T09:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:68,parentId:1,title:"Pilot",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:22},{id:69,parentId:68,title:"Identify test group",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-19T09:00:00.000Z"),progress:100},{id:70,parentId:68,title:"Develop software delivery mechanism",start:new Date("2019-03-19T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:71,parentId:68,title:"Install/deploy software",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-14T12:00:00.000Z"),progress:0},{id:72,parentId:68,title:"Obtain user feedback",start:new Date("2019-06-14T12:00:00.000Z"),end:new Date("2019-06-21T12:00:00.000Z"),progress:0},{id:73,parentId:68,title:"Evaluate testing information",start:new Date("2019-06-21T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:74,parentId:68,title:"Pilot complete",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:75,parentId:1,title:"Deployment",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:76,parentId:75,title:"Determine final deployment strategy",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-25T12:00:00.000Z"),progress:0},{id:77,parentId:75,title:"Develop deployment methodology",start:new Date("2019-06-25T12:00:00.000Z"),end:new Date("2019-06-26T12:00:00.000Z"),progress:0},{id:78,parentId:75,title:"Secure deployment resources",start:new Date("2019-06-26T12:00:00.000Z"),end:new Date("2019-06-27T12:00:00.000Z"),progress:0},{id:79,parentId:75,title:"Train support staff",start:new Date("2019-06-27T12:00:00.000Z"),end:new Date("2019-06-28T12:00:00.000Z"),progress:0},{id:80,parentId:75,title:"Deploy software",start:new Date("2019-06-28T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:81,parentId:75,title:"Deployment complete",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:82,parentId:1,title:"Post Implementation Review",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:83,parentId:82,title:"Document lessons learned",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-02T12:00:00.000Z"),progress:0},{id:84,parentId:82,title:"Distribute to team members",start:new Date("2019-07-02T12:00:00.000Z"),end:new Date("2019-07-03T12:00:00.000Z"),progress:0},{id:85,parentId:82,title:"Create software maintenance team",start:new Date("2019-07-03T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:86,parentId:82,title:"Post implementation review complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:87,parentId:1,title:"Software development template complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0}],nn=["A0","A1","A2","A3","A4","Auto"],rn=["All","Chart","TreeList"],on=["All","Visible","Custom"],Nu={class:"home-tree"},Fu={class:"tree-toolbar"},Bu={class:"toolbar-actions"},Hu={class:"options"},Vu={class:"column"},ju={class:"option"},Wu={class:"value"},Uu={class:"option"},Ku={class:"value"},zu={class:"option"},Gu={class:"value"},$u={class:"option"},qu={class:"value"},Zu={class:"column"},Yu={class:"option"},Xu={class:"value"},Qu={class:"option"},Ju={class:"value"},ed={class:"option"},td={class:"value"},nd={class:"option"},id={class:"value"},rd=j({__name:"test",setup(C){const e=ce(),a={hint:"Export to PDF",icon:"exportpdf",stylingMode:"text",onClick:()=>{}},p=ce(nn[0]),y=ce(rn[0]),S=ce(on[1]),w=ce(!0),d=ce(0),l=ce(3),u=ce(Ve[0].start),h=ce(Ve[0].end),f=ce(!0),s=ce(null),n=ce(Array.isArray(He==null?void 0:He.prdt_worder_sub)?He.prdt_worder_sub:[]);function i(){}function t(c){f.value=c.value!=="Custom"}function r(c){d.value=c.value}function o(c){l.value=c.value}return(c,g)=>{const v=ko("DxValidation");return Do(),bo(So,null,[te("div",Nu,[te("div",Fu,[te("div",Bu,[J(wo,{size:"small",color:"secondary",variant:"tonal",class:"ml-1",onClick:i},{default:Oe(()=>g[7]||(g[7]=[Co("Collapse all")])),_:1,__:[7]})])]),J(Q(hl),{id:"employees","data-source":n.value,ref_key:"treeList",ref:s,"allow-column-reordering":!0,"allow-column-resizing":!0,"show-borders":!0,"key-expr":"sub_worder_id","parent-id-expr":"sub_worder_parent_id","column-auto-width":!0,height:"420"},{default:Oe(()=>[J(Q(Mr),{recursive:!0,mode:"single"}),J(Q(Ct),{visible:!0}),J(Q(Fr),{enabled:!0,type:"localStorage","storage-key":"treeListStorage"}),J(Q(ge),{"data-field":"sub_worder_id",caption:"Alt Emir ID",width:120}),J(Q(ge),{"data-field":"sub_worder_parent_id",caption:"Üst ID",width:100}),J(Q(ge),{"data-field":"item_id",caption:"Stok ID",width:120}),J(Q(ge),{"data-field":"bom_m_id",caption:"BOM ID",width:120}),J(Q(ge),{"data-field":"qty",caption:"Adet","data-type":"number",width:90}),J(Q(ge),{"data-field":"unit_id",caption:"Birim",width:90}),J(Q(ge),{"data-field":"product_route_m_id",caption:"Rota",width:110}),J(Q(ge),{"data-field":"create_date",caption:"Oluşturma","data-type":"date",width:170})]),_:1},8,["data-source"])]),g[18]||(g[18]=te("br",null,null,-1)),J(Q(il),{ref_key:"ganttRef",ref:e,"task-list-width":500,height:700,"scale-type":"weeks","root-value":-1},{default:Oe(()=>[J(Q(Xn),{"data-source":Q(Ve)},null,8,["data-source"]),J(Q(En),{"data-source":c.dependencies},null,8,["data-source"]),J(Q(Kn),{"data-source":c.resources},null,8,["data-source"]),J(Q(Wn),{"data-source":c.resourceAssignments},null,8,["data-source"]),J(Q(yt),null,{default:Oe(()=>[J(Q(ue),{name:"undo"}),J(Q(ue),{name:"redo"}),J(Q(ue),{name:"separator"}),J(Q(ue),{name:"collapseAll"}),J(Q(ue),{name:"expandAll"}),J(Q(ue),{name:"separator"}),J(Q(ue),{name:"addTask"}),J(Q(ue),{name:"deleteTask"}),J(Q(ue),{name:"separator"}),J(Q(ue),{name:"zoomIn"}),J(Q(ue),{name:"zoomOut"}),J(Q(ue),{options:a,widget:"dxButton"})]),_:1}),J(Q(An),{enabled:!0}),J(v,{"auto-update-parent-tasks":!0}),J(Q(De),{width:300,"data-field":"title",caption:"Subject"}),J(Q(De),{"data-field":"start",caption:"Start Date"}),J(Q(De),{"data-field":"end",caption:"End Date"})]),_:1},512),te("div",Hu,[te("div",Vu,[g[12]||(g[12]=te("div",{class:"caption"},"Export Options",-1)),te("div",ju,[g[8]||(g[8]=te("div",{class:"label"},"Document format:",-1)),te("div",Wu,[J(Q(Je),{items:Q(nn),"input-attr":{"aria-label":"Format"},value:p.value,"onUpdate:value":g[0]||(g[0]=m=>p.value=m)},null,8,["items","value"])])]),te("div",Uu,[g[9]||(g[9]=te("div",{class:"label"},"Landscape orientation:",-1)),te("div",Ku,[J(Q(po),{value:w.value,"onUpdate:value":g[1]||(g[1]=m=>w.value=m)},null,8,["value"])])]),te("div",zu,[g[10]||(g[10]=te("div",{class:"label"},"Export mode:",-1)),te("div",Gu,[J(Q(Je),{items:Q(rn),"input-attr":{"aria-label":"Export Mode"},value:y.value,"onUpdate:value":g[2]||(g[2]=m=>y.value=m)},null,8,["items","value"])])]),te("div",$u,[g[11]||(g[11]=te("div",{class:"label"},"Date range:",-1)),te("div",qu,[J(Q(Je),{items:Q(on),value:S.value,"onUpdate:value":g[3]||(g[3]=m=>S.value=m),"input-attr":{"aria-label":"Date Range"},onValueChanged:g[4]||(g[4]=m=>t(m))},null,8,["items","value"])])])]),te("div",Zu,[g[17]||(g[17]=te("div",{class:"caption"},"Task Filter Options",-1)),te("div",Yu,[g[13]||(g[13]=te("div",{class:"label"},"Start task (index):",-1)),te("div",Xu,[J(Q(Ut),{disabled:f.value,value:d.value,min:0,max:l.value,"show-spin-buttons":!0,"input-attr":{"aria-label":"Start Task Index"},onValueChanged:r},null,8,["disabled","value","max"])])]),te("div",Qu,[g[14]||(g[14]=te("div",{class:"label"},"End task (index):",-1)),te("div",Ju,[J(Q(Ut),{disabled:f.value,value:l.value,min:d.value,max:Q(Ve).length-1,"show-spin-buttons":!0,"input-attr":{"aria-label":"End Task Index"},onValueChanged:o},null,8,["disabled","value","min","max"])])]),te("div",ed,[g[15]||(g[15]=te("div",{class:"label"},"Start date:",-1)),te("div",td,[J(Q(Rt),{disabled:f.value,"input-attr":{"aria-label":"Start Date"},value:u.value,"onUpdate:value":g[5]||(g[5]=m=>u.value=m),max:h.value,type:"date","apply-value-mode":"useButtons"},null,8,["disabled","value","max"])])]),te("div",nd,[g[16]||(g[16]=te("div",{class:"label"},"End date:",-1)),te("div",id,[J(Q(Rt),{disabled:f.value,"input-attr":{"aria-label":"End Date"},value:h.value,"onUpdate:value":g[6]||(g[6]=m=>h.value=m),min:u.value,type:"date","apply-value-mode":"useButtons"},null,8,["disabled","value","min"])])])])])],64)}}}),vd=Io(rd,[["__scopeId","data-v-cb6136da"]]);export{vd as default};
