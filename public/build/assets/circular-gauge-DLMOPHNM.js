import{p as xe,a as _}from"./index-BdFbhXmR.js";import{a as M,p as R,E as ve,S as Ce,e as Te,d as Ie,r as ye}from"./ui.errors-DA9dmEOa.js";import{db as T,dX as St,dg as q,bd as Se,de as W,dc as L,dd as S,dm as ke,dp as Ne,d}from"./main-D-SiMLc-.js";import{B as Oe,y as Ae,X as Ve,C as Ee,D as we,E as Be,F as De,n as ut,m as H,I as Me,p as $,f as it,s as kt,Y as Fe,v as Nt}from"./m_base_widget-00biHbS4.js";import{f as ze}from"./format_helper-C0BNlQNB.js";const A=Number;function ot(){this.setDomain(arguments[0],arguments[1]).setCodomain(arguments[2],arguments[3]).setInverted(!1)}ot.prototype={constructor:ot,setDomain:function(t,e){return this._domain1=A(t),this._domain2=A(e),this._domainDelta=this._domain2-this._domain1,this},setCodomain:function(t,e){return this._codomain1=A(t),this._codomain2=A(e),this._codomainDelta=this._codomain2-this._codomain1,this},setInverted(t){this.inverted=t},getDomain:function(){return[this._domain1,this._domain2]},getCodomain:function(){return[this._codomain1,this._codomain2]},getDomainStart:function(){return this._domain1},getDomainEnd:function(){return this._domain2},getCodomainStart:function(){return this._codomain1},getCodomainEnd:function(){return this._codomain2},getDomainRange:function(){return this._domainDelta},getCodomainRange:function(){return this._codomainDelta},translate:function(t){let e=(A(t)-this._domain1)/this._domainDelta;return this.inverted&&(e=1-e),0<=e&&e<=1?this._codomain1+e*this._codomainDelta:NaN},adjust:function(t){const e=(A(t)-this._domain1)/this._domainDelta;let n=NaN;return e<0?n=this._domain1:e>1?n=this._domain2:0<=e&&e<=1&&(n=A(t)),n}};const ft=T,Re=Oe.inherit({ctor(t){this.callBase.apply(this,arguments),this._subTheme=t.subTheme},_initializeTheme:function(){const t=this;let e;t._subTheme&&(e=ft(!0,{},t._theme[t._subTheme],t._theme),ft(!0,t._theme,e)),t.callBase.apply(t,arguments)}}),Le={ThemeManager:Re},N="gauge-tooltip",Pe=Ce.add,$e=St.inherit({ctor:function(t){const e=this;e._element=t.renderer.g().attr({class:"dxg-tracker",stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).linkOn(t.container,{name:"tracker",after:"peripheral"}),e._showTooltipCallback=function(){const n=e._tooltipEvent.target,i=n["gauge-data-target"],o=n["gauge-data-info"];if(e._targetEvent=null,e._tooltipTarget!==n){const a=s=>{s&&(e._tooltipTarget=n)};a(e._callbacks["tooltip-show"](i,o,a))}},e._hideTooltipCallback=function(){e._hideTooltipTimeout=null,e._targetEvent=null,e._tooltipTarget&&(e._callbacks["tooltip-hide"](),e._tooltipTarget=null)},e._dispose=function(){clearTimeout(e._hideTooltipTimeout),e._showTooltipCallback=e._hideTooltipCallback=e._dispose=null}},dispose:function(){return this._dispose(),this.deactivate(),this._element.off("."+N),this._element.linkOff(),this._element=this._context=this._callbacks=null,this},activate:function(){return this._element.linkAppend(),this},deactivate:function(){return this._element.linkRemove().clear(),this},attach:function(t,e,n){return t.data({"gauge-data-target":e,"gauge-data-info":n}).append(this._element),this},detach:function(t){return t.remove(),this},setTooltipState:function(t){const e=this;if(e._element.off("."+N),t){const n={tracker:e};e._element.on(M([R.move],N),n,Ot).on(M([R.out],N),n,je).on(M([R.down],N),n,We).on(M([R.up],N),n,He).on(M([ve],N),n,Ge)}return e},setCallbacks:function(t){return this._callbacks=t,this},_showTooltip:function(t){clearTimeout(this._hideTooltipTimeout),this._hideTooltipTimeout=null,this._tooltipTarget!==t.target&&(this._tooltipEvent=t,this._showTooltipCallback())},_hideTooltip:function(t){const e=this;clearTimeout(e._hideTooltipTimeout),t?e._hideTooltipTimeout=setTimeout(e._hideTooltipCallback,t):e._hideTooltipCallback()}});let U=null;function Ot(t){const e=t.data.tracker;e._x=t.pageX,e._y=t.pageY,e._showTooltip(t)}function je(t){t.data.tracker._hideTooltip(100)}function Ge(t){t.data.tracker._hideTooltip()}function We(t){const e=U=t.data.tracker;e._touch=!0,Ot(t)}function He(){U._touch=!1}function Ue(t){const e=U;e&&!e._touch&&(e._hideTooltip(100),U=null)}Pe((function(){Te.subscribeGlobal(Ie.getDocument(),M([R.down],N),Ue)}));const Ye=Number,at=T,qe=ze.format,I=Ae.inherit({_rootClassPrefix:"dxg",_themeSection:"gauge",_titleBBoxCache:null,_createThemeManager:function(){return new Le.ThemeManager(this._getThemeManagerOptions())},_initCore:function(){const t=this._renderer.root;this._valueChangingLocker=0,this._translator=this._factory.createTranslator(),this._tracker=this._factory.createTracker({renderer:this._renderer,container:t}),this._setTrackerCallbacks()},_beginValueChanging:function(){this._resetIsReady(),this._onBeginUpdate(),++this._valueChangingLocker},_endValueChanging:function(){--this._valueChangingLocker===0&&this._drawn()},_setTrackerCallbacks:function(){const t=this._renderer,e=this._tooltip;this._tracker.setCallbacks({"tooltip-show":function(n,i,o){const a=n.getTooltipParameters(),s=t.getRootOffset(),r=at({value:a.value,valueText:e.formatValue(a.value),color:a.color},i);return e.show(r,{x:a.x+s.left,y:a.y+s.top,offset:a.offset},{target:i},void 0,o)},"tooltip-hide":function(){return e.hide()}})},_dispose:function(){this._cleanCore(),this.callBase.apply(this,arguments)},_disposeCore:function(){this._themeManager.dispose(),this._tracker.dispose(),this._translator=this._tracker=null},_cleanCore:function(){this._tracker.deactivate(),this._noAnimation=!1,this._cleanContent()},_renderCore:function(){this._isValidDomain&&(this._renderContent(),this._renderGraphicObjects(),this._tracker.setTooltipState(this._tooltip.isEnabled()),this._tracker.activate(),this._noAnimation=!1)},_applyChanges:function(){this.callBase.apply(this,arguments),this._resizing=this._noAnimation=!1},_setContentSize:function(){this._resizing=this._noAnimation=this._changes.count()===2,this.callBase.apply(this,arguments)},_getChangesRequireCoreUpdate:function(){return["DOMAIN","MOSTLY_TOTAL","EXPORT"]},_isTitleBBoxChanged:function(){var t,e,n;const i=this._title.getLayoutOptions(),o=i.height!==((t=this._titleBBoxCache)===null||t===void 0?void 0:t.height),a=i.y!==((e=this._titleBBoxCache)===null||e===void 0?void 0:e.y),s=i.verticalAlignment!==((n=this._titleBBoxCache)===null||n===void 0?void 0:n.verticalAlignment);return this._titleBBoxCache=null,o||a||s},_forceCoreUpdate:function(){return this._changes.has("TITLE")&&!this._getChangesRequireCoreUpdate().some((e=>this._changes.has(e)))?this._isTitleBBoxChanged():!0},_applySize:function(t){const e=this;e._innerRect={left:t[0],top:t[1],right:t[2],bottom:t[3]};const n=e._layout._cache;return e._forceCoreUpdate()&&(e._cleanCore(),e._renderCore()),e._layout._cache=e._layout._cache||n,[t[0],e._innerRect.top,t[2],e._innerRect.bottom]},_initialChanges:["DOMAIN"],_themeDependentChanges:["DOMAIN"],_optionChangesMap:{subtitle:"MOSTLY_TOTAL",indicator:"MOSTLY_TOTAL",geometry:"MOSTLY_TOTAL",animation:"MOSTLY_TOTAL",startValue:"DOMAIN",endValue:"DOMAIN"},_optionChangesOrder:["DOMAIN","MOSTLY_TOTAL"],_change_DOMAIN:function(){this._setupDomain()},_change_MOSTLY_TOTAL:function(){this._applyMostlyTotalChange()},_updateExtraElements:q,_setupDomain:function(){const t=this;t._setupDomainCore(),t._isValidDomain=isFinite(1/(t._translator.getDomain()[1]-t._translator.getDomain()[0])),t._isValidDomain||t._incidentOccurred("W2301"),t._change(["MOSTLY_TOTAL"])},_applyMostlyTotalChange:function(){this._setupCodomain(),this._setupAnimationSettings(),this._setupDefaultFormat(),this._change(["LAYOUT"])},_setupAnimationSettings:function(){const t=this;let e=t.option("animation");t._animationSettings=null,(e===void 0||e)&&(e=at({enabled:!0,duration:1e3,easing:"easeOutCubic"},e),e.enabled&&e.duration>0&&(t._animationSettings={duration:Ye(e.duration),easing:e.easing})),t._containerBackgroundColor=t.option("containerBackgroundColor")||t._themeManager.theme().containerBackgroundColor},_setupDefaultFormat:function(){const t=this._translator.getDomain();this._defaultFormatOptions=Ve(t[0],t[1],this._getApproximateScreenRange())},_setupDomainCore:null,_calculateSize:null,_cleanContent:null,_renderContent:null,_setupCodomain:null,_getApproximateScreenRange:null,_factory:{createTranslator:function(){return new ot},createTracker:function(t){return new $e(t)}}}),st=function(t,e,n){Object.is(t,-0)&&(t=0),e=e||{};const i=qe(t,e.format);let o;return typeof e.customizeText=="function"?(o=at({value:t,valueText:i},n),String(e.customizeText.call(o,o))):i},Xe=function(t,e){const n=st(t.getDomainStart(),e),i=st(t.getDomainEnd(),e);return n.length>=i.length?n:i};function Je(t,e){return t&&e&&t.length===e.length&&Ke(t,e)}function Ke(t,e){let n;const i=t.length;let o,a;for(n=0;n<i;++n)if(o=t[n]!==t[n],a=e[n]!==e[n],!(o&&a)&&t[n]!==e[n])return!1;return!0}I.addPlugin(Ee);I.addPlugin(we);I.addPlugin(Be);I.addPlugin(De);const Qe=I.prototype._setTooltipOptions;I.prototype._setTooltipOptions=function(){Qe.apply(this,arguments),this._tracker&&this._tracker.setTooltipState(this._tooltip.isEnabled())};const{_change_TITLE:Ze}=I.prototype;I.prototype._change_TITLE=function(){this._titleBBoxCache=Se({},this._title.getLayoutOptions()),Ze.apply(this,arguments)};const X=Array.isArray,ct=isFinite,F=Number,Q=Math.min,Z=Math.max,rt=T,tn=[1,2,5];function Y(t,e){return t===null?t:ct(t)?F(t):e}function tt(t){return X(t)?t:L(t)?[t]:null}const en=I.inherit({_initCore:function(){const t=this._renderer;this._setupValue(this.option("value")),this.__subvalues=tt(this.option("subvalues")),this._setupSubvalues(this.__subvalues),on(this),this.callBase.apply(this,arguments),this._rangeContainer=new this._factory.RangeContainer({renderer:t,container:t.root,translator:this._translator,themeManager:this._themeManager}),this._initScale(),this._subvalueIndicatorContainer=this._renderer.g().attr({class:"dxg-subvalue-indicators"}).linkOn(this._renderer.root,"valueIndicator").enableLinks()},_fontFields:["scale.label.font","valueIndicators.rangebar.text.font","valueIndicators.textcloud.text.font","indicator.text.font"],_initScale:function(){this._scaleGroup=this._renderer.g().attr({class:"dxg-scale"}).linkOn(this._renderer.root,"scale"),this._labelsAxesGroup=this._renderer.g().attr({class:"dxg-scale-elements"}).linkOn(this._renderer.root,"scale-elements"),this._scale=new Me({incidentOccurred:this._incidentOccurred,renderer:this._renderer,axesContainerGroup:this._scaleGroup,labelsAxesGroup:this._labelsAxesGroup,axisType:this._scaleTypes.type,drawingType:this._scaleTypes.drawingType,widgetClass:"dxg",getTemplate(){}})},_disposeCore:function(){this.callBase.apply(this,arguments),this._scale.dispose(),this._scaleGroup.linkOff(),this._labelsAxesGroup.linkOff(),this._rangeContainer.dispose(),this._disposeValueIndicators(),this._subvalueIndicatorContainer.linkOff(),this._scale=this._scaleGroup=this._labelsAxesGroup=this._rangeContainer=null},_disposeValueIndicators:function(){this._valueIndicator&&this._valueIndicator.dispose(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.dispose(),this._valueIndicator=this._subvalueIndicatorsSet=null},_setupDomainCore:function(){const t=this.option("scale")||{};let e=this.option("startValue"),n=this.option("endValue");e=L(e)?F(e):L(t.startValue)?F(t.startValue):0,n=L(n)?F(n):L(t.endValue)?F(t.endValue):100,this._baseValue=e<n?e:n,this._translator.setDomain(e,n)},_cleanContent:function(){this._rangeContainer.clean(),this._cleanValueIndicators()},_measureScale:function(t){const e=t.tick,n=e.visible&&e.length>0&&e.width>0,i=t.minorTick,o=i.visible&&i.length>0&&i.width>0,a=t.label,s=Number(a.indentFromTick);if(!n&&!o&&!a.visible)return{};const r=this._scale.measureLabels(T({},this._canvas)),u=this._getScaleLayoutValue(),l={min:u,max:u},y=this._getTicksCoefficients(t),g=y.inner,p=y.outer;return n&&(l.min=Q(l.min,u-g*e.length),l.max=Z(l.max,u+p*e.length)),o&&(l.min=Q(l.min,u-g*i.length),l.max=Z(l.max,u+p*i.length)),a.visible&&this._correctScaleIndents(l,s,r),l},_renderContent:function(){const t=this,e=t._prepareScaleSettings();t._rangeContainer.render(rt(t._getOption("rangeContainer"),{vertical:t._area.vertical})),t._renderScale(e),t._subvalueIndicatorContainer.linkAppend();const n=H([t._rangeContainer].concat(t._prepareValueIndicators()),(function(i){return i&&i.enabled?i:null}));t._applyMainLayout(n,t._measureScale(e)),n.forEach((i=>i.resize(t._getElementLayout(i.getOffset())))),t._shiftScale(t._getElementLayout(0),e),t._beginValueChanging(),t._updateActiveElements(),t._endValueChanging()},_prepareScaleSettings:function(){const t=this,e=t.option("scale"),n=T(!0,{},t._themeManager.theme("scale"),e);return n.label.indentFromAxis=0,n.isHorizontal=!t._area.vertical,n.forceUserTickInterval|=W(e)&&W(e.tickInterval)&&!W(e.scaleDivisionFactor),n.axisDivisionFactor=n.scaleDivisionFactor||t._gridSpacingFactor,n.minorAxisDivisionFactor=n.minorScaleDivisionFactor||5,n.numberMultipliers=tn,n.tickOrientation=t._getTicksOrientation(n),n.label.useRangeColors&&(n.label.customizeColor=function(){return t._rangeContainer.getColorForValue(this.value)}),n},_renderScale:function(t){const e=this._translator.getDomain(),n=e[0],i=e[1],o=this._translator.getCodomain(),a=!!(n>i^t.inverted),s=Q(n,i),r=Z(n,i);t.min=s,t.max=r,t.startAngle=90-o[0],t.endAngle=90-o[1],t.skipViewportExtending=!0,t.inverted=a,this._scale.updateOptions(t),this._scale.setBusinessRange({axisType:"continuous",dataType:"numeric",min:s,max:r,invert:a}),this._updateScaleTickIndent(t),this._scaleGroup.linkAppend(),this._labelsAxesGroup.linkAppend(),this._scale.draw(T({},this._canvas))},_updateIndicatorSettings:function(t){const e=this;t.currentValue=t.baseValue=ct(e._translator.translate(t.baseValue))?F(t.baseValue):e._baseValue,t.vertical=e._area.vertical,t.text&&!t.text.format&&(t.text.format=e._defaultFormatOptions)},_prepareIndicatorSettings:function(t,e){const n=this._themeManager.theme("valueIndicators"),i=ut(t.type||this._themeManager.theme(e)),o=rt(!0,{},n._default,n[i],t);return o.type=i,o.animation=this._animationSettings,o.containerBackgroundColor=this._containerBackgroundColor,this._updateIndicatorSettings(o),o},_cleanValueIndicators:function(){this._valueIndicator&&this._valueIndicator.clean(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.clean()},_prepareValueIndicators:function(){return this._prepareValueIndicator(),this.__subvalues!==null&&this._prepareSubvalueIndicators(),[this._valueIndicator,this._subvalueIndicatorsSet]},_updateActiveElements:function(){this._updateValueIndicator(),this._updateSubvalueIndicators()},_prepareValueIndicator:function(){const t=this;let e=t._valueIndicator;const n=t._prepareIndicatorSettings(t.option("valueIndicator")||{},"valueIndicatorType");e&&e.type!==n.type&&(e.dispose(),e=null),e||(e=t._valueIndicator=t._createIndicator(n.type,t._renderer.root,"dxg-value-indicator","value-indicator")),e.render(n)},_createSubvalueIndicatorsSet:function(){const t=this,e=t._subvalueIndicatorContainer;return new lt({createIndicator:function(n,i){return t._createIndicator(n,e,"dxg-subvalue-indicator","subvalue-indicator",i)},createPalette:function(n){return t._themeManager.createPalette(n)}})},_prepareSubvalueIndicators:function(){const t=this;let e=t._subvalueIndicatorsSet;const n=t._prepareIndicatorSettings(t.option("subvalueIndicator")||{},"subvalueIndicatorType");e||(e=t._subvalueIndicatorsSet=t._createSubvalueIndicatorsSet());const i=n.type!==e.type;e.type=n.type;const o=t._createIndicator(n.type,t._renderer.root);o&&(o.dispose(),e.render(n,i))},_setupValue:function(t){this.__value=Y(t,this.__value)},_setupSubvalues:function(t){const e=t===void 0?this.__subvalues:tt(t);let n,i,o;if(e!==null){for(n=0,i=e.length,o=[];n<i;++n)o.push(Y(e[n],this.__subvalues[n]));this.__subvalues=o}},_updateValueIndicator:function(){this._valueIndicator&&this._valueIndicator.value(this.__value,this._noAnimation)},_updateSubvalueIndicators:function(){this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.values(this.__subvalues,this._noAnimation)},value:function(t){return t!==void 0?(this._changeValue(t),this):this.__value},subvalues:function(t){return t!==void 0?(this._changeSubvalues(t),this):this.__subvalues!==null?this.__subvalues.slice():void 0},_changeValue:function(t){this._setupValue(t),this._beginValueChanging(),this._updateValueIndicator(),this._updateExtraElements(),this.__value!==this.option("value")&&this.option("value",this.__value),this._endValueChanging()},_changeSubvalues:function(t){this.__subvalues!==null?(this._setupSubvalues(t),this._beginValueChanging(),this._updateSubvalueIndicators(),this._updateExtraElements(),this._endValueChanging()):(this.__subvalues=tt(t),this._setContentSize(),this._renderContent()),Je(this.__subvalues,this.option("subvalues"))||this.option("subvalues",this.__subvalues)},_optionChangesMap:{scale:"DOMAIN",rangeContainer:"MOSTLY_TOTAL",valueIndicator:"MOSTLY_TOTAL",subvalueIndicator:"MOSTLY_TOTAL",containerBackgroundColor:"MOSTLY_TOTAL",value:"VALUE",subvalues:"SUBVALUES",valueIndicators:"MOSTLY_TOTAL"},_customChangesOrder:["VALUE","SUBVALUES"],_change_VALUE:function(){this._changeValue(this.option("value"))},_change_SUBVALUES:function(){this._changeSubvalues(this.option("subvalues"))},_applyMainLayout:null,_getElementLayout:null,_createIndicator:function(t,e,n,i,o,a){const s=this._factory.createIndicator({renderer:this._renderer,translator:this._translator,owner:e,tracker:this._tracker,className:n},t,a);return s&&(s.type=t,s._trackerInfo={type:i,index:o}),s},_getApproximateScreenRange:null});function nn(t){return t?t.value:null}function gt(t,e,n){const i=t[e],o=X(n)?H(n,nn):[];let a=0;const s=o.length,r=[];for(;a<s;++a)r.push(Y(o[a],i[a]));t[e]=r}function on(t){t.option("value")===void 0&&t.option("subvalues")===void 0&&t.option("valueIndicators")!==void 0&&(an(t),sn(t))}function an(t){t.value=t.subvalues=q,t._setupValue=t._setupSubvalues=t._updateValueIndicator=t._updateSubvalueIndicators=null}function sn(t){t._indicatorValues=[],gt(t,"_indicatorValues",t.option("valueIndicators")),t._valueIndicators=[];const e=t._applyMostlyTotalChange;t._applyMostlyTotalChange=function(){gt(this,"_indicatorValues",this.option("valueIndicators")),e.call(this)},t._updateActiveElements=rn,t._prepareValueIndicators=ln,t._disposeValueIndicators=un,t._cleanValueIndicators=cn,t.indicatorValue=dn}function rn(){const t=this;t._valueIndicators.forEach((e=>{e.value(t._indicatorValues[e.index],t._noAnimation)}))}function ln(){const t=this,e=t._valueIndicators||[],n=t.option("valueIndicators"),i=[];let o=0,a;for(a=X(n)?n.length:0;o<a;++o)i.push(n[o]);for(a=e.length;o<a;++o)i.push(null);const s=[];return i.forEach(((r,u)=>{let l=e[u];if(!r){l&&l.dispose();return}const y=t._prepareIndicatorSettings(r,"valueIndicatorType");l&&l.type!==y.type&&(l.dispose(),l=null),l||(l=t._createIndicator(y.type,t._renderer.root,"dxg-value-indicator","value-indicator",u,!0)),l&&(l.index=u,l.render(y),s.push(l))})),t._valueIndicators=s,t._valueIndicators}function un(){this._valueIndicators.forEach((t=>t.dispose())),this._valueIndicators=null}function cn(){this._valueIndicators.forEach((t=>t.clean()))}function dn(t,e){return _n(this,this._valueIndicators,this._indicatorValues,t,e)}function _n(t,e,n,i,o){return o!==void 0?(n[i]!==void 0&&(n[i]=Y(o,n[i]),e[i]&&e[i].value(n[i])),t):n[i]}function lt(t){this._parameters=t,this._indicators=[]}lt.prototype={constructor:lt,dispose:function(){return this._indicators.forEach((t=>t.dispose())),this._parameters=this._options=this._indicators=this._colorPalette=this._palette=null,this},clean:function(){return this._sample&&this._sample.clean().dispose(),this._indicators.forEach((t=>t.clean())),this._sample=this._options=this._palette=null,this},render:function(t,e){const n=this;return n._options=t,n._sample=n._parameters.createIndicator(n.type),n._sample.render(t),n.enabled=n._sample.enabled,n._palette=W(t.palette)?n._parameters.createPalette(t.palette):null,n.enabled&&(n._generatePalette(n._indicators.length),n._indicators=H(n._indicators,(function(i,o){return e&&(i.dispose(),i=n._parameters.createIndicator(n.type,o)),i.render(n._getIndicatorOptions(o)),i}))),n},getOffset:function(){return this._sample.getOffset()},resize:function(t){return this._layout=t,this._indicators.forEach((e=>e.resize(t))),this},measure:function(t){return this._sample.measure(t)},_getIndicatorOptions:function(t){let e=this._options;return this._colorPalette&&(e=rt({},e,{color:this._colorPalette[t]})),e},_generatePalette:function(t){const e=this;let n=null;e._palette&&(e._palette.reset(),n=e._palette.generateColors(t,{repeat:!0})),e._colorPalette=n},_adjustIndicatorsCount:function(t){const e=this,n=e._indicators;let i,o,a;const s=n.length;if(s>t){for(i=t,o=s;i<o;++i)n[i].clean().dispose();e._indicators=n.slice(0,t),e._generatePalette(n.length)}else if(s<t)for(e._generatePalette(t),i=s,o=t;i<o;++i)a=e._parameters.createIndicator(e.type,i),a.render(e._getIndicatorOptions(i)).resize(e._layout),n.push(a)},values:function(t,e){const n=this;if(n.enabled)return t!==void 0?(X(t)||(t=ct(t)?[Number(t)]:null),t&&(n._adjustIndicatorsCount(t.length),n._indicators.forEach(((i,o)=>i.value(t[o],e)))),n):H(n._indicators,(function(i){return i.value()}))}};function pn(t){return function(e,n,i){const o=t[ut(n)]||!i&&t._default;return o?new o(e):null}}const et={dispose:function(){this._centerTemplateGroup.linkOff().dispose()},members:{_renderCenterTemplate(){const t=this.option("centerTemplate"),e=this._centerTemplateGroup.clear();if(!t)return;e.attr({visibility:"hidden"});const n=this._getCenter();this._getTemplate(t).render({model:this,container:e.element,onRendered:()=>{const i=e,o=i.getBBox(),a=o.x+o.width/2,s=o.y+o.height/2;i.move(n.x-a,n.y-s),i.attr({visibility:"visible"})}})}},customize(t){t.addChange({code:"CENTER_TEMPLATE",handler:function(){this._renderCenterTemplate()},option:"centerTemplate"})}},hn={name:"center_template_gauge",init:q,dispose:et.dispose,extenders:{_initCore(){this._createCenterTemplateGroup()},_renderContent(){const t=$(this._themeManager._font);this._centerTemplateGroup.css(t),this._requestChange(["CENTER_TEMPLATE"])},_updateExtraElements(){this._requestChange(["CENTER_TEMPLATE"])}},members:{_renderCenterTemplate:et.members._renderCenterTemplate,_createCenterTemplateGroup(){this._centerTemplateGroup=this._renderer.g().attr({class:"dxg-hole-template"}).linkOn(this._renderer.root,"center-template").linkAppend()}},customize:et.customize},mn={gauge:hn},fn=isFinite,At=Number,x=Math.round,Vt=st,Et=Xe,wt=St.inherit({ctor:function(t){const e=this;S(t,(function(n,i){e["_"+n]=i})),e._init()},dispose:function(){const t=this;return t._dispose(),S(t,(function(e){t[e]=null})),t},getOffset:function(){return At(this._options.offset)||0}}),dt=wt.inherit({_init:function(){this._rootElement=this._createRoot().linkOn(this._owner,{name:"value-indicator",after:"core"}),this._trackerElement=this._createTracker()},_dispose:function(){this._rootElement.linkOff()},_setupAnimation:function(){const t=this;t._options.animation&&(t._animation={step:function(e){t._actualValue=t._animation.start+t._animation.delta*e,t._actualPosition=t._translator.translate(t._actualValue),t._move()},duration:t._options.animation.duration>0?At(t._options.animation.duration):0,easing:t._options.animation.easing})},_runAnimation:function(t){const e=this._animation;e.start=this._actualValue,e.delta=t-this._actualValue,this._rootElement.animate({_:0},{step:e.step,duration:e.duration,easing:e.easing})},_createRoot:function(){return this._renderer.g().attr({class:this._className})},_createTracker:function(){return this._renderer.path([],"area")},_getTrackerSettings:q,clean:function(){return this._animation&&this._rootElement.stopAnimation(),this._rootElement.linkRemove().clear(),this._clear(),this._tracker.detach(this._trackerElement),this._options=this.enabled=this._animation=null,this},render:function(t){const e=this;return e.type=t.type,e._options=t,e._actualValue=e._currentValue=e._translator.adjust(e._options.currentValue),e.enabled=e._isEnabled(),e.enabled&&(e._setupAnimation(),e._rootElement.attr({fill:it(e._options.color)}).linkAppend(),e._tracker.attach(e._trackerElement,e,e._trackerInfo)),e},resize:function(t){const e=this;return e._rootElement.clear(),e._clear(),e.visible=e._isVisible(t),e.visible&&(T(e._options,t),e._actualPosition=e._translator.translate(e._actualValue),e._render(),e._trackerElement.attr(e._getTrackerSettings()),e._move()),e},value:function(t,e){const n=this;let i;const o=this._rootElement;let a=null;return t===void 0?n._currentValue:(t===null?(a="hidden",n._currentValue=t):(i=n._translator.adjust(t),n._currentValue!==i&&fn(i)&&(n._currentValue=i,n.visible&&(n._animation&&!e?n._runAnimation(i):(n._actualValue=i,n._actualPosition=n._translator.translate(i),n._move())))),o.attr({visibility:a}),n)},_isEnabled:null,_isVisible:null,_render:null,_clear:null,_move:null}),h={};h["right-bottom"]=h.rb=[0,-1,-1,0,0,1,1,0];h["bottom-right"]=h.br=[-1,0,0,-1,1,0,0,1];h["left-bottom"]=h.lb=[0,-1,1,0,0,1,-1,0];h["bottom-left"]=h.bl=[1,0,0,-1,-1,0,0,1];h["left-top"]=h.lt=[0,1,1,0,0,-1,-1,0];h["top-left"]=h.tl=[1,0,0,1,-1,0,0,-1];h["right-top"]=h.rt=[0,1,-1,0,0,-1,1,0];h["top-right"]=h.tr=[-1,0,0,1,1,0,0,-1];function gn(t){let e=t.x,n=t.y;const i=h[t.type],o=t.cloudWidth,a=t.cloudHeight;let s,r;const u=e,l=n;return s=r=t.tailLength,1&i[0]?r=Math.min(r,a/3):s=Math.min(s,o/3),{cx:x(u+i[0]*s+(i[0]+i[2])*o/2),cy:x(l+i[1]*r+(i[1]+i[3])*a/2),points:[x(e),x(n),x(e+=i[0]*(o+s)),x(n+=i[1]*(a+r)),x(e+=i[2]*o),x(n+=i[3]*a),x(e+=i[4]*o),x(n+=i[5]*a),x(e+=i[6]*(o-s)),x(n+=i[7]*(a-r))]}}const bn=dt.inherit({_move:function(){const t=this._options,e=this._getTextCloudOptions(),n=Vt(this._actualValue,t.text);this._text.attr({text:n});const i=this._text.getBBox(),o=e.x,a=e.y,s=(i.width||n.length*this._textUnitWidth)+2*t.horizontalOffset,r=(i.height||this._textHeight)+2*t.verticalOffset,u=gn({x:o,y:a,cloudWidth:s,cloudHeight:r,tailLength:t.arrowLength,type:this._correctCloudType(e.type,{x:o,y:a},{width:s,height:r})});this._text.attr({x:u.cx,y:u.cy+this._textVerticalOffset}),this._cloud.attr({points:u.points}),this._trackerElement&&this._trackerElement.attr({points:u.points})},_measureText:function(){const t=this;let e,n,i,o;t._textVerticalOffset||(e=t._createRoot().append(t._owner),o=Et(t._translator,t._options.text),n=t._renderer.text(o,0,0).attr({align:"center"}).css($(t._options.text.font)).append(e),i=n.getBBox(),e.remove(),t._textVerticalOffset=-i.y-i.height/2,t._textWidth=i.width,t._textHeight=i.height,t._textUnitWidth=t._textWidth/o.length,t._textFullWidth=t._textWidth+2*t._options.horizontalOffset,t._textFullHeight=t._textHeight+2*t._options.verticalOffset)},_render:function(){this._measureText(),this._cloud=this._cloud||this._renderer.path([],"area").append(this._rootElement),this._text=this._text||this._renderer.text().append(this._rootElement),this._text.attr({align:"center"}).css($(this._options.text.font))},_clear:function(){delete this._cloud,delete this._text},getTooltipParameters:function(){const t=this._getTextCloudOptions();return{x:t.x,y:t.y,value:this._currentValue,color:this._options.color}},_correctCloudType:t=>t}),xn=dt.inherit({_measureText:function(){const t=this;let e,n,i;t._hasText=t._isTextVisible(),t._hasText&&!t._textVerticalOffset&&(e=t._createRoot().append(t._owner),n=t._renderer.text(Et(t._translator,t._options.text),0,0).attr({class:"dxg-text",align:"center"}).css($(t._options.text.font)).append(e),i=n.getBBox(),e.remove(),t._textVerticalOffset=-i.y-i.height/2,t._textWidth=i.width,t._textHeight=i.height)},_move:function(){const t=this;t._updateBarItemsPositions(),t._hasText&&(t._text.attr({text:Vt(t._actualValue,t._options.text)}),t._updateTextPosition(),t._updateLinePosition())},_updateBarItems:function(){const t=this,e=t._options;let n;const i=t._translator;t._setBarSides(),t._startPosition=i.translate(i.getDomainStart()),t._endPosition=i.translate(i.getDomainEnd()),t._basePosition=i.translate(e.baseValue),t._space=t._getSpace();const o=e.backgroundColor||"none";o!=="none"&&t._space>0?n=e.containerBackgroundColor||"none":(t._space=0,n="none"),t._backItem1.attr({fill:o}),t._backItem2.attr({fill:o}),t._spaceItem1.attr({fill:n}),t._spaceItem2.attr({fill:n})},_getSpace:function(){return 0},_updateTextItems:function(){const t=this;t._hasText?(t._line=t._line||t._renderer.path([],"line").attr({class:"dxg-main-bar","stroke-linecap":"square"}).append(t._rootElement),t._text=t._text||t._renderer.text("",0,0).attr({class:"dxg-text"}).append(t._rootElement),t._text.attr({align:t._getTextAlign()}).css(t._getFontOptions()),t._setTextItemsSides()):(t._line&&(t._line.remove(),delete t._line),t._text&&(t._text.remove(),delete t._text))},_isTextVisible:function(){return!1},_getTextAlign:function(){return"center"},_getFontOptions:function(){const t=this._options;let e=t.text.font;return(!e||!e.color)&&(e=T({},e,{color:t.color})),$(e)},_updateBarItemsPositions:function(){const t=this._getPositions();this._backItem1.attr(this._buildItemSettings(t.start,t.back1)),this._backItem2.attr(this._buildItemSettings(t.back2,t.end)),this._spaceItem1.attr(this._buildItemSettings(t.back1,t.main1)),this._spaceItem2.attr(this._buildItemSettings(t.main2,t.back2)),this._mainItem.attr(this._buildItemSettings(t.main1,t.main2)),this._trackerElement&&this._trackerElement.attr(this._buildItemSettings(t.main1,t.main2))},_render:function(){const t=this;t._measureText(),t._backItem1||(t._backItem1=t._createBarItem(),t._backItem1.attr({class:"dxg-back-bar"})),t._backItem2||(t._backItem2=t._createBarItem(),t._backItem2.attr({class:"dxg-back-bar"})),t._spaceItem1||(t._spaceItem1=t._createBarItem(),t._spaceItem1.attr({class:"dxg-space-bar"})),t._spaceItem2||(t._spaceItem2=t._createBarItem(),t._spaceItem2.attr({class:"dxg-space-bar"})),t._mainItem||(t._mainItem=t._createBarItem(),t._mainItem.attr({class:"dxg-main-bar"})),t._updateBarItems(),t._updateTextItems()},_clear:function(){delete this._backItem1,delete this._backItem2,delete this._spaceItem1,delete this._spaceItem2,delete this._mainItem,delete this._hasText,delete this._line,delete this._text},getTooltipParameters:function(){const t=this._getTooltipPosition();return{x:t.x,y:t.y,value:this._currentValue,color:this._options.color,offset:0}}}),f=Number,j=kt,Bt=Fe;function _t(t,e){return t&&t.radius-e<=0&&(t.radius=e+1),t}const Dt=dt.inherit({_move:function(){const t=this._options,e=Bt(this._actualPosition);this._rootElement.rotate(e,t.x,t.y),this._trackerElement&&this._trackerElement.rotate(e,t.x,t.y)},_isEnabled:function(){return this._options.width>0},_isVisible:function(t){return t.radius-f(this._options.indentFromCenter)>0},_getTrackerSettings:function(){const t=this._options,e=this._getRadius(),n=this._getIndentFromCenter(),i=t.x,o=t.y-(e+n)/2;let a=t.width/2,s=(e-n)/2;return a>10||(a=10),s>10||(s=10),{points:[i-a,o-s,i-a,o+s,i+a,o+s,i+a,o-s]}},_render:function(){this._renderPointer()},_clearPointer:function(){delete this._element},_clear:function(){this._clearPointer()},_getIndentFromCenter:function(t){return Number(this._options.indentFromCenter)||0},_getRadius:function(){return 0},measure:function(t){const e={max:t.radius};return this._options.indentFromCenter<0&&(e.inverseHorizontalOffset=e.inverseVerticalOffset=-f(this._options.indentFromCenter)),e},getTooltipParameters:function(){const t=this._options,e=j(this._actualPosition),n=(this._getRadius()+this._getIndentFromCenter())/2;return{x:t.x+e.cos*n,y:t.y-e.sin*n,value:this._currentValue,color:t.color,offset:t.width/2}}}),pt=Dt.inherit({_isVisible:function(t){const e=this._adjustOffset(Number(this._options.indentFromCenter),t.radius),n=this._adjustOffset(Number(this._options.offset),t.radius);return t.radius-e-n>0},getOffset:function(){return 0},_adjustOffset:function(t,e){const n=Number(this._options.beginAdaptingAtRadius),i=e/n;return i<1&&(t=Math.floor(t*i)),t||0},_getIndentFromCenter:function(t){return this._adjustOffset(Number(this._options.indentFromCenter),this._options.radius)},_getRadius:function(){const t=this._options;return t.radius-this._adjustOffset(Number(t.offset),t.radius)},_renderSpindle:function(){const t=this,e=t._options,n=e.radius,i=2*this._adjustOffset(f(e.spindleSize)/2,n);let o=2*this._adjustOffset(f(e.spindleGapSize)/2,n)||0;o>0&&(o=o<=i?o:i),i>0&&(t._spindleOuter=t._spindleOuter||t._renderer.circle().append(t._rootElement),t._spindleInner=t._spindleInner||t._renderer.circle().append(t._rootElement),t._spindleOuter.attr({class:"dxg-spindle-border",cx:e.x,cy:e.y,r:i/2}),t._spindleInner.attr({class:"dxg-spindle-hole",cx:e.x,cy:e.y,r:o/2,fill:e.containerBackgroundColor}))},_render:function(){this.callBase(),this._renderSpindle()},_clear:function(){this.callBase(),delete this._spindleOuter,delete this._spindleInner}}),Mt=pt.inherit({_renderPointer:function(){const t=this._options,e=t.y-this._getRadius(),n=t.y-this._getIndentFromCenter(),i=t.x-t.width/2,o=i+f(t.width);this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[i,n,i,e,o,e,o,n]})}}),vn=pt.inherit({_renderPointer:function(){const t=this._options,e=t.y-this._getRadius(),n=t.y-this._getIndentFromCenter(),i=t.x-t.width/2,o=t.x+t.width/2;this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[i,n,t.x,e,o,n]})}}),Cn=pt.inherit({_renderPointer:function(){const t=this._options,e=t.x-t.width/2,n=t.x+t.width/2,i=t.y-this._getRadius(),o=t.y-this._getIndentFromCenter(),a=f(t.secondFraction)||0;let s,r;a>=1?s=r=o:a<=0?s=r=i:(r=i+(o-i)*a,s=r+f(t.space)),this._firstElement=this._firstElement||this._renderer.path([],"area").append(this._rootElement),this._spaceElement=this._spaceElement||this._renderer.path([],"area").append(this._rootElement),this._secondElement=this._secondElement||this._renderer.path([],"area").append(this._rootElement),this._firstElement.attr({points:[e,o,e,s,n,s,n,o]}),this._spaceElement.attr({points:[e,s,e,r,n,r,n,s],class:"dxg-hole",fill:t.containerBackgroundColor}),this._secondElement.attr({points:[e,r,e,i,n,i,n,r],class:"dxg-part",fill:t.secondColor})},_clearPointer:function(){delete this._firstElement,delete this._secondElement,delete this._spaceElement}}),Tn=Dt.inherit({_isEnabled:function(){return this._options.length>0&&this._options.width>0},_isVisible:t=>!0,resize(t){return this.callBase(_t(t,0))},_render:function(){const t=this._options,e=t.x,n=t.y-t.radius,i=t.width/2||0,o=n-f(t.length);this._element=this._element||this._renderer.path([],"area").append(this._rootElement);const a={points:[e,n,e-i,o,e+i,o],stroke:"none","stroke-width":0,"stroke-linecap":"square"};t.space>0&&(a["stroke-width"]=Math.min(t.space,t.width/4)||0,a.stroke=a["stroke-width"]>0&&t.containerBackgroundColor||"none"),this._element.attr(a).sharp()},_clear:function(){delete this._element},_getTrackerSettings:function(){const t=this._options,e=t.x,n=t.y-t.radius-t.length/2;let i=t.width/2,o=t.length/2;return i>10||(i=10),o>10||(o=10),{points:[e-i,n-o,e-i,n+o,e+i,n+o,e+i,n-o]}},measure:function(t){return{min:t.radius,max:t.radius+f(this._options.length)}},getTooltipParameters:function(){const t=this._options,e=j(this._actualPosition),n=t.radius+t.length/2,i=this.callBase();return i.x=t.x+e.cos*n,i.y=t.y-e.sin*n,i.offset=t.length/2,i}}),In=bn.inherit({_isEnabled:function(){return!0},_isVisible:t=>!0,resize(t){return this.callBase(_t(t,0))},_getTextCloudOptions:function(){const t=j(this._actualPosition),e=Nt(this._actualPosition);return{x:this._options.x+t.cos*this._options.radius,y:this._options.y-t.sin*this._options.radius,type:e>270?"left-top":e>180?"top-right":e>90?"right-bottom":"bottom-left"}},measure:function(t){const e=f(this._options.arrowLength)||0;this._measureText();const n=this._textFullHeight+e,i=this._textFullWidth+e;return{min:t.radius,max:t.radius,horizontalOffset:i,verticalOffset:n,inverseHorizontalOffset:i,inverseVerticalOffset:n}}}),yn=xn.inherit({_isEnabled:function(){return this._options.size>0},_isVisible:t=>!0,resize(t){return this.callBase(_t(t,f(this._options.size)))},_createBarItem:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"}).append(this._rootElement)},_createTracker:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"})},_setBarSides:function(){this._maxSide=this._options.radius,this._minSide=this._maxSide-f(this._options.size)},_getSpace:function(){const t=this._options;return t.space>0?180*t.space/t.radius/Math.PI:0},_isTextVisible:function(){return(this._options.text||{}).indent>0},_setTextItemsSides:function(){const t=this._options,e=f(t.text.indent);this._lineFrom=t.y-t.radius,this._lineTo=this._lineFrom-e,this._textRadius=t.radius+e},_getPositions:function(){const t=this._basePosition,e=this._actualPosition;let n,i;return t>=e?(n=t,i=e):(n=e,i=t),{start:this._startPosition,end:this._endPosition,main1:n,main2:i,back1:Math.min(n+this._space,this._startPosition),back2:Math.max(i-this._space,this._endPosition)}},_buildItemSettings:function(t,e){return{x:this._options.x,y:this._options.y,innerRadius:this._minSide,outerRadius:this._maxSide,startAngle:e,endAngle:t}},_updateTextPosition:function(){const t=j(this._actualPosition);let e=this._options.x+this._textRadius*t.cos,n=this._options.y-this._textRadius*t.sin;e+=t.cos*this._textWidth*.6,n-=t.sin*this._textHeight*.6,this._text.attr({x:e,y:n+this._textVerticalOffset})},_updateLinePosition:function(){const t=this._options.x;let e,n;this._basePosition>this._actualPosition?(e=t-2,n=t):this._basePosition<this._actualPosition?(e=t,n=t+2):(e=t-1,n=t+1),this._line.attr({points:[e,this._lineFrom,e,this._lineTo,n,this._lineTo,n,this._lineFrom]}).rotate(Bt(this._actualPosition),t,this._options.y).sharp()},_getTooltipPosition:function(){const t=j((this._basePosition+this._actualPosition)/2),e=(this._minSide+this._maxSide)/2;return{x:this._options.x+t.cos*e,y:this._options.y-t.sin*e}},measure:function(t){const e=this,n={min:t.radius-f(e._options.size),max:t.radius};return e._measureText(),e._hasText&&(n.max+=f(e._options.text.indent),n.horizontalOffset=e._textWidth,n.verticalOffset=e._textHeight),n}}),bt=Number,xt=Array.isArray,vt=isFinite,Sn=wt.inherit({_init:function(){this._root=this._renderer.g().attr({class:"dxg-range-container"}).linkOn(this._container,"range-container")},_dispose:function(){this._root.linkOff()},clean:function(){return this._root.linkRemove().clear(),this._options=this.enabled=null,this},_getRanges:function(){const t=this._options,e=this._translator,n=e.getDomain()[0],i=e.getDomain()[1],o=i-n,a=o>=0?On:An,s=o>=0?kn:Nn;let r=[],u=[],l=[{start:n,end:i}];const y=it(t.backgroundColor)||"none",g=t.width||{},p=bt(g>0?g:g.start),J=bt(g>0?g:g.end),mt=J-p;if(t.ranges!==void 0&&!xt(t.ranges)||!(p>=0&&J>=0&&p+J>0))return null;r=(xt(t.ranges)?t.ranges:[]).reduce(((w,c,b)=>{c=c||{};const k=e.adjust(c.startValue),m=e.adjust(c.endValue);return vt(k)&&vt(m)&&a(k,m,c)&&w.push({start:k,end:m,color:it(c.color),classIndex:b}),w}),[]);const be=this._themeManager.createPalette(t.palette,{type:"indicatingSet",extensionMode:t.paletteExtensionMode,keepLastColorInEnd:!0,count:r.length});return S(r,(function(w,c){const b=be.getNextColor();c.color=ke(c.color)&&c.color||b||"none",c.className="dxg-range dxg-range-"+c.classIndex,delete c.classIndex})),S(r,(function(w,c){let b,k,m,B,C;const G=[],K=[];for(b=0,k=u.length;b<k;++b)C=u[b],B=s(C.start,C.end,c.start,c.end),(m=B[0])&&(m.color=C.color)&&(m.className=C.className)&&G.push(m),(m=B[1])&&(m.color=C.color)&&(m.className=C.className)&&G.push(m);for(G.push(c),u=G,b=0,k=l.length;b<k;++b)C=l[b],B=s(C.start,C.end,c.start,c.end),(m=B[0])&&K.push(m),(m=B[1])&&K.push(m);l=K})),S(l,(function(w,c){c.color=y,c.className="dxg-range dxg-background-range",u.push(c)})),S(u,(function(w,c){c.startWidth=(c.start-n)/o*mt+p,c.endWidth=(c.end-n)/o*mt+p})),u},render:function(t){const e=this;return e._options=t,e._processOptions(),e._ranges=e._getRanges(),e._ranges&&(e.enabled=!0,e._root.linkAppend()),e},resize:function(t){const e=this;return e._root.clear(),e._isVisible(t)&&S(e._ranges,(function(n,i){e._createRange(i,t).attr({fill:i.color,class:i.className}).append(e._root)})),e},_processOptions:null,_isVisible:null,_createRange:null,getColorForValue:function(t){let e=null;return S(this._ranges,(function(n,i){if(i.start<=t&&t<=i.end||i.start>=t&&t>=i.end)return e=i.color,!1})),e}});function kn(t,e,n,i){let o;return n>t&&i<e?o=[{start:t,end:n},{start:i,end:e}]:n>=e||i<=t?o=[{start:t,end:e}]:n<=t&&i>=e?o=[]:n>t?o=[{start:t,end:n}]:i<e&&(o=[{start:i,end:e}]),o}function Nn(t,e,n,i){let o;return n<t&&i>e?o=[{start:t,end:n},{start:i,end:e}]:n<=e||i>=t?o=[{start:t,end:e}]:n>=t&&i<=e?o=[]:n<t?o=[{start:t,end:n}]:i>e&&(o=[{start:i,end:e}]),o}function Ft(t,e,n){let{startValue:i,endValue:o}=n;return o===i&&i===t&&e===t}function On(t,e,n){return e-t>0||Ft(t,e,n)}function An(t,e,n){return t-e>0||Ft(t,e,n)}const D=Number,Ct=Math.max,Vn=Sn.inherit({_processOptions:function(){const t=this;switch(t._inner=t._outer=0,ut(t._options.orientation)){case"inside":t._inner=1;break;case"center":t._inner=t._outer=.5;break;default:t._outer=1}},_isVisible:function(t){let e=this._options.width;return e=D(e)||Ct(D(e.start),D(e.end)),t.radius-this._inner*e>0},_createRange:function(t,e){const n=(t.startWidth+t.endWidth)/2;return this._renderer.arc(e.x,e.y,e.radius-this._inner*n,e.radius+this._outer*n,this._translator.translate(t.end),this._translator.translate(t.start)).attr({"stroke-linejoin":"round"})},measure:function(t){let e=this._options.width;return e=D(e)||Ct(D(e.start),D(e.end)),{min:t.radius-this._inner*e,max:t.radius+this._outer*e}}}),Tt=isFinite,It=Nt,yt=kt,En=Math.abs,v=Math.max,P=Math.min,nt=Math.round,wn=S,Bn=Math.PI;function Dn(t,e){const n=yt(t),i=yt(e),o=n.cos,a=n.sin,s=i.cos,r=i.sin;return{left:a<=0&&r>=0||a<=0&&r<=0&&o<=s||a>=0&&r>=0&&o>=s?-1:P(o,s,0),right:a>=0&&r<=0||a>=0&&r>=0&&o>=s||a<=0&&r<=0&&o<=s?1:v(o,s,0),up:o<=0&&s>=0||o<=0&&s<=0&&a>=r||o>=0&&s>=0&&a<=r?-1:-v(a,r,0),down:o>=0&&s<=0||o>=0&&s>=0&&a<=r||o<=0&&s<=0&&a>=r?1:-P(a,r,0)}}const z=en.inherit({_rootClass:"dxg-circular-gauge",_factoryMethods:{rangeContainer:"createCircularRangeContainer",indicator:"createCircularIndicator"},_gridSpacingFactor:17,_scaleTypes:{type:"polarAxes",drawingType:"circular"},_getThemeManagerOptions(){const t=this.callBase.apply(this,arguments);return t.subTheme="_circular",t},_updateScaleTickIndent:function(t){const e=t.label.indentFromTick,n=t.tick.visible?t.tick.length:0,i=this._scale.measureLabels(T({},this._canvas)),o=t.orientation,a=n;let s=e;if(e>=0)o==="outside"?s+=a:o==="center"&&(s+=a/2);else{const r=v(i.width,i.height);s-=r,o==="inside"?s-=a:o==="center"&&(s-=a/2)}t.label.indentFromAxis=s,this._scale.updateOptions(t)},_setupCodomain:function(){const t=this.option("geometry")||{};let e=t.startAngle,n=t.endAngle,i;e=Tt(e)?It(e):225,n=Tt(n)?It(n):-45,En(e-n)<1?(n-=360,i={left:-1,up:-1,right:1,down:1}):(e<n&&(n-=360),i=Dn(e,n)),this._area={x:0,y:0,radius:100,startCoord:e,endCoord:n,sides:i},this._translator.setCodomain(e,n)},_getCenter:function(){return this._getElementLayout()},_shiftScale:function(t){const e=this._scale,n=e.getCanvas();n.width=n.height=2*t.radius,e.draw(n);const i=e.getCenter();e.shift({right:t.x-i.x,bottom:t.y-i.y})},_getScaleLayoutValue:function(){return this._area.radius},_getTicksOrientation:function(t){return t.orientation},_getTicksCoefficients:function(t){const e={inner:0,outer:1};return t.orientation==="inside"?(e.inner=1,e.outer=0):t.orientation==="center"&&(e.inner=e.outer=.5),e},_correctScaleIndents:function(t,e,n){e>=0?(t.horizontalOffset=e+n.width,t.verticalOffset=e+n.height):(t.horizontalOffset=t.verticalOffset=0,t.min-=-e+v(n.width,n.height)),t.inverseHorizontalOffset=n.width/2,t.inverseVerticalOffset=n.height/2},_measureMainElements:function(t,e){const n=this._area.radius;let i=0,o=1/0,a=0,s=0,r=0,u=0;const l=this._scale;return wn(t.concat(l),(function(y,g){const p=g.measure?g.measure({radius:n-g.getOffset()}):e;p.min>0&&(o=P(o,p.min)),p.max>0&&(i=v(i,p.max)),p.horizontalOffset>0&&(a=v(a,p.max+p.horizontalOffset)),p.verticalOffset>0&&(s=v(s,p.max+p.verticalOffset)),p.inverseHorizontalOffset>0&&(r=v(r,p.inverseHorizontalOffset)),p.inverseVerticalOffset>0&&(u=v(u,p.inverseVerticalOffset))})),a=v(a-i,0),s=v(s-i,0),{minRadius:o,maxRadius:i,horizontalMargin:a,verticalMargin:s,inverseHorizontalMargin:r,inverseVerticalMargin:u}},_applyMainLayout:function(t,e){const n=this._measureMainElements(t,e),i=this._area,o=i.sides,a={left:(o.left<-.1?n.horizontalMargin:n.inverseHorizontalMargin)||0,right:(o.right>.1?n.horizontalMargin:n.inverseHorizontalMargin)||0,top:(o.up<-.1?n.verticalMargin:n.inverseVerticalMargin)||0,bottom:(o.down>.1?n.verticalMargin:n.inverseVerticalMargin)||0},s=Mn(this._innerRect,(o.down-o.up)/(o.right-o.left),a);let r=P(V(s)/(o.right-o.left),E(s)/(o.down-o.up));r=r-n.maxRadius+i.radius;const u=s.left-V(s)*o.left/(o.right-o.left),l=s.top-E(s)*o.up/(o.down-o.up);i.x=nt(u),i.y=nt(l),i.radius=r,s.left-=a.left,s.right+=a.right,s.top-=a.top,s.bottom+=a.bottom,this._innerRect=s},_getElementLayout:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{x:this._area.x,y:this._area.y,radius:nt(this._area.radius-t)}},_getApproximateScreenRange:function(){const t=this._area;let e=P(this._canvas.width/(t.sides.right-t.sides.left),this._canvas.height/(t.sides.down-t.sides.up));return e>t.totalRadius&&(e=t.totalRadius),e*=.8,-this._translator.getCodomainRange()*e*Bn/180},_getDefaultSize:function(){return{width:300,height:300}},_factory:Ne(I.prototype._factory)});function V(t){return t.right-t.left}function E(t){return t.bottom-t.top}function Mn(t,e,n){const i=T({},t);let o,a=0,s=0;return n=n||{},e>0&&(i.left+=n.left||0,i.right-=n.right||0,i.top+=n.top||0,i.bottom-=n.bottom||0,V(i)>0&&E(i)>0?(o=E(i)/V(i),o>1?e<o?a=V(i):s=E(i):e>o?s=E(i):a=V(i),a>0||(a=s/e),s>0||(s=a*e),a=(V(i)-a)/2,s=(E(i)-s)/2,i.left+=a,i.right-=a,i.top+=s,i.bottom-=s):(i.left=i.right=(i.left+i.right)/2,i.top=i.bottom=(i.top+i.bottom)/2)),i}const O=z.prototype._factory.indicators={};z.prototype._factory.createIndicator=pn(O);O._default=Mt;O.rectangleneedle=Mt;O.triangleneedle=vn;O.twocolorneedle=Cn;O.trianglemarker=Tn;O.textcloud=In;O.rangebar=yn;z.prototype._factory.RangeContainer=Vn;ye("dxCircularGauge",z);z.addPlugin(mn.gauge);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const zt={props:{animation:Object,centerTemplate:{},containerBackgroundColor:String,disabled:Boolean,elementAttr:Object,export:Object,geometry:Object,loadingIndicator:Object,margin:Object,onDisposing:Function,onDrawn:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onIncidentOccurred:Function,onInitialized:Function,onOptionChanged:Function,onTooltipHidden:Function,onTooltipShown:Function,pathModified:Boolean,rangeContainer:Object,redrawOnResize:Boolean,rtlEnabled:Boolean,scale:Object,size:Object,subvalueIndicator:Object,subvalues:Array,theme:String,title:[Object,String],tooltip:Object,value:Number,valueIndicator:Object},emits:{"update:isActive":null,"update:hoveredElement":null,"update:animation":null,"update:centerTemplate":null,"update:containerBackgroundColor":null,"update:disabled":null,"update:elementAttr":null,"update:export":null,"update:geometry":null,"update:loadingIndicator":null,"update:margin":null,"update:onDisposing":null,"update:onDrawn":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onIncidentOccurred":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onTooltipHidden":null,"update:onTooltipShown":null,"update:pathModified":null,"update:rangeContainer":null,"update:redrawOnResize":null,"update:rtlEnabled":null,"update:scale":null,"update:size":null,"update:subvalueIndicator":null,"update:subvalues":null,"update:theme":null,"update:title":null,"update:tooltip":null,"update:value":null,"update:valueIndicator":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=z,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},export:{isCollectionItem:!1,optionName:"export"},geometry:{isCollectionItem:!1,optionName:"geometry"},loadingIndicator:{isCollectionItem:!1,optionName:"loadingIndicator"},margin:{isCollectionItem:!1,optionName:"margin"},rangeContainer:{isCollectionItem:!1,optionName:"rangeContainer"},scale:{isCollectionItem:!1,optionName:"scale"},size:{isCollectionItem:!1,optionName:"size"},subvalueIndicator:{isCollectionItem:!1,optionName:"subvalueIndicator"},title:{isCollectionItem:!1,optionName:"title"},tooltip:{isCollectionItem:!1,optionName:"tooltip"},valueIndicator:{isCollectionItem:!1,optionName:"valueIndicator"}}}};xe(zt);const ti=d(zt),Rt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:duration":null,"update:easing":null,"update:enabled":null},props:{duration:Number,easing:String,enabled:Boolean}};_(Rt);const Fn=d(Rt);Fn.$_optionName="animation";const Lt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:base":null,"update:fillId":null},props:{base:String,fillId:String}};_(Lt);const zn=d(Lt);zn.$_optionName="backgroundColor";const Pt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,dashStyle:String,opacity:Number,visible:Boolean,width:Number}};_(Pt);const Rn=d(Pt);Rn.$_optionName="border";const $t={emits:{"update:isActive":null,"update:hoveredElement":null,"update:base":null,"update:fillId":null},props:{base:String,fillId:String}};_($t);const Ln=d($t);Ln.$_optionName="color";const jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:fileName":null,"update:formats":null,"update:margin":null,"update:printingEnabled":null,"update:svgToCanvas":null},props:{backgroundColor:String,enabled:Boolean,fileName:String,formats:Array,margin:Number,printingEnabled:Boolean,svgToCanvas:Function}};_(jt);const Pn=d(jt);Pn.$_optionName="export";const Gt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:family":null,"update:opacity":null,"update:size":null,"update:weight":null},props:{color:String,family:String,opacity:Number,size:[Number,String],weight:Number}};_(Gt);const $n=d(Gt);$n.$_optionName="font";const Wt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};_(Wt);const jn=d(Wt);jn.$_optionName="format";const Ht={emits:{"update:isActive":null,"update:hoveredElement":null,"update:endAngle":null,"update:startAngle":null},props:{endAngle:Number,startAngle:Number}};_(Ht);const Gn=d(Ht);Gn.$_optionName="geometry";const Ut={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:font":null,"update:format":null,"update:hideFirstOrLast":null,"update:indentFromTick":null,"update:overlappingBehavior":null,"update:useRangeColors":null,"update:visible":null},props:{customizeText:Function,font:Object,format:[Object,String,Function],hideFirstOrLast:String,indentFromTick:Number,overlappingBehavior:String,useRangeColors:Boolean,visible:Boolean}};_(Ut);const Yt=d(Ut);Yt.$_optionName="label";Yt.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"}};const qt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:font":null,"update:show":null,"update:text":null},props:{backgroundColor:String,font:Object,show:Boolean,text:String}};_(qt);const Xt=d(qt);Xt.$_optionName="loadingIndicator";Xt.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};const Jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:bottom":null,"update:left":null,"update:right":null,"update:top":null},props:{bottom:Number,left:Number,right:Number,top:Number}};_(Jt);const Wn=d(Jt);Wn.$_optionName="margin";const Kt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:length":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,length:Number,opacity:Number,visible:Boolean,width:Number}};_(Kt);const Hn=d(Kt);Hn.$_optionName="minorTick";const Qt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:endValue":null,"update:startValue":null},props:{color:[Object,String],endValue:Number,startValue:Number}};_(Qt);const ht=d(Qt);ht.$_optionName="ranges";ht.$_isCollectionItem=!0;ht.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"}};const Zt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:offset":null,"update:orientation":null,"update:palette":null,"update:paletteExtensionMode":null,"update:ranges":null,"update:width":null},props:{backgroundColor:[Object,String],offset:Number,orientation:String,palette:[Array,String],paletteExtensionMode:String,ranges:Array,width:Number}};_(Zt);const te=d(Zt);te.$_optionName="rangeContainer";te.$_expectedChildren={backgroundColor:{isCollectionItem:!1,optionName:"backgroundColor"},range:{isCollectionItem:!0,optionName:"ranges"}};const ee={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDecimals":null,"update:customMinorTicks":null,"update:customTicks":null,"update:endValue":null,"update:label":null,"update:minorTick":null,"update:minorTickInterval":null,"update:orientation":null,"update:scaleDivisionFactor":null,"update:startValue":null,"update:tick":null,"update:tickInterval":null},props:{allowDecimals:Boolean,customMinorTicks:Array,customTicks:Array,endValue:Number,label:Object,minorTick:Object,minorTickInterval:Number,orientation:String,scaleDivisionFactor:Number,startValue:Number,tick:Object,tickInterval:Number}};_(ee);const ne=d(ee);ne.$_optionName="scale";ne.$_expectedChildren={label:{isCollectionItem:!1,optionName:"label"},minorTick:{isCollectionItem:!1,optionName:"minorTick"},tick:{isCollectionItem:!1,optionName:"tick"}};const ie={emits:{"update:isActive":null,"update:hoveredElement":null,"update:blur":null,"update:color":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null},props:{blur:Number,color:String,offsetX:Number,offsetY:Number,opacity:Number}};_(ie);const Un=d(ie);Un.$_optionName="shadow";const oe={emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:width":null},props:{height:Number,width:Number}};_(oe);const Yn=d(oe);Yn.$_optionName="size";const ae={emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}};_(ae);const se=d(ae);se.$_optionName="subtitle";se.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};const re={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:backgroundColor":null,"update:baseValue":null,"update:beginAdaptingAtRadius":null,"update:color":null,"update:horizontalOrientation":null,"update:indentFromCenter":null,"update:length":null,"update:offset":null,"update:palette":null,"update:secondColor":null,"update:secondFraction":null,"update:size":null,"update:spindleGapSize":null,"update:spindleSize":null,"update:text":null,"update:type":null,"update:verticalOrientation":null,"update:width":null},props:{arrowLength:Number,backgroundColor:String,baseValue:Number,beginAdaptingAtRadius:Number,color:[Object,String],horizontalOrientation:String,indentFromCenter:Number,length:Number,offset:Number,palette:[Array,String],secondColor:String,secondFraction:Number,size:Number,spindleGapSize:Number,spindleSize:Number,text:Object,type:String,verticalOrientation:String,width:Number}};_(re);const le=d(re);le.$_optionName="subvalueIndicator";le.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"},text:{isCollectionItem:!1,optionName:"text"}};const ue={emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:font":null,"update:format":null,"update:indent":null},props:{customizeText:Function,font:Object,format:[Object,String,Function],indent:Number}};_(ue);const ce=d(ue);ce.$_optionName="text";ce.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"}};const de={emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:length":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,length:Number,opacity:Number,visible:Boolean,width:Number}};_(de);const qn=d(de);qn.$_optionName="tick";const _e={emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:[Number,Object],placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}};_(_e);const pe=d(_e);pe.$_optionName="title";pe.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"}};const he={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:border":null,"update:color":null,"update:container":null,"update:contentTemplate":null,"update:cornerRadius":null,"update:customizeTooltip":null,"update:enabled":null,"update:font":null,"update:format":null,"update:interactive":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:zIndex":null},props:{arrowLength:Number,border:Object,color:String,container:{},contentTemplate:{},cornerRadius:Number,customizeTooltip:Function,enabled:Boolean,font:Object,format:[Object,String,Function],interactive:Boolean,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,zIndex:Number}};_(he);const me=d(he);me.$_optionName="tooltip";me.$_expectedChildren={border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"},shadow:{isCollectionItem:!1,optionName:"shadow"}};const fe={emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:backgroundColor":null,"update:baseValue":null,"update:beginAdaptingAtRadius":null,"update:color":null,"update:horizontalOrientation":null,"update:indentFromCenter":null,"update:length":null,"update:offset":null,"update:palette":null,"update:secondColor":null,"update:secondFraction":null,"update:size":null,"update:spindleGapSize":null,"update:spindleSize":null,"update:text":null,"update:type":null,"update:verticalOrientation":null,"update:width":null},props:{arrowLength:Number,backgroundColor:String,baseValue:Number,beginAdaptingAtRadius:Number,color:[Object,String],horizontalOrientation:String,indentFromCenter:Number,length:Number,offset:Number,palette:[Array,String],secondColor:String,secondFraction:Number,size:Number,spindleGapSize:Number,spindleSize:Number,text:Object,type:String,verticalOrientation:String,width:Number}};_(fe);const ge=d(fe);ge.$_optionName="valueIndicator";ge.$_expectedChildren={color:{isCollectionItem:!1,optionName:"color"},text:{isCollectionItem:!1,optionName:"text"}};export{dt as B,ti as D,Gn as a,ne as b,qn as c,Hn as d,Yt as e,te as f,ht as g,ge as h,Pn as i,le as j,pe as k,bn as l,xn as m,Sn as n,en as o,I as p,pn as q};
