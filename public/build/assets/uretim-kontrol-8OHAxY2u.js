import{d as Wa,r as u,b2 as Xa,w as E,G as Za,b3 as x,c as h,b as e,f as i,m as o,F as ne,o as k,ae as y,t as p,x as C,e as m,l as Ja,g as Te,v as T,d3 as Qa,a_ as el,i as Se,I as al,aZ as Ce}from"./main-DnpAGNqn.js";import{D as re,a as r,e as ue,m as de,f as Re,h as ta,i as ll,j as tl,k as ol,l as il,r as oa,t as ia}from"./data-grid-Dt-0M8I_.js";import{D as sl}from"./load-panel-CwG0qLwk.js";import{D as X,a as Me}from"./popup-DOx1_Opw.js";import{D as R}from"./select-box-BSj5zwQQ.js";import{A as nl}from"./m_select_box-iyADUyh0.js";import{n as _}from"./notify-Cj94ob8a.js";import{S as sa}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{_ as rl}from"./HataBildirimiDialog.vue_vue_type_script_setup_true_lang-ClhtyD9V.js";import{V as b}from"./VRow-DzvZn2d0.js";import{V as c}from"./VCol-JzZVdI_f.js";import{V as Ue}from"./VDialog-DrMU-NX0.js";import{V as ul}from"./VAlert-OL1SjoRc.js";import{V as z,a as ce,b as M,c as dl}from"./VCard-Cg69DJDN.js";import{V as U}from"./VCardText-Bs6WdY43.js";import{V as S}from"./VTextField-DAGBGwGu.js";import{V as na}from"./VCheckbox-CqY5NAaE.js";import{V as O}from"./VTextarea-CCEy02AR.js";import{V as cl}from"./VCombobox-prsL1k3S.js";import{V as ml}from"./VContainer-C9Xwl02P.js";import{V as pl}from"./VFileInput-BDvu-xvz.js";import{V as Ke}from"./VImg-Ce65q7r2.js";import{V as ra}from"./VSpacer-CWSzq34j.js";import{_ as fl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DUC2JmVk.js";import"./ui.errors-Bp_rhorb.js";import"./m_row_dragging-ry81qsWj.js";import"./overlay-JIAKax_A.js";import"./themes-CnpegddF.js";import"./editor-DhwFsO7f.js";import"./format_helper-BrSf9jWA.js";import"./m_resize_observer-DZF4EbxF.js";import"./VSelect-DBcbGfn1.js";import"./form-aJjKEqR1.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-zsuiivE3.js";import"./ssrBoot--n5eGGNZ.js";import"./VAvatar-CsZfNcOZ.js";import"./VDivider-BwS-spH5.js";import"./dialog-transition-CI7_de3x.js";import"./easing-Bybner-F.js";import"./VMenu-CYE27Zks.js";import"./VOverlay-6_SLVxrh.js";import"./delay-DYnsdEP-.js";import"./lazy-CeUEeR93.js";import"./scopeId-dKSq_F92.js";import"./VCheckboxBtn-BcRiKjpR.js";import"./VSelectionControl-D6jCOpOV.js";import"./focus-Dwg9QRHH.js";import"./VChip-CLLe59th.js";import"./VSlideGroup-ChPCJwy9.js";/* empty css              *//* empty css                   */import"./VCounter-C2sJAJhW.js";import"./VField-Drn2Cy1R.js";import"./VInput-Ca9o50wa.js";import"./filter-Dn0hOa1_.js";const vl={key:0},kl={key:1},yl={key:2},gl={key:3,class:C(["dx-icon","dx-icon-isblank"]),style:{fontSize:"16px",color:"yellow"}},hl={class:"pa-2 d-flex justify-center gap-8"},bl={key:0,class:C(["dx-icon","dx-icon-isnotblank"]),style:{fontSize:"20px",color:"green"}},wl={key:1,class:C(["dx-icon","dx-icon-isnotblank"]),style:{fontSize:"20px",color:"gold"}},xl={key:2,class:C(["dx-icon","dx-icon-isnotblank"]),style:{fontSize:"20px",color:"red"}},_l={key:3,class:C(["dx-icon","dx-icon-isblank"]),style:{fontSize:"20px",color:"yellow"}},Tl={key:0,class:C(["dx-icon",""]),style:{fontSize:"16px",color:"green"}},Sl={key:1,class:C(["dx-icon","dx-icon-isnotblank"]),style:{fontSize:"16px",color:"orange"}},Cl=["onClick"],Kl={class:"text-center"},Vl={key:0,class:C(["dx-icon","dx-icon-check"]),style:{fontSize:"20px",color:"green"}},Hl={key:1},Dl={class:"text-center"},Il={style:{"font-size":"20px"}},El={class:"d-flex align-center gap-4",style:{flex:"1"}},zl={class:"d-flex justify-space-between"},Al={class:"pa-2 d-flex justify-center gap-2"},Bl=Wa({__name:"uretim-kontrol",setup(Nl){const Oe=u(),F=u(!1),$=u(!1),K=Xa("userData"),me=u(!1),Fe=u([]),pe=u([]),ua=u(0),fe=u(null),V=u(0),P=u([]),da=u(null),G=u(null),j=u(null),ve=u(0),g=u(""),$e=u(0),ca=u(!1),Z=u(!1),w=u(""),J=u("");u("");const ke=u(""),L=u(!1),Q=u({}),Ve=u(),ye=u([]),He=u(!1),De=u(0),Ie=u(0),Pe=u(),ge=u(!1),Ge=u(""),ma=u(null),H=u([]);let je=1;const A=u([]),ee=u(1),he=u("..."),Ee=u("..."),D=u([]),B=u([]),ae=u(""),le=u(!1),Le=u(""),te=u(!1),pa=u(null),N=u([]),ze=u(0),Ae=u(""),Ye=u([]),be=[{title:"✔️ Onaylandı",value:"Onaylandı",color:"#d4edda"},{title:"❌ Red",value:"Red",color:"#f8d7da"},{title:"⚠️ Şartlı Onay",value:"Şartlı Onay",color:"#fff3cd"}],Y=new nl({data:be,key:"value"}),fa=t=>new Intl.NumberFormat("tr-TR",{maximumFractionDigits:0}).format(t),we={width:100,type:"success",text:"Tamam",stylingMode:"contained"},Be={width:100,type:"normal",text:"Vazgeç",stylingMode:"contained",onClick:()=>{F.value=!1,$.value=!1,Z.value=!1}},n=u({istasyon:"...",siparisNo:"...",isEmriId:0,isEmriNo:"...",urunID:0,urunAdi:"...",urunKodu:"...",musteri:"...",calSure:0,durSure:0,personelSayisi:0,sure:0,durum:"",sebep:"",calOran:0,durOran:0,istasyonID:0,personelID:0,planlamaNotu:"",UretimNotu:"",aksesuar:!1,planTarih:"...",isEmriMiktari:0}),s=u({masterId:0,isEmriId:0,istasyonID:0,personelID:0,inspectorID:0,urunAgaciText:"",urunAgaciCheck:"",gorunumText:"",gorunumCheck:"",olcuselText:"",olcuselCheck:"",paketlemeText:"",paketlemeCheck:"",etiketText:"",etiketCheck:"",dokumanText:"",dokumanCheck:""}),Ne=async()=>{if(V.value===0){_({message:"Lütfen bir iş emri seçiniz.",type:"error",displayTime:3e3});return}P.value=[],ye.value=[];try{const t=await x.get("/api/isEmri",{params:{deger:V.value}});n.value.isEmriId=t.data.data[0].isemri_id,n.value.istasyonID=t.data.data[0].IS_ISTASYONU_ID,n.value.personelID=K.value.id,n.value.istasyon=t.data.data[0].IS_ISTASYONU,n.value.isEmriNo=t.data.data[0].isemri_no,n.value.urunAdi=t.data.data[0].stok_adi,n.value.urunKodu=t.data.data[0].stok_kodu,n.value.musteri=t.data.data[0].cari_ad,n.value.siparisNo=t.data.data[0].siparis_belge_no,n.value.isEmriMiktari=t.data.data[0].isemri_miktari,n.value.planTarih=t.data.data[0].plan_tarih_araligi,n.value.aksesuar=t.data.data[0].aksesuar==="Aksesuarlı",$e.value=t.data.data[0].isemri_miktari,q(),qe("aktif")}catch(t){console.error("Master verileri alınırken hata oluştu:",t)}s.value.isEmriId=n.value.isEmriId,s.value.istasyonID=n.value.istasyonID,s.value.personelID=n.value.personelID,F.value=!1,D.value=Array.from({length:n.value.isEmriMiktari},(t,a)=>{const l=a+1,d=`${n.value.isEmriNo}-${String(l).padStart(5,"0")}`;return{id:l,serino:d}})};E(F,(t,a)=>{a===!1&&t===!0&&va()}),E($,(t,a)=>{a===!1&&t===!0&&(pe.value=[],ka(),ha()),a===!0&&t===!1&&(Ee.value="...",he.value="...")}),E(ca,(t,a)=>{a===!0&&t===!1&&q()}),E(le,(t,a)=>{a===!0&&t===!1&&aa()}),E(Z,(t,a)=>{a===!1&&t===!0&&(L.value=!1,Ze()),a===!0&&t===!1&&(Xe(),q())}),E(te,(t,a)=>{a===!0&&t===!1&&(N.value=[""])}),E(ma,t=>{if(t){const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&H.value.push({id:je++,url:a.result})},a.readAsDataURL(t)}}),E([g,$e],([t,a])=>{if(!t||!a)return;const l=[];for(let d=1;d<=Number(a);d++){const v=`${t}-${String(d).padStart(5,"0")}`;l.push({id:d,serino:v})}D.value=l});const va=async()=>{try{me.value=!0;const t=await x.get("/api/aktiflerial",{params:{istasyonId:K.value.istasyon_id}});Fe.value=t.data}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{me.value=!1}},q=async()=>{if(!n.value.isEmriId||!n.value.istasyonID){console.warn("İş Emri veya İstasyon ID eksik");return}try{const t=await x.get("/api/kontrolleri-al",{params:{istasyon:n.value.istasyonID,isEmriId:n.value.isEmriId,isEmriNo:n.value.isEmriNo}}),a=t.data.kontroller;if(ye.value=t.data.revizyonlar||[],P.value=t.data.kontrollerd||[],!a){console.warn("Kontrol kaydı bulunamadı"),s.value={masterId:0,isEmriId:n.value.isEmriId,istasyonID:n.value.istasyonID,personelID:n.value.personelID,inspectorID:0,urunAgaciText:"",urunAgaciCheck:"",gorunumText:"",gorunumCheck:"",olcuselText:"",olcuselCheck:"",paketlemeText:"",paketlemeCheck:"",etiketText:"",etiketCheck:"",dokumanText:"",dokumanCheck:""};return}s.value.masterId=a.id,s.value.urunAgaciText=a.urun_agaci_not,s.value.urunAgaciCheck=a.urun_agaci_ok,s.value.gorunumText=a.gorunum_not,s.value.gorunumCheck=a.gorunum_ok,s.value.olcuselText=a.olcusel_not,s.value.olcuselCheck=a.olcusel_ok,s.value.paketlemeText=a.paketleme_not,s.value.paketlemeCheck=a.paketleme_ok,s.value.etiketText=a.etiket_not,s.value.etiketCheck=a.etiket_ok,s.value.dokumanText=a.dokuman_not,s.value.dokumanCheck=a.dokuman_ok,Ba()}catch(t){console.error("Kayıt çekilirken hata oluştu:",t)}},ka=async()=>{try{const t=await x.get("/api/isEmriDetay",{params:{tablo:"DETAY",depo:0,isemri_id:V.value}});console.log("Malzemeler alındı:",t.data.malzemeler),pe.value=t.data.malzemeler,Ie.value=t.data.toplamMalzeme,console.log("Malzemeler alındı:",pe.value)}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}},ya=async()=>{if(s.value.urunAgaciText===""&&s.value.gorunumText===""&&s.value.olcuselText===""&&s.value.paketlemeText===""&&s.value.etiketText===""&&s.value.dokumanText===""&&s.value.gorunumCheck===""&&s.value.olcuselCheck===""&&s.value.paketlemeCheck===""&&s.value.etiketCheck===""&&s.value.dokumanCheck===""&&s.value.urunAgaciCheck===""){_({message:"Lütfen en az bir kontrol alanını doldurun.",type:"error",displayTime:2e3});return}try{const a=(await x.post("/api/kontrol-kaydet",{...s.value,user_id:K.value.id})).data.mID;s.value.masterId=a,_({message:"Kayıt başarılı...",type:"success",displayTime:2e3}),q()}catch(t){console.error(t),alert("Hata oluştu.")}},ga=async()=>{var a;const t=(a=G.value)!=null&&a.instance?G.value.instance.getSelectedRowKeys():[];await x.post("/api/urun-agaci-secim/kaydet",{urunKodu:n.value.urunKodu,selected_ids:t,userId:K.value.id}),$.value=!1},ha=async()=>{console.log(n.value.urunKodu);const t=await x.get("/api/urun-agaci-secim/yukle",{params:{urunKodu:n.value.urunKodu}}),a=t.data.selected_ids,l=t.data.data||{};if(l.created_at){const d=new Date(l.created_at),v=String(d.getDate()).padStart(2,"0"),I=String(d.getMonth()+1).padStart(2,"0"),se=d.getFullYear(),_e=String(d.getHours()).padStart(2,"0"),W=String(d.getMinutes()).padStart(2,"0");he.value=`${v}.${I}.${se} ${_e}:${W}`}else he.value="...";Ee.value=l.personel_adi||"...",G.value&&G.value.instance&&G.value.instance.selectRows(a,!0)},ba=async()=>{var a,l,d;const t=await x.get("/api/kontrolAktifAl",{params:{userID:K.value.id}});V.value=((a=t.data.aktif)==null?void 0:a.isemri_id)??0,g.value=((l=t.data.aktif)==null?void 0:l.isemri_no)??"",ve.value=((d=t.data.aktif)==null?void 0:d.isemri_id)??0,Ne()},qe=async t=>{await x.post("/api/kontrolAktifKaydet",{durum:t||"aktif",isEmriID:n.value.isEmriId,istasyonID:n.value.istasyonID,userId:K.value.id})},wa=async()=>{if(!ae.value||B.value.length===0){_({message:"Lütfen açıklama giriniz ve en az bir seri no seçiniz.",type:"error",displayTime:2e3});return}const t=B.value.map(l=>({serino:l.serino,sonuc:"Kontrol Edilmedi",aciklama:ae.value,urun_kontrol_m_id:s.value.masterId,isemri_no:g.value,user_id:K.value.id}));await x.post("/api/kontroller/toplu-kaydet",t);const a=new Set(B.value.map(l=>l.serino));D.value=D.value.filter(l=>!a.has(l.serino)),B.value=[],ae.value="",q()},xa=t=>{var a,l,d,v;ze.value=((l=(a=t.row)==null?void 0:a.data)==null?void 0:l.id)||0,Ae.value=((v=(d=t.row)==null?void 0:d.data)==null?void 0:v.seri_no)||""},_a=t=>{t.selectedRowsData.length>0?(V.value=t.selectedRowsData[0].isemri_id,ve.value=t.selectedRowsData[0].id,g.value=t.selectedRowsData[0].isemri_no):V.value=0};Za(async()=>{document.title="OFT - Kalite Kontrol",ba();const[t]=await Promise.all([x.get("/api/gerekceler")]);Ye.value=t.data});const Ta=t=>{Ne()};function Sa(t){De.value=t.selectedRowKeys.length,He.value=De.value===Ie.value,s.value.urunAgaciCheck=He.value?"Onaylandı":"Red"}const Ca=t=>{B.value=t.selectedRowsData},We=()=>{var t,a,l;(l=(a=(t=Pe.value)==null?void 0:t.$el)==null?void 0:a.querySelector("input[type=file]"))==null||l.click()},Ka=[{baslik:"İş Emri Hataları",hatalar:[{kod:"IEH",aciklama:"İş Emri Hatası"},{kod:"SPH",aciklama:"Sipariş Hatası"},{kod:"TH",aciklama:"Taşeron Hatası"},{kod:"EH",aciklama:"Etiket Hatası"}]},{baslik:"Malzeme Hataları",hatalar:[{kod:"CM",aciklama:"Çapaklı Malzeme"},{kod:"SMH",aciklama:"Saç Malzeme Hatası"},{kod:"KH",aciklama:"Kilit Hatası"},{kod:"FB",aciklama:"Formda Bozukluk"},{kod:"CC",aciklama:"Camda Çizik"},{kod:"OH",aciklama:"Ölçüsel Hata"},{kod:"19''H",aciklama:"19'' Ölçü Hatası"},{kod:"AH",aciklama:"Aksesuar Hatası"},{kod:"KPL",aciklama:"Kaplama Hatası"}]},{baslik:"Montaj Hataları",hatalar:[{kod:"MH",aciklama:"Montaj Hatası"},{kod:"TKH",aciklama:"Topraklama Hatası"},{kod:"KAH",aciklama:"Kaynak Hatası"},{kod:"BKE",aciklama:"Bağlantı Kalemi Eksik"},{kod:"BKS",aciklama:"Bağlantı Kalemi Sıkılmamış"},{kod:"ELK",aciklama:"Elektrik Hatası"},{kod:"STH",aciklama:"Su Testi Hatası"}]},{baslik:"Yüzey / Boya Hataları",hatalar:[{kod:"BC",aciklama:"Boyada Çizik"},{kod:"BH",aciklama:"Boya Hatası"},{kod:"SH",aciklama:"Serigrafi Hatası"}]}],f=(t,a)=>{const l=document.createElement("span");l.textContent=a.column.caption;const d=a.column.tooltip||a.column.caption;l.setAttribute("title",d),t.appendChild(l)},Va=()=>{Ce(()=>{const t=document.querySelector('input[type="checkbox"]');t==null||t.focus()})},Xe=()=>{w.value="",J.value="",ke.value="",Q.value={},H.value=[],A.value=[]},Ha=()=>{V.value=0,g.value="",ve.value=0,n.value={istasyon:"...",siparisNo:"...",isEmriId:0,isEmriNo:"...",urunID:0,urunAdi:"...",urunKodu:"...",musteri:"...",calSure:0,durSure:0,personelSayisi:0,sure:0,durum:"",sebep:"",calOran:0,durOran:0,istasyonID:n.value.istasyonID,personelID:n.value.personelID,planlamaNotu:"",UretimNotu:"",aksesuar:!1,planTarih:"...",isEmriMiktari:0},s.value={masterId:0,isEmriId:0,istasyonID:0,personelID:0,inspectorID:0,urunAgaciText:"",urunAgaciCheck:"",gorunumText:"",gorunumCheck:"",olcuselText:"",olcuselCheck:"",paketlemeText:"",paketlemeCheck:"",etiketText:"",etiketCheck:"",dokumanText:"",dokumanCheck:""},P.value=[],ye.value=[],D.value=[]},Ze=()=>{Ce(()=>{var t;(t=Ve.value)==null||t.focus()})},Da=async()=>{if(L.value){_({message:"Kayıt işlemi devam ediyor...",type:"warning",displayTime:1500});return}L.value=!0;const t=[];for(const l of H.value)if(l.file){const d=await Ia(l.file),v=l.file.name.split(".").pop()||"jpg";t.push({base64:d.replace(/^data:image\/\w+;base64,/,""),extension:v})}const a={urun_kontrol_m_id:s.value.masterId,isemri_no:g.value,serino:w.value,hatalar:Object.keys(Q.value).filter(l=>Q.value[l]),sonuc:J.value,resimler:t,hataOzet:ke.value,user_id:K.value.id,isPhoto:H.value.length>0?1:0};try{(await x.post("/api/hata-kaydet",a)).data.success?(_({message:"Kayıt başarılı!",type:"success",displayTime:2e3}),Z.value=!1):alert("Kayıt başarısız!")}catch(l){console.error("Hata:",l),alert("Kayıt sırasında bir hata oluştu.")}finally{L.value=!1}},Ia=t=>new Promise((a,l)=>{const d=new FileReader;d.readAsDataURL(t),d.onload=()=>a(d.result),d.onerror=v=>l(v)}),Ea=t=>{H.value=H.value.filter(a=>a.id!==t)},za=t=>{Ge.value=t,ge.value=!0},Aa=()=>{if(!(!A.value||A.value.length===0)){for(const t of A.value){const a=new FileReader;a.onload=l=>{var v;typeof((v=l.target)==null?void 0:v.result)=="string"&&H.value.push({id:je++,url:URL.createObjectURL(t),file:t})},a.readAsDataURL(t)}A.value=[]}},Ba=()=>{const t=new Set(P.value.map(l=>l.seri_no)),a=D.value.filter(l=>!t.has(l.serino));D.value=a},Na=()=>{w.value||Ce(()=>{Ve.value.focus()})},Ra=()=>{if(w.value.length===18)return;const t=w.value.replace(/\D/g,"");if(parseInt(t)>0&&parseInt(t)<=n.value.isEmriMiktari){const a=t.padStart(5,"0");w.value=`${g.value}-${a}`}else w.value="",_({message:"Seri no formatı hatalı. Lütfen 5 haneyi geçmeyen ve sipariş miktarından büyük olmayan bir seri no giriniz.",type:"error",displayTime:5e3})},Ma=()=>{if(V.value===0){_({message:"Seçili iş emri yok.",type:"error",displayTime:3e3});return}sa.mixin({customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-error"},buttonsStyling:!0}).fire({title:"Emin misiniz?",text:"Kontrol sonlandırılacak!!!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#88efb3",cancelButtonColor:"#ed9595",reverseButtons:!0,confirmButtonText:"Evet, sonlandıralım!",cancelButtonText:"Hayır, vazcgeçtim!"}).then(async a=>{a.isConfirmed?(await Ce(),Xe(),qe("pasif"),Ha()):(a.dismiss,sa.DismissReason.cancel)})},Je=t=>{const a=(t==null?void 0:t.seri_no)||Ae.value;if(!a){_({message:"Seri no bulunamadı.",type:"error",displayTime:2e3});return}console.log("Fotoğraflar için seri no:",a),Ae.value=a,te.value=!0,x.get("/api/hata-goster-resim",{params:{isEmriNo:n.value.isEmriNo,serino:a}}).then(l=>{N.value=Array.isArray(l.data)?l.data.map(d=>d.url):[],N.value.length===0&&_({message:"Fotoğraf bulunamadı.",type:"warning",displayTime:2e3})}).catch(()=>{N.value=[],_({message:"Fotoğraflar alınamadı.",type:"error",displayTime:2e3})})},Ua=async()=>{if(ze.value===0){_({message:"Lütfen bir kontrol seçiniz.",type:"error",displayTime:3e3});return}if(window.confirm("Bu kaydı silmek istediğinize emin misiniz?"))try{const a=ze.value||0,l=await x.delete(`/api/kontrol-sil/${a}`);q()}catch(a){alert("Silme işlemi başarısız."),console.error(a)}},Oa=async t=>{var l,d,v;if(confirm("Bu fotoğrafı silmek istediğinizden emin misiniz?"))try{const I=await x.delete("/api/hata-sil-resim",{params:{url:t,isEmriNo:n.value.isEmriNo}});N.value=N.value.filter(W=>W!==t);const se=(l=I.data)==null?void 0:l.remaining,_e=(d=I.data)==null?void 0:d.seri_no;if(se===0&&_e){const W=P.value.find(qa=>qa.seri_no.startsWith(_e));W&&(W.is_photo=0,(v=j==null?void 0:j.value)!=null&&v.instance&&j.value.instance.refresh())}}catch(I){console.error("Silme hatası:",I),alert("Silinirken hata oluştu.")}},Fa=t=>{Le.value=t,le.value=!0},Qe=()=>ee.value+=.1,ea=()=>ee.value=Math.max(.2,ee.value-.1),aa=()=>{ee.value=1,ie.value={x:0,y:0}},oe=u(!1),xe=u({x:0,y:0}),ie=u({x:0,y:0}),$a=t=>{oe.value=!0,xe.value={x:t.clientX,y:t.clientY}},Pa=t=>{if(!oe.value)return;const a=t.clientX-xe.value.x,l=t.clientY-xe.value.y;ie.value.x+=a,ie.value.y+=l,xe.value={x:t.clientX,y:t.clientY}},la=()=>{oe.value=!1},Ga=t=>{t.preventDefault(),t.deltaY<0?Qe():ea()},ja=()=>{window.open("/api/pdf-goster","_blank")},La=t=>{const a=document.createElement("div"),l=document.createElement("i");l.className="dx-icon dx-icon-image",l.style.fontSize="16px",l.style.color="green",a.appendChild(l),t.appendChild(a)},Ya=()=>{_({message:n.value.isEmriNo,type:"error",displayTime:3e3}),_({message:n.value.urunKodu,type:"error",displayTime:3e3}),Oe.value.acDialog({isEmriNo:n.value.isEmriNo,urunKodu:n.value.urunKodu,urunAdi:n.value.urunAdi})};return(t,a)=>(k(),h(ne,null,[e(b,{class:"match-height pa-0"},{default:i(()=>[e(c,{cols:"6",md:"3",class:"pa-2"},{default:i(()=>[e(o(y),{class:"text-center mb-2",block:"",onClick:a[0]||(a[0]=l=>F.value=!0)},{default:i(()=>a[41]||(a[41]=[p(" İş Emri Seç ")])),_:1,__:[41]})]),_:1}),e(c,{cols:"6",md:"3",class:"pa-2"},{default:i(()=>[e(o(y),{disabled:g.value.length===0,class:"text-center mb-2",block:"",onClick:ja},{default:i(()=>a[42]||(a[42]=[p(" Teknik Resim ")])),_:1,__:[42]},8,["disabled"])]),_:1}),e(c,{cols:"6",md:"3",class:"pa-2"},{default:i(()=>[e(o(y),{disabled:g.value.length===0,class:"text-center mb-2",block:"",onClick:Ma},{default:i(()=>a[43]||(a[43]=[p(" Kontrol Sonu ")])),_:1,__:[43]},8,["disabled"])]),_:1}),e(c,{cols:"6",md:"3",class:"pa-2"},{default:i(()=>[e(o(y),{disabled:g.value.length===0,class:"text-center mb-2",block:"",onClick:Ya},{default:i(()=>a[44]||(a[44]=[p(" Mail Gönder ")])),_:1,__:[44]},8,["disabled"])]),_:1})]),_:1}),e(b,{class:"match-height mt-0 gap-0"},{default:i(()=>[e(c,{md:"4",cols:"12"},{default:i(()=>[e(z,null,{default:i(()=>[e(ce,{style:{"background-color":"#20ad5d"},class:"d-flex align-center pa-1 ps-4"},{default:i(()=>[e(M,{style:{color:"black","font-size":"16px"}},{default:i(()=>a[45]||(a[45]=[p("Genel Bilgiler")])),_:1,__:[45]})]),_:1}),e(U,{class:"gap-2 pa-2"},{default:i(()=>[e(S,{modelValue:n.value.istasyon,"onUpdate:modelValue":a[1]||(a[1]=l=>n.value.istasyon=l),class:"mt-5",label:"İstasyon",variant:"outlined",readonly:""},null,8,["modelValue"]),e(S,{modelValue:n.value.siparisNo,"onUpdate:modelValue":a[2]||(a[2]=l=>n.value.siparisNo=l),class:"mt-4",label:"Sipariş No",variant:"outlined",readonly:""},null,8,["modelValue"]),e(S,{value:fa(n.value.isEmriMiktari),modelValue:n.value.isEmriMiktari,"onUpdate:modelValue":a[3]||(a[3]=l=>n.value.isEmriMiktari=l),class:"mt-4",label:"İş Emri Miktarı",variant:"outlined",readonly:""},null,8,["value","modelValue"]),e(S,{modelValue:n.value.isEmriNo,"onUpdate:modelValue":a[4]||(a[4]=l=>n.value.isEmriNo=l),class:"mt-4",label:"İşemri No",variant:"outlined",readonly:""},null,8,["modelValue"]),e(S,{modelValue:n.value.urunKodu,"onUpdate:modelValue":a[5]||(a[5]=l=>n.value.urunKodu=l),class:"mt-4",label:"Ürün Kodu",variant:"outlined",readonly:""},null,8,["modelValue"]),e(S,{modelValue:n.value.urunAdi,"onUpdate:modelValue":a[6]||(a[6]=l=>n.value.urunAdi=l),class:"mt-4",label:"Ürün Adı",variant:"outlined",readonly:""},null,8,["modelValue"]),e(S,{modelValue:n.value.musteri,"onUpdate:modelValue":a[7]||(a[7]=l=>n.value.musteri=l),class:"mt-4",label:"Müşteri",variant:"outlined",readonly:""},null,8,["modelValue"]),e(S,{modelValue:n.value.planTarih,"onUpdate:modelValue":a[8]||(a[8]=l=>n.value.planTarih=l),class:"mt-4",label:"Planlanan Üretim Tarihi",variant:"outlined",readonly:""},null,8,["modelValue"]),e(na,{modelValue:n.value.aksesuar,"onUpdate:modelValue":a[9]||(a[9]=l=>n.value.aksesuar=l),class:"mt-4",label:"Aksesuar",variant:"outlined",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{md:"8",cols:"12"},{default:i(()=>[e(c,{cols:"12",class:"pa-0"},{default:i(()=>[e(z,{disabled:g.value.length===0},{default:i(()=>[e(ce,{style:{"background-color":"#20ad5d"},class:"d-flex align-center pa-1 ps-4"},{default:i(()=>[e(M,{style:{color:"black","font-size":"16px"}},{default:i(()=>a[46]||(a[46]=[p("Seri Başlangiç Onayı")])),_:1,__:[46]})]),_:1}),e(U,{class:"gap-2 pa-3"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"12",md:"6",class:"d-flex mt-2 pa-0"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"12",md:"6",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(O,{modelValue:s.value.urunAgaciText,"onUpdate:modelValue":a[10]||(a[10]=l=>s.value.urunAgaciText=l),label:"Ürün Ağacı Kontrolü",variant:"outlined","auto-grow":"",rows:"1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",md:"3",class:"d-flex pa-1"},{default:i(()=>[e(o(y),{modelValue:s.value.urunAgaciCheck,"onUpdate:modelValue":a[11]||(a[11]=l=>s.value.urunAgaciCheck=l),icon:"tabler-binary-tree-2",variant:"tonal",block:"",color:"success",rounded:"",onClick:a[12]||(a[12]=l=>$.value=!0)},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",md:"3",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(o(R),{"data-source":o(Y),value:s.value.urunAgaciCheck,"onUpdate:value":a[13]||(a[13]=l=>s.value.urunAgaciCheck=l),"display-expr":"title","value-expr":"value",height:37,"read-only":!0,placeholder:"Boş"},null,8,["data-source","value"])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",class:"d-flex mt-2 pa-0"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"6",class:"d-flex pa-1"},{default:i(()=>[e(O,{modelValue:s.value.gorunumText,"onUpdate:modelValue":a[14]||(a[14]=l=>s.value.gorunumText=l),label:"Görünüm Kontrolü",variant:"outlined","auto-grow":"",rows:"1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(o(R),{"data-source":o(Y),value:s.value.gorunumCheck,"onUpdate:value":a[15]||(a[15]=l=>s.value.gorunumCheck=l),"display-expr":"title","value-expr":"value",height:37},null,8,["data-source","value"])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",class:"d-flex mt-2 pa-0"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"6",class:"d-flex pa-1"},{default:i(()=>[e(O,{modelValue:s.value.olcuselText,"onUpdate:modelValue":a[16]||(a[16]=l=>s.value.olcuselText=l),label:"Ölçüsel Kontrol",variant:"outlined","auto-grow":"",rows:"1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(o(R),{"data-source":o(Y),value:s.value.olcuselCheck,"onUpdate:value":a[17]||(a[17]=l=>s.value.olcuselCheck=l),"display-expr":"title","value-expr":"value",height:37},null,8,["data-source","value"])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",class:"d-flex mt-2 pa-0"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"6",class:"d-flex pa-1"},{default:i(()=>[e(O,{modelValue:s.value.paketlemeText,"onUpdate:modelValue":a[18]||(a[18]=l=>s.value.paketlemeText=l),label:"Paketleme Kontrolü",variant:"outlined","auto-grow":"",rows:"1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(o(R),{"data-source":o(Y),value:s.value.paketlemeCheck,"onUpdate:value":a[19]||(a[19]=l=>s.value.paketlemeCheck=l),"display-expr":"title","value-expr":"value",height:37},null,8,["data-source","value"])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",class:"d-flex mt-2 pa-0"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"6",class:"d-flex pa-1"},{default:i(()=>[e(O,{modelValue:s.value.etiketText,"onUpdate:modelValue":a[20]||(a[20]=l=>s.value.etiketText=l),label:"Etiket Kontrolü",variant:"outlined","auto-grow":"",rows:"1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(o(R),{"data-source":o(Y),value:s.value.etiketCheck,"onUpdate:value":a[21]||(a[21]=l=>s.value.etiketCheck=l),"display-expr":"title","value-expr":"value",height:37},null,8,["data-source","value"])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",class:"d-flex mt-2 pa-0"},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"6",class:"d-flex pa-1"},{default:i(()=>[e(O,{modelValue:s.value.dokumanText,"onUpdate:modelValue":a[22]||(a[22]=l=>s.value.dokumanText=l),label:"Doküman Kontrolü",variant:"outlined","auto-grow":"",rows:"1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pe-2"},{default:i(()=>[e(o(R),{"data-source":o(Y),value:s.value.dokumanCheck,"onUpdate:value":a[23]||(a[23]=l=>s.value.dokumanCheck=l),"display-expr":"title","value-expr":"value",height:37},null,8,["data-source","value"])]),_:1})]),_:1})]),_:1}),e(o(y),{class:"d-flex justify-center mt-4",block:"",color:"warning",onClick:ya},{default:i(()=>a[47]||(a[47]=[p(" Kaydet / Güncelle ")])),_:1,__:[47]})]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1}),e(c,{cols:"12",class:"pa-0 pt-3"},{default:i(()=>[e(z,{disabled:g.value.length===0},{default:i(()=>[e(ce,{style:{"background-color":"#20ad5d"},class:"d-flex align-center pa-1 ps-4"},{default:i(()=>[e(M,{style:{color:"black","font-size":"16px"}},{default:i(()=>a[48]||(a[48]=[p("Onay Süreci")])),_:1,__:[48]})]),_:1}),e(U,{class:"gap-2 pa-2"},{default:i(()=>[e(o(re),{id:"gridSurec","data-source":ye.value,"key-expr":"id","show-borders":!0,"focused-row-enabled":!0,"row-alternation-enabled":!0,width:"100%","column-auto-width":!0,"word-wrap-enabled":!1,"allow-column-resizing":!0,"column-resizing-mode":"widget","focused-row-key":fe.value,"onUpdate:focusedRowKey":a[24]||(a[24]=l=>fe.value=l),height:"242"},{sonucTemplate:i(({data:l})=>[l.value==="Onaylandı"?(k(),h("i",vl,"✔️")):l.value==="Şartlı Onay"?(k(),h("i",kl,"⚠️")):l.value==="Red"?(k(),h("i",yl,"❌")):(k(),h("i",gl))]),default:i(()=>[e(o(r),{"data-field":"id",caption:"ID",width:"50",visible:!1}),e(o(r),{"data-field":"revizyon",caption:"Rvz",width:"50"}),e(o(r),{"data-field":"kontrol_tarihi",caption:"Tarih","data-type":"date",width:"130",format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(l)).replace(/\//g,".")}},null,8,["format"]),e(o(r),{"data-field":"urun_agaci_ok",caption:"ÜA","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"urun_agaci_not",caption:"Ürün Ağacı Not"}),e(o(r),{"data-field":"gorunum_ok",caption:"GR","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"gorunum_not",caption:"Görünüm Not"}),e(o(r),{"data-field":"olcusel_ok",caption:"ÖL","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"olcusel_not",caption:"Ölçüsel Not"}),e(o(r),{"data-field":"paketleme_ok",caption:"PK","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"paketleme_not",caption:"Paketleme Not"}),e(o(r),{"data-field":"etiket_ok",caption:"ET","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"etiket_not",caption:"Etiket Not"}),e(o(r),{"data-field":"dokuman_ok",caption:"DK","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"dokuman_not",caption:"Doküman Not"}),e(o(ue),{mode:"virtual"}),e(o(de),{mode:"none"})]),_:1},8,["data-source","focused-row-key"])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),e(b,{class:"match-height pa-0"},{default:i(()=>[e(c,{cols:"12",class:"py-2"},{default:i(()=>[e(o(y),{disabled:s.value.masterId===0,class:"text-center me-2 mb-2",color:"info",block:"",onClick:a[25]||(a[25]=l=>Z.value=!0)},{default:i(()=>a[49]||(a[49]=[p(" Kontrol Gir ")])),_:1,__:[49]},8,["disabled"])]),_:1})]),_:1}),e(c,{cols:"12",class:"pa-0 pt-3"},{default:i(()=>[e(z,{disabled:g.value.length===0},{default:i(()=>[e(ce,{style:{"background-color":"#20ad5d"},class:"d-flex align-center pa-1 ps-4"},{default:i(()=>[e(M,{style:{color:"black","font-size":"16px"}},{default:i(()=>a[50]||(a[50]=[p("Seri Kontroller")])),_:1,__:[50]})]),_:1}),m("div",hl,[a[51]||(a[51]=p("ttttt ")),e(o(y),{variant:"tonal",icon:"tabler-trash",rounded:"",onClick:Ua}),e(o(y),{variant:"tonal",icon:"tabler-photo",rounded:"",onClick:Je})]),e(U,{class:"gap-2 pa-2"},{default:i(()=>[e(o(re),{id:"gridKontroller",ref_key:"dataGridRefKontrol",ref:j,"data-source":P.value,"key-expr":"id","show-borders":!0,width:"100%","focused-row-enabled":!0,"row-alternation-enabled":!0,height:"250","word-wrap-enabled":!1,onFocusedRowChanged:xa},{sonucTemplate:i(({data:l})=>[l.value==="Onaylandı"?(k(),h("i",bl)):l.value==="Şartlı Onay"?(k(),h("i",wl)):l.value==="Red"?(k(),h("i",xl)):(k(),h("i",_l))]),hataTemplate:i(({data:l})=>[l.value==="f"||l.value===!1?(k(),h("i",Tl)):(k(),h("i",Sl))]),fotoTemplate:i(({data:l})=>[l.value==="t"||l.value===!0?(k(),h("i",{key:0,onClick:d=>Je(l==null?void 0:l.data),class:C(["dx-icon","dx-icon-image"]),style:{fontSize:"16px",color:"green",cursor:"pointer"},title:"Fotoğrafları Göster"},null,8,Cl)):Ja("",!0)]),default:i(()=>[e(o(r),{"data-field":"id",caption:"ID",width:"70",visible:!1}),e(o(r),{"data-field":"urun_kontrol_m_id",caption:"Master ID",width:"70",visible:!1}),e(o(r),{"data-field":"kontrol_tarihi",caption:"Kontrol Tarihi","data-type":"date",width:130,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(l)).replace(/\//g,".")},"allow-sorting":!1},null,8,["format"]),e(o(r),{"data-field":"seri_no",caption:"Seri No",width:"170"}),e(o(r),{"data-field":"is_photo","header-cell-template":La,width:"30","cell-template":"fotoTemplate"}),e(o(r),{"data-field":"sonuc",caption:"Sonuç",width:"70","cell-template":"sonucTemplate"}),e(o(r),{"data-field":"not",caption:"Not",width:"100"}),e(o(r),{"data-field":"cc",caption:"CC",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Camda Çizik"}),e(o(r),{"data-field":"bke",caption:"BKE",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Bağlantı Kalemi Eksik"}),e(o(r),{"data-field":"cm",caption:"CM",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Çapaklı Malzeme"}),e(o(r),{"data-field":"kh",caption:"KH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Kilit Hatası"}),e(o(r),{"data-field":"fb",caption:"FB",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Formda Bozukluk"}),e(o(r),{"data-field":"sh",caption:"SH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Serigrafi Hatası"}),e(o(r),{"data-field":"kah",caption:"KAH",width:"47","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Kaynak Hatası"}),e(o(r),{"data-field":"bc",caption:"BC",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Boyada Çizik"}),e(o(r),{"data-field":"kpl",caption:"KPL",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Kaplama Hatası"}),e(o(r),{"data-field":"tkh",caption:"TKH",width:"47","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Topraklama Hatası"}),e(o(r),{"data-field":"bh",caption:"BH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Boya Hatası"}),e(o(r),{"data-field":"ieh",caption:"IEH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"İş Emri Hatası"}),e(o(r),{"data-field":"oh",caption:"OH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Ölçüsel Hata"}),e(o(r),{"data-field":"h19",caption:"H19",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"19'' Ölçü Hatası"}),e(o(r),{"data-field":"smh",caption:"SMH",width:"47","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Saç Malzeme Hatası"}),e(o(r),{"data-field":"th",caption:"TH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Taşeron Hatası"}),e(o(r),{"data-field":"ah",caption:"AH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Aksesuar Hatası"}),e(o(r),{"data-field":"mh",caption:"MH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Montaj Hatası"}),e(o(r),{"data-field":"sth",caption:"STH",width:"47","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Su Testi Hatası"}),e(o(r),{"data-field":"bks",caption:"BKS",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Bağlantı Kalemi Sıkılmamış"}),e(o(r),{"data-field":"eh",caption:"EH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Etiket Hatası"}),e(o(r),{"data-field":"elk",caption:"ELK",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Elektrik Hatası"}),e(o(r),{"data-field":"sph",caption:"SPH",width:"40","cell-template":"hataTemplate","header-cell-template":f,tooltip:"Sipariş Hatası"}),e(o(r),{"data-field":"olusturan_id",caption:"Prs ID",width:"40"}),e(o(de),{mode:"none"}),e(o(ue),{mode:"virtual"})]),_:1},8,["data-source"])]),_:1})]),_:1},8,["disabled"])]),_:1}),e(b,{class:"match-height mt-0"},{default:i(()=>[e(c,{cols:"12",class:"d-flex py-4 gap-4"},{default:i(()=>[e(cl,{modelValue:ae.value,"onUpdate:modelValue":a[26]||(a[26]=l=>ae.value=l),items:Ye.value,label:"Gerekçe",variant:"outlined","item-title":"tanim","item-value":"id",disabled:g.value.length===0||B.value.length===0,"auto-grow":"",clearable:"",rows:"1"},null,8,["modelValue","items","disabled"]),e(o(y),{disabled:g.value.length===0||B.value.length===0,color:"warning",height:37,onClick:wa},{default:i(()=>a[52]||(a[52]=[p(" Gerekçe Gir ")])),_:1,__:[52]},8,["disabled"])]),_:1})]),_:1}),e(c,{cols:"12",class:"pa-0 pt-3"},{default:i(()=>[e(z,{disabled:g.value.length===0},{default:i(()=>[e(ce,{style:{"background-color":"#20ad5d"},class:"d-flex align-center pa-1 ps-4"},{default:i(()=>[e(M,{style:{color:"black","font-size":"16px"}},{default:i(()=>a[53]||(a[53]=[p("Kontrol Edilmeyenler")])),_:1,__:[53]})]),_:1}),e(U,{class:"gap-2 pa-2"},{default:i(()=>[e(o(re),{id:"gridKontroller",ref_key:"dataGridRefKontrol",ref:j,"data-source":D.value,"key-expr":"id","show-borders":!0,width:"100%","focused-row-enabled":!0,"row-alternation-enabled":!0,height:"250","word-wrap-enabled":!1,onSelectionChanged:Ca},{default:i(()=>[e(o(r),{"data-field":"id",caption:"ID",width:"70",visible:!1}),e(o(r),{"data-field":"serino",caption:"Seri No",width:"150"}),e(o(de),{mode:"none"}),e(o(ue),{mode:"virtual"}),e(o(Re),{mode:"multiple","show-check-boxes-mode":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1},8,["disabled"])]),_:1}),e(o(Me),{visible:F.value,"onUpdate:visible":a[29]||(a[29]=l=>F.value=l),width:"90%",height:"90%","hide-on-outside-click":!1,"show-close-button":!0,title:"İşemri Seçiniz..."},{default:i(()=>[m("div",Kl,[m("h3",null,"seçilen iş emri: "+T(g.value),1)]),(k(),Te(o(re),{id:"gridEmirler",ref_key:"emirlerRef",ref:da,key:ua.value,"data-source":Fe.value,"key-expr":"id","show-borders":!0,"focused-row-enabled":!0,"row-alternation-enabled":!0,"min-width":200,height:"95%","allow-column-resizing":!0,"column-resizing-mode":"widget","column-auto-width":!0,"focused-row-key":fe.value,"onUpdate:focusedRowKey":a[28]||(a[28]=l=>fe.value=l),onRowDblClick:Ta,onSelectionChanged:_a},{secimTemplate:i(({data:l})=>[l.value===ve.value?(k(),h("i",Vl)):(k(),h("i",Hl))]),default:i(()=>[e(o(r),{"data-field":"id",caption:"ID",visible:!1,width:"40","cell-template":"secimTemplate"}),e(o(r),{"data-field":"isemri_id",caption:" ","data-type":"number",width:30,visible:!1}),e(o(r),{"data-field":"tanim",caption:"İSTASYON","min-width":130}),e(o(r),{"data-field":"isemri_no",caption:"İŞ EMRİ NO","min-width":120,"allow-sorting":!1}),e(o(r),{"data-field":"item_name",caption:"STOK ADI","allow-sorting":!1}),e(o(r),{"data-field":"item_code",caption:"STOK KODU",visible:!0,"min-width":120,"allow-sorting":!1}),e(o(r),{"data-field":"istasyon_id",caption:"İSTASYON ID","data-type":"number",width:60,visible:!1}),e(o(sl),{visible:me.value,"onUpdate:visible":a[27]||(a[27]=l=>me.value=l),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"]),e(o(ta),{visible:!1}),e(o(ll),{visible:!1}),e(o(tl),{visible:!1}),e(o(ol),{visible:!1}),e(o(il),{visible:!0,width:240}),e(o(ue),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(o(de),{mode:"multiple"}),e(o(Re),{"select-all-mode":"page",mode:"single","show-check-boxes-mode":"always"}),e(o(oa),null,{default:i(()=>[e(o(ia),{"align-by-column":!0,column:"TANIM","summary-type":"count","display-format":"{0} adet"})]),_:1})]),_:1},8,["data-source","focused-row-key"])),e(o(X),{widget:"dxButton",toolbar:"bottom",location:"center",options:we,onClick:Ne}),e(o(X),{widget:"dxButton",toolbar:"bottom",location:"center",options:Be})]),_:1},8,["visible"]),e(o(Me),{visible:$.value,"onUpdate:visible":a[30]||(a[30]=l=>$.value=l),width:"90%",height:"90%","hide-on-outside-click":!1,"show-close-button":!0,title:"Ürün Ağacı: "+n.value.urunKodu},{default:i(()=>[m("div",Dl,[m("h2",null,T(g.value),1),m("h3",null,"Onay Tarihi: "+T(he.value),1),m("h3",null,"Onaylayan: "+T(Ee.value),1)]),e(b,{class:"d-flex justify-center align-center pt-1 pb-2"},{default:i(()=>[e(c,{cols:"6",class:"d-flex justify-stasrt ps-5"},{default:i(()=>[m("h4",null,[a[54]||(a[54]=p("Onay:   ")),m("span",Il,T(De.value||0)+" / "+T(Ie.value),1)])]),_:1}),e(c,{cols:"6",class:"d-flex justify-end pe-5"},{default:i(()=>[p(T(He.value===!0?be[0].title:be[1].title),1)]),_:1})]),_:1}),e(o(re),{id:"gridAgac",ref_key:"agacRef",ref:G,"data-source":pe.value,"key-expr":"user_line_no","show-borders":!0,"focused-row-enabled":!0,"row-alternation-enabled":!0,"min-width":200,"column-auto-width":!0,height:"96%","allow-column-resizing":!0,"column-resizing-mode":"widget",onSelectionChanged:Sa},{default:i(()=>[e(o(r),{"data-field":"qty_base_bom",caption:"ADET",width:50,"data-type":"number",format:{type:"fixedPoint",precision:1,thousandsSeparator:","}}),e(o(r),{"data-field":"item_id",caption:"ID",width:90,visible:!1}),e(o(r),{"data-field":"user_line_no",caption:"NO",width:50,visible:!1}),e(o(r),{"data-field":"stok_kodu",caption:"STOK KODU",width:120}),e(o(r),{"data-field":"stok_adi",caption:"STOK ADI"}),e(o(ta),{visible:!1}),e(o(de),{mode:"none"}),e(o(Re),{"select-all-mode":"page",mode:"multiple","show-check-boxes-mode":"always","allow-select-all":!1}),e(o(ue),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(o(oa),null,{default:i(()=>[e(o(ia),{"align-by-column":!0,column:"stok_kodu","summary-type":"count","display-format":"Satır sayısı: {0}"})]),_:1})]),_:1},8,["data-source"]),e(o(X),{widget:"dxButton",toolbar:"bottom",location:"center",options:we,onClick:ga}),e(o(X),{widget:"dxButton",toolbar:"bottom",location:"center",options:Be})]),_:1},8,["visible","title"]),e(o(Me),{visible:Z.value,"show-title":!0,title:"Hata Girişi",width:"90%",height:"90%","drag-enabled":!0,"close-on-outside-click":!1,"show-close-button":!1,onShown:Ze},{default:i(()=>[e(b,{dense:""},{default:i(()=>[e(c,{cols:"12",class:"d-flex pa-1 pb-0"},{default:i(()=>[e(S,{ref_key:"serinoRef",ref:Ve,modelValue:w.value,"onUpdate:modelValue":a[31]||(a[31]=l=>w.value=l),label:"Seri No",variant:"outlined",rules:[l=>!!l||"Seri no zorunlu"],onKeydown:Qa(el(Va,["prevent"]),["enter"]),onBlur:Na,onChange:Ra},null,8,["modelValue","rules","onKeydown"])]),_:1}),e(c,{cols:"12",class:"d-flex pa-1 pb-3 justify-end"},{default:i(()=>[e(O,{disabled:w.value.length===0,label:"Not",modelValue:ke.value,"onUpdate:modelValue":a[32]||(a[32]=l=>ke.value=l),"auto-grow":"",class:"mt-4",variant:"outlined",rows:"1"},null,8,["disabled","modelValue"])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pe-2 pb-4"},{default:i(()=>[m("div",null,[e(o(R),{disabled:w.value.length===0,"data-source":be,value:J.value,"display-expr":"title","value-expr":"value",onValueChanged:a[33]||(a[33]=l=>J.value=l.value),height:37},null,8,["disabled","value"])])]),_:1}),e(c,{cols:"6",class:"d-flex pa-1 pb-3 justify-end"},{default:i(()=>[e(o(y),{disabled:w.value.length===0,block:"",icon:"tabler-camera-plus",variant:"outlined",rounded:"",onClick:We},null,8,["disabled"])]),_:1})]),_:1}),a[55]||(a[55]=m("hr",null,null,-1)),e(ml,null,{default:i(()=>[(k(),h(ne,null,Se(Ka,(l,d)=>e(b,{key:d},{default:i(()=>[e(c,{cols:"12"},{default:i(()=>[m("strong",null,T(l.baslik),1)]),_:2},1024),(k(!0),h(ne,null,Se(l.hatalar,(v,I)=>(k(),Te(c,{key:I,cols:"12",sm:"6",md:"4",class:"py-0 my-0"},{default:i(()=>[e(na,{disabled:w.value.length===0,modelValue:Q.value[v.kod],"onUpdate:modelValue":se=>Q.value[v.kod]=se,label:`${v.kod}: ${v.aciklama}`,density:"compact","hide-details":"",class:"py-0 my-0"},null,8,["disabled","modelValue","onUpdate:modelValue","label"])]),_:2},1024))),128))]),_:2},1024)),64))]),_:1}),m("div",El,[e(pl,{ref_key:"fileInput",ref:Pe,modelValue:A.value,"onUpdate:modelValue":a[34]||(a[34]=l=>A.value=l),accept:"image/*",label:"Fotoğraf Seç",multiple:"",style:{display:"none"},onChange:Aa},null,8,["modelValue"])]),e(c,{cols:"12",class:"d-flex pa-0 pt-2 pb-2 justify-end gap-2"},{default:i(()=>[e(o(y),{disabled:w.value.length===0,icon:"tabler-camera-plus",variant:"outlined",block:"",rounded:"",onClick:We},null,8,["disabled"])]),_:1}),e(b,null,{default:i(()=>[(k(!0),h(ne,null,Se(H.value,l=>(k(),Te(c,{key:l.id,cols:"12",sm:"4",md:"3"},{default:i(()=>[e(Ke,{src:l.url,"max-height":"200",class:"rounded-lg",onClick:d=>za(l.url)},null,8,["src","onClick"]),e(o(y),{icon:"tabler-trash",color:"error",rounded:"",onClick:d=>Ea(l.id),class:"mt-1"},null,8,["onClick"])]),_:2},1024))),128))]),_:1}),e(o(X),{disabled:w.value.length===0||J.value.length===0||L.value,widget:"dxButton",toolbar:"bottom",location:"center",options:{...we,text:L.value?"Kaydediliyor...":we.text},onClick:Da},null,8,["disabled","options"]),e(o(X),{widget:"dxButton",toolbar:"bottom",location:"center",options:Be})]),_:1,__:[55]},8,["visible"]),e(Ue,{modelValue:ge.value,"onUpdate:modelValue":a[36]||(a[36]=l=>ge.value=l),"max-width":"1200"},{default:i(()=>[e(z,null,{default:i(()=>[e(Ke,{src:Ge.value,class:"ma-4","aspect-ratio":"1.5"},null,8,["src"]),e(dl,null,{default:i(()=>[e(ra),e(o(y),{text:"",onClick:a[35]||(a[35]=l=>ge.value=!1)},{default:i(()=>a[56]||(a[56]=[p("Kapat")])),_:1,__:[56]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ul,{type:"error",class:"mt-2",border:"start","colored-border":"",elevation:"2",variant:"tonal"},{default:i(()=>a[57]||(a[57]=[m("strong",null,"CC:",-1),p(" Camda Çizik   "),m("strong",null,"BKE:",-1),p(" Bağlantı Kalemi Eksik   "),m("strong",null,"CM:",-1),p(" Çapaklı Malzeme   "),m("strong",null,"KH:",-1),p(" Kilit Hatası   "),m("strong",null,"FB:",-1),p(" Formda Bozukluk   "),m("strong",null,"SH:",-1),p(" Serigrafi Hatası   "),m("strong",null,"KAH:",-1),p(" Kaynak Hatası   "),m("strong",null,"BC:",-1),p(" Boyada Çizik   "),m("strong",null,"KPL:",-1),p(" Kaplama Hatası   "),m("strong",null,"TKH:",-1),p(" Topraklama Hatası   "),m("strong",null,"BH:",-1),p(" Boya Hatası   "),m("strong",null,"IEH:",-1),p(" İş Emri Hatası   "),m("strong",null,"OH:",-1),p(" Ölçüsel Hata   "),m("strong",null,"H19:",-1),p(" 19'' Ölçü Hatası   "),m("strong",null,"SMH:",-1),p(" Saç Malzeme Hatası   "),m("strong",null,"TH:",-1),p(" Taşeron Hatası   "),m("strong",null,"AH:",-1),p(" Aksesuar Hatası   "),m("strong",null,"MH:",-1),p(" Montaj Hatası   "),m("strong",null,"STH:",-1),p(" Su Testi Hatası   "),m("strong",null,"BKS:",-1),p(" Bağlantı Kalemi Sıkılmamış   "),m("strong",null,"EH:",-1),p(" Etiket Hatası   "),m("strong",null,"ELK:",-1),p(" Elektrik Hatası   "),m("strong",null,"SPH:",-1),p(" Sipariş Hatası   ")])),_:1,__:[57]}),e(Ue,{modelValue:te.value,"onUpdate:modelValue":a[38]||(a[38]=l=>te.value=l),"max-width":"800"},{default:i(()=>[e(z,null,{default:i(()=>[e(M,{class:"d-flex justify-space-between align-center"},{default:i(()=>{var l;return[m("span",null,"Seri No: "+T(((l=pa.value)==null?void 0:l.seri_no)||""),1),e(o(y),{variant:"tonal",icon:"tabler-square-letter-x",rounded:"",onClick:a[37]||(a[37]=d=>te.value=!1)})]}),_:1}),e(U,null,{default:i(()=>[e(b,null,{default:i(()=>[(k(!0),h(ne,null,Se(N.value,(l,d)=>(k(),Te(c,{key:d,cols:"12",md:"4"},{default:i(()=>[e(Ke,{src:l,"aspect-ratio":"4/3",cover:"",class:"mb-2"},null,8,["src"]),m("div",zl,[e(o(y),{variant:"tonal",icon:"tabler-trash",rounded:"",onClick:v=>Oa(l)},null,8,["onClick"]),e(o(y),{variant:"tonal",icon:"tabler-eye",rounded:"",onClick:v=>Fa(l)},null,8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Ue,{modelValue:le.value,"onUpdate:modelValue":a[40]||(a[40]=l=>le.value=l),fullscreen:""},{default:i(()=>[e(z,null,{default:i(()=>[e(M,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e(ra),e(o(y),{variant:"tonal",icon:"tabler-square-letter-x",rounded:"",onClick:a[39]||(a[39]=l=>le.value=!1)})]),_:1}),m("div",Al,[e(o(y),{variant:"tonal",icon:"tabler-zoom-in",rounded:"",onClick:Qe}),e(o(y),{variant:"tonal",icon:"tabler-zoom-out",rounded:"",onClick:ea}),e(o(y),{variant:"tonal",icon:"tabler-zoom-reset",rounded:"",onClick:aa})]),e(U,null,{default:i(()=>[m("div",{style:{overflow:"auto","max-block-size":"80vh"},onWheel:Ga,onMousedown:$a,onMousemove:Pa,onMouseup:la,onMouseleave:la},[e(Ke,{src:Le.value,class:"w-100 h-auto",style:al({transform:`scale(${ee.value}) translate(${ie.value.x}px, ${ie.value.y}px)`,cursor:oe.value?"grabbing":"grab",transition:oe.value?"none":"transform 0.2s ease","max-width":"unset","max-height":"unset","user-select":"none","pointer-events":"none"}),alt:"Zoomable",draggable:"false"},null,8,["src","style"])],32)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(rl,{ref_key:"hataDialogRef",ref:Oe},null,512)],64))}}),Ot=fl(Bl,[["__scopeId","data-v-8a4b7005"]]);export{Ot as default};
