import{P as M,X as c,$ as R,aE as w,Y as d,a0 as B,r as m,w as E,N as k,cH as D}from"./main-LxvBfCYO.js";const y=Symbol.for("vuetify:form"),P=R({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function x(t){const i=w(t,"modelValue"),f=d(()=>t.disabled),v=d(()=>t.readonly),o=B(!1),a=m([]),n=m([]);async function g(){const e=[];let l=!0;n.value=[],o.value=!0;for(const r of a.value){const s=await r.validate();if(s.length>0&&(l=!1,e.push({id:r.id,errorMessages:s})),!l&&t.fastFail)break}return n.value=e,o.value=!1,{valid:l,errors:n.value}}function V(){a.value.forEach(e=>e.reset())}function h(){a.value.forEach(e=>e.resetValidation())}return E(a,()=>{let e=0,l=0;const r=[];for(const s of a.value)s.isValid===!1?(l++,r.push({id:s.id,errorMessages:s.errorMessages})):s.isValid===!0&&e++;n.value=r,i.value=l>0?!1:e===a.value.length?!0:null},{deep:!0,flush:"post"}),k(y,{register:e=>{let{id:l,vm:r,validate:s,reset:u,resetValidation:b}=e;a.value.some(F=>F.id===l),a.value.push({id:l,validate:s,reset:u,resetValidation:b,vm:D(r),isValid:null,errorMessages:[]})},unregister:e=>{a.value=a.value.filter(l=>l.id!==e)},update:(e,l,r)=>{const s=a.value.find(u=>u.id===e);s&&(s.isValid=l,s.errorMessages=r)},isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validateOn:d(()=>t.validateOn)}),{errors:n,isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validate:g,reset:V,resetValidation:h}}function S(t){const i=M(y,null);return{...i,isReadonly:c(()=>!!((t==null?void 0:t.readonly)??(i==null?void 0:i.isReadonly.value))),isDisabled:c(()=>!!((t==null?void 0:t.disabled)??(i==null?void 0:i.isDisabled.value)))}}export{x as c,P as m,S as u};
