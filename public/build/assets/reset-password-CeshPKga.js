import{_ as q}from"./AppTextField.vue_vue_type_script_setup_true_lang-9FUcUeHt.js";import{d as A,aV as D,aK as E,r,w as G,a as Y,c as J,o as h,b as a,f as l,e as n,u as e,V as K,t as R,k,g as I,j as T,aB as w,aJ as O,aA as x,L as H,m as Q,F as W}from"./main-wayOJpsu.js";import{u as z}from"./useGenerateImageVariant-D6vnvZJV.js";import{r as B}from"./validators-BwBNGiur.js";import{a as X,b as Z}from"./auth-v2-reset-password-illustration-light-DXjlOEVK.js";import{a as ee,b as ae}from"./misc-mask-light-Ha4lQOdV.js";import{$ as te}from"./api-BJHo8HTm.js";import{V as u}from"./VCol-DFC3pR0Y.js";import{V as le}from"./VImg-Bvwx-Qsf.js";import{V as oe}from"./VCard-02HgaaPy.js";import{V as L}from"./VCardText-CLh1Hubu.js";import{V as M}from"./VAlert-B7sBoYPL.js";import{V as se}from"./VForm-kX2OhwZW.js";import{V as F}from"./VRow-BrkpbuJt.js";import"./focus-bF_JTB7H.js";import"./VTextField-BQaEUlyt.js";/* empty css                   */import"./VCounter-qxH0eFCL.js";import"./VField-vIrQTKhw.js";import"./easing-Bybner-F.js";import"./VInput-qrQIJzFv.js";import"./form-BSr8a05r.js";import"./forwardRefs-C-GTDzx5.js";import"./helpers-BGv4x_9E.js";import"./index-C24p9Pg2.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-DB6Wi9dU.js";const re={class:"auth-logo d-flex align-center gap-x-3"},ne={class:"auth-title"},ie={class:"position-relative bg-background w-100 me-0"},ue={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"150px"}},me=["src"],qe=A({__name:"reset-password",setup(de){const v=D(),S=E(),b=r(v.query.token||""),m=r(v.query.email||""),f=r(""),c=r(""),V=r(!1),g=r(!1),y=r(!1),_=r(null),d=r(null),C=r(),N=z(Z,X),P=z(ae,ee),$=o=>((o==null?void 0:o.length)??0)>=8||"≈ûifre en az 8 karakter olmalƒ±dƒ±r.",j=o=>o===f.value||"≈ûifreler e≈üle≈ümiyor.";G(()=>v.query,o=>{b.value=o.token||"",m.value=o.email||""},{deep:!0});const U=async()=>{var t;if(_.value=null,d.value=null,!b.value||!m.value){d.value="Baƒülantƒ± ge√ßersiz. L√ºtfen ‚Äú≈ûifremi Unuttum‚Äù √ºzerinden tekrar deneyin.";return}const o=await((t=C.value)==null?void 0:t.validate());if(o!=null&&o.valid)try{y.value=!0,await te("/auth/reset-password",{method:"POST",body:{token:b.value,email:m.value,password:f.value,password_confirmation:c.value},onResponseError({response:s}){var p;d.value=((p=s==null?void 0:s._data)==null?void 0:p.message)||"ƒ∞≈ülem sƒ±rasƒ±nda bir hata olu≈ütu."}}),_.value="≈ûifreniz ba≈üarƒ±yla g√ºncellendi.",setTimeout(()=>S.push({name:"login"}),1500)}catch(s){d.value=(s==null?void 0:s.message)||"ƒ∞≈ülem sƒ±rasƒ±nda bir hata olu≈ütu."}finally{y.value=!1}};return(o,t)=>{const s=Y("RouterLink"),p=q;return h(),J(W,null,[a(s,{to:"/"},{default:l(()=>[n("div",re,[a(e(K),{nodes:e(R).app.logo},null,8,["nodes"]),n("h1",ne,k(e(R).app.title),1)])]),_:1}),a(F,{class:"auth-wrapper bg-surface","no-gutters":""},{default:l(()=>[a(u,{md:"8",class:"d-none d-md-flex"},{default:l(()=>[n("div",ie,[n("div",ue,[a(le,{"max-width":"451",src:e(N),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),n("img",{class:"auth-footer-mask flip-in-rtl",src:e(P),alt:"auth-footer-mask",height:"280",width:"100"},null,8,me)])]),_:1}),a(u,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:l(()=>[a(oe,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:l(()=>[a(L,null,{default:l(()=>t[5]||(t[5]=[n("h4",{class:"text-h4 mb-1"}," ≈ûifreyi Sƒ±fƒ±rla üîí ",-1),n("p",{class:"mb-0"}," Yeni ≈üifreniz en az 8 karakter olmalƒ± ve onay ≈üifresiyle e≈üle≈ümelidir. ",-1)])),_:1,__:[5]}),a(L,null,{default:l(()=>[e(_)?(h(),I(M,{key:0,type:"success",variant:"tonal",class:"mb-4"},{default:l(()=>[w(k(e(_)),1)]),_:1})):T("",!0),e(d)?(h(),I(M,{key:1,type:"error",variant:"tonal",class:"mb-4"},{default:l(()=>[w(k(e(d)),1)]),_:1})):T("",!0),a(e(se),{ref_key:"refVForm",ref:C,onSubmit:O(U,["prevent"])},{default:l(()=>[a(F,null,{default:l(()=>[a(u,{cols:"12"},{default:l(()=>[a(p,{modelValue:e(m),"onUpdate:modelValue":t[0]||(t[0]=i=>x(m)?m.value=i:null),label:"E-posta",type:"email",readonly:!0},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:l(()=>[a(p,{modelValue:e(f),"onUpdate:modelValue":t[1]||(t[1]=i=>x(f)?f.value=i:null),autofocus:"",label:"Yeni ≈ûifre",placeholder:"¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑",type:e(V)?"text":"password",autocomplete:"new-password","append-inner-icon":e(V)?"tabler-eye-off":"tabler-eye",rules:[e(B),$],"onClick:appendInner":t[2]||(t[2]=i=>V.value=!e(V))},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1}),a(u,{cols:"12"},{default:l(()=>[a(p,{modelValue:e(c),"onUpdate:modelValue":t[3]||(t[3]=i=>x(c)?c.value=i:null),label:"Yeni ≈ûifre (Tekrar)",placeholder:"¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑",type:e(g)?"text":"password",autocomplete:"new-password","append-inner-icon":e(g)?"tabler-eye-off":"tabler-eye",rules:[e(B),j],"onClick:appendInner":t[4]||(t[4]=i=>g.value=!e(g))},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1}),a(u,{cols:"12"},{default:l(()=>[a(H,{block:"",type:"submit",loading:e(y),disabled:e(y)},{default:l(()=>t[6]||(t[6]=[w(" ≈ûifreyi G√ºncelle ")])),_:1,__:[6]},8,["loading","disabled"])]),_:1}),a(u,{cols:"12"},{default:l(()=>[a(s,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:l(()=>[a(Q,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),t[7]||(t[7]=n("span",null,"Giri≈ü sayfasƒ±na d√∂n",-1))]),_:1,__:[7]})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{qe as default};
