import{_ as M}from"./AppTextField.vue_vue_type_script_setup_true_lang-DjFsyMAf.js";import{d as R,r as i,a as S,c as T,o as p,b as a,f as t,e as l,m as e,H as h,v as _,g as b,l as v,t as g,b0 as z,aU as N,ae as E,Z as L,F as j}from"./main-LxvBfCYO.js";import{u as k}from"./useGenerateImageVariant-CpMKdD71.js";import{r as D,e as G}from"./validators-BwBNGiur.js";import{V as P}from"./VNodeRenderer-RgNmjCvs.js";import{a as U,b as $}from"./auth-v2-forgot-password-illustration-light-SXBFhqP4.js";import{a as A,b as q}from"./misc-mask-light-Ha4lQOdV.js";import{$ as H}from"./api-CwwJbbxp.js";import{V as n}from"./VCol-DGDzoT_L.js";import{V as O}from"./VImg-2yOFTAKV.js";import{V as Z}from"./VCard-BbJErTjL.js";import{V as y}from"./VCardText-DzFEJt83.js";import{V as x}from"./VAlert-B7bngk3s.js";import{V as J}from"./VForm-DxeVwTcl.js";import{V as w}from"./VRow-Dir_QL1l.js";import"./focus-D2fyG3Kh.js";import"./VTextField-Dk7pXDmu.js";/* empty css                   */import"./VCounter-COqn8wdO.js";import"./VField-DENhbkEB.js";import"./easing-Bybner-F.js";import"./VInput-sWz65DWV.js";import"./form-wyDDZLLx.js";import"./forwardRefs-C-GTDzx5.js";import"./helpers-BGv4x_9E.js";import"./index-DWeRXPSM.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-A1xjLlVP.js";const K={class:"auth-logo d-flex align-center gap-x-3"},Q={class:"auth-title"},W={class:"position-relative bg-background w-100 me-0"},X={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"150px"}},Y=["src"],Ra=R({__name:"forgot-password",setup(aa){const m=i(""),u=i(!1),d=i(null),r=i(null),V=i(),C=k($,U),F=k(q,A),B=async()=>{var s;d.value=null,r.value=null;const f=await((s=V.value)==null?void 0:s.validate());if(f!=null&&f.valid)try{u.value=!0,await H("/auth/forgot-password",{method:"POST",body:{email:m.value},onResponseError({response:o}){var c;r.value=((c=o==null?void 0:o._data)==null?void 0:c.message)||"İşlem sırasında bir hata oluştu."}}),d.value="Şifre sıfırlama bağlantısı e-posta adresinize gönderildi."}catch(o){r.value=(o==null?void 0:o.message)||"İşlem sırasında bir hata oluştu."}finally{u.value=!1}};return(f,s)=>{const o=S("RouterLink"),c=M;return p(),T(j,null,[a(o,{to:"/"},{default:t(()=>[l("div",K,[a(e(P),{nodes:e(h).app.logo},null,8,["nodes"]),l("h1",Q,_(e(h).app.title),1)])]),_:1}),a(w,{class:"auth-wrapper bg-surface","no-gutters":""},{default:t(()=>[a(n,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[l("div",W,[l("div",X,[a(O,{"max-width":"468",src:e(C),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),l("img",{class:"auth-footer-mask",src:e(F),alt:"auth-footer-mask",height:"280",width:"100"},null,8,Y)])]),_:1}),a(n,{cols:"12",md:"4",class:"d-flex align-center justify-center"},{default:t(()=>[a(Z,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[a(y,null,{default:t(()=>s[1]||(s[1]=[l("h4",{class:"text-h4 mb-1"}," Şifremi Unuttum? 🔒 ",-1),l("p",{class:"mb-0"}," E-postanızı girin, şifrenizi sıfırlamak için talimatları size gönderelim. ",-1)])),_:1,__:[1]}),a(y,null,{default:t(()=>[e(d)?(p(),b(x,{key:0,type:"success",variant:"tonal",class:"mb-4"},{default:t(()=>[g(_(e(d)),1)]),_:1})):v("",!0),e(r)?(p(),b(x,{key:1,type:"error",variant:"tonal",class:"mb-4"},{default:t(()=>[g(_(e(r)),1)]),_:1})):v("",!0),a(e(J),{ref_key:"refVForm",ref:V,onSubmit:z(B,["prevent"])},{default:t(()=>[a(w,null,{default:t(()=>[a(n,{cols:"12"},{default:t(()=>[a(c,{modelValue:e(m),"onUpdate:modelValue":s[0]||(s[0]=I=>N(m)?m.value=I:null),autofocus:"",label:"E-posta",type:"email",placeholder:"oft@oft.com",rules:[e(D),e(G)]},null,8,["modelValue","rules"])]),_:1}),a(n,{cols:"12"},{default:t(()=>[a(E,{block:"",type:"submit",loading:e(u),disabled:e(u)},{default:t(()=>s[2]||(s[2]=[g(" Şifre Sıfırlama Bağlantısını Gönder ")])),_:1,__:[2]},8,["loading","disabled"])]),_:1}),a(n,{cols:"12"},{default:t(()=>[a(o,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:t(()=>[a(L,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),s[3]||(s[3]=l("span",null,"Giriş sayfasına dön",-1))]),_:1,__:[3]})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Ra as default};
