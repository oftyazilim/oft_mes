import{u as We}from"./pageTitle-CU124YiO.js";import{d as qe,r as n,q as je,D as Je,i as Ze,a as Qe,c as Xe,o as ae,b as e,f as o,e as s,g as ve,l as a,T as et,aF as tt,p as y,F as at,s as b}from"./main-Dda-fDvo.js";import{D as ye}from"./button-DIjrBPFW.js";import{D as it}from"./context-menu-CxdLXOFM.js";import{s as T,D as l,h as lt,i as rt,j as ot,k as nt,d as S,l as st,m as dt,b as ut,q as ie,r as mt,t as z}from"./data-grid-H_1-Xf5A.js";import{D as ge}from"./date-box-fbMTd65M.js";import{D as pt}from"./load-panel-Bwe1o-tB.js";import{a as I}from"./popup-BjrPFckE.js";import{D as A}from"./select-box-DaDQROKE.js";import{D as p}from"./tabs-BtZ88PCk.js";import{e as ct}from"./export_data_grid-C5kZP6IS.js";import"./dom_component-Cvznob5X.js";import"./m_select_box-vtPLk_BY.js";import"./m_resize_observer-B41wzJY-.js";import"./format_helper-CBO-jPxY.js";import{e as ft}from"./exceljs.min-Dm3_meIG.js";import{s as vt}from"./FileSaver-CQu8bA20.js";import{V as yt}from"./VCardText-BRuZaizK.js";import{V as v}from"./VCol-B4SanIbp.js";import{V as gt}from"./VSwitch-B9uKt7zo.js";import{V as bt}from"./VCard-RYBfV1Ap.js";import{V as P}from"./VRow-BHNh141H.js";import"./index-C1qBxX--.js";import"./m_row_dragging-C6BBL2Jf.js";import"./themes-nCujy73_.js";import"./overlay-Dh6ieoVB.js";import"./editor-CqqkC3OD.js";import"./export_merged_ranges_manager-B7WosSyI.js";import"./language_codes-PCjhXhRJ.js";import"./_commonjsHelpers-D6-XlEtG.js";/* empty css              */import"./VInput-DJuArRhD.js";import"./focus-Co--6TMv.js";import"./index-CqfbI18D.js";import"./form-CjACqVE8.js";import"./VSelectionControl-B7oe3xO2.js";import"./createSimpleFunctional-Bf_IxksE.js";import"./VAvatar-Cn7oPB-D.js";import"./VImg-DDu0J3_3.js";const ht={id:"liste",style:{"margin-block":"-10px 10px"}},wt={style:{"margin-block-start":"-10px"}},kt={style:{"margin-block-start":"-10px","margin-inline-start":"5px"}},xt={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},Dt={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},_t={style:{"inline-size":"120px","margin-block-start":"-10px","margin-inline-start":"5px"}},Tt={style:{"inline-size":"150px","margin-block-start":"-10px","margin-inline-start":"5px"}},St={style:{"inline-size":"180px","margin-block-start":"-10px","margin-inline-start":"5px"}},At={style:{"inline-size":"160px","margin-block-start":"-10px","margin-inline-start":"5px"}},Et=["visible"],be="İhtiyaç Listesi",he="Test",ga=qe({__name:"ihtiyac-listesi-istasyon",setup(Rt){const le=t=>{if(!t)return null;const i=new Date(t),d=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),m=String(i.getDate()).padStart(2,"0");return`${d}-${r}-${m}`},we=We(),M=n(!1),O=n(!1),G=n(!1),B=n(!1),L=n(!1),g=n(!1),U=n([]),N=n([]),re=n([]),Y=n([]),$=n([]),ke=n(Date.now()),K=n("Detaysız"),E=je("userData"),R=n(null),xe=n(null),De=n(null),_e=n(null),Te=n(null);n(null);const H=n(!0);n(!1),n(0);const C=n(0);n(!1);const c=n(0),f=n(""),W=n([]),h=n(0),oe=n([]),w=n(0),q=n(""),ne=n([]),j=n(""),F=n(0),J=n(""),se=n([]),Z=n([]),de=n([]),k=new Date,Q=new Date(k);Q.setDate(k.getDate()-k.getDay()+1);const X=new Date(k);X.setDate(k.getDate()-k.getDay()+7);const ee=n([Q,X]),x=n(Q),D=n(X),V=n([]),u=n(null),ue=Je(()=>!!w.value&&!!h.value);we.setTitle(`${be} (${he})`),document.title=`OFT - ${be} | ${he}`;function me(t){return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:1}).format(t.value)}const pe=async()=>{N.value=[],await Se()},Se=async()=>{ee.value=[x.value,D.value],x.value=le(ee.value[0]),D.value=le(ee.value[1]);try{const t=await b.get("/api/test-ihtiyaclar",{params:{filterValue:x.value,filterValue1:D.value,merkezID:w.value,istasyonID:h.value,siparis:q.value,cari:j.value,coID:E.value.co_id,isemriID:F.value,operasyon:J.value,detay:K.value==="Detaylı"?1:0}});N.value=t.data.emirler,console.log(t.data.emirler),re.value=t.data.dagilim}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{g.value=!1}},Ae=async()=>{try{const t=await b.get("/api/merkezal",{params:{coID:E.value.co_id}});oe.value=t.data.merkezler,ne.value=t.data.siparisler,se.value=t.data.cariler}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{g.value=!1}},Ee=async()=>{if(!w.value){W.value=[],h.value=0;return}h.value=0,N.value=[];try{const t=await b.get("/api/istasyonal",{params:{ismerkezi:w.value}});W.value=t.data.istasyonlar}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{g.value=!1}},Re=async()=>{F.value=0,Z.value=[];try{const t=await b.get("/api/isemri-nolari",{params:{filterValue:x.value,filterValue1:D.value,ismerkezi:w.value,istasyon:h.value}});Z.value=t.data.emirnolari,de.value=t.data.operasyonlar}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{g.value=!1}},ze=async t=>{try{const i=await b.get("/api/isEmriAcilmislar",{params:{item_id:t}});U.value=i.data.data}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}finally{g.value=!1}};Ze(async()=>{ce(),Ae(),Me()});const ce=()=>{var i,d;const t=localStorage.getItem(`${E.value.id}_malzemeler`);t&&((d=(i=R.value)==null?void 0:i.instance)==null||d.state(JSON.parse(t)))},Ie=()=>{var i,d;const t=(d=(i=R.value)==null?void 0:i.instance)==null?void 0:d.state();localStorage.setItem(`${E.value.id}_malzemeler`,JSON.stringify(t))},Pe=()=>{localStorage.removeItem(`${E.value.id}_malzemeler`),R.value.instance.state(null)},Me=()=>{const t=new Date,i=t.getFullYear()%100,d=new Date(t.getFullYear(),0,4),r=new Date(d);r.setDate(d.getDate()-(d.getDay()+6)%7);const m=Math.floor((t.getTime()-r.getTime())/864e5),te=Math.floor(m/7)+1;return`${i}-${te.toString().padStart(2,"0")}`},Oe=()=>{H.value=!H.value},Ne=()=>{var t,i;(i=(t=R.value)==null?void 0:t.instance)==null||i.clearFilter()},Ke=t=>{t.rowType==="data"&&(t.column.dataField==="talepler"||t.column.dataField==="satinalma"||t.column.dataField==="stok"||t.column.dataField==="ana_depo"||t.column.dataField==="diger_depo")&&t.value>0&&(t.cellElement.style.fontWeight="bold"),t.rowType==="data"&&t.column.dataField==="stok"&&Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="orange"),t.rowType==="data"&&t.column.dataField==="ana_depo"&&Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff6e00",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="diger_depo"&&Number(t.data.diger_depo)+Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff5400",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="bakiye"&&t.value<0&&(t.cellElement.style.fontWeight="bold",t.cellElement.style.backgroundColor="red",t.cellElement.style.color="white")},Ce=t=>{if(t.rowIndex===-1)return;const i=t.row.data;u.value=i},Fe=t=>{const i=new ft.Workbook,d=i.addWorksheet("MalzemeListesi");ct({component:t.component,worksheet:d,autoFilterEnabled:!0}).then(()=>{i.xlsx.writeBuffer().then(r=>{vt(new Blob([r],{type:"application/octet-stream"}),"MalzemeListesi.xlsx")})}),t.cancel=!0},Ve=(t,i)=>{t.innerText=i.text;const d=i.data.tipi,r=(He,It)=>{const _=document.createElement("span");return _.className="dx-icon dx-icon-isnotblank",_.style.marginRight="8px",_.style.color=He,_.style.fontSize="16",_.style.display="inline-flex",_};let m="gray";switch(d){case"Hammadde":m="gold";break;case"YarıMamul":m="limegreen";break;case"Mamul":m="green";break;case"Ticari":m="gray";break}const te=r(m);t.insertBefore(te,t.firstChild)},Ge=[{text:"Yenile"},{text:"Hangi İş Emirlerinde"},{text:"Açılmış İş Emirleri"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function Be({itemData:t}){if(!(t!=null&&t.items))switch(t==null?void 0:t.text){case"Yenile":pe();break;case"Hangi İş Emirlerinde":C.value=u.value.item_id,c.value=u.value.stok_kodu,f.value=u.value.stok_adi,O.value=!0;break;case"Açılmış İş Emirleri":C.value=u.value.item_id,c.value=u.value.stok_kodu,f.value=u.value.stok_adi,U.value=[],ze(u.value.item_id),G.value=!0;break;case"Stok Detayları":V.value=[],c.value=u.value.stok_kodu,f.value=u.value.stok_adi,fe(u.value.item_id),M.value=!0;break;case"Satınalma Sipariş Detayları":Y.value=[],c.value=u.value.stok_kodu,f.value=u.value.stok_adi,Ye(u.value.item_id),B.value=!0;break;case"Satınalma Talep Detayları":$.value=[],c.value=u.value.stok_kodu,f.value=u.value.stok_adi,$e(u.value.item_id),L.value=!0;break;case"Düzen Yükle":ce();break;case"Düzen Kaydet":Ie();break;case"Düzen Sıfırla":Pe();break}}const Le=()=>re.value.filter(t=>t.item_id===C.value),Ue=t=>{t.rowType==="data"&&t.column.dataField==="diger_depo"&&(V.value=[],c.value=t.data.stok_kodu,f.value=t.data.stok_adi,fe(t.data.item_id),M.value=!0),t.rowType==="data"&&t.column.dataField==="dongu"&&(C.value=t.data.item_id,c.value=t.data.stok_kodu,f.value=t.data.stok_adi,O.value=!0)},Ye=async t=>{try{const i=await b.get("/api/satinalmasorgu",{params:{item_id:t}});Y.value=i.data.satinalma}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},$e=async t=>{try{const i=await b.get("/api/taleplersorgu",{params:{item_id:t}});$.value=i.data.talepler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},fe=async t=>{try{const i=await b.get("/api/digerdepobakiyeleri",{params:{item_id:t}});V.value=i.data.bakiyeler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}};return(t,i)=>{const d=Qe("DxGroupPanel");return ae(),Xe(at,null,[e(bt,{class:"mt-0 pa-0"},{default:o(()=>[e(yt,{class:"mt-0 pa-2"},{default:o(()=>[e(v,{cols:"12",class:"mt-2 pa-1 pe-2 pt-0"},{default:o(()=>[s("div",ht,[e(a(it),{"data-source":Ge,width:200,target:"#gridM",onItemClick:Be}),(ae(),ve(a(T),{id:"gridM",ref_key:"dataGridRefM",ref:R,key:ke.value,class:"grid","data-source":N.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":"true","row-alternation-enabled":"true","min-width":200,"allow-column-reordering":"true","column-auto-width":"true","allow-column-resizing":"true",onContextMenuPreparing:Ce,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%",onCellPrepared:Ke,onExporting:Fe,onCellClick:Ue},{filtreTarih1:o(()=>[s("div",wt,[e(a(ge),{label:"Başlangıç Tarihi",width:"120","label-mode":"floating",value:x.value,"onUpdate:value":i[1]||(i[1]=r=>x.value=r),type:"date"},null,8,["value"])])]),filtreTarih2:o(()=>[s("div",kt,[e(a(ge),{label:"Bitiş Tarihi",width:"120","label-mode":"floating",value:D.value,"onUpdate:value":i[2]||(i[2]=r=>D.value=r),type:"date"},null,8,["value"])])]),filtreMerkez:o(()=>[s("div",xt,[e(a(A),{"data-source":oe.value,value:w.value,"onUpdate:value":i[3]||(i[3]=r=>w.value=r),"show-clear-button":!0,label:"İş Merkezi","label-mode":"floating","display-expr":"mrk_adi","value-expr":"is_merkezi_id",onValueChanged:i[4]||(i[4]=r=>Ee()),style:{"inline-size":"100%"},"search-mode":"contains","search-expr":"mrk_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreIstasyon:o(()=>[s("div",Dt,[e(a(A),{"data-source":W.value,value:h.value,"onUpdate:value":i[5]||(i[5]=r=>h.value=r),label:"İstasyon","label-mode":"floating","display-expr":"ist_adi","value-expr":"istasyon_id",style:{"inline-size":"100%"},"search-mode":"contains",onValueChanged:i[6]||(i[6]=r=>Re()),"search-expr":"ist_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreSiparis:o(()=>[s("div",_t,[e(a(A),{"data-source":ne.value,value:q.value,"onUpdate:value":i[7]||(i[7]=r=>q.value=r),label:"Sipariş","label-mode":"floating","display-expr":"siparis_belge_no","value-expr":"siparis_belge_no",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"siparis_belge_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:o(()=>[s("div",Tt,[e(a(A),{"data-source":se.value,value:j.value,"onUpdate:value":i[8]||(i[8]=r=>j.value=r),label:"Cari","label-mode":"floating","display-expr":"cari_ad","value-expr":"cari_ad",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"cari_ad","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreisEmriNo:o(()=>[s("div",St,[e(a(A),{"data-source":Z.value,value:F.value,"onUpdate:value":i[9]||(i[9]=r=>F.value=r),label:"İş Emri No","label-mode":"floating","display-expr":"isemri_no","value-expr":"isemri_id",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"isemri_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreOperasyon:o(()=>[s("div",At,[e(a(A),{"data-source":de.value,value:J.value,"onUpdate:value":i[10]||(i[10]=r=>J.value=r),label:"Operasyon","label-mode":"floating","display-expr":"OPERASYON","value-expr":"OPERASYON",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"OPERASYON","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:o(()=>[e(a(ye),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:o(()=>i[17]||(i[17]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-notequal"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),agac:o(()=>[e(gt,{modelValue:K.value,"onUpdate:modelValue":i[11]||(i[11]=r=>K.value=r),label:K.value.toString(),"true-value":"Detaylı","false-value":"Detaysız",color:t.primary,class:"ms-2"},null,8,["modelValue","label","color"])]),yenileTemplate:o(()=>[e(et,{disabled:!ue.value,variant:"outlined",size:"small",class:"ms-2"},{default:o(()=>i[18]||(i[18]=[tt("Listele")])),_:1,__:[18]},8,["disabled"])]),menuYenileTemplate:o(()=>[s("div",{visible:ue.value,style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},i[19]||(i[19]=[s("i",{class:"dx-icon dx-icon-refresh"},null,-1),s("span",{style:{"margin-inline-start":"8px"}},"Yenile",-1)]),8,Et)]),filtreGosterTemplate:o(()=>[e(a(ye),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:o(()=>i[20]||(i[20]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-filter"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:o(()=>[e(a(l),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":Ve}),e(a(l),{"data-field":"mrk_adi",caption:"İŞ MERKEZİ",visible:!0,width:150}),e(a(l),{"data-field":"operasyon",caption:"OPERASYON",visible:!0,width:120}),e(a(l),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:100}),e(a(l),{"data-field":"stok_kodu",caption:"STOK KODU","data-type":"string",visible:!0,width:130}),e(a(l),{"data-field":"stok_adi",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),e(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"ihtiyac",caption:"İHTİYAÇ","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"stok",caption:"STOK","data-type":"number",width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"ana_depo",caption:"ANA DEPO","data-type":"number",width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"depo_ihtiyaci",caption:"DEPO İHTİYACI","data-type":"number",width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"diger_depo",caption:"DİĞER DEPO","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),e(a(l),{"data-field":"satinalma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"talepler",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"dongu",caption:"KAÇ İŞEMRİNDE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(ae(),ve(a(pt),{key:g.value,visible:g.value,"onUpdate:visible":i[0]||(i[0]=r=>g.value=r),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),e(a(lt),{visible:!0}),e(a(rt),{visible:!0}),e(a(ot),{visible:H.value},null,8,["visible"]),e(a(nt),{visible:!0,width:160}),e(a(S),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(a(st),{mode:"multiple"}),e(a(dt),{enabled:!0,"allow-export-selected-data":!1}),e(a(ut),null,{default:o(()=>[e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreTarih1"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreTarih2"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreMerkez"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreIstasyon"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreisEmriNo"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreOperasyon"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"filtreSiparis"}),e(a(p),{location:"before","locate-in-menu":"auto",template:"yenileTemplate","menu-item-template":"menuYenileTemplate",onClick:pe}),e(a(p),{location:"before","locate-in-menu":"auto",template:"agac"}),e(a(p),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:Ne}),e(a(p),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:Oe}),e(a(p),{name:"exportButton"}),e(a(p),{name:"searchPanel"})]),_:1}),e(a(ie),null,{default:o(()=>[e(a(mt),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} çeşit",alignment:t.right},null,8,["alignment"]),e(a(z),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} çeşit",alignment:t.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))])]),_:1})]),_:1})]),_:1}),e(a(I),{visible:M.value,"onUpdate:visible":i[12]||(i[12]=r=>M.value=r),"hide-on-outside-click":!0,title:"Stok Detayları","show-close-button":!1,"show-title":!0,width:600,height:500},{default:o(()=>[e(v,{class:"text-center"},{default:o(()=>[s("h2",null,y(c.value),1),s("h2",null,y(f.value),1)]),_:1}),i[21]||(i[21]=s("br",null,null,-1)),e(P,null,{default:o(()=>[e(v,null,{default:o(()=>[e(a(T),{id:"gridBakiyeler",ref_key:"dataGridRefB",ref:xe,"data-source":V.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",onCellPrepared:t.onCellPreparedB,"row-alternation-enabled":!0},{default:o(()=>[e(a(l),{"data-field":"whouse_id",caption:"DEPO ID",width:80,visible:!1}),e(a(l),{"data-field":"whouse_code",caption:"DEPO KODU",width:100}),e(a(l),{"data-field":"description",caption:"DEPO ADI"}),e(a(l),{"data-field":"qty_prm",caption:"STOK",width:100,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(d,{visible:!1}),e(a(S),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source","onCellPrepared"])]),_:1})]),_:1})]),_:1,__:[21]},8,["visible"]),e(a(I),{visible:L.value,"onUpdate:visible":i[13]||(i[13]=r=>L.value=r),"hide-on-outside-click":!0,title:"Taleplerin Detayı","show-close-button":!1,"show-title":!0,width:800,height:500},{default:o(()=>[e(v,{class:"text-center"},{default:o(()=>[s("h2",null,y(c.value),1),s("h2",null,y(f.value),1)]),_:1}),i[22]||(i[22]=s("br",null,null,-1)),e(P,null,{default:o(()=>[e(v,null,{default:o(()=>[e(a(T),{id:"gridTalepler",ref_key:"dataGridRefT",ref:Te,"data-source":$.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:o(()=>[e(a(l),{"data-field":"talep_no",caption:"TALEP NO",width:100}),e(a(l),{"data-field":"talep_tarihi",caption:"TALEP TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"onay_tarihi",caption:"ONAY TARİHİ","data-type":"date",width:120,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"kaynak",caption:"KAYNAK",width:150}),e(a(l),{"data-field":"tipi",caption:"TİPİ",width:100}),e(a(l),{"data-field":"miktar",caption:"MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(d,{visible:!1}),e(a(S),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[22]},8,["visible"]),e(a(I),{visible:B.value,"onUpdate:visible":i[14]||(i[14]=r=>B.value=r),"hide-on-outside-click":!0,title:"Satınalma Sipariş Detayı","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:o(()=>[e(v,{class:"text-center"},{default:o(()=>[s("h2",null,y(c.value),1),s("h2",null,y(f.value),1)]),_:1}),i[23]||(i[23]=s("br",null,null,-1)),e(P,null,{default:o(()=>[e(v,null,{default:o(()=>[e(a(T),{id:"gridSatinalma",ref_key:"dataGridRefS",ref:_e,"data-source":Y.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:o(()=>[e(a(l),{"data-field":"BELGE_NO",caption:"BELGE NO",width:100}),e(a(l),{"data-field":"BELGE_TARIHI",caption:"BELGE TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"satici_adi",caption:"SATICI",width:100}),e(a(l),{"data-field":"sip_olusturan",caption:"OLUŞTURAN",width:100}),e(a(l),{"data-field":"CARI_AD",caption:"CARİ ADI",width:280}),e(a(l),{"data-field":"sevk_tarihi",caption:"SEVK TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"teslim_tarihi",caption:"TESLİM TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"teslim_tarihi_not",caption:"T.T. NOT",width:80}),e(a(l),{"data-field":"MIKTAR",caption:"SPR. MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"BIRIM_KOD",caption:"BİRİM",width:60}),e(a(l),{"data-field":"KALAN_MIKTAR",caption:"KALAN MİKTAR",width:100,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(d,{visible:!1}),e(a(S),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[23]},8,["visible"]),e(a(I),{visible:G.value,"onUpdate:visible":i[15]||(i[15]=r=>G.value=r),"hide-on-outside-click":!0,title:"Açılmış İş Emirleri","show-close-button":!1,"show-title":!0,width:1e3,height:600},{default:o(()=>[e(v,{class:"text-center"},{default:o(()=>[s("h2",null,y(c.value),1),s("h2",null,y(f.value),1)]),_:1}),i[24]||(i[24]=s("br",null,null,-1)),e(P,null,{default:o(()=>[e(v,null,{default:o(()=>[e(a(T),{id:"gridAcilmisEmirler",ref:"dataGridRefA","data-source":U.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%",height:400},{default:o(()=>[e(a(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(a(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:270,visible:!0}),e(a(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(a(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(a(l),{"data-field":"stok_id",caption:"STOK ID",width:100,visible:!1}),e(a(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:120,visible:!1}),e(a(l),{"data-field":"stok_adi",caption:"STOK ADI",visible:!1}),e(a(l),{"data-field":"planlanan_bitis_tarihi",caption:"PLN BTŞ","data-type":"date",width:110,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MKTRI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(l),{"data-field":"kalan_miktar",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(a(ie),null,{default:o(()=>[e(a(z),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":me},null,8,["alignment"]),e(a(z),{"align-by-column":!0,column:"kalan_miktar","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":me},null,8,["alignment"])]),_:1}),e(d,{visible:!1}),e(a(S),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[24]},8,["visible"]),e(a(I),{visible:O.value,"onUpdate:visible":i[16]||(i[16]=r=>O.value=r),"hide-on-outside-click":!0,title:"Kullanan İş Emirleri","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:o(()=>[e(v,{class:"text-center"},{default:o(()=>[s("h2",null,y(c.value),1),s("h2",null,y(f.value),1)]),_:1}),i[25]||(i[25]=s("br",null,null,-1)),e(P,null,{default:o(()=>[e(v,null,{default:o(()=>[e(a(T),{id:"gridEmirler",ref_key:"dataGridRefE",ref:De,"data-source":Le(),"show-borders":!0,"column-auto-width":!1,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:o(()=>[e(a(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(a(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:150,visible:!0}),e(a(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(a(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(a(l),{"data-field":"stok_id",caption:"STOK ID",visible:!1,width:50}),e(a(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:150}),e(a(l),{"data-field":"stok_adi",caption:"STOK ADI",width:t.auto},null,8,["width"]),e(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(a(l),{"data-field":"kalan",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(a(ie),null,{default:o(()=>[e(a(z),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"]),e(a(z),{"align-by-column":!0,column:"kalan","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"])]),_:1}),e(d,{visible:!1}),e(a(S),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[25]},8,["visible"])],64)}}});export{ga as default};
