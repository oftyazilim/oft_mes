import{d as lt,r as s,aO as rt,A as ot,c as nt,b as e,f as r,u as t,F as st,aI as k,e as n,g as W,k as w,a as dt,o as F}from"./main-Do_EEeaU.js";import{D as l,h as he,i as we,j as ke,k as xe,d as x,l as _e,m as De,b as Te,q as ne,r as Se,t as q,s as _}from"./data-grid-BQ4a7u-d.js";import{D as E}from"./button-DAtfDNal.js";import{D as R}from"./select-box-DqeA75fr.js";import{D as Ae}from"./load-panel-C1ouZFGE.js";import{e as ut}from"./export_data_grid-DfLel7OR.js";import"./overlay-DnbPrWeY.js";import"./m_select_box-D0u5Mf1k.js";import"./m_row_dragging-BxKAL-qG.js";import{D as v}from"./tabs-Crje54uF.js";import{e as mt}from"./exceljs.min-BquV-Ntc.js";import{s as pt}from"./FileSaver-CQu8bA20.js";import{D as ze}from"./context-menu-Bfbe1YtH.js";import{u as ct}from"./pageTitle-B7icIlhD.js";import{D as J}from"./date-box-CneIt6cK.js";import{a as G}from"./popup-DW-uyodG.js";import{V as ft}from"./VCard-Cr7Zu6A8.js";import{V as vt}from"./VCardText-Bo3ADCXR.js";import{V as y}from"./VCol-wkeDmv9J.js";import{V as N}from"./VRow-07WExCAv.js";import"./editor-DoOc0su0.js";import"./themes-UUA7mPQe.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createSimpleFunctional-DilE7x-C.js";import"./VAvatar-BvjilrSr.js";import"./VImg-CORTftTQ.js";import"./index-NBzQHe__.js";/* empty css              */const yt={id:"liste",style:{"margin-block-end":"10px","margin-block-start":"-10px"}},gt={style:{"margin-top":"-10px"}},bt={style:{"margin-top":"-10px","margin-left":"5px"}},ht={style:{"inline-size":"200px","margin-top":"-10px","margin-left":"5px"}},wt={style:{"inline-size":"200px","margin-top":"-10px","margin-left":"5px"}},kt={style:{"inline-size":"160px","margin-top":"-10px","margin-left":"5px"}},xt={style:{"inline-size":"200px","margin-top":"-10px","margin-left":"5px"}},_t={id:"liste",style:{"margin-block-end":"10px","margin-block-start":"-10px"}},Dt={style:{"margin-top":"-10px"}},Tt={style:{"margin-top":"-10px","margin-left":"5px"}},St={style:{"inline-size":"160px","margin-top":"-10px","margin-left":"5px"}},At={style:{"inline-size":"200px","margin-top":"-10px","margin-left":"5px"}},ra=lt({__name:"ihtiyac-listesi-siparis",setup(zt){const se=a=>{if(!a)return null;const i=new Date(a),c=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),f=String(i.getDate()).padStart(2,"0");return`${c}-${o}-${f}`},Ee=ct(),I=s(!1),P=s(!1),j=s(!1),B=s(!1),V=s(!1),u=s(!1),Z=s([]),Q=s([]),X=s([]),de=s([]),L=s([]),Y=s([]),Re=s(Date.now()),Ie=s(Date.now()),D=rt("userData"),M=s(null),Pe=s(null),Me=s(null),Ke=s(null),Ce=s(null),U=s(null);s(null);const $=s(!0);s(!1),s(0);const K=s(0);s(!1);const m=s(0),p=s(""),ue=s([]),C=s(0),me=s([]),H=s(0),T=s(""),ee=s([]),S=s(""),te=s([]),A=new Date,ae=new Date(A);ae.setDate(A.getDate()-A.getDay()+1);const ie=new Date(A);ie.setDate(A.getDate()-A.getDay()+7);const g=s([ae,ie]),b=s(ae),h=s(ie),O=s([]),d=s(null);document.title="OFT - İhtiyaç Listesi";function pe(a){return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:1}).format(a.value)}const le=async()=>{Q.value=[],X.value=[],await Fe(),await Oe()},Oe=async()=>{g.value=[b.value,h.value],b.value=g.value[0]instanceof Date?g.value[0]:new Date(g.value[0]),h.value=g.value[1]instanceof Date?g.value[1]:new Date(g.value[1]),u.value=!0;try{const a=await k.get("/api/siparis-ihtiyaclar",{params:{filterValue:b.value,filterValue1:h.value,istasyonID:C.value,siparis:T.value,cari:S.value}});X.value=a.data.emirler}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}finally{u.value=!1}},Fe=async()=>{g.value=[b.value,h.value],b.value=se(g.value[0]),h.value=se(g.value[1]),u.value=!0;try{const a=await k.get("/api/istasyon-ihtiyaclar",{params:{filterValue:b.value,filterValue1:h.value,merkezID:H.value,istasyonID:C.value,siparis:T.value,cari:S.value}});Q.value=a.data.emirler,de.value=a.data.dagilim}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}finally{u.value=!1}},Ge=async()=>{u.value=!0;try{const a=await k.get("/api/merkezal");me.value=a.data.merkezler,ee.value=a.data.siparisler,te.value=a.data.cariler}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}finally{u.value=!1}},Ne=async()=>{C.value=0,u.value=!0;try{const a=await k.get("/api/istasyonal",{params:{ismerkezi:H.value}});ue.value=a.data.istasyonlar}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}finally{u.value=!1}},Be=async a=>{u.value=!0;try{const i=await k.get("/api/isEmriAcilmislar",{params:{item_id:a}});Z.value=i.data.data}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}finally{u.value=!1}};ot(async()=>{Ee.setTitle("Malzeme İhtiyaç Listesi (Satınalma)"),ce(),Ge(),He()});const ce=()=>{var i;const a=localStorage.getItem(`${D.value.id}_malzemeler`);a&&((i=M.value)==null||i.instance.state(JSON.parse(a)))},Ve=()=>{var i;const a=(i=M.value)==null?void 0:i.instance.state();localStorage.setItem(`${D.value.id}_malzemeler`,JSON.stringify(a))},Le=()=>{localStorage.removeItem(`${D.value.id}_malzemeler`),M.value.instance.state(null)},Ye=()=>{var i;const a=localStorage.getItem(`${D.value.id}_sip_malzemeler`);a&&((i=U.value)==null||i.instance.state(JSON.parse(a)))},Ue=()=>{var i;const a=(i=U.value)==null?void 0:i.instance.state();localStorage.setItem(`${D.value.id}_sip_malzemeler`,JSON.stringify(a))},$e=()=>{localStorage.removeItem(`${D.value.id}_sip_malzemeler`),U.value.instance.state(null)},He=()=>{const a=new Date,i=a.getFullYear()%100,c=new Date(a.getFullYear(),0,4),o=new Date(c);o.setDate(c.getDate()-(c.getDay()+6)%7);const f=Math.floor((a.getTime()-o.getTime())/864e5),oe=Math.floor(f/7)+1;return`${i}-${oe.toString().padStart(2,"0")}`},fe=()=>{$.value=!$.value},ve=()=>{var a;(a=M.value)==null||a.instance.clearFilter()},We=a=>{a.rowType==="data"&&(a.column.dataField==="talepler"||a.column.dataField==="satinalma"||a.column.dataField==="stok"||a.column.dataField==="ana_depo"||a.column.dataField==="diger_depo")&&a.value>0&&(a.cellElement.style.fontWeight="bold"),a.rowType==="data"&&a.column.dataField==="stok"&&Number(a.data.stok)<Number(a.data.ihtiyac)&&(a.cellElement.style.backgroundColor="orange"),a.rowType==="data"&&a.column.dataField==="ana_depo"&&Number(a.data.ana_depo)+Number(a.data.stok)<Number(a.data.ihtiyac)&&(a.cellElement.style.backgroundColor="#ff6e00",a.cellElement.style.color="white"),a.rowType==="data"&&a.column.dataField==="diger_depo"&&Number(a.data.diger_depo)+Number(a.data.ana_depo)+Number(a.data.stok)<Number(a.data.ihtiyac)&&(a.cellElement.style.backgroundColor="#ff5400",a.cellElement.style.color="white"),a.rowType==="data"&&a.column.dataField==="bakiye"&&a.value<0&&(a.cellElement.style.fontWeight="bold",a.cellElement.style.backgroundColor="red",a.cellElement.style.color="white")},qe=a=>{if(a.rowIndex===-1)return;const i=a.row.data;d.value=i},Je=a=>{if(a.rowIndex===-1)return;const i=a.row.data;d.value=i},je=a=>{const i=new mt.Workbook,c=i.addWorksheet("MalzemeListesi");ut({component:a.component,worksheet:c,autoFilterEnabled:!0}).then(()=>{i.xlsx.writeBuffer().then(o=>{pt(new Blob([o],{type:"application/octet-stream"}),"MalzemeListesi.xlsx")})}),a.cancel=!0},ye=(a,i)=>{a.innerText=i.text;const c=i.data.tipi,o=(it,Rt)=>{const z=document.createElement("span");return z.className="dx-icon dx-icon-isnotblank",z.style.marginRight="8px",z.style.color=it,z.style.fontSize="16",z.style.display="inline-flex",z};let f;switch(c){case"Hammadde":f="gold";break;case"YarıMamul":f="limegreen";break;case"Mamul":f="green";break;case"Ticari":f="gray";break}const oe=o(f);a.insertBefore(oe,a.firstChild)},Ze=[{text:"Yenile"},{text:"Hangi İş Emirlerinde"},{text:"Açılmış İş Emirleri"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function Qe({itemData:a}){if(!(a!=null&&a.items))switch(a==null?void 0:a.text){case"Yenile":le();break;case"Hangi İş Emirlerinde":K.value=d.value.item_id,m.value=d.value.stok_kodu,p.value=d.value.stok_adi,P.value=!0;break;case"Açılmış İş Emirleri":K.value=d.value.item_id,m.value=d.value.stok_kodu,p.value=d.value.stok_adi,Z.value=[],Be(d.value.item_id),j.value=!0;break;case"Stok Detayları":O.value=[],m.value=d.value.stok_kodu,p.value=d.value.stok_adi,re(d.value.item_id),I.value=!0;break;case"Satınalma Sipariş Detayları":L.value=[],m.value=d.value.stok_kodu,p.value=d.value.stok_adi,ge(d.value.item_id),B.value=!0;break;case"Satınalma Talep Detayları":Y.value=[],m.value=d.value.stok_kodu,p.value=d.value.stok_adi,be(d.value.item_id),V.value=!0;break;case"Düzen Yükle":ce();break;case"Düzen Kaydet":Ve();break;case"Düzen Sıfırla":Le();break}}const Xe=[{text:"Yenile"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function et({itemData:a}){if(!(a!=null&&a.items))switch(a==null?void 0:a.text){case"Yenile":le();break;case"İş Emirleri Detayları":K.value=d.value.item_id,m.value=d.value.stok_kodu,p.value=d.value.stok_adi,P.value=!0;break;case"Stok Detayları":O.value=[],m.value=d.value.stok_kodu,p.value=d.value.stok_adi,re(d.value.item_id),I.value=!0;break;case"Satınalma Sipariş Detayları":L.value=[],m.value=d.value.stok_kodu,p.value=d.value.stok_adi,ge(d.value.item_id),B.value=!0;break;case"Satınalma Talep Detayları":Y.value=[],m.value=d.value.stok_kodu,p.value=d.value.stok_adi,be(d.value.item_id),V.value=!0;break;case"Düzen Yükle":Ye();break;case"Düzen Kaydet":Ue();break;case"Düzen Sıfırla":$e();break}}const tt=()=>de.value.filter(a=>a.item_id===K.value),at=a=>{a.rowType==="data"&&a.column.dataField==="diger_depo"&&(O.value=[],m.value=a.data.stok_kodu,p.value=a.data.stok_adi,re(a.data.item_id),I.value=!0),a.rowType==="data"&&a.column.dataField==="dongu"&&(K.value=a.data.item_id,m.value=a.data.stok_kodu,p.value=a.data.stok_adi,P.value=!0)},ge=async a=>{try{const i=await k.get("/api/satinalmasorgu",{params:{item_id:a}});L.value=i.data.satinalma}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},be=async a=>{try{const i=await k.get("/api/taleplersorgu",{params:{item_id:a}});Y.value=i.data.talepler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},re=async a=>{try{const i=await k.get("/api/digerdepobakiyeleri",{params:{item_id:a}});O.value=i.data.bakiyeler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}};return(a,i)=>{const c=dt("DxGroupPanel");return F(),nt(st,null,[e(ft,{class:"mt-0 pa-0"},{default:r(()=>[e(vt,{class:"mt-0 pa-2"},{default:r(()=>[e(y,{cols:"12",class:"mt-2 pa-1 pe-2 pt-0"},{default:r(()=>[n("div",yt,[e(t(ze),{"data-source":Ze,width:200,target:"#gridM",onItemClick:Qe}),(F(),W(t(_),{id:"gridM",ref_key:"dataGridRefM",ref:M,key:Re.value,class:"grid","data-source":Q.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":!0,"row-alternation-enabled":!0,"min-width":200,"allow-column-reordering":!0,"column-auto-width":!0,"allow-column-resizing":!0,onContextMenuPreparing:qe,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%",onCellPrepared:We,onExporting:je,onCellClick:at},{filtreTarih1:r(()=>[n("div",gt,[e(t(J),{label:"Başlangıç Tarihi",width:"150","label-mode":"floating",value:b.value,"onUpdate:value":i[1]||(i[1]=o=>b.value=o),type:"date"},null,8,["value"])])]),filtreTarih2:r(()=>[n("div",bt,[e(t(J),{label:"Bitiş Tarihi",width:"150","label-mode":"floating",value:h.value,"onUpdate:value":i[2]||(i[2]=o=>h.value=o),type:"date"},null,8,["value"])])]),filtreMerkez:r(()=>[n("div",ht,[e(t(R),{"data-source":me.value,value:H.value,"onUpdate:value":i[3]||(i[3]=o=>H.value=o),"show-clear-button":!0,label:"İş Merkezi","label-mode":"floating","display-expr":"mrk_adi","value-expr":"is_merkezi_id",onValueChanged:i[4]||(i[4]=o=>Ne()),style:{"inline-size":"100%"},"search-mode":"contains","search-expr":"mrk_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreIstasyon:r(()=>[n("div",wt,[e(t(R),{"data-source":ue.value,value:C.value,"onUpdate:value":i[5]||(i[5]=o=>C.value=o),label:"İstasyon","label-mode":"floating","display-expr":"ist_adi","value-expr":"istasyon_id",style:{"inline-size":"100%"},"search-mode":"contains","search-expr":"ist_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreSiparis:r(()=>[n("div",kt,[e(t(R),{"data-source":ee.value,value:T.value,"onUpdate:value":i[6]||(i[6]=o=>T.value=o),label:"Sipariş","label-mode":"floating","display-expr":"siparis_belge_no","value-expr":"siparis_belge_no",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"siparis_belge_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:r(()=>[n("div",xt,[e(t(R),{"data-source":te.value,value:S.value,"onUpdate:value":i[7]||(i[7]=o=>S.value=o),label:"Cari","label-mode":"floating","display-expr":"cari_ad","value-expr":"cari_ad",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"cari_ad","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:r(()=>[e(t(E),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:r(()=>i[18]||(i[18]=[n("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[n("i",{class:"dx-icon dx-icon-notequal"}),n("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),yenileTemplate:r(()=>[e(t(E),{id:"sayim",icon:"refresh","styling-mode":"text",hint:"Yenile"})]),menuYenileTemplate:r(()=>i[19]||(i[19]=[n("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[n("i",{class:"dx-icon dx-icon-refresh"}),n("span",{style:{"margin-inline-start":"8px"}},"Yenile")],-1)])),filtreGosterTemplate:r(()=>[e(t(E),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:r(()=>i[20]||(i[20]=[n("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[n("i",{class:"dx-icon dx-icon-filter"}),n("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:r(()=>[e(t(l),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":ye}),e(t(l),{"data-field":"satinalmapersoneli",caption:"SATICI",visible:!0,width:80}),e(t(l),{"data-field":"mrk_adi",caption:"İŞ MERKEZİ",visible:!0,width:150}),e(t(l),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:80}),e(t(l),{"data-field":"stok_kodu",caption:"STOK KODU","data-type":"string",visible:!0,width:130}),e(t(l),{"data-field":"stok_adi",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),e(t(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"ihtiyac",caption:"İHTİYAÇ","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"stok",caption:"STOK","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"ana_depo",caption:"ANA DEPO","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"diger_depo",caption:"DİĞER DEPO","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),e(t(l),{"data-field":"satinalma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"talepler",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"dongu",caption:"KAÇ İŞEMRİNDE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(F(),W(t(Ae),{key:u.value,visible:u.value,"onUpdate:visible":i[0]||(i[0]=o=>u.value=o),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),e(t(he),{visible:!0}),e(t(we),{visible:!0}),e(t(ke),{visible:$.value},null,8,["visible"]),e(t(xe),{visible:!0,width:240}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(t(_e),{mode:"multiple"}),e(t(De),{enabled:!0,"allow-export-selected-data":!1}),e(t(Te),null,{default:r(()=>[e(t(v),{location:"before","locate-in-menu":"auto",template:"filtreTarih1"}),e(t(v),{location:"before","locate-in-menu":"auto",template:"filtreTarih2"}),e(t(v),{location:"before","locate-in-menu":"auto",template:"filtreMerkez"}),e(t(v),{location:"before","locate-in-menu":"auto",template:"filtreIstasyon"}),e(t(v),{location:"before","locate-in-menu":"auto",template:"filtreSiparis"}),e(t(v),{location:"before","locate-in-menu":"auto",template:"filtreCari"}),e(t(v),{location:"before","locate-in-menu":"auto",template:"yenileTemplate","menu-item-template":"menuYenileTemplate",onClick:le}),e(t(v),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:ve}),e(t(v),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:fe}),e(t(v),{name:"exportButton"}),e(t(v),{name:"searchPanel"})]),_:1}),e(t(ne),null,{default:r(()=>[e(t(Se),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:a.right},null,8,["alignment"]),e(t(q),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:a.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))]),n("div",_t,[e(t(ze),{"data-source":Xe,width:200,target:"#gridSA",onItemClick:et}),(F(),W(t(_),{id:"gridSA",ref_key:"dataGridRefSA",ref:U,key:Ie.value,class:"grid","data-source":X.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":!0,"row-alternation-enabled":!0,"min-width":200,"allow-column-reordering":!0,"column-auto-width":!0,"allow-column-resizing":!0,onContextMenuPreparing:Je,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%"},{filtreTarih1:r(()=>[n("div",Dt,[e(t(J),{label:"Başlangıç Tarihi",width:"150","label-mode":"floating",value:b.value,"onUpdate:value":i[9]||(i[9]=o=>b.value=o),type:"date"},null,8,["value"])])]),filtreTarih2:r(()=>[n("div",Tt,[e(t(J),{label:"Bitiş Tarihi",width:"150","label-mode":"floating",value:h.value,"onUpdate:value":i[10]||(i[10]=o=>h.value=o),type:"date"},null,8,["value"])])]),filtreSiparis:r(()=>[n("div",St,[e(t(R),{"data-source":ee.value,value:T.value,"onUpdate:value":i[11]||(i[11]=o=>T.value=o),label:"Sipariş","label-mode":"floating","display-expr":"BELGE_NO","value-expr":"BELGE_NO",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"BELGE_NO","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:r(()=>[n("div",At,[e(t(R),{"data-source":te.value,value:S.value,"onUpdate:value":i[12]||(i[12]=o=>S.value=o),label:"Cari","label-mode":"floating","display-expr":"CARI_AD","value-expr":"CARI_AD",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"CARI_AD","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:r(()=>[e(t(E),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:r(()=>i[21]||(i[21]=[n("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[n("i",{class:"dx-icon dx-icon-notequal"}),n("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),yenileTemplate:r(()=>[e(t(E),{id:"sayim",icon:"refresh","styling-mode":"text",hint:"Yenile"})]),menuYenileTemplate:r(()=>i[22]||(i[22]=[n("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[n("i",{class:"dx-icon dx-icon-refresh"}),n("span",{style:{"margin-inline-start":"8px"}},"Yenile")],-1)])),filtreGosterTemplate:r(()=>[e(t(E),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:r(()=>i[23]||(i[23]=[n("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[n("i",{class:"dx-icon dx-icon-filter"}),n("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:r(()=>[e(t(l),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":ye}),e(t(l),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:80}),e(t(l),{"data-field":"item_code",caption:"STOK KODU","data-type":"string",visible:!0,width:180}),e(t(l),{"data-field":"belge_no",caption:"SPR. NO",visible:!0,width:80}),e(t(l),{"data-field":"item_name",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),e(t(l),{"data-field":"miktar",caption:"SİPARİŞ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"rezerv",caption:"REZERV MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"ana_depo",caption:"ANA DEPO","data-type":"number",visible:!0,width:120,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"diger_depo",caption:"DİĞER DEPO","data-type":"number",visible:!0,width:120,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:120,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),e(t(l),{"data-field":"satin_alma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"talep",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(F(),W(t(Ae),{key:u.value,visible:u.value,"onUpdate:visible":i[8]||(i[8]=o=>u.value=o),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),e(t(he),{visible:!0}),e(t(we),{visible:!0}),e(t(ke),{visible:$.value},null,8,["visible"]),e(t(xe),{visible:!0,width:240}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(t(_e),{mode:"multiple"}),e(t(De),{enabled:!0,"allow-export-selected-data":!1}),e(t(Te),null,{default:r(()=>[e(t(v),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:ve}),e(t(v),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:fe}),e(t(v),{name:"exportButton"}),e(t(v),{name:"searchPanel"})]),_:1}),e(t(ne),null,{default:r(()=>[e(t(Se),{"align-by-column":!0,column:"item_name","summary-type":"count","display-format":"{0} adet",alignment:a.right},null,8,["alignment"]),e(t(q),{"align-by-column":!0,column:"item_name","summary-type":"count","display-format":"{0} adet",alignment:a.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))])]),_:1})]),_:1})]),_:1}),e(t(G),{visible:I.value,"onUpdate:visible":i[13]||(i[13]=o=>I.value=o),"hide-on-outside-click":!0,title:"Diğer Depo Bakiyeleri","show-close-button":!1,"show-title":!0,width:600,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[n("h2",null,w(m.value),1),n("h2",null,w(p.value),1)]),_:1}),i[24]||(i[24]=n("br",null,null,-1)),e(N,null,{default:r(()=>[e(y,null,{default:r(()=>[e(t(_),{id:"gridBakiyeler",ref_key:"dataGridRefB",ref:Pe,"data-source":O.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",onCellPrepared:a.onCellPreparedB,"row-alternation-enabled":!0},{default:r(()=>[e(t(l),{"data-field":"whouse_id",caption:"DEPO ID",width:80,visible:!1}),e(t(l),{"data-field":"whouse_code",caption:"DEPO KODU",width:100}),e(t(l),{"data-field":"description",caption:"DEPO ADI"}),e(t(l),{"data-field":"qty_prm",caption:"STOK",width:80,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(c,{visible:!1}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source","onCellPrepared"])]),_:1})]),_:1})]),_:1,__:[24]},8,["visible"]),e(t(G),{visible:V.value,"onUpdate:visible":i[14]||(i[14]=o=>V.value=o),"hide-on-outside-click":!0,title:"Taleplerin Detayı","show-close-button":!1,"show-title":!0,width:800,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[n("h2",null,w(m.value),1),n("h2",null,w(p.value),1)]),_:1}),i[25]||(i[25]=n("br",null,null,-1)),e(N,null,{default:r(()=>[e(y,null,{default:r(()=>[e(t(_),{id:"gridTalepler",ref_key:"dataGridRefT",ref:Ce,"data-source":Y.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(t(l),{"data-field":"talep_no",caption:"TALEP NO",width:100}),e(t(l),{"data-field":"talep_tarihi",caption:"TALEP TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(t(l),{"data-field":"onay_tarihi",caption:"ONAY TARİHİ","data-type":"date",width:120,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(t(l),{"data-field":"kaynak",caption:"KAYNAK",width:150}),e(t(l),{"data-field":"tipi",caption:"TİPİ",width:100}),e(t(l),{"data-field":"miktar",caption:"MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(c,{visible:!1}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[25]},8,["visible"]),e(t(G),{visible:B.value,"onUpdate:visible":i[15]||(i[15]=o=>B.value=o),"hide-on-outside-click":!0,title:"Satınalma Sipariş Detayı","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[n("h2",null,w(m.value),1),n("h2",null,w(p.value),1)]),_:1}),i[26]||(i[26]=n("br",null,null,-1)),e(N,null,{default:r(()=>[e(y,null,{default:r(()=>[e(t(_),{id:"gridSatinalma",ref_key:"dataGridRefS",ref:Ke,"data-source":L.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(t(l),{"data-field":"BELGE_NO",caption:"BELGE NO",width:100}),e(t(l),{"data-field":"BELGE_TARIHI",caption:"BELGE TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(t(l),{"data-field":"satici_adi",caption:"SATICI",width:100}),e(t(l),{"data-field":"sip_olusturan",caption:"OLUŞTURAN",width:100}),e(t(l),{"data-field":"CARI_AD",caption:"CARİ ADI",width:280}),e(t(l),{"data-field":"sevk_tarihi",caption:"SEVK TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(t(l),{"data-field":"teslim_tarihi",caption:"TESLİM TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(t(l),{"data-field":"teslim_tarihi_not",caption:"T.T. NOT",width:80}),e(t(l),{"data-field":"MIKTAR",caption:"SPR. MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"BIRIM_KOD",caption:"BİRİM",width:60}),e(t(l),{"data-field":"KALAN_MIKTAR",caption:"KALAN MİKTAR",width:100,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(c,{visible:!1}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[26]},8,["visible"]),e(t(G),{visible:j.value,"onUpdate:visible":i[16]||(i[16]=o=>j.value=o),"hide-on-outside-click":!0,title:"Açılmış İş Emirleri","show-close-button":!1,"show-title":!0,width:1e3,height:600},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[n("h2",null,w(m.value),1),n("h2",null,w(p.value),1)]),_:1}),i[27]||(i[27]=n("br",null,null,-1)),e(N,null,{default:r(()=>[e(y,null,{default:r(()=>[e(t(_),{id:"gridAcilmisEmirler",ref:"dataGridRefA","data-source":Z.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%",height:400},{default:r(()=>[e(t(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(t(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:270,visible:!0}),e(t(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(t(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(t(l),{"data-field":"stok_id",caption:"STOK ID",width:100,visible:!1}),e(t(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:120,visible:!1}),e(t(l),{"data-field":"stok_adi",caption:"STOK ADI",visible:!1}),e(t(l),{"data-field":"planlanan_bitis_tarihi",caption:"PLN BTŞ","data-type":"date",width:110,visible:!0,format:{formatter:o=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(t(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MKTRI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(l),{"data-field":"kalan_miktar",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(t(ne),null,{default:r(()=>[e(t(q),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":" Tpl: {0}",alignment:a.right,"customize-text":pe},null,8,["alignment"]),e(t(q),{"align-by-column":!0,column:"kalan_miktar","summary-type":"sum","display-format":" Tpl: {0}",alignment:a.right,"customize-text":pe},null,8,["alignment"])]),_:1}),e(c,{visible:!1}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[27]},8,["visible"]),e(t(G),{visible:P.value,"onUpdate:visible":i[17]||(i[17]=o=>P.value=o),"hide-on-outside-click":!0,title:"Kullanan İş Emirleri","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(y,{class:"text-center"},{default:r(()=>[n("h2",null,w(m.value),1),n("h2",null,w(p.value),1)]),_:1}),i[28]||(i[28]=n("br",null,null,-1)),e(N,null,{default:r(()=>[e(y,null,{default:r(()=>[e(t(_),{id:"gridEmirler",ref_key:"dataGridRefE",ref:Me,"data-source":tt(),"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(t(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(t(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:150,visible:!0}),e(t(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(t(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(t(l),{"data-field":"stok_id",caption:"STOK ID",visible:!1}),e(t(l),{"data-field":"stok_kodu",caption:"STOK KODU"}),e(t(l),{"data-field":"stok_adi",caption:"STOK ADI"}),e(t(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI",width:150,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(t(l),{"data-field":"kalan",caption:"KALAN MİKTAR",width:150,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(c,{visible:!1}),e(t(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[28]},8,["visible"])],64)}}});export{ra as default};
