import{a as J}from"./formatters-wLeIh16p.js";import{_ as K}from"./TablePagination.vue_vue_type_script_setup_true_lang-mlTLyGZN.js";import{_ as W}from"./MoreBtn.vue_vue_type_script_setup_true_lang-B5Vo8lDC.js";import{_ as Y}from"./AppTextField.vue_vue_type_script_setup_true_lang-Bt60128y.js";import{_ as Z}from"./AppSelect.vue_vue_type_script_setup_true_lang-DvyUs27V.js";import{u as ee}from"./useApi-Ca4WbGqB.js";import{c as te}from"./createUrl-CMWLRU0J.js";import{$ as ae}from"./api-BaG_qSR2.js";import{V as I,a as oe}from"./VCard-jOSqDFZy.js";import{V as N}from"./VCardText-BTgV4Yj0.js";import{V as le}from"./VRow-GpTmeG2Y.js";import{d as ie,r as p,aX as ne,D,c as _,l as i,b as o,f as l,F,ay as se,e as n,T as re,aF as v,aE as b,a as L,y as k,g as $,p as s,ai as ce,o as r,m as pe,az as de}from"./main-B6i6dty6.js";import{V as R}from"./VDivider-DloX-zeB.js";import{V as ue}from"./VDataTableServer-B35Z5rs-.js";import{V as me}from"./VChip-DL9IkIeV.js";import{V as C}from"./VAvatar-FumarS5E.js";import{V as ve}from"./VImg-Bd80kkMc.js";import{V as fe}from"./VTooltip-qtIZabZE.js";import{V as _e}from"./VCol-DxrLDpzA.js";import"./helpers-BGv4x_9E.js";import"./VPagination-0xDZa-Ji.js";import"./VMenu-DPg1S_zJ.js";import"./VOverlay-t35WJ_H0.js";import"./easing-Bybner-F.js";import"./delay-DDoX-FYH.js";import"./lazy-C47masz6.js";import"./scopeId-COhFSpGd.js";import"./index-ejyjG1Sy.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-YFZtB8lp.js";import"./VList-BpEisPC2.js";import"./ssrBoot-BcK0LX2G.js";import"./createSimpleFunctional-DvncLQDF.js";import"./form-DTfmPQ_9.js";import"./VTextField--peWYyMB.js";/* empty css                   */import"./VCounter-C7UQnJ-t.js";import"./VField--DKjM9jv.js";import"./VInput-m6lXfH74.js";import"./VSelect-TqOdvFQB.js";import"./VCheckboxBtn-IWHDvz8c.js";import"./VSelectionControl-CpC3U0wk.js";import"./index-CvOPxmL5.js";import"./index-DWzD-w9h.js";/* empty css              */import"./VDataTable-DnqdHaaY.js";import"./VTable-C5LJLGi8.js";import"./filter-CUXoEex9.js";import"./VSlideGroup-BCHG3aTP.js";const be={key:0},ye={class:"d-flex flex-column"},ge={class:"text-h4"},he={class:"text-body-1 text-capitalize"},xe={class:"d-flex gap-4 align-center flex-wrap"},Ve={class:"d-flex align-center gap-2"},ke={class:"d-flex align-center flex-wrap gap-4"},we={class:"invoice-list-filter"},Ie={class:"invoice-list-filter"},De={class:"mb-0"},$e={class:"mb-0"},Ce={class:"mb-0"},Pe={class:"d-flex align-center"},Be={key:1},Se={class:"d-flex flex-column"},Te={class:"text-sm text-medium-emphasis"},Ue={key:1,class:"text-base text-high-emphasis"},ze={key:1},St=ie({__name:"index",async setup(Ae){let g,P;const h=p(""),x=p(null),y=p([]),d=p(10),u=p(1),B=p(),S=p(),M=t=>{var a,m;B.value=(a=t.sortBy[0])==null?void 0:a.key,S.value=(m=t.sortBy[0])==null?void 0:m.order},V=p([{title:"Clients",value:24,icon:"tabler-user"},{title:"Invoices",value:165,icon:"tabler-file-invoice"},{title:"Paid",value:"$2.46k",icon:"tabler-checks"},{title:"Unpaid",value:"$876",icon:"tabler-circle-off"}]),j=[{title:"#",key:"id"},{title:"Status",key:"status",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:T,execute:q}=([g,P]=ne(()=>ee(te("/apps/invoice",{query:{q:h,status:x,itemsPerPage:d,page:u,sortBy:B,orderBy:S}}))),g=await g,P(),g),U=D(()=>{var t;return((t=T.value)==null?void 0:t.invoices)||[]}),z=D(()=>{var t;return((t=T.value)==null?void 0:t.totalInvoices)||0}),f=(t,a)=>t===a?{status:"Unpaid",chip:{color:"error"}}:t===0?{status:"Paid",chip:{color:"success"}}:{status:t,chip:{variant:"text"}},w=t=>t==="Partial Payment"?{variant:"warning",icon:"tabler-chart-pie-2"}:t==="Paid"?{variant:"success",icon:"tabler-check"}:t==="Downloaded"?{variant:"info",icon:"tabler-arrow-down"}:t==="Draft"?{variant:"primary",icon:"tabler-folder"}:t==="Sent"?{variant:"secondary",icon:"tabler-mail"}:t==="Past Due"?{variant:"error",icon:"tabler-help"}:{variant:"secondary",icon:"tabler-x"},O=D(()=>t=>[{title:"Download",value:"download",prependIcon:"tabler-download"},{title:"Edit",value:"edit",prependIcon:"tabler-pencil",to:{name:"apps-invoice-edit-id",params:{id:t}}},{title:"Duplicate",value:"duplicate",prependIcon:"tabler-layers-intersect"}]),Q=async t=>{await ae(`/apps/invoice/${t}`,{method:"DELETE"});const a=y.value.findIndex(m=>m===t);a!==-1&&y.value.splice(a,1),q()};return(t,a)=>{const m=Z,X=Y,A=L("RouterLink"),E=L("IconBtn"),G=W,H=K;return i(U)?(r(),_("section",be,[o(I,{class:"mb-6"},{default:l(()=>[o(N,{class:"px-3"},{default:l(()=>[o(le,null,{default:l(()=>[(r(!0),_(F,null,se(i(V),(e,c)=>(r(),_(F,{key:c},[o(_e,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:l(()=>[n("div",{class:de(["d-flex justify-space-between align-center",t.$vuetify.display.xs?c!==i(V).length-1?"border-b pb-4":"":t.$vuetify.display.sm&&c<i(V).length/2?"border-b pb-4":""])},[n("div",ye,[n("h4",ge,s(e.value),1),n("span",he,s(e.title),1)]),o(C,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[o(k,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(t.$vuetify.display.mdAndUp?c!==i(V).length-1:t.$vuetify.display.smAndUp&&c%2===0)?(r(),$(R,{key:0,vertical:"",inset:"",length:"60"})):pe("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),o(I,{id:"invoice-list"},{default:l(()=>[o(N,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:l(()=>[n("div",xe,[n("div",Ve,[a[7]||(a[7]=n("span",null,"Show",-1)),o(m,{"model-value":i(d),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=parseInt(e,10))},null,8,["model-value"])]),o(re,{"prepend-icon":"tabler-plus",to:{name:"apps-invoice-add"}},{default:l(()=>a[8]||(a[8]=[v(" Create invoice ")])),_:1,__:[8]})]),n("div",ke,[n("div",we,[o(X,{modelValue:i(h),"onUpdate:modelValue":a[1]||(a[1]=e=>b(h)?h.value=e:null),placeholder:"Search Invoice"},null,8,["modelValue"])]),n("div",Ie,[o(m,{modelValue:i(x),"onUpdate:modelValue":a[2]||(a[2]=e=>b(x)?x.value=e:null),placeholder:"Invoice Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),o(R),o(ue,{"model-value":i(y),"onUpdate:modelValue":a[4]||(a[4]=e=>b(y)?y.value=e:null),"items-per-page":i(d),"onUpdate:itemsPerPage":a[5]||(a[5]=e=>b(d)?d.value=e:null),page:i(u),"onUpdate:page":a[6]||(a[6]=e=>b(u)?u.value=e:null),"show-select":"","items-length":i(z),headers:j,items:i(U),"item-value":"id",class:"text-no-wrap","onUpdate:options":M},{"item.id":l(({item:e})=>[o(A,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:l(()=>[v(" #"+s(e.id),1)]),_:2},1032,["to"])]),"item.status":l(({item:e})=>[o(fe,null,{activator:l(({props:c})=>[o(C,ce({size:28},c,{color:w(e.invoiceStatus).variant,variant:"tonal"}),{default:l(()=>[o(k,{size:16,icon:w(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:l(()=>[n("p",De,s(e.invoiceStatus),1),n("p",$e," Balance: "+s(e.balance),1),n("p",Ce," Due date: "+s(e.dueDate),1)]),_:2},1024)]),"item.client":l(({item:e})=>[n("div",Pe,[o(C,{size:"34",color:e.avatar.length?void 0:w(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:l(()=>[e.avatar.length?(r(),$(ve,{key:0,src:e.avatar},null,8,["src"])):(r(),_("span",Be,s(("avatarText"in t?t.avatarText:i(J))(e.client.name)),1))]),_:2},1032,["color","variant"]),n("div",Se,[o(A,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-link font-weight-medium"},{default:l(()=>[v(s(e.client.name),1)]),_:2},1024),n("span",Te,s(e.client.companyEmail),1)])])]),"item.total":l(({item:e})=>[v(" $"+s(e.total),1)]),"item.date":l(({item:e})=>[v(s(e.issuedDate),1)]),"item.balance":l(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(r(),$(me,{key:0,color:f(e.balance,e.total).chip.color,label:"",size:"x-small"},{default:l(()=>[v(s(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(r(),_("span",Ue,s(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":l(({item:e})=>[o(E,{onClick:c=>Q(e.id)},{default:l(()=>[o(k,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),o(E,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:l(()=>[o(k,{icon:"tabler-eye"})]),_:2},1032,["to"]),o(G,{"menu-list":i(O)(e.id),"item-props":"",color:"undefined"},null,8,["menu-list"])]),bottom:l(()=>[o(H,{page:i(u),"onUpdate:page":a[3]||(a[3]=e=>b(u)?u.value=e:null),"items-per-page":i(d),"total-items":i(z)},null,8,["page","items-per-page","total-items"])]),_:1},8,["model-value","items-per-page","page","items-length","items"])]),_:1})])):(r(),_("section",ze,[o(I,null,{default:l(()=>[o(oe,null,{default:l(()=>a[9]||(a[9]=[v("No Invoice Found")])),_:1,__:[9]})]),_:1})]))}}});export{St as default};
