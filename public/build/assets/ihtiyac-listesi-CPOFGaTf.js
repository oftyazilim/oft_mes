import{u as $e}from"./pageTitle-DtLz0iBV.js";import{d as He,r as n,aO as We,v as me,A as qe,a as je,c as Je,o as Q,b as t,f as o,e as s,g as ce,u as a,k as g,F as Ze,aI as b}from"./main-BXQZedJr.js";import{D as X}from"./button-moUhditM.js";import{D as Qe}from"./context-menu-hZPYeG1e.js";import{s as _,D as l,h as Xe,i as et,j as tt,k as at,d as x,l as it,m as lt,b as rt,q as ee,r as ot,t as I}from"./data-grid-BQTfASYc.js";import{D as pe}from"./date-box-BWozA7F0.js";import{D as nt}from"./load-panel-C8FYqASG.js";import{a as z}from"./popup-BMZSXq12.js";import{D as O}from"./select-box-B289LQCT.js";import{D as v}from"./tabs-BU-sXbtW.js";import{e as st}from"./export_data_grid-C2LwWkCQ.js";import"./overlay-eQhleTY0.js";import"./m_select_box-BglALVfK.js";import"./m_row_dragging-BdjzEsrr.js";import{e as dt}from"./exceljs.min-DzkKUmEt.js";import{s as ut}from"./FileSaver-CQu8bA20.js";import{V as mt}from"./VCardText-rmUcxmh0.js";import{V as y}from"./VCol-Wid_9eJs.js";import{V as ct}from"./VCard-DUM_ksvP.js";import{V as M}from"./VRow-C-sqkSKD.js";import"./editor-Bp7VO16S.js";import"./themes-YOJm1jxT.js";import"./_commonjsHelpers-D6-XlEtG.js";/* empty css              */import"./VAvatar-BUAa26n4.js";import"./VImg-DEXYwdyw.js";const pt={id:"liste",style:{"margin-block":"-10px 10px"}},ft={style:{"margin-block-start":"-10px"}},vt={style:{"margin-block-start":"-10px","margin-inline-start":"5px"}},yt={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},gt={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},bt={style:{"inline-size":"160px","margin-block-start":"-10px","margin-inline-start":"5px"}},ht={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},fe="İhtiyaç Listesi",ve="",jt=He({__name:"ihtiyac-listesi",setup(kt){const te=e=>{if(!e)return null;const i=new Date(e),d=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),m=String(i.getDate()).padStart(2,"0");return`${d}-${r}-${m}`},ye=$e(),P=n(!1),C=n(!1),G=n(!1),V=n(!1),B=n(!1),f=n(!1),L=n([]),K=n([]),ae=n([]),U=n([]),Y=n([]),ge=n(Date.now()),T=We("userData"),D=n(null),be=n(null),he=n(null),ke=n(null),we=n(null);n(null);const $=n(!0);n(!1),n(0);const N=n(0);n(!1);const c=n(0),p=n(""),ie=n([]),S=n(0),le=n([]),A=n(0),H=n(""),re=n([]),W=n(""),oe=n([]),h=new Date,q=new Date(h);q.setDate(h.getDate()-h.getDay()+1);const j=new Date(h);j.setDate(h.getDate()-h.getDay()+7);const J=n([q,j]),E=n(q),R=n(j),F=n([]),u=n(null),k=me(()=>!!A.value&&!!S.value),_e=me(()=>k.value?"DİĞER DEPO":"STOK"),xe=e=>{if(k.value)return Number((e==null?void 0:e.bakiye)??0);const i=Number((e==null?void 0:e.diger_depo)??0),d=Number((e==null?void 0:e.ihtiyac)??0);return i-d},Te=e=>{if(!k.value)return Number((e==null?void 0:e.diger_depo)??0);const i=Number((e==null?void 0:e.diger_depo)??0),d=Number((e==null?void 0:e.ana_depo)??0);return i+d};ye.setTitle(`${fe} (${ve})`),document.title=`OFT - ${fe} | ${ve}`;function ne(e){return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:1}).format(e.value)}const se=async()=>{K.value=[],await De()},De=async()=>{J.value=[E.value,R.value],E.value=te(J.value[0]),R.value=te(J.value[1]),f.value=!0;try{const e=await b.get("/api/istasyon-ihtiyaclar",{params:{filterValue:E.value,filterValue1:R.value,merkezID:A.value,istasyonID:S.value,siparis:H.value,cari:W.value,coID:T.value.co_id}});K.value=e.data.emirler,ae.value=e.data.dagilim}catch(e){console.error("Veri çekilirken hata oluştu: ",e)}finally{f.value=!1}},Se=async()=>{f.value=!0;try{const e=await b.get("/api/merkezal",{params:{coID:T.value.co_id}});le.value=e.data.merkezler,re.value=e.data.siparisler,oe.value=e.data.cariler}catch(e){console.error("Veri çekilirken hata oluştu: ",e)}finally{f.value=!1}},Ae=async()=>{S.value=0,K.value=[],f.value=!0;try{const e=await b.get("/api/istasyonal",{params:{ismerkezi:A.value}});ie.value=e.data.istasyonlar}catch(e){console.error("Veri çekilirken hata oluştu: ",e)}finally{f.value=!1}},Ee=async e=>{f.value=!0;try{const i=await b.get("/api/isEmriAcilmislar",{params:{item_id:e}});L.value=i.data.data}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}finally{f.value=!1}};qe(async()=>{de(),Se(),ze()});const de=()=>{var i,d;const e=localStorage.getItem(`${T.value.id}_malzemeler`);e&&((d=(i=D.value)==null?void 0:i.instance)==null||d.state(JSON.parse(e)))},Re=()=>{var i,d;const e=(d=(i=D.value)==null?void 0:i.instance)==null?void 0:d.state();localStorage.setItem(`${T.value.id}_malzemeler`,JSON.stringify(e))},Ie=()=>{localStorage.removeItem(`${T.value.id}_malzemeler`),D.value.instance.state(null)},ze=()=>{const e=new Date,i=e.getFullYear()%100,d=new Date(e.getFullYear(),0,4),r=new Date(d);r.setDate(d.getDate()-(d.getDay()+6)%7);const m=Math.floor((e.getTime()-r.getTime())/864e5),Z=Math.floor(m/7)+1;return`${i}-${Z.toString().padStart(2,"0")}`},Me=()=>{$.value=!$.value},Pe=()=>{var e,i;(i=(e=D.value)==null?void 0:e.instance)==null||i.clearFilter()},Ce=e=>{e.rowType==="data"&&(e.column.dataField==="talepler"||e.column.dataField==="satinalma"||e.column.dataField==="stok"||e.column.dataField==="ana_depo"||e.column.dataField==="diger_depo")&&e.value>0&&(e.cellElement.style.fontWeight="bold"),e.rowType==="data"&&e.column.dataField==="stok"&&Number(e.data.stok)<Number(e.data.ihtiyac)&&(e.cellElement.style.backgroundColor="orange"),e.rowType==="data"&&e.column.dataField==="ana_depo"&&Number(e.data.ana_depo)+Number(e.data.stok)<Number(e.data.ihtiyac)&&(e.cellElement.style.backgroundColor="#ff6e00",e.cellElement.style.color="white"),e.rowType==="data"&&e.column.dataField==="diger_depo"&&Number(e.data.diger_depo)+Number(e.data.ana_depo)+Number(e.data.stok)<Number(e.data.ihtiyac)&&(e.cellElement.style.backgroundColor="#ff5400",e.cellElement.style.color="white"),e.rowType==="data"&&e.column.dataField==="bakiye"&&e.value<0&&(e.cellElement.style.fontWeight="bold",e.cellElement.style.backgroundColor="red",e.cellElement.style.color="white")},Ke=e=>{if(e.rowIndex===-1)return;const i=e.row.data;u.value=i},Ne=e=>{const i=new dt.Workbook,d=i.addWorksheet("MalzemeListesi");st({component:e.component,worksheet:d,autoFilterEnabled:!0}).then(()=>{i.xlsx.writeBuffer().then(r=>{ut(new Blob([r],{type:"application/octet-stream"}),"MalzemeListesi.xlsx")})}),e.cancel=!0},Fe=(e,i)=>{e.innerText=i.text;const d=i.data.tipi,r=(Ye,_t)=>{const w=document.createElement("span");return w.className="dx-icon dx-icon-isnotblank",w.style.marginRight="8px",w.style.color=Ye,w.style.fontSize="16",w.style.display="inline-flex",w};let m="gray";switch(d){case"Hammadde":m="gold";break;case"YarıMamul":m="limegreen";break;case"Mamul":m="green";break;case"Ticari":m="gray";break}const Z=r(m);e.insertBefore(Z,e.firstChild)},Oe=[{text:"Yenile"},{text:"Hangi İş Emirlerinde"},{text:"Açılmış İş Emirleri"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function Ge({itemData:e}){if(!(e!=null&&e.items))switch(e==null?void 0:e.text){case"Yenile":se();break;case"Hangi İş Emirlerinde":N.value=u.value.item_id,c.value=u.value.stok_kodu,p.value=u.value.stok_adi,C.value=!0;break;case"Açılmış İş Emirleri":N.value=u.value.item_id,c.value=u.value.stok_kodu,p.value=u.value.stok_adi,L.value=[],Ee(u.value.item_id),G.value=!0;break;case"Stok Detayları":F.value=[],c.value=u.value.stok_kodu,p.value=u.value.stok_adi,ue(u.value.item_id),P.value=!0;break;case"Satınalma Sipariş Detayları":U.value=[],c.value=u.value.stok_kodu,p.value=u.value.stok_adi,Le(u.value.item_id),V.value=!0;break;case"Satınalma Talep Detayları":Y.value=[],c.value=u.value.stok_kodu,p.value=u.value.stok_adi,Ue(u.value.item_id),B.value=!0;break;case"Düzen Yükle":de();break;case"Düzen Kaydet":Re();break;case"Düzen Sıfırla":Ie();break}}const Ve=()=>ae.value.filter(e=>e.item_id===N.value),Be=e=>{e.rowType==="data"&&e.column.dataField==="diger_depo"&&(F.value=[],c.value=e.data.stok_kodu,p.value=e.data.stok_adi,ue(e.data.item_id),P.value=!0),e.rowType==="data"&&e.column.dataField==="dongu"&&(N.value=e.data.item_id,c.value=e.data.stok_kodu,p.value=e.data.stok_adi,C.value=!0)},Le=async e=>{try{const i=await b.get("/api/satinalmasorgu",{params:{item_id:e}});U.value=i.data.satinalma}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},Ue=async e=>{try{const i=await b.get("/api/taleplersorgu",{params:{item_id:e}});Y.value=i.data.talepler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}},ue=async e=>{try{const i=await b.get("/api/digerdepobakiyeleri",{params:{item_id:e}});F.value=i.data.bakiyeler}catch(i){console.error("Veri çekilirken hata oluştu: ",i)}};return(e,i)=>{const d=je("DxGroupPanel");return Q(),Je(Ze,null,[t(ct,{class:"mt-0 pa-0"},{default:o(()=>[t(mt,{class:"mt-0 pa-2"},{default:o(()=>[t(y,{cols:"12",class:"mt-2 pa-1 pe-2 pt-0"},{default:o(()=>[s("div",pt,[t(a(Qe),{"data-source":Oe,width:200,target:"#gridM",onItemClick:Ge}),(Q(),ce(a(_),{id:"gridM",ref_key:"dataGridRefM",ref:D,key:ge.value,class:"grid","data-source":K.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":"true","row-alternation-enabled":"true","min-width":200,"allow-column-reordering":"true","column-auto-width":"true","allow-column-resizing":"true",onContextMenuPreparing:Ke,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%",onCellPrepared:Ce,onExporting:Ne,onCellClick:Be},{filtreTarih1:o(()=>[s("div",ft,[t(a(pe),{label:"Başlangıç Tarihi",width:"150","label-mode":"floating",value:E.value,"onUpdate:value":i[1]||(i[1]=r=>E.value=r),type:"date"},null,8,["value"])])]),filtreTarih2:o(()=>[s("div",vt,[t(a(pe),{label:"Bitiş Tarihi",width:"150","label-mode":"floating",value:R.value,"onUpdate:value":i[2]||(i[2]=r=>R.value=r),type:"date"},null,8,["value"])])]),filtreMerkez:o(()=>[s("div",yt,[t(a(O),{"data-source":le.value,value:A.value,"onUpdate:value":i[3]||(i[3]=r=>A.value=r),"show-clear-button":!0,label:"İş Merkezi","label-mode":"floating","display-expr":"mrk_adi","value-expr":"is_merkezi_id",onValueChanged:i[4]||(i[4]=r=>Ae()),style:{"inline-size":"100%"},"search-mode":"contains","search-expr":"mrk_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreIstasyon:o(()=>[s("div",gt,[t(a(O),{"data-source":ie.value,value:S.value,"onUpdate:value":i[5]||(i[5]=r=>S.value=r),label:"İstasyon","label-mode":"floating","display-expr":"ist_adi","value-expr":"istasyon_id",style:{"inline-size":"100%"},"search-mode":"contains","search-expr":"ist_adi","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreSiparis:o(()=>[s("div",bt,[t(a(O),{"data-source":re.value,value:H.value,"onUpdate:value":i[6]||(i[6]=r=>H.value=r),label:"Sipariş","label-mode":"floating","display-expr":"siparis_belge_no","value-expr":"siparis_belge_no",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"siparis_belge_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:o(()=>[s("div",ht,[t(a(O),{"data-source":oe.value,value:W.value,"onUpdate:value":i[7]||(i[7]=r=>W.value=r),label:"Cari","label-mode":"floating","display-expr":"cari_ad","value-expr":"cari_ad",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"cari_ad","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:o(()=>[t(a(X),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:o(()=>i[13]||(i[13]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-notequal"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),yenileTemplate:o(()=>[t(a(X),{id:"sayim",icon:"refresh","styling-mode":"text",hint:"Yenile"})]),menuYenileTemplate:o(()=>i[14]||(i[14]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-refresh"}),s("span",{style:{"margin-inline-start":"8px"}},"Yenile")],-1)])),filtreGosterTemplate:o(()=>[t(a(X),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:o(()=>i[15]||(i[15]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-filter"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:o(()=>[t(a(l),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":Fe}),t(a(l),{"data-field":"satinalmapersoneli",caption:"SATICI",visible:!0,width:80}),t(a(l),{"data-field":"mrk_adi",caption:"İŞ MERKEZİ",visible:!0,width:150}),t(a(l),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:80}),t(a(l),{"data-field":"stok_kodu",caption:"STOK KODU","data-type":"string",visible:!0,width:130}),t(a(l),{"data-field":"stok_adi",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),t(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"ihtiyac",caption:"İHTİYAÇ","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"stok",caption:"STOK","data-type":"number",visible:k.value,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}},null,8,["visible"]),t(a(l),{"data-field":"ana_depo",caption:"ANA DEPO","data-type":"number",visible:k.value,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}},null,8,["visible"]),t(a(l),{"data-field":"depo_ihtiyaci",caption:"DEPO İHTİYACI","data-type":"number",visible:k.value,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}},null,8,["visible"]),t(a(l),{"data-field":"diger_depo",caption:_e.value,"data-type":"number",visible:!0,width:100,"calculate-cell-value":Te,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}},null,8,["caption"]),t(a(l),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:100,"calculate-cell-value":xe,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),t(a(l),{"data-field":"satinalma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"talepler",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"dongu",caption:"KAÇ İŞEMRİNDE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(Q(),ce(a(nt),{key:f.value,visible:f.value,"onUpdate:visible":i[0]||(i[0]=r=>f.value=r),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),t(a(Xe),{visible:!0}),t(a(et),{visible:!0}),t(a(tt),{visible:$.value},null,8,["visible"]),t(a(at),{visible:!0,width:240}),t(a(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),t(a(it),{mode:"multiple"}),t(a(lt),{enabled:!0,"allow-export-selected-data":!1}),t(a(rt),null,{default:o(()=>[t(a(v),{location:"before","locate-in-menu":"auto",template:"filtreTarih1"}),t(a(v),{location:"before","locate-in-menu":"auto",template:"filtreTarih2"}),t(a(v),{location:"before","locate-in-menu":"auto",template:"filtreMerkez"}),t(a(v),{location:"before","locate-in-menu":"auto",template:"filtreIstasyon"}),t(a(v),{location:"before","locate-in-menu":"auto",template:"filtreSiparis"}),t(a(v),{location:"before","locate-in-menu":"auto",template:"filtreCari"}),t(a(v),{location:"before","locate-in-menu":"auto",template:"yenileTemplate","menu-item-template":"menuYenileTemplate",onClick:se}),t(a(v),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:Pe}),t(a(v),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:Me}),t(a(v),{name:"exportButton"}),t(a(v),{name:"searchPanel"})]),_:1}),t(a(ee),null,{default:o(()=>[t(a(ot),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:e.right},null,8,["alignment"]),t(a(I),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:e.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))])]),_:1})]),_:1})]),_:1}),t(a(z),{visible:P.value,"onUpdate:visible":i[8]||(i[8]=r=>P.value=r),"hide-on-outside-click":!0,title:"Stok Detayları","show-close-button":!1,"show-title":!0,width:600,height:500},{default:o(()=>[t(y,{class:"text-center"},{default:o(()=>[s("h2",null,g(c.value),1),s("h2",null,g(p.value),1)]),_:1}),i[16]||(i[16]=s("br",null,null,-1)),t(M,null,{default:o(()=>[t(y,null,{default:o(()=>[t(a(_),{id:"gridBakiyeler",ref_key:"dataGridRefB",ref:be,"data-source":F.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",onCellPrepared:e.onCellPreparedB,"row-alternation-enabled":!0},{default:o(()=>[t(a(l),{"data-field":"whouse_id",caption:"DEPO ID",width:80,visible:!1}),t(a(l),{"data-field":"whouse_code",caption:"DEPO KODU",width:100}),t(a(l),{"data-field":"description",caption:"DEPO ADI"}),t(a(l),{"data-field":"qty_prm",caption:"STOK",width:100,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),t(d,{visible:!1}),t(a(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source","onCellPrepared"])]),_:1})]),_:1})]),_:1,__:[16]},8,["visible"]),t(a(z),{visible:B.value,"onUpdate:visible":i[9]||(i[9]=r=>B.value=r),"hide-on-outside-click":!0,title:"Taleplerin Detayı","show-close-button":!1,"show-title":!0,width:800,height:500},{default:o(()=>[t(y,{class:"text-center"},{default:o(()=>[s("h2",null,g(c.value),1),s("h2",null,g(p.value),1)]),_:1}),i[17]||(i[17]=s("br",null,null,-1)),t(M,null,{default:o(()=>[t(y,null,{default:o(()=>[t(a(_),{id:"gridTalepler",ref_key:"dataGridRefT",ref:we,"data-source":Y.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:o(()=>[t(a(l),{"data-field":"talep_no",caption:"TALEP NO",width:100}),t(a(l),{"data-field":"talep_tarihi",caption:"TALEP TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),t(a(l),{"data-field":"onay_tarihi",caption:"ONAY TARİHİ","data-type":"date",width:120,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),t(a(l),{"data-field":"kaynak",caption:"KAYNAK",width:150}),t(a(l),{"data-field":"tipi",caption:"TİPİ",width:100}),t(a(l),{"data-field":"miktar",caption:"MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(d,{visible:!1}),t(a(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[17]},8,["visible"]),t(a(z),{visible:V.value,"onUpdate:visible":i[10]||(i[10]=r=>V.value=r),"hide-on-outside-click":!0,title:"Satınalma Sipariş Detayı","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:o(()=>[t(y,{class:"text-center"},{default:o(()=>[s("h2",null,g(c.value),1),s("h2",null,g(p.value),1)]),_:1}),i[18]||(i[18]=s("br",null,null,-1)),t(M,null,{default:o(()=>[t(y,null,{default:o(()=>[t(a(_),{id:"gridSatinalma",ref_key:"dataGridRefS",ref:ke,"data-source":U.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:o(()=>[t(a(l),{"data-field":"BELGE_NO",caption:"BELGE NO",width:100}),t(a(l),{"data-field":"BELGE_TARIHI",caption:"BELGE TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),t(a(l),{"data-field":"satici_adi",caption:"SATICI",width:100}),t(a(l),{"data-field":"sip_olusturan",caption:"OLUŞTURAN",width:100}),t(a(l),{"data-field":"CARI_AD",caption:"CARİ ADI",width:280}),t(a(l),{"data-field":"sevk_tarihi",caption:"SEVK TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),t(a(l),{"data-field":"teslim_tarihi",caption:"TESLİM TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),t(a(l),{"data-field":"teslim_tarihi_not",caption:"T.T. NOT",width:80}),t(a(l),{"data-field":"MIKTAR",caption:"SPR. MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"BIRIM_KOD",caption:"BİRİM",width:60}),t(a(l),{"data-field":"KALAN_MIKTAR",caption:"KALAN MİKTAR",width:100,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(d,{visible:!1}),t(a(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[18]},8,["visible"]),t(a(z),{visible:G.value,"onUpdate:visible":i[11]||(i[11]=r=>G.value=r),"hide-on-outside-click":!0,title:"Açılmış İş Emirleri","show-close-button":!1,"show-title":!0,width:1e3,height:600},{default:o(()=>[t(y,{class:"text-center"},{default:o(()=>[s("h2",null,g(c.value),1),s("h2",null,g(p.value),1)]),_:1}),i[19]||(i[19]=s("br",null,null,-1)),t(M,null,{default:o(()=>[t(y,null,{default:o(()=>[t(a(_),{id:"gridAcilmisEmirler",ref:"dataGridRefA","data-source":L.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%",height:400},{default:o(()=>[t(a(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),t(a(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:270,visible:!0}),t(a(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),t(a(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),t(a(l),{"data-field":"stok_id",caption:"STOK ID",width:100,visible:!1}),t(a(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:120,visible:!1}),t(a(l),{"data-field":"stok_adi",caption:"STOK ADI",visible:!1}),t(a(l),{"data-field":"planlanan_bitis_tarihi",caption:"PLN BTŞ","data-type":"date",width:110,visible:!0,format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),t(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MKTRI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(l),{"data-field":"kalan_miktar",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),t(a(ee),null,{default:o(()=>[t(a(I),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":" Tpl: {0}",alignment:e.right,"customize-text":ne},null,8,["alignment"]),t(a(I),{"align-by-column":!0,column:"kalan_miktar","summary-type":"sum","display-format":" Tpl: {0}",alignment:e.right,"customize-text":ne},null,8,["alignment"])]),_:1}),t(d,{visible:!1}),t(a(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[19]},8,["visible"]),t(a(z),{visible:C.value,"onUpdate:visible":i[12]||(i[12]=r=>C.value=r),"hide-on-outside-click":!0,title:"Kullanan İş Emirleri","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:o(()=>[t(y,{class:"text-center"},{default:o(()=>[s("h2",null,g(c.value),1),s("h2",null,g(p.value),1)]),_:1}),i[20]||(i[20]=s("br",null,null,-1)),t(M,null,{default:o(()=>[t(y,null,{default:o(()=>[t(a(_),{id:"gridEmirler",ref_key:"dataGridRefE",ref:he,"data-source":Ve(),"show-borders":!0,"column-auto-width":!1,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:o(()=>[t(a(l),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),t(a(l),{"data-field":"cari_ad",caption:"CARİ ADI",width:150,visible:!0}),t(a(l),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),t(a(l),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),t(a(l),{"data-field":"stok_id",caption:"STOK ID",visible:!1,width:50}),t(a(l),{"data-field":"stok_kodu",caption:"STOK KODU",width:150}),t(a(l),{"data-field":"stok_adi",caption:"STOK ADI",width:e.auto},null,8,["width"]),t(a(l),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),t(a(l),{"data-field":"kalan",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),t(a(ee),null,{default:o(()=>[t(a(I),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":"{0} ad",alignment:e.right},null,8,["alignment"]),t(a(I),{"align-by-column":!0,column:"kalan","summary-type":"sum","display-format":"{0} ad",alignment:e.right},null,8,["alignment"])]),_:1}),t(d,{visible:!1}),t(a(x),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[20]},8,["visible"])],64)}}});export{jt as default};
