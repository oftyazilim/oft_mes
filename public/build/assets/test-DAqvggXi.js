const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Bm5130Ph.js","assets/_commonjsHelpers-D6-XlEtG.js","assets/editor-vlpfYr1p.js","assets/main-PIO7dkvE.js","assets/main-BnlRrYju.css","assets/overlay-B--B0OvG.js","assets/m_select_box-yUmNCsoD.js","assets/themes-CitTaR45.js","assets/m_row_dragging-gbxlEI9k.js","assets/m_utils.scroll-CCUfjaSQ.js","assets/list.edit.decorator.swipe-pRMLYeFS.js","assets/m_popover-BmYdc6Cm.js","assets/check-box-hqLGur4L.js","assets/number-box-CDGDFBQP.js","assets/date-box-Bpx-bkLf.js","assets/select-box-q-6jWHNI.js"])))=>i.map(i=>d[i]);
var kf=Object.defineProperty;var Sf=(c,e,t)=>e in c?kf(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var Ct=(c,e,t)=>Sf(c,typeof e!="symbol"?e+"":e,t);import{E as Cf,p as If,a as Ht}from"./editor-vlpfYr1p.js";import{ds as Bl,dc as Wt,e1 as tc,dj as Be,dl as Wi,dP as ss,dm as lr,bf as _r,dk as Tt,df as jl,dg as vn,dt as nc,dh as yo,dw as To,du as xf,dd as rc,dX as Df,ee as ar,dH as Af,dB as Ef,ef as Pf,dn as Mf,eA as Lf,dv as zs,d as Et,b3 as sl,r as Lr,c as Rf,b as bt,e as It,f as ic,m as ft,F as Of,a as Nf,o as Ff}from"./main-PIO7dkvE.js";import{bf as Bf,W as nu,l as zi,r as Ge,h as oc,e as Un,N as ru,T as al,c as ti,a as ba,P as jd,B as Ks,C as jf,d as Hl,i as Hf,V as Vf,aV as Uf,E as ds,bg as sc,aC as Wf,g as Ti,a9 as zf,b3 as ac,aB as lc,R as ll,a5 as Kf,Y as uc,o as Gf,n as qf}from"./overlay-B--B0OvG.js";import{ap as $f,S as Yf,ar as Zf,c as Xf,as as Jf,at as Qf,C as eg,au as iu,P as tg,Y as ng,A as Hd,q as Vl,s as rg,D as ig,a4 as og,h as sg}from"./m_select_box-yUmNCsoD.js";import{a0 as ag,g as wi,a1 as lg,_ as ug,m as cg,c as dg,a as hg,a2 as pg,D as fg,d as gg,b as mg,s as yg,r as vg,a3 as _g,e as bg,f as Tg,h as ul,a4 as wg,i as kg,G as Sg,j as as,l as Cg,q as Ig,a5 as xg,t as Dg,u as pa,v as Ag,w as Eg,x as Pg,y as Mg,z as os,A as Ta,a6 as Lg,a7 as Rg,B as Og,E as Ng,F as Fg,H as Bg,I as jg,J as Hg,L as Vg,M as Ug,U as Wg,V as zg,W as Kg,k as cc,a8 as Gg,a9 as qg,aa as $g,K as Yg,N as Zg,ab as Xg,P as Jg,X as Qg,Y as oa,Z as em}from"./m_row_dragging-gbxlEI9k.js";import{a as tm}from"./m_utils.scroll-CCUfjaSQ.js";import"./list.edit.decorator.swipe-pRMLYeFS.js";import{i as nm}from"./themes-CitTaR45.js";import{g as rm}from"./_commonjsHelpers-D6-XlEtG.js";import{D as im}from"./check-box-hqLGur4L.js";import{D as dc}from"./number-box-CDGDFBQP.js";import{D as hc}from"./date-box-Bpx-bkLf.js";import{D as cl}from"./select-box-q-6jWHNI.js";const om={create:c=>({NotifyTaskCreated:(e,t,r)=>{c._onRecordInserted("tasks",e,t)},NotifyTaskRemoved:(e,t,r)=>{c._onRecordRemoved("tasks",e,r)},NotifyTaskUpdated:(e,t,r)=>{c._onRecordUpdated("tasks",e,t)},NotifyParentTaskUpdated:(e,t)=>{c._onParentTaskUpdated(e)},NotifyDependencyInserted:(e,t,r)=>{c._onRecordInserted("dependencies",e,t)},NotifyDependencyRemoved:(e,t,r)=>{c._onRecordRemoved("dependencies",e,r)},NotifyResourceCreated:(e,t,r)=>{c._onRecordInserted("resources",e,t)},NotifyResourceRemoved:(e,t,r)=>{c._onRecordRemoved("resources",e,r)},NotifyResourceAssigned:(e,t,r)=>{c._onRecordInserted("resourceAssignments",e,t)},NotifyResourceUnassigned:(e,t,r)=>{c._onRecordRemoved("resourceAssignments",e,r)},NotifyParentDataRecalculated:e=>{c._onParentTasksRecalculated(e)},NotifyTaskCreating:e=>{c._actionsManager.raiseInsertingAction("tasks",e)},NotifyTaskRemoving:e=>{c._actionsManager.raiseDeletingAction("tasks",e)},NotifyTaskUpdating:e=>{c._actionsManager.raiseUpdatingAction("tasks",e)},NotifyTaskMoving:e=>{c._actionsManager.raiseUpdatingAction("tasks",e,c._actionsManager.getTaskMovingAction())},NotifyTaskEditDialogShowing:e=>{c._actionsManager.raiseTaskEditDialogShowingAction(e)},NotifyResourceManagerDialogShowing:e=>{c._actionsManager.raiseResourceManagerDialogShowingAction(e)},NotifyDependencyInserting:e=>{c._actionsManager.raiseInsertingAction("dependencies",e)},NotifyDependencyRemoving:e=>{c._actionsManager.raiseDeletingAction("dependencies",e)},NotifyResourceCreating:e=>{c._actionsManager.raiseInsertingAction("resources",e)},NotifyResourceRemoving:e=>{c._actionsManager.raiseDeletingAction("resources",e)},NotifyResourceAssigning:e=>{c._actionsManager.raiseInsertingAction("resourceAssignments",e)},NotifyResourceUnassigning:e=>{c._actionsManager.raiseDeletingAction("resourceAssignments",e)},NotifyScaleCellPrepared:e=>{c._actionsManager.raiseScaleCellPreparedAction(e)},NotifyGanttViewUpdated:()=>{c._onGanttViewCoreUpdated()}})};class Vd extends Bf{constructor(e,t,r){super(),this._optionName=e,this._getLoadPanel=t,this._dataSourceChangedCallback=r}insert(e,t,r){this._showLoadPanel(),this._getStore().insert(e).done((h=>{t&&t(h),this._hideLoadPanel()})).fail((h=>{r&&r(h),this._hideLoadPanel()}))}update(e,t,r,h){this._showLoadPanel(),this._getStore().update(e,t).done(((g,_)=>{r&&r(g,_),this._hideLoadPanel()})).fail((g=>{h&&h(g),this._hideLoadPanel()}))}remove(e,t,r){this._showLoadPanel(),this._getStore().remove(e).done((h=>{t&&t(h),this._hideLoadPanel()})).fail((h=>{r&&r(h),this._hideLoadPanel()}))}_dataSourceChangedHandler(e,t){this._dataSourceChangedCallback(this._optionName,e)}_dataSourceOptions(){return{paginate:!1}}_dataSourceLoadingChangedHandler(e){e&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}_showLoadPanel(){var e;(e=this._getLoadPanel())===null||e===void 0||e.show()}_hideLoadPanel(){var e;(e=this._getLoadPanel())===null||e===void 0||e.hide()}_getStore(){return this._dataSource.store()}_getItems(){return this._getStore()._array||this._dataSource.items()}_reloadDataSource(){return this._dataSource.load()}dispose(){this._disposeDataSource()}_optionChanged(e){e.name}}Vd.include($f);const pc=ru(),sm="dx-splitter-bar";class am extends nu{_init(){super._init();const e=new Bl().toString();this.SPLITTER_POINTER_DOWN_EVENT_NAME=zi(al.down,"dxSplitterResizing"+e),this.SPLITTER_POINTER_MOVE_EVENT_NAME=zi(al.move,"dxSplitterResizing"+e),this.SPLITTER_POINTER_UP_EVENT_NAME=zi(al.up,"dxSplitterResizing"+e)}_initMarkup(){super._initMarkup(),this._initActions(),this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this.$element().addClass("dx-splitter-wrapper").addClass("dx-splitter-initial"),this._$splitterBorder=Ge("<div>").addClass("dx-splitter-border").appendTo(this.$element()),this._$splitter=Ge("<div>").addClass(sm).addClass("dx-splitter-inactive").appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){const e=oc.getDocument();Un.on(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME,this._onMouseDownHandler.bind(this)),Un.on(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME,this._onMouseMoveHandler.bind(this)),Un.on(e,this.SPLITTER_POINTER_UP_EVENT_NAME,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){const e=oc.getDocument();Un.off(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME),Un.off(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME),Un.off(e,this.SPLITTER_POINTER_UP_EVENT_NAME)}_dimensionChanged(e){(!e||e!=="height")&&(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(e){e.preventDefault(),this._offsetX=e.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?e.pageX-this._$splitterBorder.offset().left:0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass("dx-splitter-initial"),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(e){this._isSplitterActive&&this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(e),needUpdatePanels:!0})}_onMouseUpHandler(){this._isSplitterActive&&(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(e){let t=e.pageX-this._getContainerLeftOffset()-this._offsetX;return t=Math.max(0-this._getSplitterOffset(),t),t=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),t),t}_getContainerLeftOffset(){let e=this._$container.offset().left;if(pc){const t=pc.getComputedStyle(this._$container.get(0)),r=parseFloat(t.paddingLeft)||0,h=parseFloat(t.borderLeftWidth)||0;e+=r+h}return e}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}getSplitterBorderElement(){return this._$splitterBorder}_toggleActive(e){this.$element().toggleClass("dx-splitter-inactive",!e),this._$splitter.toggleClass("dx-splitter-inactive",!e),this._isSplitterActive=e,this._actions.onActiveStateChanged({isActive:e})}toggleDisabled(e){this.$element().toggleClass("dx-state-disabled",e),this._$splitter.toggleClass("dx-state-disabled",e)}isSplitterMoved(){return!this.$element().hasClass("dx-splitter-initial")}disableSplitterCalculation(e){this._isSplitterCalculationDisabled=e}_setSplitterPositionLeft(){let{splitterPositionLeft:e=null,needUpdatePanels:t=!1,usePercentagePanelsWidth:r=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=e||this._getLeftPanelWidth()-this._getSplitterOffset();const h=e+this._getSplitterOffset(),g=this._containerWidth-h;this._isSplitterCalculationDisabled||this.$element().css("left",e),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(h);const _=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));t&&this._actions.onApplyPanelSize({leftPanelWidth:r?`${this._leftPanelPercentageWidth}%`:h,rightPanelWidth:r?`${_}%`:g})}_optionChanged(e){switch(e.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(e.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[e.name]=this._createActionByOption(e.name);break;default:super._optionChanged(e)}}_convertToPercentage(e){return e/this._$container.get(0).clientWidth*100}_convertToPixels(e){return e/100*this._$container.get(0).clientWidth}}const Rt={onContextMenuPreparing:"onContextMenuPreparing",onCustomCommand:"onCustomCommand",onDependencyDeleted:"onDependencyDeleted",onDependencyDeleting:"onDependencyDeleting",onDependencyInserted:"onDependencyInserted",onDependencyInserting:"onDependencyInserting",onResourceAssigned:"onResourceAssigned",onResourceAssigning:"onResourceAssigning",onResourceDeleted:"onResourceDeleted",onResourceDeleting:"onResourceDeleting",onResourceInserted:"onResourceInserted",onResourceInserting:"onResourceInserting",onResourceManagerDialogShowing:"onResourceManagerDialogShowing",onResourceUnassigned:"onResourceUnassigned",onResourceUnassigning:"onResourceUnassigning",onSelectionChanged:"onSelectionChanged",onTaskClick:"onTaskClick",onTaskDblClick:"onTaskDblClick",onTaskDeleted:"onTaskDeleted",onTaskDeleting:"onTaskDeleting",onTaskEditDialogShowing:"onTaskEditDialogShowing",onTaskInserted:"onTaskInserted",onTaskInserting:"onTaskInserting",onTaskMoving:"onTaskMoving",onTaskUpdated:"onTaskUpdated",onTaskUpdating:"onTaskUpdating",onScaleCellPrepared:"onScaleCellPrepared"};class lm{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this._customFieldsManager=e._customFieldsManager}_createActionByOption(e){return this._gantt._createActionByOption(e)}_getTaskData(e){return this._gantt.getTaskData(e)}_convertCoreToMappedData(e,t){return this._mappingHelper.convertCoreToMappedData(e,t)}_convertMappedToCoreData(e,t){return this._mappingHelper.convertMappedToCoreData(e,t)}_convertMappedToCoreFields(e,t){return this._mappingHelper.convertMappedToCoreFields(e,t)}_convertCoreToMappedFields(e,t){return this._mappingHelper.convertCoreToMappedFields(e,t)}_saveCustomFieldsDataToCache(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._customFieldsManager.saveCustomFieldsDataToCache(e,t,r,h)}createTaskDblClickAction(){this._taskDblClickAction=this._createActionByOption(Rt.onTaskDblClick)}taskDblClickAction(e){this._taskDblClickAction||this.createTaskDblClickAction(),this._taskDblClickAction(e)}raiseTaskDblClickAction(e,t){const r={cancel:!1,data:this._getTaskData(e),event:t,key:e};return this.taskDblClickAction(r),!r.cancel}createTaskClickAction(){this._taskClickAction=this._createActionByOption(Rt.onTaskClick)}taskClickAction(e){this._taskClickAction||this.createTaskClickAction(),this._taskClickAction(e)}raiseTaskClickAction(e,t){const r={key:e,event:t,data:this._getTaskData(e)};this.taskClickAction(r)}createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption(Rt.onSelectionChanged)}selectionChangedAction(e){this._selectionChangedAction||this.createSelectionChangedAction(),this._selectionChangedAction(e)}raiseSelectionChangedAction(e){this.selectionChangedAction({selectedRowKey:e})}createCustomCommandAction(){this._customCommandAction=this._createActionByOption(Rt.onCustomCommand)}customCommandAction(e){this._customCommandAction||this.createCustomCommandAction(),this._customCommandAction(e)}raiseCustomCommand(e){this.customCommandAction({name:e})}createContextMenuPreparingAction(){this._contextMenuPreparingAction=this._createActionByOption(Rt.onContextMenuPreparing)}contextMenuPreparingAction(e){this._contextMenuPreparingAction||this.createContextMenuPreparingAction(),this._contextMenuPreparingAction(e)}raiseContextMenuPreparing(e){this.contextMenuPreparingAction(e)}_getInsertingAction(e){switch(e){case"tasks":return this._getTaskInsertingAction();case"dependencies":return this._getDependencyInsertingAction();case"resources":return this._getResourceInsertingAction();case"resourceAssignments":return this._getResourceAssigningAction()}return()=>{}}raiseInsertingAction(e,t){const r=this._getInsertingAction(e);if(r){const h={cancel:!1,values:this._convertCoreToMappedData(e,t.values)};r(h),t.cancel=h.cancel,Wt(t.values,this._convertMappedToCoreData(e,h.values)),e==="tasks"&&this._saveCustomFieldsDataToCache("gantt_new_task_key",h.values)}}createTaskInsertingAction(){this._taskInsertingAction=this._createActionByOption(Rt.onTaskInserting)}taskInsertingAction(e){this._getTaskInsertingAction()(e)}_getTaskInsertingAction(){return this._taskInsertingAction||this.createTaskInsertingAction(),this._taskInsertingAction}createDependencyInsertingAction(){this._dependencyInsertingAction=this._createActionByOption(Rt.onDependencyInserting)}dependencyInsertingAction(e){this._getDependencyInsertingAction()(e)}_getDependencyInsertingAction(){return this._dependencyInsertingAction||this.createDependencyInsertingAction(),this._dependencyInsertingAction}createResourceInsertingAction(){this._resourceInsertingAction=this._createActionByOption(Rt.onResourceInserting)}resourceInsertingAction(e){this._getResourceInsertingAction()(e)}_getResourceInsertingAction(){return this._resourceInsertingAction||this.createResourceInsertingAction(),this._resourceInsertingAction}createResourceAssigningAction(){this._resourceAssigningAction=this._createActionByOption(Rt.onResourceAssigning)}resourceAssigningAction(e){this._getResourceAssigningAction()(e)}_getResourceAssigningAction(){return this._resourceAssigningAction||this.createResourceAssigningAction(),this._resourceAssigningAction}_getInsertedAction(e){switch(e){case"tasks":return this._getTaskInsertedAction();case"dependencies":return this._getDependencyInsertedAction();case"resources":return this._getResourceInsertedAction();case"resourceAssignments":return this._getResourceAssignedAction()}return()=>{}}raiseInsertedAction(e,t,r){const h=this._getInsertedAction(e);h&&h({values:t,key:r})}createTaskInsertedAction(){this._taskInsertedAction=this._createActionByOption(Rt.onTaskInserted)}taskInsertedAction(e){this._getTaskInsertedAction()(e)}_getTaskInsertedAction(){return this._taskInsertedAction||this.createTaskInsertedAction(),this._taskInsertedAction}createDependencyInsertedAction(){this._dependencyInsertedAction=this._createActionByOption(Rt.onDependencyInserted)}dependencyInsertedAction(e){this._getDependencyInsertedAction()(e)}_getDependencyInsertedAction(){return this._dependencyInsertedAction||this.createDependencyInsertedAction(),this._dependencyInsertedAction}createResourceInsertedAction(){this._resourceInsertedAction=this._createActionByOption(Rt.onResourceInserted)}resourceInsertedAction(e){this._getResourceInsertedAction()(e)}_getResourceInsertedAction(){return this._resourceInsertedAction||this.createResourceInsertedAction(),this._resourceInsertedAction}createResourceAssignedAction(){this._resourceAssignedAction=this._createActionByOption(Rt.onResourceAssigned)}resourceAssignedAction(e){this._getResourceAssignedAction()(e)}_getResourceAssignedAction(){return this._resourceAssignedAction||this.createResourceAssignedAction(),this._resourceAssignedAction}_getDeletingAction(e){switch(e){case"tasks":return this._getTaskDeletingAction();case"dependencies":return this._getDependencyDeletingAction();case"resources":return this._getResourceDeletingAction();case"resourceAssignments":return this._getResourceUnassigningAction()}return()=>{}}raiseDeletingAction(e,t){const r=this._getDeletingAction(e);if(r){const h={cancel:!1,key:t.key,values:this._convertCoreToMappedData(e,t.values)};r(h),t.cancel=h.cancel}}createTaskDeletingAction(){this._taskDeletingAction=this._createActionByOption(Rt.onTaskDeleting)}taskDeletingAction(e){this._getTaskDeletingAction()(e)}_getTaskDeletingAction(){return this._taskDeletingAction||this.createTaskDeletingAction(),this._taskDeletingAction}createDependencyDeletingAction(){this._dependencyDeletingAction=this._createActionByOption(Rt.onDependencyDeleting)}dependencyDeletingAction(e){this._getDependencyDeletingAction()(e)}_getDependencyDeletingAction(){return this._dependencyDeletingAction||this.createDependencyDeletingAction(),this._dependencyDeletingAction}createResourceDeletingAction(){this._resourceDeletingAction=this._createActionByOption(Rt.onResourceDeleting)}resourceDeletingAction(e){this._getResourceDeletingAction()(e)}_getResourceDeletingAction(){return this._resourceDeletingAction||this.createResourceDeletingAction(),this._resourceDeletingAction}createResourceUnassigningAction(){this._resourceUnassigningAction=this._createActionByOption(Rt.onResourceUnassigning)}resourceUnassigningAction(e){this._getResourceUnassigningAction()(e)}_getResourceUnassigningAction(){return this._resourceUnassigningAction||this.createResourceUnassigningAction(),this._resourceUnassigningAction}_getDeletedAction(e){switch(e){case"tasks":return this._getTaskDeletedAction();case"dependencies":return this._getDependencyDeletedAction();case"resources":return this._getResourceDeletedAction();case"resourceAssignments":return this._getResourceUnassignedAction()}return()=>{}}raiseDeletedAction(e,t,r){const h=this._getDeletedAction(e);h&&h({key:t,values:r})}createTaskDeletedAction(){this._taskDeletedAction=this._createActionByOption(Rt.onTaskDeleted)}taskDeletedAction(e){this._getTaskDeletedAction()(e)}_getTaskDeletedAction(){return this._taskDeletedAction||this.createTaskDeletedAction(),this._taskDeletedAction}createDependencyDeletedAction(){this._dependencyDeletedAction=this._createActionByOption(Rt.onDependencyDeleted)}dependencyDeletedAction(e){this._getDependencyDeletedAction()(e)}_getDependencyDeletedAction(){return this._dependencyDeletedAction||this.createDependencyDeletedAction(),this._dependencyDeletedAction}createResourceDeletedAction(){this._resourceDeletedAction=this._createActionByOption(Rt.onResourceDeleted)}resourceDeletedAction(e){this._getResourceDeletedAction()(e)}_getResourceDeletedAction(){return this._resourceDeletedAction||this.createResourceDeletedAction(),this._resourceDeletedAction}createResourceUnassignedAction(){this._resourceUnassignedAction=this._createActionByOption(Rt.onResourceUnassigned)}resourceUnassignedAction(e){this._getResourceUnassignedAction()(e)}_getResourceUnassignedAction(){return this._resourceUnassignedAction||this.createResourceUnassignedAction(),this._resourceUnassignedAction}_getUpdatingAction(e){return e==="tasks"?this._getTaskUpdatingAction():()=>{}}raiseUpdatingAction(e,t,r){if(r=r||this._getUpdatingAction(e),r){const h=e==="tasks",g={cancel:!1,key:t.key,newValues:this._convertCoreToMappedData(e,t.newValues),values:h?this._getTaskData(t.key):this._convertCoreToMappedData(e,t.values)};if(h&&this._customFieldsManager.cache.hasData(g.key)&&this._customFieldsManager.addCustomFieldsDataFromCache(g.key,g.newValues),r(g),t.cancel=g.cancel,Wt(t.newValues,this._convertMappedToCoreData(e,g.newValues)),h)if(g.cancel)this._customFieldsManager.resetCustomFieldsDataCache(g.key);else{const _=!Object.keys(t.newValues).length;this._saveCustomFieldsDataToCache(g.key,g.newValues,_)}}}createTaskUpdatingAction(){this._taskUpdatingAction=this._createActionByOption(Rt.onTaskUpdating)}taskUpdatingAction(e){this._getTaskUpdatingAction()(e)}_getTaskUpdatingAction(){return this._taskUpdatingAction||this.createTaskUpdatingAction(),this._taskUpdatingAction}_getUpdatedAction(e){return e==="tasks"?this._getTaskUpdatedAction():()=>{}}raiseUpdatedAction(e,t,r){const h=this._getUpdatedAction(e);h&&h({values:t,key:r})}createTaskUpdatedAction(){this._taskUpdatedAction=this._createActionByOption(Rt.onTaskUpdated)}taskUpdatedAction(e){this._getTaskUpdatedAction()(e)}_getTaskUpdatedAction(){return this._taskUpdatedAction||this.createTaskUpdatedAction(),this._taskUpdatedAction}createTaskEditDialogShowingAction(){this._taskEditDialogShowingAction=this._createActionByOption(Rt.onTaskEditDialogShowing)}taskEditDialogShowingAction(e){this._getTaskEditDialogShowingAction()(e)}_getTaskEditDialogShowingAction(){return this._taskEditDialogShowingAction||this.createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}raiseTaskEditDialogShowingAction(e){const t=this._getTaskEditDialogShowingAction();if(t){const r={cancel:!1,key:e.key,values:this._convertCoreToMappedData("tasks",e.values),readOnlyFields:this._convertCoreToMappedFields("tasks",e.readOnlyFields),hiddenFields:this._convertCoreToMappedFields("tasks",e.hiddenFields)};t(r),e.cancel=r.cancel,Wt(e.values,this._convertMappedToCoreData("tasks",r.values)),e.readOnlyFields=this._convertMappedToCoreFields("tasks",r.readOnlyFields),e.hiddenFields=this._convertMappedToCoreFields("tasks",r.hiddenFields)}}createResourceManagerDialogShowingAction(){this._resourceManagerDialogShowingAction=this._createActionByOption(Rt.onResourceManagerDialogShowing)}resourceManagerDialogShowingAction(e){this._getResourceManagerDialogShowingAction()(e)}_getResourceManagerDialogShowingAction(){return this._resourceManagerDialogShowingAction||this.createResourceManagerDialogShowingAction(),this._resourceManagerDialogShowingAction}raiseResourceManagerDialogShowingAction(e){const t=this._getResourceManagerDialogShowingAction();if(t){const h={cancel:!1,values:e.values.resources.items.map((g=>this._convertMappedToCoreData("resources",g)))};t(h),e.cancel=h.cancel}}createTaskMovingAction(){this._taskMovingAction=this._createActionByOption(Rt.onTaskMoving)}taskMovingAction(e){this.getTaskMovingAction()(e)}getTaskMovingAction(){return this._taskMovingAction||this.createTaskMovingAction(),this._taskMovingAction}getScaleCellPreparedAction(){return this._scaleCellPreparedAction||this.createScaleCellPreparedAction(),this._scaleCellPreparedAction}createScaleCellPreparedAction(){this._scaleCellPreparedAction=this._createActionByOption(Rt.onScaleCellPrepared)}raiseScaleCellPreparedAction(e){const t=this.getScaleCellPreparedAction();if(t){const r={scaleIndex:e.scaleIndex,scaleType:this._getScaleType(e.scaleType),scaleElement:ti(Ge(e.scaleElement)),separatorElement:ti(Ge(e.separatorElement)),startDate:new Date(e.start),endDate:new Date(e.end)};t(r)}}_getScaleType(e){switch(e){case 0:return"minutes";case 1:return"hours";case 2:return"sixHours";case 3:return"days";case 4:return"weeks";case 5:return"months";case 6:return"quarters";case 7:return"years";case 8:return"fiveYears";default:return}}}class um{constructor(){this._cache={},this._timers={}}saveData(e,t,r){if(t){this._clearTimer(e);const h=this._getCache(e,!0);tc(h,t,!0),r&&this._setExpireTimer(e,r)}}pullDataFromCache(e,t){const r=this._getCache(e);r&&tc(t,r),this._onKeyExpired(e)}hasData(e){return!!this._cache[e]}resetCache(e){this._onKeyExpired(e)}_getCache(e,t){return!this._cache[e]&&t&&(this._cache[e]={}),this._cache[e]}_setExpireTimer(e,t){this._timers[e]=setTimeout((()=>{t(e,this._getCache(e)),this._onKeyExpired(e)}),200)}_onKeyExpired(e){this._clearCache(e),this._clearTimer(e)}_clearCache(e){delete this._cache[e]}_clearTimer(e){const t=this._timers;t&&t[e]&&(clearTimeout(t[e]),delete t[e])}}const on={prepareMapHandler:c=>e=>Object.keys(c).reduce(((t,r)=>{const h=r==="key"?"id":r;return t[h]=c[r](e),t}),{}),prepareSetterMapHandler:c=>e=>Object.keys(c).reduce(((t,r)=>{const h=r==="key"?"id":r;return c[r](t,e[h]),t}),{}),compileGettersByOption(c){const e={};for(const t in c){const r=t.match(/(\w*)Expr/);r&&(e[r[1]]=lr(c[r[0]]))}return e},compileSettersByOption(c){const e={};for(const t in c){const r=t.match(/(\w*)Expr/);r&&!Wi(c[r[0]])&&(e[r[1]]=ss(c[r[0]]))}return e},compileFuncSettersByOption(c){const e={};for(const t in c){const r=t.match(/(\w*)Expr/);r&&Wi(c[r[0]])&&(e[r[1]]=c[r[0]])}return e},getStoreObject(c,e){const t=on.compileSettersByOption(c);return Object.keys(t).reduce(((r,h)=>(h!=="key"&&t[h](r,e[h]),r)),{})},getInvertedData(c,e){const t={};if(c)for(let r=0;r<c.length;r++){const h=c[r],g=e(h);t[g]=h}return t},getArrayFromOneElement:c=>c==null?[]:[c],getSelectionMode:c=>c?"single":"none",convertTreeToList(c,e){c!=null&&c.data&&c!==null&&c!==void 0&&c.visible&&e.push(c.data);for(let r=0;r<((t=c.children)===null||t===void 0?void 0:t.length);r++){var t;const h=c.children[r];on.convertTreeToList(h,e)}},getAllParentNodesKeys(c,e){var t;c!=null&&c.data&&e.push(c.key),c!=null&&(t=c.parent)!==null&&t!==void 0&&t.data&&on.getAllParentNodesKeys(c.parent,e)},getDefaultOptions:()=>({tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,showDependencies:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskInserted:null,onTaskDeleting:null,onTaskDeleted:null,onTaskUpdating:null,onTaskUpdated:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyInserted:null,onDependencyDeleting:null,onDependencyDeleted:null,onResourceInserting:null,onResourceInserted:null,onResourceDeleting:null,onResourceDeleted:null,onResourceAssigning:null,onResourceAssigned:null,onResourceUnassigning:null,onResourceUnassigned:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",scaleTypeRange:{min:"minutes",max:"years"},editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1,enablePredecessorGap:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,taskProgressTooltipContentTemplate:null,taskTimeTooltipContentTemplate:null,taskContentTemplate:null,rootValue:0,sorting:{ascendingText:Be.format("dxGantt-sortingAscendingText"),descendingText:Be.format("dxGantt-sortingDescendingText"),clearText:Be.format("dxGantt-sortingClearText"),mode:"single",showSortIndexes:!1},filterRow:void 0,headerFilter:void 0,rtlEnabled:!1})};class cm{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this.cache=new um}_getTaskCustomFields(){const e=this._gantt.option("columns"),t=e&&e.map((h=>h.dataField)),r=this._mappingHelper.getTaskMappedFieldNames();return t?t.filter((h=>r.indexOf(h)<0)):[]}_getCustomFieldsData(e){return this._getTaskCustomFields().reduce(((t,r)=>(e&&e[r]!==void 0&&(t[r]=e[r]),t)),{})}addCustomFieldsData(e,t){if(t){const r=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),h=lr(this._gantt.option("tasks.keyExpr")),g=r&&r.filter((o=>h(o)===e))[0],_=this._getTaskCustomFields();if(g)for(let o=0;o<_.length;o++){const s=_[o];Object.prototype.hasOwnProperty.call(g,s)&&(t[s]=g[s])}}}appendCustomFields(e){const t=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),r=this._gantt._getTaskKeyGetter(),h=on.getInvertedData(t,r);return e.reduce(((g,_)=>{const o=r(_),s=h[o];if(!s)g.push(_);else{const d={};for(const f in s)d[f]=Object.prototype.hasOwnProperty.call(_,f)?_[f]:s[f];g.push(d)}return g}),[])}addCustomFieldsDataFromCache(e,t){this.cache.pullDataFromCache(e,t)}saveCustomFieldsDataToCache(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const g=this._getCustomFieldsData(t);if(Object.keys(g).length>0){const _=(o,s)=>{const d=this._gantt._tasksOption;d&&s&&d.update(o,s,((f,m)=>{const p={};this.addCustomFieldsData(m,p),d._reloadDataSource().done((l=>{this._gantt._ganttTreeList.updateDataSource(l??d._dataSource,!1,h)}));const n=this._gantt.option("selectedRowKey");this._gantt._ganttView._selectTask(n),this._gantt._actionsManager.raiseUpdatedAction("tasks",p,m)}))};this.cache.saveData(e,g,r?_:null)}}resetCustomFieldsDataCache(e){this.cache.resetCache(e)}}function Gs(c,e){return(c||e)&&!(c&&e)}class dm extends Yf{_supportedKeys(){const e=super._supportedKeys(),t=h=>this._list._keyboardHandler(h),r=this.option("rtlEnabled");return _r({},e,{backspace(h){if(!this._isCaretAtTheStart())return;this._processKeyboardEvent(h),this._isTagRemoved=!0;const g=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),g.length!==0&&(this._preserveFocusedTag=!0,this._removeTagElement(g),delete this._preserveFocusedTag)},upArrow:(h,g)=>h.altKey||!this._list?e.upArrow.call(this,h):t(g),downArrow:(h,g)=>h.altKey||!this._list?e.downArrow.call(this,h):t(g),del(h){if(!this._$focusedTag||!this._isCaretAtTheStart())return;this._processKeyboardEvent(h),this._isTagRemoved=!0;const g=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(g),delete this._preserveFocusedTag},enter(h,g){var _;const o=((_=this._list)===null||_===void 0?void 0:_.option("focusedElement"))!==null&&this.option("opened")===!0;if(this.option("acceptCustomValue")&&!o){h.preventDefault(),this._searchValue()!==""&&this._customItemAddedHandler(h);return}this.option("opened")&&(this._saveValueChangeEvent(h),t(g),h.preventDefault())},space(h,g){const _=this.option("opened"),o=this._shouldRenderSearchEvent();_&&!o&&(this._saveValueChangeEvent(h),t(g),h.preventDefault())},leftArrow(h){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&r&&!this._$focusedTag)return;h.preventDefault();const g=r?"next":"prev";this._moveTagFocus(g),this.option("multiline")||this._scrollContainer(g)},rightArrow(h){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!r&&!this._$focusedTag)return;h.preventDefault();const g=r?"prev":"next";this._moveTagFocus(g),!this.option("multiline")&&this._scrollContainer(g)}})}_processKeyboardEvent(e){e.preventDefault(),e.stopPropagation(),this._saveValueChangeEvent(e)}_isEmpty(){return this._getValue().length===0}_updateTagsContainer(e){this._$tagsContainer=e.addClass("dx-tag-container")}_allowSelectItemByTab(){return!1}_isCaretAtTheStart(){const e=Zf(this._input());return(e==null?void 0:e.start)===0&&e.end===0}_updateInputAriaActiveDescendant(e){this.setAria("activedescendant",e,this._input())}_moveTagFocus(e,t){if(!this._$focusedTag){const h=this._tagElements();this._$focusedTag=e==="next"?h.first():h.last(),this._toggleFocusClass(!0,this._$focusedTag),this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"));return}const r=this._$focusedTag[e](".dx-tag");r.length>0?(this._replaceFocusedTag(r),this._updateInputAriaActiveDescendant(r.attr("id"))):(t||e==="next"&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())}_replaceFocusedTag(e){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=e,this._toggleFocusClass(!0,this._$focusedTag)}_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)}_focusClassTarget(e){return e&&e.length&&e[0]!==this._focusTarget()[0]?e:super._focusClassTarget()}_getLabelContainer(){return this._$tagsContainer}_getFieldElement(){return this._input()}_scrollContainer(e){if(this.option("multiline")||!jd()||!this._$tagsContainer)return;const t=this._getScrollPosition(e);this._$tagsContainer.scrollLeft(t)}_getScrollPosition(e){return e==="start"||e==="end"?this._getBorderPosition(e):this._$focusedTag?this._getFocusedTagPosition(e):this._getBorderPosition("end")}_getBorderPosition(e){const{rtlEnabled:t}=this.option(),r=Gs(e==="end",t),h=t?-1:1;return Gs(r,!t)?0:h*(this._$tagsContainer.get(0).scrollWidth-Ks(this._$tagsContainer))}_getFocusedTagPosition(e){const t=this.option("rtlEnabled"),r=Gs(e==="next",t);let{left:h}=this._$focusedTag.position(),g=this._$tagsContainer.scrollLeft();return r&&(h+=Ks(this._$focusedTag,!0)-Ks(this._$tagsContainer)),Gs(r,h<0)&&(g+=h),g}_setNextValue(){}_getDefaultOptions(){return Wt(super._getDefaultOptions(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:Be.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})}_init(){super._init(),this._selectedItems=[],this._initSelectAllValueChangedAction()}_initActions(){super._initActions(),this._initMultiTagPreparingAction()}_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:e=>{this._multiTagPreparingHandler(e.args[0])},excludeValidators:["disabled","readOnly"]})}_multiTagPreparingHandler(e){const{length:t}=this._getValue();this.option("showMultiTagOnly")?e.text=Be.getFormatter("dxTagBox-selected")(t):e.text=Be.getFormatter("dxTagBox-moreSelected")(t-this.option("maxDisplayedTags")+1)}_initDynamicTemplates(){super._initDynamicTemplates(),this._templateManager.addDefaultTemplates({tag:new Xf(((e,t)=>{const r=Ge("<div>").addClass("dx-tag-content");Ge("<span>").text(t.text??t).appendTo(r),Ge("<div>").addClass("dx-tag-remove-button").appendTo(r),e.append(r)}),["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})}_toggleSubmitElement(e){e?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)}_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=Ge("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))}_setSubmitValue(){if(!this.option("useSubmitBehavior"))return;const e=this._getValue(),t=[];for(let r=0,h=e.length;r<h;r++){const g=this._shouldUseDisplayValue(e[r]);t.push(Ge("<option>").val(g?this._displayGetter(e[r]):e[r]).attr("selected","selected"))}this._getSubmitElement().empty().append(t)}_initMarkup(){this._tagElementsCache=Ge();const e=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",e);const t={role:"application",roledescription:Be.format("dxTagBox-ariaRoleDescription")};this.setAria(t,this.$element()),this._initTagTemplate(),super._initMarkup()}_getNewLabelId(e,t,r){return e?r?e===t?void 0:e.split(" ").filter((h=>h!==t)).join(" "):`${e} ${t}`:t}_updateElementAria(e,t){if(!e){this.setAria("labelledby",void 0,this.$element());return}const h=this.$element().attr("aria-labelledby"),g=this._getNewLabelId(h,e,t);this.setAria("labelledby",g,this.$element())}_render(){super._render(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")}_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")}_renderField(){const e=!Tt(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",e).toggleClass("dx-tagbox-custom-template",!e),super._renderField()}_renderTagRemoveAction(){const e=this._createAction(this._removeTagHandler.bind(this)),t=zi(jf,"dxTagBoxTagRemove");Un.off(this._$tagsContainer,t),Un.on(this._$tagsContainer,t,".dx-tag-remove-button",(r=>{e({event:r})}))}_renderSingleLineScroll(){const e=zi("dxmousewheel",this.NAME),t=this.$element(),r=this.option("multiline");if(Un.off(t,e),Hl.real().deviceType!=="desktop"){this._$tagsContainer&&this._$tagsContainer.css("overflowX",r?"":"auto");return}r||Un.on(t,e,this._tagContainerMouseWheelHandler.bind(this))}_tagContainerMouseWheelHandler(e){const t=this._$tagsContainer.scrollLeft(),r=-.3*e.delta;if(!Hf(e)&&tm(this._$tagsContainer,r,!0))return this._$tagsContainer.scrollLeft(t+r),!1}_renderEvents(){super._renderEvents();const e=this._input(),t=zi("keydown",this.NAME);Un.on(e,t,(r=>{const h=Vf(r);!this._isControlKey(h)&&this._isEditable()&&this._clearTagFocus()}))}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-tagbox-popup-wrapper`}_renderInput(){super._renderInput(),this._renderPreventBlurOnInputClick()}_renderPreventBlurOnInputClick(){const e=zi("mousedown","dxTagBox");Un.off(this._inputWrapper(),e),Un.on(this._inputWrapper(),e,(t=>{t.target!==this._input()[0]&&this._isFocused()&&t.preventDefault()}))}_renderInputValueImpl(){return this._renderMultiSelect()}_loadInputValue(){return jl()}_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")}_focusInHandler(e){this._preventNestedFocusEvent(e)||this._scrollContainer("end"),super._focusInHandler(e)}_renderInputValue(){return this.option("displayValue",this._searchValue()),super._renderInputValue(...arguments)}_restoreInputText(e){e||this._clearTextValue()}_focusOutHandler(e){this._preventNestedFocusEvent(e)||(this._clearTagFocus(),this._scrollContainer("start")),super._focusOutHandler(e)}_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")}_renderList(){super._renderList(),this._setListDataSourceFilter()}_canListHaveFocus(){const{applyValueMode:e}=this.option();return e==="useButtons"}_listConfig(){const e=this.option("showSelectionControls")?"all":"multiple";return Wt(super._listConfig(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:e,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:t=>{let{value:r}=t;this._selectAllValueChangeAction({value:r})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})}_renderMultiSelect(){const e=vn();return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(e.resolve).fail(e.reject),e.promise()}_listItemClickHandler(e){!this.option("showSelectionControls")&&this._clearTextValue();const{applyValueMode:t}=this.option();t!=="useButtons"&&(super._listItemClickHandler(e),this._saveValueChangeEvent(void 0))}_shouldClearFilter(){const e=super._shouldClearFilter();return!this.option("showSelectionControls")&&e}_renderInputSize(){const e=this._input(),t=e.val(),r=rc(t)&&t;let h="",g;const _=this.option("searchEnabled")||this.option("acceptCustomValue");if(r&&_){const o=Uf(e,t,{includePaddings:!0});o.insertAfter(e),h=Ks(o)+5,o.remove()}else t||(g=1);e.css("width",h),e.attr("size",g??"")}_renderInputSubstitution(){super._renderInputSubstitution(),this._updateWidgetHeight()}_getValue(){const{value:e}=this.option();return e||[]}_multiTagRequired(){const e=this._getValue(),{maxDisplayedTags:t}=this.option();return Tt(t)&&e.length>t}_renderMultiTag(e){const t=`dx-${new Bl}`,r=Ge("<div>").attr("id",t).addClass("dx-tag").addClass("dx-tagbox-multi-tag"),h={multiTagElement:ti(r),selectedItems:this.option("selectedItems")};if(this._multiTagPreparingAction(h),h.cancel)return!1;r.data("dxTagData",h.text),r.insertBefore(e),this._tagTemplate.render({model:h.text,container:ti(r)});const g=h.text;return this._setTagAria(r,g),this._updateElementAria(t),r}_getFilter(e){const t=this._dataController.filter(),r=e.getCombinedFilter(this.option("valueExpr"),t),h=encodeURI(JSON.stringify(r)).length,g=this.option("maxFilterQueryLength");if(h<=g)return r;ds.log("W1019",g)}_getFilteredItems(e){var t,r;(t=this._loadFilteredItemsPromise)===null||t===void 0||t.reject();const h=new Jf(e),g=(r=this._list)===null||r===void 0?void 0:r.option("selectedItems"),_=!!g&&this._list._dataController.isLoaded(),o=g||this.option("selectedItems"),s=h.getLocalFilter(this._valueGetter),d=o.filter(s),f=d.length===e.length,m=vn(),p=this._dataController;if(!this._dataSource)return m.resolve([]).promise();if((!this._isDataSourceChanged||_)&&f&&!this._isDataSourceOptionChanged)return m.resolve(d).promise();const{customQueryParams:n,expand:l,select:i}=p.loadOptions(),u=this._getFilter(h);return p.loadFromStore({filter:u,customQueryParams:n,expand:l,select:i}).done(((a,y)=>{if(this._isDataSourceChanged=!1,this._isDataSourceOptionChanged=!1,this._disposed){m.reject();return}const{data:v}=Qf(a,y),w=p.applyMapFunction(v);m.resolve(w.filter(s))})).fail(m.reject),this._loadFilteredItemsPromise=m,m.promise()}_createTagsData(e,t){const r=[],h={},g=this._valueGetterExpr()==="this",{acceptCustomValue:_}=this.option(),o={};t.forEach((f=>{const m=g?JSON.stringify(f):this._valueGetter(f);o[m]=f}));const s=[];e.forEach(((f,m)=>{const p=o[g?JSON.stringify(f):f];if(g&&!Tt(p)){if(!this._dataSource)return;s.push(this._loadItem(f,h).done((n=>{const l=this._createTagData(n,f);r.splice(m,0,l)})).fail((()=>{if(_){const n=this._createTagData(void 0,f);r.splice(m,0,n)}})))}else{const n=this._createTagData(p,f);r.splice(m,0,n)}}));const d=vn();return jl.apply(this,s).always((()=>{d.resolve(r)})),d.promise()}_createTagData(e,t){if(Tt(e))return this._selectedItems.push(e),e;const r=this.option("selectedItem");return this._valueGetter(r)===t?r:t}_isGroupedData(){return this.option("grouped")&&!this._dataController.group()}_getItemsByValues(e){const t=[];return e.forEach((r=>{const h=this._getItemFromPlain(r);Tt(h)&&t.push(h)})),t}_getFilteredGroupedItems(e){const t=vn();return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?t.resolve(this._getItemsByValues(e)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done((()=>{t.resolve(this._getItemsByValues(e))})).fail((()=>{t.resolve([])})).always((()=>{this._filteredGroupedItemsLoadPromise=void 0})),t.promise()}_loadTagsData(){const e=this._getValue(),t=vn();return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(e):this._getFilteredItems(e)).done((h=>{this._createTagsData(e,h).always((_=>{t.resolve(_)}))})).fail(t.reject.bind(this)),t.promise()}_renderTags(){const e=vn();let t=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._tagsToRender=this._selectedItems,this._renderTagsImpl(),t=!0,e.resolve())),t||this._loadTagsData().done((r=>{if(this._disposed){e.reject();return}this._tagsToRender=r,this._renderTagsImpl(),e.resolve()})).fail(e.reject),e.promise()}_renderTagsImpl(){this._renderField(),this._shouldUpdateSelectedItems()&&this.option("selectedItems",this._selectedItems.slice()),this._getFieldTemplate()||(this._cleanTags(),this._renderTagsCore())}_shouldGetItemsFromPlain(e){return e&&this._dataController.isLoaded()&&e.length<=this._getPlainItems().length}_getItemsFromPlain(e){let t=this._getSelectedItemsFromList(e);if(t.length===0&&e.length>0||t.length<e.length){const h=this._getPlainItems();t=this._filterSelectedItems(h,e)}return t}_getSelectedItemsFromList(e){const{selectedItems:t}=this._list?this._list.option():{selectedItems:[]};let r=[];return e.length===(t==null?void 0:t.length)&&(r=this._filterSelectedItems(t,e)),r}_filterSelectedItems(e,t){return e.filter((h=>{let g;for(let _=0;_<t.length;_++)if(g=t[_],nc(g)){if(this._isValueEquals(h,g))return!0}else if(this._isValueEquals(this._valueGetter(h),g))return!0;return!1}),this)}_processDataSourceChanging(){this._isDataSourceOptionChanged=!0,super._processDataSourceChanging()}_integrateInput(){super._integrateInput();const e=this.$element().find(".dx-texteditor-input-container");this._updateTagsContainer(e),this._renderTagRemoveAction(),this._renderTagsCore()}_renderTagsCore(){var e;this._renderTagsElements(this._tagsToRender),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus(),(e=this._popup)===null||e===void 0||e.refreshPosition()}_shouldUpdateSelectedItems(){var e,t;const{selectedItems:r}=this.option();return!!(Tt(r)&&r.length!==((e=this._selectedItems)===null||e===void 0?void 0:e.length)||sc(r,this._selectedItems).length!==((t=this._selectedItems)===null||t===void 0?void 0:t.length))}_renderTagsElements(e){const t=this._multiTagRequired()&&this._renderMultiTag(this._input()),r=this.option("showMultiTagOnly"),h=this.option("maxDisplayedTags");e.forEach(((g,_)=>{if(t&&r||t&&!r&&_-h>=-1)return!1;this._renderTag(g,t||this._input())})),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()}_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{const e=this._tagElements(),r=(this.option("selectedItems")??[]).map((h=>this._valueGetter(h)));yo(e,((h,g)=>{const _=Ge(g),o=_.data("dxTagData");r.includes(o)||_.remove()}))}this._updateElementAria()}_renderEmptyState(){const e=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(e),this._renderDisplayText()}_renderDisplayText(){this._renderInputSize()}_refreshTagElements(){this._tagElementsCache=this.$element().find(".dx-tag")}_tagElements(){return this._tagElementsCache}_applyTagTemplate(e,t){this._tagTemplate.render({model:e,container:ti(t)})}_renderTag(e,t){const r=this._valueGetter(e);if(!Tt(r))return;let h=this._getTag(r);const g=this._displayGetter(e),_=this._getItemModel(e,g);if(h){const o=h.data("dxTagDisplayValue");Tt(g)&&!To(o,g)&&(h.empty(),this._applyTagTemplate(_,h)),this._updateElementAria(h.attr("id"))}else{const o=`dx-${new Bl}`;h=this._createTag(r,t,o,g),this._setTagAria(h,Tt(g)?g:r),Tt(e)?this._applyTagTemplate(_,h):this._applyTagTemplate(r,h),this._updateElementAria(o)}}_setTagAria(e,t){const r={role:"button",label:t,roledescription:Be.format("dxTagBox-tagRoleDescription")};this.setAria(r,e)}_getItemModel(e,t){return nc(e)&&Tt(t)?e:xf(t,"")}_getTag(e){const t=this._tagElements(),r=t.length;let h=!1;for(let g=0;g<r;g++){const _=t[g],o=Wf(_,"dxTagData");if(e===o||To(e,o)){h=Ge(_);break}}return h}_createTag(e,t,r,h){return Ge("<div>").attr("id",r).addClass("dx-tag").data("dxTagData",e).data("dxTagDisplayValue",h).insertBefore(t)}_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)}_customItemAddedHandler(e){super._customItemAddedHandler(e),this._clearTextValue()}_removeTagHandler(e){const t=e.event;t.stopPropagation(),this._saveValueChangeEvent(t);const r=Ge(t.target).closest(".dx-tag");this._removeTagElement(r)}_removeTagElement(e){if(e.hasClass("dx-tagbox-multi-tag")){if(this.option("showMultiTagOnly"))this.clear();else{const{maxDisplayedTags:h}=this.option();this.option("value",this._getValue().slice(0,h))}return}const t=e.data("dxTagData"),r=e.attr("id");this._removeTagWithUpdate(t),this._updateElementAria(r,!0),this._refreshTagElements()}_updateField(){}_removeTagWithUpdate(e){const t=this._getValue().slice();this._removeTag(t,e),this.option("value",t),this.option("selectedItem",null),t.length===0&&this._clearTagFocus()}_getCurrentValue(){return this._lastValue()}_selectionChangeHandler(e){const{applyValueMode:t}=this.option();if(t==="useButtons")return;const r=this._getValue().slice();if(yo(e.removedItems||[],((h,g)=>{this._removeTag(r,this._valueGetter(g))})),yo(e.addedItems||[],((h,g)=>{this._addTag(r,this._valueGetter(g))})),this._updateWidgetHeight(),!To(this._list.option("selectedItemKeys"),this.option("value"))){const h=this._list._getSelectionChangeEvent();h&&this._saveValueChangeEvent(h),this.option("value",r)}this._list._saveSelectionChangeEvent(void 0)}_removeTag(e,t){const r=this._valueIndex(t,e);r>=0&&e.splice(r,1)}_addTag(e,t){this._valueIndex(t)<0&&e.push(t)}_fieldRenderData(){return this._selectedItems.slice()}_completeSelection(e){this.option("showSelectionControls")||this._setValue(e)}_setValue(e){var t;if(e===null)return;const{applyValueMode:r}=this.option(),h=r==="useButtons",g=this._valueIndex(e),{selectedItemKeys:_}=((t=this._list)===null||t===void 0?void 0:t.option())||{selectedItemKeys:[]},o=(h?_??[]:this._getValue()).slice();if(g>=0?o.splice(g,1):o.push(e),h){var s;(s=this._list)===null||s===void 0||s.option("selectedItemKeys",o)}else this.option("value",o)}_isSelectedValue(e,t){return this._valueIndex(e,null,t)>-1}_valueIndex(e,t,r){let h=-1;return r&&typeof e!="object"&&(r.indexByValues||(r.indexByValues={},t=t||this._getValue(),t.forEach(((g,_)=>{r.indexByValues[g]=_}))),e in r.indexByValues)?r.indexByValues[e]:(t=t||this._getValue(),yo(t,((g,_)=>{if(this._isValueEquals(e,_))return h=g,!1})),h)}_lastValue(){const e=this._getValue();return e[e.length-1]??null}_shouldRenderSearchEvent(){const{searchEnabled:e,acceptCustomValue:t}=this.option();return e||t}_searchHandler(e){this.option("searchEnabled")&&e&&!this._isTagRemoved&&(super._searchHandler(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved}_updateWidgetHeight(){const e=this.$element(),t=Ti(e);this._renderInputSize();const r=Ti(e);this._popup&&this.option("opened")&&this._isEditable()&&r!==t&&this._popup.repaint()}_refreshSelected(){var e;!((e=this._list)===null||e===void 0)&&e.getDataSource()&&this._list.option("selectedItems",this._selectedItems)}_resetListDataSourceFilter(){const e=this._dataController;delete this._userFilter,e.filter(null),e.reload()}_setListDataSourceFilter(){if(!this.option("hideSelectedItems")||!this._list)return;const e=this._dataController,t=this._valueGetterExpr();if(rc(t)&&t!=="this"){const r=this._dataSourceFilterExpr();this._userFilter===void 0&&(this._userFilter=e.filter()||null),this._userFilter&&r.push(this._userFilter),r.length?e.filter(r):e.filter(null)}else e.filter(this._dataSourceFilterFunction.bind(this));e.load()}_dataSourceFilterExpr(){const e=[];return this._getValue().forEach((t=>e.push(["!",[this._valueGetterExpr(),t]]))),e}_dataSourceFilterFunction(e){const t=this._valueGetter(e);let r=!0;return yo(this._getValue(),((h,g)=>{if(this._isValueEquals(g,t))return r=!1,!1})),r}_dataSourceChangedHandler(){this._isDataSourceChanged=!0,super._dataSourceChangedHandler.apply(this,arguments)}_applyButtonHandler(e){this._saveValueChangeEvent(e.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),super._applyButtonHandler(),this._cancelSearchIfNeed()}_getSortedListValues(){const e=this._getListValues(),{value:t}=this.option(),r=t||[],h=e.length?sc(r,e):[],g=h.length?zf(e,r):e;return h.concat(g)}_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map((e=>this._valueGetter(e))):[]}_setListDataSource(){const e=this._getValue();super._setListDataSource();const{value:t}=this.option();e!==t&&this.option("value",e),this._refreshSelected()}_renderOpenedState(){super._renderOpenedState();const{applyValueMode:e}=this.option();e==="useButtons"&&!this.option("opened")&&this._refreshSelected()}clear(){this._restoreInputText();const e=this._getDefaultOptions().value,{value:t}=this.option();e&&e.length===0&&t&&e.length===t.length||super.clear()}_clean(){super._clean(),delete this._valuesToUpdate,delete this._tagTemplate,delete this._tagsToRender}_getSelectedItemsDifference(e,t){if(!e.length)return{addedItems:[],removedItems:t.slice()};if(!t.length)return{addedItems:e.slice(),removedItems:[]};const r=t.reduce(((g,_)=>{const o=this._valueGetter(_);return g[o]=_,g}),{}),h=[];return e.forEach((g=>{const _=this._valueGetter(g);r[_]||h.push(g),delete r[_]})),{addedItems:h,removedItems:Object.values(r)}}_optionChanged(e){const{name:t,value:r,previousValue:h}=e;switch(t){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":r?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(r);break;case"displayExpr":super._optionChanged(e),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":super._optionChanged(e),!r&&this._refreshEvents();break;case"value":this._valuesToUpdate=r,super._optionChanged(e),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(t,r);break;case"selectedItem":case"maxFilterQueryLength":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(r,h));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!r),this._renderSingleLineScroll();break;default:super._optionChanged(e)}}_getActualSearchValue(){return super._getActualSearchValue()||this._searchValue()}_popupHidingHandler(){super._popupHidingHandler(),this._clearFilter()}}ba("dxTagBox",dm);class hm extends eg{_focusTarget(){return Ge(this.element()).parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){const e=super._getDefaultOptions();return Wt(e,iu._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),Df((()=>{this._itemElements().addClass("dx-radiobutton")}))}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(e){const{itemData:{html:t},itemElement:r}=e;if(!t){const h=Ge("<div>").addClass("dx-radiobutton-icon");Ge("<div>").addClass("dx-radiobutton-icon-dot").appendTo(h);const g=Ge("<div>").append(h).addClass("dx-radio-value-container");Ge(r).prepend(g)}super._postprocessRenderItem(e)}_processSelectableItem(e,t){super._processSelectableItem(e,t),e.toggleClass("dx-radiobutton-checked",t).find(".dx-radiobutton-icon").first().toggleClass("dx-radiobutton-icon-checked",t),this.setAria("checked",t,e)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){const e=super._supportedKeys();return Wt({},e,{enter(t){return t.preventDefault(),e.enter.apply(this,arguments)},space(t){return t.preventDefault(),e.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelectionAttribute(){}}class Ud extends Cf{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>Hl.real().deviceType==="desktop"&&!Hl.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(e){e&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){const e=super._getDefaultOptions();return Wt(e,Wt(iu._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(e){return this._valueGetter?this._valueGetter(e):e.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".dx-radiobutton",this._feedbackHideTimeout=100,this._initDataExpressions()}_initMarkup(){Ge(this.element()).addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(e){let{itemElement:t,event:r,itemData:h}=e;if(this.itemElements().is(t)){const g=this._getItemValue(h);g!==this.option("value")&&(this._saveValueChangeEvent(r),this.option("value",g))}}_getSelectedItemKeys(e){return this.option("valueExpr")!=="this"&&e===null||Tt(e)?[e]:[]}_setSelection(e){const t=this._unwrappedValue(e);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(t))}_renderValidationState(){var e;super._renderValidationState(),(e=this._validationMessage)===null||e===void 0||e.$content().attr("role","alert")}_optionChanged(e){const{name:t,value:r}=e;switch(this._dataExpressionOptionChanged(e),t){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(t,r);break;case"disabled":super._optionChanged(e),this._setCollectionWidgetOption(t,r);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(r),this._setSubmitValue(r),super._optionChanged(e);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(e)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){const{layout:e}=this.option(),t=Ge(this.element());t.toggleClass("dx-radiogroup-vertical",e==="vertical"),t.toggleClass("dx-radiogroup-horizontal",e==="horizontal")}_renderRadios(){this._areRadiosCreated=vn();const e=Ge("<div>").appendTo(this.$element()),{displayExpr:t,accessKey:r,focusStateEnabled:h,itemTemplate:g,tabIndex:_,value:o}=this.option();this._createComponent(e,hm,{onInitialized:s=>{let{component:d}=s;this._radios=d},onContentReady:s=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:t,accessKey:r,dataSource:this._dataSource,focusStateEnabled:h,itemTemplate:g,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(o),tabIndex:_}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=Ge("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),Wt(this._optionsByReference,{value:!0})}_setSubmitValue(e){e=e??this.option("value");const t=this.option("valueExpr")==="this"?this._displayGetter(e):e;this._$submitElement.val(t)}_setCollectionWidgetOption(e,t){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){const{layout:e}=this.option();if(e==="horizontal"){var t;(t=this.itemElements())===null||t===void 0||t.css("height","auto")}else{var r;const h=this.option("items").length;(r=this.itemElements())===null||r===void 0||r.css("height",100/h+"%")}}focus(){var e;(e=this._radios)===null||e===void 0||e.focus()}itemElements(){var e;return(e=this._radios)===null||e===void 0?void 0:e._itemElements()}}Ud.include(iu);ba("dxRadioGroup",Ud);class pm{constructor(e,t){this._popupInstance=e._createComponent(t,tg),this.infoMap={TaskEdit:fm,Resources:gm,Confirmation:mm,ConstraintViolation:ym}}_apply(){if(this._dialogInfo.isValidated()){const e=this._dialogInfo.getResult();this._callback(e),this.hide()}}show(e,t,r,h,g){if(this._callback=r,this._afterClosing=h,!this.infoMap[e])return;const _=this._popupInstance._isVisible()&&this._dialogInfo&&this._dialogInfo instanceof this.infoMap[e];this._dialogInfo=new this.infoMap[e](t,this._apply.bind(this),this.hide.bind(this),g),this._popupInstance.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._afterClosing&&this._popupInstance.option("onHidden",this._afterClosing),_||this._popupInstance.show()}hide(){this._popupInstance.hide(),this._afterClosing&&this._afterClosing()}}class wa{constructor(e,t,r,h){this._parameters=e,this._applyAction=t,this._hideAction=r,this._editingOptions=h}_getFormItems(){return{}}_getFormCssClass(){return""}_getFormData(){return this._parameters}_updateParameters(){}_getOkToolbarItem(){return this._getToolbarItem("OK",this._applyAction)}_getCancelToolbarItem(){return this._getToolbarItem("Cancel",this._hideAction)}_getYesToolbarItem(){return this._getToolbarItem("Yes",this._applyAction)}_getNoToolbarItem(){return this._getToolbarItem("No",this._hideAction)}_getToolbarItem(e,t){return{widget:"dxButton",toolbar:"bottom",options:{text:Be.format(e),onClick:t}}}getTitle(){return""}getToolbarItems(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}getMaxWidth(){return 400}getHeight(){return"auto"}getContentTemplate(){return e=>(this._form=new ag(e,{formData:this._getFormData(),items:this._getFormItems(),elementAttr:{class:this._getFormCssClass()},rtlEnabled:!1}),e)}getResult(){const e=this.getFormData();return this._updateParameters(e),this._parameters}getFormData(){return this._form&&this._form.option("formData")}isValidated(){return!0}}class fm extends wa{getTitle(){return Be.format("dxGantt-dialogTaskDetailsTitle")}_getFormItems(){const e=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,t=e||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:Be.format("dxGantt-dialogTitle")},editorOptions:{readOnly:e||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:Be.format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:t||this._isReadOnlyField("start")},visible:!this._isHiddenField("start"),validationRules:[{type:"required",message:Be.format("validation-required-formatted",Be.format("dxGantt-dialogStartTitle"))},{type:"custom",validationCallback:r=>{if(this._parameters.isValidationRequired){const h=this._parameters.getCorrectDateRange(this._parameters.id,r.value,this._parameters.end);if(h.start.getTime()!==r.value.getTime())return r.rule.message=this._getValidationMessage(!0,h.start),!1}return!0}}]},{dataField:"end",editorType:"dxDateBox",label:{text:Be.format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:t||this._isReadOnlyField("end")},visible:!this._isHiddenField("end"),validationRules:[{type:"required",message:Be.format("validation-required-formatted",Be.format("dxGantt-dialogEndTitle"))},{type:"custom",validationCallback:r=>{if(this._parameters.isValidationRequired){const h=this._parameters.getCorrectDateRange(this._parameters.id,this._parameters.start,r.value);if(h.end.getTime()!==r.value.getTime())return r.rule.message=this._getValidationMessage(!1,h.end),!1}return!0}}]},{dataField:"progress",editorType:"dxNumberBox",label:{text:Be.format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:t||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:Be.format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:e||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:Be.format("dxGantt-dialogEditResourceListHint"),onClick:()=>{this._parameters.showResourcesDialogCommand.execute((()=>{this._parameters.showTaskEditDialogCommand.execute()}))}}}]}}]}_getValidationMessage(e,t){return e?Be.format("dxGantt-dialogStartDateValidation",this._getFormattedDateText(t)):Be.format("dxGantt-dialogEndDateValidation",this._getFormattedDateText(t))}_getFormattedDateText(e){return e?ar.format(e,"shortDateShortTime"):""}_isReadOnlyField(e){return this._parameters.readOnlyFields.indexOf(e)>-1}_isHiddenField(e){return this._parameters.hiddenFields.indexOf(e)>-1}_getFormData(){const e={};for(const t in this._parameters)e[t]=t==="progress"?this._parameters[t]/100:this._parameters[t];return e}_updateParameters(e){this._parameters.title=e.title,this._parameters.start=e.start,this._parameters.end=e.end,this._parameters.progress=Math.round(100*e.progress),this._parameters.assigned=e.assigned}isValidated(){var e;const t=(e=this._form)===null||e===void 0?void 0:e.validate();return t==null?void 0:t.isValid}}class gm extends wa{getTitle(){return Be.format("dxGantt-dialogResourceManagerTitle")}_getFormItems(){return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:Be.format("dxGantt-dialogEditNoResources"),onInitialized:e=>{this.list=e.component},onItemDeleted:e=>{this._parameters.resources.remove(e.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:e=>{this.textBox=e.component},onInput:e=>{const t=e.component.getButton("addResource"),r=e.component.option("text");t.option("disabled",r.length===0)},buttons:[{name:"addResource",location:"after",options:{text:Be.format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:e=>{const t=this._parameters.resources.createItem();t.text=this.textBox.option("text"),this._parameters.resources.add(t),this.list.option("items",this._parameters.resources.items),this.list.scrollToItem(t),this.textBox.clear(),e.component.option("disabled",!0)}}}]}}]}}class mm extends wa{getContentTemplate(){return e=>this._getConfirmMessage()}_getConfirmMessage(){switch(this._parameters.type){case 0:return Be.format("dxGantt-dialogTaskDeleteConfirmation");case 1:return Be.format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return Be.format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}getToolbarItems(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}class ym extends wa{_getFormItems(){const e=this._parameters.hasCriticalErrors,t=this._parameters.errorsCount>1,r=[],h=t?"dxGantt-dialogDeleteDependenciesMessage":"dxGantt-dialogDeleteDependencyMessage",g=t?"dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"dxGantt-dialogMoveTaskAndKeepDependencyMessage";let _;return e?_=t?"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"dxGantt-dialogConstraintCriticalViolationMessage":_=t?"dxGantt-dialogConstraintViolationSeveralTasksMessage":"dxGantt-dialogConstraintViolationMessage",r.push({text:Be.format("dxGantt-dialogCancelOperationMessage"),value:0}),r.push({text:Be.format(h),value:1}),e||r.push({text:Be.format(g),value:2}),[{template:Be.format(_)},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:r,valueExpr:"value",value:0}}]}_getFormCssClass(){return"dx-cv-dialog"}_updateParameters(e){this._parameters.option=e.option}}const qs=ru(),vm="dx-treelist-empty-space",_m="dx-treelist-table";class bm{constructor(e){this._gantt=e,this._treeList=e._treeList,this._cache={}}reset(){this._cache={}}getTreeListTableStyle(){const e=this._getTreeListTable(),t=qs.getComputedStyle(e);return{color:t.color,backgroundColor:t.backgroundColor,fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStyle:t.fontStyle,textAlign:"left",verticalAlign:"middle"}}getTreeListColCount(){return this._getHeaderView().getColumnWidths().filter((r=>r>0)).length}getTreeListHeaderInfo(e){const t=this._getHeaderElement(e);if(!t)return null;const r=qs.getComputedStyle(t),h={color:r.color,padding:r.padding,paddingLeft:r.paddingLeft,paddingTop:r.paddingTop,paddingRight:r.paddingRight,paddingBottom:r.paddingBottom,verticalAlign:r.verticalAlign,width:this._getColumnWidth(e)};return{content:t.textContent,styles:h}}getTreeListCellInfo(e,t){const r=this._treeList.getNodeByKey(e),h=this._treeList.getRowIndexByKey(e),g=h>-1?this._getDataCell(h,t):null,_=g?qs.getComputedStyle(g):this._getColumnCellStyle(t),o={color:_.color,padding:_.padding,paddingLeft:_.paddingLeft,paddingTop:_.paddingTop,paddingRight:_.paddingRight,paddingBottom:_.paddingBottom,width:this._getColumnWidth(t)};return t===0&&(o.extraLeftPadding=this._getEmptySpaceWidth(r.level)),{content:(g==null?void 0:g.textContent)??this._getDisplayText(e,t),styles:o}}getTreeListEmptyDataCellInfo(){return{content:this._treeList.option("noDataText")}}_ensureColumnWidthCache(e){var t;if((t=this._cache).columnWidths??(t.columnWidths={}),!this._cache.columnWidths[e]){const r=this._getHeaderElement(e);this._cache.columnWidths[e]=(r==null?void 0:r.clientWidth)??0}}_getColumnWidth(e){this._ensureColumnWidthCache(e);const t=this._cache.columnWidths;return t&&t[e]}_getEmptySpaceWidth(e){if(!this._cache.emptyWidth){var t;const r=this._getTreeListElement(vm);(t=this._cache).emptyWidth??(t.emptyWidth=r.offsetWidth??0)}return this._cache.emptyWidth*(e+1)}_getColumnCellStyle(e){return this._ensureColumnCellStyleCache(e),this._cache.columnStyles[e]}_ensureColumnCellStyleCache(e){var t;if((t=this._cache).columnStyles??(t.columnStyles={}),!this._cache.columnStyles[e]){const r=this._getDataCell(0,e);this._cache.columnStyles[e]=qs.getComputedStyle(r)}}_getTask(e){return this._ensureTaskCache(e),this._cache.tasks[e]}_ensureTaskCache(e){var t,r;(t=this._cache).tasks??(t.tasks={}),(r=this._cache.tasks)[e]??(r[e]=this._gantt._findTaskByKey(e))}_getTreeListTable(){return this._getTreeListElement(_m)}_getTreeListElement(e){return this._treeList._$element.find("."+e).get(0)}_getDataCell(e,t){const h=this._treeList.getCellElement(e,t);return h&&h.length?h[0]:h}_getHeaderElement(e){return this._getHeaderView().getHeaderElement(e).get(0)}_getHeaderView(){return this._treeList._views.columnHeadersView}_getDisplayText(e,t){const r=this._getTask(e);return r&&this._getGridDisplayText(t,r)}_getGridDisplayText(e,t){const h=this._treeList.getController("columns").getColumns()[e],g=h==null?void 0:h.dataField,_=h==null?void 0:h.format,o=wi.getDisplayValue(h,t[g],t,"data");if(Tt(_)){if((h==null?void 0:h.dataType)==="date"||(h==null?void 0:h.dataType)==="datetime"){const s=Af(o)?o:new Date(o);return ar.format(s,_)}if(Ef(o))return Pf.format(o,_)}return typeof o=="string"?o:o==null?void 0:o.toString()}}const dl=/(\w*)Expr/;class Tm{constructor(e){this._gantt=e}_getMappedFieldName(e,t){let r=t;return t==="id"&&(r="key"),this._gantt.option(`${e}.${r}Expr`)}getTaskMappedFieldNames(){const e=[],t=this._gantt.option("tasks");for(const r in t){const h=r.match(dl),g=h&&t[h[0]];g&&e.push(g)}return e}convertCoreToMappedData(e,t){return Object.keys(t).reduce(((r,h)=>{const g=this._getMappedFieldName(e,h);return g&&!Wi(g)&&ss(g)(r,t[h]),r}),{})}convertMappedToCoreData(e,t){const r={};if(t){const h=this._gantt.option(e);for(const g in h){const _=g.match(dl),o=_&&h[_[0]];if(o&&t[o]!==void 0){const s=lr(o),d=_[1];r[d]=s(t)}}}return r}convertCoreToMappedFields(e,t){return t.reduce(((r,h)=>{const g=this._getMappedFieldName(e,h);return g&&r.push(g),r}),[])}convertMappedToCoreFields(e,t){const r=[],h=this._gantt.option(e);for(const g in h){const _=g.match(dl),o=_&&h[_[0]];if(o&&t.indexOf(o)>-1){const s=_[1];r.push(s)}}return r}}class wm{constructor(e){this._gantt=e}_setTreeListDimension(e,t){var r;const h=e==="width"?ac:lc,g=e==="width"?ll:Ti;h(this._gantt._$treeListWrapper,t),(r=this._gantt._ganttTreeList)===null||r===void 0||r.setOption(e,g(this._gantt._$treeListWrapper))}_setGanttViewDimension(e,t){const r=e==="width"?ac:lc,h=e==="width"?ll:Ti;r(this._gantt._$ganttView,t),this._gantt._setGanttViewOption(e,h(this._gantt._$ganttView))}_getPanelsWidthByOption(){var e,t;const r=ll(this._gantt._$element),h=this._gantt.option("taskListWidth");let g;return isNaN(h)?((e=h.indexOf)===null||e===void 0?void 0:e.call(h,"px"))>0?g=r-parseInt(h.replace("px",""))+"px":((t=h.indexOf)===null||t===void 0?void 0:t.call(h,"%"))>0&&(g=100-parseInt(h.replace("%",""))+"%"):g=r-parseInt(h),{leftPanelWidth:h,rightPanelWidth:g}}onAdjustControl(){const e=Ti(this._gantt._$element);this.updateGanttWidth(),this.setGanttHeight(e)}onApplyPanelSize(e){this.setInnerElementsWidth(e),this.updateGanttRowHeights()}updateGanttRowHeights(){const e=this._gantt._ganttTreeList.getRowHeight();if(this._gantt._getGanttViewOption("rowHeight")!==e){var t;this._gantt._setGanttViewOption("rowHeight",e),(t=this._gantt._ganttView)===null||t===void 0||t._ganttViewCore.updateRowHeights(e)}}adjustHeight(){this._gantt._hasHeight||(this._gantt._setGanttViewOption("height",0),this._gantt._setGanttViewOption("height",this._gantt._ganttTreeList.getOffsetHeight()))}setInnerElementsWidth(e){if(!jd())return;const t=!e;t&&(e=this._getPanelsWidthByOption(),this._setTreeListDimension("width",0),this._setGanttViewDimension("width",0)),this._setTreeListDimension("width",e.leftPanelWidth),this._setGanttViewDimension("width",e.rightPanelWidth),t&&this._gantt._splitter._setSplitterPositionLeft()}updateGanttWidth(){this._gantt._splitter._dimensionChanged()}setGanttHeight(e){var t;const r=this._gantt._$toolbarWrapper.get(0).offsetHeight,h=e-r;this._setTreeListDimension("height",h),this._setGanttViewDimension("height",h),(t=this._gantt._ganttView)===null||t===void 0||t._ganttViewCore.resetAndUpdate()}}class km{constructor(e){this._gantt=e}getTaskTooltipContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e);return t&&((h,g,_)=>(t.render({model:this._gantt.getTaskDataByCoreData(g),container:ti(Ge(h)),onRendered:()=>{_()}}),!0))}getTaskProgressTooltipContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e);return t&&((h,g,_)=>(t.render({model:g,container:ti(Ge(h)),onRendered:()=>{_()}}),!0))}getTaskTimeTooltipContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e);return t&&((h,g,_)=>(t.render({model:g,container:ti(Ge(h)),onRendered:()=>{_()}}),!0))}getTaskContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e);return t&&((h,g,_,o)=>(g.taskData=this._gantt.getTaskDataByCoreData(g.taskData),t.render({model:g,container:ti(Ge(h)),onRendered:()=>{_(h,o)}}),!0))}}const Sm="dx-gantt-toolbar-separator",rn={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12,resourceManager:13,toggleResources:14,toggleDependencies:15};class Wd{constructor(e,t){this._element=e,this._owner=t,this._items=[],this._createControl()}createItems(e){this._cache=null,this._items=this._createItemsCore(e),this._menu.option("items",this._items)}_createItemsCore(e){return e.map((t=>{let r;return typeof t=="string"?r=this._createItemByText(t):r=t.name?Wt(this._createItemByText(t.name),t):Wt(this._getDefaultItemOptions(),t),t.items&&(r.items=this._createItemsCore(t.items)),r}))}_createItemByText(e){switch(e.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(rn.undo,Be.format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(rn.redo,Be.format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(rn.expandAll,Be.format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(rn.collapseAll,Be.format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(rn.createTask,Be.format("dxGantt-addNewTask"),this._getIcon("add"));case"addsubtask":return this._createDefaultItem(rn.createSubTask,Be.format("dxGantt-contextMenuNewSubtask"),this._getIcon("add-sub-task"));case"deletetask":return this._createDefaultItem(rn.removeTask,Be.format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(rn.removeDependency,Be.format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(rn.zoomIn,Be.format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(rn.zoomOut,Be.format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(rn.fullScreen,Be.format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(rn.taskInformation,Be.format("dxGantt-dialogTaskDetailsTitle")+"...",this._getIcon("task-details"));case"resourcemanager":return this._createDefaultItem(rn.resourceManager,Be.format("dxGantt-dialogResourceManagerTitle"),this._getIcon("resource-manager"));case"showresources":return this._createDefaultItem(rn.toggleResources,Be.format("dxGantt-showResources"),this._getIcon("toggle-resources"));case"showdependencies":return this._createDefaultItem(rn.toggleDependencies,Be.format("dxGantt-showDependencies"),this._getIcon("toggle-dependencies"));default:return Wt(this._getDefaultItemOptions(),{options:{text:e}})}}_getDefaultItemOptions(){return{}}_getItemsCache(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}_fillCache(e){e.forEach((t=>{const r=t.commandId;r!==void 0&&(this._cache[r]||(this._cache[r]=[]),this._cache[r].push(t)),t.items&&this._fillCache(t.items)}))}_getIcon(e){return"dx-gantt-i dx-gantt-i-"+e}getCommandKeys(){const e=this._getItemsCache(),t=[];for(const r in e)t.push(parseInt(r));return t}setItemEnabled(e,t){this._getItemsCache()[e].forEach((h=>{h.disabled=!t}))}setItemVisible(e,t){this._getItemsCache()[e].forEach((h=>{h.visible=t}))}setItemValue(e,t){}setEnabled(e){this._menu.option("disabled",!e)}updateItemsList(){}isVisible(){return!0}isContextMenu(){return!1}completeUpdate(){}}class Cm extends Wd{_createControl(){this._menu=this._owner._createComponent(this._element,lg,{onItemClick:e=>{const t=e.itemData.commandId;t!==void 0&&this._owner._executeCoreCommand(t)}})}_createDefaultItem(e,t,r){return{commandId:e,disabled:!0,widget:"dxButton",location:"before",options:{icon:r,stylingMode:"text",hint:t}}}_createSeparator(){return{location:"before",template:(e,t,r)=>{Ge(r).addClass(Sm)}}}_getDefaultItemOptions(){return{location:"before",widget:"dxButton"}}completeUpdate(){this._menu.option("items",this._items)}}class Im extends Wd{_createControl(){this._menu=this._owner._createComponent(this._element,ug,{showEvent:void 0,onItemClick:e=>{e.itemData.commandId!==void 0?this._owner._executeCoreCommand(e.itemData.commandId):e.itemData.name!==void 0&&this._owner._actionsManager.raiseCustomCommand(e.itemData.name)}})}createItems(e){(!e||e.length===0)&&(e=this._getDefaultItems()),super.createItems(e)}_getDefaultItems(){return[{text:Be.format("dxGantt-dialogButtonAdd"),commandId:rn.taskAddContextItem,icon:this._getIcon("add"),items:[{text:Be.format("dxGantt-contextMenuNewTask"),commandId:rn.createTask,icon:this._getIcon("add-task")},{text:Be.format("dxGantt-contextMenuNewSubtask"),commandId:rn.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:Be.format("dxGantt-dialogTaskDetailsTitle")+"...",commandId:rn.taskInformation,icon:this._getIcon("task-details")},{text:Be.format("dxGantt-contextMenuDeleteTask"),commandId:rn.removeTask,icon:this._getIcon("delete")},{text:Be.format("dxGantt-contextMenuDeleteDependency"),commandId:rn.removeDependency,icon:this._getIcon("delete-dependency")}]}_createDefaultItem(e,t,r){return{commandId:e,text:t,icon:r}}show(e,t){this._menu.option("items",t||this._items),this._menu.option("position.offset",{x:e.x,y:e.y}),this._menu.option("position.collision","fit"),this._menu.show()}hide(){this._menu.hide()}isContextMenu(){return!0}}const qe=Wt({},cg,{modules:[],foreachNodes(c,e,t){for(let r=0;r<c.length;r++)e(c[r])!==!1&&(t||c[r].hasChildren)&&c[r].children.length&&this.foreachNodes(c[r].children,e,t)}});qe.registerModule("columnHeaders",dg);class xm extends pg{_getFirstItems(e){return super._getFirstItems(e).map((t=>t.data))}getFirstDataColumnIndex(){const e=this.getVisibleColumns(),t=e.length;let r=0;for(let h=0;h<=t-1;h++)if(!Tt(e[h].command)){r=e[h].index;break}return r}}qe.registerModule("columns",{defaultOptions:hg.defaultOptions,controllers:{columns:xm}});const{queryByOptions:zd}=rg,$s=c=>c.option("filterMode")==="fullBranch",Dm=function(c,e){const t=[];return e.forEach((r=>{const h=c.getNodeByKey(r);h&&h.children.forEach((g=>{t.push(g.key)}))})),t},fc=(c,e)=>zd(Vl(c),{sort:e}).toArray();class Am extends fg{_createKeyGetter(){const e=this.getKeyExpr();return lr(e)}_createKeySetter(){const e=this.getKeyExpr();return Wi(e)?e:ss(e)}createParentIdGetter(){return lr(this.option("parentIdExpr"))}createParentIdSetter(){const e=this.option("parentIdExpr");return Wi(e)?e:ss(e)}_createItemsGetter(){return lr(this.option("itemsExpr"))}_createHasItemsGetter(){const e=this.option("hasItemsExpr");return e&&lr(e)}_createHasItemsSetter(){const e=this.option("hasItemsExpr");return Wi(e)?e:e&&ss(e)}_updateIndexByKeyObject(e){const t=this;t._indexByKey={},yo(e,((r,h)=>{t._indexByKey[h.key]=r}))}_calculateHasItems(e,t){const r=this,{parentIds:h}=t.storeLoadOptions;let g;const _=$s(r);return r._hasItemsGetter&&(h||!t.storeLoadOptions.filter||_)&&(g=r._hasItemsGetter(e.data)),g===void 0&&(!r._isChildrenLoaded[e.key]&&t.remoteOperations.filtering&&(h||_)?g=!0:t.loadOptions.filter&&!t.remoteOperations.filtering&&_?g=e.children.length:g=e.hasChildren),!!g}_fillVisibleItemsByNodes(e,t,r){for(let h=0;h<e.length;h++)e[h].visible&&r.push(e[h]),(this.isRowExpanded(e[h].key,t)||!e[h].visible)&&e[h].hasChildren&&e[h].children.length&&this._fillVisibleItemsByNodes(e[h].children,t,r)}_convertItemToNode(e,t,r){const h=this._keyGetter(e);let g=this._parentIdGetter(e);g=Tt(g)?g:t;const _=r[g]=r[g]||{key:g,children:[]},o=r[h]=r[h]||{key:h,children:[]};return o.data=e,o.parent=_,o}_createNodesByItems(e,t){const r=this,h=r.option("rootValue"),g={},_=r._nodeByKey={};let o;if(t)for(o=0;o<t.length;o++)g[this._keyGetter(t[o])]=!0;for(o=0;o<e.length;o++){const d=r._convertItemToNode(e[o],h,_);if(d.key===void 0)return;d.visible=!t||!!g[d.key],d.parent&&d.parent.children.push(d)}const s=_[h]||{key:h,children:[]};return s.level=-1,s}_convertDataToPlainStructure(e,t,r){let h;if(this._itemsGetter&&!e.isConverted){r=r||[];for(let g=0;g<e.length;g++){const _=ng(e[g]);h=this._keyGetter(_),h===void 0&&(h=r.length+1,this._keySetter(_,h)),this._parentIdSetter(_,t===void 0?this.option("rootValue"):t),r.push(_);const o=this._itemsGetter(_);if(o&&o.length){this._convertDataToPlainStructure(o,h,r);const s=this.option("itemsExpr");Wi(s)||delete _[s]}}return r.isConverted=!0,r}return e}_createIdFilter(e,t){const r=[];for(let h=0;h<t.length;h++)r.push([e,"=",t[h]]);return wi.combineFilters(r,"or")}_customizeRemoteOperations(e,t){super._customizeRemoteOperations.apply(this,arguments),e.remoteOperations.paging=!1;let r=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,(!this._lastLoadOptions||t.filtering&&!e.storeLoadOptions.filter)&&!e.isCustomLoading&&(r=!0)),e.isCustomLoading||(this._isReload=this._isReload||t.reload,e.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(t.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?r=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=r}_getParentIdsToLoad(e){const t=[];for(let r=0;r<e.length;r++){const h=this.getNodeByKey(e[r]);(!h||h.hasChildren&&!h.children.length)&&t.push(e[r])}return t}_handleCustomizeStoreLoadOptions(e){const t=this.option("rootValue"),r=this.option("parentIdExpr");let{parentIds:h}=e.storeLoadOptions;if(h&&(e.isCustomLoading=!1),super._handleCustomizeStoreLoadOptions.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&($s(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)){const g=e.collapseVisibleNodes?[]:this.option("expandedRowKeys");h=[t].concat(g).concat(h||[]);const _=e.data?this._getParentIdsToLoad(h):h;_.length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0,e.delay=this.option("loadingTimeout")),e.storeLoadOptions.parentIds=_,e.storeLoadOptions.filter=this._createIdFilter(r,_)}}_generateInfoToLoad(e,t){const r=this;let h;const g={},_={},o=[],s=r.option("rootValue");let d;for(d=0;d<e.length;d++)h=t?r._parentIdGetter(e[d]):r._keyGetter(e[d]),g[h]=!0;for(d=0;d<e.length;d++){h=t?r._keyGetter(e[d]):r._parentIdGetter(e[d]);const f=t?r.isRowExpanded(h):h!==s;!g[h]&&!_[h]&&f&&(_[h]=!0,o.push(h))}return{keyMap:_,keys:o}}_loadParentsOrChildren(e,t,r){var h,g;let _,o;const{keys:s,keyMap:d}=this._generateInfoToLoad(e,r),f=new vn,m=t.remoteOperations.filtering,p=this.option("maxFilterLengthInRequest"),n=((h=t.storeLoadOptions)===null||h===void 0?void 0:h.sort)??((g=t.loadOptions)===null||g===void 0?void 0:g.sort);let l=m?t.storeLoadOptions:t.loadOptions;const i=w=>(m&&(this._cachedStoreData=fc(this._cachedStoreData.concat(w),n)),fc(e.concat(w),n));if(!s.length)return f.resolve(e);let u=s.map((w=>this.getNodeByKey(w))).filter((w=>w&&w.data));if(u.length===s.length&&(r&&(u=u.reduce(((w,T)=>w.concat(T.children)),[])),u.length))return this._loadParentsOrChildren(i(u.map((w=>w.data))),t,r);const a=r?this.option("parentIdExpr"):this.getKeyExpr();_=this._createIdFilter(a,s),encodeURI(JSON.stringify(_)).length>p&&(_=w=>d[r?this._parentIdGetter(w):this._keyGetter(w)],o=m),l=Wt({},l,{filter:o?null:_});const v=t.fullData?new Hd(t.fullData):this._dataSource.store();return this.loadFromStore(l,v).done((w=>{w.length?(o&&(w=Vl(w).filter(_).toArray()),this._loadParentsOrChildren(i(w),t,r).done(f.resolve).fail(f.reject)):f.resolve(e)})).fail(f.reject),f}_loadParents(e,t){return this._loadParentsOrChildren(e,t)}_loadChildrenIfNeed(e,t){return $s(this)?this._loadParentsOrChildren(e,t,!0):jl(e)}_updateHasItemsMap(e){const{parentIds:t}=e.storeLoadOptions;if(t)for(let r=0;r<t.length;r++)this._isChildrenLoaded[t[r]]=!0}_getKeyInfo(){return{key:()=>"key",keyOf:e=>e.key}}_processChanges(e){let t=[];return e.forEach((r=>{r.type==="insert"?t=t.concat(this._applyInsert(r)):r.type==="remove"?t=t.concat(this._applyRemove(r)):r.type==="update"&&t.push({type:r.type,key:r.key,data:{data:r.data}})})),t}_handleChanging(e){super._handleChanging.apply(this,arguments),e.postProcessChanges=t=>{const r=t.filter((h=>h.type==="update"));return this._processChanges(r)}}_applyBatch(e){const t=this._processChanges(e);super._applyBatch(t)}_setHasItems(e,t){const r=this._hasItemsSetter;e.hasChildren=t,r&&e.data&&r(e.data,t)}_applyInsert(e){const t=this,r=[],h=t.parentKeyOf(e.data),g=t.getNodeByKey(h);if(g){const _=t.option("rootValue"),o=t._convertItemToNode(e.data,_,t._nodeByKey);if(o.hasChildren=!1,o.level=g.level+1,o.visible=!0,g.children.push(o),t._isChildrenLoaded[o.key]=!0,t._setHasItems(g,!0),(!g.parent||t.isRowExpanded(g.key))&&e.index!==void 0){let s=t.items().indexOf(g)+1;s+=e.index>=0?Math.min(e.index,g.children.length):g.children.length,r.push({type:e.type,data:o,index:s})}}return r}_needToCopyDataObject(){return!1}_applyRemove(e){let t=[];const r=this.getNodeByKey(e.key),h=r&&r.parent;if(h){const g=h.children.indexOf(r);g>=0&&(h.children.splice(g,1),h.children.length||this._setHasItems(h,!1),t.push(e),t=t.concat(this.getChildNodeKeys(e.key).map((_=>({type:e.type,key:_})))))}return t}_handleDataLoaded(e){const t=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=zd(Vl(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),super._handleDataLoaded(e),t.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)}_fillNodes(e,t,r,h){const g=$s(this);h=h||0;for(let _=0;_<e.length;_++){const o=e[_];let s=!1;this._fillNodes(e[_].children,t,r,h+1),o.level=h,o.hasChildren=this._calculateHasItems(o,t),o.visible&&o.hasChildren&&(g?o.children.filter((d=>d.visible)).length?s=!0:o.children.length&&qe.foreachNodes(o.children,(d=>{d.visible=!0})):s=!0,t.expandVisibleNodes&&s&&r.push(o.key)),(o.visible||o.hasChildren)&&(o.parent.hasChildren=!0)}}_processTreeStructure(e,t){let{data:r}=e;const{parentIds:h}=e.storeLoadOptions,g=[];if(h&&h.length||this._isReload){if(e.fullData&&(r=e.fullData,t=t||e.data),this._rootNode=this._createNodesByItems(r,t),!this._rootNode){e.data=new vn().reject(ds.Error("E1046",this.getKeyExpr()));return}this._fillNodes(this._rootNode.children,e,g),this._isNodesInitializing=!0,(e.collapseVisibleNodes||g.length)&&this.option("expandedRowKeys",g),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}const _=[];this._fillVisibleItemsByNodes(this._rootNode.children,e,_),e.data=_,this._totalItemsCount=_.length}_handleDataLoadedCore(e){const t=this,{data:r}=e,h=e.storeLoadOptions.filter||e.loadOptions.filter,g=t.option("filterMode");let _;const{parentIds:o}=e.storeLoadOptions,s=h&&(!o||!o.length)&&g!=="standard";if(!e.isCustomLoading){if(s){const d=e.data=new vn;return g==="matchOnly"&&(_=r),t._loadParents(r,e).done((f=>{t._loadChildrenIfNeed(f,e).done((m=>{e.data=m,t._processTreeStructure(e,_),super._handleDataLoadedCore.call(t,e),d.resolve(e.data)}))})).fail(d.reject)}t._processTreeStructure(e)}super._handleDataLoadedCore(e)}_handlePush(e){let{changes:t}=e;this._dataSource._reshapeOnPush&&!!t.length&&(this._isReload=!0),t.forEach((g=>{g.index??(g.index=-1)})),super._handlePush.apply(this,arguments)}init(e,t){super.init.apply(this,arguments);const r=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this.createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),r==="tree"&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")}getKeyExpr(){const e=this.store(),t=e&&e.key(),r=this.option("keyExpr");if(Tt(t)&&Tt(r)&&!To(t,r))throw ds.Error("E1044");return t||r||"id"}keyOf(e){return this._keyGetter&&this._keyGetter(e)}parentKeyOf(e){return this._parentIdGetter&&this._parentIdGetter(e)}getRootNode(){return this._rootNode}totalItemsCount(){return this._totalItemsCount+this._totalCountCorrection}isRowExpanded(e,t){if(t){let{isExpandedByKey:h}=t;if(!h){const g=this.option("expandedRowKeys")??[];h=t.isExpandedByKey={},g.forEach((_=>{h[_]=!0}))}return!!h[e]}return wi.getIndexByKey(e,this.option("expandedRowKeys"),null)>=0}_changeRowExpandCore(e){const t=this.option("expandedRowKeys").slice(),r=wi.getIndexByKey(e,t,null);r<0?t.push(e):t.splice(r,1),this.option("expandedRowKeys",t)}changeRowExpand(e){return this._changeRowExpandCore(e),this._isNodesInitializing?new vn().resolve():this.load()}getNodeByKey(e){if(this._nodeByKey)return this._nodeByKey[e]}getNodeLeafKeys(){const e=this,t=[];return(e._rootNode?[e._rootNode.key]:[]).forEach((h=>{const g=e.getNodeByKey(h);g&&qe.foreachNodes([g],(_=>{!_.children.length&&t.push(_.key)}))})),t}getChildNodeKeys(e){const t=this.getNodeByKey(e),r=[];return t&&qe.foreachNodes(t.children,(h=>{r.push(h.key)})),r}loadDescendants(e,t){const r=this,h=new vn,g=r.remoteOperations();if(Tt(e)?e=Array.isArray(e)?e:[e]:e=r.getNodeLeafKeys(),!g.filtering||!e.length)return h.resolve();const _=r._dataSource._createStoreLoadOptions();return _.parentIds=e,r.load(_).done((()=>{if(!t){const o=Dm(r,e);if(o.length){r.loadDescendants(o,t).done(h.resolve).fail(h.reject);return}}h.resolve()})).fail(h.reject),h.promise()}forEachNode(){let e=[],t;if(arguments.length===1){t=arguments[0];const r=this.getRootNode();e=r&&r.children||[]}else arguments.length===2&&(t=arguments[1],e=arguments[0],e=Array.isArray(e)?e:[e]);qe.foreachNodes(e,t)}}let hl=Am;const Kd={extend(c){hl=c(hl)},create:c=>new hl(c)};class Em extends mg{_getDataSourceAdapter(){return Kd}_getNodeLevel(e){let t=-1;for(;e.parent;)e.visible&&t++,e=e.parent;return t}_generateDataItem(e,t){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,t),level:this._getNodeLevel(e)}}_loadOnOptionChange(){this._dataSource.load()}_isItemEquals(e,t){return e.isSelected!==t.isSelected||e.node&&t.node&&e.node.hasChildren!==t.node.hasChildren||e.level!==t.level||e.isExpanded!==t.isExpanded?!1:super._isItemEquals.apply(this,arguments)}_isCellChanged(e,t,r,h,g){const _=this._columnsController.getFirstDataColumnIndex();return h===_&&e.isSelected!==t.isSelected?!0:super._isCellChanged.apply(this,arguments)}init(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),super.init.apply(this,arguments)}keyOf(e){const t=this._dataSource;if(t)return t.keyOf(e)}key(){const e=this._dataSource;if(e)return e.getKeyExpr()}publicMethods(){return super.publicMethods().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])}changeRowExpand(e){if(this._dataSource){const t={key:e},r=this.isRowExpanded(e);if(this.executeAction(r?"onRowCollapsing":"onRowExpanding",t),!t.cancel)return this._dataSource.changeRowExpand(e).done((()=>{this.executeAction(r?"onRowCollapsed":"onRowExpanded",t)}))}return new vn().resolve()}isRowExpanded(e,t){return this._dataSource&&this._dataSource.isRowExpanded(e,t)}expandRow(e){return this.isRowExpanded(e)?new vn().resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new vn().resolve()}getRootNode(){return this._dataSource&&this._dataSource.getRootNode()}optionChanged(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":this._dataSource&&!this._dataSource._isNodesInitializing&&!To(e.value,e.previousValue)&&this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:super.optionChanged(e)}}getNodeByKey(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)}getChildNodeKeys(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)}loadDescendants(e,t){if(this._dataSource)return this._dataSource.loadDescendants(e,t)}forEachNode(){this._dataSource.forEachNode.apply(this,arguments)}}qe.registerModule("data",{defaultOptions:()=>Wt({},gg.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}}),controllers:{data:Em}});qe.registerModule("sorting",yg);const Gd="dx-treelist-text-content",Pm=function(c){return Ge("<div>").addClass(Gd).appendTo(c)},Mm=(c,e,t)=>{const r=Ge("<div>").addClass("dx-treelist-empty-space");return c&&r.addClass("dx-treelist-empty-space--last"),e&&r.addClass(t?"dx-treelist-expanded":"dx-treelist-collapsed"),r};class Lm extends _g{_renderIconContainer(e,t){const r=Ge("<div>").addClass("dx-treelist-icon-container").appendTo(e);if(t.watch){const h=t.watch((()=>[t.row.level,t.row.isExpanded,t.row.node.hasChildren]),(()=>{r.empty(),this._renderIcons(r,t)}));Un.on(r,Kf,h)}return e.addClass("dx-treelist-cell-expandable"),this._renderIcons(r,t)}_renderIcons(e,t){const r=super._renderIcons(e,t),{row:h}=t,{level:g}=h;for(let _=0;_<=g;_+=1){const o=_===g,s=o&&h.node.hasChildren;Mm(o,s,h.isExpanded).appendTo(r)}return r}_renderCellCommandContent(e,t){return this._renderIconContainer(e,t),!0}_processTemplate(e,t){var r;const h=this;let g;const _=super._processTemplate(e),o=h._columnsController.getFirstDataColumnIndex();return _&&((r=t.column)===null||r===void 0?void 0:r.index)===o?g={render(s){const d=s.container;h._renderCellCommandContent(d,s.model)&&(s.container=Pm(d)),_.render(s)}}:g=_,g}_updateCell(e,t){e=e.hasClass(Gd)?e.parent():e,super._updateCell(e,t)}_rowClick(e){const t=this._dataController,r=Ge(e.event.target),h=this.isExpandIcon(r),g=t==null?void 0:t.items()[e.rowIndex];h&&g&&t.changeRowExpand(g.key),super._rowClick(e)}_createRow(e){const t=e&&e.node,r=super._createRow.apply(this,arguments);return t&&(this.setAria("level",e.level+1,r),t.hasChildren&&this.setAriaExpandedAttribute(r,e)),r}_getGridRoleName(){return"treegrid"}isExpandIcon(e){return!!e.closest(".dx-treelist-expanded, .dx-treelist-collapsed").length}setAriaExpandedAttribute(e,t){const r=t.isExpanded;this.setAria("expanded",Tt(r)&&r.toString(),e)}}qe.registerModule("rows",{defaultOptions:vg.defaultOptions,views:{rowsView:Lm}});qe.registerModule("contextMenu",bg);qe.registerModule("errorHandling",Tg);const Rm="dxTreeList-ariaExpandableInstruction";class Om extends wg{constructor(){super(...arguments),this._expandableWidgetAriaId=Rm}_getWidgetAriaLabel(){return"dxTreeList-ariaTreeList"}_toggleBestFitMode(e){super._toggleBestFitMode(e),this._rowsView.getTableElement().find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}qe.registerModule("gridView",{defaultOptions:ul.defaultOptions,controllers:_r({},ul.controllers,{resizing:Om}),views:ul.views});qe.registerModule("headerPanel",kg);qe.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editingRowBased","editingFormBased","editingCellBased","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","headersKeyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);class qd extends Sg{_initMarkup(){super._initMarkup.apply(this,arguments),this.$element().addClass("dx-treelist"),this.getView("gridView").render(this.$element())}static registerModule(){qe.registerModule.apply(qe,arguments)}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>nm(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])}_init(){super._init(),this.option("_disableDeprecationWarnings")||wi.logHeaderFilterDeprecatedWarningIfNeed(this),qe.processModules(this,qe),qe.callModuleItemsMethod(this,"init")}getGridCoreHelper(){return qe}focus(e){super.focus(),Tt(e)&&this.getController("keyboardNavigation").focus(e)}}ba("dxTreeList",qd);const Nm=c=>class extends as.extenders.controllers.stateStoring(c){applyState(e){super.applyState(e),this.option("expandedRowKeys",e.expandedRowKeys?e.expandedRowKeys.slice():[])}},Fm=c=>class extends as.extenders.controllers.data(c){getUserState(){const e=super.getUserState();return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}};qe.registerModule("stateStoring",_r({},as,{extenders:_r({},as.extenders,{controllers:_r({},as.extenders.controllers,{stateStoring:Nm,data:Fm})})}));qe.registerModule("columnChooser",Cg);const Bm=c=>class extends xg(c){isRowExpanded(){return this.isRowExpandedHack.apply(this,arguments)}_processItems(){return this._processItemsHack.apply(this,arguments)}_processDataItem(){return this._processDataItemHack.apply(this,arguments)}};qe.registerModule("masterDetail",Wt(!0,{},Ig,{extenders:{controllers:{data:Bm}}}));qe.registerModule("editorFactory",Dg);class jm extends pa.controllers.editing{_generateNewItem(e){const t=super._generateNewItem(e);return t.data={key:e},t.children=[],t.level=0,t.parentKey=this.option("rootValue"),t}_isProcessedItem(){return!0}_setInsertAfterOrBeforeKey(e,t){const r=this._dataController.dataSource(),h=t||(r==null?void 0:r.parentKeyOf(e.data));h!==void 0&&h!==this.option("rootValue")?e.insertAfterKey=h:super._setInsertAfterOrBeforeKey.apply(this,arguments)}_getLoadedRowIndex(e,t){const r=this._dataController.dataSource(),h=r==null?void 0:r.parentKeyOf(t.data);return h!==void 0&&h!==this.option("rootValue")?wi.getIndexByKey(h,e)>=0&&this._dataController.isRowExpanded(h)?super._getLoadedRowIndex.apply(this,arguments):-1:super._getLoadedRowIndex.apply(this,arguments)}_isEditColumnVisible(){const e=super._isEditColumnVisible.apply(this,arguments),t=this.option("editing");return e||t.allowAdding}_isDefaultButtonVisible(e,t){const r=super._isDefaultButtonVisible.apply(this,arguments),{row:h}=t;return e.name==="add"?this.allowAdding(t)&&h.rowIndex!==this._getVisibleEditRowIndex()&&!(h.removed||h.isNewRow):r}_getEditingButtons(e){const t=super._getEditingButtons.apply(this,arguments);return e.column.buttons||t.unshift(this._getButtonConfig("add",e)),t}_beforeSaveEditData(e){const t=super._beforeSaveEditData.apply(this,arguments);if(e&&e.type!=="insert"){var r;const h=(r=this._dataController)===null||r===void 0?void 0:r.store(),g=h==null?void 0:h.key();if(!Tt(g))throw ds.Error("E1045")}return t}addRowByRowIndex(e){const t=this._dataController.getVisibleRows()[e];return this.addRow(t?t.key:void 0)}addRow(e){return e===void 0&&(e=this.option("rootValue")),super.addRow.call(this,e)}_addRowCore(e,t,r){const h=this.option("rootValue");if(t=this._dataController.dataSource().createParentIdGetter()(e),t!==void 0&&t!==h&&!this._dataController.isRowExpanded(t)){const o=new vn;return this._dataController.expandRow(t).done((()=>{setTimeout((()=>{super._addRowCore.call(this,e,t,r).done(o.resolve).fail(o.reject)}))})).fail(o.reject),o.promise()}return super._addRowCore.call(this,e,t,r)}_initNewRow(e,t){return this._dataController.dataSource().createParentIdSetter()(e.data,t),super._initNewRow.apply(this,arguments)}allowAdding(e){return this._allowEditAction("allowAdding",e)}_needToCloseEditableCell(e){return super._needToCloseEditableCell.apply(this,arguments)||e.closest(".dx-treelist-icon-container").length&&this.isEditing()}getButtonLocalizationNames(){const e=super.getButtonLocalizationNames.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}const Hm=c=>class extends pa.extenders.views.rowsView(c){_renderCellCommandContent(e,t){const r=this._editingController,h=t.row&&r.isEditRow(t.row.rowIndex),g=t.isEditing||h;return!t.isOnForm&&!g?super._renderCellCommandContent.apply(this,arguments):!1}validateClick(e){const t=Ge(e.event.target),r=e.event.type==="dxdblclick"?super._rowDblClick:super._rowClick;return t.closest(".dx-select-checkbox").length?!1:!this.needToCallOriginalClickHandler(e,r)}needToCallOriginalClickHandler(e,t){return Ge(e.event.target).closest(".dx-treelist-icon-container").length?!1:(t.call(this,e),!0)}_rowClick(e){this.validateClick(e)&&super._rowClickTreeListHack.apply(this,arguments)}_rowDblClick(e){this.validateClick(e)&&super._rowDblClickTreeListHack.apply(this,arguments)}},Vm=c=>class extends Ag(c){changeRowExpand(){return this._editingController.refresh(),super.changeRowExpand.apply(this,arguments)}};qe.registerModule("editing",{defaultOptions:()=>Wt(!0,pa.defaultOptions(),{editing:{texts:{addRowToNode:Be.format("dxTreeList-editingAddRowToNode")}}}),controllers:{editing:jm},extenders:{controllers:{data:Vm},views:{rowsView:Hm,headerPanel:pa.extenders.views.headerPanel}}});qe.registerModule("editingRowBased",Eg);qe.registerModule("editingFormBased",Pg);qe.registerModule("editingCellBased",Mg);const Um=c=>class extends os.extenders.controllers.editing(c){processDataItem(e){super.processDataItemTreeListHack.apply(this,arguments)}processItems(e,t){return super.processItemsTreeListHack.apply(this,arguments)}};qe.registerModule("validating",{defaultOptions:os.defaultOptions,controllers:os.controllers,extenders:{controllers:{editing:Um,editorFactory:os.extenders.controllers.editorFactory},views:os.extenders.views}});const Wm=Ta.defaultOptions;Ta.extenders.views.rowsView=c=>class extends Lg(c){_handleDataChanged(e){const{operationTypes:t}=e;if(e!=null&&e.isDataChanged&&wi.isVirtualRowRendering(this)&&t){const{fullReload:r,pageIndex:h}=t;!r&&h&&this._updateContentPosition()}super._handleDataChanged(e)}};Ta.extenders.controllers.data=c=>class extends Rg(c){_loadOnOptionChange(){var e;const t=(e=this._dataSource)===null||e===void 0?void 0:e._virtualScrollController;t==null||t.reset(),super._loadOnOptionChange()}};const zm=c=>class extends Og(c){changeRowExpand(){return super.changeRowExpand.apply(this,arguments).done((()=>{const e=this.getViewportItemIndex();e>=0&&this.setViewportItemIndex(e)}))}};qe.registerModule("virtualScrolling",_r({},Ta,{defaultOptions:()=>Wt(!0,Wm(),{scrolling:{mode:"virtual"}})}));Kd.extend(zm);qe.registerModule("filterRow",Ng);qe.registerModule("headerFilter",Fg);qe.registerModule("filterSync",Bg);qe.registerModule("filterBuilder",jg);qe.registerModule("filterPanel",Hg);qe.registerModule("pager",Vg);qe.registerModule("columnsResizingReordering",Ug);qe.registerModule("stickyColumns",Wg);qe.registerModule("columnFixing",zg);qe.registerModule("adaptivity",Kg);const $d="dx-treelist-select-checkbox-container",Km=function(c,e){return!!c.filter((t=>t===e)).length},Gm=c=>class extends $g(c){_handleDataChanged(e){this._selectionController.isRecursiveSelection()&&(!e||e.changeType!=="updateSelectionState")&&this._selectionController.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),super._handleDataChanged.apply(this,arguments)}loadDescendants(){const e=this,t=super.loadDescendants.apply(e,arguments);return this._selectionController.isRecursiveSelection()&&t.done((()=>{this._selectionController.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})})),t}},qm=c=>class extends c{constructor(){super(...arguments),this._updateSelectColumn=Mf}init(){super.init.apply(this,arguments),this._selectionStateByKey={}}_getSelectionConfig(){const e=super._getSelectionConfig.apply(this,arguments),{plainItems:t}=e;return e.plainItems=r=>{let h;return r&&(h=this._dataController.getCachedStoreData()),h||(h=t.apply(this,arguments).map((g=>g.data))),h||[]},e.isItemSelected=r=>{const h=this._dataController.keyOf(r);return this.isRowSelected(h)},e.isSelectableItem=r=>!!r,e.getItemData=r=>r,e.allowLoadByRange=void 0,e}renderSelectCheckBoxContainer(e,t){const r=this.component.getView("rowsView"),h=r._renderSelectCheckBox(e,{value:t.row.isSelected,row:t.row,column:t.column});r._attachCheckBoxClickEvent(h)}_getSelectAllNodeKeys(){const{component:e}=this,t=e.getRootNode(),r={},h=[],g=this.isRecursiveSelection();return t&&qe.foreachNodes(t.children,(_=>(_.key!==void 0&&(_.visible||g)&&h.push(_.key),_.visible?g?!1:e.isRowExpanded(_.key,r):!0))),h}isSelectAll(){if((this.option("selectedRowKeys")||[]).length===0)return!1;const{component:t}=this,r=this._getSelectAllNodeKeys(),h=this.isRecursiveSelection();let g=!1;const _=r.filter((o=>{const s=t.isRowSelected(o,h);return s===void 0&&(g=!0),s}));if(!_.length)return g?void 0:!1;if(_.length===r.length)return!0}selectAll(){const e=this._getSelectAllNodeKeys().filter((t=>!this.isRowSelected(t)));return this.focusedItemIndex(-1),this.selectRows(e,!0)}deselectAll(){const e=this._getSelectAllNodeKeys();return this.focusedItemIndex(-1),this.deselectRows(e)}selectedItemKeys(e,t,r,h){const g=this,_=g.option("selectedRowKeys"),s=this.isRecursiveSelection()&&g._normalizeSelectionArgs({keys:Tt(e)?e:[]},t,!r);return s&&!To(s.selectedRowKeys,_)?(g._isSelectionNormalizing=!0,super.selectedItemKeys(s.selectedRowKeys,!1,!1,!1).always((()=>{g._isSelectionNormalizing=!1})).done((d=>{s.selectedRowsData=d,g._fireSelectionChanged(s)}))):super.selectedItemKeys(e,t,r,h)}changeItemSelection(e,t,r){const h=this.isRecursiveSelection(),g=super.changeItemSelection.bind(this);if(h&&!t.shift){const _=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(_,!0,this.isRowSelected(_)).done((()=>{this.isRowSelected(_)&&g(e,t,!0)}))}return super.changeItemSelection.apply(this,arguments)}_updateParentSelectionState(e,t){const r=this;let h=t;const g=e.parent;g&&(g.children.length>1&&(t===!1?h=g.children.some((o=>r._selectionStateByKey[o.key]))?void 0:!1:t===!0&&(h=g.children.some((o=>!r._selectionStateByKey[o.key]))?void 0:!0)),this._selectionStateByKey[g.key]=h,g.parent&&g.parent.level>=0&&this._updateParentSelectionState(g,h))}_updateChildrenSelectionState(e,t){const r=this,{children:h}=e;h&&h.forEach((g=>{r._selectionStateByKey[g.key]=t,g.children.length>0&&r._updateChildrenSelectionState(g,t)}))}_updateSelectionStateCore(e,t){const r=this._dataController;this._selectionStateByKey={};for(let h=0;h<e.length;h++){this._selectionStateByKey[e[h]]=t;const g=r.getNodeByKey(e[h]);g&&(this._updateParentSelectionState(g,t),this._updateChildrenSelectionState(g,t))}}_getSelectedParentKeys(e,t,r){let h;const g=this._dataController.getNodeByKey(e);let _=g&&g.parent,o=[];for(;_&&_.level>=0;){if(o.unshift(_.key),r?!Km(t,_.key)&&this.isRowSelected(_.key):t.indexOf(_.key)>=0){h=_,o=this._getSelectedParentKeys(h.key,t,r).concat(o);break}else if(r)break;_=_.parent}return h&&o||[]}_getSelectedChildKeys(e,t){const r=[],h=this._dataController.getNodeByKey(e);return h&&qe.foreachNodes(h.children,(g=>{const _=t.indexOf(g.key);return _<0&&r.push(g.key),_>0||_<0&&this._selectionStateByKey[g.key]===void 0})),r}_normalizeParentKeys(e,t){const r=this;let h=[e];const g=r._getSelectedParentKeys(e,t.selectedRowKeys);if(g.length){h=h.concat(g),h.forEach((o=>{const s=t.selectedRowKeys.indexOf(o);s>=0&&t.selectedRowKeys.splice(s,1)}));const _=r._getSelectedChildKeys(g[0],h);t.selectedRowKeys=t.selectedRowKeys.concat(_)}}_normalizeChildrenKeys(e,t){const r=this._dataController.getNodeByKey(e);r&&r.children.forEach((h=>{const g=t.selectedRowKeys.indexOf(h.key);g>=0&&t.selectedRowKeys.splice(g,1),this._normalizeChildrenKeys(h.key,t)}))}_normalizeSelectedRowKeysCore(e,t,r,h){const g=this;e.forEach((_=>{if(r&&g.isRowSelected(_)===h)return;g._normalizeChildrenKeys(_,t);const o=t.selectedRowKeys.indexOf(_);h?(o<0&&t.selectedRowKeys.push(_),t.currentSelectedRowKeys.push(_)):(o>=0&&t.selectedRowKeys.splice(o,1),t.currentDeselectedRowKeys.push(_),g._normalizeParentKeys(_,t))}))}_normalizeSelectionArgs(e,t,r){let h;const g=Array.isArray(e.keys)?e.keys:[e.keys],_=this.option("selectedRowKeys")||[];return g.length&&(h={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:t?_.slice(0):[]},this._normalizeSelectedRowKeysCore(g,h,t,r)),h}_updateSelectedItems(e){this.updateSelectionState(e),super._updateSelectedItems(e)}_fireSelectionChanged(){this._isSelectionNormalizing||super._fireSelectionChanged.apply(this,arguments)}_isModeLeavesOnly(e){return e==="leavesOnly"}_removeDuplicatedKeys(e){const t=[],r={};return e.forEach((h=>{r[h]||(r[h]=!0,t.push(h))})),t}_getAllChildKeys(e){const t=[],r=this._dataController.getNodeByKey(e);return r&&qe.foreachNodes(r.children,(h=>{t.push(h.key)}),!0),t}_getAllSelectedRowKeys(e){let t=[];return e.forEach((r=>{const h=this._getSelectedParentKeys(r,[],!0),g=this._getAllChildKeys(r);t.push.apply(t,h.concat([r],g))})),t=this._removeDuplicatedKeys(t),t}_getParentSelectedRowKeys(e){const t=this,r=[];return e.forEach((h=>{!t._getSelectedParentKeys(h,e).length&&r.push(h)})),r}_getLeafSelectedRowKeys(e){const t=[],r=this._dataController;return e.forEach((h=>{const g=r.getNodeByKey(h);g&&!g.hasChildren&&t.push(h)})),t}isRecursiveSelection(){const e=this.option("selection.mode"),t=this.option("selection.recursive");return e==="multiple"&&t}updateSelectionState(e){const t=e.removedItemKeys||[],r=e.selectedItemKeys||[];this.isRecursiveSelection()&&(this._updateSelectionStateCore(t,!1),this._updateSelectionStateCore(r,!0))}isRowSelected(e,t){const r=super.isRowSelected.apply(this,arguments);return t=t??this.isRecursiveSelection(),!r&&t?e in this._selectionStateByKey?this._selectionStateByKey[e]:!1:r}getSelectedRowKeys(e){const t=this;if(!t._dataController)return[];let r=super.getSelectedRowKeys.apply(t,arguments);return e&&(this.isRecursiveSelection()&&(r=this._getAllSelectedRowKeys(r)),e!=="all"&&(e==="excludeRecursive"?r=t._getParentSelectedRowKeys(r):t._isModeLeavesOnly(e)&&(r=t._getLeafSelectedRowKeys(r)))),r}getSelectedRowsData(e){const t=this._dataController,r=this.getSelectedRowKeys(e)||[],h=[];return r.forEach((g=>{const _=t.getNodeByKey(g);_&&h.push(_.data)})),h}refresh(){return this._selectionStateByKey={},super.refresh.apply(this,arguments)}},$m=c=>class extends qg(c){_processTemplate(e,t){const r=this;let h;const g=super._processTemplate(e,t),_=r._columnsController.getFirstDataColumnIndex();return g&&t.rowType==="header"&&t.column.index===_?h={render(o){g.render(o),r.option("selection.mode")==="multiple"&&r.renderSelectAll(o.container,o.model)}}:h=g,h}_renderSelectAllCheckBox(e){const t=Ge("<div>").addClass($d),r=this._createSelectAllCheckboxElement();return r.appendTo(t),t.prependTo(e),r}renderSelectAll(e,t){e.addClass("dx-treelist-select-all"),this._renderSelectAllCheckBox(e)}_isSortableElement(e){return super._isSortableElement(e)&&!e.closest(".dx-select-checkbox").length}},Ym=c=>class extends Gg(c){_renderIcons(e,t){const r=super._renderIcons(e,t),h=this.option("selection.mode")==="multiple";if(!t.row.isNewRow&&h){const g=Ge("<div>").addClass($d);g.appendTo(r),this._selectionController.renderSelectCheckBoxContainer(g,t)}return r}_rowClick(e){const t=Ge(e.event.target);this.isExpandIcon(t)?super._rowClickForTreeList.apply(this,arguments):super._rowClick.apply(this,arguments)}};qe.registerModule("selection",Wt(!0,{},cc,{defaultOptions:()=>Wt(!0,cc.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}}),extenders:{controllers:{data:Gm,selection:qm},views:{columnHeadersView:$m,rowsView:Ym}}}));qe.registerModule("search",Yg);const Zm=c=>class extends Xg(c){_leftRightKeysHandler(e,t){const r=this.getVisibleRowIndex(),h=this._dataController;if(e.ctrl){const g=this._getDirectionCodeByKey(e.keyName),_=h.getKeyByRowIndex(r);g==="nextInRow"?h.expandRow(_):h.collapseRow(_)}else return super._leftRightKeysHandler.apply(this,arguments)}};qe.registerModule("keyboardNavigation",Wt(!0,{},Zg,{extenders:{controllers:{keyboardNavigation:Zm}}}));qe.registerModule("headersKeyboardNavigation",Jg);qe.registerModule("virtualColumns",Qg);function Xm(c,e){let t=-1;return c.forEach(((r,h)=>{e(r)&&(t=h)})),t}const Jm=c=>class extends oa.extenders.controllers.data(c){changeRowExpand(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),super.changeRowExpand.apply(this,arguments)}_isFocusedRowInside(e){const t=this.option("focusedRowKey"),r=this.getRowIndexByKey(t),h=r>=0&&this.getVisibleRows()[r];let g=h&&h.node.parent;for(;g;){if(g.key===e)return!0;g=g.parent}return!1}getParentKey(e){const t=this._dataSource,r=this.getNodeByKey(e),h=new vn;return r?h.resolve(r.parent?r.parent.key:void 0):t.load({filter:[t.getKeyExpr(),"=",e]}).done((g=>{const _=g[0];_?h.resolve(t.parentKeyOf(_)):h.resolve()})).fail(h.reject),h.promise()}expandAscendants(e){const t=this,r=t._dataSource,h=new vn;return t.getParentKey(e).done((g=>{r&&g!==void 0&&g!==t.option("rootValue")?(r._isNodesInitializing=!0,t.expandRow(g),r._isNodesInitializing=!1,t.expandAscendants(g).done(h.resolve).fail(h.reject)):h.resolve()})).fail(h.reject),h.promise()}getPageIndexByKey(e){const t=this,r=t._dataSource,h=new vn;return t.expandAscendants(e).done((()=>{r.load({parentIds:[]}).done((g=>{const _=Xm(g,(s=>t.keyOf(s.data)===e));let o=-1;_>=0&&(o=Math.floor(_/t.pageSize())),h.resolve(o)})).fail(h.reject)})).fail(h.reject),h.promise()}};qe.registerModule("focus",_r({},oa,{extenders:_r({},oa.extenders,{controllers:_r({},oa.extenders.controllers,{data:Jm})})}));qe.registerModule("rowDragging",em);class Qm{constructor(e){var t;this.collapsed=!1,this.key=e.key,this.children=e.children.map((r=>r.key)),this.parentKey=(t=e.parent)===null||t===void 0?void 0:t.key}hasChildren(){return this.children.length>0}removeChild(e){const t=this.children.indexOf(e.key);t>-1&&(this.children=this.children.splice(t,1))}equal(e){return!(!e||e.key!==this.key||e.parentKey!==this.parentKey||this.children.length!==e.children.length||this.children.some(((t,r)=>t!==e.children[r])))}}class e0{constructor(){this._resetHash()}clear(){this._resetHash()}applyNodes(e,t){this._rootValue!==t&&(this._resetHash(),this._rootValue=t),this._removeNonExistentNodes(e.map((r=>r.key))),e.forEach((r=>this._applyNode(r))),this._validateHash()}saveExpandedState(e){this._hasCollapsed=!1,this._forEachState((t=>{t.hasChildren()&&!e.includes(t.key)&&(t.collapsed=!0,this._hasCollapsed=!0)}))}getExpandedKeys(){if(this._hasCollapsed){const e=[];return this._forEachState((t=>{t.hasChildren()&&!t.collapsed&&e.push(t.key)})),e}return null}_resetHash(){this._nodeHash={},this._hasCollapsed=!1}_getNodeState(e){return this._nodeHash[e]}_removeNonExistentNodes(e){e&&this._forEachState((t=>{e.includes(t.key)||this._removeStateWithChildren(t)}))}_removeStateWithChildren(e){const t=this._getNodeState(e);if(t){t.children.forEach((h=>this._removeStateWithChildren(h)));const r=this._getNodeState(t.parentKey);r&&r.removeChild(t),delete this._nodeHash[e]}}_applyNode(e){const t=new Qm(e),r=this._getNodeState(e.key);r!=null&&r.equal(t)||(this._nodeHash[e.key]=t,this._expandTreelineToNode(e.key))}_expandTreelineToNode(e){const t=this._getNodeState(e);let r=this._getNodeState(t==null?void 0:t.parentKey);for(;r;)r.collapsed=!1,r=this._getNodeState(r.parentKey)}_validateHash(){Object.keys(this._nodeHash).forEach((e=>{const t=this._getNodeState(e),r=t==null?void 0:t.parentKey;r!==this._rootValue&&!this._getNodeState(r)&&this._removeStateWithChildren(e)}))}_forEachState(e){Object.keys(this._nodeHash).forEach((t=>{const r=this._nodeHash[t];r&&e(r)}))}}const t0="dx-gantt-collapsable-row";class n0{constructor(e){this._gantt=e,this._$treeList=this._gantt._$treeList}getTreeList(){const{keyExpr:e,parentIdExpr:t}=this._gantt.option("tasks");return this._treeList=this._gantt._createComponent(this._$treeList,qd,{dataSource:this.createDataSource(this._gantt._tasksRaw,e),keyExpr:e,filterSyncEnabled:!0,parentIdExpr:t,columns:this.getColumns(),columnResizingMode:"nextColumn",height:this._getHeight(),width:this._gantt.option("taskListWidth"),selection:{mode:on.getSelectionMode(this._gantt.option("allowSelection"))},selectedRowKeys:on.getArrayFromOneElement(this._gantt.option("selectedRowKey")),sorting:this._gantt.option("sorting"),filterRow:this._gantt.option("filterRow"),headerFilter:this._gantt.option("headerFilter"),scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this._gantt.option("showRowLines"),rootValue:this._gantt.option("rootValue"),onContentReady:r=>{this._onContentReady(r)},onSelectionChanged:r=>{this._onSelectionChanged(r)},onRowCollapsed:r=>{this._onRowCollapsed(r)},onRowExpanded:r=>{this._onRowExpanded(r)},onRowPrepared:r=>{this._onRowPrepared(r)},onContextMenuPreparing:r=>{this._onContextMenuPreparing(r)},onRowClick:r=>{this.onRowClick(r)},onRowDblClick:r=>{this.onRowDblClick(r)},onNodesInitialized:r=>{this._onNodesInitialized(r)},_disableDeprecationWarnings:!0}),this._treeList}onAfterTreeListCreate(){this._postponedGanttInitRequired&&(this._initGanttOnContentReady({component:this._treeList}),delete this._postponedGanttInitRequired)}_onContentReady(e){!!this._treeList?this._initGanttOnContentReady(e):this._postponedGanttInitRequired=!0,this._gantt._onTreeListContentReady(e)}_initGanttOnContentReady(e){e.component.getDataSource()&&(this._gantt._initGanttView(),this._initScrollSync(e.component)),this._gantt._sortAndFilter(),this._gantt._sizeHelper.updateGanttRowHeights()}_onSelectionChanged(e){const t=e.currentSelectedRowKeys[0];this._gantt._setGanttViewOption("selectedRowKey",t),this._gantt._setOptionWithoutOptionChange("selectedRowKey",t),this._gantt._actionsManager.raiseSelectionChangedAction(t)}_onRowCollapsed(e){this._gantt._onTreeListRowExpandChanged(e,!1)}_onRowExpanded(e){this._gantt._onTreeListRowExpandChanged(e,!0)}_onRowPrepared(e){e.rowType==="data"&&e.node.children.length>0&&Ge(e.rowElement).addClass(t0)}_onContextMenuPreparing(e){var t,r;if(e.target==="header")return;((t=e.row)===null||t===void 0?void 0:t.rowType)==="data"&&this.setOption("selectedRowKeys",[e.row.data[this._gantt.option("tasks.keyExpr")]]);const h={cancel:!1,event:e.event,type:"task",key:(r=e.row)===null||r===void 0?void 0:r.key,position:{x:e.event.pageX,y:e.event.pageY}};this._gantt._showPopupMenu(h),e.event.preventDefault()}_getHeight(){return Ti(this._$treeList)?Ti(this._$treeList):(this._gantt._hasHeight=Tt(this._gantt.option("height"))&&this._gantt.option("height")!=="",this._gantt._hasHeight?"100%":"")}_initScrollSync(e){const t=e.getScrollable();t&&(t.off("scroll"),t.on("scroll",(r=>{this._onScroll(r)})))}_onScroll(e){const t=this._gantt._ganttView.getTaskAreaContainer();t.scrollTop!==e.component.scrollTop()&&(t.scrollTop=e.component.scrollTop())}_correctRowsViewRowHeight(e){const t=this._treeList._views&&this._treeList._views.rowsView;(t==null?void 0:t._rowHeight)!==e&&(t._rowHeight=e)}_skipUpdateTreeListDataSource(){return this._gantt.option("validation.autoUpdateParentTasks")}selectRows(e){this.setOption("selectedRowKeys",e)}scrollBy(e){const t=this._treeList.getScrollable();if(t){const r=e-t.scrollTop();Math.abs(r)>=2&&t.scrollBy({left:0,top:r})}}updateDataSource(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this._skipUpdateTreeListDataSource()||t)this.setDataSource(e);else if(r){const h=this._treeList.option("dataSource");this._gantt._onParentTasksRecalculated(h)}}setDataSource(e){this.setOption("dataSource",this.createDataSource(e))}createDataSource(e,t){return e&&new ig({store:new Hd({data:e,key:t||this.getOption("keyExpr")})})}onRowClick(e){this._gantt._actionsManager.raiseTaskClickAction(e.key,e.event)}onRowDblClick(e){this._gantt._actionsManager.raiseTaskDblClickAction(e.key,e.event)&&this._gantt._ganttView._ganttViewCore.showTaskEditDialog()}saveExpandedKeys(){const e=this._treeList,t=e==null?void 0:e.getVisibleRows().length;if(t>0){const r=this.getAllNodes(),h=this.getOption("expandedRowKeys");if(h&&r.length!==t){const _=this.getNodesState();_.applyNodes(r,this.getOption("rootValue")),_.saveExpandedState(h)}}}_onNodesInitialized(e){const t=this.getNodesState(),r=t.getExpandedKeys(),h=this.getAllNodes();t.applyNodes(h,this.getOption("rootValue"));const g=t.getExpandedKeys();if(g&&this.setOption("expandedRowKeys",g),this.isExpandedStateChanged(r,g)){const _=h.reduce(((o,s)=>(o[s.key]=g?g.includes(s.key):!0,o)),{});this._gantt._ganttView.applyTasksExpandedState(_)}t.clear()}getNodesState(){return this._nodeState||(this._nodeState=new e0),this._nodeState}getAllNodes(){var e,t;const r=(e=this._treeList)===null||e===void 0||(e=e.getDataSource())===null||e===void 0?void 0:e.store();if(!r||!((t=this._treeList)!==null&&t!==void 0&&t.getNodeByKey))return[];const h=lr(r.key());return r._array.map((g=>this._treeList.getNodeByKey(h(g)))).filter((g=>!!g))}isExpandedStateChanged(e,t){return e===null&&t===null?!1:(e==null?void 0:e.length)!==(t==null?void 0:t.length)?!0:e.some(((r,h)=>r!==t[h]))}getOffsetHeight(){return this._gantt._treeList._$element.get(0).offsetHeight}getRowHeight(){const e=this._treeList._$element.find(".dx-data-row");let t=e.length?uc(e.last().get(0)).height:34;return t||(t=34),this._correctRowsViewRowHeight(t),t}getHeaderHeight(){return uc(this._treeList._$element.find(".dx-treelist-headers").get(0)).height}getColumns(){const e=this._gantt.option("columns");if(e)for(let t=0;t<e.length;t++){const r=e[t];(r.dataField===this._gantt.option("tasks.keyExpr")||r.dataField===this._gantt.option("tasks.parentIdExpr"))&&!r.dataType&&(r.dataType="object")}return e}getSievedItems(){const e=this._treeList.getRootNode();if(!e)return;const t=[];on.convertTreeToList(e,t);const r=on.compileGettersByOption(this._gantt.option("tasks"));return this._gantt._validateSourceData("tasks",t).map(on.prepareMapHandler(r))}setOption(e,t){this._treeList&&this._treeList.option(e,t)}getOption(e){var t;return(t=this._treeList)===null||t===void 0?void 0:t.option(e)}onTaskInserted(e,t){if(Tt(t)){const r=this.getOption("expandedRowKeys");r.indexOf(t)===-1&&(r.push(t),this.setOption("expandedRowKeys",r))}this.selectRows(on.getArrayFromOneElement(e)),this.setOption("focusedRowKey",e)}getDataSource(){var e;return(e=this._treeList)===null||e===void 0?void 0:e.getDataSource()}}var sa={exports:{}};/*! For license information please see dx-gantt.min.js.LICENSE.txt */var r0=sa.exports,gc;function i0(){return gc||(gc=1,(function(c,e){(function(t,r){c.exports=r()})(r0,(()=>(()=>{var t={9279:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Browser=void 0;var s=(function(){function d(){}return d.IdentUserAgent=function(f,m){m===void 0&&(m=!1);var p=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],n="IE",l="Win",i={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(f&&f.length!==0){f=f.toLowerCase(),d.indentPlatformMajorVersion(f);try{for(var u={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},a="(?:/|\\s*)?",y="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",v="(?:"+y+")?",w={Safari:"applewebkit(?:.*?(?:version/"+y+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+a+v,Mozilla:"mozilla(?:.*rv:"+v+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+v,Firefox:"firefox"+a+v,Opera:"(?:opera|\\sopr)"+a+v,Opera10:"opera.*\\s*version"+a+v,IE:"msie\\s*"+v,Edge:"edge"+a+v},T=null,k=-1,I=0;I<p.length;I++){var C=p[I],D=new RegExp(w[C],"i").exec(f);if(D&&D.index>=0){if(T==="IE"&&k>=11&&C==="Safari")continue;(T=C)==="Opera10"&&(T="Opera");var P="trident"+a+v;k=d.GetBrowserVersion(f,D,P,d.getIECompatibleVersionString()),T==="Mozilla"&&k>=11&&(T="IE")}}T||(T=n);var A=k!==-1;A||(k=i[T]);var R=null,z=Number.MAX_VALUE;for(var B in u)if(Object.prototype.hasOwnProperty.call(u,B)){var N=B.substr(0,1)==="!",Z=f.indexOf((N?B.substr(1):B).toLowerCase());Z>=0&&(Z<z||N)&&(z=N?0:Z,R=u[B])}var ne=f.toUpperCase().match("SM-[A-Z]"),ie=ne&&ne.length>0;R==="WinPhone"&&k<9&&(k=Math.floor(d.getVersionFromTrident(f,"trident"+a+v))),!m&&T==="IE"&&k>7&&document.documentMode<k&&(k=document.documentMode),R==="WinPhone"&&(k=Math.max(9,k)),R||(R=l),R!==u["cpu os"]||A||(k=4),d.fillUserAgentInfo(p,T,k,R,ie)}catch{d.fillUserAgentInfo(p,n,i[n],l)}}else d.fillUserAgentInfo(p,n,i[n],l)},d.GetBrowserVersion=function(f,m,p,n){var l=d.getVersionFromMatches(m);if(n){var i=d.getVersionFromTrident(f,p);if(n==="edge"||parseInt(n)===i)return i}return l},d.getIECompatibleVersionString=function(){if(document.compatible){for(var f=0;f<document.compatible.length;f++)if(document.compatible[f].userAgent==="IE"&&document.compatible[f].version)return document.compatible[f].version.toLowerCase()}return""},d.isTouchEnabled=function(){return d.hasTouchStart()||d.hasMaxTouchPoints()||d.hasMsMaxTouchPoints()},d.hasTouchStart=function(){return"ontouchstart"in window},d.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},d.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},d.hasNavigator=function(){return typeof navigator<"u"},d.fillUserAgentInfo=function(f,m,p,n,l){l===void 0&&(l=!1);for(var i=0;i<f.length;i++){var u=f[i];d[u]=u===m}d.Version=Math.floor(10*p)/10,d.MajorVersion=Math.floor(d.Version),d.WindowsPlatform=n==="Win"||n==="WinPhone",d.MacOSMobilePlatform=n==="MacMobile"||n==="Mac"&&d.isTouchEnabled(),d.MacOSPlatform=n==="Mac"&&!d.MacOSMobilePlatform,d.AndroidMobilePlatform=n==="Android",d.WindowsPhonePlatform=n==="WinPhone",d.WebKitFamily=d.Safari||d.Chrome||d.Opera&&d.MajorVersion>=15,d.NetscapeFamily=d.Netscape||d.Mozilla||d.Firefox,d.WebKitTouchUI=d.MacOSMobilePlatform||d.AndroidMobilePlatform;var a=d.IE&&d.MajorVersion>9&&d.WindowsPlatform&&d.UserAgent.toLowerCase().indexOf("touch")>=0;if(d.MSTouchUI=a||d.Edge&&!!window.navigator.maxTouchPoints,d.TouchUI=d.WebKitTouchUI||d.MSTouchUI,d.MobileUI=d.WebKitTouchUI||d.WindowsPhonePlatform,d.AndroidDefaultBrowser=d.AndroidMobilePlatform&&!d.Chrome,d.AndroidChromeBrowser=d.AndroidMobilePlatform&&d.Chrome,l&&(d.SamsungAndroidDevice=l),d.MSTouchUI){var y=d.UserAgent.toLowerCase().indexOf("arm;")>-1;d.VirtualKeyboardSupported=y||d.WindowsPhonePlatform}else d.VirtualKeyboardSupported=d.WebKitTouchUI;d.fillDocumentElementBrowserTypeClassNames(f)},d.indentPlatformMajorVersion=function(f){var m=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(f);m&&(d.PlaformMajorVersion=m[1])},d.getVersionFromMatches=function(f){var m=-1,p="";return f&&(f[1]&&(p+=f[1],f[2]&&(p+="."+f[2])),p!==""&&(m=parseFloat(p),isNaN(m)&&(m=-1))),m},d.getVersionFromTrident=function(f,m){var p=new RegExp(m,"i").exec(f);return d.getVersionFromMatches(p)+4},d.fillDocumentElementBrowserTypeClassNames=function(f){for(var m="",p=f.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),n=0;n<p.length;n++){var l=p[n];d[l]&&(m+="dx"+l+" ")}m+="dxBrowserVersion-"+d.MajorVersion,typeof document<"u"&&document&&document.documentElement&&(document.documentElement.className!==""&&(m=" "+m),document.documentElement.className+=m,d.Info=m)},d.getUserAgent=function(){return d.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},d.UserAgent=d.getUserAgent(),d._foo=d.IdentUserAgent(d.UserAgent),d})();o.Browser=s},6799:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedMinMax=o.ExtendedMax=o.ExtendedMin=o.MinMaxNumber=o.MinMax=void 0;var d=s(655),f=function(i,u){this.minElement=i,this.maxElement=u};o.MinMax=f;var m=(function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(u,i),Object.defineProperty(u.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),u})(f);o.MinMaxNumber=m;var p=function(i,u){this.minElement=i,this.minValue=u};o.ExtendedMin=p;var n=function(i,u){this.maxElement=i,this.maxValue=u};o.ExtendedMax=n;var l=(function(i){function u(a,y,v,w){var T=i.call(this,a,v)||this;return T.minValue=y,T.maxValue=w,T}return d.__extends(u,i),u})(f);o.ExtendedMinMax=l},3604:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Margins=void 0;var d=s(655),f=(function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(p,m),p.empty=function(){return new p(0,0,0,0)},p.prototype.clone=function(){return new p(this.left,this.right,this.top,this.bottom)},p})(s(4125).Offsets);o.Margins=f},5596:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metrics=void 0;var s=(function(){function d(){}return d.euclideanDistance=function(f,m){var p=f.x-m.x,n=f.y-m.y;return Math.sqrt(p*p+n*n)},d.manhattanDistance=function(f,m){return Math.abs(f.x-m.x)+Math.abs(f.y-m.y)},d})();o.Metrics=s},4125:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Offsets=void 0;var s=(function(){function d(f,m,p,n){this.left=f,this.right=m,this.top=p,this.bottom=n}return d.empty=function(){return new d(0,0,0,0)},Object.defineProperty(d.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),d.fromNumber=function(f){return new d(f,f,f,f)},d.fromOffsets=function(f){return new d(f.left,f.right,f.top,f.bottom)},d.fromSide=function(f,m){return new d(f,f,m,m)},d.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.isEmpty=function(){return this.left===0&&this.right===0&&this.top===0&&this.bottom===0},d.prototype.offset=function(f){return this.left+=f.left,this.right+=f.right,this.top+=f.top,this.bottom+=f.bottom,this},d.prototype.multiply=function(f,m,p,n){switch(arguments.length){case 1:return this.left*=f,this.right*=f,this.top*=f,this.bottom*=f,this;case 2:return this.left*=f,this.right*=f,this.top*=m,this.bottom*=m,this;case 4:return this.left*=f,this.right*=m,this.top*=p,this.bottom*=n,this}return this},d.prototype.clone=function(){return new d(this.left,this.right,this.top,this.bottom)},d.prototype.copyFrom=function(f){this.left=f.left,this.right=f.right,this.top=f.top,this.bottom=f.bottom},d.prototype.equals=function(f){return this.top===f.top&&this.bottom===f.bottom&&this.right===f.right&&this.left===f.left},d.prototype.applyConverter=function(f){return this.left=f(this.left),this.right=f(this.right),this.top=f(this.top),this.bottom=f(this.bottom),this},d})();o.Offsets=s},8900:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Point=void 0;var s=(function(){function d(f,m){this.x=f,this.y=m}return d.zero=function(){return new d(0,0)},d.fromNumber=function(f){return new d(f,f)},d.prototype.isZero=function(){return this.x===0&&this.y===0},d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.copyFrom=function(f){this.x=f.x,this.y=f.y},d.prototype.clone=function(){return new d(this.x,this.y)},d.prototype.equals=function(f){return this.x===f.x&&this.y===f.y},d.prototype.offset=function(f,m){return this.x+=f,this.y+=m,this},d.prototype.offsetByPoint=function(f){return this.x+=f.x,this.y+=f.y,this},d.prototype.multiply=function(f,m){return this.x*=f,this.y*=m,this},d.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},d.prototype.applyConverter=function(f){return this.x=f(this.x),this.y=f(this.y),this},d.plus=function(f,m){return new d(f.x+m.x,f.y+m.y)},d.minus=function(f,m){return new d(f.x-m.x,f.y-m.y)},d.xComparer=function(f,m){return f.x-m.x},d.yComparer=function(f,m){return f.y-m.y},d.equals=function(f,m){return f.x===m.x&&f.y===m.y},d})();o.Point=s},6353:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Size=void 0;var s=(function(){function d(f,m){this.width=f,this.height=m}return d.empty=function(){return new d(0,0)},d.fromNumber=function(f){return new d(f,f)},d.initByCommonAction=function(f){var m=function(n){return n.width},p=function(n){return n.height};return new d(f(m,p),f(p,m))},d.prototype.isEmpty=function(){return this.width===0&&this.height===0},d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},d.prototype.offset=function(f,m){return this.width=this.width+f,this.height=this.height+m,this},d.prototype.multiply=function(f,m){return this.width*=f,this.height*=m,this},d.prototype.equals=function(f){return this.width===f.width&&this.height===f.height},d.prototype.clone=function(){return new d(this.width,this.height)},d.prototype.copyFrom=function(f){this.width=f.width,this.height=f.height},d.prototype.applyConverter=function(f){return this.width=f(this.width),this.height=f(this.height),this},d.equals=function(f,m){return f.width===m.width&&f.height===m.height},d})();o.Size=s},2217:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AttrUtils=void 0;var d=s(9279),f=(function(){function m(){}return m.setElementAttribute=function(p,n,l){p.setAttribute&&(d.Browser.IE&&d.Browser.MajorVersion>=11&&n.toLowerCase()==="src"&&p.setAttribute(n,""),p.setAttribute(n,l))},m.setStyleAttribute=function(p,n,l){p.setProperty&&p.setProperty(n,l,"")},m.getElementAttribute=function(p,n){return p.getAttribute(n)},m.getStyleAttribute=function(p,n){if(p.getPropertyValue){if(d.Browser.Firefox)try{return p.getPropertyValue(n)}catch{return p[n]}return p.getPropertyValue(n)}return null},m.removeElementAttribute=function(p,n){p.removeAttribute&&p.removeAttribute(n)},m.removeStyleAttribute=function(p,n){p.removeProperty&&p.removeProperty(n)},m.changeElementStyleAttribute=function(p,n,l){m.saveStyleAttributeInElement(p,n),m.setStyleAttribute(p.style,n,l)},m.restoreElementStyleAttribute=function(p,n){var l="dxwu_saved"+n,i=p.style;if(m.isExistsAttributeInElement(p,l)){var u=m.getElementAttribute(p,l);return u===m.emptyObject||u===null?m.removeStyleAttribute(i,n):m.setStyleAttribute(i,n,u),m.removeElementAttribute(p,l),!0}return!1},m.saveStyleAttributeInElement=function(p,n){var l="dxwu_saved"+n,i=p.style;if(!m.isExistsAttributeInElement(p,l)){var u=m.getStyleAttribute(i,n);m.setElementAttribute(p,l,m.isAttributeExists(u)?u:m.emptyObject)}},m.isExistsAttributeInElement=function(p,n){var l=m.getElementAttribute(p,n);return m.isAttributeExists(l)},m.isAttributeExists=function(p){return p!==null&&p!==""},m.emptyObject="DxEmptyValue",m})();o.AttrUtils=f},2491:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.numberToStringHex=o.numberToStringBin=o.isOdd=o.isEven=o.isNonNullString=o.isString=o.isNumber=o.boolToString=o.boolToInt=o.isDefined=void 0;var d=s(49);o.isDefined=function(f){return f!=null},o.boolToInt=function(f){return f?1:0},o.boolToString=function(f){return f?"1":"0"},o.isNumber=function(f){return typeof f=="number"},o.isString=function(f){return typeof f=="string"},o.isNonNullString=function(f){return!!f},o.isEven=function(f){return f%2!=0},o.isOdd=function(f){return f%2==0},o.numberToStringBin=function(f,m){return m===void 0&&(m=0),d.StringUtils.padLeft(f.toString(2),m,"0")},o.numberToStringHex=function(f,m){return m===void 0&&(m=0),d.StringUtils.padLeft(f.toString(16),m,"0")}},4170:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Equals=o.Comparers=void 0;var s=(function(){function f(){}return f.number=function(m,p){return m-p},f.string=function(m,p){return m===p?0:m>p?1:-1},f.stringIgnoreCase=function(m,p){return(m=m.toLowerCase())===(p=p.toLowerCase())?0:m>p?1:-1},f})();o.Comparers=s;var d=(function(){function f(){}return f.simpleType=function(m,p){return m===p},f.object=function(m,p){return m&&p&&(m===p||m.equals(p))},f})();o.Equals=d},6907:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DomUtils=void 0;var d=s(9279),f=s(2491),m=s(8679),p=s(49),n=(function(){function u(){}return u.clearInnerHtml=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},u.setStylePosition=function(a,y){a.left=m.MathUtils.round(y.x,3)+"px",a.top=m.MathUtils.round(y.y,3)+"px"},u.setStyleSize=function(a,y){a.width=m.MathUtils.round(y.width,3)+"px",a.height=m.MathUtils.round(y.height,3)+"px"},u.setStyleSizeAndPosition=function(a,y){u.setStylePosition(a,y),u.setStyleSize(a,y)},u.hideNode=function(a){if(a){var y=a.parentNode;y&&y.removeChild(a)}},u.isHTMLElementNode=function(a){return a.nodeType===Node.ELEMENT_NODE},u.isTextNode=function(a){return a.nodeType===Node.TEXT_NODE},u.isElementNode=function(a){return a.nodeType===Node.ELEMENT_NODE},u.isHTMLTableRowElement=function(a){return a.tagName==="TR"},u.isItParent=function(a,y){if(!a||!y)return!1;for(;y;){if(y===a)return!0;if(y.tagName==="BODY")return!1;y=y.parentNode}return!1},u.getParentByTagName=function(a,y){for(y=y.toUpperCase();a;){if(a.tagName==="BODY")return null;if(a.tagName===y)return a;a=a.parentNode}return null},u.getDocumentScrollTop=function(){var a=d.Browser.IE&&u.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollTop>0;return d.Browser.WebKitFamily||d.Browser.Edge||a?d.Browser.MacOSMobilePlatform?window.pageYOffset:d.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},u.getDocumentScrollLeft=function(){var a=d.Browser.IE&&u.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollLeft>0;return d.Browser.Edge||a?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:d.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},u.getCurrentStyle=function(a){if(a.currentStyle)return a.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(a,null);if(!y&&d.Browser.Firefox&&window.frameElement){for(var v=[],w=window.frameElement;!(y=document.defaultView.getComputedStyle(a,null));)v.push([w,w.style.display]),w.style.setProperty("display","block","important"),w=w.tagName==="BODY"?w.ownerDocument.defaultView.frameElement:w.parentNode;y=(function(I){if(typeof I!="object"||!f.isDefined(I))return I;var C={};for(var D in I)C[D]=I[D];return C})(y);for(var T=void 0,k=0;T=v[k];k++)T[0].style.display=T[1];document.body.offsetWidth}return y}return window.getComputedStyle(a,null)},u.setFocus=function(a){function y(){try{a.focus(),d.Browser.IE&&document.activeElement!==a&&a.focus()}catch{}}d.Browser.MacOSMobilePlatform?y():setTimeout((function(){y()}),100)},u.hasClassName=function(a,y){try{var v=y.split(" "),w=a.classList;if(w){for(var T=v.length-1;T>=0;T--)if(!w.contains(v[T]))return!1}else{var k=a.getAttribute&&a.getAttribute("class");if(!k)return!1;var I=k.split(" ");for(T=v.length-1;T>=0;T--)if(I.indexOf(v[T])<0)return!1}return!0}catch{return!1}},u.addClassName=function(a,y){if(!u.hasClassName(a,y)){var v=a.getAttribute&&a.getAttribute("class");a.setAttribute("class",v===""?y:v+" "+y)}},u.removeClassName=function(a,y){var v=" "+(a.getAttribute&&a.getAttribute("class"))+" ",w=v.replace(" "+y+" "," ");v.length!==w.length&&a.setAttribute("class",p.StringUtils.trim(w))},u.toggleClassName=function(a,y,v){v===void 0?u.hasClassName(a,y)?u.removeClassName(a,y):u.addClassName(a,y):v?u.addClassName(a,y):u.removeClassName(a,y)},u.pxToInt=function(a){return l(a,parseInt)},u.pxToFloat=function(a){return l(a,parseFloat)},u.getAbsolutePositionY=function(a){function y(v){return Math.round(v.getBoundingClientRect().top+u.getDocumentScrollTop())}return a?d.Browser.IE?(function(v){return d.Browser.IE&&v.parentNode===null?0:v.getBoundingClientRect().top+u.getDocumentScrollTop()})(a):d.Browser.Firefox&&d.Browser.Version>=3?y(a):d.Browser.NetscapeFamily&&(!d.Browser.Firefox||d.Browser.Version<3)?(function(v){for(var w=i(v,!1),T=!0;v!=null;){if(w+=v.offsetTop,T||v.offsetParent==null||(w-=v.scrollTop),!T&&d.Browser.Firefox){var k=u.getCurrentStyle(v);v.tagName==="DIV"&&k.overflow!=="visible"&&(w+=u.pxToInt(k.borderTopWidth))}T=!1,v=v.offsetParent}return w})(a):d.Browser.WebKitFamily||d.Browser.Edge?y(a):(function(v){for(var w=0,T=!0;v!=null;)w+=v.offsetTop,T||v.offsetParent==null||(w-=v.scrollTop),T=!1,v=v.offsetParent;return w})(a):0},u.getAbsolutePositionX=function(a){function y(v){return Math.round(v.getBoundingClientRect().left+u.getDocumentScrollLeft())}return a?d.Browser.IE?(function(v){return d.Browser.IE&&v.parentNode===null?0:v.getBoundingClientRect().left+u.getDocumentScrollLeft()})(a):d.Browser.Firefox&&d.Browser.Version>=3?y(a):d.Browser.Opera&&d.Browser.Version<=12?(function(v){for(var w=!0,T=i(v,!0);v!=null;)T+=v.offsetLeft,w||(T-=v.scrollLeft),v=v.offsetParent,w=!1;return T+=document.body.scrollLeft})(a):d.Browser.NetscapeFamily&&(!d.Browser.Firefox||d.Browser.Version<3)?(function(v){for(var w=i(v,!0),T=!0;v!=null;){if(w+=v.offsetLeft,T||v.offsetParent==null||(w-=v.scrollLeft),!T&&d.Browser.Firefox){var k=u.getCurrentStyle(v);v.tagName==="DIV"&&k.overflow!=="visible"&&(w+=u.pxToInt(k.borderLeftWidth))}T=!1,v=v.offsetParent}return w})(a):d.Browser.WebKitFamily||d.Browser.Edge?y(a):(function(v){for(var w=0,T=!0;v!=null;)w+=v.offsetLeft,T||v.offsetParent==null||(w-=v.scrollLeft),T=!1,v=v.offsetParent;return w})(a):0},u.isInteractiveControl=function(a){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(a.tagName)>-1},u.getClearClientHeight=function(a){return a.offsetHeight-(u.getTopBottomPaddings(a)+u.getVerticalBordersWidth(a))},u.getTopBottomPaddings=function(a,y){var v=y||u.getCurrentStyle(a);return u.pxToInt(v.paddingTop)+u.pxToInt(v.paddingBottom)},u.getVerticalBordersWidth=function(a,y){f.isDefined(y)||(y=d.Browser.IE&&d.Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(a):u.getCurrentStyle(a));var v=0;return y.borderTopStyle!=="none"&&(v+=u.pxToFloat(y.borderTopWidth)),y.borderBottomStyle!=="none"&&(v+=u.pxToFloat(y.borderBottomWidth)),v},u.getNodes=function(a,y){for(var v=a.all||a.getElementsByTagName("*"),w=[],T=0;T<v.length;T++){var k=v[T];y(k)&&w.push(k)}return w},u.getChildNodes=function(a,y){for(var v=a.childNodes,w=[],T=0;T<v.length;T++){var k=v[T];y(k)&&w.push(k)}return w},u.getNodesByClassName=function(a,y){if(a.querySelectorAll){var v=a.querySelectorAll("."+y),w=[];return v.forEach((function(T){return w.push(T)})),w}return u.getNodes(a,(function(T){return u.hasClassName(T,y)}))},u.getChildNodesByClassName=function(a,y){return a.querySelectorAll?(function(v,w){for(var T=[],k=0;k<v.length;k++){var I=v[k];w(I)&&T.push(I)}return T})(a.querySelectorAll("."+y),(function(v){return v.parentNode===a})):u.getChildNodes(a,(function(v){return!!u.isElementNode(v)&&f.isNonNullString(v.className)&&u.hasClassName(v,v.className)}))},u.getVerticalScrollBarWidth=function(){if(u.verticalScrollBarWidth===void 0){var a=document.createElement("DIV");a.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(a);var y=document.createElement("P");a.appendChild(y),y.style.cssText="width: 100%; height: 200px;";var v=y.offsetWidth;a.style.overflow="scroll";var w=y.offsetWidth;v===w&&(w=a.clientWidth),u.verticalScrollBarWidth=v-w,document.body.removeChild(a)}return u.verticalScrollBarWidth},u.getHorizontalBordersWidth=function(a,y){f.isDefined(y)||(y=d.Browser.IE&&window.getComputedStyle?window.getComputedStyle(a):u.getCurrentStyle(a));var v=0;return y.borderLeftStyle!=="none"&&(v+=u.pxToFloat(y.borderLeftWidth)),y.borderRightStyle!=="none"&&(v+=u.pxToFloat(y.borderRightWidth)),v},u.getFontFamiliesFromCssString=function(a){return a.split(",").map((function(y){return p.StringUtils.trim(y.replace(/'|"/gi,""))}))},u.getInnerText=function(a){if(d.Browser.Safari&&d.Browser.MajorVersion<=5){u.html2PlainTextFilter===null&&(u.html2PlainTextFilter=document.createElement("DIV"),u.html2PlainTextFilter.style.width="0",u.html2PlainTextFilter.style.height="0",u.html2PlainTextFilter.style.overflow="visible",u.html2PlainTextFilter.style.display="none",document.body.appendChild(u.html2PlainTextFilter));var y=u.html2PlainTextFilter;y.innerHTML=a.innerHTML,y.style.display="";var v=y.innerText;return y.style.display="none",v}return d.Browser.NetscapeFamily||d.Browser.WebKitFamily||d.Browser.IE&&d.Browser.Version>=9||d.Browser.Edge?a.textContent:a.innerText},u.html2PlainTextFilter=null,u.verticalScrollBarWidth=void 0,u})();function l(u,a){var y=0;if(f.isDefined(u)&&u!=="")try{var v=u.indexOf("px");v>-1&&(y=a(u.substr(0,v)))}catch{}return y}function i(u,a){for(var y=0,v=!0;u!=null&&u.tagName!=="BODY";){var w=n.getCurrentStyle(u);if(w.position==="absolute")break;v||u.tagName!=="DIV"||w.position!==""&&w.position!=="static"||(y-=a?u.scrollLeft:u.scrollTop),u=u.parentNode,v=!1}return y}o.DomUtils=n},9712:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EncodeUtils=void 0;var s=(function(){function d(){}return d.encodeHtml=function(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},d.decodeHtml=function(f){return f.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},d.prepareTextForRequest=function(f){return f.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},d.prepareTextForCallBackRequest=function(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d.decodeViaTextArea=function(f){var m=document.createElement("TEXTAREA");return m.innerHTML=f,m.value},d})();o.EncodeUtils=s},3714:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EvtUtils=void 0;var d=s(9279),f=s(2491),m=s(6907),p=s(1632),n=(function(){function l(){}return l.preventEvent=function(i){i.cancelable&&(i.preventDefault?i.preventDefault():i.returnValue=!1)},l.getEventSource=function(i){return f.isDefined(i)?l.getEventSourceCore(i):null},l.getEventSourceByPosition=function(i){if(!f.isDefined(i))return null;if(!document.elementFromPoint)return l.getEventSourceCore(i);var u=l.getEventX(i)-(l.clientEventRequiresDocScrollCorrection()?m.DomUtils.getDocumentScrollLeft():0),a=l.getEventY(i)-(l.clientEventRequiresDocScrollCorrection()?m.DomUtils.getDocumentScrollTop():0);return u===void 0||a===void 0?l.getEventSourceCore(i):document.elementFromPoint(u,a)},l.getEventSourceCore=function(i){return i.srcElement?i.srcElement:i.target},l.getMouseWheelEventName=function(){return d.Browser.Safari?"mousewheel":d.Browser.NetscapeFamily&&d.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},l.isLeftButtonPressed=function(i){return!!p.TouchUtils.isTouchEvent(i)||!!(i=d.Browser.IE&&f.isDefined(event)?event:i)&&(d.Browser.IE&&d.Browser.Version<11?!!d.Browser.MSTouchUI||i.button%2==1:d.Browser.WebKitFamily?i.type==="pointermove"||i.type==="pointerenter"||i.type==="pointerleave"?i.buttons===1:i.which===1:d.Browser.NetscapeFamily||d.Browser.Edge||d.Browser.IE&&d.Browser.Version>=11?l.isMoveEventName(i.type)?i.buttons===1:i.which===1:!d.Browser.Opera||i.button===0)},l.isMoveEventName=function(i){return i===p.TouchUtils.touchMouseMoveEventName||i===l.getMoveEventName()},l.getMoveEventName=function(){return window.PointerEvent?"pointermove":d.Browser.TouchUI?"touchmove":"mousemove"},l.preventEventAndBubble=function(i){l.preventEvent(i),i.stopPropagation&&i.stopPropagation(),i.cancelBubble=!0},l.clientEventRequiresDocScrollCorrection=function(){var i=d.Browser.Safari&&d.Browser.Version<3,u=d.Browser.MacOSMobilePlatform&&d.Browser.Version<5.1;return d.Browser.AndroidDefaultBrowser||d.Browser.AndroidChromeBrowser||!(i||u)},l.getEventX=function(i){return p.TouchUtils.isTouchEvent(i)?p.TouchUtils.getEventX(i):i.clientX+(l.clientEventRequiresDocScrollCorrection()?m.DomUtils.getDocumentScrollLeft():0)},l.getEventY=function(i){return p.TouchUtils.isTouchEvent(i)?p.TouchUtils.getEventY(i):i.clientY+(l.clientEventRequiresDocScrollCorrection()?m.DomUtils.getDocumentScrollTop():0)},l.cancelBubble=function(i){i.cancelBubble=!0},l.getWheelDelta=function(i){var u;return u=d.Browser.NetscapeFamily&&d.Browser.MajorVersion<17?-i.detail:d.Browser.Safari?i.wheelDelta:-i.deltaY,d.Browser.Opera&&d.Browser.Version<9&&(u=-u),u},l})();o.EvtUtils=n},9937:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JsonUtils=void 0;var s=(function(){function d(){}return d.isValid=function(f){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(f.replace(/"(\\.|[^"\\])*"/g,""))},d})();o.JsonUtils=s},2153:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.KeyCode=o.ModifierKey=o.KeyUtils=void 0;var d,f,m=s(9279),p=s(9712),n=s(49),l=(function(){function i(){}return i.getKeyModifiers=function(u){var a=0;return u.altKey&&(a|=d.Alt),u.ctrlKey&&(a|=d.Ctrl),u.shiftKey&&(a|=d.Shift),u.metaKey&&(a|=d.Meta),a},i.getShortcutCode=function(u,a,y,v,w){var T=u;return T|=a?d.Ctrl:0,T|=y?d.Shift:0,T|=v?d.Alt:0,T|=w?d.Meta:0},i.getShortcutCodeByEvent=function(u){return i.getShortcutCode(i.getEventKeyCode(u),u.ctrlKey,u.shiftKey,u.altKey,!!m.Browser.MacOSPlatform&&u.metaKey)},i.getEventKeyCode=function(u){return m.Browser.NetscapeFamily||m.Browser.Opera?u.which:u.keyCode},i.parseShortcutString=function(u){if(!u)return 0;var a=!1,y=!1,v=!1,w=!1,T=null,k=u.toString().split("+");if(k.length>0)for(var I=0;I<k.length;I++){var C=n.StringUtils.trim(k[I].toUpperCase());switch(C){case"CONTROL":case"CONTROLKEY":case"CTRL":a=!0;break;case"SHIFT":case"SHIFTKEY":y=!0;break;case"ALT":v=!0;break;case"CMD":w=!0;break;case"F1":T=f.F1;break;case"F2":T=f.F2;break;case"F3":T=f.F3;break;case"F4":T=f.F4;break;case"F5":T=f.F5;break;case"F6":T=f.F6;break;case"F7":T=f.F7;break;case"F8":T=f.F8;break;case"F9":T=f.F9;break;case"F10":T=f.F10;break;case"F11":T=f.F11;break;case"F12":T=f.F12;break;case"RETURN":case"ENTER":T=f.Enter;break;case"HOME":T=f.Home;break;case"END":T=f.End;break;case"LEFT":T=f.Left;break;case"RIGHT":T=f.Right;break;case"UP":T=f.Up;break;case"DOWN":T=f.Down;break;case"PAGEUP":T=f.PageUp;break;case"PAGEDOWN":T=f.PageDown;break;case"SPACE":T=f.Space;break;case"TAB":T=f.Tab;break;case"BACKSPACE":case"BACK":T=f.Backspace;break;case"CONTEXT":T=f.ContextMenu;break;case"ESCAPE":case"ESC":T=f.Esc;break;case"DELETE":case"DEL":T=f.Delete;break;case"INSERT":case"INS":T=f.Insert;break;case"PLUS":T=43;break;default:T=C.charCodeAt(0)}}else alert(p.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return i.getShortcutCode(T,a,y,v,w)},i})();o.KeyUtils=l,(function(i){i[i.None=0]="None",i[i.Ctrl=65536]="Ctrl",i[i.Shift=262144]="Shift",i[i.Alt=1048576]="Alt",i[i.Meta=16777216]="Meta"})(d=o.ModifierKey||(o.ModifierKey={})),(function(i){i[i.Backspace=8]="Backspace",i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Pause=19]="Pause",i[i.CapsLock=20]="CapsLock",i[i.Esc=27]="Esc",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.Left=37]="Left",i[i.Up=38]="Up",i[i.Right=39]="Right",i[i.Down=40]="Down",i[i.Insert=45]="Insert",i[i.Delete=46]="Delete",i[i.Key_0=48]="Key_0",i[i.Key_1=49]="Key_1",i[i.Key_2=50]="Key_2",i[i.Key_3=51]="Key_3",i[i.Key_4=52]="Key_4",i[i.Key_5=53]="Key_5",i[i.Key_6=54]="Key_6",i[i.Key_7=55]="Key_7",i[i.Key_8=56]="Key_8",i[i.Key_9=57]="Key_9",i[i.Key_a=65]="Key_a",i[i.Key_b=66]="Key_b",i[i.Key_c=67]="Key_c",i[i.Key_d=68]="Key_d",i[i.Key_e=69]="Key_e",i[i.Key_f=70]="Key_f",i[i.Key_g=71]="Key_g",i[i.Key_h=72]="Key_h",i[i.Key_i=73]="Key_i",i[i.Key_j=74]="Key_j",i[i.Key_k=75]="Key_k",i[i.Key_l=76]="Key_l",i[i.Key_m=77]="Key_m",i[i.Key_n=78]="Key_n",i[i.Key_o=79]="Key_o",i[i.Key_p=80]="Key_p",i[i.Key_q=81]="Key_q",i[i.Key_r=82]="Key_r",i[i.Key_s=83]="Key_s",i[i.Key_t=84]="Key_t",i[i.Key_u=85]="Key_u",i[i.Key_v=86]="Key_v",i[i.Key_w=87]="Key_w",i[i.Key_x=88]="Key_x",i[i.Key_y=89]="Key_y",i[i.Key_z=90]="Key_z",i[i.Windows=91]="Windows",i[i.ContextMenu=93]="ContextMenu",i[i.Numpad_0=96]="Numpad_0",i[i.Numpad_1=97]="Numpad_1",i[i.Numpad_2=98]="Numpad_2",i[i.Numpad_3=99]="Numpad_3",i[i.Numpad_4=100]="Numpad_4",i[i.Numpad_5=101]="Numpad_5",i[i.Numpad_6=102]="Numpad_6",i[i.Numpad_7=103]="Numpad_7",i[i.Numpad_8=104]="Numpad_8",i[i.Numpad_9=105]="Numpad_9",i[i.Multiply=106]="Multiply",i[i.Add=107]="Add",i[i.Subtract=109]="Subtract",i[i.Decimal=110]="Decimal",i[i.Divide=111]="Divide",i[i.F1=112]="F1",i[i.F2=113]="F2",i[i.F3=114]="F3",i[i.F4=115]="F4",i[i.F5=116]="F5",i[i.F6=117]="F6",i[i.F7=118]="F7",i[i.F8=119]="F8",i[i.F9=120]="F9",i[i.F10=121]="F10",i[i.F11=122]="F11",i[i.F12=123]="F12",i[i.NumLock=144]="NumLock",i[i.ScrollLock=145]="ScrollLock",i[i.Semicolon=186]="Semicolon",i[i.Equals=187]="Equals",i[i.Comma=188]="Comma",i[i.Dash=189]="Dash",i[i.Period=190]="Period",i[i.ForwardSlash=191]="ForwardSlash",i[i.GraveAccent=192]="GraveAccent",i[i.OpenBracket=219]="OpenBracket",i[i.BackSlash=220]="BackSlash",i[i.CloseBracket=221]="CloseBracket",i[i.SingleQuote=222]="SingleQuote"})(f=o.KeyCode||(o.KeyCode={}))},2940:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ListUtils=void 0;var d=s(6799),f=s(4170),m=(function(){function p(){}return p.remove=function(n,l){var i=n.indexOf(l,0);i>=0&&n.splice(i,1)},p.removeBy=function(n,l){for(var i=n.length,u=0;u<i;u++)if(l(n[u],u))return n.splice(u,1)[0];return null},p.shallowCopy=function(n){return n.slice()},p.deepCopy=function(n){return p.map(n,(function(l){return l.clone()}))},p.initByValue=function(n,l){for(var i=[];n>0;n--)i.push(l);return i},p.initByCallback=function(n,l){for(var i=[],u=0;u<n;u++)i.push(l(u));return i},p.forEachOnInterval=function(n,l){for(var i=n.end,u=n.start;u<i;u++)l(u)},p.reverseForEachOnInterval=function(n,l){for(var i=n.start,u=n.end-1;u>=i;u--)l(u)},p.reducedMap=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=[],y=i;y<u;y++){var v=l(n[y],y);v!==null&&a.push(v)}return a},p.filter=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=[],y=i;y<u;y++){var v=n[y];l(v,y)&&a.push(v)}return a},p.map=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=[],y=i;y<u;y++)a.push(l(n[y],y));return a},p.indexBy=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=i;a<u;a++)if(l(n[a],a))return a;return-1},p.reverseIndexBy=function(n,l,i,u){i===void 0&&(i=n.length-1),u===void 0&&(u=0);for(var a=i;a>=u;a--)if(l(n[a],a))return a;return-1},p.elementBy=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);var a=p.indexBy(n,l,i,u);return a<0?null:n[a]},p.reverseElementBy=function(n,l,i,u){i===void 0&&(i=n.length-1),u===void 0&&(u=0);var a=p.reverseIndexBy(n,l,i,u);return a<0?null:n[a]},p.last=function(n){return n[n.length-1]},p.setLast=function(n,l){return n[n.length-1]=l},p.incLast=function(n){return++n[n.length-1]},p.decLast=function(n){return--n[n.length-1]},p.equals=function(n,l){return n.length===l.length&&p.allOf2(n,l,(function(i,u){return i.equals(u)}))},p.equalsByReference=function(n,l){var i=n.length;if(i!==n.length)return!1;for(var u=0;u<i;u++)if(n[u]!==l[u])return!1;return!0},p.unique=function(n,l,i,u){i===void 0&&(i=l),u===void 0&&(u=function(){});var a=n.length;if(a===0)return[];var y=(n=n.sort(l))[0],v=p.reducedMap(n,(function(w){return i(y,w)!==0?(y=w,w):(u(w),null)}),1,a);return v.unshift(n[0]),v},p.uniqueNumber=function(n){n=n.sort(f.Comparers.number);for(var l=Number.NaN,i=n.length-1;i>=0;i--)l===n[i]?n.splice(i,1):l=n[i];return n},p.forEach=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=i;a<u;a++)l(n[a],a)},p.forEach2=function(n,l,i,u,a){u===void 0&&(u=0),a===void 0&&(a=n.length);for(var y=u;y<a;y++)i(n[y],l[y],y)},p.reverseForEach=function(n,l,i,u){i===void 0&&(i=n.length-1),u===void 0&&(u=0);for(var a=i;a>=u;a--)l(n[a],a)},p.reverseIndexOf=function(n,l,i,u){i===void 0&&(i=n.length-1),u===void 0&&(u=0);for(var a=i;a>=u;a--)if(n[a]===l)return a;return-1},p.accumulate=function(n,l,i,u,a){u===void 0&&(u=0),a===void 0&&(a=n.length);for(var y=l,v=u;v<a;v++)y=i(y,n[v],v);return y},p.accumulateNumber=function(n,l,i,u,a){i===void 0&&(i=0),u===void 0&&(u=0),a===void 0&&(a=n.length);for(var y=i,v=u;v<a;v++)y+=l(n[v],v,y);return y},p.anyOf=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=i;a<u;a++)if(l(n[a],a))return!0;return!1},p.unsafeAnyOf=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=i;a<u;a++){var y=l(n[a],a);if(y)return y}return null},p.reverseAnyOf=function(n,l,i,u){i===void 0&&(i=n.length-1),u===void 0&&(u=0);for(var a=i;a>=u;a--)if(l(n[a],a))return!0;return!1},p.unsafeReverseAnyOf=function(n,l,i,u){i===void 0&&(i=n.length-1),u===void 0&&(u=0);for(var a=i;a>=u;a--){var y=l(n[a],a);if(y)return y}return null},p.anyOf2=function(n,l,i,u,a){u===void 0&&(u=0),a===void 0&&(a=n.length);for(var y=u;y<a;y++)if(i(n[y],l[y],y))return!0;return!1},p.allOf=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);for(var a=i;a<u;a++)if(!l(n[a],a))return!1;return!0},p.allOf2=function(n,l,i,u,a){u===void 0&&(u=0),a===void 0&&(a=n.length);for(var y=u;y<a;y++)if(!i(n[y],l[y],y))return!1;return!0},p.allOfOnInterval=function(n,l){for(var i=n.end,u=n.start;u<i;u++)if(!l(u))return!1;return!0},p.addListOnTail=function(n,l){for(var i=0,u=void 0;u=l[i];i++)n.push(u);return n},p.joinLists=function(n){for(var l=[],i=1;i<arguments.length;i++)l[i-1]=arguments[i];return p.accumulate(l,[],(function(u,a){return p.addListOnTail(u,n(a)),u}))},p.push=function(n,l){return n.push(l),n},p.countIf=function(n,l){return p.accumulateNumber(n,(function(i,u){return l(i,u)?1:0}))},p.clear=function(n){n.splice(0)},p.merge=function(n,l,i,u,a,y){if(a===void 0&&(a=0),y===void 0&&(y=n.length),n=n.slice(a,y),y-a<2)return n;for(var v=(n=n.sort(l))[a],w=[v],T=a+1;T<y;T++){var k=n[T];i(v,k)?u(v,k):(v=k,w.push(v))}return w},p.min=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);var a=p.minExtended(n,l,i,u);return a?a.minElement:null},p.max=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);var a=p.maxExtended(n,l,i,u);return a?a.maxElement:null},p.minMax=function(n,l,i,u){i===void 0&&(i=0),u===void 0&&(u=n.length);var a=p.minMaxExtended(n,l,i,u);return a?new d.MinMax(a.minElement,a.maxElement):null},p.minExtended=function(n,l,i,u){if(i===void 0&&(i=0),u===void 0&&(u=n.length),n.length===0)return null;for(var a=n[i],y=l(a),v=i+1;v<u;v++){var w=n[v],T=l(w);T<y&&(y=T,a=w)}return new d.ExtendedMin(a,y)},p.maxExtended=function(n,l,i,u){if(i===void 0&&(i=0),u===void 0&&(u=n.length),n.length===0)return null;for(var a=n[i],y=l(a),v=i+1;v<u;v++){var w=n[v],T=l(w);T>y&&(y=T,a=w)}return new d.ExtendedMax(a,y)},p.minMaxExtended=function(n,l,i,u){if(i===void 0&&(i=0),u===void 0&&(u=n.length),n.length===0)return null;for(var a=n[i],y=a,v=l(a),w=v,T=i+1;T<u;T++){var k=n[T],I=l(k);I<v?(v=I,a=k):I>w&&(w=I,y=k)}return new d.ExtendedMinMax(a,v,y,w)},p.minByCmp=function(n,l,i,u){if(i===void 0&&(i=0),u===void 0&&(u=n.length),n.length===0)return null;for(var a=n[i],y=i+1;y<u;y++){var v=n[y];l(v,a)<0&&(a=v)}return a},p.maxByCmp=function(n,l,i,u){if(i===void 0&&(i=0),u===void 0&&(u=n.length),n.length===0)return null;for(var a=n[i],y=i+1;y<u;y++){var v=n[y];l(v,a)>0&&(a=v)}return a},p.minMaxByCmp=function(n,l,i,u){if(i===void 0&&(i=0),u===void 0&&(u=n.length),n.length===0)return null;for(var a=n[i],y=a,v=i+1;v<u;v++){var w=n[v],T=l(w,a);T>0?y=w:T<0&&(a=w)}return new d.MinMax(a,y)},p})();o.ListUtils=m},8679:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MathUtils=void 0;var d=s(2940),f=(function(){function m(){}return m.round=function(p,n){n===void 0&&(n=0);var l=m.powFactor[n];return Math.round(p*l)/l},m.numberCloseTo=function(p,n,l){return l===void 0&&(l=1e-5),Math.abs(p-n)<l},m.restrictValue=function(p,n,l){return l<n&&(l=n),p>l?l:p<n?n:p},m.getRandomInt=function(p,n){return Math.floor(Math.random()*(n-p+1))+p},m.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(p){var n=16*Math.random()|0;return(p==="x"?n:3&n|8).toString(16)}))},m.powFactor=d.ListUtils.initByCallback(20,(function(p){return Math.pow(10,p)})),m.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],m})();o.MathUtils=f},49:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtils=void 0;var s=(function(){function d(){}return d.isAlpha=function(f){return f>="a"&&f<="z"||f>="A"&&f<="Z"},d.isDigit=function(f){return f>="0"&&f<="9"},d.stringHashCode=function(f){var m=0;if(f.length===0)return m;for(var p=f.length,n=0;n<p;n++)m=(m<<5)-m+f.charCodeAt(n),m|=0;return m},d.endsAt=function(f,m){var p=f.length-1,n=m.length-1,l=p-n;if(l<0)return!1;for(;p>=l;p--,n--)if(f[p]!==m[n])return!1;return!0},d.startsAt=function(f,m){return f.substr(0,m.length)===m},d.stringInLowerCase=function(f){return f.toLowerCase()===f},d.stringInUpperCase=function(f){return f.toUpperCase()===f},d.atLeastOneSymbolInUpperCase=function(f){for(var m=0,p=void 0;p=f[m];m++)if(d.stringInUpperCase(p)&&!d.stringInLowerCase(p))return!0;return!1},d.getSymbolFromEnd=function(f,m){return f[f.length-m]},d.trim=function(f,m){if(m===void 0)return d.trimInternal(f,!0,!0);var p=m.join("");return f.replace(new RegExp("(^["+p+"]*)|(["+p+"]*$)","g"),"")},d.trimStart=function(f,m){if(m===void 0)return d.trimInternal(f,!0,!1);var p=m.join("");return f.replace(new RegExp("^["+p+"]*","g"),"")},d.trimEnd=function(f,m){if(m===void 0)return d.trimInternal(f,!1,!0);var p=m.join("");return f.replace(new RegExp("["+p+"]*$","g"),"")},d.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},d.repeat=function(f,m){return new Array(m<=0?0:m+1).join(f)},d.isNullOrEmpty=function(f){return!f||!f.length},d.padLeft=function(f,m,p){return d.repeat(p,Math.max(0,m-f.length))+f},d.trimInternal=function(f,m,p){var n=f.length;if(!n)return f;if(n<764833){var l=f;return m&&(l=l.replace(/^\s+/,"")),p&&(l=l.replace(/\s+$/,"")),l}var i=0;if(p)for(;n>0&&/\s/.test(f[n-1]);)n--;if(m&&n>0)for(;i<n&&/\s/.test(f[i]);)i++;return f.substring(i,n)},d})();o.StringUtils=s},1632:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TouchUtils=void 0;var d=s(9279),f=s(2491),m=(function(){function p(){}return p.onEventAttachingToDocument=function(n,l){return!d.Browser.MacOSMobilePlatform||!p.isTouchEventName(n)||(p.documentTouchHandlers[n]||(p.documentTouchHandlers[n]=[]),p.documentTouchHandlers[n].push(l),p.documentEventAttachingAllowed)},p.isTouchEventName=function(n){return d.Browser.WebKitTouchUI&&(n.indexOf("touch")>-1||n.indexOf("gesture")>-1)},p.isTouchEvent=function(n){return d.Browser.WebKitTouchUI&&f.isDefined(n.changedTouches)},p.getEventX=function(n){return d.Browser.IE?n.pageX:n.changedTouches[0].pageX},p.getEventY=function(n){return d.Browser.IE?n.pageY:n.changedTouches[0].pageY},p.touchMouseDownEventName=d.Browser.WebKitTouchUI?"touchstart":d.Browser.Edge&&d.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",p.touchMouseUpEventName=d.Browser.WebKitTouchUI?"touchend":d.Browser.Edge&&d.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",p.touchMouseMoveEventName=d.Browser.WebKitTouchUI?"touchmove":d.Browser.Edge&&d.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",p.msTouchDraggableClassName="dxMSTouchDraggable",p.documentTouchHandlers={},p.documentEventAttachingAllowed=!0,p})();o.TouchUtils=m},8721:(_,o,s)=>{s.r(o)},639:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BarManager=void 0;var s=(function(){function d(f,m){this.commandManager=f,this.bars=m}return d.prototype.updateContextMenu=function(){for(var f=0,m=void 0;m=this.bars[f];f++)if(m.isContextMenu()){m.updateItemsList();for(var p=m.getCommandKeys(),n=0;n<p.length;n++)this.updateBarItem(m,p[n])}},d.prototype.updateItemsState=function(f){for(var m=!!f.length,p=function(u,a){if(a.isVisible()){for(var y=a.getCommandKeys(),v=function(T){if(m&&!f.filter((function(k){return k==y[T]})).length)return"continue";n.updateBarItem(a,y[T])},w=0;w<y.length;w++)v(w);a.completeUpdate()}},n=this,l=0,i=void 0;i=this.bars[l];l++)p(0,i)},d.prototype.updateBarItem=function(f,m){var p=this.commandManager.getCommand(m);if(p){var n=p.getState();f.setItemVisible(m,n.visible),n.visible&&(f.setItemEnabled(m,n.enabled),f.setItemValue(m,n.value))}},d})();o.BarManager=s},3290:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttClientCommand=void 0,(function(s){s[s.CreateTask=0]="CreateTask",s[s.CreateSubTask=1]="CreateSubTask",s[s.RemoveTask=2]="RemoveTask",s[s.RemoveDependency=3]="RemoveDependency",s[s.TaskInformation=4]="TaskInformation",s[s.TaskAddContextItem=5]="TaskAddContextItem",s[s.Undo=6]="Undo",s[s.Redo=7]="Redo",s[s.ZoomIn=8]="ZoomIn",s[s.ZoomOut=9]="ZoomOut",s[s.FullScreen=10]="FullScreen",s[s.CollapseAll=11]="CollapseAll",s[s.ExpandAll=12]="ExpandAll",s[s.ResourceManager=13]="ResourceManager",s[s.ToggleResources=14]="ToggleResources",s[s.ToggleDependencies=15]="ToggleDependencies"})(o.GanttClientCommand||(o.GanttClientCommand={}))},3756:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CollapseAllCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(this.isEnabled())},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.collapseAll(),!0},l.prototype.isEnabled=function(){return!0},l})(f.CommandBase);o.CollapseAllCommand=p},6585:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExpandAllCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(this.isEnabled())},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.expandAll(),!0},l.prototype.isEnabled=function(){return!0},l})(f.CommandBase);o.ExpandAllCommand=p},9687:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CommandBase=void 0;var s=(function(){function d(f){this.control=f}return Object.defineProperty(d.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),d.prototype.execute=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];if(!this.state.enabled)return!1;var p=this.executeInternal.apply(this,f);return p&&this.control.barManager.updateItemsState([]),p},d.prototype.isEnabled=function(){return this.control.settings.editing.enabled},d.prototype.executeInternal=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];throw new Error("Not implemented")},d})();o.CommandBase=s},7156:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CommandManager=void 0;var d=s(5237),f=s(126),m=s(5477),p=s(6152),n=s(3290),l=s(3756),i=s(6585),u=s(4118),a=s(3044),y=s(9762),v=s(7823),w=s(3250),T=s(9072),k=s(1955),I=s(1757),C=s(7977),D=s(9793),P=s(358),A=s(9791),R=s(3936),z=s(5258),B=s(2018),N=s(4195),Z=s(2714),ne=s(299),ie=s(2231),Y=(function(){function oe(ae){this.control=ae,this.commands={},this.createCommand(n.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(n.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(n.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(n.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(n.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(n.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(n.GanttClientCommand.TaskAddContextItem,new Z.TaskAddContextItemCommand(this.control)),this.createCommand(n.GanttClientCommand.Undo,new T.UndoCommand(this.control)),this.createCommand(n.GanttClientCommand.Redo,new w.RedoCommand(this.control)),this.createCommand(n.GanttClientCommand.ZoomIn,new ne.ZoomInCommand(this.control)),this.createCommand(n.GanttClientCommand.ZoomOut,new ie.ZoomOutCommand(this.control)),this.createCommand(n.GanttClientCommand.FullScreen,new v.ToggleFullScreenCommand(this.control)),this.createCommand(n.GanttClientCommand.CollapseAll,new l.CollapseAllCommand(this.control)),this.createCommand(n.GanttClientCommand.ExpandAll,new i.ExpandAllCommand(this.control)),this.createCommand(n.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(n.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(oe.prototype,"createTaskCommand",{get:function(){return new z.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"createSubTaskCommand",{get:function(){return new R.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"removeTaskCommand",{get:function(){return new N.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"updateTaskCommand",{get:function(){return new B.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"createDependencyCommand",{get:function(){return new u.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"removeDependencyCommand",{get:function(){return new a.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"createResourceCommand",{get:function(){return new I.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"removeResourceCommand",{get:function(){return new P.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"assignResourceCommand",{get:function(){return new k.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"deassignResourceCommand",{get:function(){return new C.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"changeResourceColorCommand",{get:function(){return new D.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"showTaskEditDialog",{get:function(){return new p.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"showConstraintViolationDialog",{get:function(){return new f.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"showConfirmationDialog",{get:function(){return new d.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"showResourcesDialog",{get:function(){return new m.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"toggleResources",{get:function(){return new A.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"toggleDependencies",{get:function(){return new y.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),oe.prototype.getCommand=function(ae){return this.commands[ae]},oe.prototype.createCommand=function(ae,O){this.commands[ae]=O},oe})();o.CommandManager=Y},4118:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CreateDependencyCommand=void 0;var d=s(655),f=s(5950),m=s(3279),p=s(1211),n=(function(l){function i(){return l!==null&&l.apply(this,arguments)||this}return d.__extends(i,l),i.prototype.execute=function(u,a,y){return l.prototype.execute.call(this,u,a,y)},i.prototype.executeInternal=function(u,a,y){if(this.control.viewModel.dependencies.items.filter((function(T){return T.predecessorId===u&&T.successorId===a||T.successorId===u&&T.predecessorId===a})).length)return!1;var v=new m.DependencyInsertingArguments(u,a,y);if(this.modelManipulator.dispatcher.notifyDependencyInserting(v),v.cancel)return!1;if(u=v.predecessorId,a=v.successorId,y=v.type,this.control.history.beginTransaction(),this.history.addAndRedo(new p.InsertDependencyHistoryItem(this.modelManipulator,u,a,y)),this.control.isValidateDependenciesRequired()){var w=this.control.viewModel.tasks.getItemById(u);y===f.DependencyType.SF||y===f.DependencyType.SS?this.control.validationController.moveStartDependTasks(u,w.start):this.control.validationController.moveEndDependTasks(u,w.end)}return this.control.history.endTransaction(),!0},i.prototype.isEnabled=function(){return l.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},i})(s(2291).DependencyCommandBase);o.CreateDependencyCommand=n},2291:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DependencyCommandBase=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(this.isEnabled())},l})(f.CommandBase);o.DependencyCommandBase=p},3044:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveDependencyCommand=void 0;var d=s(655),f=s(9544),m=s(5139),p=s(4797),n=s(5865),l=(function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(u,i),u.prototype.execute=function(a,y){var v=this;return y===void 0&&(y=!0),y?(this.control.commandManager.showConfirmationDialog.execute(new m.ConfirmationDialogParameters(f.ConfirmationType.DependencyDelete,(function(){v.executeInternal(a)}))),!1):i.prototype.execute.call(this,a)},u.prototype.executeInternal=function(a){if((a=a||this.control.taskEditController.dependencyId)!=null){var y=this.control.viewModel.dependencies.items.filter((function(w){return w.internalId===a}))[0];if(y){var v=new p.DependencyRemovingArguments(y);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(v),!v.cancel)return this.history.addAndRedo(new n.RemoveDependencyHistoryItem(this.modelManipulator,a)),a===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},u.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},u.prototype.getState=function(){var a=i.prototype.getState.call(this);return a.visible=a.enabled&&this.control.taskEditController.dependencyId!=null,a},u})(s(2291).DependencyCommandBase);o.RemoveDependencyCommand=l},9762:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ToggleDependenciesCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(!0)},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},l})(f.CommandBase);o.ToggleDependenciesCommand=p},7823:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ToggleFullScreenCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){var i=n!==null&&n.apply(this,arguments)||this;return i.isInFullScreenMode=!1,i.fullScreenTempVars={},i}return d.__extends(l,n),l.prototype.getState=function(){var i=new m.SimpleCommandState(!0);return i.value=this.control.fullScreenModeHelper.isInFullScreenMode,i},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},l})(f.CommandBase);o.ToggleFullScreenCommand=p},3250:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RedoCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){var i=new m.SimpleCommandState(this.isEnabled());return i.visible=this.control.settings.editing.enabled,i},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.history.redo(),!0},l.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.history.canRedo()},l})(f.CommandBase);o.RedoCommand=p},9072:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UndoCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){var i=new m.SimpleCommandState(this.isEnabled());return i.visible=this.control.settings.editing.enabled,i},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.history.undo(),!0},l.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.history.canUndo()},l})(f.CommandBase);o.UndoCommand=p},1955:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AssignResourceCommand=void 0;var d=s(655),f=s(1389),m=s(3683),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.execute=function(i,u){return n.prototype.execute.call(this,i,u)},l.prototype.executeInternal=function(i,u){if(!this.control.viewModel.assignments.items.filter((function(v){return v.resourceId===i&&v.taskId===u}))[0]){var a=this.control.viewModel,y=new f.ResourceAssigningArguments(a.convertInternalToPublicKey("resource",i),a.convertInternalToPublicKey("task",u));if(this.modelManipulator.dispatcher.notifyResourceAssigning(y),!y.cancel)return this.history.addAndRedo(new m.AssignResourceHistoryItem(this.modelManipulator,a.convertPublicToInternalKey("resource",y.resourceId),a.convertPublicToInternalKey("task",y.taskId))),!0}return!1},l.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},l})(s(200).ResourceCommandBase);o.AssignResourceCommand=p},1757:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CreateResourceCommand=void 0;var d=s(655),f=s(990),m=s(2961),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.execute=function(i,u,a){return u===void 0&&(u=""),n.prototype.execute.call(this,i,u,a)},l.prototype.executeInternal=function(i,u,a){u===void 0&&(u="");var y=new f.ResourceInsertingArguments(i,u);return this.modelManipulator.dispatcher.notifyResourceCreating(y),y.cancel||this.history.addAndRedo(new m.CreateResourceHistoryItem(this.modelManipulator,y.text,y.color,a)),!y.cancel},l.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},l})(s(200).ResourceCommandBase);o.CreateResourceCommand=p},7977:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DeassignResourceCommand=void 0;var d=s(655),f=s(1493),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.execute=function(l){return p.prototype.execute.call(this,l)},n.prototype.executeInternal=function(l){var i=this.control.viewModel.assignments.items.filter((function(u){return u.internalId===l}))[0];return!(!i||!this.modelManipulator.dispatcher.fireResourceUnassigning(i))&&(this.history.addAndRedo(new f.DeassignResourceHistoryItem(this.modelManipulator,l)),!0)},n.prototype.isEnabled=function(){return p.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},n})(s(200).ResourceCommandBase);o.DeassignResourceCommand=m},9793:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceColorCommand=void 0;var d=s(655),f=s(4641),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.execute=function(l,i){return p.prototype.execute.call(this,l,i)},n.prototype.executeInternal=function(l,i){return this.control.viewModel.resources.getItemById(l).color!==i&&(this.history.addAndRedo(new f.ResourceColorHistoryItem(this.modelManipulator,l,i)),!0)},n})(s(9876).ResourcePropertyCommandBase);o.ResourceColorCommand=m},9876:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcePropertyCommandBase=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(this.isEnabled())},l.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},l})(f.CommandBase);o.ResourcePropertyCommandBase=p},358:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveResourceCommand=void 0;var d=s(655),f=s(9748),m=s(7466),p=s(1493),n=(function(l){function i(){return l!==null&&l.apply(this,arguments)||this}return d.__extends(i,l),i.prototype.execute=function(u){return l.prototype.execute.call(this,u)},i.prototype.executeInternal=function(u){var a=this,y=this.control.viewModel.resources.items.filter((function(T){return T.internalId===u}))[0];if(y){var v=new f.ResourceRemovingArguments(y);if(this.modelManipulator.dispatcher.notifyResourceRemoving(v),!v.cancel){var w=new m.RemoveResourceHistoryItem(this.modelManipulator,u);return this.control.viewModel.assignments.items.filter((function(T){return T.resourceId===u})).forEach((function(T){a.modelManipulator.dispatcher.fireResourceUnassigning(T)&&w.add(new p.DeassignResourceHistoryItem(a.modelManipulator,T.internalId))})),this.history.addAndRedo(w),!0}}return!1},i.prototype.isEnabled=function(){return l.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},i})(s(200).ResourceCommandBase);o.RemoveResourceCommand=n},200:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceCommandBase=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(this.isEnabled())},l})(f.CommandBase);o.ResourceCommandBase=p},9791:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ToggleResourceCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(!0)},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.toggleResources(),!0},l})(f.CommandBase);o.ToggleResourceCommand=p},4409:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleCommandState=void 0;var s=function(d,f){this.visible=!0,this.enabled=d,this.value=f};o.SimpleCommandState=s},3936:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CreateSubTaskCommand=void 0;var d=s(655),f=s(4605),m=s(1284),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.execute=function(i){return n.prototype.execute.call(this,i)},l.prototype.executeInternal=function(i){i=i||this.control.currentSelectedTaskID;var u=this.control.viewModel.findItem(i);if(u.selected){var a={start:new Date(u.task.start.getTime()),end:new Date(u.task.end.getTime()),title:"New task",progress:0,parentId:i},y=new f.TaskInsertingArguments(null,a);if(this.modelManipulator.dispatcher.notifyTaskCreating(y),!y.cancel){this.history.addAndRedo(new m.CreateTaskHistoryItem(this.modelManipulator,y));var v=this.control.viewModel.findItem(a.parentId);n.prototype.updateParent.call(this,v)}return!y.cancel}return!1},l.prototype.isEnabled=function(){var i=this.control,u=i.viewModel.findItem(i.currentSelectedTaskID);return n.prototype.isEnabled.call(this)&&!!u&&u.selected},l.prototype.getState=function(){var i=n.prototype.getState.call(this),u=this.control;return i.visible=i.visible&&u.settings.editing.allowTaskInsert,i},l})(s(9254).TaskCommandBase);o.CreateSubTaskCommand=p},5258:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CreateTaskCommand=void 0;var d=s(655),f=s(4605),m=s(1284),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.execute=function(i){return n.prototype.execute.call(this,i)},l.prototype.executeInternal=function(i){var u,a;if(i!=null||(i={}),!i.parentId){var y=this.control.viewModel.findItem(this.control.currentSelectedTaskID),v=y&&y.task;v&&(i.parentId=v.parentId)}var w=this.control.viewModel.findItem(i.parentId)||this.control.viewModel.items[0],T=w&&w.task;i.start||(i.start=T?new Date(T.start.getTime()):new Date(this.control.range.start.getTime())),i.end||(i.end=T?new Date(T.end.getTime()):new Date(this.control.range.end.getTime())),(u=i.title)!==null&&u!==void 0||(i.title="New task"),(a=i.progress)!==null&&a!==void 0||(i.progress=0);var k=new f.TaskInsertingArguments(null,i);if(this.modelManipulator.dispatcher.notifyTaskCreating(k),!k.cancel){this.history.addAndRedo(new m.CreateTaskHistoryItem(this.modelManipulator,k));var I=this.control.viewModel.findItem(i.parentId);n.prototype.updateParent.call(this,I)}return!k.cancel},l.prototype.getState=function(){var i=n.prototype.getState.call(this);return i.visible=i.visible&&this.control.settings.editing.allowTaskInsert,i},l})(s(9254).TaskCommandBase);o.CreateTaskCommand=p},4195:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveTaskCommand=void 0;var d=s(655),f=s(9544),m=s(5139),p=s(4642),n=s(5865),l=s(1493),i=s(9599),u=(function(a){function y(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(y,a),y.prototype.execute=function(v,w,T,k,I,C){var D=this;return w===void 0&&(w=!0),T===void 0&&(T=!1),k===void 0&&(k=!0),this.isApiCall=T,this.isUpdateParentTaskRequired=k,w?(this.control.commandManager.showConfirmationDialog.execute(new m.ConfirmationDialogParameters(f.ConfirmationType.TaskDelete,(function(){D.executeInternal(v,I,C)}))),!1):a.prototype.execute.call(this,v,I,C)},y.prototype.executeInternal=function(v,w,T){var k=this,I=T||[];v=v||this.control.currentSelectedTaskID;var C=this.control.viewModel.findItem(v),D=C?C.task:this.control.viewModel.tasks.getItemById(v),P=new p.TaskRemovingArguments(D);if(this.modelManipulator.dispatcher.notifyTaskRemoving(P),P.cancel)return!1;var A=this.history,R=this.control.viewModel;A.beginTransaction(),R.beginUpdate();var z=!!w,B=new i.RemoveTaskHistoryItem(this.modelManipulator,v),N=R.tasks.items.filter((function(Y){return Y.parentId===v})),Z=N.map((function(Y){return Y.internalId})),ne=R.dependencies.items.filter((function(Y){return I.indexOf(Y.internalId)===-1&&(Y.predecessorId===v||Y.successorId===v)&&!Z.some((function(oe){return Y.predecessorId===oe||Y.successorId===oe}))}));if(ne.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;ne.forEach((function(Y){B.add(new n.RemoveDependencyHistoryItem(k.modelManipulator,Y.internalId)),I.push(Y.internalId)}))}if(R.assignments.items.filter((function(Y){return Y.taskId===v})).forEach((function(Y){k.modelManipulator.dispatcher.fireResourceUnassigning(Y)&&B.add(new l.DeassignResourceHistoryItem(k.modelManipulator,Y.internalId))})),N.reverse().forEach((function(Y){return new y(k.control).execute(Y.internalId,!1,!0,!1,B,I)})),z?w.add(B):A.addAndRedo(B),this.isUpdateParentTaskRequired){var ie=this.control.viewModel.findItem(D.parentId);a.prototype.updateParent.call(this,ie)}return A.endTransaction(),R.endUpdate(),!0},y.prototype.isEnabled=function(){var v=this.control,w=v.viewModel.findItem(v.currentSelectedTaskID);return a.prototype.isEnabled.call(this)&&(!!w&&w.selected||this.isApiCall)},y.prototype.getState=function(){var v=a.prototype.getState.call(this),w=this.control;return v.visible=v.visible&&w.settings.editing.allowTaskDelete,v},y})(s(9254).TaskCommandBase);o.RemoveTaskCommand=u},2714:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAddContextItemCommand=void 0;var d=s(655),f=(function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(p,m),p.prototype.getState=function(){var n=m.prototype.getState.call(this);return n.visible=n.visible&&this.control.settings.editing.allowTaskInsert,n},p.prototype.execute=function(){return!1},p})(s(9254).TaskCommandBase);o.TaskAddContextItemCommand=f},9254:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskCommandBase=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){var i=n!==null&&n.apply(this,arguments)||this;return i.isApiCall=!1,i}return d.__extends(l,n),l.prototype.getState=function(){var i=new m.SimpleCommandState(this.isEnabled());return i.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,i},l.prototype.updateParent=function(i){this.validationController._parentAutoCalc&&i&&i.children.length>0&&this.control.validationController.updateParentsIfRequired(i.children[0].task.internalId)},l})(f.CommandBase);o.TaskCommandBase=p},2018:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UpdateTaskCommand=void 0;var d=s(655),f=s(2491),m=s(9544),p=s(3433),n=s(5865),l=s(9496),i=s(9201),u=(function(a){function y(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(y,a),y.prototype.execute=function(v,w){return a.prototype.execute.call(this,v,w)},y.prototype.executeInternal=function(v,w){var T=this.control.viewModel.tasks.getItemById(v);if(!T)return!1;var k=this.control.modelManipulator.dispatcher.raiseTaskUpdating(T,w,(function(C){w.title=C.title,w.progress=C.progress,w.start=C.start,w.end=C.end,w.color=C.color}));if(k){(0,f.isDefined)(w.start)&&(0,f.isDefined)(w.end)&&w.end.getTime()<w.start.getTime()&&(w.end=w.start),(0,f.isDefined)(w.progress)&&(w.progress=Math.max(Math.min(w.progress,100),0));var I=this.filterChangedValues(w,T);this.processDependecyValidation(I,T)}return k},y.prototype.isEnabled=function(){return a.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},y.prototype.filterChangedValues=function(v,w){if(!v)return null;var T={};for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(0,f.isDefined)(v[k])&&w[k]!==v[k]&&(T[k]=v[k]);return T},y.prototype.processDependecyValidation=function(v,w){var T=this,k=function(A){T.onAfterValidationCallback(v,w,A)},I=this.control.isValidateDependenciesRequired();if(I){var C=[],D=(0,f.isDefined)(v.start)&&v.start!==w.start,P=(0,f.isDefined)(v.end)&&v.end!==w.end;D&&I&&(C=C.concat(this.control.validationController.checkStartDependencies(w.internalId,v.start))),P&&I&&(C=C.concat(this.control.validationController.checkEndDependencies(w.internalId,v.end))),C.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new p.ConstraintViolationDialogParameters(C,k)):k(null)}else k(null)},y.prototype.onAfterValidationCallback=function(v,w,T){var k=this;if(!T||T.option!==m.ConstraintViolationOption.DoNothing||(delete v.start,delete v.end),Object.keys(v).length>0){this.history.beginTransaction(),(T==null?void 0:T.option)===m.ConstraintViolationOption.RemoveDependency&&T.validationErrors.forEach((function(A){return k.history.addAndRedo(new n.RemoveDependencyHistoryItem(k.modelManipulator,A.dependencyId))}));var I=this.control.isValidateDependenciesRequired(),C=w.internalId,D=w.start,P=w.end;this.history.addAndRedo(new l.UpdateTaskHistoryItem(this.modelManipulator,C,v)),(0,f.isDefined)(v.start)&&I&&this.control.validationController.moveStartDependTasks(C,D),(0,f.isDefined)(v.end)&&I&&this.control.validationController.moveEndDependTasks(C,P),this.processAutoParentUpdate(C,v,D,P),this.history.endTransaction(),(T==null?void 0:T.option)!==m.ConstraintViolationOption.RemoveDependency&&(T==null?void 0:T.option)!==m.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},y.prototype.processAutoParentUpdate=function(v,w,T,k){var I=(0,f.isDefined)(w.start),C=(0,f.isDefined)(w.end),D=(0,f.isDefined)(w.progress)||I||C,P=I?w.start.getTime()-T.getTime():null,A=C?w.end.getTime()-k.getTime():null,R=I&&i.DateUtils.getTimezoneOffsetDiff(T,w.start)!==0,z=C&&i.DateUtils.getTimezoneOffsetDiff(k,w.end)!==0,B=(R||z)&&Math.abs(A-P)===i.DateUtils.msPerHour;D?P!==0&&(P===A||B)?this.validationController.correctParentsOnChildMoving(v,P):this.validationController.updateParentsIfRequired(v):this.control.updateOwnerInAutoParentMode()},y})(s(9254).TaskCommandBase);o.UpdateTaskCommand=u},299:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ZoomInCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(!0)},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.zoomIn(),!0},l})(f.CommandBase);o.ZoomInCommand=p},2231:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ZoomOutCommand=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.getState=function(){return new m.SimpleCommandState(!0)},l.prototype.execute=function(){return n.prototype.execute.call(this)},l.prototype.executeInternal=function(){return this.control.zoomOut(),!0},l})(f.CommandBase);o.ZoomOutCommand=p},5237:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConfirmationDialog=void 0;var d=s(655),f=(function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(p,m),p.prototype.applyParameters=function(n,l){return this.history.beginTransaction(),l.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},p.prototype.createParameters=function(n){return n},p.prototype.getDialogName=function(){return"Confirmation"},p})(s(4730).DialogBase);o.ConfirmationDialog=f},126:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConstraintViolationDialogCommand=void 0;var d=s(655),f=(function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(p,m),p.prototype.applyParameters=function(n,l){return l.callback(n),!0},p.prototype.createParameters=function(n){return n},p.prototype.getDialogName=function(){return"ConstraintViolation"},p})(s(4730).DialogBase);o.ConstraintViolationDialogCommand=f},4730:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DialogBase=void 0;var d=s(655),f=s(9687),m=s(4409),p=(function(n){function l(){var i=n!==null&&n.apply(this,arguments)||this;return i.isApiCall=!1,i._canRefresh=!0,i}return d.__extends(l,n),l.prototype.execute=function(i,u){return i===void 0&&(i=void 0),u===void 0&&(u=!1),this.isApiCall=u,n.prototype.execute.call(this,i)},l.prototype.executeInternal=function(i){return this.options=i,this.showDialog(i)},Object.defineProperty(l.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),l.prototype.refresh=function(){this.showDialog(this.options)},l.prototype.showDialog=function(i){var u=this,a=this.createParameters(i),y=a.clone();return!!this.onBeforeDialogShow(a)&&(l.activeInstance=this,this.control.showDialog(this.getDialogName(),a,(function(v){v&&(u._canRefresh=!1,u.applyParameters(v,y),u._canRefresh=!0)}),(function(){delete l.activeInstance,u.afterClosing()})),!0)},l.prototype.onBeforeDialogShow=function(i){return!0},l.prototype.applyParameters=function(i,u){return!1},l.prototype.afterClosing=function(){},l.prototype.getState=function(){return new m.SimpleCommandState(this.isEnabled())},l.activeInstance=null,l})(f.CommandBase);o.DialogBase=p},9544:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConstraintViolationOption=o.ConfirmationType=void 0,(function(s){s[s.TaskDelete=0]="TaskDelete",s[s.DependencyDelete=1]="DependencyDelete",s[s.ResourcesDelete=2]="ResourcesDelete"})(o.ConfirmationType||(o.ConfirmationType={})),(function(s){s[s.DoNothing=0]="DoNothing",s[s.RemoveDependency=1]="RemoveDependency",s[s.KeepDependency=2]="KeepDependency"})(o.ConstraintViolationOption||(o.ConstraintViolationOption={}))},5139:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConfirmationDialogParameters=void 0;var d=s(655),f=(function(m){function p(n,l){var i=m.call(this)||this;return i.type=n,i.callback=l,i}return d.__extends(p,m),p.prototype.clone=function(){var n=new p(this.type,this.callback);return n.message=this.message,n},p})(s(9705).DialogParametersBase);o.ConfirmationDialogParameters=f},3433:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConstraintViolationDialogParameters=void 0;var d=s(655),f=(function(m){function p(n,l){var i=m.call(this)||this;return i.validationErrors=n,i.callback=l,i}return d.__extends(p,m),p.prototype.clone=function(){var n=new p(this.validationErrors,this.callback);return n.option=this.option,n},Object.defineProperty(p.prototype,"hasCriticalErrors",{get:function(){var n;return(n=this.validationErrors)===null||n===void 0?void 0:n.some((function(l){return l.critical}))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"errorsCount",{get:function(){var n;return(n=this.validationErrors)===null||n===void 0?void 0:n.length},enumerable:!1,configurable:!0}),p})(s(9705).DialogParametersBase);o.ConstraintViolationDialogParameters=f},9705:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DialogParametersBase=void 0;var s=function(){};o.DialogParametersBase=s},6711:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcesDialogParameters=void 0;var d=s(655),f=s(8828),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.clone=function(){var l=new n;return l.resources=new f.ResourceCollection,l.resources.addRange(this.resources.items),l},n})(s(9705).DialogParametersBase);o.ResourcesDialogParameters=m},1563:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditParameters=void 0;var d=s(655),f=s(8828),m=(function(p){function n(){var l=p!==null&&p.apply(this,arguments)||this;return l.enableEdit=!0,l.enableRangeEdit=!0,l.isValidationRequired=!1,l.hiddenFields=[],l.readOnlyFields=[],l}return d.__extends(n,p),n.prototype.clone=function(){var l=new n;return l.id=this.id,l.title=this.title,l.progress=this.progress,l.start=this.start,l.end=this.end,l.assigned=new f.ResourceCollection,l.assigned.addRange(this.assigned.items),l.resources=new f.ResourceCollection,l.resources.addRange(this.resources.items),l.showResourcesDialogCommand=this.showResourcesDialogCommand,l.showTaskEditDialogCommand=this.showTaskEditDialogCommand,l.enableEdit=this.enableEdit,l.enableRangeEdit=this.enableRangeEdit,l.hiddenFields=this.hiddenFields.slice(),l.readOnlyFields=this.readOnlyFields.slice(),l.isValidationRequired=this.isValidationRequired,l.getCorrectDateRange=this.getCorrectDateRange,l},n})(s(9705).DialogParametersBase);o.TaskEditParameters=m},5477:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcesDialogCommand=void 0;var d=s(655),f=s(8828),m=s(4730),p=s(9544),n=s(5139),l=s(6711),i=(function(u){function a(){var y=u!==null&&u.apply(this,arguments)||this;return y.resourcesForDelete=[],y}return d.__extends(a,u),a.prototype.onBeforeDialogShow=function(y){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(y,(function(v){y.resources=v.values.resources}))},a.prototype.applyParameters=function(y,v){this.history.beginTransaction();for(var w=0;w<y.resources.length;w++)v.resources.getItemById(y.resources.getItem(w).internalId)||this.control.commandManager.createResourceCommand.execute(y.resources.getItem(w).text);for(w=0;w<v.resources.length;w++)y.resources.getItemById(v.resources.getItem(w).internalId)||this.resourcesForDelete.push(v.resources.getItem(w));return this.history.endTransaction(),!1},a.prototype.createParameters=function(y){this.callBack=y;var v=new l.ResourcesDialogParameters;return v.resources=new f.ResourceCollection,v.resources.addRange(this.control.viewModel.resources.items),v},a.prototype.afterClosing=function(){var y=this;if(this.resourcesForDelete.length){var v=this.control.commandManager.showConfirmationDialog,w=new n.ConfirmationDialogParameters(p.ConfirmationType.ResourcesDelete,(function(){y.history.beginTransaction();for(var T=0;T<y.resourcesForDelete.length;T++)y.control.commandManager.removeResourceCommand.execute(y.resourcesForDelete[T].internalId);y.history.endTransaction()}));w.message=this.resourcesForDelete.reduce((function(T,k){return d.__spreadArray(d.__spreadArray([],T,!0),[k.text],!1)}),[]).join(", "),this.callBack&&(v.afterClosing=function(){delete m.DialogBase.activeInstance,y.callBack()}),v.execute(w)}else this.callBack&&this.callBack()},a.prototype.getDialogName=function(){return"Resources"},a})(m.DialogBase);o.ResourcesDialogCommand=i},6152:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditDialogCommand=void 0;var d=s(655),f=s(8828),m=s(1389),p=s(3683),n=s(1493),l=s(4730),i=s(1563),u=s(2491),a=(function(y){function v(){return y!==null&&y.apply(this,arguments)||this}return d.__extends(v,y),v.prototype.onBeforeDialogShow=function(w){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(w,(function(T){var k=T.values;w.start=k.start,w.end=k.end,w.progress=k.progress,w.title=k.title,w.readOnlyFields=T.readOnlyFields,w.hiddenFields=T.hiddenFields}))},v.prototype.applyParameters=function(w,T){var k=this;this.history.beginTransaction();var I=this.getUpdatedTaskData(w,T);Object.keys(I).length>0&&setTimeout((function(){return k.control.commandManager.updateTaskCommand.execute(T.id,I)}),0);for(var C=0;C<w.assigned.length;C++)if(!T.assigned.getItemById(w.assigned.getItem(C).internalId)){var D=w.assigned.getItem(C).internalId,P=T.id,A=new m.ResourceAssigningArguments(D,P);this.modelManipulator.dispatcher.notifyResourceAssigning(A),A.cancel||this.history.addAndRedo(new p.AssignResourceHistoryItem(this.modelManipulator,A.resourceId,A.taskId))}var R=function(B){var N=T.assigned.getItem(B);if(!w.assigned.getItemById(N.internalId)){var Z=z.control.viewModel.assignments.items.filter((function(ne){return ne.resourceId===N.internalId&&ne.taskId===T.id}))[0];z.modelManipulator.dispatcher.fireResourceUnassigning(Z)&&z.history.addAndRedo(new n.DeassignResourceHistoryItem(z.modelManipulator,Z.internalId))}},z=this;for(C=0;C<T.assigned.length;C++)R(C);return this.history.endTransaction(),!1},v.prototype.getUpdatedTaskData=function(w,T){var k={};return(0,u.isDefined)(w.title)&&T.title!==w.title&&(k.title=w.title),(0,u.isDefined)(w.progress)&&T.progress!==w.progress&&(k.progress=w.progress),(0,u.isDefined)(w.start)&&T.start!==w.start&&(k.start=w.start),(0,u.isDefined)(w.end)&&T.end!==w.end&&(k.end=w.end),k},v.prototype.createParameters=function(w){var T=this;w=w||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var k=new i.TaskEditParameters;return k.id=w.internalId,k.title=w.title,k.progress=w.progress,k.start=w.start,k.end=w.end,k.assigned=this.control.viewModel.getAssignedResources(w),k.resources=new f.ResourceCollection,k.resources.addRange(this.control.viewModel.resources.items),k.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,k.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,k.enableEdit=this.isTaskEditEnabled(),k.enableRangeEdit=this.isTaskRangeEditEnabled(w),k.isValidationRequired=this.control.isValidateDependenciesRequired(),k.getCorrectDateRange=function(I,C,D){return T.control.validationController.getCorrectDateRange(I,C,D)},k},v.prototype.isTaskEditEnabled=function(){var w=this.control.settings;return w.editing.enabled&&w.editing.allowTaskUpdate},v.prototype.isTaskRangeEditEnabled=function(w){return!this.control.viewModel.isTaskToCalculateByChildren(w.internalId)},v.prototype.isEnabled=function(){var w=this.control,T=w.viewModel.findItem(w.currentSelectedTaskID);return!!T&&T.selected||this.isApiCall},v.prototype.getState=function(){var w=y.prototype.getState.call(this);return w.visible=w.visible&&!this.control.taskEditController.dependencyId,w},v.prototype.getDialogName=function(){return"TaskEdit"},v})(l.DialogBase);o.TaskEditDialogCommand=a},6893:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttExportCalculator=void 0;var d=s(8900),f=s(6907),m=s(2449),p=s(1855),n=s(4991),l=s(2485),i=s(3917),u=s(405),a=s(6995),y=s(5063),v=s(6032),w=s(8603),T=s(6997),k=s(8935),I=s(6353),C=s(3424),D=s(5763),P=s(7802),A=s(9895),R=s(2642),z=(function(){function B(N,Z){var ne,ie;this._owner=N,this._props=new T.GanttPdfExportProps(Z),(ne=(ie=this._props).margins)!==null&&ne!==void 0||(ie.margins=new y.Margin(B._defaultPageMargin))}return Object.defineProperty(B.prototype,"chartTableScaleTopMatrix",{get:function(){var N;return(N=this._chartTableScaleTopMatrix)!==null&&N!==void 0||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"chartTableScaleBottomMatrix",{get:function(){var N;return(N=this._chartTableScaleBottomMatrix)!==null&&N!==void 0||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),B.prototype.getPages=function(N){return new C.PdfGanttPaginator(N,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(B.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"taskAreaHelper",{get:function(){var N;return(N=this._taskAreaHelper)!==null&&N!==void 0||(this._taskAreaHelper=new w.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"scalingHelper",{get:function(){var N,Z;return(N=this._scalingHelper)!==null&&N!==void 0||(this._scalingHelper=new D.ScalingHelper((Z=this._props)===null||Z===void 0?void 0:Z.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"chartScaleTableStyle",{get:function(){var N;return(N=this._chartScaleTableStyle)!==null&&N!==void 0||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"chartMainTableStyle",{get:function(){var N;return(N=this._chartMainTableStyle)!==null&&N!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"headerTableTop",{get:function(){var N;return(N=this._headerTableTop)!==null&&N!==void 0||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"mainTableTop",{get:function(){var N;return(N=this._mainTableTop)!==null&&N!==void 0||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),B.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(B.prototype,"chartLeft",{get:function(){var N;return(N=this._chartLeft)!==null&&N!==void 0||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),B.prototype.getChartLeft=function(){var N;return((((N=this._props)===null||N===void 0?void 0:N.exportMode)||A.ExportMode.all)===A.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(B.prototype,"treeListLeft",{get:function(){var N;return(N=this._treeListLeft)!==null&&N!==void 0||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"mainTableHeight",{get:function(){var N;return(N=this._mainTableHeight)!==null&&N!==void 0||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"treeListWidth",{get:function(){var N;return(N=this._treeListWidth)!==null&&N!==void 0||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),B.prototype.getTreeListTableWidth=function(){var N,Z=this,ne=this.treeListHeaderMatrix[0].map((function(ie,Y){return Z.getTreeListColumnWidth(Y)}));return(N=ne==null?void 0:ne.reduce((function(ie,Y){return ie+Y}),0))!==null&&N!==void 0?N:0},Object.defineProperty(B.prototype,"chartWidth",{get:function(){var N=this;if(!this._chartWidth){var Z=this.chartTableScaleBottomMatrix[0];this._chartWidth=Z.reduce((function(ne,ie){return ne+(ie.styles.cellWidth.hasValue()?ie.styles.cellWidth.getValue():N.baseCellWidth)}),0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new T.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),B.prototype.prepareAutoFormat=function(N){if(N.format===T.GanttPdfExportProps.autoFormatKey){N.format=null;var Z=N.landscape,ne=this.autoFormatWidth,ie=this.autoFormatHeight;(Z&&ie>ne||!Z&&ie<ne)&&(N.landscape=!Z),N.pageSize=new I.Size(ne,ie)}},Object.defineProperty(B.prototype,"autoFormatWidth",{get:function(){var N,Z=(((N=this._props)===null||N===void 0?void 0:N.exportMode)||A.ExportMode.all)!==A.ExportMode.treeList,ne=this.pageRightMargin;return(ne+=Z?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+B._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),B.prototype.createGlobalInfo=function(){var N={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(N),N},B.prototype.getTablesInfo=function(){var N={};return this._canExportTreelist()&&(N[k.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),N[k.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(N[k.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),N[k.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),N[k.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),N},Object.defineProperty(B.prototype,"exportMode",{get:function(){var N,Z;return(Z=(N=this._props)===null||N===void 0?void 0:N.exportMode)!==null&&Z!==void 0?Z:A.ExportMode.all},enumerable:!1,configurable:!0}),B.prototype._canExportTreelist=function(){return this.exportMode===A.ExportMode.all||this.exportMode===A.ExportMode.treeList},B.prototype._canExportChart=function(){return this.exportMode===A.ExportMode.all||this.exportMode===A.ExportMode.chart},Object.defineProperty(B.prototype,"_predefinedFont",{get:function(){var N,Z,ne,ie,Y=(Z=(N=this._props)===null||N===void 0?void 0:N.pdfDoc)===null||Z===void 0?void 0:Z.getFont();return(Y==null?void 0:Y.fontName)||((ie=(ne=this._props)===null||ne===void 0?void 0:ne.font)===null||ie===void 0?void 0:ie.name)},enumerable:!1,configurable:!0}),B.prototype._createChartScaleTopInfo=function(){return{name:k.PdfPageTableNames.chartScaleTop,size:new I.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new d.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new I.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},B.prototype._createChartScaleBottomInfo=function(){var N=this.taskAreaHelper.headerRowHeight;return{name:k.PdfPageTableNames.chartScaleBottom,size:new I.Size(this.chartWidth,N),position:new d.Point(this.chartLeft,this.headerTableTop+N),style:this.chartScaleTableStyle,baseCellSize:new I.Size(this.baseCellWidth,N),cells:this.chartTableScaleBottomMatrix}},B.prototype.createChartMainTableInfo=function(){return{name:k.PdfPageTableNames.chartMain,size:new I.Size(this.chartWidth,this.mainTableHeight),position:new d.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new I.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},B.prototype.createTreeListHeaderTableInfo=function(){return{name:k.PdfPageTableNames.treeListHeader,size:new I.Size(this.treeListWidth,this.headerTableHeight),position:new d.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new I.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},B.prototype.createTreeListMainTableInfo=function(){return{name:k.PdfPageTableNames.treeListMain,size:new I.Size(this.treeListWidth,this.mainTableHeight),position:new d.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new I.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},B.prototype.calculateChartScaleMatrix=function(N){for(var Z=this.taskAreaHelper,ne=Z.scaleRanges,ie=new Array,Y=ne[N][0],oe=ne[N][1],ae=Y;ae<=oe;ae++){var O=this.layoutCalculator.getScaleItemStart(ae,Z.scales[N]),U=new v.CellDef(this._owner.renderHelper.getScaleItemTextByStart(O,Z.scales[N]));U.styles.cellPadding.assign(0),U.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var X=N===0?Z.scaleTopWidths[ae]:Z.scaleBottomWidths[ae];U.styles.cellWidth.assign(X),ie.push(U)}return[ie]},B.prototype.calculateChartTableBodyMatrix=function(){var N=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach((function(Z){return N._chartTableBodyMatrix.push(N.createChartTableBodyRow(Z))})):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},B.prototype.createChartTableBodyRow=function(N){var Z=new v.CellDef;return this.rowHasChildren(N)&&Z.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map((function(ne){var ie=new v.CellDef(Z);return ie.styles.cellWidth.assign(ne.styles.cellWidth),ie}))},B.prototype.rowHasSelection=function(N){return this._owner.rowHasSelection(N)},B.prototype.rowHasChildren=function(N){return this._owner.rowHasChildren(N)},B.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var N=this._owner,Z=N.getTreeListColCount(),ne=new Array,ie=0;ie<Z;ie++){var Y=new v.CellDef(N.getTreeListHeaderInfo(ie));Y.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,ne.push(Y)}this._treeListHeaderMatrix.push(ne)},B.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},B.prototype.fillTreeListTableBodyMatrix=function(N){for(var Z,ne=this.visibleTaskIndices,ie=this.treeListHeaderMatrix[0].length,Y=0;Y<ne.length;Y++){for(var oe=new Array,ae=ne[Y],O=(Z=this._owner.getTask(ae))===null||Z===void 0?void 0:Z.id,U=0;U<ie;U++){var X=new v.CellDef(this._owner.getTreeListCellInfo(ae,U,O));X.styles.cellWidth.hasValue()||X.styles.cellWidth.assign(this.getTreeListColumnWidth(U)),this.rowHasChildren(ne[Y])&&X.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),oe.push(X)}N.push(oe)}},B.prototype.fillTreeListEmptyTableBodyMatrix=function(N){var Z=new Array,ne=new v.CellDef(this._owner.getTreeListEmptyDataCellInfo());ne.styles.cellWidth.assign(this.treeListWidth),ne.styles.halign=R.PredefinedStyles.horizontalAlign[1],ne.styles.valign=R.PredefinedStyles.verticalAlign[1],Z.push(ne),N.push(Z)},B.prototype.getTreeListColumnWidth=function(N){var Z=this.treeListHeaderMatrix[0][N],ne=Z&&Z.styles;return ne.cellWidth.getValue()||ne.minCellWidth||0},B.prototype.getObjectsLeftOffset=function(N){N===void 0&&(N=!1);var Z=this.dataObjectLeftDelta;return N||(Z+=this.taskAreaHelper.customRangeLeftOffset),Z},Object.defineProperty(B.prototype,"dataObjectLeftDelta",{get:function(){var N;return(N=this._dataObjectLeftDelta)!==null&&N!==void 0||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"dataObjectTopDelta",{get:function(){var N;return(N=this._dataObjectTopDelta)!==null&&N!==void 0||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),B.prototype.getChartScaleTableStyle=function(){var N=new a.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(N.font=this._predefinedFont),N},B.prototype.getChartMainTableStyle=function(){var N=new a.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(N.font=this._predefinedFont),N},B.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new a.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},B.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(B.prototype,"tasksInfo",{get:function(){var N;return(N=this._tasksInfo)!==null&&N!==void 0||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"dependenciesInfo",{get:function(){var N;return(N=this._dependenciesInfo)!==null&&N!==void 0||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"resourcesInfo",{get:function(){var N;return(N=this._resourcesInfo)!==null&&N!==void 0||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"timeMarkersInfo",{get:function(){var N;return(N=this._timeMarkersInfo)!==null&&N!==void 0||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),B.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},B.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},B.prototype.calculateTasksInfo=function(){var N=this,Z=new Array;return this.visibleTaskIndices.forEach((function(ne){return Z.push(N.calculateTaskInfo(ne))})),Z},B.prototype.calculateTaskInfo=function(N){var Z=new i.PdfTaskInfo,ne=this.layoutCalculator.getTaskElementInfo(N);return Z.taskColor=this.getTaskColor(N),Z.sidePoints=this.getTaskSidePoints(N),Z.isMilestone=ne.className.indexOf(p.GridLayoutCalculator.milestoneClassName)>0,Z.isMilestone||(Z.isSmallTask=ne.className.indexOf(p.GridLayoutCalculator.smallTaskClassName)>0,Z.isParent=ne.className.indexOf(p.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(Z,N),this.appendTaskProgress(Z,N)),Z},B.prototype.appendTaskTitle=function(N,Z){var ne=this._owner.settings.taskTitlePosition;N.isSmallTask&&ne!==m.TaskTitlePosition.Outside||ne===m.TaskTitlePosition.None||(N.text=this._owner.getTaskText(Z),N.textPosition=ne,N.textStyle=this.getTaskTextStyle(Z))},B.prototype.appendTaskProgress=function(N,Z){var ne=this.layoutCalculator.getTaskProgressElementInfo(Z);N.progressWidth=ne.size.width,N.progressColor=this.getTaskProgressColor(Z),N.progressColor.applyOpacityToBackground(N.taskColor)},B.prototype.getTaskSidePoints=function(N){var Z=this,ne=this.layoutCalculator.getTaskSidePoints(N);return ne.forEach((function(ie){ie.x+=Z.getObjectsLeftOffset(!0),ie.y+=Z.dataObjectTopDelta})),ne},B.prototype.getTaskColor=function(N){var Z=this.taskAreaHelper.getTaskElementBackColor(N,p.GridLayoutCalculator.taskClassName);return new u.Color(Z)},B.prototype.getTaskProgressColor=function(N){return new u.Color(this.taskAreaHelper.getTaskElementBackColor(N,p.GridLayoutCalculator.taskProgressClassName))},B.prototype.getTaskTextStyle=function(N){var Z=new a.StyleDef;return Z.cellPadding.assign(0),Z.assign(this.taskAreaHelper.getTaskElementStyle(N,p.GridLayoutCalculator.taskTitleClassName)),Z},B.prototype.calculateDependenciesInfo=function(){var N=this,Z=new Array,ne=this.taskAreaHelper,ie=new u.Color(ne.dependencyColor);return ne.connectorLines.forEach((function(Y){return Z.push(N.createLineInfo(Y,ie,ne.arrowWidth))})),Z},B.prototype.createLineInfo=function(N,Z,ne){var ie=new n.PdfDependencyLineInfo;if(ie.fillColor=Z,N.className.indexOf(p.GridLayoutCalculator.arrowClassName)>-1){var Y=this.layoutCalculator.getArrowPositionByClassName(N.className);ie.arrowInfo={position:Y,width:ne},ie.points=[this.getArrowTopCorner(N,Y,ne)]}else ie.points=this.getLinePoints(N);return ie},B.prototype.getArrowTopCorner=function(N,Z,ne){var ie=N.position.x+this.getObjectsLeftOffset(),Y=N.position.y+this.dataObjectTopDelta;switch(Z){case m.Position.Left:ie+=ne;break;case m.Position.Top:Y+=ne}return new d.Point(ie,Y)},B.prototype.getLinePoints=function(N){var Z=N.position.x+this.getObjectsLeftOffset(),ne=N.position.y+this.dataObjectTopDelta,ie=Z+N.size.width,Y=ne+N.size.height;return[new d.Point(Z,ne),new d.Point(ie,Y)]},B.prototype.calculateResourcesInfo=function(){var N=this,Z=new Array;return this.taskAreaHelper.resourcesElements.forEach((function(ne){return Z=Z.concat(N.calculateResourcesInLine(ne))})),Z},B.prototype.calculateResourcesInLine=function(N){var Z=new Array;if(N)for(var ne=f.DomUtils.pxToInt(N.style.left)+this.getObjectsLeftOffset(),ie=f.DomUtils.pxToInt(N.style.top)+this.dataObjectTopDelta,Y=N.getElementsByClassName(p.GridLayoutCalculator.taskResourceClassName),oe=0;oe<Y.length;oe++){var ae=Y[oe];if(this.taskAreaHelper.isElementVisible(ae)){var O=getComputedStyle(ae);ne+=this.getMargin(O).left,Z.push(new l.PdfTaskResourcesInfo(ae.textContent,new a.StyleDef(O),ne,ie)),ne+=f.DomUtils.pxToInt(O.width)}}return Z},B.prototype.calculateTimeMarkersInfoInfo=function(){var N=this,Z=new Array;return this.taskAreaHelper.stripLinesElements.forEach((function(ne){return Z.push(N.createTimeMarkerInfo(ne,!0))})),this.taskAreaHelper.noWorkingIntervalsElements.forEach((function(ne){return Z.push(N.createTimeMarkerInfo(ne,!1))})),Z},B.prototype.createTimeMarkerInfo=function(N,Z){var ne=getComputedStyle(N),ie=f.DomUtils.pxToInt(ne.left)+this.getObjectsLeftOffset(),Y=f.DomUtils.pxToInt(ne.top)+this.dataObjectTopDelta,oe=f.DomUtils.pxToInt(ne.width),ae=f.DomUtils.pxToInt(ne.height);return new P.PdfTimeMarkerInfo(new d.Point(ie,Y),new I.Size(oe,ae),new u.Color(ne.backgroundColor),new u.Color(ne.borderLeftColor),Z)},B.prototype.getMargin=function(N){var Z=new y.Margin(0);if(N){var ne=N.margin;ne||(ne+=N.marginTop||"0",ne+=" "+N.marginRight||0,ne+=" "+N.marginBottom||0,ne+=" "+N.marginLeft||0),Z.assign(ne)}return Z},B._defaultPageMargin=10,B._autoFormatWidthAddStock=1,B})();o.GanttExportCalculator=z},4991:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfDependencyLineInfo=void 0;var d=s(8900),f=s(405),m=(function(){function p(){}return p.prototype.assign=function(n){var l;this._copyPoints(n.points),this.arrowInfo=n.arrowInfo,(l=this.fillColor)!==null&&l!==void 0||(this.fillColor=new f.Color),this.fillColor.assign(n.fillColor)},p.prototype._copyPoints=function(n){var l=this;this.points=new Array,n==null||n.forEach((function(i){return l.points.push(new d.Point(i.x,i.y))}))},p})();o.PdfDependencyLineInfo=m},266:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfObjectDrawer=void 0;var d=s(2449),f=s(817),m=s(3917),p=(function(){function n(l,i){this._FONT_ROW_RATIO=1.15,this._info=i,this._pdfDoc=l}return n.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},n.prototype.drawTasks=function(){var l,i=this,u=(l=this._info)===null||l===void 0?void 0:l.tasks;u&&u.forEach((function(a){return i.drawTask(a)}))},n.prototype.drawTask=function(l){var i=this._pdfDoc;i.setFillColor.apply(i,l.taskColor.getRBGColor()),i.setDrawColor.apply(i,l.taskColor.getRBGColor()),l.isMilestone?this.drawMilestone(l):this.drawRegularTask(l)},n.prototype.drawMilestone=function(l){var i=this._pdfDoc,u=l.sidePoints[0].x,a=l.sidePoints[0].y,y=l.sidePoints[1].x,v=l.sidePoints[1].y,w=l.sidePoints[2].x,T=l.sidePoints[2].y,k=l.sidePoints[3].x,I=l.sidePoints[3].y;i.triangle(u,a,y,v,w,T,"FD"),i.triangle(u,a,k,I,w,T,"FD")},n.prototype.drawRegularTask=function(l){var i=this._pdfDoc;i.rect(l.left,l.top,l.width,l.height,"FD"),l.isParent&&this.drawParentBorder(l),l.progressWidth&&(i.setFillColor.apply(i,l.progressColor.getRBGColor()),i.rect(l.left,l.top,l.progressWidth,l.height,"F")),l.text&&this.printTaskTitle(l)},n.prototype.drawParentBorder=function(l){var i=this._pdfDoc,u=l.sidePoints[0].x,a=l.sidePoints[1].y,y=l.sidePoints[3].y,v=l.sidePoints[2].x,w=l.sidePoints[3].y-l.sidePoints[1].y,T=l.progressWidth>w?l.progressColor.getRBGColor():l.taskColor.getRBGColor();i.setFillColor.apply(i,T),i.triangle(u,a,u,y,u+w,a,"FD"),i.setFillColor.apply(i,l.taskColor.getRBGColor()),i.triangle(v,a,v,y,v-w,a,"FD")},n.prototype.printTaskTitle=function(l){var i,u=this._pdfDoc,a=l.textStyle,y=a&&a.textColor.getRBGColor(),v=a&&a.fontSize;u.setTextColor.apply(u,y),u.setFontSize(v);var w=l.top+v*this._FONT_ROW_RATIO/u.internal.scaleFactor;l.isParent&&(w-=m.PdfTaskInfo.defaultParentHeightCorrection);var T=a&&a.cellPadding.left||0,k=a&&a.cellPadding.right||0;if(l.textPosition===d.TaskTitlePosition.Inside){var I=l.width-T-k;i=l.left+T,u.text(f.EllipsisHelper.limitPdfTextWithEllipsis(l.text,u,I),i,w)}else i=l.left-k,u.text(l.text,i,w,{align:"right"})},n.prototype.drawDependencies=function(){var l,i=this,u=(l=this._info)===null||l===void 0?void 0:l.dependencies;u&&u.forEach((function(a){return i.drawDependencyLine(a)}))},n.prototype.drawDependencyLine=function(l){var i,u;if((i=this._pdfDoc).setFillColor.apply(i,l.fillColor.getRBGColor()),(u=this._pdfDoc).setDrawColor.apply(u,l.fillColor.getRBGColor()),l.arrowInfo)this.drawArrow(l);else{var a=l.points;this._pdfDoc.line(a[0].x,a[0].y,a[1].x,a[1].y)}},n.prototype.isValidLine=function(l){var i=l.points;return!(isNaN(i[0].x)||isNaN(i[0].y)||isNaN(i[1].x)||isNaN(i[1].y))},n.prototype.drawArrow=function(l){var i=l.arrowInfo.width||0,u=l.points[0].x,a=l.points[0].y;switch(l.arrowInfo.position){case d.Position.Left:this._pdfDoc.triangle(u,a+i,u+i,a,u+i,a+2*i,"FD");break;case d.Position.Right:this._pdfDoc.triangle(u,a,u,a+2*i,u+i,a+i,"FD");break;case d.Position.Top:this._pdfDoc.triangle(u,a+i,u+i,a,u+2*i,a+i,"FD");break;case d.Position.Bottom:this._pdfDoc.triangle(u,a,u+i,a+i,u+2*i,a,"FD")}},n.prototype.drawResources=function(){var l,i=this,u=this._pdfDoc,a=(l=this._info)===null||l===void 0?void 0:l.resources;a&&a.forEach((function(y){var v,w,T;u.setFontSize((v=y.style.fontSize)!==null&&v!==void 0?v:11);var k=y.y+y.style.fontSize*i._FONT_ROW_RATIO/u.internal.scaleFactor,I=(w=y.style.cellPadding.left)!==null&&w!==void 0?w:0,C=(T=y.style.cellPadding.right)!==null&&T!==void 0?T:1,D=Math.max(y.style.cellWidth.getValue(),I+u.getTextWidth(y.text)+C);u.setFillColor.apply(u,y.style.fillColor.getRBGColor()),u.rect(y.x,y.y,D,y.style.minCellHeight,"F"),u.setTextColor.apply(u,y.style.textColor.getRBGColor()),u.text(y.text,y.x+I,k)}))},n.prototype.drawTimeMarkers=function(){var l,i=this,u=(l=this._info)===null||l===void 0?void 0:l.timeMarkers;u==null||u.forEach((function(a){return i.drawTimeMarker(a)}))},n.prototype.drawTimeMarker=function(l){var i,u,a=this._pdfDoc,y=l.size.width>1,v=l.start.x,w=l.start.y,T=l.size.width,k=l.size.height,I=l.isStripLine;y&&(a.setFillColor.apply(a,l.color.getRBGColor()),a.saveGraphicsState(),a.setGState(new a.GState({opacity:(u=l.color.opacity)!==null&&u!==void 0?u:1})),a.rect(v,w,T,k,"F"),a.restoreGraphicsState()),I&&(this._pdfDoc.setLineDashPattern([3]),(i=this._pdfDoc).setDrawColor.apply(i,l.lineColor.getRBGColor()),y&&this._pdfDoc.line(v+T,w,v+T,w+k,"S"),this._pdfDoc.line(v,w,v,w+k,"S"),this._pdfDoc.setLineDashPattern())},n})();o.PdfObjectDrawer=p},3917:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfTaskInfo=void 0;var d=s(8900),f=s(405),m=s(6995),p=(function(){function n(){}return Object.defineProperty(n.prototype,"left",{get:function(){var l;return((l=this.sidePoints)===null||l===void 0?void 0:l.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){var l;return((l=this.sidePoints)===null||l===void 0?void 0:l.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){var l;return((l=this.sidePoints)===null||l===void 0?void 0:l.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){var l;return((l=this.sidePoints)===null||l===void 0?void 0:l.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){var l=this.bottom-this.top;return this.isParent&&(l-=n.defaultParentHeightCorrection),l},enumerable:!1,configurable:!0}),n.prototype.assign=function(l){var i,u,a;this.isMilestone=l.isMilestone,this._copyPoints(l.sidePoints),this.progressWidth=l.progressWidth,this.isSmallTask=l.isSmallTask,this.text=l.text,this.textPosition=l.textPosition,(i=this.progressColor)!==null&&i!==void 0||(this.progressColor=new f.Color),this.progressColor.assign(l.progressColor),(u=this.taskColor)!==null&&u!==void 0||(this.taskColor=new f.Color),this.taskColor.assign(l.taskColor),(a=this.textStyle)!==null&&a!==void 0||(this.textStyle=new m.StyleDef),this.textStyle.assign(l.textStyle),this.isParent=l.isParent},n.prototype._copyPoints=function(l){var i=this;this.sidePoints=new Array,l==null||l.forEach((function(u){return i.sidePoints.push(new d.Point(u.x,u.y))}))},n.defaultParentHeightCorrection=4,n})();o.PdfTaskInfo=p},2485:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfTaskResourcesInfo=void 0;var d=s(2491),f=s(6995),m=(function(){function p(n,l,i,u){n&&(this.text=n),l&&(this.style=new f.StyleDef(l)),(0,d.isDefined)(i)&&(this.x=i),(0,d.isDefined)(u)&&(this.y=u)}return p.prototype.assign=function(n){this.text=n.text,this.style=new f.StyleDef(n.style),this.x=n.x,this.y=n.y},p})();o.PdfTaskResourcesInfo=m},7802:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfTimeMarkerInfo=void 0;var d=s(8900),f=s(6353),m=s(2491),p=s(405),n=(function(){function l(i,u,a,y,v){this.lineColor=new p.Color,this.color=new p.Color,i&&(this.start=new d.Point(i.x,i.y)),u&&(this.size=new f.Size(u.width,u.height)),a&&this.color.assign(a),y&&this.lineColor.assign(y),(0,m.isDefined)(v)&&(this.isStripLine=v)}return l.prototype.assign=function(i){var u,a,y,v;i&&(this.start=new d.Point((u=i.start)===null||u===void 0?void 0:u.x,(a=i.start)===null||a===void 0?void 0:a.y),this.size=new f.Size((y=i.size)===null||y===void 0?void 0:y.width,(v=i.size)===null||v===void 0?void 0:v.height),this.isStripLine=i.isStripLine,this.color.assign(i.color),this.lineColor.assign(i.lineColor))},l})();o.PdfTimeMarkerInfo=n},2978:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfGanttExporter=void 0;var d=s(4970),f=(function(){function m(p){if(!p.settings.pdfDoc&&!p.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=p}return m.prototype.export=function(){var p,n,l=this.pdfDoc;this.applyCustomFont();for(var i=this._info,u=new d.PdfGanttPageDrawer(l,i.settings),a=i.getPages(l),y=a.length,v=0;v<y;v++){v>0&&l.addPage(this.getDocumentFormat(),this.getOrientation());var w=a[v];u.drawPage(w)}return!((p=this.props)===null||p===void 0)&&p.fileName&&l.save((n=this.props)===null||n===void 0?void 0:n.fileName),l},Object.defineProperty(m.prototype,"pdfDoc",{get:function(){var p,n;return(p=this._pdfDoc)!==null&&p!==void 0||(this._pdfDoc=(n=this._info.settings.pdfDoc)!==null&&n!==void 0?n:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),m.prototype.createDoc=function(){var p=this.getJsPDFProps();return this._info.settings.docCreateMethod(p)},m.prototype.getJsPDFProps=function(){var p={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return p.orientation=this.getOrientation(),p.format=this.getDocumentFormat(),p},m.prototype.getOrientation=function(){var p;return!((p=this.props)===null||p===void 0)&&p.landscape?"l":"p"},m.prototype.getDocumentFormat=function(){var p,n,l,i;return!((p=this.props)===null||p===void 0)&&p.format||!((n=this.props)===null||n===void 0)&&n.pageSize?!((l=this.props)===null||l===void 0)&&l.pageSize?[this.props.pageSize.height,this.props.pageSize.width]:(i=this.props)===null||i===void 0?void 0:i.format:"a4"},m.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},m})();o.PdfGanttExporter=f},8935:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfPageTableNames=void 0;var s=(function(){function d(){}return d.treeListHeader="treeListHeader",d.treeListMain="treeListMain",d.chartMain="chartMain",d.chartScaleTop="chartScaleTop",d.chartScaleBottom="chartScaleBottom",d})();o.PdfPageTableNames=s},4970:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfGanttPageDrawer=void 0;var d=s(8900),f=s(266),m=s(8935),p=s(9895),n=s(5510),l=(function(){function i(u,a){this._pdfDoc=u,this._props=a}return i.prototype.drawPage=function(u){var a=this._pdfDoc,y=new n.PdfGanttTableDrawer(a);return this.needDrawChart()&&(y.drawTable(u.tables[m.PdfPageTableNames.chartMain]),new f.PdfObjectDrawer(a,u.objects).draw(),y.drawTable(u.tables[m.PdfPageTableNames.chartScaleTop]),y.drawTable(u.tables[m.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(y.drawTable(u.tables[m.PdfPageTableNames.treeListMain]),y.drawTable(u.tables[m.PdfPageTableNames.treeListHeader])),this.drawMargins(u),a},i.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===p.ExportMode.all||this._props.exportMode===p.ExportMode.chart},i.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===p.ExportMode.all||this._props.exportMode===p.ExportMode.treeList},i.prototype.getContentRightBottom=function(u){var a=new d.Point(0,0);for(var y in u.tables)if(Object.prototype.hasOwnProperty.call(u.tables,y)){var v=u.tables[y];a.x=Math.max(a.x,v.position.x+v.size.width),a.y=Math.max(a.y,v.position.y+v.size.height)}return a},i.prototype.drawMargins=function(u){var a=this._pdfDoc,y=this._props,v=a.getPageWidth(),w=a.getPageHeight(),T=this.getContentRightBottom(u);a.setFillColor(255,255,255),a.rect(0,0,y.margins.left,w,"F"),a.rect(0,0,v,y.margins.top,"F"),a.rect(T.x,0,v,w,"F"),a.rect(0,T.y,v,w,"F")},i})();o.PdfGanttPageDrawer=l},4429:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PageNavigation=void 0;var s=(function(){function d(f,m,p,n,l,i){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=f==null?void 0:f.top,this._left=f==null?void 0:f.left,this._bottom=f==null?void 0:f.bottom,this._right=f==null?void 0:f.right,this.vIndex=m??this.vIndex,this.hIndex=p??this.hIndex,this.pageX=n??this.pageX,this.pageY=l??this.pageY,i&&(this._correctedBottoms=i)}return d.prototype.offset=function(f,m){f&&this.offsetOneD(f),m&&this.offsetOneD(m,!0)},d.prototype.offsetOneD=function(f,m){for(var p=f,n=this.getSpaceToBorder(m);n<p;)m?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),p-=n,n=this.getSpaceToBorder(m);m?this.pageY+=p:this.pageX+=p},Object.defineProperty(d.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),d.prototype.getPageEnd=function(f){return f?this.getCurrentPageBottom():this._right},d.prototype.getPageStart=function(f){return f?this._top:this._left},d.prototype.getPageSize=function(f,m){return f?this.getPageHeight(m):this.defaultPageWidth},d.prototype.getSpaceToBorder=function(f){return f?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},d.prototype.getPageGlobalOffset=function(f,m){if(!m)return f*this.defaultPageWidth;for(var p=0,n=1;n<=f;n++)p+=this.getPageHeight(n-1);return p},d.prototype.assign=function(f){this._top=f._top,this._left=f._left,this._bottom=f._bottom,this._right=f._right,this._correctedBottoms=f._correctedBottoms,this.vIndex=f.vIndex,this.hIndex=f.hIndex,this.pageX=f.pageX,this.pageY=f.pageY},d.createFrom=function(f){var m=new d;return m.assign(f),m},d.prototype.clone=function(){var f=new d;return f.assign(this),f},d.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},d.prototype.getPageBottom=function(f){var m;return(m=this._correctedBottoms[f])!==null&&m!==void 0?m:this._bottom},d.prototype.getPageHeight=function(f){return this.getPageBottom(f)-this._top},d})();o.PageNavigation=s},3424:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfGanttPaginator=void 0;var d=s(8900),f=s(6353),m=s(4991),p=s(3917),n=s(2485),l=s(7802),i=s(8935),u=s(6032),a=s(4429),y=function(T,k,I,C,D){this.pageVerIndex=k,this.pageHorIndex=T,this.cellRowIndexOnPage=I,this.cellColIndexOnPage=C,this.cell=D},v=(function(){function T(k,I,C,D){this.pageIndex=k,this.globalCellIndex=I,this.pageOffset=C,this.cutSize=D}return Object.defineProperty(T.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),T})(),w=(function(){function T(k,I,C){this._pdfDoc=k,this._props=I,this._globalInfo=C}return T.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},T.prototype._paginateTables=function(){this._paginateTable(i.PdfPageTableNames.treeListHeader),this._paginateTable(i.PdfPageTableNames.treeListMain),this._paginateTable(i.PdfPageTableNames.chartScaleBottom),this._paginateTable(i.PdfPageTableNames.chartScaleTop),this._paginateTable(i.PdfPageTableNames.chartMain)},T.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(T.prototype,"pageMatrixToArray",{get:function(){var k,I=new Array;return(k=this._pages)===null||k===void 0||k.forEach((function(C){I=I.concat(C)})),I},enumerable:!1,configurable:!0}),T.prototype._paginateTasks=function(){var k,I,C=this;(I=(k=this._globalInfo.objects)===null||k===void 0?void 0:k.tasks)===null||I===void 0||I.forEach((function(D){return C._paginateTask(D)}))},T.prototype._paginateDependencies=function(){var k,I,C=this;(I=(k=this._globalInfo.objects)===null||k===void 0?void 0:k.dependencies)===null||I===void 0||I.forEach((function(D){D.arrowInfo?C._paginateArrow(D):C._paginateDependencyLine(D)}))},T.prototype._paginateResources=function(){var k,I,C=this;(I=(k=this._globalInfo.objects)===null||k===void 0?void 0:k.resources)===null||I===void 0||I.forEach((function(D){return C._paginateResource(D)}))},T.prototype._paginateTimeMarkers=function(){var k,I,C=this;(I=(k=this._globalInfo.objects)===null||k===void 0?void 0:k.timeMarkers)===null||I===void 0||I.forEach((function(D){return C._paginateTimeMarker(D)}))},T.prototype._paginateTable=function(k){var I,C=(I=this._globalInfo)===null||I===void 0?void 0:I.tables[k];if(C){for(var D=this._getTableStart(C),P=this._preparePagesNavigationMatrixForTable(D,C),A=P.length,R=0;R<A;R++)for(var z=P[R].length,B=0;B<z;B++){var N=P[R][B],Z=this._getPage(N.pageVerIndex,N.pageHorIndex,!0),ne=N.pageHorIndex===D.hIndex?D.pageX:this.pageLeft,ie=N.pageVerIndex===D.vIndex?D.pageY:this.pageTop;this._setTablePositionOnPage(Z,k,ne,ie),this._addCellToPage(Z,k,N)}this._updateTableSizeOnPages(k)}},T.prototype._paginateTask=function(k){for(var I=this._getTaskPagination(k),C=this._getTaskPagination(k,!0),D=0;D<C.length;D++)for(var P=0;P<I.length;P++){var A=new p.PdfTaskInfo;A.assign(k),this._offsetPoints(A.sidePoints,I[P].offset,C[D].offset),this._addTaskToPage(C[D].pageIndex,I[P].pageIndex,A)}},T.prototype._paginateArrow=function(k){var I=this._getPointPageInfo(k.points[0]),C=new m.PdfDependencyLineInfo;C.assign(k),this._offsetPoints(C.points,I.offsetX,I.offsetY),this._addDependencyToPage(I.pageVerIndex,I.pageHorIndex,C)},T.prototype._paginateDependencyLine=function(k){for(var I=this._getDependencyLinePagination(k),C=this._getDependencyLinePagination(k,!0),D=0;D<C.length;D++)for(var P=0;P<I.length;P++){var A=new m.PdfDependencyLineInfo;A.assign(k),this._offsetPoints(A.points,I[P].offset,C[D].offset),this._addDependencyToPage(C[D].pageIndex,I[P].pageIndex,A)}},T.prototype._paginateResource=function(k){var I=this._getPointPageInfo(new d.Point(k.x,k.y)),C=new n.PdfTaskResourcesInfo;C.assign(k),C.x-=I.offsetX,C.y-=I.offsetY,this._addResourceToPage(I.pageVerIndex,I.pageHorIndex,C)},T.prototype._paginateTimeMarker=function(k){for(var I=this._getTimeMarkerPagination(k),C=this._getTimeMarkerPagination(k,!0),D=0;D<C.length;D++)for(var P=0;P<I.length;P++){var A=new l.PdfTimeMarkerInfo;A.assign(k),A.start.x-=I[P].offset,A.start.y-=C[D].offset,this._addTimeMarkerToPage(C[D].pageIndex,I[P].pageIndex,A)}},T.prototype._getTableStart=function(k){var I=new a.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return I.offset(k.position.x,k.position.y),I},T.prototype._getPage=function(k,I,C){return C&&this._extendPageMatrixIfRequired(k,I),this._pages[k]&&this._pages[k][I]},T.prototype._getTableOrCreate=function(k,I){var C,D;return(C=(D=k.tables)[I])!==null&&C!==void 0||(D[I]=this._createTable(I)),k.tables[I]},T.prototype._preparePagesNavigationMatrixForTable=function(k,I){for(var C=new Array,D=this._getTableNavigationVector(k,I,!0),P=D.length,A=0;A<P;A++){for(var R=new Array,z=D[A],B=this._getTableNavigationVector(k,I,!1,z.globalCellIndex),N=B.length,Z=0;Z<N;Z++){var ne=B[Z],ie=I.name===i.PdfPageTableNames.chartScaleTop,Y=this._prepareCuttedCell(I.cells[z.globalCellIndex][ne.globalCellIndex],ne,z,ie),oe=new y(ne.pageIndex,z.pageIndex,z.cellIndexOnPage,ne.cellIndexOnPage,Y);R.push(oe)}C.push(R)}return C},T.prototype._setTablePositionOnPage=function(k,I,C,D){this._getTableOrCreate(k,I).position=new d.Point(C,D)},T.prototype._extendPageMatrixIfRequired=function(k,I){var C;(C=this._pages)!==null&&C!==void 0||(this._pages=new Array);for(var D=this._pages.length;D<=k;D++)this._pages.push(new Array);var P=this._pages[k];for(D=P.length;D<=I;D++)P.push(this._createPage())},T.prototype._getTableAndExtendIfRequired=function(k,I,C,D){for(var P=this._getTableOrCreate(k,I),A=P.cells,R=A.length;R<=C;R++)A.push(new Array);var z=A[C];for(R=z.length;R<=D;R++)z.push(new u.CellDef);return P},T.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},T.prototype._createTable=function(k){var I,C=(I=this._globalInfo)===null||I===void 0?void 0:I.tables[k];return{name:k,size:null,position:null,style:C.style,baseCellSize:C.baseCellSize,cells:new Array,hideRowLines:C.hideRowLines}},T.prototype._addCellToPage=function(k,I,C){var D=C.cellRowIndexOnPage,P=C.cellColIndexOnPage;this._getTableAndExtendIfRequired(k,I,D,P).cells[D][P].assign(C.cell)},T.prototype._updateTableSizeOnPages=function(k){for(var I,C=(I=this._pages[0])===null||I===void 0?void 0:I.length,D=this._pages.length,P=0;P<D;P++)for(var A=0;A<C;A++)this._updateTableSizeOnPage(this._pages[P][A],k)},T.prototype._updateTableSizeOnPage=function(k,I){var C,D=this,P=k==null?void 0:k.tables[I];if(P){var A=P.cells.length*P.baseCellSize.height||0,R=((C=P.cells[0])===null||C===void 0?void 0:C.reduce((function(z,B,N){return z+D._getCellWidth(P,0,N)}),0))||0;P.size=new f.Size(R,A)}},T.prototype._getTableNavigationVector=function(k,I,C,D){var P,A;C===void 0&&(C=!1),D===void 0&&(D=0);for(var R=new Array,z=a.PageNavigation.createFrom(k),B=C?(P=I.cells)===null||P===void 0?void 0:P.length:(A=I.cells[D])===null||A===void 0?void 0:A.length,N=0;N<B;N++){var Z=C?I.baseCellSize.height:this._getCellWidth(I,D,N);this._placeCell(R,z,N,Z,C)}return R},T.prototype._placeCell=function(k,I,C,D,P){var A,R,z=P?I.vIndex:I.hIndex,B=(R=(A=k[k.length-1])===null||A===void 0?void 0:A.pageOffset)!==null&&R!==void 0?R:C,N=D,Z=I.getSpaceToBorder(P);I.offsetOneD(D,P);var ne=P?I.vIndex:I.hIndex;if(!P)for(var ie=z;ie<ne;ie++){var Y=new v(ie,C,B,Z);B=C,k.push(Y),N-=Z,Z=I.getPageSize(P)}ne!==z&&(B=C);var oe=new v(ne,C,B,N!==D?N:null);k.push(oe)},T.prototype._prepareCuttedCell=function(k,I,C,D){var P=new u.CellDef(k);if(I.isCutted){var A=I.cutSize;if(!D){var R=P.content,z=k.styles,B=A-(z&&z.cellPadding.left||0)-(z&&z.cellPadding.right||0),N=this._pdfDoc.splitTextToSize(R,B);k.content=R.replace(N[0],""),P.content=N[0]}P.styles.cellWidth.assign(A)}return C.isCutted&&(P.styles.minCellHeight=C.cutSize),P},T.prototype._getCellWidth=function(k,I,C){var D,P=k.cells[I][C],A=P.styles,R=A.cellWidth.getValue(),z=R??A.minCellWidth;return z??k.baseCellSize.width*((D=P.colSpan)!==null&&D!==void 0?D:1)},T.prototype._getTaskPagination=function(k,I){var C=I?k.height:k.width,D=I?k.top:k.left;return this._getLinePagination(D,C,I)},T.prototype._getDependencyLinePagination=function(k,I){var C=k.points[0],D=k.points[1],P=I?D.y-C.y:D.x-C.x,A=I?C.y:C.x;return this._getLinePagination(A,P,I)},T.prototype._getTimeMarkerPagination=function(k,I){var C=I?k.size.height:k.size.width,D=I?k.start.y:k.start.x;return this._getLinePagination(D,C,I)},T.prototype._getLinePagination=function(k,I,C){var D=new Array,P=this.pageNavigator.clone();P.offsetOneD(k,C);var A=C?P.vIndex:P.hIndex;P.offsetOneD(I,C);for(var R=C?P.vIndex:P.hIndex,z=A;z<=R;z++)D.push({offset:P.getPageGlobalOffset(z,C),pageIndex:z});return D},T.prototype._getPointPageInfo=function(k){var I=this.pageNavigator.clone();return I.offset(k.x,k.y),{offsetX:I.getPageGlobalOffset(I.hIndex),offsetY:I.getPageGlobalOffset(I.vIndex,!0),pageHorIndex:I.hIndex,pageVerIndex:I.vIndex}},Object.defineProperty(T.prototype,"pageWidth",{get:function(){var k;return(k=this._pdfDoc)===null||k===void 0?void 0:k.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageHeight",{get:function(){var k;return(k=this._pdfDoc)===null||k===void 0?void 0:k.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageLeftMargin",{get:function(){var k;return(k=this._props)===null||k===void 0?void 0:k.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageTopMargin",{get:function(){var k;return(k=this._props)===null||k===void 0?void 0:k.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageRightMargin",{get:function(){var k;return(k=this._props)===null||k===void 0?void 0:k.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageBottomMargin",{get:function(){var k;return(k=this._props)===null||k===void 0?void 0:k.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageLeft",{get:function(){var k;return(k=this._pageLeft)!==null&&k!==void 0||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageRight",{get:function(){var k;return(k=this._pageRight)!==null&&k!==void 0||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageTop",{get:function(){var k;return(k=this._pageTop)!==null&&k!==void 0||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageBottom",{get:function(){var k;return(k=this._pageBottom)!==null&&k!==void 0||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"correctedPageBottoms",{get:function(){var k;return(k=this._correctedPageBottoms)!==null&&k!==void 0||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pageNavigator",{get:function(){var k;return(k=this._pageNavigator)!==null&&k!==void 0||(this._pageNavigator=new a.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),T.prototype._getCorrectedPagesBottom=function(){var k,I,C,D,P=new Array,A=(k=this._globalInfo)===null||k===void 0?void 0:k.tables,R=(I=A[i.PdfPageTableNames.treeListMain])!==null&&I!==void 0?I:A[i.PdfPageTableNames.chartMain],z=new a.PageNavigation(this.pageBorders);z.pageY=R.position.y;for(var B=0;B<R.cells.length;B++){var N=(D=(C=R.cells[B][0].styles)===null||C===void 0?void 0:C.minCellHeight)!==null&&D!==void 0?D:R.baseCellSize.height,Z=z.vIndex,ne=z.pageY;z.offsetOneD(N,!0),Z!==z.vIndex&&(P.push(ne),z.pageY=z.getPageStart(!0)+N)}return P},T.prototype._addTaskToPage=function(k,I,C){var D,P,A=this._getPage(k,I);A&&((D=(P=A.objects).tasks)!==null&&D!==void 0||(P.tasks=new Array),A.objects.tasks.push(C))},T.prototype._addDependencyToPage=function(k,I,C){var D,P,A=this._getPage(k,I);A&&((D=(P=A.objects).dependencies)!==null&&D!==void 0||(P.dependencies=new Array),A.objects.dependencies.push(C))},T.prototype._addResourceToPage=function(k,I,C){var D,P,A=this._getPage(k,I);A&&((D=(P=A.objects).resources)!==null&&D!==void 0||(P.resources=new Array),A.objects.resources.push(C))},T.prototype._addTimeMarkerToPage=function(k,I,C){var D,P,A=this._getPage(k,I);A&&((D=(P=A.objects).timeMarkers)!==null&&D!==void 0||(P.timeMarkers=new Array),A.objects.timeMarkers.push(C))},T.prototype._offsetPoints=function(k,I,C){k.forEach((function(D){D.x-=I,D.y-=C}))},T})();o.PdfGanttPaginator=w},5763:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScalingHelper=void 0;var d=s(8935),f=(function(){function m(p){this._doc=p}return Object.defineProperty(m.prototype,"_docScaleFactor",{get:function(){var p,n;return(n=(p=this._doc)===null||p===void 0?void 0:p.internal)===null||n===void 0?void 0:n.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-m._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),m.prototype.getScaledSize=function(p){return p*m._defaultScaleFactor/this._docScaleFactor},m.prototype.scalePageMargins=function(p){var n,l,i,u;this._correctScaleNeeded&&(!((n=p==null?void 0:p.margins)===null||n===void 0)&&n.left&&(p.margins.left=this.getScaledSize(p.margins.left)),!((l=p==null?void 0:p.margins)===null||l===void 0)&&l.right&&(p.margins.right=this.getScaledSize(p.margins.right)),!((i=p==null?void 0:p.margins)===null||i===void 0)&&i.top&&(p.margins.top=this.getScaledSize(p.margins.top)),!((u=p==null?void 0:p.margins)===null||u===void 0)&&u.bottom&&(p.margins.bottom=this.getScaledSize(p.margins.bottom)))},m.prototype.scaleSizes=function(p){this._correctScaleNeeded&&(this.scaleTables(p),this.scaleObjects(p.objects))},m.prototype.scaleTables=function(p){p!=null&&p.tables&&(this.scaleTable(p.tables[d.PdfPageTableNames.treeListHeader]),this.scaleTable(p.tables[d.PdfPageTableNames.treeListMain]),this.scaleTable(p.tables[d.PdfPageTableNames.chartMain]),this.scaleTable(p.tables[d.PdfPageTableNames.chartScaleTop]),this.scaleTable(p.tables[d.PdfPageTableNames.chartScaleBottom]))},m.prototype.scaleTable=function(p){var n,l,i,u,a,y;if(p&&(!((n=p.size)===null||n===void 0)&&n.width&&(p.size.width=this.getScaledSize(p.size.width)),!((l=p.size)===null||l===void 0)&&l.height&&(p.size.height=this.getScaledSize(p.size.height)),!((i=p.position)===null||i===void 0)&&i.x&&(p.position.x=this.getScaledSize(p.position.x)),!((u=p.position)===null||u===void 0)&&u.y&&(p.position.y=this.getScaledSize(p.position.y)),!((a=p.baseCellSize)===null||a===void 0)&&a.width&&(p.baseCellSize.width=this.getScaledSize(p.baseCellSize.width)),!((y=p.baseCellSize)===null||y===void 0)&&y.height&&(p.baseCellSize.height=this.getScaledSize(p.baseCellSize.height)),p.cells))for(var v=0;v<p.cells.length;v++)for(var w=p.cells[v],T=0;T<w.length;T++){var k=w[T];this.scaleStyle(k.styles)}},m.prototype.scaleObjects=function(p){this.scaleTasks(p==null?void 0:p.tasks),this.scaleDependencies(p==null?void 0:p.dependencies),this.scaleResources(p==null?void 0:p.resources),this.scaleTimeMarkers(p==null?void 0:p.timeMarkers)},m.prototype.scaleTasks=function(p){var n=this;p==null||p.forEach((function(l){n.scalePoints(l.sidePoints),l.progressWidth=n.getScaledSize(l.progressWidth),n.scaleStyle(l.textStyle)}))},m.prototype.scaleDependencies=function(p){var n=this;p==null||p.forEach((function(l){var i;n.scalePoints(l.points),!((i=l.arrowInfo)===null||i===void 0)&&i.width&&(l.arrowInfo.width=n.getScaledSize(l.arrowInfo.width))}))},m.prototype.scaleResources=function(p){var n=this;p==null||p.forEach((function(l){l.x=n.getScaledSize(l.x),l.y=n.getScaledSize(l.y),n.scaleStyle(l.style)}))},m.prototype.scaleTimeMarkers=function(p){var n=this;p==null||p.forEach((function(l){l.start.x=n.getScaledSize(l.start.x),l.start.y=n.getScaledSize(l.start.y),l.size.width=n.getScaledSize(l.size.width),l.size.height=n.getScaledSize(l.size.height)}))},m.prototype.scaleStyle=function(p){var n,l,i,u;if(p){var a=p.cellWidth;if(a!=null&&a.hasValue()){var y=this.getScaledSize(Number(a.getValue()));a.assign(y)}p.minCellHeight&&(p.minCellHeight=this.getScaledSize(p.minCellHeight)),p.minCellWidth&&(p.minCellWidth=this.getScaledSize(p.minCellWidth)),!((n=p.cellPadding)===null||n===void 0)&&n.left&&(p.cellPadding.left=this.getScaledSize(p.cellPadding.left)),!((l=p.cellPadding)===null||l===void 0)&&l.right&&(p.cellPadding.right=this.getScaledSize(p.cellPadding.right)),!((i=p.cellPadding)===null||i===void 0)&&i.top&&(p.cellPadding.top=this.getScaledSize(p.cellPadding.top)),!((u=p.cellPadding)===null||u===void 0)&&u.bottom&&(p.cellPadding.bottom=this.getScaledSize(p.cellPadding.bottom))}},m.prototype.scalePoints=function(p){var n=this;p==null||p.forEach((function(l){l.x=n.getScaledSize(l.x),l.y=n.getScaledSize(l.y)}))},m._defaultScaleFactor=.75,m})();o.ScalingHelper=f},7223:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfCustomFontSettings=void 0;var d=s(2491),f=(function(){function m(p){this.style="normal",p&&this.assign(p)}return m.prototype.assign=function(p){(0,d.isDefined)(p.fontObject)&&(this.fontObject=p.fontObject),(0,d.isDefined)(p.name)&&(this.name=p.name),(0,d.isDefined)(p.style)&&(this.style=p.style),(0,d.isDefined)(p.weight)&&(this.weight=p.weight)},m.prototype.applyToDoc=function(p){try{if(p&&this.fontObject&&this.name){var n=this.name+"-"+this.style+".ttf";p.addFileToVFS(n,this.fontObject),p.addFont(n,this.name,this.style,this.weight),p.setFont(this.name)}}catch{}},m})();o.PdfCustomFontSettings=f},6431:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfDataRange=void 0;var d=s(2491),f=(function(){function m(p,n,l,i){var u=!p||p instanceof Date?{startDate:p,endDate:n,startIndex:l,endIndex:i}:p;u&&this.assign(u)}return m.prototype.assign=function(p){(0,d.isDefined)(p.startDate)&&(this.startDate=p.startDate instanceof Date?p.startDate:new Date(p.startDate)),(0,d.isDefined)(p.endDate)&&(this.endDate=p.endDate instanceof Date?p.endDate:new Date(p.endDate)),(0,d.isDefined)(p.startIndex)&&(this.startIndex=parseInt(p.startIndex)),(0,d.isDefined)(p.endIndex)&&(this.endIndex=parseInt(p.endIndex))},m})();o.PdfDataRange=f},9895:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DataExportMode=o.ExportMode=void 0,(function(s){s[s.all=0]="all",s[s.treeList=1]="treeList",s[s.chart=2]="chart"})(o.ExportMode||(o.ExportMode={})),(function(s){s[s.all=0]="all",s[s.visible=1]="visible"})(o.DataExportMode||(o.DataExportMode={}))},6997:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttPdfExportProps=void 0;var d=s(6353),f=s(2491),m=s(5063),p=s(6431),n=s(7223),l=s(9895),i=(function(){function u(a){this.landscape=!1,this.margins=null,this.exportMode=l.ExportMode.all,this.exportDataMode=l.DataExportMode.visible,a&&this.assign(a)}return u.prototype.assign=function(a){if(a){if((0,f.isDefined)(a.pdfDocument)&&(this.pdfDoc=a.pdfDocument),(0,f.isDefined)(a.pdfDoc)&&(this.pdfDoc=a.pdfDoc),this.docCreateMethod=a.docCreateMethod,(0,f.isDefined)(a.fileName)&&(this.fileName=a.fileName),this.landscape=!!a.landscape,(0,f.isDefined)(a.margins)&&(this.margins=new m.Margin(a.margins)),(0,f.isDefined)(a.format)){var y=a.format;if(typeof y=="string")this.format=y;else{var v=parseInt(y.width),w=parseInt(y.height);this.pageSize=new d.Size(v,w)}}else if((0,f.isDefined)(a.pageSize)){var T=a.pageSize;this.pageSize=T instanceof d.Size?T.clone():new d.Size(T.width,T.height)}if((0,f.isDefined)(a.exportMode)&&(this.exportMode=this.getEnumValue(l.ExportMode,a.exportMode)),(0,f.isDefined)(a.dateRange)){var k=a.dateRange;typeof k=="number"||typeof k=="string"?this.exportDataMode=this.getEnumValue(l.DataExportMode,k):this.dateRange=new p.PdfDataRange(k)}(0,f.isDefined)(a.font)&&(this.font=new n.PdfCustomFontSettings(a.font))}},u.prototype.getEnumValue=function(a,y){if(!(0,f.isDefined)(a[y]))return null;var v=parseInt(y);return isNaN(v)?a[y]:v},u.autoFormatKey="auto",u})();o.GanttPdfExportProps=i},6032:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellDef=void 0;var d=s(2491),f=s(6995),m=(function(){function p(n,l,i){this.content="",typeof n=="string"?(this.content=n,this.colSpan=l,i&&this.appendStyles(i)):n&&this.assign(n)}return Object.defineProperty(p.prototype,"styles",{get:function(){return this._styles||(this._styles=new f.StyleDef),this._styles},enumerable:!1,configurable:!0}),p.prototype.assign=function(n){(0,d.isDefined)(n.content)&&(this.content=n.content),(0,d.isDefined)(n.colSpan)&&(this.colSpan=n.colSpan),n.styles&&this.appendStyles(n.styles)},p.prototype.appendStyles=function(n){n&&this.styles.assign(n)},p.prototype.hasValue=function(){return!0},p.prototype.getValue=function(){var n={};return n.content=this.content,this.colSpan>1&&(n.colSpan=this.colSpan),this._styles&&(n.styles=this._styles.getValue()),n},p})();o.CellDef=m},405:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Color=void 0;var d=s(2491),f=(function(){function m(p){this._num=null,this._opacity=1,this._rgb=null,this.assign(p)}return Object.defineProperty(m.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),m.prototype.hasValue=function(){return(0,d.isDefined)(this._num)||!!this._rgb||this._opacity===0},m.prototype.getValue=function(){return!(this._opacity===0&&!this._rgb)&&((0,d.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},m.prototype.assign=function(p){this.reset(),typeof p=="string"&&this.assignFromString(p),typeof p=="number"&&(this._num=p),p instanceof Array&&this.assignFromRgbArray(p),p instanceof m&&this.assignFromColor(p)},m.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},m.prototype.assignFromString=function(p){p&&(p==="transparent"&&(this._opacity=0),p.indexOf("#")===0&&this.assignFromHexString(p),p.substr(0,3).toLowerCase()==="rgb"&&this.assignFromRgbString(p))},m.prototype.assignFromHexString=function(p){if(p.length===4&&(p="#"+p[1].repeat(2)+p[2].repeat(2)+p[3].repeat(2)),p.length>6){var n=parseInt(p.substr(1,2),16),l=parseInt(p.substr(3,2),16),i=parseInt(p.substr(5,2),16);this._rgb=[n,l,i]}},m.prototype.assignFromRgbString=function(p){var n=p.substr(0,4).toLowerCase()==="rgba",l=p.toLowerCase().match(n?m.rgbaRegexp:m.rgbRegexp);if(l){var i=parseInt(l[1]),u=parseInt(l[2]),a=parseInt(l[3]);this._rgb=[i,u,a],n&&(this._opacity=parseFloat(l[4]))}},m.prototype.assignFromRgbArray=function(p){p&&p.length>2&&(this._rgb=[p[0],p[1],p[2]],(0,d.isDefined)(p[3])&&(this._opacity=p[3]))},m.prototype.assignFromColor=function(p){this._opacity=p._opacity,this._num=p._num,this._rgb=p._rgb},m.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},m.prototype.applyOpacityToBackground=function(p){if(this._opacity!==1){var n=(p instanceof m?p:new m(p)).getValue();if(n instanceof Array){var l=this.opacity,i=Math.round((1-l)*n[0]+l*this._rgb[0]),u=Math.round((1-l)*n[1]+l*this._rgb[1]),a=Math.round((1-l)*n[2]+l*this._rgb[2]);this._rgb=[i,u,a]}}},m.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,m.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,m})();o.Color=f},5510:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PdfGanttTableDrawer=void 0;var d=s(2491),f=s(8935),m=s(817),p=s(7624),n=(function(){function l(i){this._pdfDoc=i}return l.prototype.drawTable=function(i){var u,a;if(i){var y=this.createTableOptions(i);!((u=i.style)===null||u===void 0)&&u.fontSize&&this._pdfDoc.setFontSize((a=i.style)===null||a===void 0?void 0:a.fontSize),this._pdfDoc.autoTable(y.getValue())}},l.prototype.createTableOptions=function(i){var u=this.createDefaultTableOptions();return this.addTableCommonSettings(i,u),this.addCommonTableStyles(i,u),this.prepareBodyCells(i),u.addBody(i.cells),i.hideRowLines&&this.hideRowLines(u),u},l.prototype.createDefaultTableOptions=function(){var i=new p.TableOptions;return i.pageBreak="auto",i.margin.assign(0),i.tableWidth.assign("auto"),i.styles.cellPadding.assign(0),i.styles.halign="center",i.styles.valign="middle",i.styles.lineWidth=1,i.styles.overflow="hidden",i},l.prototype.addTableCommonSettings=function(i,u){u.startY=i.position.y,u.margin.assign({left:i.position.x}),u.tableWidth.assign(i.size.width)},l.prototype.addCommonTableStyles=function(i,u){var a=u.styles;a.assign(i.style),a.fillColor.opacity===0&&a.fillColor.assign("#FFFFFF"),a.minCellHeight=i.baseCellSize.height,u.alternateRowStyles.minCellHeight=u.styles.minCellHeight,u.alternateRowStyles.fillColor.assign(u.styles.fillColor),(0,d.isDefined)(i.baseCellSize.width)&&a.cellWidth.assign(i.baseCellSize.width)},l.prototype.prepareBodyCells=function(i){var u,a,y;if(i.name===f.PdfPageTableNames.treeListMain||i.name===f.PdfPageTableNames.chartScaleTop||i.name===f.PdfPageTableNames.chartScaleBottom)for(var v=i.cells,w=0;w<v.length;w++)for(var T=v[w],k=0;k<T.length;k++){var I=T[k],C=I.styles,D=((u=C==null?void 0:C.cellWidth)===null||u===void 0?void 0:u.getValue())||i.baseCellSize.width||0,P=(a=C==null?void 0:C.cellPadding.left)!==null&&a!==void 0?a:0,A=(y=C==null?void 0:C.cellPadding.right)!==null&&y!==void 0?y:0,R=Math.max(D-P-A-l.cellEllipsisSpace,0);I.content=m.EllipsisHelper.limitPdfTextWithEllipsis(I.content,this._pdfDoc,R)}},l.prototype.hideRowLines=function(i){i.styles.lineWidth=0,i.onDrawCellCallback=function(u){var a=u.cell,y=u.doc,v=a.styles.lineColor,w=a.x,T=a.x+a.styles.cellWidth,k=a.y,I=a.y+u.row.height,C=u.column.index===u.table.columns.length-1,D=u.row.index===u.table.body.length-1,P=u.row.index===0;y.setDrawColor(v[0],v[1],v[2]),y.setLineWidth(1),y.line(w,I,w,k),C&&y.line(T,I,T,k),P&&y.line(w,k,T,k),D&&y.line(w,I,T,I)}},l.cellEllipsisSpace=3,l})();o.PdfGanttTableDrawer=n},817:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EllipsisHelper=void 0;var s=(function(){function d(){}return d.limitPdfTextWithEllipsis=function(f,m,p){if(!(m!=null&&m.getTextWidth)||!p)return f;if(m.getTextWidth(f.toString())>p){for(var n=f,l=f.length-1;m.getTextWidth(n)>p&&l>0;)n=n.substring(0,l)+d.ellipsis,l--;return n}return f},d.ellipsis="...",d})();o.EllipsisHelper=s},5063:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Margin=void 0;var d=s(2491),f=s(6907),m=(function(){function p(n){this.assign(n)}return p.prototype.assign=function(n){if((0,d.isDefined)(n))if(typeof n=="string")this.assignFromString(n);else if(typeof n=="number"||n instanceof Array)this.assignWithValues(n);else{var l=n||n;this.assignWithMargin(l)}},p.prototype.assignFromString=function(n){var l=n.split(" ").map((function(i){return f.DomUtils.pxToInt(i)}));this.assignWithValues(l)},p.prototype.assignWithMargin=function(n){(0,d.isDefined)(n.top)&&(this.top=n.top),(0,d.isDefined)(n.right)&&(this.right=n.right),(0,d.isDefined)(n.bottom)&&(this.bottom=n.bottom),(0,d.isDefined)(n.left)&&(this.left=n.left)},p.prototype.assignWithValues=function(n){var l=this.getCorrectedValues(n);this.top=l[0],this.right=l[1],this.bottom=l[2],this.left=l[3]},p.prototype.getCorrectedValues=function(n){var l=[this.top,this.right,this.bottom,this.left];if(typeof n=="number")l=[n,n,n,n];else{var i=n;switch(i.length){case 1:l=[i[0],i[0],i[0],i[0]];break;case 2:l=[i[0],i[1],i[0],i[1]];break;case 3:l=[i[0],i[1],i[2],i[1]];break;default:i.forEach((function(u,a){return l[a]=u}))}}return l},p.prototype.hasValue=function(){return(0,d.isDefined)(this.top)||(0,d.isDefined)(this.left)||(0,d.isDefined)(this.right)||(0,d.isDefined)(this.bottom)},p.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var n={};return(0,d.isDefined)(this.top)&&(n.top=this.top),(0,d.isDefined)(this.left)&&(n.left=this.left),(0,d.isDefined)(this.right)&&(n.right=this.right),(0,d.isDefined)(this.bottom)&&(n.bottom=this.bottom),n},p})();o.Margin=m},2642:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PredefinedStyles=void 0;var s=(function(){function d(){}return d.getPredefinedStringOrUndefined=function(f,m){var p=f&&m&&f.toLowerCase()||void 0;return p&&(m.filter((function(n){return n.toLowerCase()===p}))[0]||m.filter((function(n){return p.indexOf(n.toLowerCase())>-1}))[0])},d.fontFamilies=["helvetica","times","courier"],d.fontStyles=["normal","bold","italic","bolditalic"],d.headerFooterVisibility=["everyPage","firstPage","never"],d.horizontalAlign=["left","center","right"],d.overflow=["linebreak","ellipsize","visible","hidden"],d.pageBreak=["auto","avoid","always"],d.rowPageBreak=["auto","avoid"],d.verticalAlign=["top","middle","bottom"],d.width=["auto","wrap"],d})();o.PredefinedStyles=s},6995:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StyleDef=void 0;var d=s(2491),f=s(6907),m=s(405),p=s(2642),n=s(5063),l=s(7343),i=(function(){function u(a){this._fillColor=new m.Color,this._textColor=new m.Color,this._lineColor=new m.Color,this._cellWidth=new l.Width,this._cellPadding=new n.Margin,a&&this.assign(a)}return Object.defineProperty(u.prototype,"font",{get:function(){return this._fontFamily},set:function(a){this._fontFamily=p.PredefinedStyles.getPredefinedStringOrUndefined(a,p.PredefinedStyles.fontFamilies)||a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(a){this._fontStyle=p.PredefinedStyles.getPredefinedStringOrUndefined(a,p.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontSize",{get:function(){return this._fontSize},set:function(a){this._fontSize=a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overflow",{get:function(){return this._overflow},set:function(a){this._overflow=p.PredefinedStyles.getPredefinedStringOrUndefined(a,p.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign=p.PredefinedStyles.getPredefinedStringOrUndefined(a,p.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"valign",{get:function(){return this._verticalAlign},set:function(a){this._verticalAlign=p.PredefinedStyles.getPredefinedStringOrUndefined(a,p.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(a){this._lineWidth=a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(a){this._minCellWidth=a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(a){this._minCellHeight=a},enumerable:!1,configurable:!0}),u.prototype.assign=function(a){a&&(a instanceof u?((0,d.isDefined)(a.font)&&(this.font=a.font),(0,d.isDefined)(a.fontStyle)&&(this.fontStyle=a.fontStyle),(0,d.isDefined)(a.overflow)&&(this.overflow=a.overflow),(0,d.isDefined)(a.halign)&&(this.halign=a.halign),(0,d.isDefined)(a.valign)&&(this.valign=a.valign),(0,d.isDefined)(a.fontSize)&&(this.fontSize=a.fontSize),(0,d.isDefined)(a.lineWidth)&&(this.lineWidth=a.lineWidth),(0,d.isDefined)(a.minCellWidth)&&(this.minCellWidth=a.minCellWidth),(0,d.isDefined)(a.minCellHeight)&&(this.minCellHeight=a.minCellHeight),(0,d.isDefined)(a.fillColor)&&this.fillColor.assign(a.fillColor),(0,d.isDefined)(a.textColor)&&this.textColor.assign(a.textColor),(0,d.isDefined)(a.lineColor)&&this.lineColor.assign(a.lineColor),(0,d.isDefined)(a.cellWidth)&&this.cellWidth.assign(a.cellWidth),(0,d.isDefined)(a.cellPadding)&&this.cellPadding.assign(a.cellPadding)):this.assignFromCssStyle(a))},u.prototype.assignFromCssStyle=function(a){if(a.fontFamily&&(this.font=this.getPdfFontFamily(a)),this.fontStyle=this.getPdfFontStyle(a),(0,d.isDefined)(a.fontSize)&&(this.fontSize=this.getPfrFontSize(a.fontSize)),a.textAlign&&(this.halign=a.textAlign),a.verticalAlign&&(this.valign=a.verticalAlign),(0,d.isDefined)(a.borderWidth)&&(this.lineWidth=a.borderWidth),(0,d.isDefined)(a.cellWidth)&&this.cellWidth.assign(a.cellWidth),(0,d.isDefined)(a.width)&&(this.minCellWidth=typeof a.width=="number"?a.width:f.DomUtils.pxToInt(a.width)),(0,d.isDefined)(a.height)&&(this.minCellHeight=typeof a.height=="number"?a.height:f.DomUtils.pxToInt(a.height)),a.backgroundColor&&this.fillColor.assign(a.backgroundColor),a.color&&this.textColor.assign(a.color),a.borderColor&&this.lineColor.assign(a.borderColor),(0,d.isDefined)(a.width)&&this.cellWidth.assign(a.width),this.assignPaddingFromCss(a),(0,d.isDefined)(a.extraLeftPadding)){var y=this._cellPadding.left;this._cellPadding.left=y?y+a.extraLeftPadding:a.extraLeftPadding}},u.prototype.getPdfFontStyle=function(a){var y=a.fontWeight,v=parseInt(y),w=y==="bold"||!isNaN(v)&&v>500,T=w?"bold":"normal";return a.fontStyle==="italic"&&(T=w?"bolditalic":"italic"),T},u.prototype.getPdfFontFamily=function(a){var y=a.fontFamily&&a.fontFamily.toLowerCase(),v="helvetica";return y.indexOf("times")>-1&&(v="times"),y.indexOf("courier")>-1&&(v="courier"),v},u.prototype.getPfrFontSize=function(a){var y=f.DomUtils.pxToInt(a);if(!isNaN(y))return Math.ceil(y/96*72)},u.prototype.assignPaddingFromCss=function(a){if(a.padding)this._cellPadding.assign(a.padding);else{var y={};a.paddingLeft&&(y.left=f.DomUtils.pxToInt(a.paddingLeft)),a.paddingTop&&(y.top=f.DomUtils.pxToInt(a.paddingTop)),a.paddingRight&&(y.right=f.DomUtils.pxToInt(a.paddingRight)),a.paddingBottom&&(y.bottom=f.DomUtils.pxToInt(a.paddingBottom)),this._cellPadding.assign(y)}},u.prototype.hasValue=function(){return!0},u.prototype.getValue=function(){var a=this,y={};return(0,d.isDefined)(this.font)&&(y.font=this.font),(0,d.isDefined)(this.fontStyle)&&(y.fontStyle=this.fontStyle),(0,d.isDefined)(this.fontSize)&&(y.fontSize=this.fontSize),(0,d.isDefined)(this.overflow)&&(y.overflow=this.overflow),(0,d.isDefined)(this.halign)&&(y.halign=this.halign),(0,d.isDefined)(this.valign)&&(y.valign=this.valign),(0,d.isDefined)(this.lineWidth)&&(y.lineWidth=this.lineWidth),(0,d.isDefined)(this.minCellWidth)&&(y.minCellWidth=this.minCellWidth),(0,d.isDefined)(this.minCellHeight)&&(y.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach((function(v){var w=a[v];w&&w.hasValue()&&(y[v]=w.getValue())})),y},u.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},u})();o.StyleDef=i},7624:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TableOptions=void 0;var d=s(2491),f=s(6032),m=s(405),p=s(2642),n=s(5063),l=s(6995),i=s(7343),u=(function(){function a(){this._margin=new n.Margin,this._tableLineColor=new m.Color,this._tableWidth=new i.Width,this._styles=new l.StyleDef,this._alternateRowStyles=new l.StyleDef}return Object.defineProperty(a.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(y){this._pageBreak=p.PredefinedStyles.getPredefinedStringOrUndefined(y,p.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(y){this._rowPageBreak=p.PredefinedStyles.getPredefinedStringOrUndefined(y,p.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showHead",{get:function(){return this._showHead},set:function(y){this._showHead=p.PredefinedStyles.getPredefinedStringOrUndefined(y,p.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showFoot",{get:function(){return this._showFoot},set:function(y){this._showFoot=p.PredefinedStyles.getPredefinedStringOrUndefined(y,p.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"startY",{get:function(){return this._startY},set:function(y){this._startY=y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(y){this._tableLineWidth=y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),a.prototype.hasValue=function(){return!0},a.prototype.getValue=function(){var y=this,v={};return v.pageBreak=this.pageBreak,v.rowPageBreak=this.rowPageBreak,v.showFoot=this.showFoot,v.showHead=this.showHead,v.startY=this.startY,v.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach((function(w){var T=y[w];T&&T.hasValue()&&(v[w]=T.getValue())})),v.body=this.getBodyForJsPdf(),v.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(v.didDrawCell=this.onDrawCellCallback),v},a.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},a.prototype.getBodyForJsPdf=function(){for(var y=[],v=0;v<this._body.length;v++){for(var w=this._body[v],T=[],k=0;k<w.length;k++)T.push(w[k].getValue());y.push(T)}return y},a.prototype.assign=function(y){y&&((0,d.isDefined)(y.margin)&&this.margin.assign(y.margin),(0,d.isDefined)(y.pageBreak)&&(this.pageBreak=y.pageBreak),(0,d.isDefined)(y.rowPageBreak)&&(this.rowPageBreak=y.rowPageBreak),(0,d.isDefined)(y.showFoot)&&(this.showFoot=y.showFoot),(0,d.isDefined)(y.showHead)&&(this.showHead=y.showHead),(0,d.isDefined)(y.startY)&&(this.startY=y.startY),(0,d.isDefined)(y.tableLineWidth)&&(this.tableLineWidth=y.tableLineWidth),(0,d.isDefined)(y.tableLineColor)&&this.tableLineColor.assign(y.tableLineColor),(0,d.isDefined)(y.tableWidth)&&this.tableWidth.assign(y.tableWidth))},a.prototype.addBody=function(y){y&&(this._body=new Array,this.addCells(y,this._body))},a.prototype.addCells=function(y,v){for(var w=this.styles.fillColor,T=0;T<y.length;T++){for(var k=y[T],I=new Array,C=0;C<k.length;C++){var D=new f.CellDef(k[C]);w.hasValue()&&D.styles&&D.styles.fillColor.hasValue()&&D.styles.fillColor.applyOpacityToBackground(w),I.push(D)}v.push(I)}},a.prototype.applyColumnStyle=function(y,v){var w;(w=this._columnStyles)!==null&&w!==void 0||(this._columnStyles=new Array),this._columnStyles[y]=new l.StyleDef(v)},a.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var y={};return this._columnStyles.forEach((function(v,w){v&&(y[w]=v.getValue())})),y}return null},a})();o.TableOptions=u},7343:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Width=void 0;var d=s(2642),f=s(6907),m=(function(){function p(n){this.assign(n)}return p.prototype.assign=function(n){if(n instanceof p)this._widthInternal=n._widthInternal;else{var l=typeof n=="number"?n:parseInt(n);isNaN(l)?this.assignFromString(n):this._widthInternal=l}},p.prototype.assignFromString=function(n){if(n){var l=f.DomUtils.pxToInt(n);this._widthInternal=l||d.PredefinedStyles.getPredefinedStringOrUndefined(n,d.PredefinedStyles.width)}},p.prototype.hasValue=function(){return!!this._widthInternal},p.prototype.getValue=function(){return this._widthInternal},p})();o.Width=m},8603:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaExportHelper=void 0;var d=s(6907),f=s(858),m=s(1855),p=s(9201),n=s(405),l=s(9895),i=(function(){function u(a,y){this._owner=a,this._props=y}return Object.defineProperty(u.prototype,"customRangeLeftOffset",{get:function(){var a;return(a=this._customRangeLeftOffset)!==null&&a!==void 0||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var a=this.visibleTaskIndices[0];return this.getCellTop(a)+this.getTaskCellOffsetTop(a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"offsetLeft",{get:function(){var a;return(a=this._offsetLeft)!==null&&a!==void 0||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"offsetTop",{get:function(){var a;return(a=this._offsetTop)!==null&&a!==void 0||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scales",{get:function(){var a=this.settings.viewType;return[p.DateUtils.ViewTypeToScaleMap[a],a]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleRanges",{get:function(){var a;return(a=this._scaleRanges)!==null&&a!==void 0||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleTopWidths",{get:function(){var a;return(a=this._scaleTopWidths)!==null&&a!==void 0||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleBottomWidths",{get:function(){var a;return(a=this._scaleBottomWidths)!==null&&a!==void 0||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var a=this.scaleElements[0].filter((function(y){return!!y&&y.offsetHeight}))[0];this._headerRowHeight=a==null?void 0:a.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleTaskIndices",{get:function(){var a;return(a=this._visibleTaskIndices)!==null&&a!==void 0||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleTableStyle",{get:function(){var a;return(a=this._scaleTableStyle)!==null&&a!==void 0||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"chartMainTableStyle",{get:function(){var a;return(a=this._chartMainTableStyle)!==null&&a!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parentRowBackColor",{get:function(){var a;return(a=this._parentRowBackColor)!==null&&a!==void 0||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"arrowWidth",{get:function(){var a;return(a=this._arrowWidth)!==null&&a!==void 0||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dependencyColor",{get:function(){var a;return(a=this._dependencyColor)!==null&&a!==void 0||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),u.prototype.getTaskElementBackColor=function(a,y){var v=this.getTaskElementStyle(a,y);return v==null?void 0:v.backgroundColor},u.prototype.getTaskElementStyle=function(a,y){var v=this.getTaskWrapper(a);return this.getElementStyle(v.getElementsByClassName(y)[0])},u.prototype.isElementVisible=function(a){return a&&getComputedStyle(a).display!=="none"},Object.defineProperty(u.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleLeft",{get:function(){var a;return(a=this._visibleLeft)!==null&&a!==void 0||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleTop",{get:function(){var a;return(a=this._visibleTop)!==null&&a!==void 0||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleRight",{get:function(){var a;return(a=this._visibleRight)!==null&&a!==void 0||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),u.prototype.getVisibleRight=function(){var a=this.container.getElement().offsetWidth;return this.visibleLeft+a},Object.defineProperty(u.prototype,"visibleBottom",{get:function(){var a;return(a=this._visibleBottom)!==null&&a!==void 0||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),u.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(u.prototype,"scaleLeft",{get:function(){var a;return(a=this._scaleLeft)!==null&&a!==void 0||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleRight",{get:function(){var a;return(a=this._scaleRight)!==null&&a!==void 0||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),u.prototype.getScaleTopWidths=function(){var a=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),y=this.layoutCalculator,v=y.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),w=y.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),T=Math.max(v.position.x-w.position.x,0);a[this.scaleTopStartIndex]-=T;var k=y.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),I=y.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return T=Math.max(k.position.x+k.size.width-I.position.x-I.size.width,0),a[this.scaleTopEndIndex]-=T,a},u.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},u.prototype.getScaleWidths=function(a,y,v){for(var w=new Array,T=a;T<=y;T++)w[T]=this.layoutCalculator.getScaleItemInfo(T,v).size.width;return w},u.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(u.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),u.prototype.getTaskCellOffsetTop=function(a){var y=this.getCellTop(a);return Math.max(this.visibleTop-y,0)},u.prototype.getCellTop=function(a){return this.layoutCalculator.getGridBorderPosition(a-1,!1).y},u.prototype.getCellLeft=function(a){return this.layoutCalculator.getScaleItemInfo(a,this.scales[1]).position.x},u.prototype.getTaskIndices=function(){var a,y;return this.dataMode===l.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices((a=this.exportRange)===null||a===void 0?void 0:a.startIndex,(y=this.exportRange)===null||y===void 0?void 0:y.endIndex):this.getVisibleTaskIndices()},u.prototype.getVisibleTaskIndices=function(){var a=this,y=[];return this.taskElements.forEach((function(v,w){if(v){var T=d.DomUtils.pxToInt(v.style.top),k=T+v.offsetHeight,I=T>=a.visibleTop&&T<=a.visibleBottom,C=k>=a.visibleTop&&k<=a.visibleBottom;(I||C)&&y.push(w)}})),y},Object.defineProperty(u.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter((function(a){return!!a}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter((function(a){return!!a}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"connectorLines",{get:function(){var a,y=this;return(a=this._connectorLines)!==null&&a!==void 0||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter((function(v){return y.isLineVisible(v)}))),this._connectorLines},enumerable:!1,configurable:!0}),u.prototype.isLineVisible=function(a){if(this.dataMode===l.DataExportMode.all)return!0;var y=a.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(y)>-1},Object.defineProperty(u.prototype,"visibleDependencyKeys",{get:function(){var a;return(a=this._visibleDependencyKeys)!==null&&a!==void 0||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resourcesElements",{get:function(){var a,y=this;return(a=this._resourcesElements)!==null&&a!==void 0||(this._resourcesElements=this.visibleTaskIndices.map((function(v){return y._owner.renderHelper.resourcesElements[v]})).filter((function(v){return y.isElementVisible(v)&&v.parentElement}))),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var a=this._owner.renderHelper.stripLinesMap.filter((function(y){return!!y})).map((function(y){return y}));this._stripLinesElements=a.map((function(y){return y}))}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var a=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var y in a)Object.prototype.hasOwnProperty.call(a,y)&&this._noWorkingIntervalsElements.push(a[y])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dataMode",{get:function(){var a;return(a=this._props)===null||a===void 0?void 0:a.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"exportRange",{get:function(){var a;return(a=this._props)===null||a===void 0?void 0:a.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isVisibleMode",{get:function(){return this.dataMode===l.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"startDate",{get:function(){var a,y,v,w;if(!((a=this.exportRange)===null||a===void 0)&&a.startDate&&(!((y=this.exportRange)===null||y===void 0)&&y.endDate)){var T=Math.min((v=this.exportRange)===null||v===void 0?void 0:v.startDate.getTime(),(w=this.exportRange)===null||w===void 0?void 0:w.endDate.getTime());return new Date(T)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"endDate",{get:function(){var a,y,v,w;if(!((a=this.exportRange)===null||a===void 0)&&a.startDate&&(!((y=this.exportRange)===null||y===void 0)&&y.endDate)){var T=Math.max((v=this.exportRange)===null||v===void 0?void 0:v.startDate.getTime(),(w=this.exportRange)===null||w===void 0?void 0:w.endDate.getTime());return new Date(T)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var a=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new m.GridLayoutCalculator,this._layoutCalculator.setSettings(a.visibleTaskAreaSize,a.tickSize,a.elementSizeValues,new f.DateRange(this.startDate,this.endDate),a.viewModel,a.viewType,a.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=a}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),u.prototype.getPosByDate=function(a){return this.layoutCalculator.getPosByDate(a)},u.prototype.getScaleTableStyle=function(){var a={},y=this.scaleElements[0].filter((function(w){return!!w}))[0],v=this.getElementStyle(y);return a.backgroundColor=this.findElementBackColor(y),a.borderColor=this.getChartTableBorderColor(),a.verticalAlign="middle",a.textAlign="center",a.fontSize=v.fontSize,a.fontFamily=v.fontFamily,a.fontWeight=v.fontWeight,a.fontStyle=v.fontStyle,a.color=v.color,a},u.prototype.getChartMainTableStyle=function(){var a={};return a.backgroundColor=this.findElementBackColor(this.taskArea),a.borderColor=this.getChartTableBorderColor(),a},u.prototype.findElementBackColor=function(a){if(!a)return null;for(var y=a,v=new n.Color("transparent");v.opacity===0&&y;){var w=this.getElementStyle(y);v.assign(w.backgroundColor),y=y.parentElement}return v},u.prototype.getChartTableBorderColor=function(){var a=this.getElementStyle(this.scaleBorders[0].filter((function(y){return!!y}))[0]);return a==null?void 0:a.borderColor},u.prototype.getParentBackColor=function(){var a=this.getElementStyle(this.hlRowElements[0]);return a==null?void 0:a.backgroundColor},u.prototype.getArrowWidth=function(){var a=this.getDependencyLineStyle(m.GridLayoutCalculator.arrowClassName),y=a.borderWidth||a.borderLeftWidth||a.borderRightWidth||a.borderTopWidth||a.borderBottomWidth;return a&&d.DomUtils.pxToInt(y)},u.prototype.getDependencyColor=function(){var a=this.getDependencyLineStyle(m.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return a==null?void 0:a.borderColor},u.prototype.getDependencyLineStyle=function(a){return this.getElementStyle(this.taskArea.getElementsByClassName(a)[0])},u.prototype.getElementStyle=function(a){return a&&getComputedStyle(a)},u.prototype.getTaskWrapper=function(a){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[a]||this._owner.renderHelper.createDefaultTaskElement(a),this.taskElements[a])},Object.defineProperty(u.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),u})();o.TaskAreaExportHelper=i},6057:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CollectionBase=void 0;var d=s(2491),f=s(2601),m=(function(){function p(){this._items=new Array,this._isGanttCollection=!0}return p.prototype.add=function(n){if((0,d.isDefined)(n)){if(this.getItemById(n.internalId))throw"The collection item with id ='"+n.internalId+"' already exists.";this._addItem(n)}},p.prototype.addRange=function(n){for(var l=0;l<n.length;l++)this.add(n[l])},p.prototype.remove=function(n){var l=this._items.indexOf(n);l>-1&&l<this._items.length&&this._removeItems(l,1)},p.prototype.clear=function(){this._removeItems(0,this._items.length)},p.prototype.invalidate=function(){delete this._invertedItems},p.prototype._addItem=function(n){this._items.push(n),delete this._invertedItems},p.prototype._removeItems=function(n,l){this._items.splice(n,l),delete this._invertedItems},Object.defineProperty(p.prototype,"items",{get:function(){return this._items.slice()},set:function(n){n&&(this._items=n.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),p.prototype.getItem=function(n){return n>-1&&n<this._items.length?this._items[n]:null},Object.defineProperty(p.prototype,"invertedItems",{get:function(){var n;return(n=this._invertedItems)!==null&&n!==void 0||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),p.prototype._createInvertedItems=function(){for(var n={},l=0;l<this._items.length;l++){var i=this._items[l];n[i.internalId]=i}return n},p.prototype.getItemById=function(n){return this.invertedItems[n]},p.prototype.getItemByPublicId=function(n){return this._items.filter((function(l){return l.id===n||l.id.toString()===n}))[0]},p.prototype.assign=function(n){(0,d.isDefined)(n)&&(this.items=n.items)},p.prototype.importFromObject=function(n){(0,d.isDefined)(n)&&(this.clear(),n._isGanttCollection?this.assign(n):n instanceof Array?this.importFromArray(n):this.createItemFromObjectAndAdd(n))},p.prototype.createItemFromObjectAndAdd=function(n){if((0,d.isDefined)(n)&&Object.keys(n).length>0){var l=this.createItem();l.assignFromObject(n),this.add(l)}},p.prototype.importFromArray=function(n){for(var l=0;l<n.length;l++)this.createItemFromObjectAndAdd(n[l])},p.prototype.importFromJSON=function(n){this.importFromObject(f.GanttJsonUtils.parseJson(n))},p})();o.CollectionBase=m},7380:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DependencyCollection=void 0;var d=s(655),f=s(6057),m=s(7352),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.createItem=function(){return new m.Dependency},l})(f.CollectionBase);o.DependencyCollection=p},4432:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WorkingDayRuleCollection=void 0;var d=s(655),f=s(6057),m=s(8401),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.createItem=function(){return new m.WorkingTimeRule},l})(f.CollectionBase);o.WorkingDayRuleCollection=p},9883:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceAssignmentCollection=void 0;var d=s(655),f=s(6057),m=s(7437),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.createItem=function(){return new m.ResourceAssignment},l})(f.CollectionBase);o.ResourceAssignmentCollection=p},8828:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceCollection=void 0;var d=s(655),f=s(6057),m=s(2301),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.createItem=function(){return new m.Resource},l})(f.CollectionBase);o.ResourceCollection=p},9504:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskCollection=void 0;var d=s(655),f=s(8492),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.createItem=function(){return new f.Task},n})(s(6057).CollectionBase);o.TaskCollection=m},5594:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EventDispatcher=void 0;var s=(function(){function d(){this.listeners=[]}return d.prototype.add=function(f){if(!f)throw new Error("Error");this.hasEventListener(f)||this.listeners.push(f)},d.prototype.remove=function(f){for(var m=0,p=void 0;p=this.listeners[m];m++)if(p===f){this.listeners.splice(m,1);break}},d.prototype.raise=function(f){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];for(var n=0,l=void 0;l=this.listeners[n];n++){var i=l[f];i==null||i.apply(l,m)}},d.prototype.hasEventListener=function(f){for(var m=0,p=this.listeners.length;m<p;m++)if(this.listeners[m]===f)return!0;return!1},d})();o.EventDispatcher=s},3452:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ModelChangesDispatcher=void 0;var d=s(255),f=s(8403),m=s(8738),p=s(9669),n=s(5594),l=(function(){function i(){this.onModelChanged=new n.EventDispatcher,this.isLocked=!1}return i.prototype.notifyTaskCreating=function(u){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",u)},i.prototype.notifyTaskCreated=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",u,a,y)},i.prototype.notifyTaskRemoving=function(u){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",u)},i.prototype.notifyTaskRemoved=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",u,a,y)},i.prototype.notifyTaskUpdating=function(u){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",u)},i.prototype.notifyTaskMoving=function(u){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",u)},i.prototype.notifyTaskEditDialogShowing=function(u){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",u)},i.prototype.notifyResourceManagerDialogShowing=function(u){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",u)},i.prototype.notifyTaskUpdated=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",u,a,y)},i.prototype.notifyParentTaskUpdated=function(u,a){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",u,a)},i.prototype.notifyDependencyInserting=function(u){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",u)},i.prototype.notifyDependencyInserted=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",u,a,y)},i.prototype.notifyDependencyRemoving=function(u){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",u)},i.prototype.notifyDependencyRemoved=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",u,a,y)},i.prototype.notifyResourceCreating=function(u){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",u)},i.prototype.notifyResourceCreated=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",u,a,y)},i.prototype.notifyResourceRemoving=function(u){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",u)},i.prototype.notifyResourceRemoved=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",u,a,y)},i.prototype.notifyResourceColorChanged=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",u,a,y)},i.prototype.notifyResourceAssigning=function(u){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",u)},i.prototype.notifyResourceAssigned=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",u,a,y)},i.prototype.notifyResourceUnassigning=function(u){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",u)},i.prototype.notifyResourceUnassigned=function(u,a,y){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",u,a,y)},i.prototype.notifyParentDataRecalculated=function(u){this.onModelChanged.raise("NotifyParentDataRecalculated",u)},i.prototype.notifyScaleCellPrepared=function(u){this.onModelChanged.raise("NotifyScaleCellPrepared",u)},i.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},i.prototype.fireResourceUnassigning=function(u){var a=new m.ResourceUnassigningArguments(u);return this.notifyResourceUnassigning(a),!a.cancel},i.prototype.raiseTaskUpdating=function(u,a,y){var v=new p.TaskUpdatingArguments(u,a);return this.notifyTaskUpdating(v),!v.cancel&&(y(v.newValues),!0)},i.prototype.raiseTaskMoving=function(u,a,y,v){var w=new p.TaskUpdatingArguments(u,{start:a,end:y});return this.notifyTaskMoving(w),!w.cancel&&(v(w.start,w.end),!0)},i.prototype.raiseTaskTaskEditDialogShowing=function(u,a){var y=new f.TaskEditDialogShowingArguments(u);return this.notifyTaskEditDialogShowing(y),!y.cancel&&(a(y),!0)},i.prototype.raiseResourceManagerDialogShowing=function(u,a){var y=new d.ResourceManagerDialogShowingArguments(u);return this.notifyResourceManagerDialogShowing(y),!y.cancel&&(a(y),!0)},i.prototype.lock=function(){this.isLocked=!0},i.prototype.unlock=function(){this.isLocked=!1},i})();o.ModelChangesDispatcher=l},6124:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttDataObjectNames=o.DataObject=void 0;var d=s(2491),f=s(8679),m=(function(){function p(){this.internalId=f.MathUtils.generateGuid()}return p.prototype.assignFromObject=function(n){(0,d.isDefined)(n)&&(0,d.isDefined)(n.id)&&this.updateId(n.id)},p.prototype.updateId=function(n){this.id=n,this.internalId=String(n)},p})();o.DataObject=m,o.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},7352:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Dependency=void 0;var d=s(655),f=s(2491),m=s(6124),p=s(5950),n=(function(l){function i(){var u=l.call(this)||this;return u.predecessorId="",u.successorId="",u.type=null,u}return d.__extends(i,l),Object.defineProperty(i.prototype,"isStartDependency",{get:function(){return this.type===p.DependencyType.SS||this.type===p.DependencyType.SF},enumerable:!1,configurable:!0}),i.prototype.assignFromObject=function(u){(0,f.isDefined)(u)&&(l.prototype.assignFromObject.call(this,u),this.predecessorId=String(u.predecessorId),this.successorId=String(u.successorId),this.type=this.parseType(u.type))},i.prototype.parseType=function(u){if(!(0,f.isDefined)(u))return p.DependencyType.FS;switch(u.toString().toUpperCase()){case"SS":case"1":return p.DependencyType.SS;case"FF":case"2":return p.DependencyType.FF;case"SF":case"3":return p.DependencyType.SF;default:return p.DependencyType.FS}},i})(m.DataObject);o.Dependency=n},5950:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DependencyType=o.TaskType=void 0,(function(s){s[s.Regular=0]="Regular",s[s.Summary=1]="Summary",s[s.Milestone=2]="Milestone"})(o.TaskType||(o.TaskType={})),(function(s){s[s.FS=0]="FS",s[s.SS=1]="SS",s[s.FF=2]="FF",s[s.SF=3]="SF"})(o.DependencyType||(o.DependencyType={}))},2301:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Resource=void 0;var d=s(655),f=s(2491),m=(function(p){function n(){var l=p.call(this)||this;return l.text="",l.color="",l}return d.__extends(n,p),n.prototype.assignFromObject=function(l){(0,f.isDefined)(l)&&(p.prototype.assignFromObject.call(this,l),this.text=l.text,(0,f.isDefined)(l.color)&&(this.color=l.color))},n})(s(6124).DataObject);o.Resource=m},7437:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceAssignment=void 0;var d=s(655),f=s(2491),m=(function(p){function n(){var l=p.call(this)||this;return l.taskId="",l.resourceId="",l}return d.__extends(n,p),n.prototype.assignFromObject=function(l){(0,f.isDefined)(l)&&(p.prototype.assignFromObject.call(this,l),this.taskId=String(l.taskId),this.resourceId=String(l.resourceId))},n})(s(6124).DataObject);o.ResourceAssignment=m},8492:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Task=void 0;var d=s(655),f=s(2491),m=s(6124),p=-8e15,n=(function(l){function i(){var u=l.call(this)||this;return u.start=null,u.end=null,u.duration=null,u.description="",u.parentId=null,u.title="",u.owner=null,u.progress=0,u.taskType=null,u.customFields={},u.expanded=!0,u.color="",u}return d.__extends(i,l),Object.defineProperty(i.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),i.prototype.assignFromObject=function(u){(0,f.isDefined)(u)&&(l.prototype.assignFromObject.call(this,u),this.owner=u.owner,this.parentId=(0,f.isDefined)(u.parentId)?String(u.parentId):null,this.rawParentId=u.parentId,this.description=u.description,this.title=u.title,this.start=typeof u.start=="string"?new Date(u.start):u.start||this.createInvalidDate(),this.end=typeof u.end=="string"?new Date(u.end):u.end||this.createInvalidDate(),this.duration=u.duration,this.progress=u.progress,this.taskType=u.taskType,(0,f.isDefined)(u.expanded)&&(this.expanded=!!u.expanded),(0,f.isDefined)(u.color)&&(this.color=u.color),this.assignCustomFields(u.customFields))},i.prototype.assignCustomFields=function(u){if(u)for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(this.customFields[a]=u[a])},i.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},i.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},i.prototype.isValidStart=function(){return this.isValidTaskaDte(this.start)},i.prototype.isValidEnd=function(){return this.isValidTaskaDte(this.end)},i.prototype.isValid=function(){return this.isValidStart()&&this.isValidEnd()},i.prototype.createInvalidDate=function(){return new Date(p)},i.prototype.isValidTaskaDte=function(u){return!!u&&u.getTime()!==p},i})(m.DataObject);o.Task=n},8774:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseArguments=void 0;var s=function(d){this.cancel=!1,this.values={},this.key=d};o.BaseArguments=s},3279:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DependencyInsertingArguments=void 0;var d=s(655),f=(function(m){function p(n,l,i){var u=m.call(this,null)||this;return u.values={predecessorId:n,successorId:l,type:i},u}return d.__extends(p,m),Object.defineProperty(p.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),p})(s(8774).BaseArguments);o.DependencyInsertingArguments=f},4797:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DependencyRemovingArguments=void 0;var d=s(655),f=(function(m){function p(n){var l=m.call(this,n.id)||this;return l.values=n,l}return d.__extends(p,m),p})(s(8774).BaseArguments);o.DependencyRemovingArguments=f},255:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceManagerDialogShowingArguments=void 0;var d=s(655),f=(function(m){function p(n){var l=m.call(this,void 0)||this;return l.values.resources=n.resources,l}return d.__extends(p,m),p})(s(8774).BaseArguments);o.ResourceManagerDialogShowingArguments=f},8403:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditDialogShowingArguments=void 0;var d=s(655),f=(function(m){function p(n){var l=m.call(this,n.id)||this;return l.values={start:n.start,end:n.end,title:n.title,progress:n.progress},l.hiddenFields=n.hiddenFields,l.readOnlyFields=n.readOnlyFields,l}return d.__extends(p,m),p})(s(8774).BaseArguments);o.TaskEditDialogShowingArguments=f},1389:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceAssigningArguments=void 0;var d=s(655),f=(function(m){function p(n,l){var i=m.call(this,null)||this;return i.values={resourceId:n,taskId:l},i}return d.__extends(p,m),Object.defineProperty(p.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),p})(s(8774).BaseArguments);o.ResourceAssigningArguments=f},8738:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceUnassigningArguments=void 0;var d=s(655),f=(function(m){function p(n){var l=m.call(this,n.internalId)||this;return l.values=n,l}return d.__extends(p,m),p})(s(8774).BaseArguments);o.ResourceUnassigningArguments=f},990:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceInsertingArguments=void 0;var d=s(655),f=(function(m){function p(n,l){l===void 0&&(l="");var i=m.call(this,null)||this;return i.values={text:n,color:l},i}return d.__extends(p,m),Object.defineProperty(p.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),p})(s(8774).BaseArguments);o.ResourceInsertingArguments=f},9748:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceRemovingArguments=void 0;var d=s(655),f=(function(m){function p(n){var l=m.call(this,n.id)||this;return l.values=n,l}return d.__extends(p,m),p})(s(8774).BaseArguments);o.ResourceRemovingArguments=f},4605:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskInsertingArguments=void 0;var d=s(655),f=(function(m){function p(n,l){var i=m.call(this,n)||this;return i.values=l??{},i}return d.__extends(p,m),Object.defineProperty(p.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),p})(s(8774).BaseArguments);o.TaskInsertingArguments=f},4642:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskRemovingArguments=void 0;var d=s(655),f=(function(m){function p(n){var l=m.call(this,n.id)||this;return l.values=n,l}return d.__extends(p,m),p})(s(8774).BaseArguments);o.TaskRemovingArguments=f},9669:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskUpdatingArguments=void 0;var d=s(655),f=(function(m){function p(n,l){var i=m.call(this,n.id)||this;return i.values=n,i.createNewValues(l),i}return d.__extends(p,m),p.prototype.createNewValues=function(n){var l=this;this.newValues={};var i=function(y){Object.prototype.hasOwnProperty.call(n,y)&&(u.newValues[y]=n[y],Object.defineProperty(u,y,{get:function(){return l.newValues[y]}}))},u=this;for(var a in n)i(a)},p})(s(8774).BaseArguments);o.TaskUpdatingArguments=f},8725:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.History=void 0;var d=s(5221),f=s(9751),m=(function(){function p(n){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=n}return p.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},p.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},p.prototype.beginTransaction=function(){var n;this.transactionLevel++,this.transactionLevel==0&&(this.transaction=new f.CompositionHistoryItem,(n=this._listener)===null||n===void 0||n.onTransactionStart())},p.prototype.endTransaction=function(){var n;if(!(--this.transactionLevel>=0)){var l=this.transaction.historyItems.length;l>1?this.addInternal(this.transaction):l==1&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,(n=this._listener)===null||n===void 0||n.onTransactionEnd()}},p.prototype.addAndRedo=function(n){this.add(n),this.activateItem(n)},p.prototype.add=function(n){this.transactionLevel>=0?this.transaction.add(n):this.addInternal(n)},p.prototype.canUndo=function(){return this.currentIndex>=0},p.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},p.prototype.addInternal=function(n){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(n),this.currentIndex++,this.deleteOldItems()},p.prototype.deleteOldItems=function(){var n=this.historyItems.length-p.MAX_HISTORY_ITEM_COUNT;n>0&&this.currentIndex>n&&(this.historyItems.splice(0,n),this.currentIndex-=n)},p.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},p.prototype.activateItem=function(n,l){l===void 0&&(l=!1),this.currentProcessingItemInfo=new d.HistoryItemInfo(n,l),l?n.undo():n.redo(),this.currentProcessingItemInfo=null},p.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},p.prototype.rollBackAndRemove=function(n){var l=n.item;this.checkAndRemoveItem(l)&&(n.isUndo?l.redo():l instanceof f.CompositionHistoryItem?l.undoItemsQuery():l.undo())},p.prototype.checkAndRemoveItem=function(n){var l=this.historyItems.indexOf(n);return l>-1?(this.historyItems.splice(l,1),this.currentIndex--):this.transaction&&(l=this.transaction.historyItems.indexOf(n))>-1&&this.transaction.historyItems.splice(l,1),l>-1},p.prototype.updateObsoleteInsertedKey=function(n,l,i){this.transaction&&this.updateItemsObsoleteInsertedKey(n,l,i,[this.transaction]),this.updateItemsObsoleteInsertedKey(n,l,i,this.historyItems)},p.prototype.updateItemsObsoleteInsertedKey=function(n,l,i,u){if(u)for(var a=0;a<u.length;a++){var y=u[a];y.keyUpdaters.filter((function(v){return v.getKey()===n&&v.objectType===i})).forEach((function(v){return v.updateKey(l)})),y instanceof f.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(n,l,i,y.historyItems)}},p.MAX_HISTORY_ITEM_COUNT=100,p})();o.History=m},9751:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHistoryItem=void 0;var d=s(655),f=(function(m){function p(){var n=m.call(this,null)||this;return n.historyItems=[],n}return d.__extends(p,m),p.prototype.redo=function(){for(var n,l=0;n=this.historyItems[l];l++)n.redo()},p.prototype.undo=function(){for(var n,l=this.historyItems.length-1;n=this.historyItems[l];l--)n.undo()},p.prototype.add=function(n){if(n==null)throw new Error("Can't add null HistoryItem");this.historyItems.push(n)},p.prototype.undoItemsQuery=function(){this.undo()},p.prototype.setModelManipulator=function(n){if(m.prototype.setModelManipulator.call(this,n),this.historyItems)for(var l=0;l<this.historyItems.length;l++)this.historyItems[l].setModelManipulator(n)},p})(s(7917).HistoryItem);o.CompositionHistoryItem=f},1211:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InsertDependencyHistoryItem=void 0;var d=s(655),f=s(8679),m=s(6124),p=(function(n){function l(i,u,a,y){var v=n.call(this,i)||this;return v.predecessorId=u,v.successorId=a,v.type=y,v}return d.__extends(l,n),l.prototype.redo=function(){var i;(i=this.insertedKey)!==null&&i!==void 0||(this.insertedKey=f.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},l.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(l.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:m.GanttDataObjectNames.dependency,getKey:function(){return i.insertedKey},updateKey:function(u){return i.insertedKey=u}},{objectType:m.GanttDataObjectNames.task,getKey:function(){return i.predecessorId},updateKey:function(u){return i.predecessorId=u}},{objectType:m.GanttDataObjectNames.task,getKey:function(){return i.successorId},updateKey:function(u){return i.successorId=u}}]},enumerable:!1,configurable:!0}),l})(s(7917).HistoryItem);o.InsertDependencyHistoryItem=p},5865:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveDependencyHistoryItem=void 0;var d=s(655),f=s(6124),m=(function(p){function n(l,i){var u=p.call(this,l)||this;return u.dependencyId=i,u}return d.__extends(n,p),n.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},n.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var l=this;return[{objectType:f.GanttDataObjectNames.dependency,getKey:function(){return l.dependencyId},updateKey:function(i){return l.dependencyId=i}},{objectType:f.GanttDataObjectNames.task,getKey:function(){var i;return(i=l.dependency)===null||i===void 0?void 0:i.predecessorId},updateKey:function(i){return l.dependency.predecessorId=i}},{objectType:f.GanttDataObjectNames.task,getKey:function(){var i;return(i=l.dependency)===null||i===void 0?void 0:i.successorId},updateKey:function(i){return l.dependency.successorId=i}}]},enumerable:!1,configurable:!0}),n})(s(7917).HistoryItem);o.RemoveDependencyHistoryItem=m},7917:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HistoryItem=void 0;var s=(function(){function d(f){this.setModelManipulator(f)}return d.prototype.setModelManipulator=function(f){this.modelManipulator=f},Object.defineProperty(d.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),d})();o.HistoryItem=s},5221:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HistoryItemInfo=void 0;var s=function(d,f){f===void 0&&(f=!1),this.item=d,this.isUndo=f};o.HistoryItemInfo=s},3064:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HistoryItemState=void 0;var s=function(d,f){this.id=d,this.value=f};o.HistoryItemState=s},3683:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AssignResourceHistoryItem=void 0;var d=s(655),f=s(7917),m=s(6124),p=s(8679),n=(function(l){function i(u,a,y){var v=l.call(this,u)||this;return v.resourceId=a,v.taskId=y,v}return d.__extends(i,l),i.prototype.redo=function(){var u;(u=this.insertedKey)!==null&&u!==void 0||(this.insertedKey=p.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},i.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var u=this;return[{objectType:m.GanttDataObjectNames.resourceAssignment,getKey:function(){return u.insertedKey},updateKey:function(a){return u.insertedKey=a}},{objectType:m.GanttDataObjectNames.task,getKey:function(){return u.taskId},updateKey:function(a){return u.taskId=a}},{objectType:m.GanttDataObjectNames.resource,getKey:function(){return u.resourceId},updateKey:function(a){return u.resourceId=a}}]},enumerable:!1,configurable:!0}),i})(f.HistoryItem);o.AssignResourceHistoryItem=n},1493:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DeassignResourceHistoryItem=void 0;var d=s(655),f=s(7917),m=s(6124),p=(function(n){function l(i,u){var a=n.call(this,i)||this;return a.assignmentId=u,a}return d.__extends(l,n),l.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},l.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(l.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:m.GanttDataObjectNames.resourceAssignment,getKey:function(){return i.assignmentId},updateKey:function(u){return i.assignmentId=u}},{objectType:m.GanttDataObjectNames.task,getKey:function(){var u;return(u=i.assignment)===null||u===void 0?void 0:u.taskId},updateKey:function(u){return i.assignment.taskId=u}},{objectType:m.GanttDataObjectNames.resource,getKey:function(){var u;return(u=i.assignment)===null||u===void 0?void 0:u.resourceId},updateKey:function(u){return i.assignment.resourceId=u}}]},enumerable:!1,configurable:!0}),l})(f.HistoryItem);o.DeassignResourceHistoryItem=p},2961:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CreateResourceHistoryItem=void 0;var d=s(655),f=s(7917),m=s(6124),p=s(8679),n=(function(l){function i(u,a,y,v){y===void 0&&(y="");var w=l.call(this,u)||this;return w.text=a,w.color=y,w.createCallback=v,w}return d.__extends(i,l),i.prototype.redo=function(){var u;(u=this.insertedKey)!==null&&u!==void 0||(this.insertedKey=p.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},i.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var u=this;return[{objectType:m.GanttDataObjectNames.resource,getKey:function(){return u.insertedKey},updateKey:function(a){return u.insertedKey=a}}]},enumerable:!1,configurable:!0}),i})(f.HistoryItem);o.CreateResourceHistoryItem=n},4641:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceColorHistoryItem=void 0;var d=s(655),f=(function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(p,m),p.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},p})(s(7049).ResourcePropertiesHistoryItemBase);o.ResourceColorHistoryItem=f},7049:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcePropertiesHistoryItemBase=void 0;var d=s(655),f=s(6124),m=(function(p){function n(l,i,u){var a=p.call(this,l)||this;return a.resourceId=i,a.newValue=u,a}return d.__extends(n,p),n.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},n.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},n.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var l=this;return[{objectType:f.GanttDataObjectNames.resource,getKey:function(){return l.resourceId},updateKey:function(i){return l.resourceId=i}}]},enumerable:!1,configurable:!0}),n})(s(7917).HistoryItem);o.ResourcePropertiesHistoryItemBase=m},7466:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveResourceHistoryItem=void 0;var d=s(655),f=s(9751),m=s(6124),p=(function(n){function l(i,u){var a=n.call(this)||this;return a.modelManipulator=i,a.resourceId=u,a}return d.__extends(l,n),l.prototype.redo=function(){n.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},l.prototype.undo=function(){var i=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){i.resource.color&&i.modelManipulator.resource.properties.color.setValue(i.resource.internalId,i.resource.color),window.setTimeout((function(){return n.prototype.undo.call(i)}),0)}))},l.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){})),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),n.prototype.undo.call(this)},Object.defineProperty(l.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:m.GanttDataObjectNames.resource,getKey:function(){return i.resourceId},updateKey:function(u){return i.resourceId=u}}]},enumerable:!1,configurable:!0}),l})(f.CompositionHistoryItem);o.RemoveResourceHistoryItem=p},1284:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CreateTaskHistoryItem=void 0;var d=s(655),f=s(8679),m=s(6124),p=(function(n){function l(i,u){var a=n.call(this,i)||this;return a.data=u,a}return d.__extends(l,n),l.prototype.redo=function(){var i;(i=this.insertedKey)!==null&&i!==void 0||(this.insertedKey=f.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},l.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(l.prototype,"keyUpdaters",{get:function(){var i,u=this,a=[{objectType:m.GanttDataObjectNames.task,getKey:function(){return u.insertedKey},updateKey:function(y){return u.insertedKey=y}}];return!((i=this.data)===null||i===void 0)&&i.parentId&&a.push({objectType:m.GanttDataObjectNames.task,getKey:function(){var y;return(y=u.data)===null||y===void 0?void 0:y.parentId},updateKey:function(y){return u.data.parentId=y}}),a},enumerable:!1,configurable:!0}),l})(s(7917).HistoryItem);o.CreateTaskHistoryItem=p},9599:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveTaskHistoryItem=void 0;var d=s(655),f=s(6124),m=s(9751),p=(function(n){function l(i,u){var a=n.call(this)||this;return a.modelManipulator=i,a.taskId=u,a}return d.__extends(l,n),l.prototype.redo=function(){n.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},l.prototype.undo=function(){var i=this;this.modelManipulator.task.create(this.task,this.taskId,(function(){window.setTimeout((function(){return n.prototype.undo.call(i)}),0)}))},l.prototype.undoItemsQuery=function(){var i;this.modelManipulator.task.create(this.task,this.taskId);for(var u=this.historyItems.length-1;i=this.historyItems[u];u--)i instanceof m.CompositionHistoryItem?i.undoItemsQuery():i.undo()},Object.defineProperty(l.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:f.GanttDataObjectNames.task,getKey:function(){return i.taskId},updateKey:function(u){return i.taskId=u}},{objectType:f.GanttDataObjectNames.task,getKey:function(){var u;return(u=i.task)===null||u===void 0?void 0:u.parentId},updateKey:function(u){return i.task.parentId=u}}]},enumerable:!1,configurable:!0}),l})(m.CompositionHistoryItem);o.RemoveTaskHistoryItem=p},9496:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UpdateTaskHistoryItem=void 0;var d=s(655),f=s(6124),m=s(7917),p=s(3064),n=(function(l){function i(u,a,y){var v=l.call(this,u)||this;return v.taskId=a,v.newValues=y,v}return d.__extends(i,l),i.prototype.redo=function(){var u=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new p.HistoryItemState(this.taskId,u)},i.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var u=this;return[{objectType:f.GanttDataObjectNames.task,getKey:function(){return u.taskId},updateKey:function(a){return u.taskId=a}}]},enumerable:!1,configurable:!0}),i})(m.HistoryItem);o.UpdateTaskHistoryItem=n},6382:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseManipulator=void 0;var s=(function(){function d(f,m){this.viewModel=f,this.dispatcher=m}return d.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(d.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),d})();o.BaseManipulator=s},1178:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskDependencyManipulator=void 0;var d=s(655),f=s(6124),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.insertDependency=function(l,i,u,a){var y=this.viewModel;y.onBeginDataObjectCreate();var v=y.dependencies.createItem();return v.predecessorId=l,v.successorId=i,v.type=u,a&&(v.internalId=a),v.id=v.internalId,y.dependencies.add(v),y.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(v.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(v),(function(w){var T=v.internalId;v.updateId(w),y.processServerInsertedKey(T,v.internalId,f.GanttDataObjectNames.dependency)}),this.getErrorCallback()),y.onEndDataObjectCreate(),v},n.prototype.removeDependency=function(l){var i=this.viewModel.dependencies.getItemById(l);return this.viewModel.dependencies.remove(i),this.dispatcher.notifyDependencyRemoved(i.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(i)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(i.internalId),i},n.prototype.getObjectForDataSource=function(l){var i=this.viewModel.tasks.getItemById(l.predecessorId),u=this.viewModel.tasks.getItemById(l.successorId);return{id:l.id,predecessorId:i.id,successorId:u.id,type:l.type}},n})(s(6382).BaseManipulator);o.TaskDependencyManipulator=m},9650:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ModelManipulator=void 0;var d=s(1178),f=s(7518),m=s(728),p=function(n,l){this.task=new m.TaskManipulator(n,l),this.dependency=new d.TaskDependencyManipulator(n,l),this.resource=new f.ResourcesManipulator(n,l),this.dispatcher=l};o.ModelManipulator=p},4596:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceColorManipulator=void 0;var d=s(655),f=(function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(p,m),p.prototype.getPropertyValue=function(n){return n.color},p.prototype.setPropertyValue=function(n,l){n.color=l,this.dispatcher.notifyResourceColorChanged(n.id,l,this.getErrorCallback())},p})(s(7470).ResourcePropertyManipulator);o.ResourceColorManipulator=f},79:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcePropertiesManipulator=void 0;var d=s(655),f=s(6382),m=s(4596),p=(function(n){function l(i,u){var a=n.call(this,i,u)||this;return a.color=new m.ResourceColorManipulator(i,u),a}return d.__extends(l,n),l})(f.BaseManipulator);o.ResourcePropertiesManipulator=p},7470:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcePropertyManipulator=void 0;var d=s(655),f=s(3064),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.setValue=function(l,i){var u=this,a=this.viewModel.resources.getItemById(l),y=new f.HistoryItemState(l,this.getPropertyValue(a));return this.setPropertyValue(a,i),this.viewModel.assignments.items.filter((function(v){return v.resourceId===a.internalId})).forEach((function(v){var w=u.viewModel.findItem(v.taskId).visibleIndex;u.renderHelper.recreateTaskElement(w)})),y},n.prototype.restoreValue=function(l){var i=this;if(l){var u=l.value,a=this.viewModel.resources.getItemById(l.id);this.setPropertyValue(a,u),this.viewModel.assignments.items.filter((function(y){return y.resourceId===a.internalId})).forEach((function(y){var v=i.viewModel.findItem(y.taskId).visibleIndex;i.renderHelper.recreateTaskElement(v)}))}},n})(s(6382).BaseManipulator);o.ResourcePropertyManipulator=m},7518:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourcesManipulator=void 0;var d=s(655),f=s(6124),m=s(6382),p=s(79),n=(function(l){function i(u,a){var y=l.call(this,u,a)||this;return y.properties=new p.ResourcePropertiesManipulator(u,a),y}return d.__extends(i,l),i.prototype.create=function(u,a,y,v){var w=this.viewModel;w.onBeginDataObjectCreate();var T=w.resources.createItem();return T.text=u,a&&(T.color=a),y&&(T.internalId=y),T.id=T.internalId,this.viewModel.resources.add(T),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(T),(function(k){var I=T.internalId;T.updateId(k),w.processServerInsertedKey(I,T.internalId,f.GanttDataObjectNames.resource),v&&v(k)}),this.getErrorCallback()),w.onEndDataObjectCreate(),T},i.prototype.remove=function(u){var a=this.viewModel.resources.getItemById(u);if(!a)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter((function(y){return y.resourceId===u})).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(a),this.dispatcher.notifyResourceRemoved(a.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(a)),a},i.prototype.assign=function(u,a,y){var v=this.viewModel;v.onBeginDataObjectCreate();var w=v.assignments.createItem();return w.resourceId=u,w.taskId=a,y&&(w.internalId=y),w.id=w.internalId,this.viewModel.assignments.add(w),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(w),(function(T){var k=w.internalId;w.updateId(T),v.processServerInsertedKey(k,w.internalId,f.GanttDataObjectNames.resourceAssignment)}),this.getErrorCallback()),this.viewModel.updateModel(),v.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),w},i.prototype.deassig=function(u){var a=this.viewModel.assignments.getItemById(u);return this.viewModel.assignments.remove(a),this.dispatcher.notifyResourceUnassigned(a.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(a)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),a},i.prototype.getResourceObjectForDataSource=function(u){return{id:u.id,text:u.text}},i.prototype.getResourceAssignmentObjectForDataSource=function(u){return{id:u.id,taskId:this.viewModel.tasks.getItemById(u.taskId).id,resourceId:this.viewModel.resources.getItemById(u.resourceId).id}},i})(m.BaseManipulator);o.ResourcesManipulator=n},728:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskManipulator=void 0;var d=s(655),f=s(2491),m=s(6124),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.create=function(i,u,a){var y=this,v=this.viewModel;v.onBeginDataObjectCreate();var w=v.tasks.createItem();w.start=i.start,w.end=i.end,w.title=i.title,w.progress=i.progress,i.color&&(w.color=i.color);var T=v.tasks.getItemById(i.parentId);return T&&(T.expanded=!0),w.parentId=i.parentId,u&&(w.internalId=u),w.id=w.internalId,v.tasks.add(w),v.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(w),(function(k){var I=w.internalId;if(w.updateId(k),v.processServerInsertedKey(I,w.internalId,m.GanttDataObjectNames.task),a&&a(),y.viewModel.requireFirstLoadParentAutoCalc){var C=v.getCurrentTaskData().map((function(D){return D.parentId===""&&(D.parentId=null),D}));y.dispatcher.notifyParentDataRecalculated(C)}}),this.getErrorCallback()),v.onEndDataObjectCreate(),v.owner.resetAndUpdate(),w},l.prototype.remove=function(i){var u=this.viewModel.tasks.getItemById(i);if(!u)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter((function(a){return a.predecessorId==i||a.successorId==i})).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter((function(a){return a.taskId==i})).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(u),this.dispatcher.notifyTaskRemoved(u.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(u)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),u},l.prototype.update=function(i,u){var a=this.viewModel.tasks.getItemById(i),y={};Object.keys(u).forEach((function(w){(0,f.isDefined)(a[w])&&(y[w]=a[w],a[w]=u[w])}));var v=this.viewModel.findItem(i);return v&&this.renderHelper.recreateTaskElement(v.visibleIndex),this.dispatcher.notifyTaskUpdated(a.id,u,this.getErrorCallback()),y},l.prototype.getObjectForDataSource=function(i){return this.viewModel.getTaskObjectForDataSource(i)},l})(s(6382).BaseManipulator);o.TaskManipulator=p},2601:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttJsonUtils=void 0;var d=s(9937),f=(function(){function m(){}return m.parseJson=function(p){return d.JsonUtils.isValid(p)?JSON.parse(p):null},m})();o.GanttJsonUtils=f},8478:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ValidationController=void 0;var d=s(655),f=s(2491),m=s(9201),p=s(5950),n=s(9496),l=s(858),i=s(7880),u=s(4927),a=(function(){function y(v){this.lockPredecessorToSuccessor=!0,this.settings=v}return Object.defineProperty(y.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),y.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},y.prototype.checkStartDependencies=function(v,w){var T=this,k=[],I=this.viewModel.tasks.getItemById(v);return this.viewModel.dependencies.items.filter((function(C){return C.successorId===v})).forEach((function(C){var D=T.viewModel.tasks.getItemById(C.predecessorId);(C.type===p.DependencyType.FS&&D.end>w||C.type===p.DependencyType.SS&&D.start>w)&&k.push(new u.ValidationError(C.internalId,!0)),(C.type===p.DependencyType.FS&&D.end.valueOf()===I.start.valueOf()&&w>D.end||C.type===p.DependencyType.SS&&D.start.valueOf()===I.start.valueOf()&&w>D.start)&&k.push(new u.ValidationError(C.internalId))})),k},y.prototype.checkEndDependencies=function(v,w){var T=this,k=[],I=this.viewModel.tasks.getItemById(v);return this.viewModel.dependencies.items.filter((function(C){return C.successorId===v})).forEach((function(C){var D=T.viewModel.tasks.getItemById(C.predecessorId);(C.type===p.DependencyType.SF&&D.start>w||C.type===p.DependencyType.FF&&D.end>w)&&k.push(new u.ValidationError(C.internalId,!0)),(C.type===p.DependencyType.SF&&D.start.valueOf()===I.end.valueOf()&&w>D.start||C.type===p.DependencyType.FF&&D.end.valueOf()===I.end.valueOf()&&w>D.end)&&k.push(new u.ValidationError(C.internalId))})),k},y.prototype.moveEndDependTasks=function(v,w,T){var k=this;T===void 0&&(T=null);var I=this.viewModel.dependencies.items.filter((function(D){return D.predecessorId===v&&!D.isStartDependency})),C=this.viewModel.tasks.getItemById(v);I.forEach((function(D){var P=k.viewModel.tasks.getItemById(D.successorId);if(!(!P||T&&k.viewModel.checkParent(P.internalId,T)||P.parentId===C.id)){var A=new l.DateRange(new Date(P.start.getTime()),new Date(P.end.getTime())),R=new l.DateRange(new Date(P.start.getTime()),new Date(P.end.getTime())),z=C.end.getTime()-w.getTime(),B=k.enablePredecessorGap?C.end:w;if(D.type===p.DependencyType.FS&&(P.start<B||k.lockPredecessorToSuccessor&&P.start.getTime()===w.getTime())?(R.start.setTime(C.end.getTime()),R.end.setTime(R.start.getTime()+(P.end.getTime()-P.start.getTime())),k.correctMoving(P.internalId,R)):D.type===p.DependencyType.FF&&(P.end<B||k.lockPredecessorToSuccessor&&P.end.getTime()===w.getTime())?(R.start.setTime(C.end.getTime()-(P.end.getTime()-P.start.getTime())),R.end.setTime(C.end.getTime()),k.correctMoving(P.internalId,R)):k.enablePredecessorGap||(R.start.setTime(P.start.getTime()+z),R.end.setTime(P.end.getTime()+z)),!A.equal(R)){var N={start:R.start,end:R.end};k.history.addAndRedo(new n.UpdateTaskHistoryItem(k.modelManipulator,D.successorId,N)),k.moveRelatedTasks(D,A,P,R)}}}))},y.prototype.moveStartDependTasks=function(v,w,T){var k=this;T===void 0&&(T=null);var I=this.viewModel.dependencies.items.filter((function(D){return D.predecessorId===v&&D.isStartDependency})),C=this.viewModel.tasks.getItemById(v);I.forEach((function(D){var P=k.viewModel.tasks.getItemById(D.successorId);if(!(!P||T&&k.viewModel.checkParent(P.internalId,T)||P.parentId===C.id)){var A=new l.DateRange(new Date(P.start.getTime()),new Date(P.end.getTime())),R=new l.DateRange(new Date(P.start.getTime()),new Date(P.end.getTime())),z=C.start.getTime()-w.getTime(),B=k.enablePredecessorGap?C.start:w;if(D.type===p.DependencyType.SF&&(P.end<B||k.lockPredecessorToSuccessor&&P.end.getTime()===w.getTime())?(R.start.setTime(C.start.getTime()-(P.end.getTime()-P.start.getTime())),R.end.setTime(C.start.getTime()),k.correctMoving(P.internalId,R)):D.type===p.DependencyType.SS&&(P.start<B||k.lockPredecessorToSuccessor&&P.start.getTime()===w.getTime())?(R.start.setTime(C.start.getTime()),R.end.setTime(C.start.getTime()+(P.end.getTime()-P.start.getTime())),k.correctMoving(P.internalId,R)):k.enablePredecessorGap||(R.start.setTime(P.start.getTime()+z),R.end.setTime(P.end.getTime()+z)),!A.equal(R)){var N={start:R.start,end:R.end};k.history.addAndRedo(new n.UpdateTaskHistoryItem(k.modelManipulator,D.successorId,N)),k.moveRelatedTasks(D,A,P,R)}}}))},y.prototype.moveRelatedTasks=function(v,w,T,k){var I=k.start.getTime()-w.start.getTime();this.correctParentsOnChildMoving(T.internalId,I),this.moveStartDependTasks(v.successorId,w.start),this.moveEndDependTasks(v.successorId,w.end)},y.prototype.getCorrectDateRange=function(v,w,T){var k=this,I=new l.DateRange(new Date(w),new Date(T));return d.__spreadArray(d.__spreadArray([],this.checkStartDependencies(v,I.start),!0),this.checkEndDependencies(v,I.end),!0).filter((function(C){return C.critical})).forEach((function(C){var D=k.viewModel.dependencies.getItemById(C.dependencyId),P=k.viewModel.tasks.getItemById(D.predecessorId);D.type===p.DependencyType.FS&&I.start<P.end&&I.start.setTime(P.end.getTime()),D.type===p.DependencyType.SS&&I.start<P.start&&I.start.setTime(P.start.getTime()),D.type===p.DependencyType.FF&&I.end<P.end&&I.end.setTime(P.end.getTime()),D.type===p.DependencyType.SF&&I.end<P.start&&I.end.setTime(P.start.getTime())})),I},y.prototype.correctMoving=function(v,w){var T=this,k=w.end.getTime()-w.start.getTime();return d.__spreadArray(d.__spreadArray([],this.checkStartDependencies(v,w.start),!0),this.checkEndDependencies(v,w.end),!0).filter((function(I){return I.critical})).forEach((function(I){var C=T.viewModel.dependencies.getItemById(I.dependencyId),D=T.viewModel.tasks.getItemById(C.predecessorId);C.type===p.DependencyType.FS&&w.start<D.end&&(w.start.setTime(D.end.getTime()),w.end.setTime(w.start.getTime()+k)),C.type===p.DependencyType.SS&&w.start<D.start&&(w.start.setTime(D.start.getTime()),w.end.setTime(w.start.getTime()+k)),C.type===p.DependencyType.FF&&w.end<D.end&&(w.end.setTime(D.end.getTime()),w.start.setTime(w.end.getTime()-k)),C.type===p.DependencyType.SF&&w.end<D.start&&(w.end.setTime(D.start.getTime()),w.start.setTime(w.end.getTime()-k))})),w},y.prototype.recalculateParents=function(v,w){for(var T=v&&v.parent;T&&T.task;){for(var k=T.children,I=this.range.end,C=this.range.start,D=0,P=0,A={id:T.task.internalId},R=0;R<k.length;R++){var z=k[R].task;if(z.isValid()){I=i.DateTimeUtils.getMinDate(I,z.start),C=i.DateTimeUtils.getMaxDate(C,z.end);var B=z.getDuration();D+=z.progress*B,P+=B}}i.DateTimeUtils.areDatesEqual(T.task.start,I)||(A.start=I),i.DateTimeUtils.areDatesEqual(T.task.end,C)||(A.end=C),A.oldStart=T.task.start,A.oldEnd=T.task.end,(D=P>0?Math.round(D/P):0)!==T.task.progress&&(A.progress=D),w(A),T=T.parent}},y.prototype.updateParentsRangeByChild=function(v){var w=this;this.recalculateParents(this.viewModel.findItem(v),(function(T){if((0,f.isDefined)(T.id)){var k=w.history,I=w.modelManipulator;(0,f.isDefined)(T.start)&&(k.addAndRedo(new n.UpdateTaskHistoryItem(I,T.id,{start:T.start})),w.moveStartDependTasks(T.id,T.oldStart)),(0,f.isDefined)(T.end)&&(k.addAndRedo(new n.UpdateTaskHistoryItem(I,T.id,{end:T.end})),w.moveEndDependTasks(T.id,T.oldEnd)),(0,f.isDefined)(T.progress)&&k.addAndRedo(new n.UpdateTaskHistoryItem(I,T.id,{progress:T.progress}))}}))},y.prototype.updateChildRangeByParent=function(v,w,T){var k=this.viewModel.findItem(v);if(k&&k.children.length!==0)for(var I=k.children,C=0;C<I.length;C++){var D=I[C].task,P=new Date(D.start.getTime()+w),A=m.DateUtils.getRangeMSPeriod(D.start,D.end),R=m.DateUtils.getDSTCorrectedTaskEnd(P,A);T.push({id:D.internalId,start:D.start,end:D.end}),this.history.addAndRedo(new n.UpdateTaskHistoryItem(this.modelManipulator,D.internalId,{start:P,end:R})),this.updateChildRangeByParent(D.internalId,w,T)}},y.prototype.updateParentsIfRequired=function(v){this._parentAutoCalc&&(this.updateParentsRangeByChild(v),this.updateOwnerInAutoParentMode())},y.prototype.correctParentsOnChildMoving=function(v,w){var T=this;if(this._parentAutoCalc&&w!==0){this.updateParentsRangeByChild(v);var k=[];this.updateChildRangeByParent(v,w,k),this.isValidateDependenciesRequired&&k.forEach((function(I){T.moveStartDependTasks(I.id,I.start,v),T.moveEndDependTasks(I.id,I.end,v)})),this.updateOwnerInAutoParentMode()}},y.prototype.canCreateDependency=function(v,w){return this.viewModel.canCreateDependency(v,w)},y})();o.ValidationController=a},4927:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ValidationError=void 0;var s=function(d,f){f===void 0&&(f=!1),this.dependencyId=d,this.critical=f};o.ValidationError=s},6350:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ViewVisualModelDependencyInfo=void 0;var s=function(d,f,m){this.id=d,this.predecessor=f,this.type=m};o.ViewVisualModelDependencyInfo=s},3562:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ViewVisualModelItem=void 0;var d=s(2491),f=s(6353),m=(function(){function p(n,l){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=n,this.resources=l,this.children=new Array,this.isCustom=!1,this.size=new f.Size(0,0)}return Object.defineProperty(p.prototype,"resourceText",{get:function(){var n="";return this.resources.items.forEach((function(l){return n+=l.text+" "})),n},enumerable:!1,configurable:!0}),p.prototype.addChild=function(n){(0,d.isDefined)(n)&&this.children.indexOf(n)<0&&this.children.push(n)},p.prototype.removeChild=function(n){var l=this.children.indexOf(n);l>-1&&this.children.splice(l,1)},p.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},p.prototype.getVisible=function(){if(!this.visible)return!1;for(var n=this.parent;n;){if(!n.visible)return!1;n=n.parent}return!0},p.prototype.changeVisibility=function(n){this.visible=n},p.prototype.changeSelection=function(n){this.selected=n},p.prototype.setDependencies=function(n){n&&(this.dependencies=n.slice())},p})();o.ViewVisualModelItem=m},1408:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ViewVisualModel=void 0;var d=s(8828),f=s(9504),m=s(7380),p=s(9883),n=s(3562),l=s(6350),i=s(21),u=s(2491),a=s(6124),y=s(7352),v=s(2301),w=s(7437),T=(function(){function k(I,C,D,P,A,R,z){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=I,this.tasks=new f.TaskCollection,this.tasks.importFromObject(C),this.dependencies=new m.DependencyCollection,this.dependencies.importFromObject(D),this.resources=new d.ResourceCollection,this.resources.importFromObject(P),this.assignments=new p.ResourceAssignmentCollection,this.assignments.importFromObject(A),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new i.WorkingTimeCalculator(R,z),this.updateModel(!0)}return Object.defineProperty(k.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),k.prototype.updateModel=function(I){this._itemList.splice(0,this._itemList.length);for(var C=this.tasks.items,D=0;D<C.length;D++){var P=C[D];P&&this._itemList.push(new n.ViewVisualModelItem(P,this.getAssignedResources(P)))}this.createHierarchy(I),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},k.prototype.createHierarchy=function(I){var C=this;this.root=new n.ViewVisualModelItem(null,null);for(var D=this._itemList,P=D.reduce((function(N,Z){var ne,ie=(ne=Z.task)===null||ne===void 0?void 0:ne.internalId;return(0,u.isDefined)(ie)&&(N[ie]=Z),N}),{}),A=this.requireFirstLoadParentAutoCalc&&I,R=0;R<D.length;R++){var z=D[R],B=P[z.task.parentId]||this.root;z.parent=B,B.addChild(z),A&&this.owner.validationController.recalculateParents(z,(function(N){if((0,u.isDefined)(N.id)){var Z=C.tasks.getItemById(N.id);(0,u.isDefined)(N.start)&&(Z.start=N.start),(0,u.isDefined)(N.end)&&(Z.end=N.end),(0,u.isDefined)(N.progress)&&(Z.progress=N.progress)}}))}A&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},k.prototype.getCurrentTaskData=function(){var I=this;return this.tasks.items.map((function(C){return I.getTaskObjectForDataSource(C)}))},k.prototype.getTaskObjectForDataSource=function(I){var C=I.parentId&&this.tasks.getItemById(I.parentId),D=this.getRootTaskId(),P=D&&I.parentId===D?this.getRootRawValue():C==null?void 0:C.id;return{id:I.id,start:I.isValidStart()?I.start:null,end:I.isValidEnd()?I.end:null,duration:I.duration,description:I.description,parentId:P,progress:I.progress,color:I.color,taskType:I.taskType,title:I.title,customFields:I.customFields,expanded:I.expanded}},k.prototype.getDependencyObjectForDataSource=function(I){var C=I instanceof y.Dependency?I:this.getItemByPublicId("dependency",I);if(C){var D=this.convertInternalToPublicKey("task",C.predecessorId),P=this.convertInternalToPublicKey("task",C.successorId);return{id:C.id,predecessorId:(0,u.isDefined)(D)?D:C.predecessorId,successorId:(0,u.isDefined)(P)?P:C.successorId,type:C.type}}return null},k.prototype.getResourceObjectForDataSource=function(I){var C=I instanceof v.Resource?I:this.getItemByPublicId("resource",I);return C?{id:C.id,text:C.text,color:C.color}:null},k.prototype.getResourceAssignmentObjectForDataSource=function(I){var C=I instanceof w.ResourceAssignment?I:this.getItemByPublicId("assignment",I);if(C){var D=this.convertInternalToPublicKey("task",C.taskId),P=this.convertInternalToPublicKey("resource",C.resourceId);return{id:C.id,taskId:(0,u.isDefined)(D)?D:C.taskId,resourceId:(0,u.isDefined)(P)?P:C.resourceId}}return null},k.prototype.getRootRawValue=function(){var I,C,D;return(D=(C=(I=this.root.children[0])===null||I===void 0?void 0:I.task)===null||C===void 0?void 0:C.rawParentId)!==null&&D!==void 0?D:null},k.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},k.prototype.populateVisibleItems=function(I){var C=this,D=I===this.root;I&&(I.task||D)&&(D||(this._viewItemList.push(I),I.visibleIndex=this._viewItemList.length-1),(I.getExpanded()||I===this.root)&&I.children.forEach((function(P){return C.populateVisibleItems(P)})))},k.prototype.updateVisibleItemDependencies=function(){for(var I=this._viewItemList,C=0;C<I.length;C++){var D=I[C],P=this.getTasVisibleDependencies(D.task);D.setDependencies(P)}},k.prototype.getAssignedResources=function(I){var C=this,D=new d.ResourceCollection;return this.assignments.items.filter((function(P){return P.taskId==I.internalId})).forEach((function(P){D.add(C.resources.getItemById(P.resourceId))})),D},k.prototype.getTasVisibleDependencies=function(I){for(var C=new Array,D=I.internalId,P=this.dependencies.items.filter((function(B){return B.successorId==D})),A=0;A<P.length;A++){var R=P[A],z=this.findItem(R.predecessorId);z&&z.getVisible()&&C.push(new l.ViewVisualModelDependencyInfo(R.internalId,z,R.type))}return C},k.prototype.changeTaskExpanded=function(I,C){var D=this.tasks.getItemById(String(I));D&&(D.expanded=C,this.changed())},k.prototype.changeTaskVisibility=function(I,C){var D=this.findItem(I);D&&(D.visible=C,this.changed())},k.prototype.changeTaskSelected=function(I,C){var D=this._itemList.filter((function(R){return R.task&&R.task.internalId===I}))[0];if(D){D.selected=C;var P=this.findItem(I),A=P&&P.visibleIndex;A>-1&&this.renderHelper.recreateTaskElement(A)}},k.prototype.beginUpdate=function(){this._fLockCount++},k.prototype.endUpdate=function(){this._fLockCount--,this._fLockCount==0&&this.changed()},k.prototype.compareTaskOrder=function(I){var C=new f.TaskCollection;C.importFromObject(I);var D=C.items,P=this.tasks.items;if(D.length!==P.length)return!1;for(var A=0;A<D.length;A++){var R=D[A],z=P[A];if(R.id!==z.id)return!1}return!0},k.prototype.refreshTaskDataIfRequires=function(I){var C=!this.lockChangesProcessing&&!this.compareTaskOrder(I);if(C){var D=this.saveTaskInternalIds();this.tasks.importFromObject(I),this.restoreTaskInternalIds(D),this.updateModel()}return C},k.prototype.saveTaskInternalIds=function(){var I={};return this.tasks.items.map((function(C){return I[C.id]=C.internalId})),I},k.prototype.restoreTaskInternalIds=function(I){for(var C in I)if(Object.prototype.hasOwnProperty.call(I,C)){var D=this.tasks.getItemByPublicId(C);D&&(D.internalId=I[C])}},k.prototype.canCreateDependency=function(I,C){if(!I||!C||I===C)return!1;var D=!1;if(this.enableDependencyValidation){var P=this.getDependentTasksHash();D=this.parentAutoCalc?this.checkTasksInterdependence(I,C,P)||this.checkParent(I,C)||this.checkParent(C,I):this.checkDependencyChain([I],[C],P,[])}return!D},k.prototype.checkParent=function(I,C){return this.getTaskTreeLine(I).indexOf(C)>-1},k.prototype.getTaskTreeLine=function(I){var C=[I],D=this.findItem(I);if(D)for(D=D.parent;D!=null&&D.task;)C.push(D==null?void 0:D.task.internalId),D=D.parent;else for(var P=this.tasks.getItemById(I),A=this.tasks.getItemById(P==null?void 0:P.parentId);A;)C.push(A.id),A=this.tasks.getItemById(A.parentId);return C},k.prototype.getDependentTasksHash=function(){var I={};return this.dependencies.items.forEach((function(C){var D,P,A=C.predecessorId,R=C.successorId;(D=I[A])!==null&&D!==void 0||(I[A]=[]),I[A].indexOf(R)<0&&I[A].push(R),(P=I[R])!==null&&P!==void 0||(I[R]=[]),I[R].indexOf(A)<0&&I[R].push(A)})),I},k.prototype.checkTasksInterdependence=function(I,C,D){for(var P,A,R=this.getTaskTreeLine(I).reverse(),z=this.getTaskTreeLine(C).reverse(),B=0;B<R.length-1;B++){var N=R[B],Z=z.indexOf(N);Z>-1&&(P=R[B+1],A=z[Z+1])}return P||A||(P=R[0],A=z[0]),this.checkDependencyChain(this.getBranchIds(P),this.getBranchIds(A),D,[])},k.prototype.checkDependencyChain=function(I,C,D,P){if(I.some((function(z){return C.indexOf(z)>-1})))return!0;P.push.apply(P,I);for(var A=0;A<I.length;A++){var R=D[I[A]];if(R&&this.checkDependencyChain(R.filter((function(z){return P.indexOf(z)===-1})),C,D,P))return!0}return!1},k.prototype.getBranchIds=function(I){var C=this,D=[I],P=this.findItem(I),A=P==null?void 0:P.children;return A&&A.forEach((function(R){var z,B=(z=R.task)===null||z===void 0?void 0:z.internalId;B&&(D=D.concat(C.getBranchIds(B)))})),D},k.prototype.getTasksExpandedState=function(){var I=this.tasks.items,C={};return I.forEach((function(D){return C[D.id]=D.expanded})),C},k.prototype.applyTasksExpandedState=function(I){if(I){for(var C in this.beginUpdate(),I)Object.prototype.hasOwnProperty.call(I,C)&&this.changeTaskExpanded(C,I[C]);this.endUpdate()}},k.prototype.changed=function(){this._fLockCount===0&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},k.prototype.findItem=function(I){return this._viewItemList.filter((function(C){return C.task&&C.task.internalId===I}))[0]},Object.defineProperty(k.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),k.prototype.getTaskVisibility=function(I){var C=this.findItem(I);return!!C&&C.getVisible()},k.prototype.getTaskSelected=function(I){var C=this.findItem(I);return!!C&&C.selected},Object.defineProperty(k.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),k.prototype.updateRange=function(I){this._workTimeCalculator.updateRange(I)},k.prototype.taskHasChildrenByIndex=function(I){return this._viewItemList[I].children.length>0},k.prototype.taskHasChildren=function(I){var C=this.findItem(I);return C&&C.children.length>0},Object.defineProperty(k.prototype,"enableDependencyValidation",{get:function(){var I,C=this.owner&&this.owner.settings;return(I=C==null?void 0:C.validation)===null||I===void 0?void 0:I.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parentAutoCalc",{get:function(){var I=this.owner&&this.owner.settings;return I&&I.validation&&I.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"enablePredecessorGap",{get:function(){var I=this.owner&&this.owner.settings;return I&&I.validation&&I.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),k.prototype.isTaskToCalculateByChildren=function(I){return this.parentAutoCalc&&this.taskHasChildren(I)},k.prototype.hasTasks=function(){return this.tasks.length>0},k.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},k.prototype.convertPublicToInternalKey=function(I,C){var D=this.getItemByPublicId(I,C);return D&&D.internalId},k.prototype.convertInternalToPublicKey=function(I,C){var D=this.getItemByInternalId(I,C);return D&&D.id},k.prototype.getItemByPublicId=function(I,C){var D=C.toString();switch(I){case"task":return this.tasks.getItemByPublicId(D);case"dependency":return this.dependencies.getItemByPublicId(D);case"resource":return this.resources.getItemByPublicId(D);case"assignment":return this.assignments.getItemByPublicId(D)}return null},k.prototype.getItemByInternalId=function(I,C){switch(I){case"task":return this.tasks.getItemById(C);case"dependency":return this.dependencies.getItemById(C);case"resource":return this.resources.getItemById(C);case"assignment":return this.assignments.getItemById(C)}return null},k.prototype.findAssignment=function(I,C){var D=this.convertPublicToInternalKey("resource",I),P=this.convertPublicToInternalKey("task",C);return this.assignments.items.filter((function(A){return A.resourceId===D&&A.taskId===P}))[0]},k.prototype.findAllTaskAssignments=function(I){return this.assignments.items.filter((function(C){return C.taskId===I}))},k.prototype.getAllVisibleTaskIndices=function(I,C){var D,P=[];I!=null||(I=0),C!=null||(C=this._viewItemList.length-1);for(var A=I;A<=C;A++){var R=this._viewItemList[A];R!=null&&R.getVisible()&&(!((D=R==null?void 0:R.task)===null||D===void 0)&&D.isValid())&&P.push(A)}return P},k.prototype.getVisibleTasks=function(){var I=this;return this.tasks.items.filter((function(C){return C&&I.getTaskVisibility(C.internalId)&&C.isValid()}))},k.prototype.getVisibleDependencies=function(){var I=this.getVisibleTasks().map((function(C){return C.internalId}));return this.dependencies.items.filter((function(C){return C&&I.indexOf(C.successorId)>-1&&I.indexOf(C.predecessorId)>-1}))},k.prototype.getVisibleResourceAssignments=function(){var I=this.getVisibleTasks().map((function(C){return C.internalId}));return this.assignments.items.filter((function(C){return C&&I.indexOf(C.taskId)>-1}))},k.prototype.getVisibleResources=function(){for(var I=[],C=this.getVisibleResourceAssignments(),D=0;D<C.length;D++){var P=this.getItemByInternalId("resource",C[D].resourceId);P&&I.indexOf(P)===-1&&I.push(P)}return I},k.prototype.getRootTaskId=function(){var I;return(I=this.rootTaskId)!==null&&I!==void 0||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},k.prototype.calculateRootTaskId=function(){var I=this.items[0];if(!I)return null;for(;I.parent&&I.task;)I=I.parent;return I.children[0].task.parentId},k.prototype.getTaskMinStart=function(){var I=this.owner.dataRange.start;return this.tasks.items.forEach((function(C){C.isValid()&&C.start.getTime()<I.getTime()&&(I=C.start)})),I},k.prototype.getTaskMaxEnd=function(){var I=this.owner.dataRange.end;return this.tasks.items.forEach((function(C){C.isValid()&&C.end.getTime()>I.getTime()&&(I=C.end)})),I},k.prototype.processServerInsertedKey=function(I,C,D){var P;D===a.GanttDataObjectNames.task&&this.tasks.invalidate(),D===a.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),D===a.GanttDataObjectNames.resource&&this.resources.invalidate(),D===a.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),(P=this.owner)===null||P===void 0||P.updateHistoryObsoleteInsertedKey(I,C,D)},k.prototype.onBeginDataObjectCreate=function(){var I,C;(C=(I=this.owner).lockUpdateWithReload)===null||C===void 0||C.call(I)},k.prototype.onEndDataObjectCreate=function(){var I,C;(C=(I=this.owner).unlockUpdateWithReload)===null||C===void 0||C.call(I)},k})();o.ViewVisualModel=T},858:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DateRange=void 0;var s=(function(){function d(f,m){this.start=f,this.end=m}return d.prototype.equal=function(f){var m=!0;return m=(m=m&&this.start.getTime()===f.start.getTime())&&this.end.getTime()===f.end.getTime()},d})();o.DateRange=s},7880:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DateTimeUtils=void 0;var d=s(2753),f=s(9331),m=s(2491),p=s(858),n=s(7812),l=(function(){function i(){}return i.compareDates=function(u,a){return u&&a?a.getTime()-u.getTime():-1},i.areDatesEqual=function(u,a){return this.compareDates(u,a)==0},i.getMaxDate=function(u,a){return u||a?u?a&&this.compareDates(u,a)>0?a:u:a:null},i.getMinDate=function(u,a){return u||a?u?a?this.compareDates(u,a)>0?u:a:u:a:null},i.getDaysBetween=function(u,a){var y=Math.abs(a.getTime()-u.getTime());return Math.ceil(y/this.msInDay)},i.getWeeksBetween=function(u,a){var y=this.getDaysBetween(u,a),v=Math.floor(y/7);return u.getDay()>a.getDay()&&v++,v},i.getMonthsDifference=function(u,a){var y=this.compareDates(u,a),v=y>=0?u:a,w=y>=0?a:u;return 12*(w.getFullYear()-v.getFullYear())+(w.getMonth()-v.getMonth())},i.getYearsDifference=function(u,a){return Math.abs(a.getFullYear()-u.getFullYear())},i.getDayNumber=function(u){return Math.ceil(u.getTime()/this.msInDay)},i.getDateByDayNumber=function(u){var a=new Date(u*this.msInDay);return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a},i.addDays=function(u,a){return new Date(u.getTime()+a*this.msInDay)},i.checkDayOfMonth=function(u,a){return u==a.getDate()},i.checkDayOfWeek=function(u,a){return u==a.getDay()},i.checkMonth=function(u,a){return u==a.getMonth()},i.checkYear=function(u,a){return u==a.getFullYear()},i.checkDayOfWeekOccurrenceInMonth=function(u,a,y){var v=this.getSpecificDayOfWeekInMonthDates(a,u.getFullYear(),u.getMonth());return y==n.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(u,v[v.length-1]):this.areDatesEqual(u,v[y])},i.getFirstDayOfWeekInMonth=function(u,a){return new Date(u,a,1).getDay()},i.getSpecificDayOfWeekInMonthDates=function(u,a,y){for(var v=this.getFirstDayOfWeekInMonth(a,y),w=u>=v?u-v:u+7-v,T=new Array,k=new Date(a,y,w+1);k.getMonth()==y;)T.push(k),k=this.addDays(k,7);return T},i.getSpecificDayOfWeekInMonthDate=function(u,a,y,v){var w=this.getSpecificDayOfWeekInMonthDates(u,a,y);return v==n.DayOfWeekMonthlyOccurrence.Last?w[w.length-1]:w[v]},i.checkValidDayInMonth=function(u,a,y){return!(y<1||y>31||new Date(u,a,y).getMonth()!=a)},i.getNextMonth=function(u,a){return a===void 0&&(a=1),(u+a)%12},i.convertToDate=function(u){if(u instanceof Date)return new Date(u);var a=Date.parse(u);return isNaN(a)?null:new Date(a)},i.convertTimeRangeToDateRange=function(u,a){var y=this.getDateByDayNumber(a),v=y.getFullYear(),w=y.getMonth(),T=y.getDate(),k=u.start,I=new Date(v,w,T,k.hour,k.min,k.sec,k.msec),C=u.end,D=new Date(v,w,T,C.hour,C.min,C.sec,C.msec);return new p.DateRange(I,D)},i.convertToTimeRanges=function(u){var a=this;return u instanceof Array?u.map((function(y){return a.convertToTimeRange(y)})):this.parseTimeRanges(u)},i.convertToTimeRange=function(u){return u?u instanceof f.TimeRange?u:(0,m.isDefined)(u.start)&&(0,m.isDefined)(u.end)?new f.TimeRange(this.convertToTime(u.start),this.convertToTime(u.end)):this.parseTimeRange(u):null},i.convertToTime=function(u){return u?u instanceof d.Time?u:u instanceof Date?this.getTimeGromJsDate(u):this.parseTime(u):null},i.parseTimeRanges=function(u){var a=this;return u?u.split(/;|,/).map((function(y){return a.parseTimeRange(y)})).filter((function(y){return!!y})):null},i.parseTimeRange=function(u){if(!u)return null;var a=u.split("-"),y=a[0],v=a[1];return(0,m.isDefined)(y)&&(0,m.isDefined)(v)?new f.TimeRange(this.parseTime(y),this.parseTime(v)):null},i.parseTime=function(u){if(!u)return null;var a=u.split(":"),y=parseInt(a[0])||0,v=parseInt(a[1])||0,w=parseInt(a[2])||0,T=parseInt(a[3])||0;return new d.Time(y,v,w,T)},i.getTimeGromJsDate=function(u){if(!u)return null;var a=u.getHours(),y=u.getMinutes(),v=u.getSeconds(),w=u.getMilliseconds();return new d.Time(a,y,v,w)},i.caclTimeDifference=function(u,a){return a.getTimeInMilleconds()-u.getTimeInMilleconds()},i.areTimesEqual=function(u,a){return this.caclTimeDifference(u,a)==0},i.getMaxTime=function(u,a){return u||a?u?a&&this.caclTimeDifference(u,a)>0?a:u:a:null},i.getMinTime=function(u,a){return u||a?u?a?this.caclTimeDifference(u,a)>0?u:a:u:a:null},i.getLastTimeOfDay=function(){return new d.Time(23,59,59,999)},i.msInDay=864e5,i})();o.DateTimeUtils=l},8719:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DayOfWeek=void 0,(function(s){s[s.Sunday=0]="Sunday",s[s.Monday=1]="Monday",s[s.Tuesday=2]="Tuesday",s[s.Wednesday=3]="Wednesday",s[s.Thursday=4]="Thursday",s[s.Friday=5]="Friday",s[s.Saturday=6]="Saturday"})(o.DayOfWeek||(o.DayOfWeek={}))},7812:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DayOfWeekMonthlyOccurrence=void 0,(function(s){s[s.First=0]="First",s[s.Second=1]="Second",s[s.Third=2]="Third",s[s.Forth=3]="Forth",s[s.Last=4]="Last"})(o.DayOfWeekMonthlyOccurrence||(o.DayOfWeekMonthlyOccurrence={}))},1805:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DayWorkingTimeInfo=void 0;var d=s(9331),f=s(7880),m=s(2753),p=(function(){function n(l,i,u){l===void 0&&(l=0),i===void 0&&(i=!0),u===void 0&&(u=null),this._workingIntervals=new Array,this.dayNumber=l,this.isWorkDay=i,this.addWorkingIntervals(u)}return n.prototype.addWorkingIntervals=function(l){l&&(this._workingIntervals=this._workingIntervals.concat(l.filter((function(i){return!!i}))),this.rearrangeWorkingIntervals())},n.prototype.rearrangeWorkingIntervals=function(){for(var l=0;l<this._workingIntervals.length;l++)this.concatWithIntersectedRanges(this._workingIntervals[l]);this.sortIntervals()},n.prototype.concatWithIntersectedRanges=function(l){var i=this;this.getIntersectedIntervals(l).forEach((function(u){l.concatWith(u),i.removeInterval(u)}))},n.prototype.getIntersectedIntervals=function(l){return this._workingIntervals.filter((function(i){return i.hasIntersect(l)&&i!==l}))},n.prototype.sortIntervals=function(){this._workingIntervals.sort((function(l,i){return f.DateTimeUtils.caclTimeDifference(i.start,l.start)}))},n.prototype.removeInterval=function(l){var i=this._workingIntervals.indexOf(l);i>-1&&i<this._workingIntervals.length&&this._workingIntervals.splice(i,1)},n.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(n.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"noWorkingIntervals",{get:function(){var l=new Array;if(this.isWorkDay&&this._workingIntervals.length===0)return l;var i=this._workingIntervals.map((function(w){return w.end}));i.splice(0,0,new m.Time);var u=this._workingIntervals.map((function(w){return w.start}));u.push(f.DateTimeUtils.getLastTimeOfDay());for(var a=0;a<i.length;a++){var y=i[a],v=u[a];f.DateTimeUtils.areTimesEqual(y,v)||l.push(new d.TimeRange(y,v))}return l},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(l){this._isWorkDay=l,l||this.clearIntervals()},enumerable:!1,configurable:!0}),n})();o.DayWorkingTimeInfo=p},3110:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Month=void 0,(function(s){s[s.January=0]="January",s[s.February=1]="February",s[s.March=2]="March",s[s.April=3]="April",s[s.May=4]="May",s[s.June=5]="June",s[s.July=6]="July",s[s.August=7]="August",s[s.September=8]="September",s[s.October=9]="October",s[s.November=10]="November",s[s.December=11]="December"})(o.Month||(o.Month={}))},7872:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MonthInfo=void 0;var d=s(7880),f=(function(){function m(p,n){this.month=p,this.year=n}return m.prototype.addMonths=function(p){var n=d.DateTimeUtils.getNextMonth(this.month,p),l=Math.floor(p/12);n<this.month&&++l,this.month=n,this.year+=l},m})();o.MonthInfo=f},4902:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Daily=void 0;var d=s(655),f=s(1789),m=s(7880),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.checkDate=function(i){return!0},l.prototype.checkInterval=function(i){return m.DateTimeUtils.getDaysBetween(this.start,i)%this.interval==0},l.prototype.calculatePointByInterval=function(i){var u=this.interval;return this.isRecurrencePoint(i)||(u-=m.DateTimeUtils.getDaysBetween(this.start,i)%this.interval),m.DateTimeUtils.addDays(i,u)},l.prototype.calculateNearestPoint=function(i){return m.DateTimeUtils.addDays(i,1)},l})(f.RecurrenceBase);o.Daily=p},4390:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Monthly=void 0;var d=s(655),f=s(1789),m=s(7880),p=s(7872),n=(function(l){function i(){return l!==null&&l.apply(this,arguments)||this}return d.__extends(i,l),i.prototype.checkDate=function(u){return this._calculateByDayOfWeek?m.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(u,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):m.DateTimeUtils.checkDayOfMonth(this.dayInternal,u)},i.prototype.checkInterval=function(u){return m.DateTimeUtils.getMonthsDifference(this.start,u)%this.interval==0},i.prototype.calculatePointByInterval=function(u){var a=this.start,y=m.DateTimeUtils.getMonthsDifference(a,u),v=Math.floor(y/this.interval)*this.interval,w=new p.MonthInfo(a.getMonth(),a.getFullYear());w.addMonths(v);var T=this.getSpecDayInMonth(w.year,w.month);return m.DateTimeUtils.compareDates(T,u)>=0&&(w.addMonths(this.interval),T=this.getSpecDayInMonth(w.year,w.month)),T},i.prototype.calculateNearestPoint=function(u){var a=u.getMonth(),y=u.getFullYear(),v=this.getSpecDayInMonth(y,a);if(m.DateTimeUtils.compareDates(v,u)>=0){var w=new p.MonthInfo(a,y);w.addMonths(1),v=this.getSpecDayInMonth(w.year,w.month)}return v},Object.defineProperty(i.prototype,"day",{get:function(){return this.dayInternal},set:function(u){this.dayInternal=u},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(u){this.dayOfWeekInternal=u},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(u){this.dayOfWeekOccurrenceInternal=u},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(u){this._calculateByDayOfWeek=u},enumerable:!1,configurable:!0}),i})(f.RecurrenceBase);o.Monthly=n},1789:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RecurrenceBase=void 0;var d=s(655),f=s(8719),m=s(7812),p=s(3110),n=s(2491),l=s(7880),i=s(9612),u=(function(a){function y(v,w,T,k){v===void 0&&(v=null),w===void 0&&(w=null),T===void 0&&(T=1),k===void 0&&(k=0);var I=a.call(this)||this;return I._start=null,I._end=null,I._interval=1,I._occurrenceCount=0,I._dayOfWeek=0,I._day=1,I._dayOfWeekOccurrence=0,I._month=0,I._calculateByDayOfWeek=!1,I.start=v,I.end=w,I.interval=T,I.occurrenceCount=k,I}return d.__extends(y,a),y.prototype.assignFromObject=function(v){(0,n.isDefined)(v)&&(a.prototype.assignFromObject.call(this,v),this.start=l.DateTimeUtils.convertToDate(v.start),this.end=l.DateTimeUtils.convertToDate(v.end),(0,n.isDefined)(v.interval)&&(this.interval=v.interval),(0,n.isDefined)(v.occurrenceCount)&&(this.occurrenceCount=v.occurrenceCount),(0,n.isDefined)(v.dayOfWeek)&&(this.dayOfWeekInternal=i.RecurrenceFactory.getEnumValue(f.DayOfWeek,v.dayOfWeek)),(0,n.isDefined)(v.day)&&(this.dayInternal=v.day),(0,n.isDefined)(v.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=i.RecurrenceFactory.getEnumValue(m.DayOfWeekMonthlyOccurrence,v.dayOfWeekOccurrence)),(0,n.isDefined)(v.month)&&(this.monthInternal=i.RecurrenceFactory.getEnumValue(p.Month,v.month)),(0,n.isDefined)(v.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!v.calculateByDayOfWeek))},y.prototype.calculatePoints=function(v,w){if(!v||!w)return new Array;var T=l.DateTimeUtils.getMaxDate(v,this._start),k=l.DateTimeUtils.getMinDate(w,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(T,k):this.calculatePointsByDateRange(T,k)},y.prototype.calculatePointsByOccurrenceCount=function(v,w){for(var T=new Array,k=this.getFirstPoint(v);k&&T.length<this._occurrenceCount&&l.DateTimeUtils.compareDates(k,w)>=0;)this.isRecurrencePoint(k)&&T.push(k),k=this.getNextPoint(k);return T},y.prototype.calculatePointsByDateRange=function(v,w){for(var T=new Array,k=this.getFirstPoint(v);k&&l.DateTimeUtils.compareDates(k,w)>=0;)this.isRecurrencePoint(k)&&T.push(k),k=this.getNextPoint(k);return T},y.prototype.getFirstPoint=function(v){return this.isRecurrencePoint(v)?v:this.getNextPoint(v)},y.prototype.isRecurrencePoint=function(v){return this.isDateInRange(v)&&this.checkDate(v)&&(!this.useIntervalInCalc()||this.checkInterval(v))},y.prototype.isDateInRange=function(v){return!!v&&!(this._start&&l.DateTimeUtils.compareDates(this.start,v)<0)&&!(this._occurrenceCount==0&&this.end&&l.DateTimeUtils.compareDates(v,this.end)<0)},y.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},y.prototype.getNextPoint=function(v){return this.isDateInRange(v)?this.useIntervalInCalc()?this.calculatePointByInterval(v):this.calculateNearestPoint(v):null},y.prototype.getSpecDayInMonth=function(v,w){return this._calculateByDayOfWeek?l.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,v,w,this.dayOfWeekOccurrenceInternal):new Date(v,w,this.dayInternal)},Object.defineProperty(y.prototype,"dayInternal",{get:function(){return this._day},set:function(v){v>0&&v<=31&&(this._day=v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(v){v>=f.DayOfWeek.Sunday&&v<=f.DayOfWeek.Saturday&&(this._dayOfWeek=v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(v){v>=m.DayOfWeekMonthlyOccurrence.First&&v<=m.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"monthInternal",{get:function(){return this._month},set:function(v){v>=p.Month.January&&v<=p.Month.December&&(this._month=v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"start",{get:function(){return this._start},set:function(v){v&&(this._start=v,this._end&&v>this._end&&(this._end=v))},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"end",{get:function(){return this._end},set:function(v){v&&(this._end=v,this._start&&v<this._start&&(this._start=v))},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(v){v<0&&(v=0),this._occurrenceCount=v},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"interval",{get:function(){return this._interval},set:function(v){v>0&&(this._interval=v)},enumerable:!1,configurable:!0}),y})(s(6124).DataObject);o.RecurrenceBase=u},9612:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RecurrenceFactory=void 0;var d=s(2491),f=s(4902),m=s(5475),p=s(4390),n=s(7515),l=(function(){function i(){}return i.createRecurrenceByType=function(u){if(!u)return null;switch(u.toLowerCase()){case"daily":return new f.Daily;case"weekly":return new m.Weekly;case"monthly":return new p.Monthly;case"yearly":return new n.Yearly}return null},i.createRecurrenceFromObject=function(u){if(!u)return null;var a=this.createRecurrenceByType(u.type);return a&&a.assignFromObject(u),a},i.getEnumValue=function(u,a){if(!(0,d.isDefined)(u[a]))return null;var y=parseInt(a);return isNaN(y)?u[a]:y},i})();o.RecurrenceFactory=l},5475:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Weekly=void 0;var d=s(655),f=s(1789),m=s(7880),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.checkDate=function(i){return m.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,i)},l.prototype.checkInterval=function(i){return m.DateTimeUtils.getWeeksBetween(this.start,i)%this.interval==0},l.prototype.calculatePointByInterval=function(i){var u=m.DateTimeUtils.getWeeksBetween(this.start,i),a=Math.floor(u/this.interval);(u%this.interval>0||i.getDay()>=this.dayOfWeekInternal)&&a++;var y=a*this.interval;return this.calcNextPointWithWeekCount(this.start,y)},l.prototype.calculateNearestPoint=function(i){var u=this.dayOfWeekInternal-i.getDay();return u>0?m.DateTimeUtils.addDays(new Date(i),u):this.calcNextPointWithWeekCount(i,1)},l.prototype.calcNextPointWithWeekCount=function(i,u){u===void 0&&(u=1);var a=7*u+this.dayOfWeekInternal-i.getDay();return m.DateTimeUtils.addDays(new Date(i),a)},Object.defineProperty(l.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(i){this.dayOfWeekInternal=i},enumerable:!1,configurable:!0}),l})(f.RecurrenceBase);o.Weekly=p},7515:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Yearly=void 0;var d=s(655),f=s(1789),m=s(7880),p=(function(n){function l(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(l,n),l.prototype.checkDate=function(i){return!!m.DateTimeUtils.checkMonth(this.month,i)&&(this._calculateByDayOfWeek?m.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(i,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):m.DateTimeUtils.checkDayOfMonth(this.dayInternal,i))},l.prototype.checkInterval=function(i){return m.DateTimeUtils.getYearsDifference(this.start,i)%this.interval==0},l.prototype.calculatePointByInterval=function(i){var u=m.DateTimeUtils.getYearsDifference(this.start,i),a=Math.floor(u/this.interval)*this.interval,y=this.start.getFullYear()+a,v=this.getSpecDayInMonth(y,this.monthInternal);return m.DateTimeUtils.compareDates(v,i)>=0&&(y+=this.interval,v=this.getSpecDayInMonth(y,this.monthInternal)),v},l.prototype.calculateNearestPoint=function(i){var u=i.getFullYear(),a=this.getSpecDayInMonth(u,this.monthInternal);return m.DateTimeUtils.compareDates(a,i)>=0&&(a=this.getSpecDayInMonth(++u,this.monthInternal)),a},Object.defineProperty(l.prototype,"month",{get:function(){return this.monthInternal},set:function(i){this.monthInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"day",{get:function(){return this.dayInternal},set:function(i){this.dayInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(i){this.dayOfWeekInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(i){this.dayOfWeekOccurrenceInternal=i},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(i){this._calculateByDayOfWeek=i},enumerable:!1,configurable:!0}),l})(f.RecurrenceBase);o.Yearly=p},2753:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Time=void 0;var s=(function(){function d(f,m,p,n){f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=0),n===void 0&&(n=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=f,this.min=m,this.sec=p,this.msec=n}return Object.defineProperty(d.prototype,"hour",{get:function(){return this._hour},set:function(f){f>=0&&f<24&&(this._hour=f,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"min",{get:function(){return this._min},set:function(f){f>=0&&f<60&&(this._min=f,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sec",{get:function(){return this._sec},set:function(f){f>=0&&f<60&&(this._sec=f,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"msec",{get:function(){return this._msec},set:function(f){f>=0&&f<1e3&&(this._msec=f,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),d.prototype.updateFullMilleconds=function(){var f=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*f+this._msec},d.prototype.getTimeInMilleconds=function(){return this._fullmsec},d})();o.Time=s},9331:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeRange=void 0;var d=s(7880),f=(function(){function m(p,n){d.DateTimeUtils.caclTimeDifference(p,n)>=0?(this._start=p,this._end=n):(this._start=n,this._end=p)}return Object.defineProperty(m.prototype,"start",{get:function(){return this._start},set:function(p){p&&d.DateTimeUtils.caclTimeDifference(p,this._end)>=0&&(this._start=p)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"end",{get:function(){return this._end},set:function(p){p&&d.DateTimeUtils.caclTimeDifference(this._start,p)>=0&&(this._end=p)},enumerable:!1,configurable:!0}),m.prototype.isTimeInRange=function(p){return d.DateTimeUtils.caclTimeDifference(this._start,p)>=0&&d.DateTimeUtils.caclTimeDifference(p,this._end)>=0},m.prototype.hasIntersect=function(p){return this.isTimeInRange(p.start)||this.isTimeInRange(p.end)||p.isTimeInRange(this.start)||p.isTimeInRange(this.end)},m.prototype.concatWith=function(p){return!!this.hasIntersect(p)&&(this.start=d.DateTimeUtils.getMinTime(this.start,p.start),this.end=d.DateTimeUtils.getMaxTime(this.end,p.end),!0)},m})();o.TimeRange=f},21:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WorkingTimeCalculator=void 0;var d=s(4432),f=s(1805),m=s(7880),p=(function(){function n(l,i){this._workingRules=new d.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=l,this._workingRules.importFromObject(i)}return n.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var l=this._workingRules.items,i=0;i<l.length;i++)this.processRule(l[i]);this.sortList()}},n.prototype.processRule=function(l){for(var i=l.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),u=function(v){var w=i[v],T=m.DateTimeUtils.getDayNumber(w),k=a._workDayList.filter((function(I){return I.dayNumber==T}))[0];k?(k.isWorkDay=k.isWorkDay&&l.isWorkDay,k.addWorkingIntervals(l.workTimeRanges)):a._workDayList.push(new f.DayWorkingTimeInfo(T,l.isWorkDay,l.workTimeRanges))},a=this,y=0;y<i.length;y++)u(y)},n.prototype.sortList=function(){this._workDayList.sort((function(l,i){return l.dayNumber-i.dayNumber}))},n.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},n.prototype.calculateNoWorkTimeIntervals=function(){var l=this,i=new Array;return this._workDayList.length==0&&this.calculateWorkDayList(),this._workDayList.forEach((function(u){return i=i.concat(l.getNoWorkTimeRangesFromDay(u))})),this.concatJointedRanges(i)},n.prototype.concatJointedRanges=function(l){for(var i=new Array,u=0;u<l.length;u++){var a=l[u];i.length>0&&m.DateTimeUtils.compareDates(i[i.length-1].end,a.start)<2?i[i.length-1].end=a.end:i.push(a)}return i},n.prototype.getNoWorkTimeRangesFromDay=function(l){return l.noWorkingIntervals.map((function(i){return m.DateTimeUtils.convertTimeRangeToDateRange(i,l.dayNumber)}))},Object.defineProperty(n.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),n.prototype.updateRange=function(l){this._calculationRange=l,this.invalidate()},n.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},n})();o.WorkingTimeCalculator=p},8401:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WorkingTimeRule=void 0;var d=s(655),f=s(6124),m=s(2491),p=s(7880),n=s(9612),l=s(4902),i=(function(u){function a(y,v,w){y===void 0&&(y=null),v===void 0&&(v=!0),w===void 0&&(w=null);var T=u.call(this)||this;return T.isWorkDay=!0,T.workTimeRanges=new Array,T.recurrence=y,T.isWorkDay=v,w&&T.workTimeRanges.concat(w),T}return d.__extends(a,u),a.prototype.assignFromObject=function(y){if((0,m.isDefined)(y)){u.prototype.assignFromObject.call(this,y),this.recurrence=n.RecurrenceFactory.createRecurrenceByType(y.recurrenceType)||new l.Daily,(0,m.isDefined)(y.recurrence)&&this.recurrence.assignFromObject(y.recurrence),(0,m.isDefined)(y.isWorkDay)&&(this.isWorkDay=!!y.isWorkDay);var v=p.DateTimeUtils.convertToTimeRanges(y.workTimeRanges);v&&(this.workTimeRanges=v)}},a})(f.DataObject);o.WorkingTimeRule=i},6626:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttViewApi=void 0;var s=(function(){function d(f){this.maxZoom=3,this._ganttView=f}return Object.defineProperty(d.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(f){this._ganttView.currentZoom=f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),d.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},d.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(d.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),d.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},d.prototype.scrollToDateCore=function(f,m){this._ganttView.scrollToDateCore(f,m)},Object.defineProperty(d.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),d.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(d.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),d.prototype.calculateAutoViewType=function(f,m){return this._ganttView.calculateAutoViewType(f,m)},d.prototype.zoomIn=function(f){f===void 0&&(f=this.getTaskAreaContainerWidth()/2);var m=this.renderHelper.getTargetDateByPos(f),p=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>p&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(m,-f)},d.prototype.zoomOut=function(f){f===void 0&&(f=this.renderHelper.getTaskAreaContainerWidth()/2);var m=this.renderHelper.getTargetDateByPos(f),p=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<p&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(m,-f)},d.prototype.setViewType=function(f,m){m===void 0&&(m=!0),f==null&&(f=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==f&&(this.settings.viewType=f,this.updateTickSizeWidth(),this.resetAndUpdate(),m&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(f))},d.prototype.setViewTypeRange=function(f,m){f!==void 0&&(this.settings.viewTypeRange.min=Math.min(f,m)),m!==void 0&&(this.settings.viewTypeRange.max=Math.max(f,m));var p=this.settings.viewTypeRange.min,n=this.settings.viewTypeRange.max,l=this.settings.viewType;p>l?this.setViewType(p):n<l&&this.setViewType(n)},d})();o.GanttViewApi=s},5098:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditController=void 0;var d=s(2449),f=s(858),m=s(6907),p=s(9279),n=s(1886),l=s(9080),i=s(9201),u=(function(){function a(y){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=y,this.createElements()}return Object.defineProperty(a.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),a.prototype.raiseTaskMoving=function(y,v,w,T){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(y,v,w,T)},Object.defineProperty(a.prototype,"tooltip",{get:function(){var y;return(y=this._tooltip)!==null&&y!==void 0||(this._tooltip=new n.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tooltipSettings",{get:function(){var y=this;return l.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(v){y.settings.destroyTemplate(v)},formatDate:function(v){return y.settings.formatDate(v)},getTaskAreaContainer:function(){return y.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),a.prototype.show=function(y){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=y,this.hide(),this.changeWrapInfo(),this.baseElement.className=a.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+a.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(a.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var v=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new f.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(v),this.displayProgressEdit(),this.displayStartEndEditElements()}},a.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},a.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},a.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},a.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},a.prototype.displayTaskEditBox=function(y){var v=this;y===void 0&&(y=0);var w=function(){v.renderHelper.taskArea.appendChild(v.baseElement),v.isTaskEditBoxShown=!0};y?this.timerId=setTimeout(w,y):w()},a.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},a.prototype.hide=function(){this.isTaskEditBoxShown=!1;var y=this.baseElement.parentNode;y&&y.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},a.prototype.cancel=function(){clearTimeout(this.timerId)},a.prototype.showTaskInfo=function(y,v){v===void 0&&(v=500),this.timerId&&(v=this.showInfoDelay),this.tooltip.showInfo(this.task,y,v)},a.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},a.prototype.isAllowedToConnectTasks=function(y){var v,w=this.viewModel.items[y];return this.validationController.canCreateDependency(this.taskId,(v=w.task)===null||v===void 0?void 0:v.internalId)},a.prototype.showDependencySuccessor=function(y){if(this.isAllowedToConnectTasks(y)){this.successorIndex=y;var v=this.getTaskWrapperElementInfo(y);v.assignPosition(this.dependencySuccessorBaseElement),v.assignSize(this.dependencySuccessorBaseElement),v.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},a.prototype.hideDependencySuccessor=function(){var y=this.dependencySuccessorBaseElement.parentNode;y&&y.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},a.prototype.processProgress=function(y){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var v=y.x-this.wrapInfo.position.x,w=0;y.x>this.wrapInfo.position.x&&(w=y.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(v/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=w/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(w,m.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},a.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var y=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:y})}},a.prototype.processEnd=function(y){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var v=y.x>this.wrapInfo.position.x?y.x:this.wrapInfo.position.x,w=v-this.wrapInfo.position.x;this.baseElement.style.width=(w<1?0:w)+"px";var T=this.task.start,k=this.renderHelper.gridLayoutCalculator.getDateByPos(v);k.setSeconds(0),k<T||w<1?this.taskDateRange.end.setTime(T.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,k),this.tooltip.showTime(T,this.taskDateRange.end,m.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},a.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=a.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},a.prototype.processStart=function(y){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var v=y.x<this.wrapInfo.position.x+this.wrapInfo.size.width?y.x:this.wrapInfo.position.x+this.wrapInfo.size.width,w=this.wrapInfo.size.width-(v-this.wrapInfo.position.x);this.baseElement.style.left=v+"px",this.baseElement.style.width=(w<1?0:w)+"px";var T=this.task.end,k=this.renderHelper.gridLayoutCalculator.getDateByPos(v);k.setSeconds(0),k>T||w<1?this.taskDateRange.start.setTime(T.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,k),this.tooltip.showTime(this.taskDateRange.start,T,m.DomUtils.getAbsolutePositionX(this.baseElement))}},a.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=a.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},a.prototype.processMove=function(y){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var v=this.baseElement.offsetLeft+y;this.baseElement.style.left=v+"px";var w=this.renderHelper.gridLayoutCalculator.getDateByPos(v);this.taskDateRange.start=this.getCorrectedDate(this.task.start,w);var T=i.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=i.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,T),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,m.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},a.prototype.onTaskMovingCallback=function(y,v){if(this.taskDateRange.start!==y||this.taskDateRange.end!==v){var w=this.renderHelper.gridLayoutCalculator,T=w.getPosByDate(y),k=w.getPosByDate(v)-T;this.baseElement.style.left=T+"px",this.baseElement.style.width=(k<1?0:k)+"px",this.taskDateRange.start=y,this.taskDateRange.end=v}},a.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=a.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},a.prototype.getCorrectedDate=function(y,v){if(this.ganttSettings.viewType>d.ViewType.SixHours){var w=v.getFullYear(),T=v.getMonth(),k=v.getDate(),I=this.ganttSettings.viewType===d.ViewType.Days?v.getHours():y.getHours(),C=y.getMinutes(),D=y.getSeconds(),P=y.getMilliseconds();return new Date(w,T,k,I,C,D,P)}return v},a.prototype.startDependency=function(y){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=a.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=y},a.prototype.processDependency=function(y){this.isEditingInProgress=!0,this.drawline(this.startPosition,y)},a.prototype.endDependency=function(y){this.isEditingInProgress=!1,y!=null&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,y);var v=this.dependencyLine.parentNode;v&&v.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},a.prototype.selectDependency=function(y){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=y)},a.prototype.isDependencySelected=function(y){return this.dependencyId&&this.dependencyId===y},a.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},a.prototype.getTaskWrapperElementInfo=function(y){var v=this.renderHelper.gridLayoutCalculator,w=v.getTaskWrapperElementInfo(y);return w.size.width=v.getTaskWidth(y),w.size.height=v.getTaskHeight(y),w},a.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=a.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=a.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(a.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),p.Browser.TouchUI&&this.dependencyFinish.classList.add(a.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(a.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),p.Browser.TouchUI&&this.dependencyStart.classList.add(a.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=a.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=a.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=a.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=a.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(a.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),p.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(a.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(a.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),p.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(a.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new n.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},a.prototype.attachEvents=function(){this.onMouseLeaveHandler=(function(){this.isEditingInProgress||this.hide()}).bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},a.prototype.drawline=function(y,v){if(y.x>v.x){var w=v;v=y,y=w}var T=Math.atan((y.y-v.y)/(v.x-y.x));T=-(T=180*T/Math.PI);var k=Math.sqrt((y.x-v.x)*(y.x-v.x)+(y.y-v.y)*(y.y-v.y));this.dependencyLine.style.left=y.x+"px",this.dependencyLine.style.top=y.y+"px",this.dependencyLine.style.width=k+"px",this.dependencyLine.style.transform="rotate("+T+"deg)"},a.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},a.prototype.isTaskUpdateAllowed=function(){var y=this.ganttSettings.editing;return y.enabled&&y.allowTaskUpdate},a.prototype.detachEvents=function(){var y;(y=this.baseElement)===null||y===void 0||y.removeEventListener("mouseleave",this.onMouseLeaveHandler)},a.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},a})();o.TaskEditController=u},1886:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditTooltip=void 0;var d=s(6907),f=(function(){function m(p,n,l){this.parentElement=p,this.cultureInfo=l,this.tooltipSettings=n}return Object.defineProperty(m.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),m.prototype.destroyTemplate=function(p){this.tooltipSettings.destroyTemplate(p)},m.prototype.formatDate=function(p){return this.tooltipSettings.formatDate(p)},m.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=m.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},m.prototype.setDefaultTooltip=function(p){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=m.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var n=document.createElement("DIV");n.className=m.CLASSNAMES.TASK_EDIT_TASK_TITLE;var l=document.createElement("SPAN");if(n.appendChild(l),this.defaultTooltip.appendChild(n),l.innerText=p.title,this.defaultTooltip.appendChild(this.getTimeContent(p.start,p.end)),!isNaN(p.progress)){var i=document.createElement("DIV");i.className=m.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var u=document.createElement("SPAN"),a=document.createElement("SPAN");i.appendChild(u),i.appendChild(a),this.defaultTooltip.appendChild(i),u.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",a.innerText=p.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},m.prototype.setDefaultProgressTooltip=function(p){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=m.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=p+"%",this.baseElement.appendChild(this.defaultTooltip)},m.prototype.setDefaultTimeTooltip=function(p,n){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=m.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(p,n)),this.baseElement.appendChild(this.defaultTooltip)},m.prototype.showInfo=function(p,n,l){var i=this;l===void 0&&(l=0);var u=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),u?u(this.baseElement,p,(function(){i.showTooltip(n,!1,l)})):(this.setDefaultTooltip(p),this.showTooltip(n,!1,l))},m.prototype.showProgress=function(p,n){var l=this,i=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),i?i(this.baseElement,{progress:p},(function(){l.showTooltip(n)})):(this.setDefaultProgressTooltip(p),this.show(n))},m.prototype.showTime=function(p,n,l){var i=this,u=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),u?u(this.baseElement,{start:p,end:n},(function(){i.showTooltip(l)})):(this.setDefaultTimeTooltip(p,n),this.show(l))},m.prototype.showTooltip=function(p,n,l){var i,u=this;if(n===void 0&&(n=!0),l===void 0&&(l=0),(i=this.baseElement)===null||i===void 0?void 0:i.innerHTML){var a=function(){u.show(p,n)};l?this.timerId=setTimeout(a,l):a()}},m.prototype.show=function(p,n){var l,i,u,a=this;n===void 0&&(n=!0),(l=this.defaultTooltip)===null||l===void 0||l.classList.remove(m.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),(i=this.defaultTooltip)===null||i===void 0||i.classList.remove(m.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var y=this.getLeftPosition(p),v=this.needToShowUnderParent(),w=this.getTopPosition(v),T=v?m.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:m.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;(u=this.defaultTooltip)===null||u===void 0||u.classList.add(T),this.baseElement.style.left=y+"px",this.baseElement.style.top=w+"px",n&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){a.hide()}),1500))},m.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},m.prototype.getTimeContent=function(p,n){var l=document.createElement("TABLE");l.className=m.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var i=document.createElement("TBODY");l.appendChild(i);var u=document.createElement("TR"),a=document.createElement("TD"),y=document.createElement("TD"),v=document.createElement("TR"),w=document.createElement("TD"),T=document.createElement("TD");return u.appendChild(a),u.appendChild(y),v.appendChild(w),v.appendChild(T),i.appendChild(u),i.appendChild(v),a.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",y.innerText=this.formatDate(p),w.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",T.innerText=this.formatDate(n),l},m.prototype.getLeftPosition=function(p){var n=p-d.DomUtils.getAbsolutePositionX(this.parentElement)-2*m.defaultArrowHeight;if(this.taskAreaContainer){var l=d.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),i=p+this.baseElement.clientWidth-l;i>0&&(n-=i)}return n},m.prototype.getTopPosition=function(p){return p?this.parentElement.clientHeight+m.defaultArrowHeight:-this.baseElement.clientHeight-m.defaultArrowHeight},m.prototype.needToShowUnderParent=function(){var p,n=d.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-d.DomUtils.getDocumentScrollTop()-m.defaultHeightOffset,l=((p=this.taskAreaContainer)===null||p===void 0?void 0:p.scrollTop)||0,i=this.parentElement.offsetTop-l;return this.baseElement.clientHeight>n||this.baseElement.clientHeight>i},m.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},m.defaultArrowHeight=5,m.defaultHeightOffset=15,m})();o.TaskEditTooltip=f},3336:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttMovingHelper=void 0;var d=s(9279),f=s(3714),m=(function(){function p(n){this.taskAreaContainer=n,this.movingInfo=null}return p.prototype.startMoving=function(n){this.movingInfo=this.calcMovingInfo(n),this.updateGanttAreaCursor(!0)},p.prototype.cancelMoving=function(){this.movingInfo=null},p.prototype.onMouseMove=function(n){this.move(n)},p.prototype.onMouseUp=function(n){this.cancelMoving(),this.updateGanttAreaCursor(!1)},p.prototype.move=function(n){this.updateScrollPosition(n)},p.prototype.updateScrollPosition=function(n){var l=Math.round(f.EvtUtils.getEventX(n)),i=Math.round(f.EvtUtils.getEventY(n)),u=l-this.movingInfo.eventX,a=i-this.movingInfo.eventY,y=u<0?-1:1,v=a<0?-1:1,w=y<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,T=v<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(u)>w&&(u=w*y),Math.abs(a)>T&&(a=T*v);var k=this.movingInfo.scrollLeft-u,I=this.movingInfo.scrollTop-a,C=this.taskAreaContainer;C.scrollLeft!==k&&(C.scrollLeft=k),C.scrollTop!==I&&(C.scrollTop=I)},p.prototype.calcMovingInfo=function(n){var l=this.taskAreaContainer;return{eventX:f.EvtUtils.getEventX(n),eventY:f.EvtUtils.getEventY(n),scrollLeft:l.scrollLeft,scrollTop:l.scrollTop,maxLeftDelta:l.scrollLeft,maxRightDelta:l.scrollWidth-l.scrollLeft-l.getElement().offsetWidth,maxTopDelta:l.scrollTop,maxBottomDelta:l.scrollHeight-l.scrollTop-l.getElement().offsetHeight}},p.prototype.updateGanttAreaCursor=function(n){var l=d.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=n?l:"default"},p})();o.GanttMovingHelper=m},6958:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaStateController=void 0;var d=s(8900),f=s(6907),m=s(3714),p=s(5098),n=s(2449),l=s(5376),i=s(4264),u=s(9155),a=s(125),y=s(1404),v=s(6591),w=s(2395),T=s(7295),k=(function(){function I(C,D,P){var A=this;this.position=new d.Point(-1,-1),this._pointers={},this._listener=C,this._listener.setHandler(y.TaskAreaStateEventNames.STATE_EXIT,(function(){A.switchToDefaultState()})),this._listener.setHandler(y.TaskAreaStateEventNames.GET_POINTERS_INFO,(function(R){return A.getPointersInfo(R.triggerEvent)})),this._taskArea=D,this._cellSize=P,this.switchToDefaultState()}return I.prototype.onKeyDown=function(C){this._state.onKeyDown(C)},I.prototype.onScroll=function(C){this._state.onScroll(C)},I.prototype.onContextMenu=function(C){this._state.onContextMenu(C)},I.prototype.onMouseWheel=function(C){C.ctrlKey&&(C.preventDefault(),C.stopPropagation(),this.switchState(v.TaskAreaZoomState)),this._state.onMouseWheel(C)},Object.defineProperty(I.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),I.prototype.onTaskPointerEnter=function(C){this._state.onTaskPointerEnter(C)},I.prototype.onTaskAreaPointerLeave=function(C){this._state.onTaskAreaLeave(C)},I.prototype.onDocumentPointerCancel=function(C){this._clearPointerInfo(C)},I.prototype.onDocumentPointerDown=function(C){this._updatePinterInfo(C),this.toggleStateOnPointerDown(C),this._state.onDocumentPointerDown(C)},I.prototype.onDocumentPointerMove=function(C){this._updatePinterInfo(C),this.toggleStateOnPointerMove(C),this._state.onDocumentPointerMove(C)},I.prototype.onDocumentPointerUp=function(C){this._clearPointerInfo(C),this._state.onDocumentPointerUp(C)},I.prototype.onTaskTouchStart=function(C){this._state.onTaskTouchStart(C)},I.prototype.onTouchStart=function(C){this.toggleStateOnPointerDown(C),this._state.onTouchStart(C)},I.prototype.onTouchEnd=function(C){this._state.onTouchEnd(C)},I.prototype.onTouchMove=function(C){this.toggleStateOnPointerMove(C),this._state.onTouchMove(C)},I.prototype.onClick=function(C){this._state.onClick(C)},I.prototype.onDblClick=function(C){this._state.onDblClick(C)},I.prototype.onTaskAreaMouseLeave=function(C){this._state.onTaskAreaLeave(C)},I.prototype.onTaskElementHover=function(C){this._state.onTaskHover(C)},I.prototype.onTaskElementLeave=function(C){this._state.onTaskLeave(C)},I.prototype.onMouseUp=function(C){this._state.onMouseUp(C)},I.prototype.onMouseMove=function(C){this._state.onMouseMove(C)},I.prototype.onMouseDown=function(C){switch(this.getTaskAreaEventSource(C)){case n.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(C);break;case n.TaskAreaEventSource.TaskEdit_Frame:this.switchState(T.TaskMoveState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(w.TaskEditState);break;case n.TaskAreaEventSource.TaskEdit_DependencyStart:case n.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(i.TaskAreaDependencyState)}this._state.onMouseDown(C)},Object.defineProperty(I.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),I.prototype.switchToDefaultState=function(){this._state=new l.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},I.prototype.switchState=function(C){this._state instanceof C||(this._state&&this._state.finish(),this._state=new C(this._listener,this.taskArea,this._cellSize),this._state.start())},I.prototype.processMouseDownOnTaskArea=function(C){m.EvtUtils.isLeftButtonPressed(C)&&!u.TaskAreaDomHelper.isConnectorLine(C)&&this.switchState(a.TaskAreaScrollState)},I.prototype.toggleStateOnPointerDown=function(C){var D=this.toggleStateWhenMultiOrOutsideTouch(C);if(this.position=new d.Point(m.EvtUtils.getEventX(C),m.EvtUtils.getEventY(C)),!D&&this._canStartDrag(C))switch(this.getTaskAreaEventSource(C)){case n.TaskAreaEventSource.TaskEdit_DependencyStart:case n.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(i.TaskAreaDependencyState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(w.TaskEditState)}},I.prototype.toggleStateOnPointerMove=function(C){var D=this.toggleStateWhenMultiOrOutsideTouch(C),P=Math.abs(this.position.x-m.EvtUtils.getEventX(C))>1||Math.abs(this.position.y-m.EvtUtils.getEventY(C))>1;if(!D&&P&&this._canStartDrag(C)&&this._state instanceof l.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(C)){case n.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(C)?this.switchState(T.TaskMoveState):this.switchState(a.TaskAreaScrollState);break;case n.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(a.TaskAreaScrollState):this.switchState(T.TaskMoveState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(w.TaskEditState)}},I.prototype.toggleStateWhenMultiOrOutsideTouch=function(C){var D=this._getActivePointersCount(C),P=!this.isInTaskArea(C),A=D>=2||P;return D>2||P?this.switchState(l.TaskAreaDefaultState):D===2&&this.switchState(v.TaskAreaZoomState),A},I.prototype.checkEventInTaskEditFrameArea=function(C){var D,P,A=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!A)return!1;var R=(C==null?void 0:C.clientX)||((D=C==null?void 0:C.touches[0])===null||D===void 0?void 0:D.clientX),z=(C==null?void 0:C.clientY)||((P=C==null?void 0:C.touches[0])===null||P===void 0?void 0:P.clientY),B=A.getBoundingClientRect();return R>=B.left&&R<=B.left+B.width&&z>=B.top&&z<=B.top+B.height},I.prototype.isTaskUpdateDisabled=function(){return this._taskArea.getAttribute("task-edit-enabled")==="false"},I.prototype.isInTaskArea=function(C){return f.DomUtils.isItParent(this._taskArea,m.EvtUtils.getEventSource(C))},I.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(p.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},I.prototype._updatePinterInfo=function(C){var D=C.pointerId;this._pointers[D]={pageX:C.pageX,pageY:C.pageY,pointerType:C.pointerType}},I.prototype._clearPointerInfo=function(C){var D=C.pointerId;delete this._pointers[D]},I.prototype.isTouchEvent=function(C){return u.TaskAreaDomHelper.isTouchEvent(C)},I.prototype.isPointerEvent=function(C){return u.TaskAreaDomHelper.isPointerEvent(C)},I.prototype._getActivePointersCount=function(C){var D=this;return this.isTouchEvent(C)?C.touches.length:Object.keys(this._pointers).filter((function(P){return D._pointers[P].pointerType===C.pointerType})).length},I.prototype.getPointersInfo=function(C){var D=this,P=C==null?void 0:C.pointerType,A=Object.keys(this._pointers).map((function(R){return D._pointers[R]}));return P&&(A=A.filter((function(R){return R.pointerType===P}))),A},I.prototype._canStartDrag=function(C){return!(this._getActivePointersCount(C)>1)&&(!u.TaskAreaDomHelper.isMousePointer(C)||C.buttons===1)&&!u.TaskAreaDomHelper.isConnectorLine(C)},I.prototype.getTaskAreaEventSource=function(C){return u.TaskAreaDomHelper.getEventSource(m.EvtUtils.getEventSource(C))},I})();o.TaskAreaStateController=k},5376:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaDefaultState=void 0;var d=s(655),f=s(3714),m=s(9155),p=s(5867),n=s(1404),l=(function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(u,i),u.prototype.finish=function(){this.clearTimers(),this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},u.prototype.onMouseDownInternal=function(a){this.onPointerDownBase(a)},u.prototype.onDocumentPointerDownInternal=function(a){this.onPointerDownBase(a)},u.prototype.onDocumentPointerUpInternal=function(a){this.onPointerUpBase(a)},u.prototype.onDocumentPointerMoveInternal=function(a){this.clearTimers()},u.prototype.onTouchStartInternal=function(a){this.onPointerDownBase(a)},u.prototype.onTouchEndInternal=function(a){this.onPointerUpBase(a)},u.prototype.onTouchMoveInternal=function(a){this.clearTimers()},u.prototype.onPointerDownBase=function(a){var y=this;a.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(a),(this.isPointerEvent(a)?m.TaskAreaDomHelper.isMousePointer(a):this.isMouseEvent(a))?this.changeSelectionOnTouchDown(a):(setTimeout((function(){m.TaskAreaDomHelper.isMousePointer(a)||y.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE,a),y.changeSelectionOnTouchDown(a)}),0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout((function(){return y.showContextMenuOnTouchDown(a)}),u.defaultContextMenuTimeout))},u.prototype.onPointerUpBase=function(a){var y=this;if(clearTimeout(this._contextMenuTimer),a.preventDefault(),this.canToEmulateClick(a)){var v=this.getClickedRowIndex(a),w=new Date;if(this._lastEmulatedClickTime)w.getTime()-this._lastEmulatedClickTime.getTime()<u.defaultDblClickTimeout&&(this.raiseEvent(n.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,a,v),delete this._lastEmulatedClickTime);else{var T=!this.raiseEvent(n.TaskAreaStateEventNames.TASK_AREA_CLICK,a,v);clearTimeout(this._dblClickClearTimer),m.TaskAreaDomHelper.isMousePointer(a)&&this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE,a),T||(this._lastEmulatedClickTime=w,this._dblClickClearTimer=setTimeout((function(){delete y._lastEmulatedClickTime}),u.defaultDblClickClearTimeout))}}},u.prototype.canToEmulateClick=function(a){var y=!m.TaskAreaDomHelper.isConnectorLine(a)&&this.getClickedRowIndex(a)===this._lastTouchRowIndex;return y&&m.TaskAreaDomHelper.isMousePointer(a)&&y&&(y=a.button!==2),y},u.prototype.changeSelectionOnTouchDown=function(a){var y=m.TaskAreaDomHelper.isConnectorLine(a);y||this.raiseTaskSelection(a,this.getClickedRowIndex(a)),this.raiseDependencySelection(a,y?f.EvtUtils.getEventSource(a).getAttribute("dependency-id"):null)},u.prototype.showContextMenuOnTouchDown=function(a){var y=m.TaskAreaDomHelper.isConnectorLine(a);this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_SHOW,a,this.getClickedRowIndex(a),{type:y?"dependency":"task"})},u.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},u.defaultContextMenuTimeout=3e3,u.defaultDblClickTimeout=500,u.defaultDblClickClearTimeout=u.defaultDblClickTimeout+100,u})(p.TaskAreaStateBase);o.TaskAreaDefaultState=l},4264:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaDependencyState=o.dependencyMap=void 0;var d=s(655),f=s(8900),m=s(6907),p=s(3714),n=s(5950),l=s(2449),i=s(9155),u=s(5867),a=s(1404);o.dependencyMap=[],o.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyStart]=[],o.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],o.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyStart][l.TaskAreaEventSource.Successor_DependencyStart]=n.DependencyType.SS,o.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyStart][l.TaskAreaEventSource.Successor_DependencyFinish]=n.DependencyType.SF,o.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyFinish][l.TaskAreaEventSource.Successor_DependencyStart]=n.DependencyType.FS,o.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyFinish][l.TaskAreaEventSource.Successor_DependencyFinish]=n.DependencyType.FF;var y=(function(v){function w(){return v!==null&&v.apply(this,arguments)||this}return d.__extends(w,v),w.prototype.onMouseUp=function(T){this.onDependencyEndByMouse(T)},w.prototype.onMouseDownInternal=function(T){this.onDependencyStart(T)},w.prototype.onMouseMoveInternal=function(T){this.onDependencyMoveStep(T)},w.prototype.onTouchStartInternal=function(T){this.onDependencyStart(T)},w.prototype.onTouchEndInternal=function(T){this.onDependencyEndByTouch(T)},w.prototype.onTouchMoveInternal=function(T){this.onDependencyMoveStep(T)},w.prototype.onDocumentPointerDownInternal=function(T){this.onDependencyStart(T)},w.prototype.onDocumentPointerUpInternal=function(T){this.onDependencyEndByTouch(T)},w.prototype.onDocumentPointerMoveInternal=function(T){this.onDependencyMoveStep(T)},w.prototype.onDependencyStart=function(T){var k=p.EvtUtils.getEventSource(T);this.source=i.TaskAreaDomHelper.getEventSource(k);var I=this.getRelativePos(new f.Point(m.DomUtils.getAbsolutePositionX(k)+k.clientWidth/2,m.DomUtils.getAbsolutePositionY(k)+k.clientHeight/2));this.raiseEvent(a.TaskAreaStateEventNames.DEPENDENCY_START,T,null,{pos:I})},w.prototype.onDependencyMoveStep=function(T){T.preventDefault();var k=this.getRelativePos(new f.Point(p.EvtUtils.getEventX(T),p.EvtUtils.getEventY(T)));this.raiseEvent(a.TaskAreaStateEventNames.DEPENDENCY_PROCESS,T,this.getClickedRowIndex(T),{pos:k})},w.prototype.onDependencyEndByMouse=function(T){var k=i.TaskAreaDomHelper.getEventSource(p.EvtUtils.getEventSource(T)),I=k===l.TaskAreaEventSource.Successor_DependencyStart||k===l.TaskAreaEventSource.Successor_DependencyFinish?o.dependencyMap[this.source][k]:null;this.processEndDependency(T,I)},w.prototype.onDependencyEndByTouch=function(T){var k=this.raiseEvent(a.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,T),I=this.getRelativePos(k.successorStart),C=this.getRelativePos(k.successorFinish),D=this.getRelativePos(new f.Point(p.EvtUtils.getEventX(T),p.EvtUtils.getEventY(T))),P=this.isTouchNearby(D,I)?l.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(D,C)?l.TaskAreaEventSource.Successor_DependencyFinish:null,A=P===l.TaskAreaEventSource.Successor_DependencyStart||P===l.TaskAreaEventSource.Successor_DependencyFinish?o.dependencyMap[this.source][P]:null;this.processEndDependency(T,A)},w.prototype.onTaskAreaLeaveInternal=function(T){this.processEndDependency(T,null)},w.prototype.processEndDependency=function(T,k){this.raiseEvent(a.TaskAreaStateEventNames.DEPENDENCY_END,T,null,{type:k}),this.raiseEvent(a.TaskAreaStateEventNames.STATE_EXIT,T)},w.prototype.isTouchNearby=function(T,k){return Math.abs(k.x-T.x)<=20&&Math.abs(k.y-T.y)<=20},w})(u.TaskAreaStateBase);o.TaskAreaDependencyState=y},9155:(_,o,s)=>{var d;Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaDomHelper=void 0;var f=s(6907),m=s(3714),p=s(5098),n=s(2449),l=s(1855),i=(function(){function u(){}return u.getEventSource=function(a){var y,v=(a.nodeType===((y=window==null?void 0:window.Node)===null||y===void 0?void 0:y.ELEMENT_NODE)?a:a.parentNode).classList[0];return u.classToSource[v]||n.TaskAreaEventSource.TaskArea},u.isConnectorLine=function(a){var y=m.EvtUtils.getEventSource(a);return f.DomUtils.hasClassName(y,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||f.DomUtils.hasClassName(y,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},u.isTaskElement=function(a){var y=m.EvtUtils.getEventSource(a),v=u.classToSource[y.classList[0]];return v===n.TaskAreaEventSource.TaskEdit_Frame||v===n.TaskAreaEventSource.TaskEdit_Progress||v===n.TaskAreaEventSource.TaskEdit_Start||v===n.TaskAreaEventSource.TaskEdit_End||v===n.TaskAreaEventSource.TaskEdit_DependencyStart||v===n.TaskAreaEventSource.TaskEdit_DependencyFinish},u.isMouseEvent=function(a){return a instanceof MouseEvent},u.isTouchEvent=function(a){return window.TouchEvent&&a instanceof TouchEvent},u.isPointerEvent=function(a){return window.PointerEvent&&a instanceof PointerEvent},u.isMousePointer=function(a){return this.isPointerEvent(a)&&a.pointerType==="mouse"},u.classToSource=((d={})[p.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=n.TaskAreaEventSource.TaskEdit_Progress,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_START]=n.TaskAreaEventSource.TaskEdit_Start,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_END]=n.TaskAreaEventSource.TaskEdit_End,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=n.TaskAreaEventSource.TaskEdit_Frame,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=n.TaskAreaEventSource.TaskEdit_DependencyStart,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=n.TaskAreaEventSource.TaskEdit_DependencyFinish,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=n.TaskAreaEventSource.Successor_DependencyStart,d[p.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=n.TaskAreaEventSource.Successor_DependencyFinish,d),u})();o.TaskAreaDomHelper=i},125:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaScrollState=void 0;var d=s(655),f=s(5867),m=s(1404),p=(function(n){function l(){var i=n!==null&&n.apply(this,arguments)||this;return i._isStarted=!1,i}return d.__extends(l,n),l.prototype.finish=function(){this.raiseEvent(m.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},l.prototype.onMouseUp=function(i){this.onEnd(i)},l.prototype.onMouseDownInternal=function(i){this.onBeforeStart(i)},l.prototype.onMouseMoveInternal=function(i){this.onMove(i)},l.prototype.onDocumentPointerUpInternal=function(i){this.onEnd(i)},l.prototype.onDocumentPointerMoveInternal=function(i){this.onMoveByPointer(i)},l.prototype.onTouchEndInternal=function(i){this.onEnd(i)},l.prototype.onTouchMoveInternal=function(i){this.onMoveByPointer(i)},l.prototype.onBeforeStart=function(i){i.preventDefault(),this.raiseDependencySelection(i,null),this.raiseEvent(m.TaskAreaStateEventNames.TASK_EDIT_END,i),this.raiseEvent(m.TaskAreaStateEventNames.TASK_AREA_START_MOVE,i),this._isStarted=!0},l.prototype.onMoveByPointer=function(i){this._isStarted?this.onMove(i):this.onBeforeStart(i)},l.prototype.onMove=function(i){i.preventDefault(),this.raiseEvent(m.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,i)},l.prototype.onEnd=function(i){i.preventDefault(),this.raiseEvent(m.TaskAreaStateEventNames.TASK_AREA_END_MOVE,i),this.raiseEvent(m.TaskAreaStateEventNames.STATE_EXIT,i),this._isStarted=!1},l})(f.TaskAreaStateBase);o.TaskAreaScrollState=p},5867:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaStateBase=void 0;var d=s(9279),f=s(8900),m=s(6907),p=s(3714),n=s(2153),l=s(3461),i=s(9155),u=s(1404),a=(function(){function y(v,w,T){this.position=new f.Point(-1,-1),this.isCursorInArea=!1,this._listener=v,this._taskArea=w,this._cellSize=T}return y.prototype.start=function(){},y.prototype.finish=function(){},y.prototype.isTouchEvent=function(v){return i.TaskAreaDomHelper.isTouchEvent(v)},y.prototype.isPointerEvent=function(v){return i.TaskAreaDomHelper.isPointerEvent(v)},y.prototype.isMouseEvent=function(v){return i.TaskAreaDomHelper.isMouseEvent(v)},y.prototype.onMouseWheel=function(v){},y.prototype.onScroll=function(v){this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_SCROLL)},y.prototype.onKeyDown=function(v){this.isCursorInArea&&this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,v,null,{code:this.getShortcutCode(v)})},y.prototype.onContextMenu=function(v){var w=this.getClickedRowIndex(v),T=i.TaskAreaDomHelper.isConnectorLine(v);T||this.raiseTaskSelection(v,w),v.stopPropagation(),v.preventDefault(),d.Browser.WebKitFamily&&(v.returnValue=!1),this.raiseEvent(u.TaskAreaStateEventNames.CONTEXTMENU_SHOW,v,w,{type:T?"dependency":"task"})},y.prototype.onTaskPointerEnter=function(v){this.onTaskPointerEnterBase(v)},y.prototype.onDocumentPointerMove=function(v){this.processPointerMove(v)},y.prototype.onDocumentPointerDown=function(v){this.processPointerDown(v)},y.prototype.onDocumentPointerUp=function(v){this.processPointerUp(v)},y.prototype.onTaskTouchStart=function(v){this.onTaskPointerEnterBase(v)},y.prototype.onTouchMove=function(v){this.processPointerMove(v)},y.prototype.onTouchStart=function(v){this.processPointerDown(v)},y.prototype.onTouchEnd=function(v){this.processPointerUp(v)},y.prototype.onMouseDown=function(v){this.processPointerDown(v)},y.prototype.onMouseUp=function(v){},y.prototype.onMouseMove=function(v){this.processPointerMove(v)},y.prototype.onTaskHover=function(v){this.onTaskPointerEnterBase(v)},y.prototype.onTaskLeave=function(v){this.raiseEvent(u.TaskAreaStateEventNames.TASK_LEAVE,v,this.getClickedRowIndex(v))},y.prototype.onClick=function(v){var w=this.getClickedRowIndex(v);this.raiseTaskSelection(v,w),this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_CLICK,v,w)},y.prototype.onDblClick=function(v){v.preventDefault(),this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,v,this.getClickedRowIndex(v))},y.prototype.onTaskAreaLeave=function(v){(!this.isPointerEvent(v)||i.TaskAreaDomHelper.isMousePointer(v))&&(this.isCursorInArea=!1,this.raiseEvent(u.TaskAreaStateEventNames.TASK_EDIT_END,v)),this.onTaskAreaLeaveInternal(v)},y.prototype.onTaskPointerEnterBase=function(v){this.isTouchEvent(v)||this.isPointerEvent(v)||v.preventDefault(),this.raiseEvent(u.TaskAreaStateEventNames.TASK_EDIT_START,v,this.getClickedRowIndex(v))},y.prototype.processPointerDown=function(v){var w=this.isTouchEvent(v),T=this.isPointerEvent(v);(w||T)&&this.checkAndProcessTouchOutsideArea(v)||(this.position=new f.Point(p.EvtUtils.getEventX(v),p.EvtUtils.getEventY(v)),(w||T)&&v.preventDefault(),w?this.onTouchStartInternal(v):T?this.onDocumentPointerDownInternal(v):this.onMouseDownInternal(v))},y.prototype.processPointerMove=function(v){var w,T=this.isTouchEvent(v),k=this.isPointerEvent(v);(w=this.position)!==null&&w!==void 0||(this.position=new f.Point(p.EvtUtils.getEventX(v),p.EvtUtils.getEventY(v)));var I=Math.abs(this.position.x-p.EvtUtils.getEventX(v))>2||Math.abs(this.position.y-p.EvtUtils.getEventY(v))>2;!((T||k)&&this.checkAndProcessTouchOutsideArea(v))&&I&&((T||k)&&v.preventDefault(),this.isTouchEvent(v)?this.onTouchMoveInternal(v):this.isPointerEvent(v)?this.onDocumentPointerMoveInternal(v):(this.isCursorInArea=!0,this.onMouseMoveInternal(v)))},y.prototype.processPointerUp=function(v){this.checkAndProcessTouchOutsideArea(v)||(v.preventDefault(),this.isTouchEvent(v)?this.onTouchEndInternal(v):this.onDocumentPointerUpInternal(v))},y.prototype.onMouseDownInternal=function(v){},y.prototype.onMouseMoveInternal=function(v){},y.prototype.onDocumentPointerUpInternal=function(v){},y.prototype.onDocumentPointerDownInternal=function(v){},y.prototype.onDocumentPointerMoveInternal=function(v){},y.prototype.onTouchStartInternal=function(v){},y.prototype.onTouchEndInternal=function(v){},y.prototype.onTouchMoveInternal=function(v){},y.prototype.onTaskAreaLeaveInternal=function(v){},y.prototype.checkAndProcessTouchOutsideArea=function(v){var w=!this.isInTaskArea(v);return w&&this.raiseEvent(u.TaskAreaStateEventNames.TASK_EDIT_END,v),this.isCursorInArea=!w,w},y.prototype.raiseEvent=function(v,w,T,k){var I=new l.TaskAreaEventArgs(v,w,T,k),C=this._listener.getHandler(v);return C&&C(I)},y.prototype.raiseDependencySelection=function(v,w){this.raiseEvent(u.TaskAreaStateEventNames.DEPENDENCY_SELECTION,v,null,{key:w})},y.prototype.raiseTaskSelection=function(v,w){m.DomUtils.isItParent(this._taskArea,p.EvtUtils.getEventSource(v))&&!i.TaskAreaDomHelper.isConnectorLine(v)&&this.raiseEvent(u.TaskAreaStateEventNames.TASK_SELECTION,v,w)},y.prototype.getClickedRowIndex=function(v){if(!v)return-1;var w=p.EvtUtils.getEventY(v)-m.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(w/this._cellSize.height)},y.prototype.getRelativePos=function(v){var w=m.DomUtils.getAbsolutePositionX(this._taskArea),T=m.DomUtils.getAbsolutePositionY(this._taskArea);return new f.Point(v.x-w,v.y-T)},y.prototype.isInTaskArea=function(v){return m.DomUtils.isItParent(this._taskArea,p.EvtUtils.getEventSource(v))},y.prototype.getShortcutCode=function(v){var w=n.KeyUtils.getEventKeyCode(v),T=0;return v.altKey&&(T|=n.ModifierKey.Alt),v.ctrlKey&&(T|=n.ModifierKey.Ctrl),v.shiftKey&&(T|=n.ModifierKey.Shift),v.metaKey&&d.Browser.MacOSPlatform&&(T|=n.ModifierKey.Meta),T|w},y})();o.TaskAreaStateBase=a},1404:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaStateEventNames=void 0;var s=(function(){function d(){}return d.TASK_AREA_CLICK="taskAreaClick",d.TASK_AREA_DBLCLICK="taskAreaDblClick",d.TASK_AREA_SCROLL="taskAreaScroll",d.TASK_AREA_START_MOVE="taskAreaStartMove",d.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",d.TASK_AREA_END_MOVE="taskAreaEndMove",d.TASK_AREA_ZOOM_IN="taskAreaZoomIn",d.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",d.CONTEXTMENU_SHOW="contextMenuShow",d.CONTEXTMENU_HIDE="contextMenuHide",d.DEPENDENCY_SELECTION="dependencySelection",d.STATE_EXIT="stateExit",d.TASK_SELECTION="taskSelection",d.TASK_EDIT_START="taskEditStart",d.TASK_EDIT_END="taskEditEnd",d.TASK_LEAVE="taskLeave",d.TASK_PROCESS_MOVE="taskProcessMove",d.TASK_END_MOVE="taskEndMove",d.TASK_PROCESS_PROGRESS="taskProcessProgress",d.TASK_END_PROGRESS="taskEndProgress",d.TASK_PROCESS_START="taskProcessStart",d.TASK_CONFIRM_START="taskConfirmStart",d.TASK_PROCESS_END="taskProcessEnd",d.TASK_CONFIRM_END="taskConfirmEnd",d.GET_DEPENDENCY_POINTS="getDependencyPoints",d.DEPENDENCY_START="dependencyStart",d.DEPENDENCY_PROCESS="dependencyProcess",d.DEPENDENCY_END="dependencyEnd",d.TASK_AREA_KEY_DOWN="taskAreaKeyDown",d.GET_POINTERS_INFO="getPointersInfo",d.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",d})();o.TaskAreaStateEventNames=s},6591:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaZoomState=void 0;var d=s(655),f=s(8900),m=s(3714),p=s(5596),n=s(5867),l=s(1404),i=(function(u){function a(){var y=u!==null&&u.apply(this,arguments)||this;return y._isInZooming=!1,y}return d.__extends(a,u),a.prototype.onMouseWheel=function(y){y.ctrlKey&&(y.preventDefault(),y.stopPropagation(),this._isInZooming||this.processZoom(y,m.EvtUtils.getWheelDelta(y)>0,50))},a.prototype.onDocumentPointerUpInternal=function(y){this.onEndZoom(y)},a.prototype.onDocumentPointerMoveInternal=function(y){this.onTouchZoom(y)},a.prototype.onTouchEndInternal=function(y){this.onEndZoom(y)},a.prototype.onTouchMoveInternal=function(y){this.onTouchZoom(y)},a.prototype.onTouchZoom=function(y){var v;if(y.stopPropagation(),y.preventDefault(),!this._isInZooming){var w=this.getTouchDistance(y);(v=this.prevDistance)!==null&&v!==void 0||(this.prevDistance=w);var T=this.prevDistance-w;Math.abs(T)>3&&(this.processZoom(y,T>0,1e3),this.prevDistance=w)}},a.prototype.processZoom=function(y,v,w){var T=this;this._isInZooming=!0,setTimeout((function(){T._isInZooming=!1}),w);var k=v?l.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:l.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(k,y,null,{leftPos:this.getLeftPosition(y)})},a.prototype.onEndZoom=function(y){this.prevDistance=null,this.raiseEvent(l.TaskAreaStateEventNames.STATE_EXIT,y)},a.prototype.getTouchDistance=function(y){var v=this.GetTouchPoints(y);return this.getDistance(v[0],v[1])},a.prototype.GetTouchPoints=function(y){var v,w,T,k;if(this.isTouchEvent(y)){var I=y.touches;return[new f.Point(I[0].pageX,I[0].pageY),new f.Point(I[1].pageX,I[1].pageY)]}var C=this.raiseEvent(l.TaskAreaStateEventNames.GET_POINTERS_INFO,y);return[new f.Point((v=C[0])===null||v===void 0?void 0:v.pageX,(w=C[0])===null||w===void 0?void 0:w.pageY),new f.Point((T=C[1])===null||T===void 0?void 0:T.pageX,(k=C[1])===null||k===void 0?void 0:k.pageY)]},a.prototype.getDistance=function(y,v){return p.Metrics.euclideanDistance(y,v)},a.prototype.getLeftPosition=function(y){var v=0;return this.isTouchEvent(y)||this.isPointerEvent(y)?v=this.getZoomMiddlePoint(y).x:this.isMouseEvent(y)&&(v=this.getMouseZoomLeftPos(y)),v},a.prototype.getMouseZoomLeftPos=function(y){var v=this.raiseEvent(l.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return m.EvtUtils.getEventX(y)-v.x},a.prototype.getZoomMiddlePoint=function(y){var v=this.raiseEvent(l.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),w=this.GetTouchPoints(y),T=this.convertScreenToChartCoordinates(w[0],v),k=this.convertScreenToChartCoordinates(w[1],v);return new f.Point((T.x+k.x)/2,(T.y+k.y)/2)},a.prototype.convertScreenToChartCoordinates=function(y,v){return new f.Point(y.x-v.x,y.y-v.y)},a})(n.TaskAreaStateBase);o.TaskAreaZoomState=i},6262:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskDragBaseState=void 0;var d=s(655),f=s(8900),m=s(3714),p=s(5867),n=s(1404),l=(function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(u,i),u.prototype.onMouseDownInternal=function(a){this.onStart(a)},u.prototype.onMouseUp=function(a){this.onEnd(a)},u.prototype.onMouseMoveInternal=function(a){this.onDrag(a)},u.prototype.onTouchStartInternal=function(a){this.onStart(a)},u.prototype.onTouchEndInternal=function(a){this.onEnd(a)},u.prototype.onTouchMoveInternal=function(a){this.onDrag(a)},u.prototype.onDocumentPointerDownInternal=function(a){this.onStart(a)},u.prototype.onDocumentPointerUpInternal=function(a){this.onEnd(a)},u.prototype.onDocumentPointerMoveInternal=function(a){this.onDrag(a)},u.prototype.onStart=function(a){this.currentPosition=new f.Point(m.EvtUtils.getEventX(a),m.EvtUtils.getEventY(a)),this.raiseDependencySelection(a,null),this.onStartInternal(a)},u.prototype.onDrag=function(a){var y;a.preventDefault();var v=new f.Point(m.EvtUtils.getEventX(a),m.EvtUtils.getEventY(a));(y=this.currentPosition)!==null&&y!==void 0||(this.currentPosition=v),this.onDragInternal(v),this.currentPosition=v},u.prototype.onEnd=function(a){this.onEndInternal(a),this.raiseEvent(n.TaskAreaStateEventNames.STATE_EXIT,a)},u.prototype.onStartInternal=function(a){},u.prototype.onEndInternal=function(a){},u.prototype.onDragInternal=function(a){},u.prototype.finish=function(){this.raiseEvent(n.TaskAreaStateEventNames.TASK_EDIT_END)},u})(p.TaskAreaStateBase);o.TaskDragBaseState=l},2395:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditState=void 0;var d=s(655),f=s(3714),m=s(2449),p=s(9155),n=s(1404),l=(function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(u,i),u.prototype.onStartInternal=function(a){var y;(y=this._source)!==null&&y!==void 0||(this._source=p.TaskAreaDomHelper.getEventSource(f.EvtUtils.getEventSource(a)))},u.prototype.onEndInternal=function(a){this.raiseEvent(this.getEventOnEndKey(),a)},u.prototype.onDragInternal=function(a){var y=this.getRelativePos(a);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:y})},u.prototype.getEventOnDragKey=function(){switch(this._source){case m.TaskAreaEventSource.TaskEdit_Start:return n.TaskAreaStateEventNames.TASK_PROCESS_START;case m.TaskAreaEventSource.TaskEdit_End:return n.TaskAreaStateEventNames.TASK_PROCESS_END;case m.TaskAreaEventSource.TaskEdit_Progress:return n.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},u.prototype.getEventOnEndKey=function(){switch(this._source){case m.TaskAreaEventSource.TaskEdit_Start:return n.TaskAreaStateEventNames.TASK_CONFIRM_START;case m.TaskAreaEventSource.TaskEdit_End:return n.TaskAreaStateEventNames.TASK_CONFIRM_END;case m.TaskAreaEventSource.TaskEdit_Progress:return n.TaskAreaStateEventNames.TASK_END_PROGRESS}},u})(s(6262).TaskDragBaseState);o.TaskEditState=l},7295:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskMoveState=void 0;var d=s(655),f=s(1404),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.prototype.onEndInternal=function(l){this.raiseEvent(f.TaskAreaStateEventNames.TASK_END_MOVE,l)},n.prototype.onDragInternal=function(l){this.raiseEvent(f.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:l.x-this.currentPosition.x})||this.raiseEvent(f.TaskAreaStateEventNames.STATE_EXIT)},n})(s(6262).TaskDragBaseState);o.TaskMoveState=m},3461:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaEventArgs=void 0;var d=s(2491),f=function(m,p,n,l){this.rowIndex=-1,this.info={},this.eventName=m,this.triggerEvent=p,(0,d.isDefined)(n)&&(this.rowIndex=n),l&&(this.info=l)};o.TaskAreaEventArgs=f},8269:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaEventsListener=void 0;var d=s(8900),f=s(2491),m=s(6907),p=s(3714),n=s(2153),l=s(3336),i=s(1404),u=(function(){function a(y){this._owner=y}return Object.defineProperty(a.prototype,"taskEditController",{get:function(){var y;return(y=this._owner)===null||y===void 0?void 0:y.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderHelper",{get:function(){var y;return(y=this._owner)===null||y===void 0?void 0:y.renderHelper},enumerable:!1,configurable:!0}),a.prototype.getHandler=function(y){return this.handlers[y]},a.prototype.setHandler=function(y,v){this.handlers[y]=v},Object.defineProperty(a.prototype,"handlers",{get:function(){var y;return(y=this._handlers)!==null&&y!==void 0||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),a.prototype.createTaskAreaEventHandlers=function(){var y={};return y[i.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),y[i.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),y[i.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),y[i.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),y[i.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),y[i.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),y[i.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),y[i.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),y[i.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),y[i.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),y[i.TaskAreaStateEventNames.STATE_EXIT]=function(){},y},a.prototype.taskAreaClickHandler=function(y){return this._owner.onTaskAreaClick(y.rowIndex,y.triggerEvent)},a.prototype.taskAreaDblClickHandler=function(y){this._owner.onTaskAreaDblClick(y.rowIndex,y.triggerEvent)},a.prototype.taskSelectionHandler=function(y){this._owner.onTaskSelectionChanged(y.rowIndex,y.triggerEvent)},a.prototype.taskAreaContextMenuShowHandler=function(y){this._owner.onTaskAreaContextMenu(y.rowIndex,y.triggerEvent,y.info.type)},a.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},a.prototype.taskAreaScrollHandler=function(y){this._owner.updateView()},a.prototype.dependencySelectionHandler=function(y){var v=y.info.key,w=this.taskEditController.dependencyId;(v!==w||!v&&(0,f.isDefined)(w))&&this._owner.selectDependency(v)},Object.defineProperty(a.prototype,"ganttMovingHelper",{get:function(){var y;return(y=this._ganttMovingHelper)!==null&&y!==void 0||(this._ganttMovingHelper=new l.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),a.prototype.taskAreaStartMoveHandler=function(y){this.ganttMovingHelper.startMoving(y.triggerEvent)},a.prototype.taskAreaProcessMoveHandler=function(y){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(y.triggerEvent),y.triggerEvent.preventDefault())},a.prototype.taskAreaEndMoveHandler=function(y){this.ganttMovingHelper.onMouseUp(y.triggerEvent)},a.prototype.taskAreaZoomInHandler=function(y){this._owner.zoomIn(y.info.leftPos)},a.prototype.taskAreaZoomOutHandler=function(y){this._owner.zoomOut(y.info.leftPos)},a.prototype.getCoordinatesRefPoint=function(y){var v=m.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),w=m.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new d.Point(v,w)},a.prototype.taskEditStartHandler=function(y){this.taskEditController.show(y.rowIndex),this.taskEditController.showTaskInfo(p.EvtUtils.getEventX(y.triggerEvent))},a.prototype.taskLeaveHandler=function(y){this.taskEditController.cancel()},a.prototype.taskEditEndHandler=function(y){this.taskEditController.endEditing()},a.prototype.taskEndMoveHandler=function(y){this.taskEditController.confirmMove()},a.prototype.taskProcessMoveHandler=function(y){var v;return this.taskEditController.processMove((v=y.info.delta)!==null&&v!==void 0?v:0)},a.prototype.taskEndProgressHandler=function(y){this.taskEditController.confirmProgress()},a.prototype.taskProcessProgressHandler=function(y){this.taskEditController.processProgress(y.info.position)},a.prototype.taskProcessStartHandler=function(y){this.taskEditController.processStart(y.info.position)},a.prototype.taskConfirmStartHandler=function(y){this.taskEditController.confirmStart()},a.prototype.taskProcessEndHandler=function(y){this.taskEditController.processEnd(y.info.position)},a.prototype.taskConfirmEndHandler=function(y){this.taskEditController.confirmEnd()},a.prototype.getDependencyPoints=function(y){var v={};return v.successorStart=new d.Point(m.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,m.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),v.successorFinish=new d.Point(m.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,m.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),v},a.prototype.dependencyStartHandler=function(y){this.taskEditController.startDependency(y.info.pos)},a.prototype.dependencyEndHandler=function(y){this.taskEditController.endDependency(y.info.type)},a.prototype.dependencyProcessHandler=function(y){this.taskEditController.processDependency(y.info.pos),this._owner.viewModel.tasks.items[y.rowIndex]&&this.taskEditController.showDependencySuccessor(y.rowIndex)},a.prototype.onTaskAreaKeyDown=function(y){var v=y.info.code;v==(n.ModifierKey.Ctrl|n.KeyCode.Key_z)&&this._owner.history.undo(),v==(n.ModifierKey.Ctrl|n.KeyCode.Key_y)&&this._owner.history.redo(),v==n.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},a})();o.TaskAreaEventsListener=u},3682:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaManager=o.TOUCH_ACTION_NONE=void 0;var d=s(9279),f=s(6907),m=s(3714),p=s(6958);o.TOUCH_ACTION_NONE="dx-gantt-touch-action";var n=(function(){function l(i,u,a){this._eventListener=i,this._taskArea=u,this._cellSize=a,this.attachEvents()}return l.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():d.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},l.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():d.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},l.prototype.attachEventsOnTask=function(i){window.PointerEvent?i==null||i.addEventListener("pointerenter",this.onTaskPointerEnterHandler):d.Browser.TouchUI?i==null||i.addEventListener("touchstart",this.onTaskTouchStartHandler):(i==null||i.addEventListener("mouseenter",this.onTaskMouseEnterHandler),i==null||i.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},l.prototype.detachEventsOnTask=function(i){window.PointerEvent?i==null||i.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):d.Browser.TouchUI?i==null||i.removeEventListener("touchstart",this.onTaskTouchStartHandler):(i==null||i.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),i==null||i.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},l.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(m.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},l.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(m.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},l.prototype.attachPointerEvents=function(){f.DomUtils.addClassName(this.taskArea,o.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},l.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),f.DomUtils.removeClassName(this.taskArea,o.TOUCH_ACTION_NONE)},l.prototype.attachTouchEvents=function(){f.DomUtils.addClassName(this.taskArea,o.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},l.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),f.DomUtils.removeClassName(this.taskArea,o.TOUCH_ACTION_NONE)},l.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},l.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(l.prototype,"stateController",{get:function(){var i;return(i=this._stateController)!==null&&i!==void 0||(this._stateController=new p.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),l.prototype.taskAreaAddEventListener=function(i,u){this.taskArea.addEventListener(i,u)},l.prototype.taskAreaRemoveEventListener=function(i,u){this.taskArea.removeEventListener(i,u)},Object.defineProperty(l.prototype,"onContextMenuHandler",{get:function(){var i,u=this;return(i=this._onContextMenuHandler)!==null&&i!==void 0||(this._onContextMenuHandler=function(a){u.stateController.onContextMenu(a)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onMouseWheelHandler",{get:function(){var i,u=this;return(i=this._onMouseWheelHandler)!==null&&i!==void 0||(this._onMouseWheelHandler=function(a){u.stateController.onMouseWheel(a)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onScrollHandler",{get:function(){var i,u=this;return(i=this._onScrollHandler)!==null&&i!==void 0||(this._onScrollHandler=function(a){u.stateController.onScroll(a)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onKeyDownHandler",{get:function(){var i,u=this;return(i=this._onKeyDownHandler)!==null&&i!==void 0||(this._onKeyDownHandler=function(a){u.stateController.onKeyDown(a)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTaskPointerEnterHandler",{get:function(){var i,u=this;return(i=this._onTaskPointerEnterHandler)!==null&&i!==void 0||(this._onTaskPointerEnterHandler=function(a){u.stateController.onTaskPointerEnter(a)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var i,u=this;return(i=this._onTaskAreaPointerLeaveHandler)!==null&&i!==void 0||(this._onTaskAreaPointerLeaveHandler=function(a){u.stateController.onTaskAreaPointerLeave(a)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onDocumentPointerDownHandler",{get:function(){var i,u=this;return(i=this._onDocumentPointerDownHandler)!==null&&i!==void 0||(this._onDocumentPointerDownHandler=function(a){u.stateController.onDocumentPointerDown(a)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onDocumentPointerUpHandler",{get:function(){var i,u=this;return(i=this._onDocumentPointerUpHandler)!==null&&i!==void 0||(this._onDocumentPointerUpHandler=function(a){u.stateController.onDocumentPointerUp(a)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var i,u=this;return(i=this._onDocumentPointerCancelHandler)!==null&&i!==void 0||(this._onDocumentPointerCancelHandler=function(a){u.stateController.onDocumentPointerCancel(a)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onDocumentPointerMoveHandler",{get:function(){var i,u=this;return(i=this._onDocumentPointerMoveHandler)!==null&&i!==void 0||(this._onDocumentPointerMoveHandler=function(a){u.stateController.onDocumentPointerMove(a)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTouchStartHandler",{get:function(){var i,u=this;return(i=this._onTouchStartHandler)!==null&&i!==void 0||(this._onTouchStartHandler=function(a){u.stateController.onTouchStart(a)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTouchEndHandler",{get:function(){var i,u=this;return(i=this._onTouchEndHandler)!==null&&i!==void 0||(this._onTouchEndHandler=function(a){u.stateController.onTouchEnd(a)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTouchMoveHandler",{get:function(){var i,u=this;return(i=this._onTouchMoveHandler)!==null&&i!==void 0||(this._onTouchMoveHandler=function(a){u.stateController.onTouchMove(a)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTaskTouchStartHandler",{get:function(){var i,u=this;return(i=this._onTaskTouchStartHandler)!==null&&i!==void 0||(this._onTaskTouchStartHandler=function(a){u.stateController.onTaskTouchStart(a)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onMouseClickHandler",{get:function(){var i,u=this;return(i=this._onMouseClickHandler)!==null&&i!==void 0||(this._onMouseClickHandler=function(a){u.stateController.onClick(a)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onMouseDblClickHandler",{get:function(){var i,u=this;return(i=this._onMouseDblClickHandler)!==null&&i!==void 0||(this._onMouseDblClickHandler=function(a){u.stateController.onDblClick(a)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onMouseDownHandler",{get:function(){var i,u=this;return(i=this._onMouseDownHandler)!==null&&i!==void 0||(this._onMouseDownHandler=function(a){u.stateController.onMouseDown(a)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var i,u=this;return(i=this._onTaskAreaMouseLeaveHandler)!==null&&i!==void 0||(this._onTaskAreaMouseLeaveHandler=function(a){u.stateController.onTaskAreaMouseLeave(a)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onMouseMoveHandler",{get:function(){var i,u=this;return(i=this._onMouseMoveHandler)!==null&&i!==void 0||(this._onMouseMoveHandler=function(a){u.stateController.onMouseMove(a)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onMouseUpHandler",{get:function(){var i,u=this;return(i=this._onMouseUpHandler)!==null&&i!==void 0||(this._onMouseUpHandler=function(a){u.stateController.onMouseUp(a)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTaskMouseEnterHandler",{get:function(){var i,u=this;return(i=this._onTaskMouseEnterHandler)!==null&&i!==void 0||(this._onTaskMouseEnterHandler=function(a){u.stateController.onTaskElementHover(a)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTaskMouseLeaveHandler",{get:function(){var i,u=this;return(i=this._onTaskMouseLeaveHandler)!==null&&i!==void 0||(this._onTaskMouseLeaveHandler=function(a){u.stateController.onTaskElementLeave(a)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),l.DBLCLICK_INTERVAL=300,l.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",l})();o.TaskAreaManager=n},2366:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GanttView=void 0;var d=s(639),f=s(9279),m=s(7156),p=s(1284),n=s(858),l=s(7880),i=s(9201),u=s(9954),a=s(8695),y=s(6893),v=s(8725),w=s(2491),T=s(3452),k=s(9650),I=s(2978),C=s(1074),D=s(5351),P=s(6353),A=s(9057),R=s(5098),z=s(9640),B=s(8478),N=s(5846),Z=s(2449),ne=s(1408),ie=s(6626),Y=s(3714),oe=s(6907),ae=s(8900),O=s(8269),U=s(4730),X=s(6124),re=(function(){function H(L,K,$){var ue=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new P.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=K,this.settings=D.Settings.parse($),this.initValidationController(),this.renderHelper=new C.RenderHelper(this),this.renderHelper.initMarkup(L),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new m.CommandManager(this),this.barManager=new d.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new v.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout((function(){ue.scrollLeftByViewType()}),0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return H.prototype.initGanttViewApi=function(){this.ganttViewApi=new ie.GanttViewApi(this)},H.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},H.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},H.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},H.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},H.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,this._updateWithModelReloadLockedCounter===0&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},H.prototype.initValidationController=function(){var L=this,K=N.ValidationControllerSettings.parse({getViewModel:function(){return L.viewModel},getHistory:function(){return L.history},getModelManipulator:function(){return L.modelManipulator},getRange:function(){return L.range},getValidationSettings:function(){return L.settings.validation},updateOwnerInAutoParentMode:function(){L.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return L.isValidateDependenciesRequired()}});this.validationController=new B.ValidationController(K)},H.prototype.initTaskEditController=function(){var L=this,K=z.TaskEditSettings.parse({destroyTemplate:function($){L.destroyTemplate($)},formatDate:function($){return L.getDateFormat($)},getRenderHelper:function(){return L.renderHelper},getGanttSettings:function(){return L.settings},getViewModel:function(){return L.viewModel},getCommandManager:function(){return L.commandManager},getModelManipulator:function(){return L.modelManipulator},getValidationController:function(){return L.validationController}});this.taskEditController=new R.TaskEditController(K)},Object.defineProperty(H.prototype,"taskAreaEventsListener",{get:function(){var L;return(L=this._taskAreaEventsListener)!==null&&L!==void 0||(this._taskAreaEventsListener=new O.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),H.prototype.initFullScreenModeHelper=function(){var L=this,K=u.FullScreenHelperSettings.parse({getMainElement:function(){return L.getOwnerControlMainElement()},adjustControl:function(){L.adjustOwnerControl()}});this.fullScreenModeHelper=new a.FullScreenModeHelper(K)},H.prototype.getDateRange=function(L,K){var $=this.getVisibleAreaTime(),ue=this.settings.startDateRange||i.DateUtils.adjustStartDateByViewType(new Date(L.getTime()-$),this.settings.viewType,this.settings.firstDayOfWeek),ge=this.settings.endDateRange||i.DateUtils.adjustEndDateByViewType(new Date(K.getTime()+$),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&ue>ge?ge=ue:this.settings.endDateRange&&ue>ge&&(ue=ge),new n.DateRange(ue,ge)},H.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*i.DateUtils.getTickTimeSpan(this.settings.viewType)},H.prototype.zoomIn=function(L){L===void 0&&(L=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(L)},H.prototype.zoomOut=function(L){L===void 0&&(L=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(L)},H.prototype.scrollToDate=function(L){if(L){var K=L instanceof Date?i.DateUtils.getOrCreateUTCDate(L):i.DateUtils.parse(L);this.scrollToDateCore(K,0)}},H.prototype.showDialog=function(L,K,$,ue){this.ganttOwner.showDialog(L,K,$,ue)},H.prototype.showPopupMenu=function(L){this.ganttOwner.showPopupMenu(L)},H.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},H.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},H.prototype.expandAll=function(){this.ganttOwner.expandAll()},H.prototype.onGanttViewContextMenu=function(L,K,$){return this.ganttOwner.onGanttViewContextMenu(L,K,$)},H.prototype.changeGanttTaskSelection=function(L,K){this.ganttOwner.changeGanttTaskSelection(L,K)},H.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},H.prototype.scrollLeftByViewType=function(){var L=i.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(L,1)},H.prototype.scrollToDateCore=function(L,K){this.renderHelper.setTaskAreaContainerScrollLeftToDate(L,K)},H.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},H.prototype.initializeStripLinesUpdater=function(){var L=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval((function(){L.renderHelper.recreateStripLines()}),Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},H.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},H.prototype.getGanttViewStartDate=function(L){if(!L)return new Date;var K=L.map((function($){return typeof $.start=="string"?new Date($.start):$.start})).filter((function($){return(0,w.isDefined)($)}));return K.length>0?K.reduce((function($,ue){return ue<$?ue:$}),K[0]):new Date},H.prototype.getGanttViewEndDate=function(L){if(!L)return new Date;var K=L.map((function($){return typeof $.end=="string"?new Date($.end):$.end})).filter((function($){return(0,w.isDefined)($)}));return K.length>0?K.reduce((function($,ue){return ue>$?ue:$}),K[0]):new Date},H.prototype.getTask=function(L){var K=this.getViewItem(L);return K==null?void 0:K.task},H.prototype.getViewItem=function(L){var K;return(K=this.viewModel)===null||K===void 0?void 0:K.items[L]},H.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},H.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},H.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},H.prototype.onBeginUpdateView=function(){this[H.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[H.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},H.prototype.onEndUpdateView=function(){delete this[H.taskAreaScrollTopKey],delete this[H.taskAreaScrollLeftKey],delete this[H.taskTextHeightKey]},Object.defineProperty(H.prototype,"taskAreaContainerScrollTop",{get:function(){var L;return(L=this[H.taskAreaScrollTopKey])!==null&&L!==void 0?L:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"taskAreaContainerScrollLeft",{get:function(){var L;return(L=this[H.taskAreaScrollLeftKey])!==null&&L!==void 0?L:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),H.prototype.processScroll=function(L){this.hideTaskEditControl(),this.renderHelper.processScroll(L)},H.prototype.allowTaskAreaBorders=function(L){return L?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},H.prototype.getScaleItemText=function(L,K){return this.renderHelper.getScaleItemText(L,K)},H.prototype.getTaskText=function(L){return this.renderHelper.getTaskText(L)},H.prototype.rowHasChildren=function(L){var K=this.getViewItem(L);return(K==null?void 0:K.children.length)>0},H.prototype.rowHasSelection=function(L){var K=this.getViewItem(L);return K==null?void 0:K.selected},H.prototype.getAllVisibleTaskIndices=function(L,K){return this.viewModel.getAllVisibleTaskIndices(L,K)},H.prototype.getVisibleDependencyKeysByTaskRange=function(L){if(!this.settings.showDependencies)return[];var K=this.viewModel,$=L.map((function(ue){return K.tasks.items[ue].internalId}));return K.dependencies.items.filter((function(ue){return $.indexOf(ue.successorId)>-1||$.indexOf(ue.predecessorId)>-1})).map((function(ue){return ue.internalId}))},H.prototype.getTreeListTableStyle=function(){var L,K;return(K=(L=this.ganttOwner).getTreeListTableStyle)===null||K===void 0?void 0:K.call(L)},H.prototype.getTreeListColCount=function(){var L,K;return(K=(L=this.ganttOwner).getTreeListColCount)===null||K===void 0?void 0:K.call(L)},H.prototype.getTreeListHeaderInfo=function(L){var K,$;return($=(K=this.ganttOwner).getTreeListHeaderInfo)===null||$===void 0?void 0:$.call(K,L)},H.prototype.getTreeListCellInfo=function(L,K,$){var ue,ge;return(ge=(ue=this.ganttOwner).getTreeListCellInfo)===null||ge===void 0?void 0:ge.call(ue,L,K,$)},H.prototype.getTreeListEmptyDataCellInfo=function(){var L,K;return(K=(L=this.ganttOwner).getTreeListEmptyDataCellInfo)===null||K===void 0?void 0:K.call(L)},H.prototype.exportToPdf=function(L){var K;return(K=L.docCreateMethod)!==null&&K!==void 0||(L.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new I.PdfGanttExporter(new y.GanttExportCalculator(this,L)).export()},H.prototype.getDefaultPdfDocCreateMethod=function(){var L;return(L=window.jspdf)===null||L===void 0?void 0:L.jsPDF},H.prototype.getTaskDependencies=function(L){return this.viewModel.dependencies.items.filter((function(K){return K.predecessorId==L||K.successorId==L}))},H.prototype.isHighlightRowElementAllowed=function(L){var K=this.getViewItem(L);return L%2!=0&&this.settings.areAlternateRowsEnabled||(K==null?void 0:K.children.length)>0},H.prototype.calculateAutoViewType=function(L,K){var $=(K.getTime()-L.getTime())/36e5;return $>8760?Z.ViewType.Years:$>720?Z.ViewType.Months:$>168?Z.ViewType.Weeks:$>24?Z.ViewType.Days:$>6?Z.ViewType.SixHours:$>1?Z.ViewType.Hours:Z.ViewType.TenMinutes},H.prototype.getExternalTaskAreaContainer=function(L){return this.ganttOwner.getExternalTaskAreaContainer(L)},H.prototype.prepareExternalTaskAreaContainer=function(L,K){return this.ganttOwner.prepareExternalTaskAreaContainer(L,K)},H.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},H.prototype.changeTaskExpanded=function(L,K){var $=this.getTaskByPublicId(L);$&&this.viewModel.changeTaskExpanded($.internalId,K)},H.prototype.expandTask=function(L){this.viewModel.changeTaskExpanded(L,!0)},H.prototype.collapseTask=function(L){this.viewModel.changeTaskExpanded(L,!1)},H.prototype.showTask=function(L){this.viewModel.changeTaskVisibility(L,!0)},H.prototype.hideTask=function(L){this.viewModel.changeTaskVisibility(L,!1)},H.prototype.getTaskVisibility=function(L){return this.viewModel.getTaskVisibility(L)},H.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},H.prototype.getTaskSelected=function(L){return this.viewModel.getTaskSelected(L)},H.prototype.setViewType=function(L,K){K===void 0&&(K=!0),this.ganttViewApi.setViewType(L,K)},H.prototype.setViewTypeRange=function(L,K){this.ganttViewApi.setViewTypeRange(L,K)},H.prototype.setTaskTitlePosition=function(L){this.settings.taskTitlePosition!==L&&(this.settings.taskTitlePosition=L,this.resetAndUpdate())},H.prototype.setShowResources=function(L){this.settings.showResources!==L&&(this.settings.showResources=L,this.resetAndUpdate())},H.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},H.prototype.setShowDependencies=function(L){this.settings.showDependencies!==L&&(this.settings.showDependencies=L,this.resetAndUpdate())},H.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},H.prototype.setFirstDayOfWeek=function(L){this.settings.firstDayOfWeek!==L&&(this.settings.firstDayOfWeek=L,this.resetAndUpdate())},H.prototype.setStartDateRange=function(L){l.DateTimeUtils.areDatesEqual(this.settings.startDateRange,L)||(this.settings.startDateRange=new Date(L),this.resetAndUpdate())},H.prototype.setEndDateRange=function(L){l.DateTimeUtils.areDatesEqual(this.settings.endDateRange,L)||(this.settings.endDateRange=new Date(L),this.resetAndUpdate())},H.prototype.loadOptionsFromGanttOwner=function(){var L,K=this;this.tickSize.height=this.ganttOwner.getRowHeight();var $=this.ganttOwner.getGanttTasksData();this.dataRange=new n.DateRange(this.getGanttViewStartDate($),this.getGanttViewEndDate($)),this.settings.viewType==null&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new T.ModelChangesDispatcher;var ue=this.ganttOwner.getModelChangesListener();ue&&this.dispatcher.onModelChanged.add(ue),this.viewModel=new ne.ViewVisualModel(this,$,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new k.ModelManipulator(this.viewModel,this.dispatcher),(L=this.history)===null||L===void 0||L.historyItems.forEach((function(ge){return ge.setModelManipulator(K.modelManipulator)}))},H.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),f.Browser.IE&&this.taskEditController.createElements(),this.updateView()},H.prototype.cleanMarkup=function(){this.setNormalScreenMode(),this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},H.prototype.checkAndProcessModelChanges=function(){var L=this.ganttOwner.getGanttTasksData(),K=this.viewModel.refreshTaskDataIfRequires(L);return K&&this.resetAndUpdate(),K},H.prototype.updateHistoryObsoleteInsertedKey=function(L,K,$){var ue;(ue=this.history)===null||ue===void 0||ue.updateObsoleteInsertedKey(L,K,$),$===X.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(L,K)},H.prototype.updateRowHeights=function(L){if(this.tickSize.height!==L){this.tickSize.height=L;var K=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(K)}},H.prototype.selectTask=function(L){this.selectDependency(null),this.viewModel.changeTaskSelected(L,!0),this.currentSelectedTaskID=L,this.updateBarManager()},H.prototype.unselectTask=function(L){this.viewModel.changeTaskSelected(L,!1),this.updateBarManager()},H.prototype.selectTaskById=function(L){this.unselectCurrentSelectedTask();var K=this.getTaskByPublicId(L);K&&this.selectTask(K.internalId)},H.prototype.selectDependency=function(L){this.taskEditController.selectDependency(L),this.renderHelper.createConnectorLines()},H.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},H.prototype.setWidth=function(L){this.renderHelper.setMainElementWidth(L)},H.prototype.setHeight=function(L){this.renderHelper.setMainElementHeight(L)},H.prototype.setAllowSelection=function(L){this.settings.allowSelectTask=L},H.prototype.setEditingSettings=function(L){this.settings.editing=L,this.updateBarManager()},H.prototype.setValidationSettings=function(L){this.settings.validation=L},H.prototype.setRowLinesVisible=function(L){this.settings.areHorizontalBordersEnabled=L,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},H.prototype.setStripLines=function(L){this.settings.stripLines=A.StripLineSettings.parse(L),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},H.prototype.deleteTask=function(L){var K=this.getTaskByPublicId(L.toString());K&&this.commandManager.removeTaskCommand.execute(K.internalId,!1,!0)},H.prototype.insertTask=function(L){if(L){var K=L.parentId!=null?String(L.parentId):null,$=this.getTaskByPublicId(K),ue=this.viewModel.getRootTaskId(),ge=typeof L.start=="string"?new Date(L.start):L.start,Ce=typeof L.end=="string"?new Date(L.end):L.end,Ie={parentId:ue&&K===ue?K:$==null?void 0:$.internalId,title:L.title,start:ge,end:Ce,progress:parseInt(L.progress)||0,color:L.color};if(this.commandManager.createTaskCommand.execute(Ie))return this.getLastInsertedTaskId()}return""},H.prototype.updateTask=function(L,K){var $=this.getTaskByPublicId(L.toString()),ue=this._getTaskDataForUpdate(K,$);ue&&this.commandManager.updateTaskCommand.execute($.internalId,ue)},H.prototype.getTaskData=function(L){var K=this.getTaskByPublicId(L.toString());if(K)return this.viewModel.getTaskObjectForDataSource(K)},H.prototype.insertDependency=function(L){if(L){var K=String(L.predecessorId),$=this.getTaskByPublicId(K),ue=String(L.successorId),ge=this.getTaskByPublicId(ue),Ce=L.type;$&&ge&&this.validationController.canCreateDependency(K,ue)&&this.commandManager.createDependencyCommand.execute($.internalId,ge.internalId,Ce)}},H.prototype.deleteDependency=function(L){var K=this.viewModel.convertPublicToInternalKey("dependency",L);(0,w.isDefined)(K)&&this.commandManager.removeDependencyCommand.execute(K)},H.prototype.getDependencyData=function(L){return this.viewModel.getDependencyObjectForDataSource(L)},H.prototype.insertResource=function(L,K){var $=this;L&&this.commandManager.createResourceCommand.execute(String(L.text),L.color&&String(L.color),(function(ue){if((0,w.isDefined)(K))for(var ge=0;ge<K.length;ge++)$.assignResourceToTask(ue,K[ge])}))},H.prototype.deleteResource=function(L){var K=this.viewModel.convertPublicToInternalKey("resource",L);(0,w.isDefined)(K)&&this.commandManager.removeResourceCommand.execute(K)},H.prototype.assignResourceToTask=function(L,K){var $=this.viewModel.convertPublicToInternalKey("resource",L),ue=this.viewModel.convertPublicToInternalKey("task",K);(0,w.isDefined)($)&&(0,w.isDefined)(ue)&&this.commandManager.assignResourceCommand.execute($,ue)},H.prototype.unassignResourceFromTask=function(L,K){var $=this.viewModel.findAssignment(L,K);$&&this.commandManager.deassignResourceCommand.execute($.internalId)},H.prototype.unassignAllResourcesFromTask=function(L){var K=this,$=this.viewModel.convertPublicToInternalKey("task",L);this.viewModel.findAllTaskAssignments($).forEach((function(ue){return K.commandManager.deassignResourceCommand.execute(ue.internalId)}))},H.prototype.getResourceData=function(L){return this.viewModel.getResourceObjectForDataSource(L)},H.prototype.getResourceAssignmentData=function(L){return this.viewModel.getResourceAssignmentObjectForDataSource(L)},H.prototype.getTaskResources=function(L){var K=this.viewModel,$=K.getItemByPublicId("task",L);return $&&K.getAssignedResources($).items||[]},H.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map((function(L){return L.id}))},H.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map((function(L){return L.id}))},H.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map((function(L){return L.id}))},H.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map((function(L){return L.id}))},H.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},H.prototype.applyTasksExpandedState=function(L){this.viewModel.applyTasksExpandedState(L)},H.prototype.updateWithDataReload=function(L){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:L};else{var K=L&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),L?this.applyTasksExpandedState(K):this.resetAndUpdate();var $=U.DialogBase.activeInstance;$&&$.canRefresh&&$.getDialogName()==="TaskEdit"&&$.refresh(),this.dispatcher.notifyGanttViewUpdated()}},H.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},H.prototype.getTaskTreeLine=function(L){return this.viewModel.getTaskTreeLine(L).reverse()},H.prototype.isInFullScreenMode=function(){var L;return!!(!((L=this.fullScreenModeHelper)===null||L===void 0)&&L.isInFullScreenMode)},H.prototype.setFullScreenMode=function(){this.isInFullScreenMode()||this.fullScreenModeHelper.toggle()},H.prototype.setNormalScreenMode=function(){this.isInFullScreenMode()&&this.fullScreenModeHelper.toggle()},H.prototype.setTaskValue=function(L,K,$){var ue=this.commandManager.updateTaskCommand,ge=this.getTaskByPublicId(L),Ce={};return ge&&(K==="title"&&(Ce[K]=$||""),K==="progress"&&(Ce[K]=$),K==="start"&&(Ce[K]=l.DateTimeUtils.getMinDate($,ge.end)),K==="end"&&(Ce[K]=l.DateTimeUtils.getMaxDate($,ge.start))),Object.keys(Ce).length>0&&ue.execute(ge.internalId,Ce)},H.prototype.getLastInsertedTaskId=function(){var L=this.history.historyItems.filter((function($){return $ instanceof p.CreateTaskHistoryItem})),K=L[L.length-1];return K&&K.insertedKey},H.prototype.getTaskByPublicId=function(L){return this.viewModel.tasks.getItemByPublicId(L)},H.prototype.getPrevTask=function(L){var K=this.viewModel.findItem(L);if(!K)return null;var $=(K.parent||this.viewModel.root).children.indexOf(K)-1;return $>-1?K.parent.children[$].task:K.parent.task},H.prototype.getTaskIdByInternalId=function(L){var K=this.viewModel.findItem(L),$=K&&K.task;return $?$.id:null},H.prototype.isTaskHasChildren=function(L){var K=this.viewModel.findItem(L);return K&&K.children.length>0},H.prototype.requireFirstLoadParentAutoCalc=function(){var L=this.ganttOwner;return L.getRequireFirstLoadParentAutoCalc&&L.getRequireFirstLoadParentAutoCalc()},H.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},H.prototype.getOwnerControlMainElement=function(){var L=this.ganttOwner;return L.getMainElement&&L.getMainElement()},H.prototype.adjustOwnerControl=function(){var L=this.ganttOwner;L.adjustControl&&L.adjustControl()},H.prototype.applySettings=function(L,K){K===void 0&&(K=!1);var $=D.Settings.parse(L),ue=K||this.settings.equal($);this.settings=$,ue||this.resetAndUpdate()},H.prototype.getDataUpdateErrorCallback=function(){var L=this,K=this.history,$=K.getCurrentProcessingItemInfo();return function(){L.dispatcher.lock(),K.rollBackAndRemove($),L.dispatcher.unlock(),L.updateBarManager()}},H.prototype.setTaskTooltipContentTemplate=function(L){this.settings.taskTooltipContentTemplate=L},H.prototype.setTaskProgressTooltipContentTemplate=function(L){this.settings.taskProgressTooltipContentTemplate=L},H.prototype.setTaskTimeTooltipContentTemplate=function(L){this.settings.taskTimeTooltipContentTemplate=L},H.prototype.setTaskContentTemplate=function(L){this.settings.taskContentTemplate=L},H.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},H.prototype.onTaskAreaClick=function(L,K){var $,ue=this.viewModel.items[L];return ue&&this.onTaskClick(($=ue.task)===null||$===void 0?void 0:$.id,K)},H.prototype.onTaskAreaDblClick=function(L,K){var $=this.viewModel.items[L];$&&this.onTaskDblClick($.task.id,K)&&this.commandManager.showTaskEditDialog.execute($.task)},H.prototype.onTaskAreaContextMenu=function(L,K,$){var ue,ge,Ce=$==="dependency",Ie=K,me=this.viewModel,te=Ce?me.convertInternalToPublicKey("dependency",Y.EvtUtils.getEventSource(K).getAttribute("dependency-id")):(ge=(ue=me.items[L])===null||ue===void 0?void 0:ue.task)===null||ge===void 0?void 0:ge.id;if(this.onGanttViewContextMenu(K,te,$)){var dt={event:K,type:$,key:te,position:new ae.Point(Y.EvtUtils.getEventX(Ie),Y.EvtUtils.getEventY(Ie))};this.showPopupMenu(dt)}},H.prototype.onTaskSelectionChanged=function(L,K){var $=this,ue=this.viewModel.items[L];this.isFocus=oe.DomUtils.isItParent(this.renderHelper.taskArea,Y.EvtUtils.getEventSource(K)),ue&&this.isFocus&&this.settings.allowSelectTask&&setTimeout((function(){$.changeGanttTaskSelection(ue.task.id,!0)}),0)},H.prototype.onTaskClick=function(L,K){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(L,K)},H.prototype.onTaskDblClick=function(L,K){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(L,K)},H.prototype.getDateFormat=function(L){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(L):this.getDefaultDateFormat(L)},H.prototype.getDefaultDateFormat=function(L){return("0"+L.getDate()).slice(-2)+"/"+("0"+(L.getMonth()+1)).slice(-2)+"/"+L.getFullYear()+" "+("0"+L.getHours()).slice(-2)+":"+("0"+L.getMinutes()).slice(-2)},H.prototype.destroyTemplate=function(L){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(L):L.innerHTML=""},H.prototype.onTaskAreaSizeChanged=function(L){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(L)},H.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},H.prototype.showTaskDetailsDialog=function(L){var K=this.getTaskByPublicId(L);K&&this.commandManager.showTaskEditDialog.execute(K,!0)},H.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},H.prototype.getCommandByKey=function(L){return this.commandManager.getCommand(L)},H.prototype._getTaskDataForUpdate=function(L,K){var $={};return K&&L&&((0,w.isDefined)(L.title)&&L.title!==K.title&&($.title=L.title),(0,w.isDefined)(L.progress)&&L.progress!==K.progress&&($.progress=L.progress),(0,w.isDefined)(L.start)&&L.start!==K.start&&($.start=L.start),(0,w.isDefined)(L.end)&&L.end!==K.end&&($.end=L.end),(0,w.isDefined)(L.color)&&L.color!==K.color&&($.color=L.color)),Object.keys($).length>0?$:null},H.prototype.updateViewDataRange=function(){var L=this.viewModel,K=L.getTaskMinStart(),$=L.getTaskMaxEnd(),ue=K.getTime()<this.dataRange.start.getTime(),ge=$.getTime()>this.dataRange.end.getTime();ue&&(this.dataRange.start=K),ge&&(this.dataRange.end=$),(ue||ge)&&this.resetAndUpdate()},H.cachedPrefix="cached_",H.taskAreaScrollLeftKey=H.cachedPrefix+"taskAreaScrollLeft",H.taskAreaScrollTopKey=H.cachedPrefix+"taskAreaScrollTop",H.taskTextHeightKey=H.cachedPrefix+"taskTextHeight",H})();o.GanttView=re},2449:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaEventSource=o.TaskTitlePosition=o.Position=o.ViewType=void 0,(function(s){s[s.TenMinutes=0]="TenMinutes",s[s.Hours=1]="Hours",s[s.SixHours=2]="SixHours",s[s.Days=3]="Days",s[s.Weeks=4]="Weeks",s[s.Months=5]="Months",s[s.Quarter=6]="Quarter",s[s.Years=7]="Years",s[s.FiveYears=8]="FiveYears"})(o.ViewType||(o.ViewType={})),(function(s){s[s.Left=0]="Left",s[s.Top=1]="Top",s[s.Right=2]="Right",s[s.Bottom=3]="Bottom"})(o.Position||(o.Position={})),(function(s){s[s.Inside=0]="Inside",s[s.Outside=1]="Outside",s[s.None=2]="None"})(o.TaskTitlePosition||(o.TaskTitlePosition={})),(function(s){s[s.TaskArea=0]="TaskArea",s[s.TaskEdit_Frame=1]="TaskEdit_Frame",s[s.TaskEdit_Progress=2]="TaskEdit_Progress",s[s.TaskEdit_Start=3]="TaskEdit_Start",s[s.TaskEdit_End=4]="TaskEdit_End",s[s.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",s[s.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",s[s.Successor_Wrapper=7]="Successor_Wrapper",s[s.Successor_DependencyStart=8]="Successor_DependencyStart",s[s.Successor_DependencyFinish=9]="Successor_DependencyFinish"})(o.TaskAreaEventSource||(o.TaskAreaEventSource={}))},8877:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EtalonSizeValues=void 0;var s=function(){this.scaleItemWidths={}};o.EtalonSizeValues=s},8695:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FullScreenModeHelper=void 0;var d=s(9279),f=s(2217),m=s(6907),p=(function(){function n(l){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=l}return Object.defineProperty(n.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),n.prototype.getMainElement=function(){return this.settings.getMainElement()},n.prototype.adjustControl=function(){this.settings.adjustControl()},n.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},n.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},n.prototype.prepareFullScreenMode=function(){var l=this.getMainElement();f.AttrUtils.changeElementStyleAttribute(l,"border-top-width","0px"),f.AttrUtils.changeElementStyleAttribute(l,"border-left-width","0px"),f.AttrUtils.changeElementStyleAttribute(l,"border-right-width","0px"),f.AttrUtils.changeElementStyleAttribute(l,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=m.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=m.DomUtils.getDocumentScrollLeft(),f.AttrUtils.changeElementStyleAttribute(l,"background-color","white"),f.AttrUtils.changeElementStyleAttribute(l,"position","fixed"),f.AttrUtils.changeElementStyleAttribute(l,"top","0px"),f.AttrUtils.changeElementStyleAttribute(l,"left","0px"),f.AttrUtils.changeElementStyleAttribute(l,"z-index","1010"),f.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),f.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=l.style.width,this.fullScreenTempVars.height=l.style.height||l.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},n.prototype.setNormalMode=function(){this.cancelFullScreen(document);var l=this.getMainElement();f.AttrUtils.restoreElementStyleAttribute(l,"left"),f.AttrUtils.restoreElementStyleAttribute(l,"top"),f.AttrUtils.restoreElementStyleAttribute(l,"background-color"),f.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),f.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),f.AttrUtils.restoreElementStyleAttribute(l,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,f.AttrUtils.restoreElementStyleAttribute(l,"position"),f.AttrUtils.restoreElementStyleAttribute(l,"border-top-width"),f.AttrUtils.restoreElementStyleAttribute(l,"border-left-width"),f.AttrUtils.restoreElementStyleAttribute(l,"border-right-width"),f.AttrUtils.restoreElementStyleAttribute(l,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},n.prototype.adjustControlInFullScreenMode=function(){var l=document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth,i=document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(l),this.setHeight(i),this.adjustControl()},n.prototype.requestFullScreen=function(l){l.requestFullscreen?l.requestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&&l.msRequestFullscreen()},n.prototype.cancelFullScreen=function(l){d.Browser.Firefox&&!this.getFullScreenElement(l)||(l.webkitExitFullscreen?l.webkitExitFullscreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.msExitFullscreen?l.msExitFullscreen():l.exitFullscreen&&l.exitFullscreen())},n.prototype.getFullScreenElement=function(l){return l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement},n.prototype.setWidth=function(l){this.getMainElement().style.width=this.isNumber(l)?l+"px":l},n.prototype.setHeight=function(l){this.getMainElement().style.height=this.isNumber(l)?l+"px":l},n.prototype.isNumber=function(l){return!isNaN(parseFloat(l))&&isFinite(l)},n})();o.FullScreenModeHelper=p},1391:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GridElementInfo=void 0;var d=s(8900),f=s(6353),m=s(3604),p=(function(){function n(l,i,u){this.id=n.id++,this.position=new d.Point(void 0,void 0),this.size=new f.Size(0,0),this.margins=new m.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},l&&(this.className=l),i&&this.setPosition(i),u&&this.setSize(u)}return n.prototype.setSize=function(l){this.size.width=l.width,this.size.height=l.height},n.prototype.setPosition=function(l){this.position.x=l.x,this.position.y=l.y},n.prototype.assignToElement=function(l){this.assignPosition(l),this.assignSize(l),this.assignMargins(l),this.className&&(l.className=this.className)},n.prototype.assignPosition=function(l){this.position.x!=null&&(l.style.left=this.position.x+"px"),this.position.y!=null&&(l.style.top=this.position.y+"px")},n.prototype.assignSize=function(l){this.size.width&&(l.style.width=this.size.width+"px"),this.size.height&&(l.style.height=this.size.height+"px")},n.prototype.assignMargins=function(l){this.margins.left&&(l.style.marginLeft=this.margins.left+"px"),this.margins.top&&(l.style.marginTop=this.margins.top+"px"),this.margins.right&&(l.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(l.style.marginBottom=this.margins.bottom+"px")},n.prototype.setAttribute=function(l,i){this.attr[l]=i},n.id=0,n})();o.GridElementInfo=p},1855:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GridLayoutCalculator=void 0;var d=s(6353),f=s(858),m=s(2449),p=s(1391),n=s(8900),l=s(9201),i=s(1442),u=s(5950),a=s(7072),y=s(2491),v=(function(){function w(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new a.ScaleCalculator}return w.prototype.setSettings=function(T,k,I,C,D,P,A,R){A===void 0&&(A=0),R===void 0&&(R=0),this.visibleTaskAreaSize=T,this.tickSize=k,this._viewType=P,this.range=C,this.verticalTickCount=D.itemCount,this.viewModel=D,this.elementSizeValues=I,this.taskHeight=I.taskHeight,this.parentTaskHeight=I.parentTaskHeight,this.milestoneWidth=I.milestoneWidth,this.scaleHeight=I.scaleItemHeight,this.arrowSize=new d.Size(I.connectorArrowWidth,I.connectorArrowWidth),this.lineThickness=I.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=l.DateUtils.getTickTimeSpan(P),this.scrollBarHeight=A,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(C,P,k,R),this.reset()},Object.defineProperty(w.prototype,"viewType",{get:function(){return this._viewType},set:function(T){this._viewType!==T&&(this._viewType=T,this._scaleCalculator.setViewType(T))},enumerable:!1,configurable:!0}),w.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},w.prototype.resetTaskInfo=function(T){delete this._taskWrapperPoints[T],delete this._taskElementInfoList[T]},w.prototype.getTaskAreaBorderInfo=function(T,k){var I=k?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(T,k,I)},w.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},w.prototype.getScaleBorderInfo=function(T,k){var I=new p.GridElementInfo,C=this._scaleCalculator;return I.setPosition(new n.Point(C.getScaleBorderPosition(T,k),void 0)),I.setSize(new d.Size(0,this.scaleHeight)),I.className="dx-gantt-vb",I},w.prototype.getGridBorderInfo=function(T,k,I){var C=new p.GridElementInfo;return C.setPosition(this.getGridBorderPosition(T,k)),I&&C.setSize(this.getGridBorderSize(k,I)),C.className=k?"dx-gantt-vb":"dx-gantt-hb",C},w.prototype.getGridBorderPosition=function(T,k){var I=new n.Point(void 0,void 0),C=this._scaleCalculator,D=k?C.getScaleBorderPosition(T,this.viewType):(T+1)*this.tickSize.height;return k?I.x=D:I.y=D,I},w.prototype.getGridBorderSize=function(T,k){var I=new d.Size(0,0);return T?I.height=k:I.width=k,I},w.prototype.getScaleElementInfo=function(T,k){var I=new p.GridElementInfo,C=this.getScaleItemInfo(T,k);if(C){I.setPosition(C.position),I.setSize(C.size),I.className=this.getScaleItemClassName(k,I,this.getRenderedNoWorkingIntervals(I.position.x));var D=this._scaleCalculator.getScaleItems(k);(T===0||T===D.length-1)&&(I.style.overflowX="hidden",I.style.textOverflow="ellipsis"),I.additionalInfo.range=new f.DateRange(C.start,C.end)}return I},w.prototype.getScaleItemStart=function(T,k){return this._scaleCalculator.getScaleItemAdjustedStart(T,k)},w.prototype.getScaleItemClassName=function(T,k,I){var C="dx-gantt-si";return T.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(k,I)&&(C+=" dx-gantt-holiday-scaleItem"),C},w.prototype.getScaleItemInfo=function(T,k){return this._scaleCalculator.getScaleItem(T,k)},w.prototype.getScaleRangesInArea=function(T,k){var I=l.DateUtils.ViewTypeToScaleMap[this.viewType],C=this._scaleCalculator,D=Math.max(C.getScaleIndexByPos(T,I),0),P=C.getScaleIndexByPos(k,I);P===-1&&(P=C.topScaleItems.length-1);var A=Math.max(C.getScaleIndexByPos(T),0),R=C.getScaleIndexByPos(k);return R===-1&&(R=C.bottomScaleItems.length-1),[[D,P],[A,R]]},w.prototype.isScaleItemInsideNoWorkingInterval=function(T,k){for(var I=T.position.x,C=T.position.x+T.size.width,D=0;D<k.length;D++){var P=k[D].position.x,A=k[D].position.x+k[D].size.width;if(I>=P&&C<=A)return!0}return!1},w.prototype.getScaleItemColSpan=function(T){return this._scaleCalculator.getScaleItemColSpan(T)},w.prototype.getTaskWrapperElementInfo=function(T){var k=new p.GridElementInfo;return k.className=this.getTaskWrapperClassName(T),k.setPosition(this.getTaskWrapperPoint(T)),k.setAttribute("task-index",T),k},w.prototype.getTaskWrapperClassName=function(T){var k="dx-gantt-taskWrapper",I=this.getViewItem(T);return I.task.isMilestone()&&(k="dx-gantt-milestoneWrapper"),I.selected&&(k+=" dx-gantt-selectedTask"),k},w.prototype.getTaskWrapperPoint=function(T){if(!(0,y.isDefined)(this._taskWrapperPoints[T])){var k=this.getViewItem(T),I=this.getTaskHeight(T),C=this.getTaskWidth(T),D=T*this.tickSize.height+(this.tickSize.height-I)/2,P=new n.Point(this.getPosByDate(k.task.start),D);k.task.isMilestone()&&(P.x-=C/2),this._taskWrapperPoints[T]=P}return this._taskWrapperPoints[T].clone()},w.prototype.getTaskElementInfo=function(T,k){if(k===void 0&&(k=!1),!(0,y.isDefined)(this._taskElementInfoList[T])){var I=new p.GridElementInfo,C=this.getTask(T),D=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(T);if(!C.isMilestone()){var P=this.getTaskWidth(T);I.size.width=this.getCorrectedTaskWidthByRange(T,P),I.size.width<P&&(I.additionalInfo.taskCut=!0),k&&(I.size.height=this.getTaskHeight(T))}I.className=this.getTaskClassName(T,I.size.width),C.color&&(I.style.backgroundColor=C.color,D&&(I.style.borderLeftColor=C.color,I.style.borderRightColor=C.color,I.style.borderTopColor=C.color)),this._taskElementInfoList[T]=I}return this._taskElementInfoList[T]},w.prototype.getTaskClassName=function(T,k){var I=w.taskClassName,C=this.getViewItem(T),D=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(T);return C.task.isMilestone()&&!C.isCustom?I+=" "+w.milestoneClassName:(k<=this.elementSizeValues.smallTaskWidth&&(I+=" "+w.smallTaskClassName),D&&(I+=this.getAutoCalcParentTaskClassName(C.task))),I},w.prototype.getAutoCalcParentTaskClassName=function(T){var k=" "+w.parentTaskClassName;return T.progress==0&&(k+=" dx-gantt-noPrg"),T.progress>=100&&(k+=" dx-gantt-cmpl"),k},w.prototype.getTaskPoint=function(T){var k=this.getTaskWrapperPoint(T);return this.getTask(T).isMilestone()||(k.y+=this.elementSizeValues.taskWrapperTopPadding),k},w.prototype.getTaskSize=function(T){return new d.Size(this.getTaskWidth(T),this.getTaskHeight(T))},w.prototype.getTaskWidth=function(T){var k=this.getViewItem(T);return k.isCustom&&k.size.width?k.size.width:k.task.isMilestone()&&!k.isCustom?this.getTaskHeight(T):Math.max(this.getWidthByDateRange(k.task.start,k.task.end),this.minTaskWidth)},w.prototype.getTaskHeight=function(T){var k=this.getViewItem(T);return k.task.isMilestone()&&!k.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(k.task.internalId)?this.parentTaskHeight:k.isCustom&&k.size.height?k.size.height:this.taskHeight},w.prototype.getTask=function(T){var k=this.getViewItem(T);return k==null?void 0:k.task},w.prototype.getViewItem=function(T){return this.viewModel.items[T]},w.prototype.getTaskProgressElementInfo=function(T){var k=new p.GridElementInfo;return k.className=w.taskProgressClassName,k.setSize(this.getTaskProgressSize(T)),k},w.prototype.getTaskProgressSize=function(T){var k=this.getTaskProgressWidth(T);return this.isTaskCutByRange(T)&&(k=this.getCorrectedTaskWidthByRange(T,k)),new d.Size(k,0)},w.prototype.getTaskProgressWidth=function(T){return this.getTaskWidth(T)*this.getTask(T).normalizedProgress/100},w.prototype.getTaskTextElementInfo=function(T,k){var I=new p.GridElementInfo;if(I.className=this.getTaskTextElementClassName(k),!k){var C=this.getTaskPoint(T).x;if(C<this.elementSizeValues.outsideTaskTextDefaultWidth){var D=Math.max(C,0);I.size.width=D,D>0?I.margins.left=-D:I.additionalInfo.hidden=!0}}return I},w.prototype.getTaskTextElementClassName=function(T){return w.taskTitleClassName.concat(" ",T?w.titleInClassName:w.titleOutClassName)},w.prototype.getTaskResourcesWrapperElementInfo=function(T){var k=new p.GridElementInfo,I=this.getTaskSize(T).width;return k.className="dx-gantt-taskResWrapper",k.setPosition(this.getTaskWrapperPoint(T)),k.position.x=k.position.x+I,k},w.prototype.getTaskResourceElementInfo=function(){var T=new p.GridElementInfo;return T.className=w.taskResourceClassName,T},w.prototype.getSelectionElementInfo=function(T){return this.getRowElementInfo(T,"dx-gantt-sel")},w.prototype.getSelectionPosition=function(T){var k=new n.Point(void 0,void 0);return k.y=T*this.tickSize.height,k},w.prototype.getSelectionSize=function(){return new d.Size(this.getTotalWidth(),this.tickSize.height)},w.prototype.getHighlightRowInfo=function(T){return this.getRowElementInfo(T,"dx-gantt-altRow")},w.prototype.getRowElementInfo=function(T,k){var I=new p.GridElementInfo;return I.className=k,I.setPosition(this.getSelectionPosition(T)),I.setSize(this.getSelectionSize()),I},w.prototype.getNoWorkingIntervalInfo=function(T){var k=new p.GridElementInfo;return k.className="dx-gantt-nwi",k.setPosition(this.getNoWorkingIntervalPosition(T.start)),k.setSize(this.getNoWorkingIntervalSize(T)),k},w.prototype.getNoWorkingIntervalPosition=function(T){var k=new n.Point(void 0,void 0);return k.x=this.getPosByDate(T),k},w.prototype.getNoWorkingIntervalSize=function(T){return new d.Size(this.getWidthByDateRange(T.start,T.end),this.getVerticalGridLineHeight())},w.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},w.prototype.getConnectorInfo=function(T,k,I,C){for(var D=new Array,P=this.getConnectorPoints(k,I,C),A=0;A<P.length-1;A++)D.push(this.getConnectorLineInfo(T,P[A],P[A+1],A==0||A==P.length-2));return D.push(this.getArrowInfo(T,P,D,k,I)),this.checkAndCorrectConnectorLinesByRange(D),D.filter((function(R){return!!R}))},w.prototype.getConnectorLineInfo=function(T,k,I,C){var D=new p.GridElementInfo,P=k.x==I.x;return D.className=this.getConnectorClassName(P),D.setPosition(this.getConnectorPosition(k,I)),D.setSize(this.getConnectorSize(k,I,P,C)),D.setAttribute("dependency-id",T),D},w.prototype.getConnectorClassName=function(T){return T?w.CLASSNAMES.CONNECTOR_VERTICAL:w.CLASSNAMES.CONNECTOR_HORIZONTAL},w.prototype.getConnectorPosition=function(T,k){return new n.Point(Math.min(T.x,k.x),Math.min(T.y,k.y))},w.prototype.getConnectorSize=function(T,k,I,C){var D=new d.Size(0,0),P=C?0:1;return I?D.height=Math.abs(k.y-T.y)+P:D.width=Math.abs(k.x-T.x)+P,D},w.prototype.getArrowInfo=function(T,k,I,C,D){var P=new p.GridElementInfo,A=this.findArrowLineInfo(I,C,D),R=this.getArrowPosition(k,C,D);return P.className=this.getArrowClassName(R),P.setPosition(this.getArrowPoint(A,R)),P.setAttribute("dependency-id",T),P},w.prototype.findArrowLineInfo=function(T,k,I){return T[k<I?T.length-1:0]},w.prototype.getArrowPosition=function(T,k,I){var C=T[k<I?T.length-2:1],D=T[k<I?T.length-1:0];return C.x==D.x?C.y>D.y?m.Position.Top:m.Position.Bottom:C.x>D.x?m.Position.Left:m.Position.Right},w.prototype.getArrowClassName=function(T){var k=w.arrowClassName;switch(T){case m.Position.Left:k=k.concat(" ",w.leftArrowClassName);break;case m.Position.Top:k=k.concat(" ",w.topArrowClassName);break;case m.Position.Right:k=k.concat(" ",w.rightArrowClassName);break;case m.Position.Bottom:k=k.concat(" ",w.bottomArrowClassName)}return k},w.prototype.getArrowPositionByClassName=function(T){return T.indexOf(w.leftArrowClassName)>-1?m.Position.Left:T.indexOf(w.topArrowClassName)>-1?m.Position.Top:T.indexOf(w.rightArrowClassName)>-1?m.Position.Right:T.indexOf(w.bottomArrowClassName)>-1?m.Position.Bottom:void 0},w.prototype.getArrowPoint=function(T,k){return new n.Point(this.getArrowX(T,k),this.getArrowY(T,k))},w.prototype.getArrowX=function(T,k){switch(k){case m.Position.Left:return T.position.x-this.arrowSize.width/2;case m.Position.Right:return T.position.x+T.size.width-this.arrowSize.width/2;case m.Position.Top:case m.Position.Bottom:return T.position.x-(this.arrowSize.width-this.lineThickness)/2}},w.prototype.getArrowY=function(T,k){switch(k){case m.Position.Top:return T.position.y-this.arrowSize.height/2;case m.Position.Bottom:return T.position.y+T.size.height-this.arrowSize.height/2;case m.Position.Left:case m.Position.Right:return T.position.y-(this.arrowSize.height-this.lineThickness)/2}},w.prototype.getPosByDate=function(T){return this.getWidthByDateRange(this.range.start,T)},w.prototype.getWidthByDateRange=function(T,k){return l.DateUtils.getRangeTickCount(T,k,this.viewType)*this.tickSize.width},w.prototype.getDateByPos=function(T){if(this.viewType===m.ViewType.Months||this.viewType===m.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(T);var k=T/this.tickSize.width,I=new Date(this.range.start);return l.DateUtils.getDSTCorrectedTaskEnd(I,k*this.tickTimeSpan)},w.prototype.getDateByPosInMonthBasedViewTypes=function(T){return this._scaleCalculator.getDateInScale(T)},w.prototype.getConnectorPoints=function(T,k,I){switch(I){case u.DependencyType.FS:return this.getFinishToStartConnectorPoints(T,k);case u.DependencyType.SF:return this.getStartToFinishConnectorPoints(T,k);case u.DependencyType.SS:return this.getStartToStartConnectorPoints(T,k);case u.DependencyType.FF:return this.getFinishToFinishConnectorPoints(T,k);default:return new Array}},w.prototype.getFinishToStartConnectorPoints=function(T,k){return T<k?this.getTask(T).end<=this.getTask(k).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(T,k,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(T,k,!1):this.getTask(T).end<=this.getTask(k).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(k,T,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(k,T,!0)},w.prototype.getFinishToFinishConnectorPoints=function(T,k){return T<k?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(T,k):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(k,T)},w.prototype.getStartToStartConnectorPoints=function(T,k){return T<k?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(T,k):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(k,T)},w.prototype.getStartToFinishConnectorPoints=function(T,k){return T<k?this.getTask(T).start>=this.getTask(k).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(T,k,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(T,k,!1):this.getTask(T).start>=this.getTask(k).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(k,T,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(k,T,!0)},w.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(T,k,I){var C=new Array,D=this.getTaskPoint(T),P=this.getTaskPoint(k),A=this.getTaskRightCenter(D,T),R=this.getTask(k).isMilestone(),z=this.getTaskTopCenter(P,k),B=this.getHorizontalIndentFromTaskEdge(k,I);return C.push(new n.Point(Math.floor(A.x),Math.floor(A.y))),C.push(new n.Point(Math.floor(R?z.x:P.x+B),Math.floor(C[0].y))),C.push(new n.Point(Math.floor(C[1].x),Math.floor(z.y))),C},w.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(T,k){var I=new Array,C=this.getTaskPoint(T),D=this.getTaskPoint(k),P=this.getTaskRightCenter(C,T),A=this.getTaskRightCenter(D,k);return I.push(new n.Point(Math.floor(P.x),Math.floor(P.y))),I.push(new n.Point(Math.floor(Math.max(P.x,A.x)+this.minLineLength),Math.floor(I[0].y))),I.push(new n.Point(Math.floor(I[1].x),Math.floor(A.y))),I.push(new n.Point(Math.floor(A.x),Math.floor(A.y))),I},w.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(T,k,I){var C=new Array,D=this.getTaskPoint(T),P=this.getTaskPoint(k),A=this.getTaskRightCenter(D,T),R=this.getTaskBottomCenter(D,T),z=this.getTaskLeftCenter(P,k),B=this.getTaskTopCenter(P,k),N=I?this.getViewItem(T):this.getViewItem(k),Z=N.isCustom?(this.tickSize.height-N.size.height)/2:this.minConnectorSpaceFromTask;return C.push(new n.Point(Math.floor(A.x),Math.floor(A.y))),C.push(new n.Point(Math.floor(C[0].x+this.minLineLength),Math.floor(C[0].y))),C.push(new n.Point(Math.floor(C[1].x),Math.floor(I?R.y+Z:B.y-Z))),C.push(new n.Point(Math.floor(z.x-this.minLineLength),Math.floor(C[2].y))),C.push(new n.Point(Math.floor(C[3].x),Math.floor(z.y))),C.push(new n.Point(Math.floor(z.x),Math.floor(z.y))),C},w.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(T,k,I){var C=new Array,D=this.getTaskPoint(T),P=this.getTaskPoint(k),A=this.getTaskBottomCenter(D,T),R=this.getTask(T).isMilestone(),z=this.getTaskRightCenter(P,k),B=this.getHorizontalIndentFromTaskEdge(T,I);return C.push(new n.Point(Math.floor(R?A.x:D.x+B),Math.floor(A.y))),C.push(new n.Point(Math.floor(C[0].x),Math.floor(z.y))),C.push(new n.Point(Math.floor(z.x),Math.floor(z.y))),C},w.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(T,k,I){var C=new Array,D=this.getTaskPoint(T),P=this.getTaskPoint(k),A=this.getTaskBottomCenter(D,T),R=this.getTask(T).isMilestone(),z=this.getTaskLeftCenter(P,k),B=this.getHorizontalIndentFromTaskEdge(T,I);return C.push(new n.Point(Math.floor(R?A.x:D.x+B),Math.floor(A.y))),C.push(new n.Point(Math.floor(C[0].x),Math.floor(z.y))),C.push(new n.Point(Math.floor(z.x),Math.floor(z.y))),C},w.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(T,k,I){var C=new Array,D=this.getTaskPoint(T),P=this.getTaskPoint(k),A=this.getTaskLeftCenter(D,T),R=this.getTaskTopCenter(P,k),z=this.getTask(k).isMilestone(),B=this.getHorizontalIndentFromTaskEdge(k,I);return C.push(new n.Point(Math.floor(A.x),Math.floor(A.y))),C.push(new n.Point(Math.floor(z?R.x:P.x+B),Math.floor(C[0].y))),C.push(new n.Point(Math.floor(C[1].x),Math.floor(R.y))),C},w.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(T,k,I){var C=new Array,D=this.getTaskPoint(T),P=this.getTaskPoint(k),A=this.getTaskLeftCenter(D,T),R=this.getTaskBottomCenter(D,T),z=this.getTaskRightCenter(P,k),B=this.getTaskTopCenter(P,k),N=I?this.getViewItem(T):this.getViewItem(k),Z=N.isCustom?(this.tickSize.height-N.size.height)/2:this.minConnectorSpaceFromTask;return C.push(new n.Point(Math.floor(A.x),A.y)),C.push(new n.Point(Math.floor(C[0].x-this.minLineLength),C[0].y)),C.push(new n.Point(Math.floor(C[1].x),Math.floor(I?R.y+Z:B.y-Z))),C.push(new n.Point(Math.floor(z.x+this.minLineLength),Math.floor(C[2].y))),C.push(new n.Point(Math.floor(C[3].x),Math.floor(z.y))),C.push(new n.Point(Math.floor(z.x),Math.floor(z.y))),C},w.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(T,k){var I=new Array,C=this.getTaskPoint(T),D=this.getTaskPoint(k),P=this.getTaskLeftCenter(C,T),A=this.getTaskLeftCenter(D,k);return I.push(new n.Point(Math.floor(P.x),Math.floor(P.y))),I.push(new n.Point(Math.floor(Math.min(P.x,A.x)-this.minLineLength),Math.floor(I[0].y))),I.push(new n.Point(Math.floor(I[1].x),Math.floor(A.y))),I.push(new n.Point(Math.floor(A.x),Math.floor(A.y))),I},w.prototype.getTaskSidePoints=function(T){var k=this.getTaskPoint(T);return[this.getTaskLeftCenter(k,T),this.getTaskTopCenter(k,T),this.getTaskRightCenter(k,T),this.getTaskBottomCenter(k,T)]},w.prototype.getTaskLeftCenter=function(T,k){return new n.Point(T.x-this.getTaskEdgeCorrection(k),T.y+this.getTaskHeight(k)/2)},w.prototype.getTaskRightCenter=function(T,k){return new n.Point(T.x+this.getTaskWidth(k)+this.getTaskEdgeCorrection(k),T.y+this.getTaskHeight(k)/2)},w.prototype.getTaskTopCenter=function(T,k){return new n.Point(T.x+this.getTaskWidth(k)/2,T.y-this.getTaskEdgeCorrection(k))},w.prototype.getTaskBottomCenter=function(T,k){return new n.Point(T.x+this.getTaskWidth(k)/2,T.y+this.getTaskHeight(k)+this.getTaskEdgeCorrection(k))},w.prototype.getTaskEdgeCorrection=function(T){var k=this.getViewItem(T);return k.task.isMilestone()&&!k.isCustom?this.getTaskHeight(T)*(Math.sqrt(2)-1)/2:0},w.prototype.getHorizontalIndentFromTaskEdge=function(T,k){k===void 0&&(k=!1);var I=this.getTaskWidth(T),C=this.minLineLength<I/3?this.minLineLength:.2*I;return k?I-C:C},w.prototype.getRenderedRowColumnIndices=function(T,k){for(var I=k?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,C=k?this.getFirstVisibleGridCellIndex(T,this.tickSize.height):this.getFirstScaleVisibleIndex(T),D=k?this.getLastVisibleGridCellIndex(T,this.tickSize.height,I,this.verticalTickCount):this.getLastScaleVisibleIndex(T),P=new Array,A=C;A<=D;A++)P.push(A);return P},w.prototype.getRenderedScaleItemIndices=function(T,k){for(var I=T===this.viewType,C=this._scaleCalculator,D=k[0],P=k[k.length-1],A=I?D:C.getTopScaleIndexByBottomIndex(D),R=I?P:C.getTopScaleIndexByBottomIndex(P),z=new Array,B=A;B<=R;B++)z.push(B);return z},w.prototype.getFirstScaleVisibleIndex=function(T){return this._scaleCalculator.getFirstScaleIndexForRender(T)},w.prototype.getLastScaleVisibleIndex=function(T){return this._scaleCalculator.getLastScaleIndexForRender(T+this.visibleTaskAreaSize.width)},w.prototype.getFirstVisibleGridCellIndex=function(T,k){var I=Math.floor(T/k);return I=Math.max(I-10,0)},w.prototype.getLastVisibleGridCellIndex=function(T,k,I,C){var D=Math.floor((T+I)/k);return D=Math.min(D+10,C-1)},w.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var T=0;T<this.viewModel.items.length;T++)for(var k=0;k<this.viewModel.items[T].dependencies.length;k++)this.createConnecotInfo(this.viewModel.items[T].dependencies[k],this.viewModel.items[T].visibleIndex)},w.prototype.updateTileToConnectorLinesMap=function(T){this.tileToDependencyMap.forEach((function(D,P,A){A[P]=D.filter((function(R){return R.attr["dependency-id"]!=T}))}));var k=[],I=this.viewModel.items.filter((function(D){return D.dependencies.filter((function(P){return P.id==T})).length>0}))[0];if(I){var C=I.dependencies.filter((function(D){return D.id===T}))[0];k=this.createConnecotInfo(C,I.visibleIndex)}return k},w.prototype.createConnecotInfo=function(T,k){var I=this,C=T.predecessor.visibleIndex,D=T.type,P=T.id,A=this.getConnectorInfo(P,C,k,D);return A.forEach((function(R){I.addElementInfoToTileMap(R,I.tileToDependencyMap,!0)})),A},w.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var T=0;T<this.viewModel.noWorkingIntervals.length;T++){var k=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[T]);if(k){var I=this.getNoWorkingIntervalInfo(k);this.addElementInfoToTileMap(I,this.tileToNoWorkingIntervalsMap,!1)}}},w.prototype.getAdjustedNoWorkingInterval=function(T){return T.end.getTime()-T.start.getTime()<this.tickTimeSpan-1?null:new f.DateRange(l.DateUtils.getNearestScaleTickDate(T.start,this.range,this.tickTimeSpan,this.viewType),l.DateUtils.getNearestScaleTickDate(T.end,this.range,this.tickTimeSpan,this.viewType))},w.prototype.addElementInfoToTileMap=function(T,k,I){var C=I?T.position.y:T.position.x,D=I?T.size.height:T.size.width,P=2*(I?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(P>0)for(var A=Math.floor(C/P),R=Math.floor((C+D)/P),z=A;z<=R;z++)k[z]||(k[z]=new Array),k[z].push(T)},w.prototype.getRenderedConnectorLines=function(T){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,T)},w.prototype.getRenderedNoWorkingIntervals=function(T){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,T)},w.prototype.getRenderedStripLines=function(T){var k=new Array,I=T.stripLines.map((function(B){return B.clone()}));T.showCurrentTime&&I.push(new i.StripLine(new Date,null,T.currentTimeTitle,T.currentTimeCssClass,!0));for(var C=0,D=void 0;D=I[C];C++){var P=l.DateUtils.parse(D.start),A=D.end?l.DateUtils.parse(D.end):null;if(P>=this.range.start&&P<=this.range.end||A&&A>=this.range.start&&A<=this.range.end){var R=P>this.range.start?P:this.range.start,z=new p.GridElementInfo;z.size.height=this.getVerticalGridLineHeight(),z.position.x=this.getPosByDate(R),z.size.width=A?this.getWidthByDateRange(R,A<this.range.end?A:this.range.end):0,z.className=D.isCurrent?"dx-gantt-tc":A?"dx-gantt-ti":"dx-gantt-tm",z.className+=D.cssClass?" "+D.cssClass:"",z.attr.title=D.title,k.push(z)}}return k},w.prototype.getElementsInRenderedTiles=function(T,k,I){var C=new Array,D=k?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(D>0)for(var P=Math.floor(I/(2*D)),A=Math.floor((I+D)/(2*D)),R=P;R<=A;R++)T[R]&&T[R].forEach((function(z){C.indexOf(z)===-1&&C.push(z)}));return C},w.prototype.isTaskInRenderedRange=function(T){var k=this.getViewItem(T),I=this.getTaskPoint(T);return k.task.isMilestone()?I.x+this.getTaskWidth(T)<this.getTotalWidth():I.x<this.getTotalWidth()},w.prototype.isTaskCutByRange=function(T){return!!this.getTaskElementInfo(T).additionalInfo.taskCut},w.prototype.checkAndCorrectElementDisplayByRange=function(T){T.parentElement.offsetLeft+T.offsetLeft+T.offsetWidth>this.getTotalWidth()&&(T.style.display="none")},w.prototype.checkAndCorrectArrowElementDisplayByRange=function(T){T.offsetLeft+T.offsetWidth>this.getTotalWidth()&&(T.style.display="none")},w.prototype.checkAndCorrectConnectorLinesByRange=function(T){if(T!=null&&T.length)for(var k=this.getTotalWidth(),I=0;I<T.length;I++){var C=T[I],D=!C.size.width;C.position.x>k?delete T[I]:!D&&C.position.x+C.size.width>k&&(C.size.width=k-C.position.x)}},w.prototype.getCorrectedTaskWidthByRange=function(T,k){var I=this.getTotalWidth()-this.getTaskPoint(T).x;return Math.min(I,k)},w.dxGanttPrefix="dx-gantt-",w.taskClassName=w.dxGanttPrefix+"task",w.milestoneClassName=w.dxGanttPrefix+"milestone",w.smallTaskClassName=w.dxGanttPrefix+"smallTask",w.parentTaskClassName=w.dxGanttPrefix+"parent",w.taskProgressClassName=w.dxGanttPrefix+"tPrg",w.taskTitleClassName=w.dxGanttPrefix+"taskTitle",w.titleInClassName=w.dxGanttPrefix+"titleIn",w.titleOutClassName=w.dxGanttPrefix+"titleOut",w.taskResourceClassName=w.dxGanttPrefix+"taskRes",w.arrowClassName=w.dxGanttPrefix+"arrow",w.leftArrowClassName=w.dxGanttPrefix+"LA",w.topArrowClassName=w.dxGanttPrefix+"TA",w.rightArrowClassName=w.dxGanttPrefix+"RA",w.bottomArrowClassName=w.dxGanttPrefix+"BA",w.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},w})();o.GridLayoutCalculator=v},7072:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScaleCalculator=o.ScaleItemInfo=void 0;var d=s(8900),f=s(6353),m=s(9201),p=s(2449),n=function(i,u,a,y){this.start=i,this.end=u,this.position=a,this.size=y};o.ScaleItemInfo=n;var l=(function(){function i(){this.firstDayOfWeek=0}return i.prototype.setSettings=function(u,a,y,v){v===void 0&&(v=0),this.range=u,this.viewType=a,this.tickSize=y,this.firstDayOfWeek=v,this.reset()},i.prototype.setViewType=function(u){this.viewType=u,this.reset()},i.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},i.prototype.getScaleIndexByPos=function(u,a){a!=null||(a=this.viewType);var y=a===this.viewType?this.bottomScaleItems:this.topScaleItems,v=-1;if(y.findIndex)v=y.findIndex((function(T){return u>=T.position.x&&u<=T.position.x+T.size.width}));else{var w=y.filter((function(T){return u>=T.position.x&&u<=T.position.x+T.size.width}))[0];w&&(v=y.indexOf(w))}return v},i.prototype.getScaleBorderPosition=function(u,a){var y=this.getScaleItems(a)[u];if(y)return y.position.x+y.size.width},i.prototype.getScaleItems=function(u){return u===this.viewType?this.bottomScaleItems:u===m.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},i.prototype.getScaleItem=function(u,a){return this.getScaleItems(a)[u]},i.prototype.getScaleItemAdjustedStart=function(u,a){var y=this.getScaleItems(a)[u];if(u>0)return y.start;var v=a!==this.viewType,w=v?m.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(y.start,a,this.firstDayOfWeek);if(v&&a===p.ViewType.Months){var T=this.range.start;w=new Date(T.getFullYear(),T.getMonth(),1)}if(v&&a===p.ViewType.FiveYears){var k=5*Math.trunc(w.getFullYear()/5);w=new Date(k,w.getMonth(),w.getDate())}return w},Object.defineProperty(i.prototype,"topScaleItems",{get:function(){var u;return(u=this._topScaleItems)!==null&&u!==void 0||(this._topScaleItems=this.calculateTopScale(m.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottomScaleItems",{get:function(){var u;return(u=this._bottomScaleItems)!==null&&u!==void 0||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleWidth",{get:function(){var u;return(u=this._scaleWidth)!==null&&u!==void 0||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),i.prototype.getFirstScaleIndexForRender=function(u){var a=this.getScaleIndexByPos(u);return a=Math.max(a-10,0)},i.prototype.getLastScaleIndexForRender=function(u){var a=this.getScaleIndexByPos(u);return a=a===-1?this.bottomScaleItems.length-1:Math.min(a+10,this.bottomScaleItems.length-1)},i.prototype.getTopScaleIndexByBottomIndex=function(u){var a=this.bottomScaleItems[u];return a?this.getScaleIndexByPos(a.position.x,m.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},i.prototype.calculateBottomScale=function(u){for(var a=new Array,y=this.tickSize.width,v=this.range.start,w=0;v.getTime()<this.range.end.getTime();){var T=this.getNextScaleDate(v,u),k=v.getTime()===this.range.start.getTime(),I=T.getTime()>=this.range.end.getTime(),C=k||I||u>p.ViewType.Hours&&m.DateUtils.hasDST()?this.getRangeTickCount(v,T)*y:y;a.push(new n(v,T,new d.Point(w,void 0),new f.Size(C,0))),v=T,w+=C}return a},i.prototype.calculateTopScale=function(u){for(var a=new Array,y=this.range.end.getTime(),v=this.range.start,w=0,T=0;v.getTime()<y;)for(var k=this.getNextScaleDate(v,u),I=k.getTime(),C=T;C<this.bottomScaleItems.length;C++){var D=this.bottomScaleItems[C],P=D.start.getTime(),A=D.end.getTime();if(I>=P&&I<=A){var R=(I-P)/(A-P)*D.size.width+D.position.x;a.push(new n(v,k,new d.Point(w,void 0),new f.Size(R-w,0))),T=C,w=R,v=k;break}}return a},i.prototype.getDateInScale=function(u){if(u<0){var a=u/this.tickSize.width,y=m.DateUtils.getTickTimeSpan(this.viewType);return new Date(this.range.start.getTime()+a*y)}for(var v=0;v<this.bottomScaleItems.length;v++){var w=this.bottomScaleItems[v],T=w.size.width,k=w.position.x;if(u>=k&&u<=k+T){var I=w.start.getTime();return a=(u-k)/T*(w.end.getTime()-I),new Date(w.start.getTime()+a)}}return new Date(this.range.end)},i.prototype.getNextScaleDate=function(u,a){var y;switch(a){case p.ViewType.TenMinutes:y=this.getNextDateInTenMinutesScale(u);break;case p.ViewType.Hours:y=this.getNextDateInHoursScale(u);break;case p.ViewType.SixHours:y=this.getNextDateInSixHoursScale(u);break;case p.ViewType.Days:y=this.getNextDateInDaysScale(u);break;case p.ViewType.Weeks:y=this.getNextDateInWeeksScale(u,this.firstDayOfWeek);break;case p.ViewType.Months:y=this.getNextDateInMonthsScale(u);break;case p.ViewType.Quarter:y=this.getNextDateInQuartersScale(u);break;case p.ViewType.Years:y=this.getNextDateInYearsScale(u);break;case p.ViewType.FiveYears:y=this.getNextDateInFiveYearsScale(u)}return y.getTime()>this.range.end.getTime()&&(y=this.range.end),y},i.prototype.getNextTimeBySpan=function(u,a){return(Math.trunc(u/a)+1)*a},i.prototype.getNextDateInTenMinutesScale=function(u){var a=this.getNextTimeBySpan(u.getMinutes(),10);return new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),a)},i.prototype.getNextDateInHoursScale=function(u){return new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours()+1)},i.prototype.getNextDateInSixHoursScale=function(u){var a=this.getNextTimeBySpan(u.getHours(),6);return new Date(u.getFullYear(),u.getMonth(),u.getDate(),a)},i.prototype.getNextDateInDaysScale=function(u){return new Date(u.getFullYear(),u.getMonth(),u.getDate()+1)},i.prototype.getNextDateInWeeksScale=function(u,a){return a===void 0&&(a=0),new Date(u.getFullYear(),u.getMonth(),u.getDate()-u.getDay()+a+7)},i.prototype.getNextDateInMonthsScale=function(u){return new Date(u.getFullYear(),u.getMonth()+1,1)},i.prototype.getNextDateInQuartersScale=function(u){var a=this.getNextTimeBySpan(u.getMonth(),3);return new Date(u.getFullYear(),a,1)},i.prototype.getNextDateInYearsScale=function(u){return new Date(u.getFullYear()+1,0,1)},i.prototype.getNextDateInFiveYearsScale=function(u){var a=this.getNextTimeBySpan(u.getFullYear(),5);return new Date(a,0,1)},i.prototype.getAdjustedBottomScaleItemStart=function(u,a,y){switch(y===void 0&&(y=0),a){case p.ViewType.TenMinutes:return new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),10*Math.floor(u.getMinutes()/10));case p.ViewType.SixHours:return new Date(u.getFullYear(),u.getMonth(),u.getDate(),6*Math.floor(u.getHours()/6));case p.ViewType.Hours:return new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours());case p.ViewType.Days:return new Date(u.getFullYear(),u.getMonth(),u.getDate());case p.ViewType.Weeks:return new Date(u.getFullYear(),u.getMonth(),u.getDate()-u.getDay()+y);case p.ViewType.Months:return new Date(u.getFullYear(),u.getMonth(),1);case p.ViewType.Quarter:return new Date(u.getFullYear(),3*Math.floor(u.getMonth()/3),1);case p.ViewType.Years:return new Date(u.getFullYear(),0,1);default:return new Date}},i.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce((function(u,a){return u+a.size.width}),0)},i.prototype.getScaleItemColSpan=function(u){return u.valueOf()===this.viewType.valueOf()?1:this.viewType===p.ViewType.TenMinutes?6:this.viewType===p.ViewType.Hours?24:this.viewType===p.ViewType.SixHours?4:this.viewType===p.ViewType.Days?7:this.viewType===p.ViewType.Weeks?4.29:this.viewType===p.ViewType.Months?12:this.viewType===p.ViewType.Quarter?4:this.viewType===p.ViewType.Years?5:1},i.prototype.getRangeTickCount=function(u,a){return m.DateUtils.getRangeTickCount(u,a,this.viewType)},i})();o.ScaleCalculator=l},9377:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaContainer=void 0;var s=(function(){function d(f,m){this.element=f,this.onScrollHandler=function(){m.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(d.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(f){this.element.scrollTop=f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(f){this.element.scrollLeft=f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.getWidth=function(){return this.element.offsetWidth},d.prototype.getHeight=function(){return this.element.offsetHeight},d.prototype.getElement=function(){return this.element},d.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},d})();o.TaskAreaContainer=s},6923:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectorLinesRender=void 0;var d=s(658),f=s(1855),m=(function(){function p(n){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=n}return Object.defineProperty(p.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),p.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},p.prototype.createConnectorLineElement=function(n){if(this.showDependencies){var l=n.attr["dependency-id"];if(!this.invalidTaskDependencies.some((function(a){return a.id==l}))){this.taskEditController.isDependencySelected(l)&&(n.className=n.className+" active");var i=n.className.indexOf(f.GridLayoutCalculator.arrowClassName)>-1,u=d.RenderElementUtils.create(n,null,this.taskArea,this.connectorLinesToElementsMap);return i&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(u),u}}},p.prototype.removeConnectorLineElement=function(n){d.RenderElementUtils.remove(n,null,this.taskArea,this.connectorLinesToElementsMap)},p.prototype.recreateConnectorLineElement=function(n,l){var i=this;l===void 0&&(l=!1);var u=[];this._renderedConnectorLines=this.renderedConnectorLines.filter((function(y){return y.attr["dependency-id"]!=n||(u.push(y),!1)}));var a=u.length>0;u.forEach((function(y){i.removeConnectorLineElement(y)})),u=this.gridLayoutCalculator.updateTileToConnectorLinesMap(n),(a||l)&&u.forEach((function(y){i.createConnectorLineElement(y),i.renderedConnectorLines.push(y)}))},p.prototype.recreateConnectorLineElements=function(){var n=this,l=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);d.RenderElementUtils.recreate(this.renderedConnectorLines,l,(function(i){n.removeConnectorLineElement(i)}),(function(i){n.createConnectorLineElement(i)})),this._renderedConnectorLines=l},p.prototype.updateRenderedConnectorLinesId=function(n,l){for(var i in this._renderedConnectorLines.forEach((function(a){a.attr["dependency-id"]===n&&(a.attr["dependency-id"]=l)})),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,i)){var u=this.connectorLinesToElementsMap[i];u.getAttribute("dependency-id")===n&&u.setAttribute("dependency-id",l)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(n),this.gridLayoutCalculator.updateTileToConnectorLinesMap(l)},p})();o.ConnectorLinesRender=m},1419:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CustomTaskRender=void 0;var d=s(2449),f=s(658),m=(function(){function p(n,l){this._pendingTemplateFuncsToRender=[],this._renderHelper=n,this._taskRender=l}return Object.defineProperty(p.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),p.prototype.getViewItem=function(n){return this._renderHelper.getViewItem(n)},p.prototype.getTask=function(n){return this._renderHelper.getTask(n)},p.prototype.destroyTemplate=function(n){this._renderHelper.destroyTemplate(n)},p.prototype.getTaskDependencies=function(n){return this._renderHelper.getTaskDependencies(n)},p.prototype.getTaskResources=function(n){return this._renderHelper.getTaskResources(n)},p.prototype.attachEventsOnTask=function(n){this._renderHelper.attachEventsOnTask(n)},p.prototype.recreateConnectorLineElement=function(n,l){l===void 0&&(l=!1),this._renderHelper.recreateConnectorLineElement(n,l)},p.prototype.createTaskSelectionElement=function(n){this._taskRender.createTaskSelectionElement(n)},p.prototype.createCustomTaskElement=function(n,l){if(this._saveTemplateFuncToStack(n,l),!this._hasRepeatedTemplateRenderCall(n)){var i=this.getViewItem(n);if(i){i.isCustom=!1;var u=document.createElement("DIV"),a=this.createCustomTaskInformation(n);i.isCustom=!0,l(u,a,this.onTaskTemplateContainerRendered.bind(this),n)}this._clearTemplateFuncsStack(n)}},p.prototype.onTaskTemplateContainerRendered=function(n,l){var i=this;if(this._hasRepeatedTemplateRenderCall(l)){n&&this._renderHelper.destroyTemplate(n);var u=this._getLastPendingTemplateFunc(l);setTimeout((function(){return i.createCustomTaskElement(l,u)}))}else this.drawCustomTask(n,l);this._clearTemplateFuncsStack(l)},p.prototype._saveTemplateFuncToStack=function(n,l){var i,u;(i=(u=this._pendingTemplateFuncsToRender)[n])!==null&&i!==void 0||(u[n]=[]),this._pendingTemplateFuncsToRender[n].push(l)},p.prototype._clearTemplateFuncsStack=function(n){this._pendingTemplateFuncsToRender[n]=[]},p.prototype._hasRepeatedTemplateRenderCall=function(n){return this._pendingTemplateFuncsToRender[n].length>1},p.prototype._getLastPendingTemplateFunc=function(n){var l=this._pendingTemplateFuncsToRender[n];return l[l.length-1]},p.prototype.createCustomTaskWrapperElement=function(n,l){f.RenderElementUtils.create(l,n,this.taskArea,this.taskElements)},p.prototype.createCustomTaskVisualElement=function(n,l){return f.RenderElementUtils.create(l,n,this.taskElements[n])},p.prototype.drawCustomTask=function(n,l){var i=this,u=this.getViewItem(l);if(u&&this.taskElements[l]){if(u.visible=!!n.innerHTML,this.taskElements[l].innerHTML=n.innerHTML,u.size.height=this.taskElements[l].offsetHeight,u.size.width=this.taskElements[l].offsetWidth,this.destroyTemplate(this.taskElements[l]),this._taskRender.removeTaskElement(l),u.visible&&u.task.isValid()){var a=this.gridLayoutCalculator.getTaskWrapperElementInfo(l);this.createCustomTaskWrapperElement(l,a),this.taskElements[l].appendChild(n),this.attachEventsOnTask(l)}else{var y=this.getTaskDependencies(u.task.internalId);y.length&&(this._taskRender.addInvalidTaskDependencies(y),y.forEach((function(v){return i.recreateConnectorLineElement(v.internalId,!0)})))}this._taskRender.isHighlightRowElementAllowed(l)&&this._taskRender.createHighlightRowElement(l),u.selected&&this.createTaskSelectionElement(l)}},p.prototype.createCustomTaskInformation=function(n){var l=this.getTask(n),i=this.getViewItem(n),u=this.gridLayoutCalculator.getTaskWrapperElementInfo(n),a=this.gridLayoutCalculator.getTaskElementInfo(n,this.taskTitlePosition!==d.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(n,u);var y=this.taskElements[n];this._renderHelper.taskTitlePosition===d.TaskTitlePosition.Outside&&this._taskRender.createTaskTextElement(n,y),this.createCustomTaskVisualElement(n,a);var v=this.getTaskResources(l.id);return{cellSize:this.tickSize,isMilestone:l.isMilestone(),isParent:!!(i!=null&&i.children.length),taskData:l,taskHTML:y.children,taskPosition:u.position,taskResources:v,taskSize:a.size}},p})();o.CustomTaskRender=m},9385:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EtalonsHelper=void 0;var d=s(6907),f=s(2449),m=s(1391),p=s(658),n=(function(){function l(i){this._renderHelper=i}return Object.defineProperty(l.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),l.prototype.getScaleItemTextTemplate=function(i){return this._renderHelper.getScaleItemTextTemplate(i)},l.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},l.prototype.getSmallTaskWidth=function(i){return this._renderHelper.getSmallTaskWidth(i)},l.prototype.createEtalonElementsContainer=function(){var i=document.createElement("DIV");return i.style.visibility="hidden",i.style.position="absolute",i.style.left="-1000px",this.mainElement.appendChild(i),i},l.prototype.createEtalonElements=function(i){var u=[],a=p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-taskWrapper"),null,i),y=p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-task"),null,a);p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,y).innerText="WWW",u.push(a);var v=p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-taskWrapper"),null,i);p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,v),u.push(v);for(var w=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],T=0;T<w.length;T++){var k=new m.GridElementInfo(w[T]);u.push(p.RenderElementUtils.create(k,null,i))}var I=p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-taskWrapper"),null,i),C=p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,I);return p.RenderElementUtils.create(new m.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,C).innerText="WWW",u.push(I),u},l.prototype.calculateEtalonSizeValues=function(){var i=this.createEtalonElementsContainer(),u=this.createEtalonElements(i);this.calculateEtalonSizeValuesCore(u),this.mainElement.removeChild(i)},l.prototype.calculateEtalonSizeValuesCore=function(i){this.etalonSizeValues.taskHeight=i[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=i[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=d.DomUtils.pxToInt(d.DomUtils.getCurrentStyle(i[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=d.DomUtils.getVerticalBordersWidth(i[2]),this.etalonSizeValues.connectorArrowWidth=d.DomUtils.getHorizontalBordersWidth(i[3]);for(var u=0;u<=f.ViewType.Years;u++)i[4].innerText=this.getScaleItemTextTemplate(u),this.etalonSizeValues.scaleItemWidths[u]=i[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(d.DomUtils.getCurrentStyle(i[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=d.DomUtils.pxToFloat(d.DomUtils.getCurrentStyle(i[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=i[i.length-1].firstChild.offsetHeight},l})();o.EtalonsHelper=n},4289:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScaleCellPreparedArguments=void 0;var s=(function(){function d(f){this.info=f}return Object.defineProperty(d.prototype,"scaleIndex",{get:function(){var f;return(f=this.info)===null||f===void 0?void 0:f.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scaleType",{get:function(){var f;return(f=this.info)===null||f===void 0?void 0:f.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){var f,m;return(m=(f=this.info)===null||f===void 0?void 0:f.range)===null||m===void 0?void 0:m.start},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){var f,m;return(m=(f=this.info)===null||f===void 0?void 0:f.range)===null||m===void 0?void 0:m.end},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scaleElement",{get:function(){var f;return(f=this.info)===null||f===void 0?void 0:f.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"separatorElement",{get:function(){var f;return(f=this.info)===null||f===void 0?void 0:f.separatorElement},enumerable:!1,configurable:!0}),d})();o.ScaleCellPreparedArguments=s},2121:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MainElementsRender=void 0;var s=(function(){function d(){}return d.prototype.createMainElement=function(f){var m=document.createElement("DIV");return m.style.width=f.offsetWidth+"px",m.style.height=f.offsetHeight+"px",m},d.prototype.createHeader=function(){var f=document.createElement("DIV");return f.className="dx-gantt-header",f},d})();o.MainElementsRender=s},1027:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoWorkingIntervalRender=void 0;var d=s(658),f=(function(){function m(p){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=p}return Object.defineProperty(m.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(p){this._renderedNoWorkingIntervals=p},enumerable:!1,configurable:!0}),m.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},m.prototype.createNoWorkingIntervalElement=function(p){return d.RenderElementUtils.create(p,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},m.prototype.removeNoWorkingIntervalElement=function(p){d.RenderElementUtils.remove(p,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},m.prototype.recreateNoWorkingIntervalElements=function(){var p=this,n=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);d.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,n,(function(l){p.removeNoWorkingIntervalElement(l)}),(function(l){p.createNoWorkingIntervalElement(l)})),this.renderedNoWorkingIntervals=n},m})();o.NoWorkingIntervalRender=f},658:(_,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderElementUtils=void 0;var s=(function(){function d(){}return d.create=function(f,m,p,n){var l=document.createElement("DIV");for(var i in f.assignToElement(l),p.appendChild(l),n&&(n instanceof Array&&m!==null?n[m]=l:n[f.id]=l),f.attr)Object.prototype.hasOwnProperty.call(f.attr,i)&&l.setAttribute(i,f.attr[i]);for(var i in f.style)Object.prototype.hasOwnProperty.call(f.style,i)&&(l.style[i]=f.style[i]);return l},d.remove=function(f,m,p,n){var l;n instanceof Array&&m!==null?(l=n[m],delete n[m]):(l=n[f.id],delete n[f.id]),l&&l.parentNode==p&&p.removeChild(l)},d.recreate=function(f,m,p,n){f.filter((function(l){return m.indexOf(l)===-1})).forEach((function(l){p(l)})),m.filter((function(l){return f.indexOf(l)===-1})).forEach((function(l){n(l)}))},d})();o.RenderElementUtils=s},1074:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderHelper=void 0;var d=s(6923),f=s(9385),m=s(8877),p=s(2366),n=s(1855),l=s(1027),i=s(4966),u=s(6700),a=s(8148),y=s(3682),v=s(2349),w=s(2290),T=s(2121),k=s(6353),I=s(9377),C=s(8380),D=(function(){function P(A){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new m.EtalonSizeValues,this._gridLayoutCalculator=new n.GridLayoutCalculator,this._ganttView=A,this._connectorLinesRender=new d.ConnectorLinesRender(this),this._etalonsHelper=new f.EtalonsHelper(this),this._noWorkingIntervalRender=new l.NoWorkingIntervalRender(this),this._resourceRender=new i.ResourseRender(this),this._scaleRender=new u.ScaleRender(this),this._stripLinesRender=new a.StripLinesRender(this),this._taskAreaRender=new v.TaskAreaRender(this),this._taskRender=new w.TaskRender(this),this._mainElementsRender=new T.MainElementsRender}return P.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},P.prototype.createMainElement=function(A){this.mainElement=this._mainElementsRender.createMainElement(A),A.appendChild(this.mainElement)},P.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},P.prototype.init=function(A,R,z,B,N){N===void 0&&(N=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(A,R,z,B,N),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new y.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},P.prototype.initMarkup=function(A){this._elementTextHelper=new C.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(A),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},P.prototype.processScroll=function(A){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(A),A?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(P.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskTextHeightKey",{get:function(){return p.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskAreaManager",{get:function(){var A;return(A=this._taskAreaManager)!==null&&A!==void 0||(this._taskAreaManager=new y.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce((function(A,R){return A.concat(R)}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),P.prototype.setupHelpers=function(A,R,z,B,N){N===void 0&&(N=0);var Z=new k.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),ne=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(Z,A,this.etalonSizeValues,R,B,z,ne,N),this._elementTextHelper.setSettings(R.start.getTime(),z,B.items)},P.prototype.resetAndUpdate=function(A,R,z,B,N){N===void 0&&(N=0);var Z=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(A,R,z,B,N),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(Z)},P.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},P.prototype.getTargetDateByPos=function(A){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+A)},P.prototype.getExternalTaskAreaContainer=function(A){return this._ganttView.getExternalTaskAreaContainer(A)},P.prototype.prepareExternalTaskAreaContainer=function(A,R){return this._ganttView.prepareExternalTaskAreaContainer(A,R)},P.prototype.isAllowTaskAreaBorders=function(A){return this._ganttView.allowTaskAreaBorders(A)},P.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},P.prototype.getViewItem=function(A){return this._ganttView.getViewItem(A)},P.prototype.getTask=function(A){return this._ganttView.getTask(A)},P.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},P.prototype.destroyTemplate=function(A){this._ganttView.destroyTemplate(A)},P.prototype.getTaskDependencies=function(A){return this._ganttView.getTaskDependencies(A)},P.prototype.getTaskResources=function(A){return this._ganttView.getTaskResources(A)},P.prototype.isHighlightRowElementAllowed=function(A){return this._ganttView.isHighlightRowElementAllowed(A)},P.prototype.updateRenderedConnectorLinesId=function(A,R){this._connectorLinesRender.updateRenderedConnectorLinesId(A,R)},P.prototype.recreateConnectorLineElement=function(A,R){R===void 0&&(R=!1),this._connectorLinesRender.recreateConnectorLineElement(A,R)},P.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},P.prototype.setMainElementWidth=function(A){this.mainElement.style.width=A+"px"},P.prototype.setMainElementHeight=function(A){this.mainElement.style.height=A+"px"},P.prototype.createResources=function(A){this._resourceRender.createResourcesWrapperElement(A),this._resourceRender.createResources(A)},P.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},P.prototype.setTimeScaleContainerScrollLeft=function(A){this._scaleRender.setTimeScaleContainerScrollLeft(A)},P.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},P.prototype.createTaskArea=function(A){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),A.appendChild(this._taskArea)},P.prototype.isTaskUpdateAllowed=function(){var A=this.ganttViewSettings.editing;return A.enabled&&A.allowTaskUpdate},P.prototype.setSizeForTaskArea=function(){var A=this.getTaskAreaWidth(),R=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(A,R),this._ganttView.onTaskAreaSizeChanged({width:A,height:R})},P.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},P.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},P.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},P.prototype.setTaskAreaContainerScrollLeft=function(A){this._taskAreaRender.taskAreaContainer.scrollLeft=A},P.prototype.setTaskAreaContainerScrollLeftToDate=function(A,R){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(A))+R},P.prototype.getTaskAreaContainer=function(A){return new I.TaskAreaContainer(A,this._ganttView)},P.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},P.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},P.prototype.createHighlightRowElement=function(A){this._taskAreaRender.createHighlightRowElement(A)},P.prototype.getSmallTaskWidth=function(A){return this._taskRender.getSmallTaskWidth(A)},P.prototype.createTaskElement=function(A){this._taskRender.createTaskElement(A,this._ganttView.settings.taskContentTemplate)},P.prototype.removeTaskElement=function(A){this._taskRender.removeTaskElement(A)},P.prototype.recreateTaskElement=function(A){this._taskRender.recreateTaskElement(A)},P.prototype.createDefaultTaskElement=function(A){this._taskRender.createDefaultTaskElement(A)},P.prototype.getScaleItemText=function(A,R){var z=this._gridLayoutCalculator.getScaleItemStart(A,R);return this.getScaleItemTextByStart(z,R)},P.prototype.getScaleItemTextByStart=function(A,R){return this._elementTextHelper.getScaleItemText(A,R)},P.prototype.getTextWidth=function(A){return this._elementTextHelper.getTextWidth(A)},P.prototype.getTaskVisibility=function(A){return this.gridLayoutCalculator.isTaskInRenderedRange(A)&&this._elementTextHelper.getTaskVisibility(A)},P.prototype.getTaskResourcesVisibility=function(A){return this.getTaskVisibility(A)&&!this.gridLayoutCalculator.isTaskCutByRange(A)},P.prototype.getScaleItemTextTemplate=function(A){return this._elementTextHelper.getScaleItemTextTemplate(A)},P.prototype.getTaskText=function(A){return this._elementTextHelper.getTaskText(A)},P.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},P.prototype.attachEventsOnTask=function(A){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[A])},P.prototype.detachEventsOnTask=function(A){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[A])},P})();o.RenderHelper=D},4966:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ResourseRender=void 0;var d=s(658),f=(function(){function m(p){this._resourcesElements=[],this._renderHelper=p}return Object.defineProperty(m.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),m.prototype.getViewItem=function(p){return this._renderHelper.getViewItem(p)},m.prototype.getTaskResourcesVisibility=function(p){return this._renderHelper.getTaskResourcesVisibility(p)},m.prototype.createResources=function(p){for(var n=this.getViewItem(p).resources.items,l=0;l<n.length;l++)this.createResourceElement(p,n[l])},m.prototype.createResourcesWrapperElement=function(p){var n=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(p);d.RenderElementUtils.create(n,p,this.taskArea,this.resourcesElements),this.resourcesElements[p].style.display=this.getTaskResourcesVisibility(p)?"":"none"},m.prototype.createResourceElement=function(p,n){var l=this.gridLayoutCalculator.getTaskResourceElementInfo();n.color&&(l.style.backgroundColor=n.color);var i=d.RenderElementUtils.create(l,p,this.resourcesElements[p]);i.innerText=n.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(i)},m})();o.ResourseRender=f},6700:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScaleRender=void 0;var d=s(6907),f=s(2449),m=s(9201),p=s(4289),n=s(658),l=(function(){function i(u){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=u}return Object.defineProperty(i.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),i.prototype.getScaleItemText=function(u,a){return this._renderHelper.getScaleItemText(u,a)},i.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},i.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},i.prototype.setTimeScaleContainerScrollLeft=function(u){this._timeScaleContainer.scrollLeft=u},i.prototype.createTimeScaleContainer=function(u){var a=document.createElement("DIV");a.className="dx-gantt-tsac",a.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=a,u.appendChild(this.timeScaleContainer)},i.prototype.createTimeScaleArea=function(){var u=document.createElement("DIV");return u.className="dx-gantt-tsa",u.style.width=this.getTaskAreaWidth()+"px",u.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(u),this.timeScaleAreas.unshift(u),u},i.prototype.createTimeScaleAreas=function(){for(var u=0;u<this.scaleCount;u++)this.createTimeScaleArea()},i.prototype.createScaleElementCore=function(u,a,y,v){return v[y]||(v[y]=[]),n.RenderElementUtils.create(a,u,this.timeScaleAreas[y],v[y])},i.prototype.createScaleElement=function(u,a,y,v){var w=this._renderHelper.getTextWidth("a"),T=this.createScaleElementCore(u,v,a,this.scaleElements);if(T.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(v==null?void 0:v.size.width)>5*w){var k=this.getScaleItemText(u,y);T.innerText=k,y===f.ViewType.Quarter&&(T.style.padding="0");var I=getComputedStyle(T);v.size.width-d.DomUtils.pxToInt(I.paddingLeft)-d.DomUtils.pxToInt(I.paddingRight)<this._renderHelper.getTextWidth(k)&&(T.title=k)}return T},i.prototype.createScaleBorder=function(u,a,y){var v=this.gridLayoutCalculator.getScaleBorderInfo(u,y);return this.createScaleElementCore(u,v,a,this.scaleBorders)},i.prototype.createScaleElementAndBorder=function(u,a,y){var v=this.gridLayoutCalculator.getScaleElementInfo(u,y),w=this.createScaleElement(u,a,y,v),T=this.createScaleBorder(u,a,y);this.onScaleCellPrepared(y,a,w,T,v.additionalInfo.range)},i.prototype.removeScaleElementAndBorder=function(u,a){n.RenderElementUtils.remove(null,u,this.timeScaleAreas[a],this.scaleElements[a]),n.RenderElementUtils.remove(null,u,this.timeScaleAreas[a],this.scaleBorders[a])},i.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(m.DateUtils.ViewTypeToScaleMap[this.viewType],1)},i.prototype.recreateScaleElements=function(u,a){var y=this,v=this.gridLayoutCalculator.getRenderedScaleItemIndices(u,this.renderedColIndices),w=this.renderedScaleItemIndices[u-this.viewType]||[];n.RenderElementUtils.recreate(w,v,(function(T){y.removeScaleElementAndBorder(T,a)}),(function(T){y.createScaleElementAndBorder(T,a,u)})),this.renderedScaleItemIndices[u-this.viewType]=v},Object.defineProperty(i.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),i.prototype.onScaleCellPrepared=function(u,a,y,v,w){var T=new p.ScaleCellPreparedArguments({scaleType:u,scaleIndex:a,range:w,scaleElement:y,separatorElement:v});this.dispatcher.notifyScaleCellPrepared(T)},i})();o.ScaleRender=l},8148:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StripLinesRender=void 0;var d=s(658),f=(function(){function m(p){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=p}return Object.defineProperty(m.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(p){this._renderedStripLines=p},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),m.prototype.reset=function(){this._renderedStripLines=[]},m.prototype.recreateStripLines=function(){var p=this,n=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);d.RenderElementUtils.recreate(this.renderedStripLines,n,(function(l){d.RenderElementUtils.remove(l,null,p.taskArea,p.stripLinesMap)}),(function(l){return d.RenderElementUtils.create(l,null,p.taskArea,p.stripLinesMap)})),this.renderedStripLines=n},m})();o.StripLinesRender=f},2349:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskAreaRender=void 0;var d=s(6907),f=s(658),m=(function(){function p(n){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=n}return Object.defineProperty(p.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(n){this._renderHelper.renderedRowIndices=n},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(n){this._renderHelper.renderedColIndices=n},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),p.prototype.getExternalTaskAreaContainer=function(n){return this._renderHelper.getExternalTaskAreaContainer(n)},p.prototype.prepareExternalTaskAreaContainer=function(n,l){return this._renderHelper.prepareExternalTaskAreaContainer(n,l)},p.prototype.isAllowTaskAreaBorders=function(n){return this._renderHelper.isAllowTaskAreaBorders(n)},p.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},p.prototype.initTaskAreaContainer=function(n){this._renderHelper.createTaskArea(n),this._taskAreaContainer=this.getExternalTaskAreaContainer(n),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,this.taskAreaContainer==null&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(n))},p.prototype.createTaskElement=function(n){this._renderHelper.createTaskElement(n)},p.prototype.removeTaskElement=function(n){this._renderHelper.removeTaskElement(n)},p.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},p.prototype.prepareTaskAreaContainer=function(){var n="dx-gantt-tac-hb",l=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?d.DomUtils.addClassName(l,n):d.DomUtils.removeClassName(l,n);var i=parseInt(getComputedStyle(l).getPropertyValue("margin-top"))||0,u="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+i,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(l,{height:u}):l.style.height=u},p.prototype.createTaskAreaContainer=function(){var n=document.createElement("DIV");n.className="dx-gantt-tac",this.mainElement.appendChild(n),this.initTaskAreaContainer(n),this.prepareTaskAreaContainer()},p.prototype.createTaskAreaBorder=function(n,l){var i=this.gridLayoutCalculator.getTaskAreaBorderInfo(n,l);f.RenderElementUtils.create(i,n,this.taskArea,this.getTaskAreaBordersDictionary(l))},p.prototype.createTaskArea=function(){var n=document.createElement("DIV");return n.id="dx-gantt-ta",n},p.prototype.removeTaskAreaBorder=function(n,l){f.RenderElementUtils.remove(null,n,this.taskArea,this.getTaskAreaBordersDictionary(l))},p.prototype.createTaskAreaBorderAndTaskElement=function(n,l){this.isAllowTaskAreaBorders(l)&&this.createTaskAreaBorder(n,!l),l&&this.createTaskElement(n)},p.prototype.removeTaskAreaBorderAndTaskElement=function(n,l){this.isAllowTaskAreaBorders(l)&&this.removeTaskAreaBorder(n,!l),l&&this.removeTaskElement(n)},p.prototype.recreateTaskAreaBordersAndTaskElements=function(n){var l=this,i=n?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,u=this.gridLayoutCalculator.getRenderedRowColumnIndices(i,n),a=n?this.renderedRowIndices:this.renderedColIndices;f.RenderElementUtils.recreate(a,u,(function(y){l.removeTaskAreaBorderAndTaskElement(y,n)}),(function(y){l.createTaskAreaBorderAndTaskElement(y,n)})),n?this.renderedRowIndices=u:this.renderedColIndices=u,this.gridLayoutCalculator.createTileToConnectorLinesMap()},p.prototype.getTaskAreaBordersDictionary=function(n){return n?this.vertTaskAreaBorders:this.horTaskAreaBorders},p.prototype.setSizeForTaskArea=function(n,l){this.taskArea.style.width=n+"px",this.taskArea.style.height=l+"px"},p.prototype.createHighlightRowElement=function(n){var l=this.gridLayoutCalculator.getHighlightRowInfo(n);f.RenderElementUtils.create(l,n,this.taskArea,this.hlRowElements)},p})();o.TaskAreaRender=m},2290:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskRender=void 0;var d=s(6907),f=s(2449),m=s(1419),p=s(658),n=(function(){function l(i){this._selectionElements=[],this._taskElements=[],this._renderHelper=i,this.customTaskRender=new m.CustomTaskRender(i,this)}return Object.defineProperty(l.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),l.prototype.isHighlightRowElementAllowed=function(i){return this._renderHelper.isHighlightRowElementAllowed(i)},l.prototype.getTaskVisibility=function(i){return this._renderHelper.getTaskVisibility(i)},l.prototype.getTaskText=function(i){return this._renderHelper.getTaskText(i)},Object.defineProperty(l.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fakeTaskWrapper",{get:function(){var i;return(i=this._fakeTaskWrapper)!==null&&i!==void 0||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),l.prototype.getViewItem=function(i){return this._renderHelper.getViewItem(i)},l.prototype.getTask=function(i){return this._renderHelper.getTask(i)},l.prototype.createHighlightRowElement=function(i){this._renderHelper.createHighlightRowElement(i)},l.prototype.getTaskDependencies=function(i){return this._renderHelper.getTaskDependencies(i)},l.prototype.addInvalidTaskDependencies=function(i){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(i)},l.prototype.removeInvalidTaskDependencies=function(i){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter((function(u){return u.predecessorId!=i||u.successorId!=i}))},l.prototype.createResources=function(i){this.showResources&&this._renderHelper.createResources(i)},l.prototype.attachEventsOnTask=function(i){this._renderHelper.attachEventsOnTask(i)},l.prototype.detachEventsOnTask=function(i){this._renderHelper.detachEventsOnTask(i)},l.prototype.recreateConnectorLineElement=function(i,u){u===void 0&&(u=!1),this._renderHelper.recreateConnectorLineElement(i,u)},l.prototype.renderTaskElement=function(i){this._renderHelper.createTaskElement(i)},l.prototype.reset=function(){var i=this;this._taskElements.forEach((function(u,a){return i.removeTaskElement(a)})),this._selectionElements=[],this._taskElements=[]},l.prototype.createTaskWrapperElement=function(i){var u=this.gridLayoutCalculator.getTaskWrapperElementInfo(i);p.RenderElementUtils.create(u,i,this.taskArea,this.taskElements),this.taskElements[i].style.display=this.getTaskVisibility(i)?"":"none"},l.prototype.createTaskElement=function(i,u){var a=this.getViewItem(i);if(u)this.customTaskRender.createCustomTaskElement(i,u);else{if(!a.task.isValid()||!a.visible){var y=this.getTaskDependencies(a.task.internalId);return this.addInvalidTaskDependencies(y),void(a.selected&&this.createTaskSelectionElement(i))}this.createDefaultTaskElement(i)}},l.prototype.createTaskVisualElement=function(i){var u=this.gridLayoutCalculator.getTaskElementInfo(i,this.taskTitlePosition!==f.TaskTitlePosition.Inside),a=p.RenderElementUtils.create(u,i,this.taskElements[i]);return this.attachEventsOnTask(i),a},l.prototype.createDefaultTaskElement=function(i){var u=this.getViewItem(i);this.isHighlightRowElementAllowed(i)&&this.createHighlightRowElement(i),u.selected&&this.createTaskSelectionElement(i),this.createTaskWrapperElement(i),this.taskTitlePosition===f.TaskTitlePosition.Outside&&this.createTaskTextElement(i,this.taskElements[i]);var a=this.createTaskVisualElement(i);u.task.isMilestone()||(this.taskTitlePosition===f.TaskTitlePosition.Inside&&this.createTaskTextElement(i,a),this.createTaskProgressElement(i,a)),this.createResources(i)},l.prototype.removeTaskElement=function(i){var u=this.getTask(i);if(u&&this.removeInvalidTaskDependencies(u.id),this.detachEventsOnTask(i),this._renderHelper.hasTaskTemplate()){var a=this.taskElements[i],y=a==null?void 0:a.firstElementChild;y&&(this._renderHelper.destroyTemplate(y),a.removeChild(y))}p.RenderElementUtils.remove(null,i,this.taskArea,this.taskElements),p.RenderElementUtils.remove(null,i,this.taskArea,this.resourcesElements),p.RenderElementUtils.remove(null,i,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(i)&&p.RenderElementUtils.remove(null,i,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(i)},l.prototype.recreateTaskElement=function(i){var u=this,a=this.renderedRowIndices.filter((function(w){return w===i})).length>0,y=this.getTask(i);if(y){a&&(this.removeTaskElement(i),this.renderTaskElement(i));var v=this.getTaskDependencies(y.internalId);v.length&&v.forEach((function(w){return u.recreateConnectorLineElement(w.internalId,!0)}))}},l.prototype.createFakeTaskWrapper=function(){var i,u,a=(u=(i=this.viewModelItems.filter((function(T){return T.task&&!T.task.isMilestone}))[0])===null||i===void 0?void 0:i.visibleIndex)!==null&&u!==void 0?u:0,y=this.gridLayoutCalculator,v=p.RenderElementUtils.create(y.getTaskWrapperElementInfo(a),null,this.taskArea),w=p.RenderElementUtils.create(y.getTaskElementInfo(a),null,v);return this.createTaskTextElement(a,w),this.createTaskProgressElement(a,w),v.style.display="none",v},l.prototype.createTaskProgressElement=function(i,u){var a=this.gridLayoutCalculator.getTaskProgressElementInfo(i);p.RenderElementUtils.create(a,i,u)},l.prototype.getTextWidth=function(i){return this._renderHelper.getTextWidth(i)},Object.defineProperty(l.prototype,"minTextWidth",{get:function(){var i;return(i=this._minTextWidth)!==null&&i!==void 0||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),l.prototype.createTaskTextElement=function(i,u){var a,y,v=this.gridLayoutCalculator.getTaskTextElementInfo(i,this.taskTitlePosition===f.TaskTitlePosition.Inside);if(!v.additionalInfo.hidden){var w=p.RenderElementUtils.create(v,i,u),T=this.getTaskText(i);if(this.taskTitlePosition===f.TaskTitlePosition.Outside&&v.size.width>0){var k=getComputedStyle(w),I=v.size.width-d.DomUtils.pxToInt(k.paddingLeft);if(I>=this.minTextWidth){var C=d.DomUtils.pxToInt(k.paddingRight),D=T?this.getTextWidth(T):0;C&&D>I-C&&(C=Math.min(l.minTitleOutRightPadding,I-this.minTextWidth),w.style.paddingRight=C+"px"),D>I-C&&(w.style.overflowX="hidden",w.style.textOverflow="ellipsis")}else w.style.display="none"}T||((a=this[y=this.taskTextHeightKey])!==null&&a!==void 0||(this[y]=this.getTaskTextHeight(w)),w.style.height=this[this.taskTextHeightKey]),w.innerText=T}},l.prototype.createTaskSelectionElement=function(i){var u=this.gridLayoutCalculator.getSelectionElementInfo(i);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&u.size.height++,p.RenderElementUtils.create(u,i,this.taskArea,this.selectionElements)},l.prototype.getTaskTextHeight=function(i){i.innerText="WWW";var u=getComputedStyle(i).height;return i.innerText="",u},l.prototype.getSmallTaskWidth=function(i){var u=0;if(i!=null&&i!==""){var a=i.indexOf("rem");if(a>-1)try{u=parseFloat(i.substr(0,a))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch{}else u=d.DomUtils.pxToInt(i)}return 2*u},l.minTitleOutRightPadding=5,l})();o.TaskRender=n},2990:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EditingSettings=void 0;var d=s(2491),f=(function(){function m(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return m.parse=function(p){var n=new m;return p&&((0,d.isDefined)(p.enabled)&&(n.enabled=p.enabled),(0,d.isDefined)(p.allowDependencyDelete)&&(n.allowDependencyDelete=p.allowDependencyDelete),(0,d.isDefined)(p.allowDependencyInsert)&&(n.allowDependencyInsert=p.allowDependencyInsert),(0,d.isDefined)(p.allowTaskDelete)&&(n.allowTaskDelete=p.allowTaskDelete),(0,d.isDefined)(p.allowTaskInsert)&&(n.allowTaskInsert=p.allowTaskInsert),(0,d.isDefined)(p.allowTaskUpdate)&&(n.allowTaskUpdate=p.allowTaskUpdate),(0,d.isDefined)(p.allowResourceDelete)&&(n.allowResourceDelete=p.allowResourceDelete),(0,d.isDefined)(p.allowResourceInsert)&&(n.allowResourceInsert=p.allowResourceInsert),(0,d.isDefined)(p.allowResourceUpdate)&&(n.allowResourceUpdate=p.allowResourceUpdate),(0,d.isDefined)(p.allowTaskResourceUpdate)&&(n.allowTaskResourceUpdate=p.allowTaskResourceUpdate),(0,d.isDefined)(p.taskHoverDelay)&&(n.taskHoverDelay=p.taskHoverDelay)),n},m.prototype.equal=function(p){var n=!0;return n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n&&this.enabled===p.enabled)&&this.allowDependencyDelete===p.allowDependencyDelete)&&this.allowDependencyInsert===p.allowDependencyInsert)&&this.allowTaskDelete===p.allowTaskDelete)&&this.allowTaskInsert===p.allowTaskInsert)&&this.allowTaskUpdate===p.allowTaskUpdate)&&this.allowResourceDelete===p.allowResourceDelete)&&this.allowResourceInsert===p.allowResourceInsert)&&this.allowResourceUpdate===p.allowResourceUpdate)&&this.allowTaskResourceUpdate===p.allowTaskResourceUpdate},m})();o.EditingSettings=f},9954:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FullScreenHelperSettings=void 0;var d=s(2491),f=(function(){function m(){}return m.parse=function(p){var n=new m;return p&&((0,d.isDefined)(p.getMainElement)&&(n.getMainElement=p.getMainElement),(0,d.isDefined)(p.adjustControl)&&(n.adjustControl=p.adjustControl)),n},m})();o.FullScreenHelperSettings=f},9640:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEditSettings=void 0;var d=s(655),f=s(2491),m=(function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(n,p),n.parse=function(l){var i=new n;return l&&((0,f.isDefined)(l.getCommandManager)&&(i.getCommandManager=l.getCommandManager),(0,f.isDefined)(l.getViewModel)&&(i.getViewModel=l.getViewModel),(0,f.isDefined)(l.getGanttSettings)&&(i.getGanttSettings=l.getGanttSettings),(0,f.isDefined)(l.getRenderHelper)&&(i.getRenderHelper=l.getRenderHelper),(0,f.isDefined)(l.destroyTemplate)&&(i.destroyTemplate=l.destroyTemplate),(0,f.isDefined)(l.formatDate)&&(i.formatDate=l.formatDate),(0,f.isDefined)(l.getModelManipulator)&&(i.getModelManipulator=l.getModelManipulator),(0,f.isDefined)(l.getValidationController)&&(i.getValidationController=l.getValidationController)),i},n})(s(9080).TooltipSettings);o.TaskEditSettings=m},9080:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TooltipSettings=void 0;var d=s(2491),f=(function(){function m(){}return m.parse=function(p){var n=new m;return p&&((0,d.isDefined)(p.getHeaderHeight)&&(n.getHeaderHeight=p.getHeaderHeight),(0,d.isDefined)(p.getTaskTooltipContentTemplate)&&(n.getTaskTooltipContentTemplate=p.getTaskTooltipContentTemplate),(0,d.isDefined)(p.getTaskProgressTooltipContentTemplate)&&(n.getTaskProgressTooltipContentTemplate=p.getTaskProgressTooltipContentTemplate),(0,d.isDefined)(p.getTaskTimeTooltipContentTemplate)&&(n.getTaskTimeTooltipContentTemplate=p.getTaskTimeTooltipContentTemplate),(0,d.isDefined)(p.destroyTemplate)&&(n.destroyTemplate=p.destroyTemplate),(0,d.isDefined)(p.formatDate)&&(n.formatDate=p.formatDate),(0,d.isDefined)(p.getTaskAreaContainer)&&(n.getTaskAreaContainer=p.getTaskAreaContainer)),n},m})();o.TooltipSettings=f},5846:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ValidationControllerSettings=void 0;var d=s(2491),f=(function(){function m(){}return m.parse=function(p){var n=new m;return p&&((0,d.isDefined)(p.getViewModel)&&(n.getViewModel=p.getViewModel),(0,d.isDefined)(p.getHistory)&&(n.getHistory=p.getHistory),(0,d.isDefined)(p.getModelManipulator)&&(n.getModelManipulator=p.getModelManipulator),(0,d.isDefined)(p.getRange)&&(n.getRange=p.getRange),(0,d.isDefined)(p.getValidationSettings)&&(n.getValidationSettings=p.getValidationSettings),(0,d.isDefined)(p.updateOwnerInAutoParentMode)&&(n.updateOwnerInAutoParentMode=p.updateOwnerInAutoParentMode),(0,d.isDefined)(p.getIsValidateDependenciesRequired)&&(n.getIsValidateDependenciesRequired=p.getIsValidateDependenciesRequired)),n},m})();o.ValidationControllerSettings=f},5351:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Settings=void 0;var d=s(2491),f=s(7880),m=s(2449),p=s(2990),n=s(9057),l=s(2762),i=s(9820),u=(function(){function a(){this.viewType=void 0,this.taskTitlePosition=m.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new p.EditingSettings,this.validation=new l.ValidationSettings,this.stripLines=new n.StripLineSettings,this.viewTypeRange=new i.ViewTypeRangeSettings}return a.parse=function(y){var v=new a;return y&&((0,d.isDefined)(y.viewType)&&(v.viewType=y.viewType),(0,d.isDefined)(y.taskTitlePosition)&&(v.taskTitlePosition=y.taskTitlePosition),(0,d.isDefined)(y.showResources)&&(v.showResources=y.showResources),(0,d.isDefined)(y.showDependencies)&&(v.showDependencies=y.showDependencies),(0,d.isDefined)(y.areHorizontalBordersEnabled)&&(v.areHorizontalBordersEnabled=y.areHorizontalBordersEnabled),(0,d.isDefined)(y.areVerticalBordersEnabled)&&(v.areHorizontalBordersEnabled=y.areHorizontalBordersEnabled),(0,d.isDefined)(y.areAlternateRowsEnabled)&&(v.areAlternateRowsEnabled=y.areAlternateRowsEnabled),(0,d.isDefined)(y.allowSelectTask)&&(v.allowSelectTask=y.allowSelectTask),(0,d.isDefined)(y.firstDayOfWeek)&&(v.firstDayOfWeek=y.firstDayOfWeek),(0,d.isDefined)(y.startDateRange)&&(v.startDateRange=new Date(y.startDateRange)),(0,d.isDefined)(y.endDateRange)&&(v.endDateRange=new Date(y.endDateRange)),(0,d.isDefined)(y.editing)&&(v.editing=p.EditingSettings.parse(y.editing)),(0,d.isDefined)(y.validation)&&(v.validation=l.ValidationSettings.parse(y.validation)),(0,d.isDefined)(y.stripLines)&&(v.stripLines=n.StripLineSettings.parse(y.stripLines)),(0,d.isDefined)(y.viewTypeRange)&&(v.viewTypeRange=i.ViewTypeRangeSettings.parse(y.viewTypeRange)),(0,d.isDefined)(y.taskTooltipContentTemplate)&&(v.taskTooltipContentTemplate=y.taskTooltipContentTemplate),(0,d.isDefined)(y.taskProgressTooltipContentTemplate)&&(v.taskProgressTooltipContentTemplate=y.taskProgressTooltipContentTemplate),(0,d.isDefined)(y.taskTimeTooltipContentTemplate)&&(v.taskTimeTooltipContentTemplate=y.taskTimeTooltipContentTemplate),(0,d.isDefined)(y.taskContentTemplate)&&(v.taskContentTemplate=y.taskContentTemplate),(0,d.isDefined)(y.cultureInfo)&&(v.cultureInfo=y.cultureInfo)),v},a.prototype.equal=function(y){var v=!0;return v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=v&&this.viewType===y.viewType)&&this.taskTitlePosition===y.taskTitlePosition)&&this.showResources===y.showResources)&&this.showDependencies===y.showDependencies)&&this.areHorizontalBordersEnabled===y.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===y.areAlternateRowsEnabled)&&this.allowSelectTask===y.allowSelectTask)&&this.editing.equal(y.editing))&&this.validation.equal(y.validation))&&this.stripLines.equal(y.stripLines))&&f.DateTimeUtils.areDatesEqual(this.startDateRange,y.startDateRange))&&f.DateTimeUtils.areDatesEqual(this.endDateRange,y.endDateRange)},a})();o.Settings=u},1442:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StripLine=void 0;var d=s(2491),f=(function(){function m(p,n,l,i,u){this.isCurrent=!1,this.start=p,this.end=n,this.title=l,this.cssClass=i,this.isCurrent=u}return m.parse=function(p){var n=new m;return p&&((0,d.isDefined)(p.start)&&(n.start=p.start),(0,d.isDefined)(p.end)&&(n.end=p.end),(0,d.isDefined)(p.title)&&(n.title=p.title),(0,d.isDefined)(p.cssClass)&&(n.cssClass=p.cssClass)),n},m.prototype.clone=function(){return new m(this.start,this.end,this.title,this.cssClass,this.isCurrent)},m.prototype.equal=function(p){var n=!0;return n=(n=(n=(n=n&&this.start==p.start)&&this.end==p.end)&&this.title==p.title)&&this.cssClass==p.cssClass},m})();o.StripLine=f},9057:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StripLineSettings=void 0;var d=s(2491),f=s(1442),m=(function(){function p(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return p.parse=function(n){var l=new p;if(n&&((0,d.isDefined)(n.showCurrentTime)&&(l.showCurrentTime=n.showCurrentTime),(0,d.isDefined)(n.currentTimeUpdateInterval)&&(l.currentTimeUpdateInterval=n.currentTimeUpdateInterval),(0,d.isDefined)(n.currentTimeTitle)&&(l.currentTimeTitle=n.currentTimeTitle),(0,d.isDefined)(n.currentTimeCssClass)&&(l.currentTimeCssClass=n.currentTimeCssClass),(0,d.isDefined)(n.stripLines)))for(var i=0;i<n.stripLines.length;i++)l.stripLines.push(f.StripLine.parse(n.stripLines[i]));return l},p.prototype.equal=function(n){var l=!0;if(l=(l=(l=(l=(l=l&&this.showCurrentTime==n.showCurrentTime)&&this.currentTimeUpdateInterval==n.currentTimeUpdateInterval)&&this.currentTimeTitle==n.currentTimeTitle)&&this.currentTimeCssClass==n.currentTimeCssClass)&&this.stripLines.length===n.stripLines.length)for(var i=0;i<n.stripLines.length;i++)l=l&&this.stripLines[i].equal(n.stripLines[i]);return l},p})();o.StripLineSettings=m},2762:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ValidationSettings=void 0;var d=s(2491),f=(function(){function m(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return m.parse=function(p){var n=new m;return p&&((0,d.isDefined)(p.validateDependencies)&&(n.validateDependencies=p.validateDependencies),(0,d.isDefined)(p.autoUpdateParentTasks)&&(n.autoUpdateParentTasks=p.autoUpdateParentTasks),(0,d.isDefined)(p.enablePredecessorGap)&&(n.enablePredecessorGap=p.enablePredecessorGap)),n},m.prototype.equal=function(p){var n=!0;return n=(n=(n=n&&this.validateDependencies===p.validateDependencies)&&this.autoUpdateParentTasks===p.autoUpdateParentTasks)&&this.enablePredecessorGap===p.enablePredecessorGap},m})();o.ValidationSettings=f},9820:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ViewTypeRangeSettings=void 0;var d=s(2491),f=s(2449),m=(function(){function p(){this.min=f.ViewType.TenMinutes,this.max=f.ViewType.Years}return p.parse=function(n){var l=new p;return n&&((0,d.isDefined)(n.min)&&(l.min=n.min),(0,d.isDefined)(n.max)&&(l.max=n.max)),l},p.prototype.equal=function(n){var l=!0;return l=(l=l&&this.min===n.min)&&this.max===n.max},p})();o.ViewTypeRangeSettings=m},9201:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DateUtils=void 0;var d=s(2449),f=(function(){function m(){}var p;return m.getDaysInQuarter=function(n){var l=3*Math.floor(n.getMonth()/3);return[l,l+1,l+2].reduce((function(i,u){return i+m.getDaysInMonth(u,n.getFullYear())}),0)},m.getDaysInMonth=function(n,l){return new Date(l,n+1,0).getDate()},m.getOffsetInMonths=function(n,l){return 12*(l.getFullYear()-n.getFullYear())+l.getMonth()-n.getMonth()},m.getOffsetInQuarters=function(n,l){return 4*(l.getFullYear()-n.getFullYear())+Math.floor(l.getMonth()/3)-Math.floor(n.getMonth()/3)},m.getNearestScaleTickDate=function(n,l,i,u){var a=new Date,y=l.start.getTime(),v=l.end.getTime();if(a.setTime(n.getTime()),n.getTime()<y)a.setTime(y);else if(n.getTime()>v)a.setTime(v);else if(this.needCorrectDate(n,y,i,u)){var w=this.getNearestLeftTickTime(n,y,i,u),T=this.getNextTickTime(w,i,u);Math.abs(n.getTime()-w)>Math.abs(n.getTime()-T)?a.setTime(T):a.setTime(w)}return a},m.needCorrectDate=function(n,l,i,u){return u==d.ViewType.Months?n.getTime()!==new Date(n.getFullYear(),n.getMonth(),1).getTime():(n.getTime()-l)%i!=0},m.getNearestLeftTickTime=function(n,l,i,u){return u==d.ViewType.Months?new Date(n.getFullYear(),n.getMonth(),1).getTime():l+Math.floor((n.getTime()-l)/i)*i},m.getNextTickTime=function(n,l,i){if(i==d.ViewType.Months){var u=new Date;return u.setTime(n),u.setMonth(u.getMonth()+1),u.getTime()}return n+l},m.adjustStartDateByViewType=function(n,l,i){switch(i===void 0&&(i=0),l){case d.ViewType.TenMinutes:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours());case d.ViewType.SixHours:case d.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate());case d.ViewType.Days:case d.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay()+i);case d.ViewType.Months:case d.ViewType.Quarter:case d.ViewType.Years:return new Date(n.getFullYear(),0,1);default:return new Date}},m.adjustEndDateByViewType=function(n,l,i){switch(i===void 0&&(i=0),l){case d.ViewType.TenMinutes:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+1);case d.ViewType.SixHours:case d.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);case d.ViewType.Days:case d.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()+7-n.getDay()+i);case d.ViewType.Months:case d.ViewType.Quarter:case d.ViewType.Years:return new Date(n.getFullYear()+1,0,1);default:return new Date}},m.roundStartDate=function(n,l){switch(l){case d.ViewType.TenMinutes:case d.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()-1);case d.ViewType.SixHours:case d.ViewType.Days:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-1);case d.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay());case d.ViewType.Months:return new Date(n.getFullYear(),n.getMonth()-1);case d.ViewType.Quarter:case d.ViewType.Years:return new Date(n.getFullYear()-1,0,1);default:return new Date}},m.getTickTimeSpan=function(n){switch(n){case d.ViewType.TenMinutes:return m.msPerHour/6;case d.ViewType.Hours:return m.msPerHour;case d.ViewType.SixHours:return 6*m.msPerHour;case d.ViewType.Days:return m.msPerDay;case d.ViewType.Weeks:return m.msPerWeek;case d.ViewType.Months:return m.msPerMonth;case d.ViewType.Quarter:return 3*m.msPerMonth;case d.ViewType.Years:return m.msPerYear}},m.getRangeTickCount=function(n,l,i){return i===d.ViewType.Months?this.getRangeTickCountInMonthsViewType(n,l):i===d.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(n,l):m.getRangeMSPeriod(n,l)/m.getTickTimeSpan(i)},m.getRangeMSPeriod=function(n,l){return l.getTime()-m.getDSTTotalDelta(n,l)-n.getTime()},m.getRangeTickCountInMonthsViewType=function(n,l){var i=new Date(n.getFullYear(),n.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth(),1);return m.getOffsetInMonths(i,u)+(l.getTime()-u.getTime())/(m.getDaysInMonth(l.getMonth(),l.getFullYear())*m.msPerDay)-(n.getTime()-i.getTime())/(m.getDaysInMonth(n.getMonth(),n.getFullYear())*m.msPerDay)},m.getRangeTickCountInQuarterViewType=function(n,l){var i=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1),u=new Date(l.getFullYear(),3*Math.floor(l.getMonth()/3),1);return m.getOffsetInQuarters(i,u)+(l.getTime()-u.getTime())/(m.getDaysInQuarter(u)*m.msPerDay)-(n.getTime()-i.getTime())/(m.getDaysInQuarter(i)*m.msPerDay)},m.parse=function(n){return typeof n=="function"?new Date(n()):new Date(n)},m.getOrCreateUTCDate=function(n){var l=n.getTimezoneOffset();return l?new Date(n.valueOf()+6e4*l):n},m.getTimezoneOffsetDiff=function(n,l){return l.getTimezoneOffset()-n.getTimezoneOffset()},m.getDSTDelta=function(n,l){var i=m.getTimezoneOffsetDiff(n,l)*m.msPerMinute;return i>0?i:0},m.getDSTTotalDelta=function(n,l){if(!m.hasDST())return 0;for(var i=n,u=0,a=i.getFullYear(),y=i.getMonth();i<l;){y>=5?(a++,y=0):y=5;var v=new Date(a,y,1);v>l&&(v=l),u+=m.getDSTDelta(i,v),i=v}return u},m.getDSTCorrectedTaskEnd=function(n,l){var i=n.getTime()+l,u=m.getDSTTotalDelta(n,new Date(i));return new Date(i+u)},m.hasDST=function(){var n=new Date().getFullYear(),l=new Date(n,0,1),i=new Date(n,5,1);return m.getTimezoneOffsetDiff(l,i)!==0},m.msPerMinute=6e4,m.msPerHour=36e5,m.msPerDay=24*m.msPerHour,m.msPerWeek=7*m.msPerDay,m.msPerMonth=30*m.msPerDay,m.msPerYear=365*m.msPerDay,m.ViewTypeToScaleMap=((p={})[d.ViewType.TenMinutes]=d.ViewType.Hours,p[d.ViewType.Hours]=d.ViewType.Days,p[d.ViewType.SixHours]=d.ViewType.Days,p[d.ViewType.Days]=d.ViewType.Weeks,p[d.ViewType.Weeks]=d.ViewType.Months,p[d.ViewType.Months]=d.ViewType.Years,p[d.ViewType.Quarter]=d.ViewType.Years,p[d.ViewType.Years]=d.ViewType.FiveYears,p),m})();o.DateUtils=f},8380:(_,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ElementTextHelper=void 0;var d=s(6907),f=s(2449),m=s(9201),p=(function(){function n(l){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var i=document.createElement("canvas");this.textMeasureContext=i.getContext("2d"),this.cultureInfo=l}return n.prototype.setFont=function(l){var i=d.DomUtils.getCurrentStyle(l),u=i.font?i.font:i.fontStyle+" "+i.fontVariant+" "+i.fontWeight+" "+i.fontSize+" / "+i.lineHeight+" "+i.fontFamily;this.textMeasureContext.font=u},n.prototype.setSettings=function(l,i,u){this.startTime=l,this.viewType=i,this.modelItems=u},n.prototype.getScaleItemText=function(l,i){var u=this.viewType.valueOf()===i.valueOf();switch(i){case f.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(l);case f.ViewType.Hours:case f.ViewType.SixHours:return this.getHoursScaleItemText(l);case f.ViewType.Days:return this.getDaysScaleItemText(l,u);case f.ViewType.Weeks:return this.getWeeksScaleItemText(l,u);case f.ViewType.Months:return this.getMonthsScaleItemText(l,u);case f.ViewType.Quarter:return this.getQuarterScaleItemText(l,u);case f.ViewType.Years:return this.getYearsScaleItemText(l);case f.ViewType.FiveYears:return this.getFiveYearsScaleItemText(l)}},n.prototype.getTenMinutesScaleItemText=function(l){var i=l.getMinutes()+1;return(10*Math.ceil(i/10)).toString()},n.prototype.getThirtyMinutesScaleItemText=function(l){return l.getMinutes()<30?"30":"60"},n.prototype.getHoursScaleItemText=function(l){var i=l.getHours(),u=this.getHourDisplayText(i),a=i<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(u,a)},n.prototype.getDaysScaleItemText=function(l,i){return this.getDayTotalText(l,!0,i,i,!i)},n.prototype.getWeeksScaleItemText=function(l,i){var u=m.DateUtils.getDSTCorrectedTaskEnd(l,m.DateUtils.msPerWeek-m.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(l,i,!0,i,!i),this.getDayTotalText(u,i,!0,i,!i))},n.prototype.getMonthsScaleItemText=function(l,i){var u=this.getMonthNames(),a=i?"":l.getFullYear().toString();return this.getMonthsScaleItemTextCore(u[l.getMonth()],a)},n.prototype.getQuarterScaleItemText=function(l,i){var u=this.getQuarterNames(),a=i?"":l.getFullYear().toString();return this.getMonthsScaleItemTextCore(u[Math.floor(l.getMonth()/3)],a)},n.prototype.getYearsScaleItemText=function(l){return l.getFullYear().toString()},n.prototype.getFiveYearsScaleItemText=function(l){return l.getFullYear().toString()+" - "+(l.getFullYear()+4).toString()},n.prototype.getHourDisplayText=function(l){return this.hasAmPm()?(l==0?12:l<=12?l:l-12).toString():l<10?"0"+l:l.toString()},n.prototype.getDayTotalText=function(l,i,u,a,y){var v=a?this.getAbbrMonthNames():this.getMonthNames(),w=u?this.getAbbrDayNames():this.getDayNames(),T=i?w[l.getDay()]:"",k=l.getDate(),I=v[l.getMonth()],C=y?l.getFullYear().toString():"";return this.getDayTotalTextCore(T,k.toString(),I,C)},n.prototype.getTaskText=function(l){var i=this.modelItems[l];return i?i.task.title:""},n.prototype.getTaskVisibility=function(l){var i=this.modelItems[l];return!!i&&i.getVisible()},n.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},n.prototype.getScaleItemTextTemplate=function(l){switch(l){case f.ViewType.TenMinutes:return"00";case f.ViewType.Hours:case f.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case f.ViewType.Days:return this.getDayTextTemplate();case f.ViewType.Weeks:return this.getWeekTextTemplate();case f.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case f.ViewType.Quarter:return"Q4";case f.ViewType.Years:return"0000"}},n.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},n.prototype.getWeekTextTemplate=function(){var l=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(l,l)},n.prototype.getHoursScaleItemTextCore=function(l,i){return l+":00"+(this.hasAmPm()?" "+i:"")},n.prototype.getDayTotalTextCore=function(l,i,u,a){var y=l.length>0?l+", ":"";return y+=i+" "+u,y+=a.length>0?" "+a:""},n.prototype.getWeeksScaleItemTextCore=function(l,i){return l+" - "+i},n.prototype.getMonthsScaleItemTextCore=function(l,i){var u=l;return i.length>0&&(u+=" "+i),u},n.prototype.getLongestAbbrMonthName=function(){return this.longestAbbrMonthName==null&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},n.prototype.getLongestMonthName=function(){return this.longestMonthName==null&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},n.prototype.getLongestAbbrDayName=function(){return this.longestAbbrDayName==null&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},n.prototype.getLongestText=function(l){var i=this,u="",a=0;return l.forEach((function(y){var v=i.getTextWidth(y);v>a&&(a=v,u=y)})),u},n.prototype.getTextWidth=function(l){return Math.round(this.textMeasureContext.measureText(l).width)},n.prototype.getAmText=function(){return this.cultureInfo.amText},n.prototype.getPmText=function(){return this.cultureInfo.pmText},n.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},n.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},n.prototype.getDayNames=function(){return this.cultureInfo.dayNames},n.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},n.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},n})();o.ElementTextHelper=p},655:(_,o,s)=>{s.r(o),s.d(o,{__assign:()=>m,__asyncDelegator:()=>A,__asyncGenerator:()=>P,__asyncValues:()=>R,__await:()=>D,__awaiter:()=>u,__classPrivateFieldGet:()=>ne,__classPrivateFieldSet:()=>ie,__createBinding:()=>y,__decorate:()=>n,__exportStar:()=>v,__extends:()=>f,__generator:()=>a,__importDefault:()=>Z,__importStar:()=>N,__makeTemplateObject:()=>z,__metadata:()=>i,__param:()=>l,__read:()=>T,__rest:()=>p,__spread:()=>k,__spreadArray:()=>C,__spreadArrays:()=>I,__values:()=>w});var d=function(Y,oe){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,O){ae.__proto__=O}||function(ae,O){for(var U in O)Object.prototype.hasOwnProperty.call(O,U)&&(ae[U]=O[U])},d(Y,oe)};function f(Y,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function ae(){this.constructor=Y}d(Y,oe),Y.prototype=oe===null?Object.create(oe):(ae.prototype=oe.prototype,new ae)}var m=function(){return m=Object.assign||function(Y){for(var oe,ae=1,O=arguments.length;ae<O;ae++)for(var U in oe=arguments[ae])Object.prototype.hasOwnProperty.call(oe,U)&&(Y[U]=oe[U]);return Y},m.apply(this,arguments)};function p(Y,oe){var ae={};for(var O in Y)Object.prototype.hasOwnProperty.call(Y,O)&&oe.indexOf(O)<0&&(ae[O]=Y[O]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function"){var U=0;for(O=Object.getOwnPropertySymbols(Y);U<O.length;U++)oe.indexOf(O[U])<0&&Object.prototype.propertyIsEnumerable.call(Y,O[U])&&(ae[O[U]]=Y[O[U]])}return ae}function n(Y,oe,ae,O){var U,X=arguments.length,re=X<3?oe:O===null?O=Object.getOwnPropertyDescriptor(oe,ae):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Y,oe,ae,O);else for(var H=Y.length-1;H>=0;H--)(U=Y[H])&&(re=(X<3?U(re):X>3?U(oe,ae,re):U(oe,ae))||re);return X>3&&re&&Object.defineProperty(oe,ae,re),re}function l(Y,oe){return function(ae,O){oe(ae,O,Y)}}function i(Y,oe){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Y,oe)}function u(Y,oe,ae,O){return new(ae||(ae=Promise))((function(U,X){function re(K){try{L(O.next(K))}catch($){X($)}}function H(K){try{L(O.throw(K))}catch($){X($)}}function L(K){var $;K.done?U(K.value):($=K.value,$ instanceof ae?$:new ae((function(ue){ue($)}))).then(re,H)}L((O=O.apply(Y,oe||[])).next())}))}function a(Y,oe){var ae,O,U,X,re={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return X={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function H(L){return function(K){return(function($){if(ae)throw new TypeError("Generator is already executing.");for(;re;)try{if(ae=1,O&&(U=2&$[0]?O.return:$[0]?O.throw||((U=O.return)&&U.call(O),0):O.next)&&!(U=U.call(O,$[1])).done)return U;switch(O=0,U&&($=[2&$[0],U.value]),$[0]){case 0:case 1:U=$;break;case 4:return re.label++,{value:$[1],done:!1};case 5:re.label++,O=$[1],$=[0];continue;case 7:$=re.ops.pop(),re.trys.pop();continue;default:if(U=re.trys,!((U=U.length>0&&U[U.length-1])||$[0]!==6&&$[0]!==2)){re=0;continue}if($[0]===3&&(!U||$[1]>U[0]&&$[1]<U[3])){re.label=$[1];break}if($[0]===6&&re.label<U[1]){re.label=U[1],U=$;break}if(U&&re.label<U[2]){re.label=U[2],re.ops.push($);break}U[2]&&re.ops.pop(),re.trys.pop();continue}$=oe.call(Y,re)}catch(ue){$=[6,ue],O=0}finally{ae=U=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}})([L,K])}}}var y=Object.create?function(Y,oe,ae,O){O===void 0&&(O=ae),Object.defineProperty(Y,O,{enumerable:!0,get:function(){return oe[ae]}})}:function(Y,oe,ae,O){O===void 0&&(O=ae),Y[O]=oe[ae]};function v(Y,oe){for(var ae in Y)ae==="default"||Object.prototype.hasOwnProperty.call(oe,ae)||y(oe,Y,ae)}function w(Y){var oe=typeof Symbol=="function"&&Symbol.iterator,ae=oe&&Y[oe],O=0;if(ae)return ae.call(Y);if(Y&&typeof Y.length=="number")return{next:function(){return Y&&O>=Y.length&&(Y=void 0),{value:Y&&Y[O++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(Y,oe){var ae=typeof Symbol=="function"&&Y[Symbol.iterator];if(!ae)return Y;var O,U,X=ae.call(Y),re=[];try{for(;(oe===void 0||oe-- >0)&&!(O=X.next()).done;)re.push(O.value)}catch(H){U={error:H}}finally{try{O&&!O.done&&(ae=X.return)&&ae.call(X)}finally{if(U)throw U.error}}return re}function k(){for(var Y=[],oe=0;oe<arguments.length;oe++)Y=Y.concat(T(arguments[oe]));return Y}function I(){for(var Y=0,oe=0,ae=arguments.length;oe<ae;oe++)Y+=arguments[oe].length;var O=Array(Y),U=0;for(oe=0;oe<ae;oe++)for(var X=arguments[oe],re=0,H=X.length;re<H;re++,U++)O[U]=X[re];return O}function C(Y,oe,ae){if(ae||arguments.length===2)for(var O,U=0,X=oe.length;U<X;U++)!O&&U in oe||(O||(O=Array.prototype.slice.call(oe,0,U)),O[U]=oe[U]);return Y.concat(O||Array.prototype.slice.call(oe))}function D(Y){return this instanceof D?(this.v=Y,this):new D(Y)}function P(Y,oe,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=ae.apply(Y,oe||[]),X=[];return O={},re("next"),re("throw"),re("return"),O[Symbol.asyncIterator]=function(){return this},O;function re(ue){U[ue]&&(O[ue]=function(ge){return new Promise((function(Ce,Ie){X.push([ue,ge,Ce,Ie])>1||H(ue,ge)}))})}function H(ue,ge){try{(Ce=U[ue](ge)).value instanceof D?Promise.resolve(Ce.value.v).then(L,K):$(X[0][2],Ce)}catch(Ie){$(X[0][3],Ie)}var Ce}function L(ue){H("next",ue)}function K(ue){H("throw",ue)}function $(ue,ge){ue(ge),X.shift(),X.length&&H(X[0][0],X[0][1])}}function A(Y){var oe,ae;return oe={},O("next"),O("throw",(function(U){throw U})),O("return"),oe[Symbol.iterator]=function(){return this},oe;function O(U,X){oe[U]=Y[U]?function(re){return(ae=!ae)?{value:D(Y[U](re)),done:U==="return"}:X?X(re):re}:X}}function R(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ae=Y[Symbol.asyncIterator];return ae?ae.call(Y):(Y=w(Y),oe={},O("next"),O("throw"),O("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function O(U){oe[U]=Y[U]&&function(X){return new Promise((function(re,H){(function(L,K,$,ue){Promise.resolve(ue).then((function(ge){L({value:ge,done:$})}),K)})(re,H,(X=Y[U](X)).done,X.value)}))}}}function z(Y,oe){return Object.defineProperty?Object.defineProperty(Y,"raw",{value:oe}):Y.raw=oe,Y}var B=Object.create?function(Y,oe){Object.defineProperty(Y,"default",{enumerable:!0,value:oe})}:function(Y,oe){Y.default=oe};function N(Y){if(Y&&Y.__esModule)return Y;var oe={};if(Y!=null)for(var ae in Y)ae!=="default"&&Object.prototype.hasOwnProperty.call(Y,ae)&&y(oe,Y,ae);return B(oe,Y),oe}function Z(Y){return Y&&Y.__esModule?Y:{default:Y}}function ne(Y,oe,ae,O){if(ae==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof oe=="function"?Y!==oe||!O:!oe.has(Y))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ae==="m"?O:ae==="a"?O.call(Y):O?O.value:oe.get(Y)}function ie(Y,oe,ae,O,U){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof oe=="function"?Y!==oe||!U:!oe.has(Y))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?U.call(Y,ae):U?U.value=ae:oe.set(Y,ae),ae}}},r={};function h(_){var o=r[_];if(o!==void 0)return o.exports;var s=r[_]={exports:{}};return t[_](s,s.exports,h),s.exports}h.d=(_,o)=>{for(var s in o)h.o(o,s)&&!h.o(_,s)&&Object.defineProperty(_,s,{enumerable:!0,get:o[s]})},h.o=(_,o)=>Object.prototype.hasOwnProperty.call(_,o),h.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var g={};return(()=>{var _=g;Object.defineProperty(_,"__esModule",{value:!0}),_.GanttView=_.default=void 0,h(8721);var o=h(2366);Object.defineProperty(_,"default",{enumerable:!0,get:function(){return o.GanttView}}),Object.defineProperty(_,"GanttView",{enumerable:!0,get:function(){return o.GanttView}})})(),g})()))})(sa)),sa.exports}var o0=i0();const mc=rm(o0);function s0(){if(!mc)throw ds.Error("E1041","devexpress-gantt");return mc}class a0{constructor(e,t){this._element=e,this._scrollView=t._createComponent(this._element,og,{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:()=>{t.updateView()}})}get scrollTop(){return this._scrollView.scrollTop()}set scrollTop(e){const t=e-this._scrollView.scrollTop();t!==0&&this._scrollView.scrollBy({left:0,top:t})}get scrollLeft(){return this._scrollView.scrollLeft()}set scrollLeft(e){const t=e-this._scrollView.scrollLeft();t!==0&&this._scrollView.scrollBy({left:t,top:0})}get scrollWidth(){return this._scrollView.scrollWidth()}get scrollHeight(){return this._scrollView.scrollHeight()}get isExternal(){return!0}getWidth(){return this._element.offsetWidth}getHeight(){return this._element.offsetHeight}getElement(){return this._element}}const l0="fullScreen";class u0 extends nu{_init(){super._init(),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onViewTypeChanged=this._createActionByOption("onViewTypeChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._onPopupMenuHiding=this._createActionByOption("onPopupMenuHiding"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick"),this._onAdjustControl=this._createActionByOption("onAdjustControl")}_initMarkup(){var e;const t=s0();this._ganttViewCore=new t(this.$element().get(0),this,{showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:(e=this.option("stripLines"))===null||e===void 0?void 0:e.map((h=>_r({},h)))},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),viewTypeRange:this._parseViewTypeRangeSettings(this.option("scaleTypeRange")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate"),taskProgressTooltipContentTemplate:this.option("taskProgressTooltipContentTemplate"),taskTimeTooltipContentTemplate:this.option("taskTimeTooltipContentTemplate"),taskContentTemplate:this.option("taskContentTemplate"),sieve:this.option("sieve")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState();const r=this.option("visualState");r&&(this._restoreStateFrameId=Gf((()=>this._restoreVisualState(r))))}_dispose(){super._dispose(),qf(this._restoreStateFrameId)}_restoreVisualState(e){e.fullScreen&&this._ganttViewCore.setFullScreenMode()}_getFirstDayOfWeek(e){return Tt(e)?e:ar.firstDayOfWeekIndex()}getTaskAreaContainer(){return this._ganttViewCore.getTaskAreaContainer()}getBarManager(){return this._ganttViewCore.barManager}executeCoreCommand(e){const t=this._ganttViewCore.getCommandByKey(e);t&&t.execute()}changeTaskExpanded(e,t){this._ganttViewCore.changeTaskExpanded(e,t)}updateView(){var e;(e=this._ganttViewCore)===null||e===void 0||e.updateView()}updateBarItemsState(){this._ganttViewCore.barManager.updateItemsState([])}setWidth(e){this._ganttViewCore.setWidth(e)}_onDimensionChanged(){this._ganttViewCore.onBrowserWindowResize()}_selectTask(e){this._ganttViewCore.selectTaskById(e)}_update(e){var t;(t=this._ganttViewCore)===null||t===void 0||t.updateWithDataReload(e)}_getCultureInfo(){return{monthNames:ar.getMonthNames("wide"),dayNames:ar.getDayNames("wide"),abbrMonthNames:ar.getMonthNames("abbreviated"),abbrDayNames:ar.getDayNames("abbreviated"),quarterNames:this._getQuarterNames(),amText:this._getAmText(),pmText:this._getPmText(),start:Be.format("dxGantt-dialogStartTitle"),end:Be.format("dxGantt-dialogEndTitle"),progress:Be.format("dxGantt-dialogProgressTitle")}}_getAmText(){return this._hasAmPM()?ar.getPeriodNames()[0]:""}_getPmText(){return this._hasAmPM()?ar.getPeriodNames()[1]:""}_hasAmPM(){const e=new Date(Date.UTC(2012,11,12,3,0,0));return e.toLocaleTimeString(Lf.locale()).match(/am|pm/i)||e.toString().match(/am|pm/i)}_getQuarterNames(){const e=Be.format("dxGantt-quarter");return e?[zs(e,1),zs(e,2),zs(e,3),zs(e,4)]:ar.getQuarterNames()}_getTaskTitlePosition(e){switch(e){case"outside":return 1;case"none":return 2;default:return 0}}_getViewTypeByScaleType(e){switch(e){case"minutes":return 0;case"hours":return 1;case"sixHours":return 2;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}_parseEditingSettings(e){return{enabled:e.enabled,allowDependencyDelete:e.allowDependencyDeleting,allowDependencyInsert:e.allowDependencyAdding,allowTaskDelete:e.allowTaskDeleting,allowTaskInsert:e.allowTaskAdding,allowTaskUpdate:e.allowTaskUpdating,allowResourceDelete:e.allowResourceDeleting,allowResourceInsert:e.allowResourceAdding,allowResourceUpdate:e.allowResourceUpdating,allowTaskResourceUpdate:e.allowTaskResourceUpdating}}_parseViewTypeRangeSettings(e){return{min:this._getViewTypeByScaleType(e.min),max:this._getViewTypeByScaleType(e.max)}}_optionChanged(e){switch(e.name){case"width":super._optionChanged(e),this._ganttViewCore.setWidth(e.value);break;case"height":this._ganttViewCore.setHeight(e.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._sieveOptions=void 0,this._update(!0);break;case"showResources":this._ganttViewCore.setShowResources(e.value);break;case"showDependencies":this._ganttViewCore.setShowDependencies(e.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(e.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(e.value));break;case"startDateRange":this._ganttViewCore.setStartDateRange(e.value);break;case"endDateRange":this._ganttViewCore.setEndDateRange(e.value);break;case"allowSelection":this._ganttViewCore.setAllowSelection(e.value);break;case"selectedRowKey":this._selectTask(e.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(e.value));break;case"validation":this._ganttViewCore.setValidationSettings(e.value),this._update(!0);break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(e.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(e.value));break;case"scaleTypeRange":this._ganttViewCore.setViewTypeRange(this._getViewTypeByScaleType(e.value.min),this._getViewTypeByScaleType(e.value.max));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:this.option("stripLines")});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(e.value);break;case"taskProgressTooltipContentTemplate":this._ganttViewCore.setTaskProgressTooltipContentTemplate(e.value);break;case"taskTimeTooltipContentTemplate":this._ganttViewCore.setTaskTimeTooltipContentTemplate(e.value);break;case"taskContentTemplate":this._ganttViewCore.setTaskContentTemplate(e.value);break;case"sieve":this._sortAndFilter(e.value);break;default:super._optionChanged(e)}}get bars(){return this.option("bars")}getRowHeight(){return this.option("rowHeight")}getHeaderHeight(){return this.option("headerHeight")}getGanttTasksData(){const e=this.option("tasks"),t=this.getSieveOptions();return t!=null&&t.sievedItems&&t!==null&&t!==void 0&&t.sieveColumn?t.sievedItems:e}_sortAndFilter(e){this._sieveOptions=e,this._update(!(e!=null&&e.expandTasks));const t=this.option("selectedRowKey");this._selectTask(t)}getSieveOptions(){return this._sieveOptions}getGanttDependenciesData(){return this.option("dependencies")}getGanttResourcesData(){return this.option("resources")}getGanttResourceAssignmentsData(){return this.option("resourceAssignments")}getGanttWorkTimeRules(){return null}getExternalTaskAreaContainer(e){return this._taskAreaContainer||(this._taskAreaContainer=new a0(e,this)),this._taskAreaContainer}prepareExternalTaskAreaContainer(e,t){t!=null&&t.height&&this._taskAreaContainer._scrollView.option("height",t.height)}changeGanttTaskSelection(e,t){this._onSelectionChanged({id:e,selected:t})}onGanttScroll(e){this._onScroll({scrollTop:e})}showDialog(e,t,r,h){this._onDialogShowing({name:e,parameters:t,callback:r,afterClosing:h})}getModelChangesListener(){return this.option("modelChangesListener")}getExportInfo(){return this.option("exportInfo")}showPopupMenu(e){this._onPopupMenuShowing(e)}hidePopupMenu(e){this._onPopupMenuHiding(e)}getMainElement(){return this.option("mainElement").get(0)}adjustControl(){this._onAdjustControl()}getRequireFirstLoadParentAutoCalc(){return this.option("validation.autoUpdateParentTasks")}collapseAll(){this._collapseAll()}expandAll(){this._expandAll()}onTaskClick(e,t){return this._taskClick({key:e,event:t}),!0}onTaskDblClick(e,t){return this._taskDblClick({key:e,event:t})}onGanttViewContextMenu(e,t,r){return!0}getFormattedDateText(e){let t="";if(e){const r=ar.format(e,"shortDate"),h=this._hasAmPM()?"hh:mm a":"HH:mm",g=ar.format(e,h);t=r+" "+g}return t}destroyTemplate(e){Ge(e).empty()}onTaskAreaSizeChanged(e){const t=this._taskAreaContainer._scrollView;if(Tt(e==null?void 0:e.height)){const r=(e==null?void 0:e.height)>this._taskAreaContainer.getHeight()?"both":"horizontal";t.option("direction",r)}}updateGanttViewType(e){this._onViewTypeChanged({type:e})}getTreeListTableStyle(){return this.callExportHelperMethod("getTreeListTableStyle")}getTreeListColCount(){return this.callExportHelperMethod("getTreeListColCount")}getTreeListHeaderInfo(e){return this.callExportHelperMethod("getTreeListHeaderInfo",e)}getTreeListCellInfo(e,t,r){return this.callExportHelperMethod("getTreeListCellInfo",r,t)}getTreeListEmptyDataCellInfo(){return this.callExportHelperMethod("getTreeListEmptyDataCellInfo")}callExportHelperMethod(e){const t=this.option("exportHelper");for(var r=arguments.length,h=new Array(r>1?r-1:0),g=1;g<r;g++)h[g-1]=arguments[g];return t[e](...h)}applyTasksExpandedState(e){var t;(t=this._ganttViewCore)===null||t===void 0||t.applyTasksExpandedState(e)}getVisualStateToRestore(){var e,t;return{[l0]:(e=this._ganttViewCore)===null||e===void 0||(t=e.isInFullScreenMode)===null||t===void 0?void 0:t.call(e)}}}class c0{constructor(){this._waitingForGanttViewReady=!1,this._waitingForTreeListReady=!1,this._completionActions=[]}onGanttViewReady(){this._stopWaitForGanttViewReady(),this.executeActionsIfPossible()}onTreeListReady(){this._stopWaitForTreeListReady(),this.executeActionsIfPossible()}addCompletionAction(e,t,r){e&&(t&&this._startWaitForGanttViewReady(),r&&this._startWaitForTreeListReady(),this._completionActions.push(e))}executeActionsIfPossible(){this._canExecuteActions()&&(this._completionActions.forEach((e=>e())),this._completionActions=[])}_startWaitForGanttViewReady(){this._waitingForGanttViewReady=!0}_stopWaitForGanttViewReady(){this._waitingForGanttViewReady=!1}_startWaitForTreeListReady(){this._waitingForTreeListReady=!0}_stopWaitForTreeListReady(){this._waitingForTreeListReady=!1}_canExecuteActions(){return!(this._waitingForGanttViewReady||this._waitingForTreeListReady)}}const yc=ru(),d0="dx-gantt-treelist-wrapper",h0="dx-gantt-toolbar-wrapper",p0="dx-gantt-main-wrapper";class Yd extends nu{_init(){super._init(),wi.logHeaderFilterDeprecatedWarningIfNeed(this),this._initGantt(),this._isGanttRendered=!1,this._initHelpers()}_initGantt(){this._refreshDataSources()}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-gantt"),this._$toolbarWrapper=Ge("<div>").addClass(h0).appendTo(this.$element()),this._$toolbar=Ge("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=Ge("<div>").addClass(p0).appendTo(this.$element()),this._$treeListWrapper=Ge("<div>").addClass(d0).appendTo(this._$mainWrapper),this._$treeList=Ge("<div>").appendTo(this._$treeListWrapper),this._$splitter=Ge("<div>").appendTo(this._$mainWrapper),this._$ganttView=Ge("<div>").addClass("dx-gantt-view").appendTo(this._$mainWrapper),this._$dialog=Ge("<div>").appendTo(this.$element()),this._$loadPanel=Ge("<div>").appendTo(this.$element()),this._$contextMenu=Ge("<div>").appendTo(this.$element())}_clean(){var e,t;this._savedGanttViewState=(e=this._ganttView)===null||e===void 0?void 0:e.getVisualStateToRestore(),(t=this._ganttView)===null||t===void 0||t._ganttViewCore.cleanMarkup(),delete this._ganttView,delete this._dialogInstance,delete this._loadPanel,delete this._exportHelper,super._clean()}_refresh(){this._isGanttRendered=!1,this._contentReadyRaised=!1,super._refresh()}_fireContentReadyAction(){this._contentReadyRaised||super._fireContentReadyAction(),this._contentReadyRaised=!0}_dimensionChanged(){var e;(e=this._ganttView)===null||e===void 0||e._onDimensionChanged()}_visibilityChanged(e){e&&this._refreshGantt()}_refreshGantt(){this._refreshDataSources(),setTimeout((()=>this._refresh()))}_refreshDataSources(){this._refreshDataSource("tasks"),this._refreshDataSource("dependencies"),this._refreshDataSource("resources"),this._refreshDataSource("resourceAssignments")}_renderContent(){this._isMainElementVisible=this.$element().is(":visible"),this._isMainElementVisible&&!this._isGanttRendered&&(this._isGanttRendered=!0,this._renderBars(),this._renderTreeList(),this._renderSplitter())}_renderTreeList(){this._ganttTreeList=new n0(this),this._treeList=this._ganttTreeList.getTreeList(),this._ganttTreeList.onAfterTreeListCreate()}_renderSplitter(){this._splitter=this._createComponent(this._$splitter,am,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:e=>{this._sizeHelper.onApplyPanelSize(e)}}),this._splitter.option("initialLeftPanelWidth",this.option("taskListWidth"))}_renderBars(){this._bars=[],this._toolbar=new Cm(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new Im(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}_initHelpers(){this._mappingHelper=new Tm(this),this._customFieldsManager=new cm(this),this._actionsManager=new lm(this),this._ganttTemplatesManager=new km(this),this._sizeHelper=new wm(this),this._dataProcessingHelper=new c0}_initGanttView(){var e;this._ganttView||(this._ganttView=this._createComponent(this._$ganttView,u0,{width:"100%",height:this._ganttTreeList.getOffsetHeight(),rowHeight:this._ganttTreeList.getRowHeight(),headerHeight:this._ganttTreeList.getHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:this.option("allowSelection"),selectedRowKey:this.option("selectedRowKey"),showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),taskTitlePosition:this.option("taskTitlePosition"),firstDayOfWeek:this.option("firstDayOfWeek"),showRowLines:this.option("showRowLines"),scaleType:this.option("scaleType"),scaleTypeRange:this.option("scaleTypeRange"),editing:this.option("editing"),validation:this.option("validation"),stripLines:(e=this.option("stripLines"))===null||e===void 0?void 0:e.map((t=>_r({},t))),bars:this._bars,mainElement:this.$element(),onSelectionChanged:t=>{this._ganttTreeList.selectRows(on.getArrayFromOneElement(t.id))},onViewTypeChanged:t=>{this._onViewTypeChanged(t.type)},onScroll:t=>{this._ganttTreeList.scrollBy(t.scrollTop)},onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onPopupMenuHiding:this._hidePopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:om.create(this),exportHelper:this._getExportHelper(),taskTooltipContentTemplate:this._ganttTemplatesManager.getTaskTooltipContentTemplateFunc(this.option("taskTooltipContentTemplate")),taskProgressTooltipContentTemplate:this._ganttTemplatesManager.getTaskProgressTooltipContentTemplateFunc(this.option("taskProgressTooltipContentTemplate")),taskTimeTooltipContentTemplate:this._ganttTemplatesManager.getTaskTimeTooltipContentTemplateFunc(this.option("taskTimeTooltipContentTemplate")),taskContentTemplate:this._ganttTemplatesManager.getTaskContentTemplateFunc(this.option("taskContentTemplate")),onTaskClick:t=>{this._ganttTreeList.onRowClick(t)},onTaskDblClick:t=>{this._ganttTreeList.onRowDblClick(t)},onAdjustControl:()=>{this._sizeHelper.onAdjustControl()},onContentReady:this._onGanttViewContentReady.bind(this),visualState:this._savedGanttViewState}),delete this._savedGanttViewState)}_onGanttViewContentReady(e){this._isParentAutoUpdateMode()||this._fireContentReadyAction()}_isParentAutoUpdateMode(){return this.option("validation.autoUpdateParentTasks")}_onTreeListContentReady(e){this._isParentAutoUpdateMode()&&this._treeListParentRecalculatedDataUpdating&&this._fireContentReadyAction(),delete this._treeListParentRecalculatedDataUpdating,this._dataProcessingHelper.onTreeListReady()}_onViewTypeChanged(e){this.option("scaleType",this._actionsManager._getScaleType(e))}_refreshDataSource(e){let t=this[`_${e}Option`];t&&(t.dispose(),delete this[`_${e}Option`],delete this[`_${e}`]),t=new Vd(e,this._getLoadPanel.bind(this),((r,h)=>{this._dataSourceChanged(r,h)})),t.option("dataSource",this._getSpecificDataSourceOption(e)),t._refreshDataSource(),this[`_${e}Option`]=t}_getSpecificDataSourceOption(e){const t=this.option(`${e}.dataSource`);return!t||Array.isArray(t)?{store:{type:"array",data:t??[],key:this.option(`${e}.keyExpr`)}}:t}_dataSourceChanged(e,t){const r=on.compileGettersByOption(this.option(e)),h=this._validateSourceData(e,t),g=h.map(on.prepareMapHandler(r));if(this[`_${e}`]=g,this._setGanttViewOption(e,g),e==="tasks"){var _,o,s;this._tasksRaw=h;const d=!((_=this._ganttTreeList)!==null&&_!==void 0&&_.getDataSource())&&!this._ganttView;(o=this._ganttTreeList)===null||o===void 0||o.saveExpandedKeys(),(s=this._ganttTreeList)===null||s===void 0||s.updateDataSource(h,d)}}_validateSourceData(e,t){return t&&e==="tasks"?this._validateTaskData(t):t}_validateTaskData(e){const t=lr(this.option("tasks.keyExpr")),r=lr(this.option("tasks.parentIdExpr")),h=this.option("rootValue")??"dx_dxt_gantt_default_root_value",g={};for(let o=0;o<e.length;o++){const s=e[o];if(s){const d=t(s),f=d===h,m=g[d]??(g[d]={key:d,children:[]});if(!f){const p=r(s)??h,n=g[p]??(g[p]={key:p,children:[]});n.children.push(m),m.parent=n}}}const _=[h];return this._appendChildKeys(g[h],_),e.filter((o=>_.indexOf(t(o))>-1))}_appendChildKeys(e,t){const r=e==null?void 0:e.children;for(let h=0;h<(r==null?void 0:r.length);h++){const g=r[h];t.push(g.key),this._appendChildKeys(g,t)}}_onRecordInserted(e,t,r){const h=this[`_${e}Option`];if(h){const g=on.getStoreObject(this.option(e),t),_=e==="tasks";_&&this._customFieldsManager.addCustomFieldsDataFromCache("gantt_new_task_key",g),h.insert(g,(o=>{const d=lr(this.option(`${e}.keyExpr`))(o);r(d),this._executeFuncSetters(e,t,d),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseInsertedAction(e,g,d)}),!0,_),this._ganttTreeList.saveExpandedKeys(),h._reloadDataSource().done((f=>{_&&this._ganttTreeList.onTaskInserted(d,t.parentId)}))}))}}_onRecordUpdated(e,t,r){const h=this[`_${e}Option`],g=e==="tasks";if(h){const _=this._mappingHelper.convertCoreToMappedData(e,r);g&&this._customFieldsManager.cache.hasData(t)&&this._customFieldsManager.addCustomFieldsDataFromCache(t,_),h.update(t,_,(()=>{this._executeFuncSetters(e,r,t),this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseUpdatedAction(e,_,t)}),!0,g),h._reloadDataSource()}))}}_onRecordRemoved(e,t,r){const h=this[`_${e}Option`];h&&h.remove(t,(()=>{this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseDeletedAction(e,t,this._mappingHelper.convertCoreToMappedData(e,r))}),!0,e==="tasks"),h._reloadDataSource()}))}_onParentTaskUpdated(e){const t=this.getTaskDataByCoreData(e);this._actionsManager.raiseUpdatedAction("tasks",t,e.id)}_onParentTasksRecalculated(e){if(!this.isSieving){const t=on.compileSettersByOption(this.option("tasks")),r=this._customFieldsManager.appendCustomFields(e.map(on.prepareSetterMapHandler(t)));setTimeout((()=>{var h;this._treeListParentRecalculatedDataUpdating=!0,(h=this._ganttTreeList)===null||h===void 0||h.setDataSource(r)}))}this.isSieving=!1}_onGanttViewCoreUpdated(){this._dataProcessingHelper.onGanttViewReady()}_executeFuncSetters(e,t,r){const h=on.compileFuncSettersByOption(this.option(e)),g=Object.keys(h).filter((_=>Tt(t[_])));if(g.length>0){const _=this._getDataSourceItem(e,r);g.forEach((o=>{const s=h[o];s(_,t[o])}))}}_sortAndFilter(){var e,t,r;const h=this._treeList,g=h.getColumns(),_=g.filter((n=>n.sortIndex>-1)),o=_.map((n=>({sortIndex:n.sortIndex,sortOrder:n.sortOrder}))),s=!this._compareSortedState((e=this._savedSortFilterState)===null||e===void 0?void 0:e.sort,o),d=h.option("filterValue"),f=h.option("expandNodesOnFiltering")&&d!==((t=this._savedSortFilterState)===null||t===void 0?void 0:t.filter),m=_[0]||g.filter((n=>{var l;return Tt(n.filterValue)||((l=n.filterValues)===null||l===void 0?void 0:l.length)}))[0],p=((r=this._savedSortFilterState)===null||r===void 0?void 0:r.sieveColumn)&&!m;if(m||p){const n=m&&{sievedItems:this._ganttTreeList.getSievedItems(),sieveColumn:m,expandTasks:f||d&&s};this.isSieving=!p,this._setGanttViewOption("sieve",n)}this._savedSortFilterState={sort:o,filter:d,sieveColumn:m}}_compareSortedState(e,t){return!e||!t||e.length!==t.length?!1:e.every(((r,h)=>r.sortIndex===t[h].sortIndex&&r.sortOrder===t[h].sortOrder))}_getToolbarItems(){const e=this.option("toolbar.items");return e||[]}_updateToolbarContent(){const e=this._getToolbarItems();e.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),this._toolbar&&this._toolbar.createItems(e),this._updateBarItemsState()}_updateContextMenu(){const e=this.option("contextMenu");e.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(e.items),this._updateBarItemsState())}_updateBarItemsState(){this._ganttView&&this._ganttView.updateBarItemsState()}_showDialog(e){this._dialogInstance||(this._dialogInstance=new pm(this,this._$dialog)),this._dialogInstance.show(e.name,e.parameters,e.callback,e.afterClosing,this.option("editing"))}_showPopupMenu(e){if(this.option("contextMenu.enabled")){this._ganttView.getBarManager().updateContextMenu();const t={cancel:!1,event:e.event,targetType:e.type,targetKey:e.key,items:Wt(!0,[],this._contextMenuBar._items),data:e.type==="task"?this.getTaskData(e.key):this.getDependencyData(e.key)};this._actionsManager.raiseContextMenuPreparing(t),t.cancel||this._contextMenuBar.show(e.position,t.items)}}_hidePopupMenu(){this._contextMenuBar.hide()}_getLoadPanel(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,sg,{position:{of:this.$element()}})),this._loadPanel}_getTaskKeyGetter(){return this._getDataSourceItemKeyGetter("tasks")}_findTaskByKey(e){return this._getDataSourceItem("tasks",e)}_getDataSourceItem(e,t){const r=this[`_${e}Option`],h=this._getDataSourceItemKeyGetter(e);return(r==null?void 0:r._getItems()).find((_=>h(_)===t))}_getDataSourceItemKeyGetter(e){return lr(this.option(`${e}.keyExpr`))}_setGanttViewOption(e,t){this._ganttView&&this._ganttView.option(e,t)}_getGanttViewOption(e,t){var r;return(r=this._ganttView)===null||r===void 0?void 0:r.option(e)}_getExportHelper(){return this._exportHelper??(this._exportHelper=new bm(this)),this._exportHelper}_executeCoreCommand(e){this._ganttView.executeCoreCommand(e)}_expandAll(){this._changeExpandAll(!0)}_collapseAll(){this._changeExpandAll(!1)}_onTreeListRowExpandChanged(e,t){this._lockRowExpandEvent||(this._ganttView.changeTaskExpanded(e.key,t),this._sizeHelper.adjustHeight())}_changeExpandAll(e,t,r){var h;const g=[],_=[];if(this._treeList.forEachNode((d=>{var f;(f=d.children)!==null&&f!==void 0&&f.length&&g.push(d)})),r){const d=this._treeList.getNodeByKey(r);on.getAllParentNodesKeys(d,_)}let o;this._lockRowExpandEvent=g.length>0;const s=g.reduce(((d,f,m)=>{r?e=_.includes(f.key):t&&(e=f.level<t),d[f.key]=e;const p=e?this._treeList.expandRow:this._treeList.collapseRow;return m===g.length-1?o=p(f.key):p(f.key),d}),{});(h=o)===null||h===void 0||h.then((()=>{this._ganttView.applyTasksExpandedState(s),this._sizeHelper.adjustHeight(),delete this._lockRowExpandEvent}))}getTaskResources(e){return Tt(e)?this._ganttView._ganttViewCore.getTaskResources(e).map((r=>this._mappingHelper.convertCoreToMappedData("resources",r))):null}getVisibleTaskKeys(){return this._ganttView._ganttViewCore.getVisibleTaskKeys()}getVisibleDependencyKeys(){return this._ganttView._ganttViewCore.getVisibleDependencyKeys()}getVisibleResourceKeys(){return this._ganttView._ganttViewCore.getVisibleResourceKeys()}getVisibleResourceAssignmentKeys(){return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()}getTaskData(e){if(!Tt(e))return null;const t=this._ganttView._ganttViewCore.getTaskData(e);return this.getTaskDataByCoreData(t)}getTaskDataByCoreData(e){const t=e?this._mappingHelper.convertCoreToMappedData("tasks",e):null;return this._customFieldsManager.addCustomFieldsData(e.id,t),t}insertTask(e){this._customFieldsManager.saveCustomFieldsDataToCache("gantt_new_task_key",e),this._ganttView._ganttViewCore.insertTask(this._mappingHelper.convertMappedToCoreData("tasks",e))}deleteTask(e){this._ganttView._ganttViewCore.deleteTask(e)}updateTask(e,t){const r=this._mappingHelper.convertMappedToCoreData("tasks",t),h=!Object.keys(r).length;if(this._customFieldsManager.saveCustomFieldsDataToCache(e,t,!0,h),h){const g=this._customFieldsManager._getCustomFieldsData(t);Object.keys(g).length>0&&this._actionsManager.raiseUpdatingAction("tasks",{cancel:!1,key:e,newValues:{}})}else this._ganttView._ganttViewCore.updateTask(e,r)}getDependencyData(e){if(!Tt(e))return null;const t=this._ganttView._ganttViewCore.getDependencyData(e);return t?this._mappingHelper.convertCoreToMappedData("dependencies",t):null}insertDependency(e){this._ganttView._ganttViewCore.insertDependency(this._mappingHelper.convertMappedToCoreData("dependencies",e))}deleteDependency(e){this._ganttView._ganttViewCore.deleteDependency(e)}getResourceData(e){const t=this._ganttView._ganttViewCore.getResourceData(e);return t?this._mappingHelper.convertCoreToMappedData("resources",t):null}deleteResource(e){this._ganttView._ganttViewCore.deleteResource(e)}insertResource(e,t){this._ganttView._ganttViewCore.insertResource(this._mappingHelper.convertMappedToCoreData("resources",e),t)}getResourceAssignmentData(e){const t=this._ganttView._ganttViewCore.getResourceAssignmentData(e);return t?this._mappingHelper.convertCoreToMappedData("resourceAssignments",t):null}assignResourceToTask(e,t){this._ganttView._ganttViewCore.assignResourceToTask(e,t)}unassignResourceFromTask(e,t){this._ganttView._ganttViewCore.unassignResourceFromTask(e,t)}unassignAllResourcesFromTask(e){this._ganttView._ganttViewCore.unassignAllResourcesFromTask(e)}updateDimensions(){this._sizeHelper.onAdjustControl()}scrollToDate(e){this._ganttView._ganttViewCore.scrollToDate(e)}showResourceManagerDialog(){this._ganttView._ganttViewCore.showResourcesDialog()}showTaskDetailsDialog(e){this._ganttView._ganttViewCore.showTaskDetailsDialog(e)}exportToPdf(e){return this._exportToPdf(e)}_exportToPdf(e){var t;this._exportHelper.reset();const r=Wt({},e);return r.createDocumentMethod&&(r.docCreateMethod=r.createDocumentMethod),r.pdfDocument??(r.pdfDocument=r.jsPDFDocument),r.docCreateMethod??(r.docCreateMethod=((t=yc.jspdf)===null||t===void 0?void 0:t.jsPDF)??yc.jsPDF),r.format??(r.format="a4"),new Promise((h=>{var g;const _=(g=this._ganttView)===null||g===void 0?void 0:g._ganttViewCore.exportToPdf(r);h(_)}))}refresh(){return new Promise(((e,t)=>{try{this._refreshGantt(),e()}catch(r){t(r.message)}}))}expandAll(){this._expandAll()}collapseAll(){this._collapseAll()}expandAllToLevel(e){this._changeExpandAll(!1,e)}expandToTask(e){var t;const r=this._treeList.getNodeByKey(e);this._changeExpandAll(!1,0,r==null||(t=r.parent)===null||t===void 0?void 0:t.key)}collapseTask(e){this._treeList.collapseRow(e)}expandTask(e){this._treeList.expandRow(e)}showResources(e){this.option("showResources",e)}showDependencies(e){this.option("showDependencies",e)}zoomIn(){this._ganttView._ganttViewCore.zoomIn()}zoomOut(){this._ganttView._ganttViewCore.zoomOut()}_getDefaultOptions(){return Wt(super._getDefaultOptions(),on.getDefaultOptions())}_optionChanged(e){var t,r,h,g,_,o,s,d,f,m,p,n,l,i,u,a,y,v,w,T,k,I,C,D,P,A,R,z,B,N,Z,ne,ie,Y,oe,ae,O,U,X,re,H,L;switch(e.name){case"tasks":this._refreshDataSource("tasks");break;case"dependencies":this._refreshDataSource("dependencies");break;case"resources":this._refreshDataSource("resources");break;case"resourceAssignments":this._refreshDataSource("resourceAssignments");break;case"columns":(t=this._ganttTreeList)===null||t===void 0||t.setOption("columns",this._ganttTreeList.getColumns());break;case"taskListWidth":(r=this._sizeHelper)===null||r===void 0||r.setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",e.value);break;case"showDependencies":this._setGanttViewOption("showDependencies",e.value);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",e.value);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",e.value);break;case"startDateRange":this._setGanttViewOption("startDateRange",e.value);break;case"endDateRange":this._setGanttViewOption("endDateRange",e.value);break;case"selectedRowKey":(h=this._ganttTreeList)===null||h===void 0||h.selectRows(on.getArrayFromOneElement(e.value));break;case"onSelectionChanged":(g=this._actionsManager)===null||g===void 0||g.createSelectionChangedAction();break;case"onTaskClick":(_=this._actionsManager)===null||_===void 0||_.createTaskClickAction();break;case"onTaskDblClick":(o=this._actionsManager)===null||o===void 0||o.createTaskDblClickAction();break;case"onTaskInserting":(s=this._actionsManager)===null||s===void 0||s.createTaskInsertingAction();break;case"onTaskInserted":(d=this._actionsManager)===null||d===void 0||d.createTaskInsertedAction();break;case"onTaskDeleting":(f=this._actionsManager)===null||f===void 0||f.createTaskDeletingAction();break;case"onTaskDeleted":(m=this._actionsManager)===null||m===void 0||m.createTaskDeletedAction();break;case"onTaskUpdating":(p=this._actionsManager)===null||p===void 0||p.createTaskUpdatingAction();break;case"onTaskUpdated":(n=this._actionsManager)===null||n===void 0||n.createTaskUpdatedAction();break;case"onTaskMoving":(l=this._actionsManager)===null||l===void 0||l.createTaskMovingAction();break;case"onTaskEditDialogShowing":(i=this._actionsManager)===null||i===void 0||i.createTaskEditDialogShowingAction();break;case"onResourceManagerDialogShowing":(u=this._actionsManager)===null||u===void 0||u.createResourceManagerDialogShowingAction();break;case"onDependencyInserting":(a=this._actionsManager)===null||a===void 0||a.createDependencyInsertingAction();break;case"onDependencyInserted":(y=this._actionsManager)===null||y===void 0||y.createDependencyInsertedAction();break;case"onDependencyDeleting":(v=this._actionsManager)===null||v===void 0||v.createDependencyDeletingAction();break;case"onDependencyDeleted":(w=this._actionsManager)===null||w===void 0||w.createDependencyDeletedAction();break;case"onResourceInserting":(T=this._actionsManager)===null||T===void 0||T.createResourceInsertingAction();break;case"onResourceInserted":(k=this._actionsManager)===null||k===void 0||k.createResourceInsertedAction();break;case"onResourceDeleting":(I=this._actionsManager)===null||I===void 0||I.createResourceDeletingAction();break;case"onResourceDeleted":(C=this._actionsManager)===null||C===void 0||C.createResourceDeletedAction();break;case"onResourceAssigning":(D=this._actionsManager)===null||D===void 0||D.createResourceAssigningAction();break;case"onResourceAssigned":(P=this._actionsManager)===null||P===void 0||P.createResourceAssignedAction();break;case"onResourceUnassigning":(A=this._actionsManager)===null||A===void 0||A.createResourceUnassigningAction();break;case"onResourceUnassigned":(R=this._actionsManager)===null||R===void 0||R.createResourceUnassignedAction();break;case"onCustomCommand":(z=this._actionsManager)===null||z===void 0||z.createCustomCommandAction();break;case"onContextMenuPreparing":(B=this._actionsManager)===null||B===void 0||B.createContextMenuPreparingAction();break;case"onScaleCellPrepared":(N=this._actionsManager)===null||N===void 0||N.createScaleCellPreparedAction();break;case"allowSelection":(Z=this._ganttTreeList)===null||Z===void 0||Z.setOption("selection.mode",on.getSelectionMode(e.value)),this._setGanttViewOption("allowSelection",e.value);break;case"showRowLines":(ne=this._ganttTreeList)===null||ne===void 0||ne.setOption("showRowLines",e.value),this._setGanttViewOption("showRowLines",e.value);break;case"stripLines":this._setGanttViewOption(e.fullName,e.value);break;case"scaleType":this._setGanttViewOption("scaleType",e.value);break;case"scaleTypeRange":this._setGanttViewOption("scaleTypeRange",this.option(e.name));break;case"editing":this._setGanttViewOption("editing",this.option(e.name));break;case"validation":this._setGanttViewOption("validation",this.option(e.name));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",(ie=this._ganttTemplatesManager)===null||ie===void 0?void 0:ie.getTaskTooltipContentTemplateFunc(e.value));break;case"taskProgressTooltipContentTemplate":this._setGanttViewOption("taskProgressTooltipContentTemplate",(Y=this._ganttTemplatesManager)===null||Y===void 0?void 0:Y.getTaskProgressTooltipContentTemplateFunc(e.value));break;case"taskTimeTooltipContentTemplate":this._setGanttViewOption("taskTimeTooltipContentTemplate",(oe=this._ganttTemplatesManager)===null||oe===void 0?void 0:oe.getTaskTimeTooltipContentTemplateFunc(e.value));break;case"taskContentTemplate":this._setGanttViewOption("taskContentTemplate",(ae=this._ganttTemplatesManager)===null||ae===void 0?void 0:ae.getTaskContentTemplateFunc(e.value));break;case"rootValue":(O=this._ganttTreeList)===null||O===void 0||O.setOption("rootValue",e.value);break;case"width":super._optionChanged(e),(U=this._sizeHelper)===null||U===void 0||U.updateGanttWidth();break;case"height":super._optionChanged(e),(X=this._sizeHelper)===null||X===void 0||X.setGanttHeight(Ti(this._$element));break;case"sorting":(re=this._ganttTreeList)===null||re===void 0||re.setOption("sorting",this.option(e.name));break;case"filterRow":(H=this._ganttTreeList)===null||H===void 0||H.setOption("filterRow",this.option(e.name));break;case"headerFilter":(L=this._ganttTreeList)===null||L===void 0||L.setOption("headerFilter",this.option(e.name));break;default:super._optionChanged(e)}}}ba("dxGantt",Yd);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const Zd={props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:Object,endDateRange:Date,filterRow:Object,firstDayOfWeek:Number,focusStateEnabled:Boolean,headerFilter:Object,height:[Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleted:Function,onDependencyDeleting:Function,onDependencyInserted:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigned:Function,onResourceAssigning:Function,onResourceDeleted:Function,onResourceDeleting:Function,onResourceInserted:Function,onResourceInserting:Function,onResourceManagerDialogShowing:Function,onResourceUnassigned:Function,onResourceUnassigning:Function,onScaleCellPrepared:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleted:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserted:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdated:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,scaleTypeRange:Object,selectedRowKey:{},showDependencies:Boolean,showResources:Boolean,showRowLines:Boolean,sorting:Object,startDateRange:Date,stripLines:Array,tabIndex:Number,taskContentTemplate:{},taskListWidth:Number,taskProgressTooltipContentTemplate:{},tasks:Object,taskTimeTooltipContentTemplate:{},taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:endDateRange":null,"update:filterRow":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:headerFilter":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleted":null,"update:onDependencyDeleting":null,"update:onDependencyInserted":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigned":null,"update:onResourceAssigning":null,"update:onResourceDeleted":null,"update:onResourceDeleting":null,"update:onResourceInserted":null,"update:onResourceInserting":null,"update:onResourceManagerDialogShowing":null,"update:onResourceUnassigned":null,"update:onResourceUnassigning":null,"update:onScaleCellPrepared":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleted":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserted":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdated":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:scaleTypeRange":null,"update:selectedRowKey":null,"update:showDependencies":null,"update:showResources":null,"update:showRowLines":null,"update:sorting":null,"update:startDateRange":null,"update:stripLines":null,"update:tabIndex":null,"update:taskContentTemplate":null,"update:taskListWidth":null,"update:taskProgressTooltipContentTemplate":null,"update:tasks":null,"update:taskTimeTooltipContentTemplate":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=Yd,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},ganttHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},scaleTypeRange:{isCollectionItem:!1,optionName:"scaleTypeRange"},sorting:{isCollectionItem:!1,optionName:"sorting"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}};If(Zd);const f0=Et(Zd),Xd={emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowFiltering":null,"update:allowHeaderFiltering":null,"update:allowSorting":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:format":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:minWidth":null,"update:selectedFilterOperation":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowFiltering:Boolean,allowHeaderFiltering:Boolean,allowSorting:Boolean,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},cssClass:String,customizeText:Function,dataField:String,dataType:String,encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,format:[Object,String,Function],headerCellTemplate:{},headerFilter:Object,minWidth:Number,selectedFilterOperation:String,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,visible:Boolean,visibleIndex:Number,width:[Number,String]}};Ht(Xd);const wo=Et(Xd);wo.$_optionName="columns";wo.$_isCollectionItem=!0;wo.$_expectedChildren={columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},format:{isCollectionItem:!1,optionName:"format"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"}};const Jd={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,width:[Number,String]}};Ht(Jd);const Qd=Et(Jd);Qd.$_optionName="headerFilter";Qd.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"}};const eh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};Ht(eh);const g0=Et(eh);g0.$_optionName="search";const th={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}};Ht(th);const nh=Et(th);nh.$_optionName="contextMenu";nh.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const rh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};Ht(rh);const ou=Et(rh);ou.$_optionName="items";ou.$_isCollectionItem=!0;ou.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const ih={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};Ht(ih);const oh=Et(ih);oh.$_optionName="items";oh.$_isCollectionItem=!0;const sh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}};Ht(sh);const ah=Et(sh);ah.$_optionName="dependencies";const lh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}};Ht(lh);const uh=Et(lh);uh.$_optionName="editing";const ch={emits:{"update:isActive":null,"update:hoveredElement":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}};Ht(ch);const dh=Et(ch);dh.$_optionName="filterRow";dh.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};const hh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};Ht(hh);const m0=Et(hh);m0.$_optionName="format";const ph={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:Number,search:Object,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}};Ht(ph);const fh=Et(ph);fh.$_optionName="headerFilter";fh.$_expectedChildren={ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const gh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};Ht(gh);const y0=Et(gh);y0.$_optionName="search";const mh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};Ht(mh);const yh=Et(mh);yh.$_optionName="headerFilter";yh.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const vh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}};Ht(vh);const Fn=Et(vh);Fn.$_optionName="items";Fn.$_isCollectionItem=!0;Fn.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const _h={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};Ht(_h);const v0=Et(_h);v0.$_optionName="operationDescriptions";const bh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}};Ht(bh);const Th=Et(bh);Th.$_optionName="resourceAssignments";const wh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],keyExpr:[Function,String],textExpr:[Function,String]}};Ht(wh);const kh=Et(wh);kh.$_optionName="resources";const Sh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:max":null,"update:min":null},props:{max:String,min:String}};Ht(Sh);const _0=Et(Sh);_0.$_optionName="scaleTypeRange";const Ch={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};Ht(Ch);const b0=Et(Ch);b0.$_optionName="search";const Ih={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}};Ht(Ih);const T0=Et(Ih);T0.$_optionName="sorting";const xh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:[Date,Function,Number,String],start:[Date,Function,Number,String],title:String}};Ht(xh);const Dh=Et(xh);Dh.$_optionName="stripLines";Dh.$_isCollectionItem=!0;const Ah={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}};Ht(Ah);const Eh=Et(Ah);Eh.$_optionName="tasks";const Ph={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};Ht(Ph);const w0=Et(Ph);w0.$_optionName="texts";const Mh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}};Ht(Mh);const su=Et(Mh);su.$_optionName="toolbar";su.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};const Lh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}};Ht(Lh);const Rh=Et(Lh);Rh.$_optionName="items";Rh.$_isCollectionItem=!0;const Oh={emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:enablePredecessorGap":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,enablePredecessorGap:Boolean,validateDependencies:Boolean}};Ht(Oh);const k0=Et(Oh);k0.$_optionName="validation";function xt(c){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(c)}var br=Uint8Array,Qn=Uint16Array,au=Int32Array,lu=new br([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),uu=new br([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vc=new br([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nh=function(c,e){for(var t=new Qn(31),r=0;r<31;++r)t[r]=e+=1<<c[r-1];for(var h=new au(t[30]),r=1;r<30;++r)for(var g=t[r];g<t[r+1];++g)h[g]=g-t[r]<<5|r;return{b:t,r:h}},Fh=Nh(lu,2),S0=Fh.b,Ul=Fh.r;S0[28]=258,Ul[258]=28;var C0=Nh(uu,0),_c=C0.r,Wl=new Qn(32768);for(var Ut=0;Ut<32768;++Ut){var vi=(Ut&43690)>>1|(Ut&21845)<<1;vi=(vi&52428)>>2|(vi&13107)<<2,vi=(vi&61680)>>4|(vi&3855)<<4,Wl[Ut]=((vi&65280)>>8|(vi&255)<<8)>>1}var ls=(function(c,e,t){for(var r=c.length,h=0,g=new Qn(e);h<r;++h)c[h]&&++g[c[h]-1];var _=new Qn(e);for(h=1;h<e;++h)_[h]=_[h-1]+g[h-1]<<1;var o;if(t){o=new Qn(1<<e);var s=15-e;for(h=0;h<r;++h)if(c[h])for(var d=h<<4|c[h],f=e-c[h],m=_[c[h]-1]++<<f,p=m|(1<<f)-1;m<=p;++m)o[Wl[m]>>s]=d}else for(o=new Qn(r),h=0;h<r;++h)c[h]&&(o[h]=Wl[_[c[h]-1]++]>>15-c[h]);return o}),Gi=new br(288);for(var Ut=0;Ut<144;++Ut)Gi[Ut]=8;for(var Ut=144;Ut<256;++Ut)Gi[Ut]=9;for(var Ut=256;Ut<280;++Ut)Gi[Ut]=7;for(var Ut=280;Ut<288;++Ut)Gi[Ut]=8;var fa=new br(32);for(var Ut=0;Ut<32;++Ut)fa[Ut]=5;var I0=ls(Gi,9,0),x0=ls(fa,5,0),Bh=function(c){return(c+7)/8|0},D0=function(c,e,t){return(t==null||t>c.length)&&(t=c.length),new br(c.subarray(e,t))},Jr=function(c,e,t){t<<=e&7;var r=e/8|0;c[r]|=t,c[r+1]|=t>>8},rs=function(c,e,t){t<<=e&7;var r=e/8|0;c[r]|=t,c[r+1]|=t>>8,c[r+2]|=t>>16},pl=function(c,e){for(var t=[],r=0;r<c.length;++r)c[r]&&t.push({s:r,f:c[r]});var h=t.length,g=t.slice();if(!h)return{t:Hh,l:0};if(h==1){var _=new br(t[0].s+1);return _[t[0].s]=1,{t:_,l:1}}t.sort(function(T,k){return T.f-k.f}),t.push({s:-1,f:25001});var o=t[0],s=t[1],d=0,f=1,m=2;for(t[0]={s:-1,f:o.f+s.f,l:o,r:s};f!=h-1;)o=t[t[d].f<t[m].f?d++:m++],s=t[d!=f&&t[d].f<t[m].f?d++:m++],t[f++]={s:-1,f:o.f+s.f,l:o,r:s};for(var p=g[0].s,r=1;r<h;++r)g[r].s>p&&(p=g[r].s);var n=new Qn(p+1),l=zl(t[f-1],n,0);if(l>e){var r=0,i=0,u=l-e,a=1<<u;for(g.sort(function(k,I){return n[I.s]-n[k.s]||k.f-I.f});r<h;++r){var y=g[r].s;if(n[y]>e)i+=a-(1<<l-n[y]),n[y]=e;else break}for(i>>=u;i>0;){var v=g[r].s;n[v]<e?i-=1<<e-n[v]++-1:++r}for(;r>=0&&i;--r){var w=g[r].s;n[w]==e&&(--n[w],++i)}l=e}return{t:new br(n),l}},zl=function(c,e,t){return c.s==-1?Math.max(zl(c.l,e,t+1),zl(c.r,e,t+1)):e[c.s]=t},bc=function(c){for(var e=c.length;e&&!c[--e];);for(var t=new Qn(++e),r=0,h=c[0],g=1,_=function(s){t[r++]=s},o=1;o<=e;++o)if(c[o]==h&&o!=e)++g;else{if(!h&&g>2){for(;g>138;g-=138)_(32754);g>2&&(_(g>10?g-11<<5|28690:g-3<<5|12305),g=0)}else if(g>3){for(_(h),--g;g>6;g-=6)_(8304);g>2&&(_(g-3<<5|8208),g=0)}for(;g--;)_(h);g=1,h=c[o]}return{c:t.subarray(0,r),n:e}},is=function(c,e){for(var t=0,r=0;r<e.length;++r)t+=c[r]*e[r];return t},jh=function(c,e,t){var r=t.length,h=Bh(e+2);c[h]=r&255,c[h+1]=r>>8,c[h+2]=c[h]^255,c[h+3]=c[h+1]^255;for(var g=0;g<r;++g)c[h+g+4]=t[g];return(h+4+r)*8},Tc=function(c,e,t,r,h,g,_,o,s,d,f){Jr(e,f++,t),++h[256];for(var m=pl(h,15),p=m.t,n=m.l,l=pl(g,15),i=l.t,u=l.l,a=bc(p),y=a.c,v=a.n,w=bc(i),T=w.c,k=w.n,I=new Qn(19),C=0;C<y.length;++C)++I[y[C]&31];for(var C=0;C<T.length;++C)++I[T[C]&31];for(var D=pl(I,7),P=D.t,A=D.l,R=19;R>4&&!P[vc[R-1]];--R);var z=d+5<<3,B=is(h,Gi)+is(g,fa)+_,N=is(h,p)+is(g,i)+_+14+3*R+is(I,P)+2*I[16]+3*I[17]+7*I[18];if(s>=0&&z<=B&&z<=N)return jh(e,f,c.subarray(s,s+d));var Z,ne,ie,Y;if(Jr(e,f,1+(N<B)),f+=2,N<B){Z=ls(p,n,0),ne=p,ie=ls(i,u,0),Y=i;var oe=ls(P,A,0);Jr(e,f,v-257),Jr(e,f+5,k-1),Jr(e,f+10,R-4),f+=14;for(var C=0;C<R;++C)Jr(e,f+3*C,P[vc[C]]);f+=3*R;for(var ae=[y,T],O=0;O<2;++O)for(var U=ae[O],C=0;C<U.length;++C){var X=U[C]&31;Jr(e,f,oe[X]),f+=P[X],X>15&&(Jr(e,f,U[C]>>5&127),f+=U[C]>>12)}}else Z=I0,ne=Gi,ie=x0,Y=fa;for(var C=0;C<o;++C){var re=r[C];if(re>255){var X=re>>18&31;rs(e,f,Z[X+257]),f+=ne[X+257],X>7&&(Jr(e,f,re>>23&31),f+=lu[X]);var H=re&31;rs(e,f,ie[H]),f+=Y[H],H>3&&(rs(e,f,re>>5&8191),f+=uu[H])}else rs(e,f,Z[re]),f+=ne[re]}return rs(e,f,Z[256]),f+ne[256]},A0=new au([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hh=new br(0),E0=function(c,e,t,r,h,g){var _=g.z||c.length,o=new br(r+_+5*(1+Math.ceil(_/7e3))+h),s=o.subarray(r,o.length-h),d=g.l,f=(g.r||0)&7;if(e){f&&(s[0]=g.r>>3);for(var m=A0[e-1],p=m>>13,n=m&8191,l=(1<<t)-1,i=g.p||new Qn(32768),u=g.h||new Qn(l+1),a=Math.ceil(t/3),y=2*a,v=function(me){return(c[me]^c[me+1]<<a^c[me+2]<<y)&l},w=new au(25e3),T=new Qn(288),k=new Qn(32),I=0,C=0,D=g.i||0,P=0,A=g.w||0,R=0;D+2<_;++D){var z=v(D),B=D&32767,N=u[z];if(i[B]=N,u[z]=B,A<=D){var Z=_-D;if((I>7e3||P>24576)&&(Z>423||!d)){f=Tc(c,s,0,w,T,k,C,P,R,D-R,f),P=I=C=0,R=D;for(var ne=0;ne<286;++ne)T[ne]=0;for(var ne=0;ne<30;++ne)k[ne]=0}var ie=2,Y=0,oe=n,ae=B-N&32767;if(Z>2&&z==v(D-ae))for(var O=Math.min(p,Z)-1,U=Math.min(32767,D),X=Math.min(258,Z);ae<=U&&--oe&&B!=N;){if(c[D+ie]==c[D+ie-ae]){for(var re=0;re<X&&c[D+re]==c[D+re-ae];++re);if(re>ie){if(ie=re,Y=ae,re>O)break;for(var H=Math.min(ae,re-2),L=0,ne=0;ne<H;++ne){var K=D-ae+ne&32767,$=i[K],ue=K-$&32767;ue>L&&(L=ue,N=K)}}}B=N,N=i[B],ae+=B-N&32767}if(Y){w[P++]=268435456|Ul[ie]<<18|_c[Y];var ge=Ul[ie]&31,Ce=_c[Y]&31;C+=lu[ge]+uu[Ce],++T[257+ge],++k[Ce],A=D+ie,++I}else w[P++]=c[D],++T[c[D]]}}for(D=Math.max(D,A);D<_;++D)w[P++]=c[D],++T[c[D]];f=Tc(c,s,d,w,T,k,C,P,R,D-R,f),d||(g.r=f&7|s[f/8|0]<<3,f-=7,g.h=u,g.p=i,g.i=D,g.w=A)}else{for(var D=g.w||0;D<_+d;D+=65535){var Ie=D+65535;Ie>=_&&(s[f/8|0]=d,Ie=_),f=jh(s,f+1,c.subarray(D,Ie))}g.i=_}return D0(o,0,r+Bh(f)+h)},Vh=function(){var c=1,e=0;return{p:function(t){for(var r=c,h=e,g=t.length|0,_=0;_!=g;){for(var o=Math.min(_+2655,g);_<o;++_)h+=r+=t[_];r=(r&65535)+15*(r>>16),h=(h&65535)+15*(h>>16)}c=r,e=h},d:function(){return c%=65521,e%=65521,(c&255)<<24|(c&65280)<<8|(e&255)<<8|e>>8}}},P0=function(c,e,t,r,h){if(!h&&(h={l:1},e.dictionary)){var g=e.dictionary.subarray(-32768),_=new br(g.length+c.length);_.set(g),_.set(c,g.length),c=_,h.w=g.length}return E0(c,e.level==null?6:e.level,e.mem==null?h.l?Math.ceil(Math.max(8,Math.min(13,Math.log(c.length)))*1.5):20:12+e.mem,t,r,h)},Uh=function(c,e,t){for(;t;++e)c[e]=t,t>>>=8},M0=function(c,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(c[0]=120,c[1]=r<<6|(e.dictionary&&32),c[1]|=31-(c[0]<<8|c[1])%31,e.dictionary){var h=Vh();h.p(e.dictionary),Uh(c,2,h.d())}};function Kl(c,e){e||(e={});var t=Vh();t.p(c);var r=P0(c,e,e.dictionary?6:2,4);return M0(r,e),Uh(r,r.length-4,t.d()),r}var L0=typeof TextDecoder<"u"&&new TextDecoder,R0=0;try{L0.decode(Hh,{stream:!0}),R0=1}catch{}function O0(c){if(Array.isArray(c))return c}function N0(c,e){var t=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(t!=null){var r,h,g,_,o=[],s=!0,d=!1;try{if(g=(t=t.call(c)).next,e!==0)for(;!(s=(r=g.call(t)).done)&&(o.push(r.value),o.length!==e);s=!0);}catch(f){d=!0,h=f}finally{try{if(!s&&t.return!=null&&(_=t.return(),Object(_)!==_))return}finally{if(d)throw h}}return o}}function wc(c,e){(e==null||e>c.length)&&(e=c.length);for(var t=0,r=Array(e);t<e;t++)r[t]=c[t];return r}function F0(c,e){if(c){if(typeof c=="string")return wc(c,e);var t={}.toString.call(c).slice(8,-1);return t==="Object"&&c.constructor&&(t=c.constructor.name),t==="Map"||t==="Set"?Array.from(c):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wc(c,e):void 0}}function B0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kc(c,e){return O0(c)||N0(c,e)||F0(c,e)||B0()}function Sc(c,e="utf8"){return new TextDecoder(e).decode(c)}const j0=new TextEncoder;function H0(c){return j0.encode(c)}const V0=1024*8,U0=(()=>{const c=new Uint8Array(4),e=new Uint32Array(c.buffer);return!((e[0]=1)&c[0])})(),fl={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cu{constructor(e=V0,t={}){Ct(this,"buffer");Ct(this,"byteLength");Ct(this,"byteOffset");Ct(this,"length");Ct(this,"offset");Ct(this,"lastWrittenByte");Ct(this,"littleEndian");Ct(this,"_data");Ct(this,"_mark");Ct(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const h=t.offset?t.offset>>>0:0,g=e.byteLength-h;let _=h;(ArrayBuffer.isView(e)||e instanceof cu)&&(e.byteLength!==e.buffer.byteLength&&(_=e.byteOffset+h),e=e.buffer),r?this.lastWrittenByte=g:this.lastWrittenByte=0,this.buffer=e,this.length=g,this.byteLength=g,this.byteOffset=_,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,_,g),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,h=new Uint8Array(r);h.set(new Uint8Array(this.buffer)),this.buffer=h.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=fl[t].BYTES_PER_ELEMENT*e,h=this.byteOffset+this.offset,g=this.buffer.slice(h,h+r);if(this.littleEndian===U0&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(h,h+r));o.reverse();const s=new fl[t](o.buffer);return this.offset+=r,s.reverse(),s}const _=new fl[t](g);return this.offset+=r,_}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Sc(this.readBytes(e))}decodeText(e=1,t="utf8"){return Sc(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(H0(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Do(c){let e=c.length;for(;--e>=0;)c[e]=0}const W0=3,z0=258,Wh=29,K0=256,G0=K0+1+Wh,zh=30,q0=512,$0=new Array((G0+2)*2);Do($0);const Y0=new Array(zh*2);Do(Y0);const Z0=new Array(q0);Do(Z0);const X0=new Array(z0-W0+1);Do(X0);const J0=new Array(Wh);Do(J0);const Q0=new Array(zh);Do(Q0);const ey=(c,e,t,r)=>{let h=c&65535|0,g=c>>>16&65535|0,_=0;for(;t!==0;){_=t>2e3?2e3:t,t-=_;do h=h+e[r++]|0,g=g+h|0;while(--_);h%=65521,g%=65521}return h|g<<16|0};var Gl=ey;const ty=()=>{let c,e=[];for(var t=0;t<256;t++){c=t;for(var r=0;r<8;r++)c=c&1?3988292384^c>>>1:c>>>1;e[t]=c}return e},ny=new Uint32Array(ty()),ry=(c,e,t,r)=>{const h=ny,g=r+t;c^=-1;for(let _=r;_<g;_++)c=c>>>8^h[(c^e[_])&255];return c^-1};var Rr=ry,ql={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Kh={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iy=(c,e)=>Object.prototype.hasOwnProperty.call(c,e);var oy=function(c){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)iy(t,r)&&(c[r]=t[r])}}return c},sy=c=>{let e=0;for(let r=0,h=c.length;r<h;r++)e+=c[r].length;const t=new Uint8Array(e);for(let r=0,h=0,g=c.length;r<g;r++){let _=c[r];t.set(_,h),h+=_.length}return t},Gh={assign:oy,flattenChunks:sy};let qh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qh=!1}const hs=new Uint8Array(256);for(let c=0;c<256;c++)hs[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;hs[254]=hs[254]=1;var ay=c=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(c);let e,t,r,h,g,_=c.length,o=0;for(h=0;h<_;h++)t=c.charCodeAt(h),(t&64512)===55296&&h+1<_&&(r=c.charCodeAt(h+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),h++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),g=0,h=0;g<o;h++)t=c.charCodeAt(h),(t&64512)===55296&&h+1<_&&(r=c.charCodeAt(h+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),h++)),t<128?e[g++]=t:t<2048?(e[g++]=192|t>>>6,e[g++]=128|t&63):t<65536?(e[g++]=224|t>>>12,e[g++]=128|t>>>6&63,e[g++]=128|t&63):(e[g++]=240|t>>>18,e[g++]=128|t>>>12&63,e[g++]=128|t>>>6&63,e[g++]=128|t&63);return e};const ly=(c,e)=>{if(e<65534&&c.subarray&&qh)return String.fromCharCode.apply(null,c.length===e?c:c.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(c[r]);return t};var uy=(c,e)=>{const t=e||c.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(c.subarray(0,e));let r,h;const g=new Array(t*2);for(h=0,r=0;r<t;){let _=c[r++];if(_<128){g[h++]=_;continue}let o=hs[_];if(o>4){g[h++]=65533,r+=o-1;continue}for(_&=o===2?31:o===3?15:7;o>1&&r<t;)_=_<<6|c[r++]&63,o--;if(o>1){g[h++]=65533;continue}_<65536?g[h++]=_:(_-=65536,g[h++]=55296|_>>10&1023,g[h++]=56320|_&1023)}return ly(g,h)},cy=(c,e)=>{e=e||c.length,e>c.length&&(e=c.length);let t=e-1;for(;t>=0&&(c[t]&192)===128;)t--;return t<0||t===0?e:t+hs[c[t]]>e?t:e},$l={string2buf:ay,buf2string:uy,utf8border:cy};function dy(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hy=dy;const Ys=16209,py=16191;var fy=function(e,t){let r,h,g,_,o,s,d,f,m,p,n,l,i,u,a,y,v,w,T,k,I,C,D,P;const A=e.state;r=e.next_in,D=e.input,h=r+(e.avail_in-5),g=e.next_out,P=e.output,_=g-(t-e.avail_out),o=g+(e.avail_out-257),s=A.dmax,d=A.wsize,f=A.whave,m=A.wnext,p=A.window,n=A.hold,l=A.bits,i=A.lencode,u=A.distcode,a=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{l<15&&(n+=D[r++]<<l,l+=8,n+=D[r++]<<l,l+=8),v=i[n&a];t:for(;;){if(w=v>>>24,n>>>=w,l-=w,w=v>>>16&255,w===0)P[g++]=v&65535;else if(w&16){T=v&65535,w&=15,w&&(l<w&&(n+=D[r++]<<l,l+=8),T+=n&(1<<w)-1,n>>>=w,l-=w),l<15&&(n+=D[r++]<<l,l+=8,n+=D[r++]<<l,l+=8),v=u[n&y];n:for(;;){if(w=v>>>24,n>>>=w,l-=w,w=v>>>16&255,w&16){if(k=v&65535,w&=15,l<w&&(n+=D[r++]<<l,l+=8,l<w&&(n+=D[r++]<<l,l+=8)),k+=n&(1<<w)-1,k>s){e.msg="invalid distance too far back",A.mode=Ys;break e}if(n>>>=w,l-=w,w=g-_,k>w){if(w=k-w,w>f&&A.sane){e.msg="invalid distance too far back",A.mode=Ys;break e}if(I=0,C=p,m===0){if(I+=d-w,w<T){T-=w;do P[g++]=p[I++];while(--w);I=g-k,C=P}}else if(m<w){if(I+=d+m-w,w-=m,w<T){T-=w;do P[g++]=p[I++];while(--w);if(I=0,m<T){w=m,T-=w;do P[g++]=p[I++];while(--w);I=g-k,C=P}}}else if(I+=m-w,w<T){T-=w;do P[g++]=p[I++];while(--w);I=g-k,C=P}for(;T>2;)P[g++]=C[I++],P[g++]=C[I++],P[g++]=C[I++],T-=3;T&&(P[g++]=C[I++],T>1&&(P[g++]=C[I++]))}else{I=g-k;do P[g++]=P[I++],P[g++]=P[I++],P[g++]=P[I++],T-=3;while(T>2);T&&(P[g++]=P[I++],T>1&&(P[g++]=P[I++]))}}else if((w&64)===0){v=u[(v&65535)+(n&(1<<w)-1)];continue n}else{e.msg="invalid distance code",A.mode=Ys;break e}break}}else if((w&64)===0){v=i[(v&65535)+(n&(1<<w)-1)];continue t}else if(w&32){A.mode=py;break e}else{e.msg="invalid literal/length code",A.mode=Ys;break e}break}}while(r<h&&g<o);T=l>>3,r-=T,l-=T<<3,n&=(1<<l)-1,e.next_in=r,e.next_out=g,e.avail_in=r<h?5+(h-r):5-(r-h),e.avail_out=g<o?257+(o-g):257-(g-o),A.hold=n,A.bits=l};const fo=15,Cc=852,Ic=592,xc=0,gl=1,Dc=2,gy=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),my=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yy=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vy=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_y=(c,e,t,r,h,g,_,o)=>{const s=o.bits;let d=0,f=0,m=0,p=0,n=0,l=0,i=0,u=0,a=0,y=0,v,w,T,k,I,C=null,D;const P=new Uint16Array(fo+1),A=new Uint16Array(fo+1);let R=null,z,B,N;for(d=0;d<=fo;d++)P[d]=0;for(f=0;f<r;f++)P[e[t+f]]++;for(n=s,p=fo;p>=1&&P[p]===0;p--);if(n>p&&(n=p),p===0)return h[g++]=1<<24|64<<16|0,h[g++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<p&&P[m]===0;m++);for(n<m&&(n=m),u=1,d=1;d<=fo;d++)if(u<<=1,u-=P[d],u<0)return-1;if(u>0&&(c===xc||p!==1))return-1;for(A[1]=0,d=1;d<fo;d++)A[d+1]=A[d]+P[d];for(f=0;f<r;f++)e[t+f]!==0&&(_[A[e[t+f]]++]=f);if(c===xc?(C=R=_,D=20):c===gl?(C=gy,R=my,D=257):(C=yy,R=vy,D=0),y=0,f=0,d=m,I=g,l=n,i=0,T=-1,a=1<<n,k=a-1,c===gl&&a>Cc||c===Dc&&a>Ic)return 1;for(;;){z=d-i,_[f]+1<D?(B=0,N=_[f]):_[f]>=D?(B=R[_[f]-D],N=C[_[f]-D]):(B=96,N=0),v=1<<d-i,w=1<<l,m=w;do w-=v,h[I+(y>>i)+w]=z<<24|B<<16|N|0;while(w!==0);for(v=1<<d-1;y&v;)v>>=1;if(v!==0?(y&=v-1,y+=v):y=0,f++,--P[d]===0){if(d===p)break;d=e[t+_[f]]}if(d>n&&(y&k)!==T){for(i===0&&(i=n),I+=m,l=d-i,u=1<<l;l+i<p&&(u-=P[l+i],!(u<=0));)l++,u<<=1;if(a+=1<<l,c===gl&&a>Cc||c===Dc&&a>Ic)return 1;T=y&k,h[T]=n<<24|l<<16|I-g|0}}return y!==0&&(h[I+y]=d-i<<24|64<<16|0),o.bits=n,0};var us=_y;const by=0,$h=1,Yh=2,{Z_FINISH:Ac,Z_BLOCK:Ty,Z_TREES:Zs,Z_OK:qi,Z_STREAM_END:wy,Z_NEED_DICT:ky,Z_STREAM_ERROR:ur,Z_DATA_ERROR:Zh,Z_MEM_ERROR:Xh,Z_BUF_ERROR:Sy,Z_DEFLATED:Ec}=Kh,ka=16180,Pc=16181,Mc=16182,Lc=16183,Rc=16184,Oc=16185,Nc=16186,Fc=16187,Bc=16188,jc=16189,ga=16190,Qr=16191,ml=16192,Hc=16193,yl=16194,Vc=16195,Uc=16196,Wc=16197,zc=16198,Xs=16199,Js=16200,Kc=16201,Gc=16202,qc=16203,$c=16204,Yc=16205,vl=16206,Zc=16207,Xc=16208,zt=16209,Jh=16210,Qh=16211,Cy=852,Iy=592,xy=15,Dy=xy,Jc=c=>(c>>>24&255)+(c>>>8&65280)+((c&65280)<<8)+((c&255)<<24);function Ay(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $i=c=>{if(!c)return 1;const e=c.state;return!e||e.strm!==c||e.mode<ka||e.mode>Qh?1:0},ep=c=>{if($i(c))return ur;const e=c.state;return c.total_in=c.total_out=e.total=0,c.msg="",e.wrap&&(c.adler=e.wrap&1),e.mode=ka,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cy),e.distcode=e.distdyn=new Int32Array(Iy),e.sane=1,e.back=-1,qi},tp=c=>{if($i(c))return ur;const e=c.state;return e.wsize=0,e.whave=0,e.wnext=0,ep(c)},np=(c,e)=>{let t;if($i(c))return ur;const r=c.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ur:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,tp(c))},rp=(c,e)=>{if(!c)return ur;const t=new Ay;c.state=t,t.strm=c,t.window=null,t.mode=ka;const r=np(c,e);return r!==qi&&(c.state=null),r},Ey=c=>rp(c,Dy);let Qc=!0,_l,bl;const Py=c=>{if(Qc){_l=new Int32Array(512),bl=new Int32Array(32);let e=0;for(;e<144;)c.lens[e++]=8;for(;e<256;)c.lens[e++]=9;for(;e<280;)c.lens[e++]=7;for(;e<288;)c.lens[e++]=8;for(us($h,c.lens,0,288,_l,0,c.work,{bits:9}),e=0;e<32;)c.lens[e++]=5;us(Yh,c.lens,0,32,bl,0,c.work,{bits:5}),Qc=!1}c.lencode=_l,c.lenbits=9,c.distcode=bl,c.distbits=5},ip=(c,e,t,r)=>{let h;const g=c.state;return g.window===null&&(g.wsize=1<<g.wbits,g.wnext=0,g.whave=0,g.window=new Uint8Array(g.wsize)),r>=g.wsize?(g.window.set(e.subarray(t-g.wsize,t),0),g.wnext=0,g.whave=g.wsize):(h=g.wsize-g.wnext,h>r&&(h=r),g.window.set(e.subarray(t-r,t-r+h),g.wnext),r-=h,r?(g.window.set(e.subarray(t-r,t),0),g.wnext=r,g.whave=g.wsize):(g.wnext+=h,g.wnext===g.wsize&&(g.wnext=0),g.whave<g.wsize&&(g.whave+=h))),0},My=(c,e)=>{let t,r,h,g,_,o,s,d,f,m,p,n,l,i,u=0,a,y,v,w,T,k,I,C;const D=new Uint8Array(4);let P,A;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($i(c)||!c.output||!c.input&&c.avail_in!==0)return ur;t=c.state,t.mode===Qr&&(t.mode=ml),_=c.next_out,h=c.output,s=c.avail_out,g=c.next_in,r=c.input,o=c.avail_in,d=t.hold,f=t.bits,m=o,p=s,C=qi;e:for(;;)switch(t.mode){case ka:if(t.wrap===0){t.mode=ml;break}for(;f<16;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=d&255,D[1]=d>>>8&255,t.check=Rr(t.check,D,2,0),d=0,f=0,t.mode=Pc;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){c.msg="incorrect header check",t.mode=zt;break}if((d&15)!==Ec){c.msg="unknown compression method",t.mode=zt;break}if(d>>>=4,f-=4,I=(d&15)+8,t.wbits===0&&(t.wbits=I),I>15||I>t.wbits){c.msg="invalid window size",t.mode=zt;break}t.dmax=1<<t.wbits,t.flags=0,c.adler=t.check=1,t.mode=d&512?jc:Qr,d=0,f=0;break;case Pc:for(;f<16;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==Ec){c.msg="unknown compression method",t.mode=zt;break}if(t.flags&57344){c.msg="unknown header flags set",t.mode=zt;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=Rr(t.check,D,2,0)),d=0,f=0,t.mode=Mc;case Mc:for(;f<32;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,t.check=Rr(t.check,D,4,0)),d=0,f=0,t.mode=Lc;case Lc:for(;f<16;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=Rr(t.check,D,2,0)),d=0,f=0,t.mode=Rc;case Rc:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=Rr(t.check,D,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=Oc;case Oc:if(t.flags&1024&&(n=t.length,n>o&&(n=o),n&&(t.head&&(I=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(g,g+n),I)),t.flags&512&&t.wrap&4&&(t.check=Rr(t.check,r,n,g)),o-=n,g+=n,t.length-=n),t.length))break e;t.length=0,t.mode=Nc;case Nc:if(t.flags&2048){if(o===0)break e;n=0;do I=r[g+n++],t.head&&I&&t.length<65536&&(t.head.name+=String.fromCharCode(I));while(I&&n<o);if(t.flags&512&&t.wrap&4&&(t.check=Rr(t.check,r,n,g)),o-=n,g+=n,I)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Fc;case Fc:if(t.flags&4096){if(o===0)break e;n=0;do I=r[g+n++],t.head&&I&&t.length<65536&&(t.head.comment+=String.fromCharCode(I));while(I&&n<o);if(t.flags&512&&t.wrap&4&&(t.check=Rr(t.check,r,n,g)),o-=n,g+=n,I)break e}else t.head&&(t.head.comment=null);t.mode=Bc;case Bc:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){c.msg="header crc mismatch",t.mode=zt;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),c.adler=t.check=0,t.mode=Qr;break;case jc:for(;f<32;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}c.adler=t.check=Jc(d),d=0,f=0,t.mode=ga;case ga:if(t.havedict===0)return c.next_out=_,c.avail_out=s,c.next_in=g,c.avail_in=o,t.hold=d,t.bits=f,ky;c.adler=t.check=1,t.mode=Qr;case Qr:if(e===Ty||e===Zs)break e;case ml:if(t.last){d>>>=f&7,f-=f&7,t.mode=vl;break}for(;f<3;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=Hc;break;case 1:if(Py(t),t.mode=Xs,e===Zs){d>>>=2,f-=2;break e}break;case 2:t.mode=Uc;break;case 3:c.msg="invalid block type",t.mode=zt}d>>>=2,f-=2;break;case Hc:for(d>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){c.msg="invalid stored block lengths",t.mode=zt;break}if(t.length=d&65535,d=0,f=0,t.mode=yl,e===Zs)break e;case yl:t.mode=Vc;case Vc:if(n=t.length,n){if(n>o&&(n=o),n>s&&(n=s),n===0)break e;h.set(r.subarray(g,g+n),_),o-=n,g+=n,s-=n,_+=n,t.length-=n;break}t.mode=Qr;break;case Uc:for(;f<14;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){c.msg="too many length or distance symbols",t.mode=zt;break}t.have=0,t.mode=Wc;case Wc:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}t.lens[R[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,P={bits:t.lenbits},C=us(by,t.lens,0,19,t.lencode,0,t.work,P),t.lenbits=P.bits,C){c.msg="invalid code lengths set",t.mode=zt;break}t.have=0,t.mode=zc;case zc:for(;t.have<t.nlen+t.ndist;){for(;u=t.lencode[d&(1<<t.lenbits)-1],a=u>>>24,y=u>>>16&255,v=u&65535,!(a<=f);){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(v<16)d>>>=a,f-=a,t.lens[t.have++]=v;else{if(v===16){for(A=a+2;f<A;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(d>>>=a,f-=a,t.have===0){c.msg="invalid bit length repeat",t.mode=zt;break}I=t.lens[t.have-1],n=3+(d&3),d>>>=2,f-=2}else if(v===17){for(A=a+3;f<A;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}d>>>=a,f-=a,I=0,n=3+(d&7),d>>>=3,f-=3}else{for(A=a+7;f<A;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}d>>>=a,f-=a,I=0,n=11+(d&127),d>>>=7,f-=7}if(t.have+n>t.nlen+t.ndist){c.msg="invalid bit length repeat",t.mode=zt;break}for(;n--;)t.lens[t.have++]=I}}if(t.mode===zt)break;if(t.lens[256]===0){c.msg="invalid code -- missing end-of-block",t.mode=zt;break}if(t.lenbits=9,P={bits:t.lenbits},C=us($h,t.lens,0,t.nlen,t.lencode,0,t.work,P),t.lenbits=P.bits,C){c.msg="invalid literal/lengths set",t.mode=zt;break}if(t.distbits=6,t.distcode=t.distdyn,P={bits:t.distbits},C=us(Yh,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,P),t.distbits=P.bits,C){c.msg="invalid distances set",t.mode=zt;break}if(t.mode=Xs,e===Zs)break e;case Xs:t.mode=Js;case Js:if(o>=6&&s>=258){c.next_out=_,c.avail_out=s,c.next_in=g,c.avail_in=o,t.hold=d,t.bits=f,fy(c,p),_=c.next_out,h=c.output,s=c.avail_out,g=c.next_in,r=c.input,o=c.avail_in,d=t.hold,f=t.bits,t.mode===Qr&&(t.back=-1);break}for(t.back=0;u=t.lencode[d&(1<<t.lenbits)-1],a=u>>>24,y=u>>>16&255,v=u&65535,!(a<=f);){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(y&&(y&240)===0){for(w=a,T=y,k=v;u=t.lencode[k+((d&(1<<w+T)-1)>>w)],a=u>>>24,y=u>>>16&255,v=u&65535,!(w+a<=f);){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}d>>>=w,f-=w,t.back+=w}if(d>>>=a,f-=a,t.back+=a,t.length=v,y===0){t.mode=Yc;break}if(y&32){t.back=-1,t.mode=Qr;break}if(y&64){c.msg="invalid literal/length code",t.mode=zt;break}t.extra=y&15,t.mode=Kc;case Kc:if(t.extra){for(A=t.extra;f<A;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Gc;case Gc:for(;u=t.distcode[d&(1<<t.distbits)-1],a=u>>>24,y=u>>>16&255,v=u&65535,!(a<=f);){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if((y&240)===0){for(w=a,T=y,k=v;u=t.distcode[k+((d&(1<<w+T)-1)>>w)],a=u>>>24,y=u>>>16&255,v=u&65535,!(w+a<=f);){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}d>>>=w,f-=w,t.back+=w}if(d>>>=a,f-=a,t.back+=a,y&64){c.msg="invalid distance code",t.mode=zt;break}t.offset=v,t.extra=y&15,t.mode=qc;case qc:if(t.extra){for(A=t.extra;f<A;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){c.msg="invalid distance too far back",t.mode=zt;break}t.mode=$c;case $c:if(s===0)break e;if(n=p-s,t.offset>n){if(n=t.offset-n,n>t.whave&&t.sane){c.msg="invalid distance too far back",t.mode=zt;break}n>t.wnext?(n-=t.wnext,l=t.wsize-n):l=t.wnext-n,n>t.length&&(n=t.length),i=t.window}else i=h,l=_-t.offset,n=t.length;n>s&&(n=s),s-=n,t.length-=n;do h[_++]=i[l++];while(--n);t.length===0&&(t.mode=Js);break;case Yc:if(s===0)break e;h[_++]=t.length,s--,t.mode=Js;break;case vl:if(t.wrap){for(;f<32;){if(o===0)break e;o--,d|=r[g++]<<f,f+=8}if(p-=s,c.total_out+=p,t.total+=p,t.wrap&4&&p&&(c.adler=t.check=t.flags?Rr(t.check,h,p,_-p):Gl(t.check,h,p,_-p)),p=s,t.wrap&4&&(t.flags?d:Jc(d))!==t.check){c.msg="incorrect data check",t.mode=zt;break}d=0,f=0}t.mode=Zc;case Zc:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,d+=r[g++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){c.msg="incorrect length check",t.mode=zt;break}d=0,f=0}t.mode=Xc;case Xc:C=wy;break e;case zt:C=Zh;break e;case Jh:return Xh;case Qh:default:return ur}return c.next_out=_,c.avail_out=s,c.next_in=g,c.avail_in=o,t.hold=d,t.bits=f,(t.wsize||p!==c.avail_out&&t.mode<zt&&(t.mode<vl||e!==Ac))&&ip(c,c.output,c.next_out,p-c.avail_out),m-=c.avail_in,p-=c.avail_out,c.total_in+=m,c.total_out+=p,t.total+=p,t.wrap&4&&p&&(c.adler=t.check=t.flags?Rr(t.check,h,p,c.next_out-p):Gl(t.check,h,p,c.next_out-p)),c.data_type=t.bits+(t.last?64:0)+(t.mode===Qr?128:0)+(t.mode===Xs||t.mode===yl?256:0),(m===0&&p===0||e===Ac)&&C===qi&&(C=Sy),C},Ly=c=>{if($i(c))return ur;let e=c.state;return e.window&&(e.window=null),c.state=null,qi},Ry=(c,e)=>{if($i(c))return ur;const t=c.state;return(t.wrap&2)===0?ur:(t.head=e,e.done=!1,qi)},Oy=(c,e)=>{const t=e.length;let r,h,g;return $i(c)||(r=c.state,r.wrap!==0&&r.mode!==ga)?ur:r.mode===ga&&(h=1,h=Gl(h,e,t,0),h!==r.check)?Zh:(g=ip(c,e,t,t),g?(r.mode=Jh,Xh):(r.havedict=1,qi))};var Ny=tp,Fy=np,By=ep,jy=Ey,Hy=rp,Vy=My,Uy=Ly,Wy=Ry,zy=Oy,Ky="pako inflate (from Nodeca project)",ei={inflateReset:Ny,inflateReset2:Fy,inflateResetKeep:By,inflateInit:jy,inflateInit2:Hy,inflate:Vy,inflateEnd:Uy,inflateGetHeader:Wy,inflateSetDictionary:zy,inflateInfo:Ky};function Gy(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qy=Gy;const op=Object.prototype.toString,{Z_NO_FLUSH:$y,Z_FINISH:Yy,Z_OK:ps,Z_STREAM_END:Tl,Z_NEED_DICT:wl,Z_STREAM_ERROR:Zy,Z_DATA_ERROR:ed,Z_MEM_ERROR:Xy}=Kh;function fs(c){this.options=Gh.assign({chunkSize:1024*64,windowBits:15,to:""},c||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(c&&c.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hy,this.strm.avail_out=0;let t=ei.inflateInit2(this.strm,e.windowBits);if(t!==ps)throw new Error(ql[t]);if(this.header=new qy,ei.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=$l.string2buf(e.dictionary):op.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ei.inflateSetDictionary(this.strm,e.dictionary),t!==ps)))throw new Error(ql[t])}fs.prototype.push=function(c,e){const t=this.strm,r=this.options.chunkSize,h=this.options.dictionary;let g,_,o;if(this.ended)return!1;for(e===~~e?_=e:_=e===!0?Yy:$y,op.call(c)==="[object ArrayBuffer]"?t.input=new Uint8Array(c):t.input=c,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),g=ei.inflate(t,_),g===wl&&h&&(g=ei.inflateSetDictionary(t,h),g===ps?g=ei.inflate(t,_):g===ed&&(g=wl));t.avail_in>0&&g===Tl&&t.state.wrap>0&&c[t.next_in]!==0;)ei.inflateReset(t),g=ei.inflate(t,_);switch(g){case Zy:case ed:case wl:case Xy:return this.onEnd(g),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||g===Tl))if(this.options.to==="string"){let s=$l.utf8border(t.output,t.next_out),d=t.next_out-s,f=$l.buf2string(t.output,s);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(s,s+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(g===ps&&o===0)){if(g===Tl)return g=ei.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};fs.prototype.onData=function(c){this.chunks.push(c)};fs.prototype.onEnd=function(c){c===ps&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gh.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg};function Jy(c,e){const t=new fs(e);if(t.push(c),t.err)throw t.msg||ql[t.err];return t.result}var Qy=fs,ev=Jy,tv={Inflate:Qy,inflate:ev};const{Inflate:nv,inflate:rv}=tv;var td=nv,iv=rv;const sp=[];for(let c=0;c<256;c++){let e=c;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;sp[c]=e}const nd=4294967295;function ov(c,e,t){let r=c;for(let h=0;h<t;h++)r=sp[(r^e[h])&255]^r>>>8;return r}function sv(c,e){return(ov(nd,c,e)^nd)>>>0}function rd(c,e,t){const r=c.readUint32(),h=sv(new Uint8Array(c.buffer,c.byteOffset+c.offset-e-4,e),e);if(h!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${h}`)}function ap(c,e,t){for(let r=0;r<t;r++)e[r]=c[r]}function lp(c,e,t,r){let h=0;for(;h<r;h++)e[h]=c[h];for(;h<t;h++)e[h]=c[h]+e[h-r]&255}function up(c,e,t,r){let h=0;if(t.length===0)for(;h<r;h++)e[h]=c[h];else for(;h<r;h++)e[h]=c[h]+t[h]&255}function cp(c,e,t,r,h){let g=0;if(t.length===0){for(;g<h;g++)e[g]=c[g];for(;g<r;g++)e[g]=c[g]+(e[g-h]>>1)&255}else{for(;g<h;g++)e[g]=c[g]+(t[g]>>1)&255;for(;g<r;g++)e[g]=c[g]+(e[g-h]+t[g]>>1)&255}}function dp(c,e,t,r,h){let g=0;if(t.length===0){for(;g<h;g++)e[g]=c[g];for(;g<r;g++)e[g]=c[g]+e[g-h]&255}else{for(;g<h;g++)e[g]=c[g]+t[g]&255;for(;g<r;g++)e[g]=c[g]+av(e[g-h],t[g],t[g-h])&255}}function av(c,e,t){const r=c+e-t,h=Math.abs(r-c),g=Math.abs(r-e),_=Math.abs(r-t);return h<=g&&h<=_?c:g<=_?e:t}function lv(c,e,t,r,h,g){switch(c){case 0:ap(e,t,h);break;case 1:lp(e,t,h,g);break;case 2:up(e,t,r,h);break;case 3:cp(e,t,r,h,g);break;case 4:dp(e,t,r,h,g);break;default:throw new Error(`Unsupported filter: ${c}`)}}const uv=new Uint16Array([255]),cv=new Uint8Array(uv.buffer),dv=cv[0]===255;function hv(c){const{data:e,width:t,height:r,channels:h,depth:g}=c,_=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(g/8)*h,s=new Uint8Array(r*t*o);let d=0;for(let f=0;f<7;f++){const m=_[f],p=Math.ceil((t-m.x)/m.xStep),n=Math.ceil((r-m.y)/m.yStep);if(p<=0||n<=0)continue;const l=p*o,i=new Uint8Array(l);for(let u=0;u<n;u++){const a=e[d++],y=e.subarray(d,d+l);d+=l;const v=new Uint8Array(l);lv(a,y,v,i,l,o),i.set(v);for(let w=0;w<p;w++){const T=m.x+w*m.xStep,k=m.y+u*m.yStep;if(!(T>=t||k>=r))for(let I=0;I<o;I++)s[(k*t+T)*o+I]=v[w*o+I]}}}if(g===16){const f=new Uint16Array(s.buffer);if(dv)for(let m=0;m<f.length;m++)f[m]=pv(f[m]);return f}else return s}function pv(c){return(c&255)<<8|c>>8&255}const fv=new Uint16Array([255]),gv=new Uint8Array(fv.buffer),mv=gv[0]===255,yv=new Uint8Array(0);function id(c){const{data:e,width:t,height:r,channels:h,depth:g}=c,_=Math.ceil(g/8)*h,o=Math.ceil(g/8*h*t),s=new Uint8Array(r*o);let d=yv,f=0,m,p;for(let n=0;n<r;n++){switch(m=e.subarray(f+1,f+1+o),p=s.subarray(n*o,(n+1)*o),e[f]){case 0:ap(m,p,o);break;case 1:lp(m,p,o,_);break;case 2:up(m,p,d,o);break;case 3:cp(m,p,d,o,_);break;case 4:dp(m,p,d,o,_);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=p,f+=o+1}if(g===16){const n=new Uint16Array(s.buffer);if(mv)for(let l=0;l<n.length;l++)n[l]=vv(n[l]);return n}else return s}function vv(c){return(c&255)<<8|c>>8&255}const aa=Uint8Array.of(137,80,78,71,13,10,26,10);function od(c){if(!_v(c.readBytes(aa.length)))throw new Error("wrong PNG signature")}function _v(c){if(c.length<aa.length)return!1;for(let e=0;e<aa.length;e++)if(c[e]!==aa[e])return!1;return!0}const bv="tEXt",Tv=0,hp=new TextDecoder("latin1");function wv(c){if(Sv(c),c.length===0||c.length>79)throw new Error("keyword length must be between 1 and 79")}const kv=/^[\u0000-\u00FF]*$/;function Sv(c){if(!kv.test(c))throw new Error("invalid latin1 text")}function Cv(c,e,t){const r=pp(e);c[r]=Iv(e,t-r.length-1)}function pp(c){for(c.mark();c.readByte()!==Tv;);const e=c.offset;c.reset();const t=hp.decode(c.readBytes(e-c.offset-1));return c.skip(1),wv(t),t}function Iv(c,e){return hp.decode(c.readBytes(e))}const Jn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kl={UNKNOWN:-1,DEFLATE:0},sd={UNKNOWN:-1,ADAPTIVE:0},Sl={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qs={NONE:0,BACKGROUND:1,PREVIOUS:2},Cl={SOURCE:0,OVER:1};class xv extends cu{constructor(t,r={}){super(t);Ct(this,"_checkCrc");Ct(this,"_inflator");Ct(this,"_png");Ct(this,"_apng");Ct(this,"_end");Ct(this,"_hasPalette");Ct(this,"_palette");Ct(this,"_hasTransparency");Ct(this,"_transparency");Ct(this,"_compressionMethod");Ct(this,"_filterMethod");Ct(this,"_interlaceMethod");Ct(this,"_colorType");Ct(this,"_isAnimated");Ct(this,"_numberOfFrames");Ct(this,"_numberOfPlays");Ct(this,"_frames");Ct(this,"_writingDataChunks");const{checkCrc:h=!1}=r;this._checkCrc=h,this._inflator=new td,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kl.UNKNOWN,this._filterMethod=sd.UNKNOWN,this._interlaceMethod=Sl.UNKNOWN,this._colorType=Jn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(od(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(od(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const h=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case bv:Cv(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-h!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?rd(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const h=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=h+t;break}if(this.offset-h!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?rd(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Dv(this.readUint8());const r=this.readUint8();this._colorType=r;let h;switch(r){case Jn.GREYSCALE:h=1;break;case Jn.TRUECOLOUR:h=3;break;case Jn.INDEXED_COLOUR:h=1;break;case Jn.GREYSCALE_ALPHA:h=2;break;case Jn.TRUECOLOUR_ALPHA:h=4;break;case Jn.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=h,this._compressionMethod=this.readUint8(),this._compressionMethod!==kl.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const h=[];this._palette=h;for(let g=0;g<r;g++)h.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,h=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,h,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,h=this.offset+this.byteOffset;if(h+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,h,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Jn.GREYSCALE:case Jn.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Jn.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const h=this.readByte();this._palette[r].push(h)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Jn.UNKNOWN:case Jn.GREYSCALE_ALPHA:case Jn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=pp(this),h=this.readUint8();if(h!==kl.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${h}`);const g=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:iv(g)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),h=this.readByte();this._png.resolution={x:t,y:r,unit:h}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},h=this._frames.at(t);if(h){if(h.data=id({data:h.data,width:h.width,height:h.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||h.xOffset===0&&h.yOffset===0&&h.width===this._png.width&&h.height===this._png.height)r.data=h.data;else{const g=this._apng.frames.at(t-1);this.disposeFrame(h,g,r),this.addFrameDataToCanvas(r,h)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,h){switch(t.disposeOp){case Qs.NONE:break;case Qs.BACKGROUND:for(let g=0;g<this._png.height;g++)for(let _=0;_<this._png.width;_++){const o=(g*t.width+_)*this._png.channels;for(let s=0;s<this._png.channels;s++)h.data[o+s]=0}break;case Qs.PREVIOUS:h.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const h=1<<this._png.depth,g=(_,o)=>{const s=((_+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,d=(_*r.width+o)*this._png.channels;return{index:s,frameIndex:d}};switch(r.blendOp){case Cl.SOURCE:for(let _=0;_<r.height;_++)for(let o=0;o<r.width;o++){const{index:s,frameIndex:d}=g(_,o);for(let f=0;f<this._png.channels;f++)t.data[s+f]=r.data[d+f]}break;case Cl.OVER:for(let _=0;_<r.height;_++)for(let o=0;o<r.width;o++){const{index:s,frameIndex:d}=g(_,o);for(let f=0;f<this._png.channels;f++){const m=r.data[d+this._png.channels-1]/h,p=f%(this._png.channels-1)===0?1:r.data[d+f],n=Math.floor(m*p+(1-m)*t.data[s+f]);t.data[s+f]+=n}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==sd.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Sl.NO_INTERLACE)this._png.data=id({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Sl.ADAM7)this._png.data=hv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qs.NONE,blendOp:Cl.SOURCE,data:t}),this._inflator=new td,this._writingDataChunks=!1}}function Dv(c){if(c!==1&&c!==2&&c!==4&&c!==8&&c!==16)throw new Error(`invalid bit depth: ${c}`);return c}var ad;(function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.METRE=1]="METRE"})(ad||(ad={}));function Av(c,e){return new xv(c,e).decode()}var Ze=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Il(){Ze.console&&typeof Ze.console.log=="function"&&Ze.console.log.apply(Ze.console,arguments)}var Ot={log:Il,warn:function(c){Ze.console&&(typeof Ze.console.warn=="function"?Ze.console.warn.apply(Ze.console,arguments):Il.call(null,arguments))},error:function(c){Ze.console&&(typeof Ze.console.error=="function"?Ze.console.error.apply(Ze.console,arguments):Il(c))}};function xl(c,e,t){var r=new XMLHttpRequest;r.open("GET",c),r.responseType="blob",r.onload=function(){Vi(r.response,e,t)},r.onerror=function(){Ot.error("could not download file")},r.send()}function ld(c){var e=new XMLHttpRequest;e.open("HEAD",c,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ea(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(e)}}var Vi=Ze.saveAs||((typeof window>"u"?"undefined":xt(window))!=="object"||window!==Ze?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(c,e,t){var r=Ze.URL||Ze.webkitURL,h=document.createElement("a");e=e||c.name||"download",h.download=e,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin!==location.origin?ld(h.href)?xl(c,e,t):ea(h,h.target="_blank"):ea(h)):(h.href=r.createObjectURL(c),setTimeout(function(){r.revokeObjectURL(h.href)},4e4),setTimeout(function(){ea(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,e,t){if(e=e||c.name||"download",typeof c=="string")if(ld(c))xl(c,e,t);else{var r=document.createElement("a");r.href=c,r.target="_blank",setTimeout(function(){ea(r)})}else navigator.msSaveOrOpenBlob((function(h,g){return g===void 0?g={autoBom:!1}:xt(g)!=="object"&&(Ot.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h})(c,t),e)}:function(c,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof c=="string")return xl(c,e,t);var h=c.type==="application/octet-stream",g=/constructor/i.test(Ze.HTMLElement)||Ze.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||h&&g)&&(typeof FileReader>"u"?"undefined":xt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=_?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(c)}else{var s=Ze.URL||Ze.webkitURL,d=s.createObjectURL(c);r?r.location=d:location.href=d,r=null,setTimeout(function(){s.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fp(c){var e;c=c||"",this.ok=!1,c.charAt(0)=="#"&&(c=c.substr(1,6)),c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[c=(c=c.replace(/ /g,"")).toLowerCase()]||c;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var h=t[r].re,g=t[r].process,_=h.exec(c);_&&(e=g(_),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),s=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),s.length==1&&(s="0"+s),d.length==1&&(d="0"+d),"#"+o+s+d}}var la=Ze.atob.bind(Ze),ud=Ze.btoa.bind(Ze);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dl(c,e){var t=c[0],r=c[1],h=c[2],g=c[3];t=An(t,r,h,g,e[0],7,-680876936),g=An(g,t,r,h,e[1],12,-389564586),h=An(h,g,t,r,e[2],17,606105819),r=An(r,h,g,t,e[3],22,-1044525330),t=An(t,r,h,g,e[4],7,-176418897),g=An(g,t,r,h,e[5],12,1200080426),h=An(h,g,t,r,e[6],17,-1473231341),r=An(r,h,g,t,e[7],22,-45705983),t=An(t,r,h,g,e[8],7,1770035416),g=An(g,t,r,h,e[9],12,-1958414417),h=An(h,g,t,r,e[10],17,-42063),r=An(r,h,g,t,e[11],22,-1990404162),t=An(t,r,h,g,e[12],7,1804603682),g=An(g,t,r,h,e[13],12,-40341101),h=An(h,g,t,r,e[14],17,-1502002290),t=En(t,r=An(r,h,g,t,e[15],22,1236535329),h,g,e[1],5,-165796510),g=En(g,t,r,h,e[6],9,-1069501632),h=En(h,g,t,r,e[11],14,643717713),r=En(r,h,g,t,e[0],20,-373897302),t=En(t,r,h,g,e[5],5,-701558691),g=En(g,t,r,h,e[10],9,38016083),h=En(h,g,t,r,e[15],14,-660478335),r=En(r,h,g,t,e[4],20,-405537848),t=En(t,r,h,g,e[9],5,568446438),g=En(g,t,r,h,e[14],9,-1019803690),h=En(h,g,t,r,e[3],14,-187363961),r=En(r,h,g,t,e[8],20,1163531501),t=En(t,r,h,g,e[13],5,-1444681467),g=En(g,t,r,h,e[2],9,-51403784),h=En(h,g,t,r,e[7],14,1735328473),t=Pn(t,r=En(r,h,g,t,e[12],20,-1926607734),h,g,e[5],4,-378558),g=Pn(g,t,r,h,e[8],11,-2022574463),h=Pn(h,g,t,r,e[11],16,1839030562),r=Pn(r,h,g,t,e[14],23,-35309556),t=Pn(t,r,h,g,e[1],4,-1530992060),g=Pn(g,t,r,h,e[4],11,1272893353),h=Pn(h,g,t,r,e[7],16,-155497632),r=Pn(r,h,g,t,e[10],23,-1094730640),t=Pn(t,r,h,g,e[13],4,681279174),g=Pn(g,t,r,h,e[0],11,-358537222),h=Pn(h,g,t,r,e[3],16,-722521979),r=Pn(r,h,g,t,e[6],23,76029189),t=Pn(t,r,h,g,e[9],4,-640364487),g=Pn(g,t,r,h,e[12],11,-421815835),h=Pn(h,g,t,r,e[15],16,530742520),t=Mn(t,r=Pn(r,h,g,t,e[2],23,-995338651),h,g,e[0],6,-198630844),g=Mn(g,t,r,h,e[7],10,1126891415),h=Mn(h,g,t,r,e[14],15,-1416354905),r=Mn(r,h,g,t,e[5],21,-57434055),t=Mn(t,r,h,g,e[12],6,1700485571),g=Mn(g,t,r,h,e[3],10,-1894986606),h=Mn(h,g,t,r,e[10],15,-1051523),r=Mn(r,h,g,t,e[1],21,-2054922799),t=Mn(t,r,h,g,e[8],6,1873313359),g=Mn(g,t,r,h,e[15],10,-30611744),h=Mn(h,g,t,r,e[6],15,-1560198380),r=Mn(r,h,g,t,e[13],21,1309151649),t=Mn(t,r,h,g,e[4],6,-145523070),g=Mn(g,t,r,h,e[11],10,-1120210379),h=Mn(h,g,t,r,e[2],15,718787259),r=Mn(r,h,g,t,e[9],21,-343485551),c[0]=bi(t,c[0]),c[1]=bi(r,c[1]),c[2]=bi(h,c[2]),c[3]=bi(g,c[3])}function Sa(c,e,t,r,h,g){return e=bi(bi(e,c),bi(r,g)),bi(e<<h|e>>>32-h,t)}function An(c,e,t,r,h,g,_){return Sa(e&t|~e&r,c,e,h,g,_)}function En(c,e,t,r,h,g,_){return Sa(e&r|t&~r,c,e,h,g,_)}function Pn(c,e,t,r,h,g,_){return Sa(e^t^r,c,e,h,g,_)}function Mn(c,e,t,r,h,g,_){return Sa(t^(e|~r),c,e,h,g,_)}function gp(c){var e,t=c.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c.length;e+=64)Dl(r,Ev(c.substring(e-64,e)));c=c.substring(e-64);var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<c.length;e++)h[e>>2]|=c.charCodeAt(e)<<(e%4<<3);if(h[e>>2]|=128<<(e%4<<3),e>55)for(Dl(r,h),e=0;e<16;e++)h[e]=0;return h[14]=8*t,Dl(r,h),r}function Ev(c){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=c.charCodeAt(e)+(c.charCodeAt(e+1)<<8)+(c.charCodeAt(e+2)<<16)+(c.charCodeAt(e+3)<<24);return t}var cd="0123456789abcdef".split("");function Pv(c){for(var e="",t=0;t<4;t++)e+=cd[c>>8*t+4&15]+cd[c>>8*t&15];return e}function Mv(c){return String.fromCharCode(255&c,(65280&c)>>8,(16711680&c)>>16,(4278190080&c)>>24)}function Yl(c){return gp(c).map(Mv).join("")}var Lv=(function(c){for(var e=0;e<c.length;e++)c[e]=Pv(c[e]);return c.join("")})(gp("hello"))!="5d41402abc4b2a76b9719d911017c592";function bi(c,e){if(Lv){var t=(65535&c)+(65535&e);return(c>>16)+(e>>16)+(t>>16)<<16|65535&t}return c+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zl(c,e){var t,r,h,g;if(c!==t){for(var _=(h=c,g=1+(256/c.length|0),new Array(g+1).join(h)),o=[],s=0;s<256;s++)o[s]=s;var d=0;for(s=0;s<256;s++){var f=o[s];d=(d+f+_.charCodeAt(s))%256,o[s]=o[d],o[d]=f}t=c,r=o}else o=r;var m=e.length,p=0,n=0,l="";for(s=0;s<m;s++)n=(n+(f=o[p=(p+1)%256]))%256,o[p]=o[n],o[n]=f,_=o[(o[p]+o[n])%256],l+=String.fromCharCode(e.charCodeAt(s)^_);return l}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dd={print:4,modify:8,copy:16,"annot-forms":32};function vo(c,e,t,r){this.v=1,this.r=2;var h=192;c.forEach(function(o){if(dd.perm!==void 0)throw new Error("Invalid permission: "+o);h+=dd[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var g=(e+this.padding).substr(0,32),_=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(g,_),this.P=-(1+(255^h)),this.encryptionKey=Yl(g+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Zl(this.encryptionKey,this.padding)}function _o(c){if(/[^\u0000-\u00ff]/.test(c))throw new Error("Invalid PDF Name Object: "+c+", Only accept ASCII characters.");for(var e="",t=c.length,r=0;r<t;r++){var h=c.charCodeAt(r);e+=h<33||h===35||h===37||h===40||h===41||h===47||h===60||h===62||h===91||h===93||h===123||h===125||h>126?"#"+("0"+h.toString(16)).slice(-2):c[r]}return e}function hd(c){if(xt(c)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,h){if(h=h||!1,typeof t!="string"||typeof r!="function"||typeof h!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var g=Math.random().toString(35);return e[t][g]=[r,!!h],g},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),h=[];for(var g in e[t]){var _=e[t][g];try{_[0].apply(c,r)}catch(o){Ze.console&&Ot.error("jsPDF PubSub Error",o.message,o)}_[1]&&h.push(g)}h.length&&h.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ma(c){if(!(this instanceof ma))return new ma(c);var e="opacity,stroke-opacity".split(",");for(var t in c)c.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=c[t]);this.id="",this.objectNumber=-1}function mp(c,e){this.gState=c,this.matrix=e,this.id="",this.objectNumber=-1}function Ui(c,e,t,r,h){if(!(this instanceof Ui))return new Ui(c,e,t,r,h);this.type=c==="axial"?2:3,this.coords=e,this.colors=t,mp.call(this,r,h)}function bo(c,e,t,r,h){if(!(this instanceof bo))return new bo(c,e,t,r,h);this.boundingBox=c,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,mp.call(this,r,h)}function Fe(c){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],h=arguments[2],g=arguments[3],_=[],o=1,s=16,d="S",f=null;xt(c=c||{})==="object"&&(t=c.orientation,r=c.unit||r,h=c.format||h,g=c.compress||c.compressPdf||g,(f=c.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof c.userUnit=="number"?Math.abs(c.userUnit):1,c.precision!==void 0&&(e=c.precision),c.floatPrecision!==void 0&&(s=c.floatPrecision),d=c.defaultPathOperation||"S"),_=c.filters||(g===!0?["FlateEncode"]:_),r=r||"mm",t=(""+(t||"P")).toLowerCase();var m=c.putOnlyUsedFonts||!1,p={},n={internal:{},__private__:{}};n.__private__.PubSub=hd;var l="1.3",i=n.__private__.getPdfVersion=function(){return l};n.__private__.setPdfVersion=function(x){l=x};var u={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};n.__private__.getPageFormats=function(){return u};var a=n.__private__.getPageFormat=function(x){return u[x]};h=h||"a4";var y="compat",v="advanced",w=y;function T(){this.saveGraphicsState(),te(new Ke($e,0,0,-$e,0,zn()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),d="n",w=v}function k(){this.restoreGraphicsState(),d="S",w=y}var I=n.__private__.combineFontStyleAndFontWeight=function(x,j){if(x=="bold"&&j=="normal"||x=="bold"&&j==400||x=="normal"&&j=="italic"||x=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(x=j==400||j==="normal"?x==="italic"?"italic":"normal":j!=700&&j!=="bold"||x!=="normal"?(j==700?"bold":j)+""+x:"bold"),x};n.advancedAPI=function(x){var j=w===y;return j&&T.call(this),typeof x!="function"||(x(this),j&&k.call(this)),this},n.compatAPI=function(x){var j=w===v;return j&&k.call(this),typeof x!="function"||(x(this),j&&T.call(this)),this},n.isAdvancedAPI=function(){return w===v};var C,D=function(x){if(w!==v)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=n.roundToPrecision=n.__private__.roundToPrecision=function(x,j){var ee=e||j;if(isNaN(x)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ee).replace(/0+$/,"")};C=n.hpf=n.__private__.hpf=typeof s=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return P(x,s)}:s==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return P(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return P(x,16)};var A=n.f2=n.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return P(x,2)},R=n.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return P(x,3)},z=n.scale=n.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?x*$e:w===v?x:void 0},B=function(x){return z((function(j){return w===y?zn()-j:w===v?j:void 0})(x))};n.__private__.setPrecision=n.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var N,Z="00000000000000000000000000000000",ne=n.__private__.getFileId=function(){return Z},ie=n.__private__.setFileId=function(x){return Z=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Xt=new vo(f.userPermissions,f.userPassword,f.ownerPassword,Z)),Z};n.setFileId=function(x){return ie(x),this},n.getFileId=function(){return ne()};var Y=n.__private__.convertDateToPDFDate=function(x){var j=x.getTimezoneOffset(),ee=j<0?"+":"-",se=Math.floor(Math.abs(j/60)),de=Math.abs(j%60),_e=[ee,X(se),"'",X(de),"'"].join("");return["D:",x.getFullYear(),X(x.getMonth()+1),X(x.getDate()),X(x.getHours()),X(x.getMinutes()),X(x.getSeconds()),_e].join("")},oe=n.__private__.convertPDFDateToDate=function(x){var j=parseInt(x.substr(2,4),10),ee=parseInt(x.substr(6,2),10)-1,se=parseInt(x.substr(8,2),10),de=parseInt(x.substr(10,2),10),_e=parseInt(x.substr(12,2),10),we=parseInt(x.substr(14,2),10);return new Date(j,ee,se,de,_e,we,0)},ae=n.__private__.setCreationDate=function(x){var j;if(x===void 0&&(x=new Date),x instanceof Date)j=Y(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=x}return N=j},O=n.__private__.getCreationDate=function(x){var j=N;return x==="jsDate"&&(j=oe(N)),j};n.setCreationDate=function(x){return ae(x),this},n.getCreationDate=function(x){return O(x)};var U,X=n.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},re=n.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},H=0,L=[],K=[],$=0,ue=[],ge=[],Ce=!1,Ie=K;n.__private__.setCustomOutputDestination=function(x){Ce=!0,Ie=x};var me=function(x){Ce||(Ie=x)};n.__private__.resetCustomOutputDestination=function(){Ce=!1,Ie=K};var te=n.__private__.out=function(x){return x=x.toString(),$+=x.length+1,Ie.push(x),Ie},dt=n.__private__.write=function(x){return te(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},ot=n.__private__.getArrayBuffer=function(x){for(var j=x.length,ee=new ArrayBuffer(j),se=new Uint8Array(ee);j--;)se[j]=x.charCodeAt(j);return ee},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];n.__private__.getStandardFonts=function(){return We};var Se=c.fontSize||16;n.__private__.setFontSize=n.setFontSize=function(x){return Se=w===v?x/$e:x,this};var je,De=n.__private__.getFontSize=n.getFontSize=function(){return w===y?Se:Se*$e},st=c.R2L||!1;n.__private__.setR2L=n.setR2L=function(x){return st=x,this},n.__private__.getR2L=n.getR2L=function(){return st};var Ue,yt=n.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))je=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');je=x}else je=parseInt(x,10)};n.__private__.getZoomMode=function(){return je};var et,tt=n.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Ue=x};n.__private__.getPageMode=function(){return Ue};var Dt=n.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');et=x};n.__private__.getLayoutMode=function(){return et},n.__private__.setDisplayMode=n.setDisplayMode=function(x,j,ee){return yt(x),Dt(j),tt(ee),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};n.__private__.getDocumentProperty=function(x){if(Object.keys(at).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[x]},n.__private__.getDocumentProperties=function(){return at},n.__private__.setDocumentProperties=n.setProperties=n.setDocumentProperties=function(x){for(var j in at)at.hasOwnProperty(j)&&x[j]&&(at[j]=x[j]);return this},n.__private__.setDocumentProperty=function(x,j){if(Object.keys(at).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[x]=j};var He,$e,Ve,Nt,vt,Oe={},nt={},Pt=[],ze={},ht={},rt={},Zt={},hn=null,Mt=0,Xe=[],wt=new hd(n),Si=c.hotfixes||[],xn={},Br={},kr=[],Ke=function x(j,ee,se,de,_e,we){if(!(this instanceof x))return new x(j,ee,se,de,_e,we);isNaN(j)&&(j=1),isNaN(ee)&&(ee=0),isNaN(se)&&(se=0),isNaN(de)&&(de=1),isNaN(_e)&&(_e=0),isNaN(we)&&(we=0),this._matrix=[j,ee,se,de,_e,we]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(x)},Ke.prototype.multiply=function(x){var j=x.sx*this.sx+x.shy*this.shx,ee=x.sx*this.shy+x.shy*this.sy,se=x.shx*this.sx+x.sy*this.shx,de=x.shx*this.shy+x.sy*this.sy,_e=x.tx*this.sx+x.ty*this.shx+this.tx,we=x.tx*this.shy+x.ty*this.sy+this.ty;return new Ke(j,ee,se,de,_e,we)},Ke.prototype.decompose=function(){var x=this.sx,j=this.shy,ee=this.shx,se=this.sy,de=this.tx,_e=this.ty,we=Math.sqrt(x*x+j*j),Pe=(x/=we)*ee+(j/=we)*se;ee-=x*Pe,se-=j*Pe;var Re=Math.sqrt(ee*ee+se*se);return Pe/=Re,x*(se/=Re)<j*(ee/=Re)&&(x=-x,j=-j,Pe=-Pe,we=-we),{scale:new Ke(we,0,0,Re,0,0),translate:new Ke(1,0,0,1,de,_e),rotate:new Ke(x,j,-j,x,0,0),skew:new Ke(1,0,Pe,1,0,0)}},Ke.prototype.toString=function(x){return this.join(" ")},Ke.prototype.inversed=function(){var x=this.sx,j=this.shy,ee=this.shx,se=this.sy,de=this.tx,_e=this.ty,we=1/(x*se-j*ee),Pe=se*we,Re=-j*we,Ye=-ee*we,lt=x*we;return new Ke(Pe,Re,Ye,lt,-Pe*de-Ye*_e,-Re*de-lt*_e)},Ke.prototype.applyToPoint=function(x){var j=x.x*this.sx+x.y*this.shx+this.tx,ee=x.x*this.shy+x.y*this.sy+this.ty;return new Ri(j,ee)},Ke.prototype.applyToRectangle=function(x){var j=this.applyToPoint(x),ee=this.applyToPoint(new Ri(x.x+x.w,x.y+x.h));return new jo(j.x,j.y,ee.x-j.x,ee.y-j.y)},Ke.prototype.clone=function(){var x=this.sx,j=this.shy,ee=this.shx,se=this.sy,de=this.tx,_e=this.ty;return new Ke(x,j,ee,se,de,_e)},n.Matrix=Ke;var jr=n.matrixMult=function(x,j){return j.multiply(x)},Hr=new Ke(1,0,0,1,0,0);n.unitMatrix=n.identityMatrix=Hr;var er=function(x,j){if(!ht[x]){var ee=(j instanceof Ui?"Sh":"P")+(Object.keys(ze).length+1).toString(10);j.id=ee,ht[x]=ee,ze[ee]=j,wt.publish("addPattern",j)}};n.ShadingPattern=Ui,n.TilingPattern=bo,n.addShadingPattern=function(x,j){return D("addShadingPattern()"),er(x,j),this},n.beginTilingPattern=function(x){D("beginTilingPattern()"),Ho(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},n.endTilingPattern=function(x,j){D("endTilingPattern()"),j.stream=ge[U].join(`
`),er(x,j),wt.publish("endTilingPattern",j),kr.pop().restore()};var tr,Gt=n.__private__.newObject=function(){var x=_n();return wn(x,!0),x},_n=n.__private__.newObjectDeferred=function(){return H++,L[H]=function(){return $},H},wn=function(x,j){return j=typeof j=="boolean"&&j,L[x]=$,j&&te(x+" 0 obj"),x},Ci=n.__private__.newAdditionalObject=function(){var x={objId:_n(),content:""};return ue.push(x),x},ii=_n(),cr=_n(),Sr=n.__private__.decodeColorString=function(x){var j=x.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var ee=parseFloat(j[0]);j=[ee,ee,ee,"r"]}for(var se="#",de=0;de<3;de++)se+=("0"+Math.floor(255*parseFloat(j[de])).toString(16)).slice(-2);return se},dr=n.__private__.encodeColorString=function(x){var j;typeof x=="string"&&(x={ch1:x});var ee=x.ch1,se=x.ch2,de=x.ch3,_e=x.ch4,we=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Pe=new fp(ee);if(Pe.ok)ee=Pe.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var Re=parseInt(ee.substr(1),16);ee=Re>>16&255,se=Re>>8&255,de=255&Re}if(se===void 0||_e===void 0&&ee===se&&se===de)j=typeof ee=="string"?ee+" "+we[0]:x.precision===2?A(ee/255)+" "+we[0]:R(ee/255)+" "+we[0];else if(_e===void 0||xt(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return["1.","1.","1.",we[1]].join(" ");j=typeof ee=="string"?[ee,se,de,we[1]].join(" "):x.precision===2?[A(ee/255),A(se/255),A(de/255),we[1]].join(" "):[R(ee/255),R(se/255),R(de/255),we[1]].join(" ")}else j=typeof ee=="string"?[ee,se,de,_e,we[2]].join(" "):x.precision===2?[A(ee),A(se),A(de),A(_e),we[2]].join(" "):[R(ee),R(se),R(de),R(_e),we[2]].join(" ");return j},hr=n.__private__.getFilters=function(){return _},nr=n.__private__.putStream=function(x){var j=(x=x||{}).data||"",ee=x.filters||hr(),se=x.alreadyAppliedFilters||[],de=x.addLength1||!1,_e=j.length,we=x.objectId,Pe=function(pn){return pn};if(f!==null&&we===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Pe=Xt.encryptor(we,0));var Re={};ee===!0&&(ee=["FlateEncode"]);var Ye=x.additionalKeyValues||[],lt=(Re=Fe.API.processDataByFilters!==void 0?Fe.API.processDataByFilters(j,ee):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Re.data.length!==0&&(Ye.push({key:"Length",value:Re.data.length}),de===!0&&Ye.push({key:"Length1",value:_e})),lt.length!=0)if(lt.split("/").length-1==1)Ye.push({key:"Filter",value:lt});else{Ye.push({key:"Filter",value:"["+lt+"]"});for(var _t=0;_t<Ye.length;_t+=1)if(Ye[_t].key==="DecodeParms"){for(var Kt=[],cn=0;cn<Re.reverseChain.split("/").length-1;cn+=1)Kt.push("null");Kt.push(Ye[_t].value),Ye[_t].value="["+Kt.join(" ")+"]"}}te("<<");for(var At=0;At<Ye.length;At++)te("/"+Ye[At].key+" "+Ye[At].value);te(">>"),Re.data.length!==0&&(te("stream"),te(Pe(Re.data)),te("endstream"))},Ii=n.__private__.putPage=function(x){var j=x.number,ee=x.data,se=x.objId,de=x.contentsObjId;wn(se,!0),te("<</Type /Page"),te("/Parent "+x.rootDictionaryObjId+" 0 R"),te("/Resources "+x.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(C(x.mediaBox.bottomLeftX))+" "+parseFloat(C(x.mediaBox.bottomLeftY))+" "+C(x.mediaBox.topRightX)+" "+C(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&te("/CropBox ["+C(x.cropBox.bottomLeftX)+" "+C(x.cropBox.bottomLeftY)+" "+C(x.cropBox.topRightX)+" "+C(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&te("/BleedBox ["+C(x.bleedBox.bottomLeftX)+" "+C(x.bleedBox.bottomLeftY)+" "+C(x.bleedBox.topRightX)+" "+C(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&te("/TrimBox ["+C(x.trimBox.bottomLeftX)+" "+C(x.trimBox.bottomLeftY)+" "+C(x.trimBox.topRightX)+" "+C(x.trimBox.topRightY)+"]"),x.artBox!==null&&te("/ArtBox ["+C(x.artBox.bottomLeftX)+" "+C(x.artBox.bottomLeftY)+" "+C(x.artBox.topRightX)+" "+C(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&te("/UserUnit "+x.userUnit),wt.publish("putPage",{objId:se,pageContext:Xe[j],pageNumber:j,page:ee}),te("/Contents "+de+" 0 R"),te(">>"),te("endobj");var _e=ee.join(`
`);return w===v&&(_e+=`
Q`),wn(de,!0),nr({data:_e,filters:hr(),objectId:de}),te("endobj"),se},Cr=n.__private__.putPages=function(){var x,j,ee=[];for(x=1;x<=Mt;x++)Xe[x].objId=_n(),Xe[x].contentsObjId=_n();for(x=1;x<=Mt;x++)ee.push(Ii({number:x,data:ge[x],objId:Xe[x].objId,contentsObjId:Xe[x].contentsObjId,mediaBox:Xe[x].mediaBox,cropBox:Xe[x].cropBox,bleedBox:Xe[x].bleedBox,trimBox:Xe[x].trimBox,artBox:Xe[x].artBox,userUnit:Xe[x].userUnit,rootDictionaryObjId:ii,resourceDictionaryObjId:cr}));wn(ii,!0),te("<</Type /Pages");var se="/Kids [";for(j=0;j<Mt;j++)se+=ee[j]+" 0 R ";te(se+"]"),te("/Count "+Mt),te(">>"),te("endobj"),wt.publish("postPutPages")},xi=function(x){wt.publish("putFont",{font:x,out:te,newObject:Gt,putStream:nr}),x.isAlreadyPutted!==!0&&(x.objectNumber=Gt(),te("<<"),te("/Type /Font"),te("/BaseFont /"+_o(x.postScriptName)),te("/Subtype /Type1"),typeof x.encoding=="string"&&te("/Encoding /"+x.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Zi=function(x){x.objectNumber=Gt();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[C(x.x),C(x.y),C(x.x+x.width),C(x.y+x.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ee=x.pages[1].join(`
`);nr({data:ee,additionalKeyValues:j,objectId:x.objectNumber}),te("endobj")},Xi=function(x,j){j||(j=21);var ee=Gt(),se=(function(we,Pe){var Re,Ye=[],lt=1/(Pe-1);for(Re=0;Re<1;Re+=lt)Ye.push(Re);if(Ye.push(1),we[0].offset!=0){var _t={offset:0,color:we[0].color};we.unshift(_t)}if(we[we.length-1].offset!=1){var Kt={offset:1,color:we[we.length-1].color};we.push(Kt)}for(var cn="",At=0,pn=0;pn<Ye.length;pn++){for(Re=Ye[pn];Re>we[At+1].offset;)At++;var dn=we[At].offset,kn=(Re-dn)/(we[At+1].offset-dn),zr=we[At].color,ai=we[At+1].color;cn+=re(Math.round((1-kn)*zr[0]+kn*ai[0]).toString(16))+re(Math.round((1-kn)*zr[1]+kn*ai[1]).toString(16))+re(Math.round((1-kn)*zr[2]+kn*ai[2]).toString(16))}return cn.trim()})(x.colors,j),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+j+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr({data:se,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),te("endobj"),x.objectNumber=Gt(),te("<< /ShadingType "+x.type),te("/ColorSpace /DeviceRGB");var _e="/Coords ["+C(parseFloat(x.coords[0]))+" "+C(parseFloat(x.coords[1]))+" ";x.type===2?_e+=C(parseFloat(x.coords[2]))+" "+C(parseFloat(x.coords[3])):_e+=C(parseFloat(x.coords[2]))+" "+C(parseFloat(x.coords[3]))+" "+C(parseFloat(x.coords[4]))+" "+C(parseFloat(x.coords[5])),te(_e+="]"),x.matrix&&te("/Matrix ["+x.matrix.toString()+"]"),te("/Function "+ee+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Ji=function(x,j){var ee=_n(),se=Gt();j.push({resourcesOid:ee,objectOid:se}),x.objectNumber=se;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+x.boundingBox.map(C).join(" ")+"]"}),de.push({key:"XStep",value:C(x.xStep)}),de.push({key:"YStep",value:C(x.yStep)}),de.push({key:"Resources",value:ee+" 0 R"}),x.matrix&&de.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),nr({data:x.stream,additionalKeyValues:de,objectId:x.objectNumber}),te("endobj")},Ia=function(x){for(var j in x.objectNumber=Gt(),te("<<"),x)switch(j){case"opacity":te("/ca "+A(x[j]));break;case"stroke-opacity":te("/CA "+A(x[j]))}te(">>"),te("endobj")},Ao=function(x){wn(x.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in te("/Font <<"),Oe)Oe.hasOwnProperty(j)&&(m===!1||m===!0&&p.hasOwnProperty(j))&&te("/"+j+" "+Oe[j].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(ze).length>0){for(var j in te("/Shading <<"),ze)ze.hasOwnProperty(j)&&ze[j]instanceof Ui&&ze[j].objectNumber>=0&&te("/"+j+" "+ze[j].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),te(">>")}})(),(function(j){if(Object.keys(ze).length>0){for(var ee in te("/Pattern <<"),ze)ze.hasOwnProperty(ee)&&ze[ee]instanceof n.TilingPattern&&ze[ee].objectNumber>=0&&ze[ee].objectNumber<j&&te("/"+ee+" "+ze[ee].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),te(">>")}})(x.objectOid),(function(){if(Object.keys(rt).length>0){var j;for(j in te("/ExtGState <<"),rt)rt.hasOwnProperty(j)&&rt[j].objectNumber>=0&&te("/"+j+" "+rt[j].objectNumber+" 0 R");wt.publish("putGStateDict"),te(">>")}})(),(function(){for(var j in te("/XObject <<"),xn)xn.hasOwnProperty(j)&&xn[j].objectNumber>=0&&te("/"+j+" "+xn[j].objectNumber+" 0 R");wt.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},gs=function(x){nt[x.fontName]=nt[x.fontName]||{},nt[x.fontName][x.fontStyle]=x.id},ms=function(x,j,ee,se,de){var _e={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:x,fontName:j,fontStyle:ee,encoding:se,isStandardFont:de||!1,metadata:{}};return wt.publish("addFont",{font:_e,instance:this}),Oe[_e.id]=_e,gs(_e),_e.id},rr=n.__private__.pdfEscape=n.pdfEscape=function(x,j){return(function(ee,se){var de,_e,we,Pe,Re,Ye,lt,_t,Kt;if(we=(se=se||{}).sourceEncoding||"Unicode",Re=se.outputEncoding,(se.autoencode||Re)&&Oe[He].metadata&&Oe[He].metadata[we]&&Oe[He].metadata[we].encoding&&(Pe=Oe[He].metadata[we].encoding,!Re&&Oe[He].encoding&&(Re=Oe[He].encoding),!Re&&Pe.codePages&&(Re=Pe.codePages[0]),typeof Re=="string"&&(Re=Pe[Re]),Re)){for(lt=!1,Ye=[],de=0,_e=ee.length;de<_e;de++)(_t=Re[ee.charCodeAt(de)])?Ye.push(String.fromCharCode(_t)):Ye.push(ee[de]),Ye[de].charCodeAt(0)>>8&&(lt=!0);ee=Ye.join("")}for(de=ee.length;lt===void 0&&de!==0;)ee.charCodeAt(de-1)>>8&&(lt=!0),de--;if(!lt)return ee;for(Ye=se.noBOM?[]:[254,255],de=0,_e=ee.length;de<_e;de++){if((Kt=(_t=ee.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(Kt),Ye.push(_t-(Kt<<8))}return String.fromCharCode.apply(void 0,Ye)})(x,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=n.__private__.beginPage=function(x){ge[++Mt]=[],Xe[Mt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},vs(Mt),me(ge[U])},ys=function(x,j){var ee,se,de;switch(t=j||t,typeof x=="string"&&(ee=a(x.toLowerCase()),Array.isArray(ee)&&(se=ee[0],de=ee[1])),Array.isArray(x)&&(se=x[0]*$e,de=x[1]*$e),isNaN(se)&&(se=h[0],de=h[1]),(se>14400||de>14400)&&(Ot.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),de=Math.min(14400,de)),h=[se,de],t.substr(0,1)){case"l":de>se&&(h=[de,se]);break;case"p":se>de&&(h=[de,se])}Eo(h),Oa(Oo),te(eo),Fo!==0&&te(Fo+" J"),Bo!==0&&te(Bo+" j"),wt.publish("addPage",{pageNumber:Mt})},Po=function(x){x>0&&x<=Mt&&(ge.splice(x,1),Xe.splice(x,1),Mt--,U>Mt&&(U=Mt),this.setPage(U))},vs=function(x){x>0&&x<=Mt&&(U=x)},_s=n.__private__.getNumberOfPages=n.getNumberOfPages=function(){return ge.length-1},bs=function(x,j,ee){var se,de=void 0;return ee=ee||{},x=x!==void 0?x:Oe[He].fontName,j=j!==void 0?j:Oe[He].fontStyle,se=x.toLowerCase(),nt[se]!==void 0&&nt[se][j]!==void 0?de=nt[se][j]:nt[x]!==void 0&&nt[x][j]!==void 0?de=nt[x][j]:ee.disableWarning===!1&&Ot.warn("Unable to look up font label for font '"+x+"', '"+j+"'. Refer to getFontList() for available fonts."),de||ee.noFallback||(de=nt.times[j])==null&&(de=nt.times.normal),de},Qi=n.__private__.putInfo=function(){var x=Gt(),j=function(se){return se};for(var ee in f!==null&&(j=Xt.encryptor(x,0)),te("<<"),te("/Producer ("+rr(j("jsPDF "+Fe.version))+")"),at)at.hasOwnProperty(ee)&&at[ee]&&te("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+rr(j(at[ee]))+")");te("/CreationDate ("+rr(j(N))+")"),te(">>"),te("endobj")},xa=n.__private__.putCatalog=function(x){var j=(x=x||{}).rootDictionaryObjId||ii;switch(Gt(),te("<<"),te("/Type /Catalog"),te("/Pages "+j+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+je;ee.substr(ee.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&te("/OpenAction [3 0 R /XYZ null null "+A(je)+"]")}switch(et||(et="continuous"),et){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Ue&&te("/PageMode /"+Ue),wt.publish("putCatalog"),te(">>"),te("endobj")},un=n.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(H+1)),te("/Root "+H+" 0 R"),te("/Info "+(H-1)+" 0 R"),f!==null&&te("/Encrypt "+Xt.oid+" 0 R"),te("/ID [ <"+Z+"> <"+Z+"> ]"),te(">>")},Ts=n.__private__.putHeader=function(){te("%PDF-"+l),te("%ºß¬à")},ws=n.__private__.putXRef=function(){var x="0000000000";te("xref"),te("0 "+(H+1)),te("0000000000 65535 f ");for(var j=1;j<=H;j++)typeof L[j]=="function"?te((x+L[j]()).slice(-10)+" 00000 n "):L[j]!==void 0?te((x+L[j]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Vr=n.__private__.buildDocument=function(){var x;H=0,$=0,K=[],L=[],ue=[],ii=_n(),cr=_n(),me(K),wt.publish("buildDocument"),Ts(),Cr(),(function(){wt.publish("putAdditionalObjects");for(var ee=0;ee<ue.length;ee++){var se=ue[ee];wn(se.objId,!0),te(se.content),te("endobj")}wt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ee in Oe)Oe.hasOwnProperty(ee)&&(m===!1||m===!0&&p.hasOwnProperty(ee))&&xi(Oe[ee])})(),(function(){var ee;for(ee in rt)rt.hasOwnProperty(ee)&&Ia(rt[ee])})(),(function(){for(var ee in xn)xn.hasOwnProperty(ee)&&Zi(xn[ee])})(),(function(ee){var se;for(se in ze)ze.hasOwnProperty(se)&&(ze[se]instanceof Ui?Xi(ze[se]):ze[se]instanceof bo&&Ji(ze[se],ee))})(x),wt.publish("putResources"),x.forEach(Ao),Ao({resourcesOid:cr,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources"),f!==null&&(Xt.oid=Gt(),te("<<"),te("/Filter /Standard"),te("/V "+Xt.v),te("/R "+Xt.r),te("/U <"+Xt.toHexString(Xt.U)+">"),te("/O <"+Xt.toHexString(Xt.O)+">"),te("/P "+Xt.P),te(">>"),te("endobj")),Qi(),xa();var j=$;return ws(),un(),te("startxref"),te(""+j),te("%%EOF"),me(ge[U]),K.join(`
`)},Di=n.__private__.getBlob=function(x){return new Blob([ot(x)],{type:"application/pdf"})},pr=n.output=n.__private__.output=(tr=function(x,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",x){case void 0:return Vr();case"save":n.save(j.filename);break;case"arraybuffer":return ot(Vr());case"blob":return Di(Vr());case"bloburi":case"bloburl":if(Ze.URL!==void 0&&typeof Ze.URL.createObjectURL=="function")return Ze.URL&&Ze.URL.createObjectURL(Di(Vr()))||void 0;Ot.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",se=Vr();try{ee=ud(se)}catch{ee=ud(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+j.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ze)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(de=j.pdfObjectUrl,_e="");var we='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",Pe=Ze.open();return Pe!==null&&Pe.document.write(we),Pe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ze)==="[object Window]"){var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Ye=Ze.open();if(Ye!==null){Ye.document.write(Re);var lt=this;Ye.document.documentElement.querySelector("#pdfViewer").onload=function(){Ye.document.title=j.filename,Ye.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lt.output("bloburl"))}}return Ye}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ze)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Kt=Ze.open();if(Kt!==null&&(Kt.document.write(_t),Kt.document.title=j.filename),Kt||typeof safari>"u")return Kt;break;case"datauri":case"dataurl":return Ze.document.location.href=this.output("datauristring",j);default:return null}},tr.foo=function(){try{return tr.apply(this,arguments)}catch(ee){var x=ee.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var j="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Ze.console)throw new Error(j);Ze.console.error(j,ee),Ze.alert&&alert(j)}},tr.foo.bar=tr,tr.foo),Ai=function(x){return Array.isArray(Si)===!0&&Si.indexOf(x)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=Ai("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var Xt=null;ae(),ie();var Mo=n.__private__.getPageInfo=n.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[x].objId,pageNumber:x,pageContext:Xe[x]}},Da=n.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Xe)if(Xe[j].objId===x)break;return Mo(j)},Aa=n.__private__.getCurrentPageInfo=n.getCurrentPageInfo=function(){return{objId:Xe[U].objId,pageNumber:U,pageContext:Xe[U]}};n.addPage=function(){return ys.apply(this,arguments),this},n.setPage=function(){return vs.apply(this,arguments),me.call(this,ge[U]),this},n.insertPage=function(x){return this.addPage(),this.movePage(U,x),this},n.movePage=function(x,j){var ee,se;if(x>j){ee=ge[x],se=Xe[x];for(var de=x;de>j;de--)ge[de]=ge[de-1],Xe[de]=Xe[de-1];ge[j]=ee,Xe[j]=se,this.setPage(j)}else if(x<j){ee=ge[x],se=Xe[x];for(var _e=x;_e<j;_e++)ge[_e]=ge[_e+1],Xe[_e]=Xe[_e+1];ge[j]=ee,Xe[j]=se,this.setPage(j)}return this},n.deletePage=function(){return Po.apply(this,arguments),this},n.__private__.text=n.text=function(x,j,ee,se,de){var _e,we,Pe,Re,Ye,lt,_t,Kt,cn,At=(se=se||{}).scope||this;if(typeof x=="number"&&typeof j=="number"&&(typeof ee=="string"||Array.isArray(ee))){var pn=ee;ee=j,j=x,x=pn}if(arguments[3]instanceof Ke==0?(Pe=arguments[4],Re=arguments[5],xt(_t=arguments[3])==="object"&&_t!==null||(typeof Pe=="string"&&(Re=Pe,Pe=null),typeof _t=="string"&&(Re=_t,_t=null),typeof _t=="number"&&(Pe=_t,_t=null),se={flags:_t,angle:Pe,align:Re})):(D("The transform parameter of text() with a Matrix value"),cn=de),isNaN(j)||isNaN(ee)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return At;var dn,kn="",zr=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:Pi,ai=At.internal.scaleFactor;function Ua(Ft){return Ft=Ft.split("	").join(Array(se.TabLen||9).join(" ")),rr(Ft,_t)}function Cs(Ft){for(var Bt,Qt=Ft.concat(),en=[],$r=Qt.length;$r--;)typeof(Bt=Qt.shift())=="string"?en.push(Bt):Array.isArray(Ft)&&(Bt.length===1||Bt[1]===void 0&&Bt[2]===void 0)?en.push(Bt[0]):en.push([Bt[0],Bt[1],Bt[2]]);return en}function Ni(Ft,Bt){var Qt;if(typeof Ft=="string")Qt=Bt(Ft)[0];else if(Array.isArray(Ft)){for(var en,$r,ho=Ft.concat(),Mr=[],Zo=ho.length;Zo--;)typeof(en=ho.shift())=="string"?Mr.push(Bt(en)[0]):Array.isArray(en)&&typeof en[0]=="string"&&($r=Bt(en[0],en[1],en[2]),Mr.push([$r[0],$r[1],$r[2]]));Qt=Mr}return Qt}var fr=!1,Wo=!0;if(typeof x=="string")fr=!0;else if(Array.isArray(x)){var io=x.concat();we=[];for(var li,bn=io.length;bn--;)(typeof(li=io.shift())!="string"||Array.isArray(li)&&typeof li[0]!="string")&&(Wo=!1);fr=Wo}if(fr===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Kr=Se/At.internal.scaleFactor,Gr=Kr*(zr-1);switch(se.baseline){case"bottom":ee-=Gr;break;case"top":ee+=Kr-Gr;break;case"hanging":ee+=Kr-2*Gr;break;case"middle":ee+=Kr/2-Gr}if((lt=se.maxWidth||0)>0&&(typeof x=="string"?x=At.splitTextToSize(x,lt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Ft,Bt){return Ft.concat(At.splitTextToSize(Bt,lt))},[]))),_e={text:x,x:j,y:ee,options:se,mutex:{pdfEscape:rr,activeFontKey:He,fonts:Oe,activeFontSize:Se}},wt.publish("preProcessText",_e),x=_e.text,Pe=(se=_e.options).angle,cn instanceof Ke==0&&Pe&&typeof Pe=="number"){Pe*=Math.PI/180,se.rotationDirection===0&&(Pe=-Pe),w===v&&(Pe=-Pe);var oo=Math.cos(Pe),zo=Math.sin(Pe);cn=new Ke(oo,zo,-zo,oo,0,0)}else Pe&&Pe instanceof Ke&&(cn=Pe);w!==v||cn||(cn=Hr),(Ye=se.charSpace||no)!==void 0&&(kn+=C(z(Ye))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Kt=se.horizontalScale)!==void 0&&(kn+=C(100*Kt)+` Tz
`),se.lang;var Ln=-1,Is=se.renderingMode!==void 0?se.renderingMode:se.stroke,so=At.internal.getCurrentPageInfo().pageContext;switch(Is){case 0:case!1:case"fill":Ln=0;break;case 1:case!0:case"stroke":Ln=1;break;case 2:case"fillThenStroke":Ln=2;break;case 3:case"invisible":Ln=3;break;case 4:case"fillAndAddForClipping":Ln=4;break;case 5:case"strokeAndAddPathForClipping":Ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ln=6;break;case 7:case"addToPathForClipping":Ln=7}var xs=so.usedRenderingMode!==void 0?so.usedRenderingMode:-1;Ln!==-1?kn+=Ln+` Tr
`:xs!==-1&&(kn+=`0 Tr
`),Ln!==-1&&(so.usedRenderingMode=Ln),Re=se.align||"left";var fn,ir=Se*zr,Ko=At.internal.pageSize.getWidth(),Go=Oe[He];Ye=se.charSpace||no,lt=se.maxWidth||0,_t=Object.assign({autoencode:!0,noBOM:!0},se.flags);var ui=[],ao=function(Ft){return At.getStringUnitWidth(Ft,{font:Go,charSpace:Ye,fontSize:Se,doKerning:!1})*Se/ai};if(Object.prototype.toString.call(x)==="[object Array]"){var Bn;we=Cs(x),Re!=="left"&&(fn=we.map(ao));var jn,Fi=0;if(Re==="right"){j-=fn[0],x=[],bn=we.length;for(var Dr=0;Dr<bn;Dr++)Dr===0?(jn=Ur(j),Bn=Wr(ee)):(jn=z(Fi-fn[Dr]),Bn=-ir),x.push([we[Dr],jn,Bn]),Fi=fn[Dr]}else if(Re==="center"){j-=fn[0]/2,x=[],bn=we.length;for(var ci=0;ci<bn;ci++)ci===0?(jn=Ur(j),Bn=Wr(ee)):(jn=z((Fi-fn[ci])/2),Bn=-ir),x.push([we[ci],jn,Bn]),Fi=fn[ci]}else if(Re==="left"){x=[],bn=we.length;for(var qo=0;qo<bn;qo++)x.push(we[qo])}else if(Re==="justify"&&Go.encoding==="Identity-H"){x=[],bn=we.length,lt=lt!==0?lt:Ko;for(var di=0,Jt=0;Jt<bn;Jt++)if(Bn=Jt===0?Wr(ee):-ir,jn=Jt===0?Ur(j):di,Jt<bn-1){var Wa=z((lt-fn[Jt])/(we[Jt].split(" ").length-1)),Ar=we[Jt].split(" ");x.push([Ar[0]+" ",jn,Bn]),di=0;for(var Er=1;Er<Ar.length;Er++){var lo=(ao(Ar[Er-1]+" "+Ar[Er])-ao(Ar[Er]))*ai+Wa;Er==Ar.length-1?x.push([Ar[Er],lo,0]):x.push([Ar[Er]+" ",lo,0]),di-=lo}}else x.push([we[Jt],jn,Bn]);x.push(["",di,0])}else{if(Re!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],bn=we.length,lt=lt!==0?lt:Ko,Jt=0;Jt<bn;Jt++)Bn=Jt===0?Wr(ee):-ir,jn=Jt===0?Ur(j):0,Jt<bn-1?ui.push(C(z((lt-fn[Jt])/(we[Jt].split(" ").length-1)))):ui.push(0),x.push([we[Jt],jn,Bn])}}(typeof se.R2L=="boolean"?se.R2L:st)===!0&&(x=Ni(x,function(Ft,Bt,Qt){return[Ft.split("").reverse().join(""),Bt,Qt]})),_e={text:x,x:j,y:ee,options:se,mutex:{pdfEscape:rr,activeFontKey:He,fonts:Oe,activeFontSize:Se}},wt.publish("postProcessText",_e),x=_e.text,dn=_e.mutex.isHex||!1;var $o=Oe[He].encoding;$o!=="WinAnsiEncoding"&&$o!=="StandardEncoding"||(x=Ni(x,function(Ft,Bt,Qt){return[Ua(Ft),Bt,Qt]})),we=Cs(x),x=[];for(var uo,co,Bi,ji=Array.isArray(we[0])?1:0,qr="",Yo=function(Ft,Bt,Qt){var en="";return Qt instanceof Ke?(Qt=typeof se.angle=="number"?jr(Qt,new Ke(1,0,0,1,Ft,Bt)):jr(new Ke(1,0,0,1,Ft,Bt),Qt),w===v&&(Qt=jr(new Ke(1,0,0,-1,0,0),Qt)),en=Qt.join(" ")+` Tm
`):en=C(Ft)+" "+C(Bt)+` Td
`,en},Kn=0;Kn<we.length;Kn++){switch(qr="",ji){case 1:Bi=(dn?"<":"(")+we[Kn][0]+(dn?">":")"),uo=parseFloat(we[Kn][1]),co=parseFloat(we[Kn][2]);break;case 0:Bi=(dn?"<":"(")+we[Kn]+(dn?">":")"),uo=Ur(j),co=Wr(ee)}ui!==void 0&&ui[Kn]!==void 0&&(qr=ui[Kn]+` Tw
`),Kn===0?x.push(qr+Yo(uo,co,cn)+Bi):ji===0?x.push(qr+Bi):ji===1&&x.push(qr+Yo(uo,co,cn)+Bi)}x=ji===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Pr=`BT
/`;return Pr+=He+" "+Se+` Tf
`,Pr+=C(Se*zr)+` TL
`,Pr+=Mi+`
`,Pr+=kn,Pr+=x,te(Pr+="ET"),p[He]=!0,At};var Ea=n.__private__.clip=n.clip=function(x){return te(x==="evenodd"?"W*":"W"),this};n.clipEvenOdd=function(){return Ea("evenodd")},n.__private__.discardPath=n.discardPath=function(){return te("n"),this};var Ir=n.__private__.isValidStyle=function(x){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(j=!0),j};n.__private__.setDefaultPathOperation=n.setDefaultPathOperation=function(x){return Ir(x)&&(d=x),this};var ks=n.__private__.getStyle=n.getStyle=function(x){var j=d;switch(x){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=x}return j},Ss=n.close=function(){return te("h"),this};n.stroke=function(){return te("S"),this},n.fill=function(x){return oi("f",x),this},n.fillEvenOdd=function(x){return oi("f*",x),this},n.fillStroke=function(x){return oi("B",x),this},n.fillStrokeEvenOdd=function(x){return oi("B*",x),this};var oi=function(x,j){xt(j)==="object"?Ma(j,x):te(x)},Lo=function(x){x===null||w===v&&x===void 0||(x=ks(x),te(x))};function Pa(x,j,ee,se,de){var _e=new bo(j||this.boundingBox,ee||this.xStep,se||this.yStep,this.gState,de||this.matrix);_e.stream=this.stream;var we=x+"$$"+this.cloneIndex+++"$$";return er(we,_e),_e}var Ma=function(x,j){var ee=ht[x.key],se=ze[ee];if(se instanceof Ui)te("q"),te(La(j)),se.gState&&n.setGState(se.gState),te(x.matrix.toString()+" cm"),te("/"+ee+" sh"),te("Q");else if(se instanceof bo){var de=new Ke(1,0,0,-1,0,zn());x.matrix&&(de=de.multiply(x.matrix||Hr),ee=Pa.call(se,x.key,x.boundingBox,x.xStep,x.yStep,de).id),te("q"),te("/Pattern cs"),te("/"+ee+" scn"),se.gState&&n.setGState(se.gState),te(j),te("Q")}},La=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ro=n.moveTo=function(x,j){return te(C(z(x))+" "+C(B(j))+" m"),this},Ei=n.lineTo=function(x,j){return te(C(z(x))+" "+C(B(j))+" l"),this},si=n.curveTo=function(x,j,ee,se,de,_e){return te([C(z(x)),C(B(j)),C(z(ee)),C(B(se)),C(z(de)),C(B(_e)),"c"].join(" ")),this};n.__private__.line=n.line=function(x,j,ee,se,de){if(isNaN(x)||isNaN(j)||isNaN(ee)||isNaN(se)||!Ir(de))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[ee-x,se-j]],x,j,[1,1],de||"S"):this.lines([[ee-x,se-j]],x,j,[1,1]).stroke()},n.__private__.lines=n.lines=function(x,j,ee,se,de,_e){var we,Pe,Re,Ye,lt,_t,Kt,cn,At,pn,dn,kn;if(typeof x=="number"&&(kn=ee,ee=j,j=x,x=kn),se=se||[1,1],_e=_e||!1,isNaN(j)||isNaN(ee)||!Array.isArray(x)||!Array.isArray(se)||!Ir(de)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ro(j,ee),we=se[0],Pe=se[1],Ye=x.length,pn=j,dn=ee,Re=0;Re<Ye;Re++)(lt=x[Re]).length===2?(pn=lt[0]*we+pn,dn=lt[1]*Pe+dn,Ei(pn,dn)):(_t=lt[0]*we+pn,Kt=lt[1]*Pe+dn,cn=lt[2]*we+pn,At=lt[3]*Pe+dn,pn=lt[4]*we+pn,dn=lt[5]*Pe+dn,si(_t,Kt,cn,At,pn,dn));return _e&&Ss(),Lo(de),this},n.path=function(x){for(var j=0;j<x.length;j++){var ee=x[j],se=ee.c;switch(ee.op){case"m":Ro(se[0],se[1]);break;case"l":Ei(se[0],se[1]);break;case"c":si.apply(this,se);break;case"h":Ss()}}return this},n.__private__.rect=n.rect=function(x,j,ee,se,de){if(isNaN(x)||isNaN(j)||isNaN(ee)||isNaN(se)||!Ir(de))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(se=-se),te([C(z(x)),C(B(j)),C(z(ee)),C(z(se)),"re"].join(" ")),Lo(de),this},n.__private__.triangle=n.triangle=function(x,j,ee,se,de,_e,we){if(isNaN(x)||isNaN(j)||isNaN(ee)||isNaN(se)||isNaN(de)||isNaN(_e)||!Ir(we))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-x,se-j],[de-ee,_e-se],[x-de,j-_e]],x,j,[1,1],we,!0),this},n.__private__.roundedRect=n.roundedRect=function(x,j,ee,se,de,_e,we){if(isNaN(x)||isNaN(j)||isNaN(ee)||isNaN(se)||isNaN(de)||isNaN(_e)||!Ir(we))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pe=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*ee),_e=Math.min(_e,.5*se),this.lines([[ee-2*de,0],[de*Pe,0,de,_e-_e*Pe,de,_e],[0,se-2*_e],[0,_e*Pe,-de*Pe,_e,-de,_e],[2*de-ee,0],[-de*Pe,0,-de,-_e*Pe,-de,-_e],[0,2*_e-se],[0,-_e*Pe,de*Pe,-_e,de,-_e]],x+de,j,[1,1],we,!0),this},n.__private__.ellipse=n.ellipse=function(x,j,ee,se,de){if(isNaN(x)||isNaN(j)||isNaN(ee)||isNaN(se)||!Ir(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*ee,we=4/3*(Math.SQRT2-1)*se;return Ro(x+ee,j),si(x+ee,j-we,x+_e,j-se,x,j-se),si(x-_e,j-se,x-ee,j-we,x-ee,j),si(x-ee,j+we,x-_e,j+se,x,j+se),si(x+_e,j+se,x+ee,j+we,x+ee,j),Lo(de),this},n.__private__.circle=n.circle=function(x,j,ee,se){if(isNaN(x)||isNaN(j)||isNaN(ee)||!Ir(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,j,ee,ee,se)},n.setFont=function(x,j,ee){return ee&&(j=I(j,ee)),He=bs(x,j,{disableWarning:!1}),this};var Ra=n.__private__.getFont=n.getFont=function(){return Oe[bs.apply(n,arguments)]};n.__private__.getFontList=n.getFontList=function(){var x,j,ee={};for(x in nt)if(nt.hasOwnProperty(x))for(j in ee[x]=[],nt[x])nt[x].hasOwnProperty(j)&&ee[x].push(j);return ee},n.addFont=function(x,j,ee,se,de){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(ee=I(ee,se)),ms.call(this,x,j,ee,de=de||"Identity-H")};var Pi,Oo=c.lineWidth||.200025,Je=n.__private__.getLineWidth=n.getLineWidth=function(){return Oo},Oa=n.__private__.setLineWidth=n.setLineWidth=function(x){return Oo=x,te(C(z(x))+" w"),this};n.__private__.setLineDash=Fe.API.setLineDash=Fe.API.setLineDashPattern=function(x,j){if(x=x||[],j=j||0,isNaN(j)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ee){return C(z(ee))}).join(" "),j=C(z(j)),te("["+x+"] "+j+" d"),this};var Na=n.__private__.getLineHeight=n.getLineHeight=function(){return Se*Pi};n.__private__.getLineHeight=n.getLineHeight=function(){return Se*Pi};var Fa=n.__private__.setLineHeightFactor=n.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Pi=x),this},Ba=n.__private__.getLineHeightFactor=n.getLineHeightFactor=function(){return Pi};Fa(c.lineHeight);var Ur=n.__private__.getHorizontalCoordinate=function(x){return z(x)},Wr=n.__private__.getVerticalCoordinate=function(x){return w===v?x:Xe[U].mediaBox.topRightY-Xe[U].mediaBox.bottomLeftY-z(x)},ja=n.__private__.getHorizontalCoordinateString=n.getHorizontalCoordinateString=function(x){return C(Ur(x))},Ha=n.__private__.getVerticalCoordinateString=n.getVerticalCoordinateString=function(x){return C(Wr(x))},eo=c.strokeColor||"0 G";n.__private__.getStrokeColor=n.getDrawColor=function(){return Sr(eo)},n.__private__.setStrokeColor=n.setDrawColor=function(x,j,ee,se){return eo=dr({ch1:x,ch2:j,ch3:ee,ch4:se,pdfColorType:"draw",precision:2}),te(eo),this};var No=c.fillColor||"0 g";n.__private__.getFillColor=n.getFillColor=function(){return Sr(No)},n.__private__.setFillColor=n.setFillColor=function(x,j,ee,se){return No=dr({ch1:x,ch2:j,ch3:ee,ch4:se,pdfColorType:"fill",precision:2}),te(No),this};var Mi=c.textColor||"0 g",to=n.__private__.getTextColor=n.getTextColor=function(){return Sr(Mi)};n.__private__.setTextColor=n.setTextColor=function(x,j,ee,se){return Mi=dr({ch1:x,ch2:j,ch3:ee,ch4:se,pdfColorType:"text",precision:3}),this};var no=c.charSpace,Va=n.__private__.getCharSpace=n.getCharSpace=function(){return parseFloat(no||0)};n.__private__.setCharSpace=n.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=x,this};var Fo=0;n.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},n.__private__.setLineCap=n.setLineCap=function(x){var j=n.CapJoinStyles[x];if(j===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fo=j,te(j+" J"),this};var Bo=0;n.__private__.setLineJoin=n.setLineJoin=function(x){var j=n.CapJoinStyles[x];if(j===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bo=j,te(j+" j"),this},n.__private__.setLineMiterLimit=n.__private__.setMiterLimit=n.setLineMiterLimit=n.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(C(z(x))+" M"),this},n.GState=ma,n.setGState=function(x){(x=typeof x=="string"?rt[Zt[x]]:Li(null,x)).equals(hn)||(te("/"+x.id+" gs"),hn=x)};var Li=function(x,j){if(!x||!Zt[x]){var ee=!1;for(var se in rt)if(rt.hasOwnProperty(se)&&rt[se].equals(j)){ee=!0;break}if(ee)j=rt[se];else{var de="GS"+(Object.keys(rt).length+1).toString(10);rt[de]=j,j.id=de}return x&&(Zt[x]=j.id),wt.publish("addGState",j),j}};n.addGState=function(x,j){return Li(x,j),this},n.saveGraphicsState=function(){return te("q"),Pt.push({key:He,size:Se,color:Mi}),this},n.restoreGraphicsState=function(){te("Q");var x=Pt.pop();return He=x.key,Se=x.size,Mi=x.color,hn=null,this},n.setCurrentTransformationMatrix=function(x){return te(x.toString()+" cm"),this},n.comment=function(x){return te("#"+x),this};var Ri=function(x,j){var ee=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(_e){isNaN(_e)||(ee=parseFloat(_e))}});var se=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(_e){isNaN(_e)||(se=parseFloat(_e))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(_e){de=_e.toString()}}),this},jo=function(x,j,ee,se){Ri.call(this,x,j),this.type="rect";var de=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(we){isNaN(we)||(de=parseFloat(we))}});var _e=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(we){isNaN(we)||(_e=parseFloat(we))}}),this},ro=function(){this.page=Mt,this.currentPage=U,this.pages=ge.slice(0),this.pagesContext=Xe.slice(0),this.x=Ve,this.y=Nt,this.matrix=vt,this.width=Vo(U),this.height=zn(U),this.outputDestination=Ie,this.id="",this.objectNumber=-1};ro.prototype.restore=function(){Mt=this.page,U=this.currentPage,Xe=this.pagesContext,ge=this.pages,Ve=this.x,Nt=this.y,vt=this.matrix,Uo(U,this.width),xr(U,this.height),Ie=this.outputDestination};var Ho=function(x,j,ee,se,de){kr.push(new ro),Mt=U=0,ge=[],Ve=x,Nt=j,vt=de,Eo([ee,se])};for(var Oi in n.beginFormObject=function(x,j,ee,se,de){return Ho(x,j,ee,se,de),this},n.endFormObject=function(x){return(function(j){if(Br[j])kr.pop().restore();else{var ee=new ro,se="Xo"+(Object.keys(xn).length+1).toString(10);ee.id=se,Br[j]=se,xn[se]=ee,wt.publish("addFormObject",ee),kr.pop().restore()}})(x),this},n.doFormObject=function(x,j){var ee=xn[Br[x]];return te("q"),te(j.toString()+" cm"),te("/"+ee.id+" Do"),te("Q"),this},n.getFormObject=function(x){var j=xn[Br[x]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},n.save=function(x,j){return x=x||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Vi(Di(Vr()),x),typeof Vi.unload=="function"&&Ze.setTimeout&&setTimeout(Vi.unload,911),this):new Promise(function(ee,se){try{var de=Vi(Di(Vr()),x);typeof Vi.unload=="function"&&Ze.setTimeout&&setTimeout(Vi.unload,911),ee(de)}catch(_e){se(_e.message)}})},Fe.API)Fe.API.hasOwnProperty(Oi)&&(Oi==="events"&&Fe.API.events.length?(function(x,j){var ee,se,de;for(de=j.length-1;de!==-1;de--)ee=j[de][0],se=j[de][1],x.subscribe.apply(x,[ee].concat(typeof se=="function"?[se]:se))})(wt,Fe.API.events):n[Oi]=Fe.API[Oi]);var Vo=n.getPageWidth=function(x){return(Xe[x=x||U].mediaBox.topRightX-Xe[x].mediaBox.bottomLeftX)/$e},Uo=n.setPageWidth=function(x,j){Xe[x].mediaBox.topRightX=j*$e+Xe[x].mediaBox.bottomLeftX},zn=n.getPageHeight=function(x){return(Xe[x=x||U].mediaBox.topRightY-Xe[x].mediaBox.bottomLeftY)/$e},xr=n.setPageHeight=function(x,j){Xe[x].mediaBox.topRightY=j*$e+Xe[x].mediaBox.bottomLeftY};return n.internal={pdfEscape:rr,getStyle:ks,getFont:Ra,getFontSize:De,getCharSpace:Va,getTextColor:to,getLineHeight:Na,getLineHeightFactor:Ba,getLineWidth:Je,write:dt,getHorizontalCoordinate:Ur,getVerticalCoordinate:Wr,getCoordinateString:ja,getVerticalCoordinateString:Ha,collections:{},newObject:Gt,newAdditionalObject:Ci,newObjectDeferred:_n,newObjectDeferredBegin:wn,getFilters:hr,putStream:nr,events:wt,scaleFactor:$e,pageSize:{getWidth:function(){return Vo(U)},setWidth:function(x){Uo(U,x)},getHeight:function(){return zn(U)},setHeight:function(x){xr(U,x)}},encryptionOptions:f,encryption:Xt,getEncryptor:function(x){return f!==null?Xt.encryptor(x,0):function(j){return j}},output:pr,getNumberOfPages:_s,pages:ge,out:te,f2:A,f3:R,getPageInfo:Mo,getPageInfoByObjId:Da,getCurrentPageInfo:Aa,getPDFVersion:i,Point:Ri,Rectangle:jo,Matrix:Ke,hasHotfix:Ai},Object.defineProperty(n.internal.pageSize,"width",{get:function(){return Vo(U)},set:function(x){Uo(U,x)},enumerable:!0,configurable:!0}),Object.defineProperty(n.internal.pageSize,"height",{get:function(){return zn(U)},set:function(x){xr(U,x)},enumerable:!0,configurable:!0}),(function(x){for(var j=0,ee=We.length;j<ee;j++){var se=ms.call(this,x[j][0],x[j][1],x[j][2],We[j][3],!0);m===!1&&(p[se]=!0);var de=x[j][0].split("-");gs({id:se,fontName:de[0],fontStyle:de[1]||""})}wt.publish("addFonts",{fonts:Oe,dictionary:nt})}).call(n,We),He="F1",ys(h,t),wt.publish("initialized"),n}vo.prototype.lsbFirstWord=function(c){return String.fromCharCode(255&c,c>>8&255,c>>16&255,c>>24&255)},vo.prototype.toHexString=function(c){return c.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vo.prototype.hexToBytes=function(c){for(var e=[],t=0;t<c.length;t+=2)e.push(String.fromCharCode(parseInt(c.substr(t,2),16)));return e.join("")},vo.prototype.processOwnerPassword=function(c,e){return Zl(Yl(e).substr(0,5),c)},vo.prototype.encryptor=function(c,e){var t=Yl(this.encryptionKey+String.fromCharCode(255&c,c>>8&255,c>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Zl(t,r)}},ma.prototype.equals=function(c){var e,t="id,objectNumber,equals";if(!c||xt(c)!==xt(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!c.hasOwnProperty(e)||this[e]!==c[e])return!1;r++}for(e in c)c.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Fe.API={events:[]},Fe.version="3.0.2";var Yt=Fe.API,du=1,Yi=function(c){return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},go=function(c){return c.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qe=function(c){return c.toFixed(2)},_i=function(c){return c.toFixed(5)};Yt.__acroform__={};var Wn=function(c,e){c.prototype=Object.create(e.prototype),c.prototype.constructor=c},pd=function(c){return c*du},Or=function(c){var e=new vp,t=Ee.internal.getHeight(c)||0,r=Ee.internal.getWidth(c)||0;return e.BBox=[0,0,Number(Qe(r)),Number(Qe(t))],e},Rv=Yt.__acroform__.setBit=function(c,e){if(c=c||0,e=e||0,isNaN(c)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return c|1<<e},Ov=Yt.__acroform__.clearBit=function(c,e){if(c=c||0,e=e||0,isNaN(c)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return c&~(1<<e)},Nv=Yt.__acroform__.getBit=function(c,e){if(isNaN(c)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return c&1<<e?1:0},sn=Yt.__acroform__.getBitForPdf=function(c,e){if(isNaN(c)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nv(c,e-1)},an=Yt.__acroform__.setBitForPdf=function(c,e){if(isNaN(c)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rv(c,e-1)},ln=Yt.__acroform__.clearBitForPdf=function(c,e){if(isNaN(c)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ov(c,e-1)},Fv=Yt.__acroform__.calculateCoordinates=function(c,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,h=c[0],g=c[1],_=c[2],o=c[3],s={};return s.lowerLeft_X=t(h)||0,s.lowerLeft_Y=r(g+o)||0,s.upperRight_X=t(h+_)||0,s.upperRight_Y=r(g)||0,[Number(Qe(s.lowerLeft_X)),Number(Qe(s.lowerLeft_Y)),Number(Qe(s.upperRight_X)),Number(Qe(s.upperRight_Y))]},Bv=function(c){if(c.appearanceStreamContent)return c.appearanceStreamContent;if(c.V||c.DV){var e=[],t=c._V||c.DV,r=Xl(c,t),h=c.scope.internal.getFont(c.fontName,c.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(c.scope.__private__.encodeColorString(c.color)),e.push("/"+h+" "+Qe(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var g=Or(c);return g.scope=c.scope,g.stream=e.join(`
`),g}},Xl=function(c,e){var t=c.fontSize===0?c.maxFontSize:c.fontSize,r={text:"",fontSize:""},h=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");h=c.multiline?h.map(function(A){return A.split(`
`)}):h.map(function(A){return[A]});var g=t,_=Ee.internal.getHeight(c)||0;_=_<0?-_:_;var o=Ee.internal.getWidth(c)||0;o=o<0?-o:o;var s=function(A,R,z){if(A+1<h.length){var B=R+" "+h[A+1][0];return ta(B,c,z).width<=o-4}return!1};g++;e:for(;g>0;){e="",g--;var d,f,m=ta("3",c,g).height,p=c.multiline?_-g:(_-m)/2,n=p+=2,l=0,i=0,u=0;if(g<=0){e=`(...) Tj
`,e+="% Width of Text: "+ta(e,c,g=12).width+", FieldWidth:"+o+`
`;break}for(var a="",y=0,v=0;v<h.length;v++)if(h.hasOwnProperty(v)){var w=!1;if(h[v].length!==1&&u!==h[v].length-1){if((m+2)*(y+2)+2>_)continue e;a+=h[v][u],w=!0,i=v,v--}else{a=(a+=h[v][u]+" ").substr(a.length-1)==" "?a.substr(0,a.length-1):a;var T=parseInt(v),k=s(T,a,g),I=v>=h.length-1;if(k&&!I){a+=" ",u=0;continue}if(k||I){if(I)i=T;else if(c.multiline&&(m+2)*(y+2)+2>_)continue e}else{if(!c.multiline||(m+2)*(y+2)+2>_)continue e;i=T}}for(var C="",D=l;D<=i;D++){var P=h[D];if(c.multiline){if(D===i){C+=P[u]+" ",u=(u+1)%P.length;continue}if(D===l){C+=P[P.length-1]+" ";continue}}C+=P[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,f=ta(C,c,g).width,c.textAlign){case"right":d=o-f-2;break;case"center":d=(o-f)/2;break;default:d=2}e+=Qe(d)+" "+Qe(n)+` Td
`,e+="("+Yi(C)+`) Tj
`,e+=-Qe(d)+` 0 Td
`,n=-(g+2),f=0,l=w?i:i+1,y++,a=""}break}return r.text=e,r.fontSize=g,r},ta=function(c,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),h=e.scope.getStringUnitWidth(c,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:h}},jv={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hv=function(c,e){var t={type:"reference",object:c};e.internal.getPageInfo(c.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(c.page).pageContext.annotations.push(t)},Vv=function(c,e){if(e.scope=c,c.internal!==void 0&&(c.internal.acroformPlugin===void 0||c.internal.acroformPlugin.isInitialized===!1)){if(Tr.FieldNum=0,c.internal.acroformPlugin=JSON.parse(JSON.stringify(jv)),c.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");du=c.internal.scaleFactor,c.internal.acroformPlugin.acroFormDictionaryRoot=new _p,c.internal.acroformPlugin.acroFormDictionaryRoot.scope=c,c.internal.acroformPlugin.acroFormDictionaryRoot._eventID=c.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(c)}),c.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var h in r)if(r.hasOwnProperty(h)){var g=r[h];g.objId=void 0,g.hasAnnotation&&Hv(g,t)}})(c)}),c.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(c)}),c.internal.events.subscribe("postPutPages",function(t){(function(r,h){var g=!r;for(var _ in r||(h.internal.newObjectDeferredBegin(h.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),h.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||h.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(_)){var o=r[_],s=[],d=o.Rect;if(o.Rect&&(o.Rect=Fv(o.Rect,h)),h.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ee.createDefaultAppearanceStream(o),xt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(s=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Bv(o);s.push({key:"AP",value:"<</N "+f+">>"}),h.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var m="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var n=o.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(n).length>=1||Array.isArray(n)){for(var _ in n)if(n.hasOwnProperty(_)){var l=n[_];typeof l=="function"&&(l=l.call(h,o)),m+="/"+_+" "+l+" ",h.internal.acroformPlugin.xForms.indexOf(l)>=0||h.internal.acroformPlugin.xForms.push(l)}}else typeof(l=n)=="function"&&(l=l.call(h,o)),m+="/"+_+" "+l,h.internal.acroformPlugin.xForms.indexOf(l)>=0||h.internal.acroformPlugin.xForms.push(l);m+=">>"}s.push({key:"AP",value:`<<
`+m+">>"})}h.internal.putStream({additionalKeyValues:s,objectId:o.objId}),h.internal.out("endobj")}g&&(function(i,u){for(var a in i)if(i.hasOwnProperty(a)){var y=a,v=i[a];u.internal.newObjectDeferredBegin(v.objId,!0),xt(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete i[y]}})(h.internal.acroformPlugin.xForms,h)})(t,c)}),c.internal.acroformPlugin.isInitialized=!0}},yp=Yt.__acroform__.arrayToPdfArray=function(c,e,t){var r=function(_){return _};if(Array.isArray(c)){for(var h="[",g=0;g<c.length;g++)switch(g!==0&&(h+=" "),xt(c[g])){case"boolean":case"number":case"object":h+=c[g].toString();break;case"string":c[g].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),h+="("+Yi(r(c[g].toString()))+")"):h+=c[g].toString()}return h+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Al=function(c,e,t){var r=function(h){return h};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(c=c||"").toString(),"("+Yi(r(c))+")"},Nr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(c){this._objId=c}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nr.prototype.toString=function(){return this.objId+" 0 R"},Nr.prototype.putStream=function(){var c=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:c,objectId:this.objId}),this.scope.internal.out("endobj")},Nr.prototype.getKeyValueListForStream=function(){var c=[],e=Object.getOwnPropertyNames(this).filter(function(g){return g!="content"&&g!="appearanceStreamContent"&&g!="scope"&&g!="objId"&&g.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],h=this[r];h&&(Array.isArray(h)?c.push({key:r,value:yp(h,this.objId,this.scope)}):h instanceof Nr?(h.scope=this.scope,c.push({key:r,value:h.objId+" 0 R"})):typeof h!="function"&&c.push({key:r,value:h}))}return c};var vp=function(){Nr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var c,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){c=t.trim()},get:function(){return c||null}})};Wn(vp,Nr);var _p=function(){Nr.call(this);var c,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(c){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Yi(t(c))+")"}},set:function(t){c=t}})};Wn(_p,Nr);var Tr=function c(){Nr.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){if(isNaN(a))throw new Error('Invalid value "'+a+'" for attribute F supplied.');e=a}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sn(e,3)},set:function(a){a?this.F=an(e,3):this.F=ln(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){if(isNaN(a))throw new Error('Invalid value "'+a+'" for attribute Ff supplied.');t=a}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(a){r=a!==void 0?a:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(a){r[0]=a}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(a){r[1]=a}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(a){r[2]=a}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(a){r[3]=a}});var h="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return h},set:function(a){switch(a){case"/Btn":case"/Tx":case"/Ch":case"/Sig":h=a;break;default:throw new Error('Invalid value "'+a+'" for attribute FT supplied.')}}});var g=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!g||g.length<1){if(this instanceof ya)return;g="FieldObject"+c.FieldNum++}var a=function(y){return y};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Yi(a(g))+")"},set:function(a){g=a.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return g},set:function(a){g=a}});var _="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return _},set:function(a){_=a}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(a){o=a}});var s=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return s},set:function(a){s=a}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/du:d},set:function(a){d=a}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(a){f=a}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof ya||this instanceof Ki))return Al(m,this.objId,this.scope)},set:function(a){a=a.toString(),m=a}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Tn==0?Al(p,this.objId,this.scope):p},set:function(a){a=a.toString(),p=this instanceof Tn==0?a.substr(0,1)==="("?go(a.substr(1,a.length-2)):go(a):a}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?go(p.substr(1,p.length-1)):p},set:function(a){a=a.toString(),p=this instanceof Tn==1?"/"+a:a}});var n=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(n)return n},set:function(a){this.V=a}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(n)return this instanceof Tn==0?Al(n,this.objId,this.scope):n},set:function(a){a=a.toString(),n=this instanceof Tn==0?a.substr(0,1)==="("?go(a.substr(1,a.length-2)):go(a):a}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?go(n.substr(1,n.length-1)):n},set:function(a){a=a.toString(),n=this instanceof Tn==1?"/"+a:a}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var l,i=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){a=!!a,i=a}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(l)return l},set:function(a){l=a}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,1)},set:function(a){a?this.Ff=an(this.Ff,1):this.Ff=ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,2)},set:function(a){a?this.Ff=an(this.Ff,2):this.Ff=ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,3)},set:function(a){a?this.Ff=an(this.Ff,3):this.Ff=ln(this.Ff,3)}});var u=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(u!==null)return u},set:function(a){if([0,1,2].indexOf(a)===-1)throw new Error('Invalid value "'+a+'" for attribute Q supplied.');u=a}}),Object.defineProperty(this,"textAlign",{get:function(){var a;switch(u){case 0:default:a="left";break;case 1:a="center";break;case 2:a="right"}return a},configurable:!0,enumerable:!0,set:function(a){switch(a){case"right":case 2:u=2;break;case"center":case 1:u=1;break;default:u=0}}})};Wn(Tr,Nr);var ko=function(){Tr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var c=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){c=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yp(e,this.objId,this.scope)},set:function(t){var r,h;h=[],typeof(r=t)=="string"&&(h=(function(g,_,o){o||(o=1);for(var s,d=[];s=_.exec(g);)d.push(s[o]);return d})(r,/\((.*?)\)/g)),e=h}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,18)},set:function(t){t?this.Ff=an(this.Ff,18):this.Ff=ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=an(this.Ff,19):this.Ff=ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,20)},set:function(t){t?(this.Ff=an(this.Ff,20),e.sort()):this.Ff=ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,22)},set:function(t){t?this.Ff=an(this.Ff,22):this.Ff=ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(t){t?this.Ff=an(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,27)},set:function(t){t?this.Ff=an(this.Ff,27):this.Ff=ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Wn(ko,Tr);var So=function(){ko.call(this),this.fontName="helvetica",this.combo=!1};Wn(So,ko);var Co=function(){So.call(this),this.combo=!0};Wn(Co,So);var ua=function(){Co.call(this),this.edit=!0};Wn(ua,Co);var Tn=function(){Tr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,15)},set:function(t){t?this.Ff=an(this.Ff,15):this.Ff=ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,16)},set:function(t){t?this.Ff=an(this.Ff,16):this.Ff=ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,17)},set:function(t){t?this.Ff=an(this.Ff,17):this.Ff=ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(t){t?this.Ff=an(this.Ff,26):this.Ff=ln(this.Ff,26)}});var c,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(g){return g};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,h=[];for(r in h.push("<<"),e)h.push("/"+r+" ("+Yi(t(e[r]))+")");return h.push(">>"),h.join(`
`)}},set:function(t){xt(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return c.substr(1,c.length-1)},set:function(t){c="/"+t}})};Wn(Tn,Tr);var ca=function(){Tn.call(this),this.pushButton=!0};Wn(ca,Tn);var Io=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var c=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return c},set:function(e){c=e!==void 0?e:[]}})};Wn(Io,Tn);var ya=function(){var c,e;Tr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(h){e=h}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var h=function(o){return o};this.scope&&(h=this.scope.internal.getEncryptor(this.objId));var g,_=[];for(g in _.push("<<"),r)_.push("/"+g+" ("+Yi(h(r[g]))+")");return _.push(">>"),_.join(`
`)},set:function(h){xt(h)==="object"&&(r=h)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(h){typeof h=="string"&&(r.CA=h)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(h){t=h}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(h){t="/"+h}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ee.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wn(ya,Tr),Io.prototype.setAppearance=function(c){if(!("createAppearanceStream"in c)||!("getCA"in c))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=c.createAppearanceStream(t.optionName),t.caption=c.getCA()}},Io.prototype.createOption=function(c){var e=new ya;return e.Parent=this,e.optionName=c,this.Kids.push(e),Uv.call(this.scope,e),e};var da=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ee.CheckBox.createAppearanceStream()};Wn(da,Tn);var Ki=function(){Tr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,13)},set:function(e){e?this.Ff=an(this.Ff,13):this.Ff=ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,21)},set:function(e){e?this.Ff=an(this.Ff,21):this.Ff=ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(e){e?this.Ff=an(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,24)},set:function(e){e?this.Ff=an(this.Ff,24):this.Ff=ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,25)},set:function(e){e?this.Ff=an(this.Ff,25):this.Ff=ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(e){e?this.Ff=an(this.Ff,26):this.Ff=ln(this.Ff,26)}});var c=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){Number.isInteger(e)&&(c=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wn(Ki,Tr);var ha=function(){Ki.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,14)},set:function(c){c?this.Ff=an(this.Ff,14):this.Ff=ln(this.Ff,14)}}),this.password=!0};Wn(ha,Ki);var Ee={CheckBox:{createAppearanceStream:function(){return{N:{On:Ee.CheckBox.YesNormal},D:{On:Ee.CheckBox.YesPushDown,Off:Ee.CheckBox.OffPushDown}}},YesPushDown:function(c){var e=Or(c);e.scope=c.scope;var t=[],r=c.scope.internal.getFont(c.fontName,c.fontStyle).id,h=c.scope.__private__.encodeColorString(c.color),g=Xl(c,c.caption);return t.push("0.749023 g"),t.push("0 0 "+Qe(Ee.internal.getWidth(c))+" "+Qe(Ee.internal.getHeight(c))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Qe(g.fontSize)+" Tf "+h),t.push("BT"),t.push(g.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(c){var e=Or(c);e.scope=c.scope;var t=c.scope.internal.getFont(c.fontName,c.fontStyle).id,r=c.scope.__private__.encodeColorString(c.color),h=[],g=Ee.internal.getHeight(c),_=Ee.internal.getWidth(c),o=Xl(c,c.caption);return h.push("1 g"),h.push("0 0 "+Qe(_)+" "+Qe(g)+" re"),h.push("f"),h.push("q"),h.push("0 0 1 rg"),h.push("0 0 "+Qe(_-1)+" "+Qe(g-1)+" re"),h.push("W"),h.push("n"),h.push("0 g"),h.push("BT"),h.push("/"+t+" "+Qe(o.fontSize)+" Tf "+r),h.push(o.text),h.push("ET"),h.push("Q"),e.stream=h.join(`
`),e},OffPushDown:function(c){var e=Or(c);e.scope=c.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qe(Ee.internal.getWidth(c))+" "+Qe(Ee.internal.getHeight(c))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(c){var e={D:{Off:Ee.RadioButton.Circle.OffPushDown},N:{}};return e.N[c]=Ee.RadioButton.Circle.YesNormal,e.D[c]=Ee.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(c){var e=Or(c);e.scope=c.scope;var t=[],r=Ee.internal.getWidth(c)<=Ee.internal.getHeight(c)?Ee.internal.getWidth(c)/4:Ee.internal.getHeight(c)/4;r=Number((.9*r).toFixed(5));var h=Ee.internal.Bezier_C,g=Number((r*h).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+_i(Ee.internal.getWidth(c)/2)+" "+_i(Ee.internal.getHeight(c)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+g+" "+g+" "+r+" 0 "+r+" c"),t.push("-"+g+" "+r+" -"+r+" "+g+" -"+r+" 0 c"),t.push("-"+r+" -"+g+" -"+g+" -"+r+" 0 -"+r+" c"),t.push(g+" -"+r+" "+r+" -"+g+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(c){var e=Or(c);e.scope=c.scope;var t=[],r=Ee.internal.getWidth(c)<=Ee.internal.getHeight(c)?Ee.internal.getWidth(c)/4:Ee.internal.getHeight(c)/4;r=Number((.9*r).toFixed(5));var h=Number((2*r).toFixed(5)),g=Number((h*Ee.internal.Bezier_C).toFixed(5)),_=Number((r*Ee.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_i(Ee.internal.getWidth(c)/2)+" "+_i(Ee.internal.getHeight(c)/2)+" cm"),t.push(h+" 0 m"),t.push(h+" "+g+" "+g+" "+h+" 0 "+h+" c"),t.push("-"+g+" "+h+" -"+h+" "+g+" -"+h+" 0 c"),t.push("-"+h+" -"+g+" -"+g+" -"+h+" 0 -"+h+" c"),t.push(g+" -"+h+" "+h+" -"+g+" "+h+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+_i(Ee.internal.getWidth(c)/2)+" "+_i(Ee.internal.getHeight(c)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+_+" "+_+" "+r+" 0 "+r+" c"),t.push("-"+_+" "+r+" -"+r+" "+_+" -"+r+" 0 c"),t.push("-"+r+" -"+_+" -"+_+" -"+r+" 0 -"+r+" c"),t.push(_+" -"+r+" "+r+" -"+_+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(c){var e=Or(c);e.scope=c.scope;var t=[],r=Ee.internal.getWidth(c)<=Ee.internal.getHeight(c)?Ee.internal.getWidth(c)/4:Ee.internal.getHeight(c)/4;r=Number((.9*r).toFixed(5));var h=Number((2*r).toFixed(5)),g=Number((h*Ee.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_i(Ee.internal.getWidth(c)/2)+" "+_i(Ee.internal.getHeight(c)/2)+" cm"),t.push(h+" 0 m"),t.push(h+" "+g+" "+g+" "+h+" 0 "+h+" c"),t.push("-"+g+" "+h+" -"+h+" "+g+" -"+h+" 0 c"),t.push("-"+h+" -"+g+" -"+g+" -"+h+" 0 -"+h+" c"),t.push(g+" -"+h+" "+h+" -"+g+" "+h+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(c){var e={D:{Off:Ee.RadioButton.Cross.OffPushDown},N:{}};return e.N[c]=Ee.RadioButton.Cross.YesNormal,e.D[c]=Ee.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(c){var e=Or(c);e.scope=c.scope;var t=[],r=Ee.internal.calculateCross(c);return t.push("q"),t.push("1 1 "+Qe(Ee.internal.getWidth(c)-2)+" "+Qe(Ee.internal.getHeight(c)-2)+" re"),t.push("W"),t.push("n"),t.push(Qe(r.x1.x)+" "+Qe(r.x1.y)+" m"),t.push(Qe(r.x2.x)+" "+Qe(r.x2.y)+" l"),t.push(Qe(r.x4.x)+" "+Qe(r.x4.y)+" m"),t.push(Qe(r.x3.x)+" "+Qe(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(c){var e=Or(c);e.scope=c.scope;var t=Ee.internal.calculateCross(c),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qe(Ee.internal.getWidth(c))+" "+Qe(Ee.internal.getHeight(c))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qe(Ee.internal.getWidth(c)-2)+" "+Qe(Ee.internal.getHeight(c)-2)+" re"),r.push("W"),r.push("n"),r.push(Qe(t.x1.x)+" "+Qe(t.x1.y)+" m"),r.push(Qe(t.x2.x)+" "+Qe(t.x2.y)+" l"),r.push(Qe(t.x4.x)+" "+Qe(t.x4.y)+" m"),r.push(Qe(t.x3.x)+" "+Qe(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(c){var e=Or(c);e.scope=c.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qe(Ee.internal.getWidth(c))+" "+Qe(Ee.internal.getHeight(c))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(c){var e=c.scope.internal.getFont(c.fontName,c.fontStyle).id,t=c.scope.__private__.encodeColorString(c.color);return"/"+e+" "+c.fontSize+" Tf "+t}};Ee.internal={Bezier_C:.551915024494,calculateCross:function(c){var e=Ee.internal.getWidth(c),t=Ee.internal.getHeight(c),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ee.internal.getWidth=function(c){var e=0;return xt(c)==="object"&&(e=pd(c.Rect[2])),e},Ee.internal.getHeight=function(c){var e=0;return xt(c)==="object"&&(e=pd(c.Rect[3])),e};var Uv=Yt.addField=function(c){if(Vv(this,c),!(c instanceof Tr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=c).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),c.page=c.scope.internal.getCurrentPageInfo().pageNumber,this};Yt.AcroFormChoiceField=ko,Yt.AcroFormListBox=So,Yt.AcroFormComboBox=Co,Yt.AcroFormEditBox=ua,Yt.AcroFormButton=Tn,Yt.AcroFormPushButton=ca,Yt.AcroFormRadioButton=Io,Yt.AcroFormCheckBox=da,Yt.AcroFormTextField=Ki,Yt.AcroFormPasswordField=ha,Yt.AcroFormAppearance=Ee,Yt.AcroForm={ChoiceField:ko,ListBox:So,ComboBox:Co,EditBox:ua,Button:Tn,PushButton:ca,RadioButton:Io,CheckBox:da,TextField:Ki,PasswordField:ha,Appearance:Ee},Fe.AcroForm={ChoiceField:ko,ListBox:So,ComboBox:Co,EditBox:ua,Button:Tn,PushButton:ca,RadioButton:Io,CheckBox:da,TextField:Ki,PasswordField:ha,Appearance:Ee};Fe.AcroForm;function bp(c){return c.reduce(function(e,t,r){return e[t]=r,e},{})}(function(c){var e="addImage_";c.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},h=c.__addimage__.getImageFileTypeByImageData=function(A,R){var z,B,N,Z,ne,ie=t;if((R=R||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(k(A))for(ne in r)for(N=r[ne],z=0;z<N.length;z+=1){for(Z=!0,B=0;B<N[z].length;B+=1)if(N[z][B]!==void 0&&N[z][B]!==A[B]){Z=!1;break}if(Z===!0){ie=ne;break}}else for(ne in r)for(N=r[ne],z=0;z<N.length;z+=1){for(Z=!0,B=0;B<N[z].length;B+=1)if(N[z][B]!==void 0&&N[z][B]!==A.charCodeAt(B)){Z=!1;break}if(Z===!0){ie=ne;break}}return ie===t&&R!==t&&(ie=R),ie},g=function A(R){for(var z=this.internal.write,B=this.internal.putStream,N=(0,this.internal.getFilters)();N.indexOf("FlateEncode")!==-1;)N.splice(N.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:R.width}),Z.push({key:"Height",value:R.height}),R.colorSpace===a.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===a.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var ne="",ie=0,Y=R.transparency.length;ie<Y;ie++)ne+=R.transparency[ie]+" "+R.transparency[ie]+" ";Z.push({key:"Mask",value:"["+ne+"]"})}R.sMask!==void 0&&Z.push({key:"SMask",value:R.objectId+1+" 0 R"});var oe=R.filter!==void 0?["/"+R.filter]:void 0;if(B({data:R.data,additionalKeyValues:Z,alreadyAppliedFilters:oe,objectId:R.objectId}),z("endobj"),"sMask"in R&&R.sMask!==void 0){var ae=(R.predictor!=null?"/Predictor "+R.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+R.width,O={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ae,data:R.sMask};"filter"in R&&(O.filter=R.filter),A.call(this,O)}if(R.colorSpace===a.INDEXED){var U=this.internal.newObject();B({data:C(new Uint8Array(R.palette)),objectId:U}),z("endobj")}},_=function(){var A=this.internal.collections[e+"images"];for(var R in A)g.call(this,A[R])},o=function(){var A,R=this.internal.collections[e+"images"],z=this.internal.write;for(var B in R)z("/I"+(A=R[B]).index,A.objectId,"0","R")},s=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",_),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var A=this.internal.collections[e+"images"];return s.call(this),A},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(A){return typeof c["process"+A.toUpperCase()]=="function"},p=function(A){return xt(A)==="object"&&A.nodeType===1},n=function(A,R){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var z=""+A.getAttribute("src");if(z.indexOf("data:image/")===0)return la(unescape(z).split("base64,").pop());var B=c.loadFile(z,!0);if(B!==void 0)return B}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var N;switch(R){case"PNG":N="image/png";break;case"WEBP":N="image/webp";break;default:N="image/jpeg"}return la(A.toDataURL(N,1).split("base64,").pop())}},l=function(A){var R=this.internal.collections[e+"images"];if(R){for(var z in R)if(A===R[z].alias)return R[z]}},i=function(A,R,z){return A||R||(A=-96,R=-96),A<0&&(A=-1*z.width*72/A/this.internal.scaleFactor),R<0&&(R=-1*z.height*72/R/this.internal.scaleFactor),A===0&&(A=R*z.width/z.height),R===0&&(R=A*z.height/z.width),[A,R]},u=function(A,R,z,B,N,Z){var ne=i.call(this,z,B,N),ie=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,oe=d.call(this);if(z=ne[0],B=ne[1],oe[N.index]=N,Z){Z*=Math.PI/180;var ae=Math.cos(Z),O=Math.sin(Z),U=function(re){return re.toFixed(4)},X=[U(ae),U(O),U(-1*O),U(ae),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,ie(A),Y(R+B),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ie(z),"0","0",ie(B),"0","0","cm"].join(" "))):this.internal.write([ie(z),"0","0",ie(B),ie(A),Y(R+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+N.index+" Do"),this.internal.write("Q")},a=c.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};c.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=c.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=c.__addimage__.sHashCode=function(A){var R,z,B=0;if(typeof A=="string")for(z=A.length,R=0;R<z;R++)B=(B<<5)-B+A.charCodeAt(R),B|=0;else if(k(A))for(z=A.byteLength/2,R=0;R<z;R++)B=(B<<5)-B+A[R],B|=0;return B},w=c.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var R=!0;return A.length===0&&(R=!1),A.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(R=!1),R},T=c.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var R=A.indexOf(",");return R<0?null:A.substring(0,R).trim().endsWith("base64")?A.substring(R+1):null};c.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var k=c.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},I=c.__addimage__.binaryStringToUint8Array=function(A){for(var R=A.length,z=new Uint8Array(R),B=0;B<R;B++)z[B]=A.charCodeAt(B);return z},C=c.__addimage__.arrayBufferToBinaryString=function(A){for(var R="",z=k(A)?A:new Uint8Array(A),B=0;B<z.length;B+=8192)R+=String.fromCharCode.apply(null,z.subarray(B,B+8192));return R};c.addImage=function(){var A,R,z,B,N,Z,ne,ie,Y;if(typeof arguments[1]=="number"?(R=t,z=arguments[1],B=arguments[2],N=arguments[3],Z=arguments[4],ne=arguments[5],ie=arguments[6],Y=arguments[7]):(R=arguments[1],z=arguments[2],B=arguments[3],N=arguments[4],Z=arguments[5],ne=arguments[6],ie=arguments[7],Y=arguments[8]),xt(A=arguments[0])==="object"&&!p(A)&&"imageData"in A){var oe=A;A=oe.imageData,R=oe.format||R||t,z=oe.x||z||0,B=oe.y||B||0,N=oe.w||oe.width||N,Z=oe.h||oe.height||Z,ne=oe.alias||ne,ie=oe.compression||ie,Y=oe.rotation||oe.angle||Y}var ae=this.internal.getFilters();if(ie===void 0&&ae.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(z)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var O=D.call(this,A,R,ne,ie);return u.call(this,z,B,N,Z,O,Y),this};var D=function(A,R,z,B){var N,Z,ne;if(typeof A=="string"&&h(A)===t){A=unescape(A);var ie=P(A,!1);(ie!==""||(ie=c.loadFile(A,!0))!==void 0)&&(A=ie)}if(p(A)&&(A=n(A,R)),R=h(A,R),!m(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ne=z)==null||ne.length===0)&&(z=(function(Y){return typeof Y=="string"||k(Y)?v(Y):k(Y.data)?v(Y.data):null})(A)),(N=l.call(this,z))||(A instanceof Uint8Array||R==="RGBA"||(Z=A,A=I(A)),N=this["process"+R.toUpperCase()](A,f.call(this),z,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in c.image_compression?Y:y.NONE})(B),Z)),!N)throw new Error("An unknown error occurred whilst processing the image.");return N},P=c.__addimage__.convertBase64ToBinaryString=function(A,R){R=typeof R!="boolean"||R;var z,B="";if(typeof A=="string"){var N;z=(N=T(A))!==null&&N!==void 0?N:A;try{B=la(z)}catch(Z){if(R)throw w(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};c.getImageProperties=function(A){var R,z,B="";if(p(A)&&(A=n(A)),typeof A=="string"&&h(A)===t&&((B=P(A,!1))===""&&(B=c.loadFile(A)||""),A=B),z=h(A),!m(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(A instanceof Uint8Array||(A=I(A)),!(R=this["process"+z.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=z,R}})(Fe.API),(function(c){var e=function(t){if(t!==void 0&&t!="")return!0};Fe.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),c.events.push(["putPage",function(t){for(var r,h,g,_=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((r=d[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){r=d[p];var n=this.internal.pdfEscape,l=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var i=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),a=this.internal.getEncryptor(i.objId),y=r.title||"Note";g="<</Type /Annot /Subtype /Text "+(h="/Rect ["+_(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+_(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+n(a(r.contents))+")",g+=" /Popup "+u.objId+" 0 R",g+=" /P "+s.objId+" 0 R",g+=" /T ("+n(a(y))+") >>",i.content=g;var v=i.objId+" 0 R";g="<</Type /Annot /Subtype /Popup "+(h="/Rect ["+_(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+_(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(g+=" /Open true"),g+=" >>",u.content=g,this.internal.write(i.objId,"0 R",u.objId,"0 R");break;case"freetext":h="/Rect ["+_(r.bounds.x)+" "+o(r.bounds.y)+" "+_(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var w=r.color||"#000000";g="<</Type /Annot /Subtype /FreeText "+h+"/Contents ("+n(l(r.contents))+")",g+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",g+=" /Border [0 0 0]",g+=" >>",this.internal.write(g);break;case"link":if(r.options.name){var T=this.annotations._nameMap[r.options.name];r.options.pageNumber=T.page,r.options.top=T.y}else r.options.top||(r.options.top=0);if(h="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",g="",r.options.url)g="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /A <</S /URI /URI ("+n(l(r.options.url))+") >>";else if(r.options.pageNumber)switch(g="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":g+=" /Fit]";break;case"FitH":g+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,g+=" /FitV "+r.options.left+"]";break;default:var k=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),g+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}g!=""&&(g+=" >>",this.internal.write(g))}}this.internal.write("]")}}]),c.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},c.link=function(t,r,h,g,_){var o=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:s(t),y:d(r),w:s(t+h),h:d(r+g)},options:_,type:"link"})},c.textWithLink=function(t,r,h,g){var _,o,s=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(g.maxWidth!==void 0){o=g.maxWidth;var f=this.splitTextToSize(t,o).length;_=Math.ceil(d*f)}else o=s,_=d;return this.text(t,r,h,g),h+=.2*d,g.align==="center"&&(r-=s/2),g.align==="right"&&(r-=s),this.link(r,h-d,o,_,g),s},c.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Fe.API),(function(c){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},h=[1570,1571,1573,1575];c.__arabicParser__={};var g=c.__arabicParser__.isInArabicSubstitutionA=function(i){return e[i.charCodeAt(0)]!==void 0},_=c.__arabicParser__.isArabicLetter=function(i){return typeof i=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(i)},o=c.__arabicParser__.isArabicEndLetter=function(i){return _(i)&&g(i)&&e[i.charCodeAt(0)].length<=2},s=c.__arabicParser__.isArabicAlfLetter=function(i){return _(i)&&h.indexOf(i.charCodeAt(0))>=0};c.__arabicParser__.arabicLetterHasIsolatedForm=function(i){return _(i)&&g(i)&&e[i.charCodeAt(0)].length>=1};var d=c.__arabicParser__.arabicLetterHasFinalForm=function(i){return _(i)&&g(i)&&e[i.charCodeAt(0)].length>=2};c.__arabicParser__.arabicLetterHasInitialForm=function(i){return _(i)&&g(i)&&e[i.charCodeAt(0)].length>=3};var f=c.__arabicParser__.arabicLetterHasMedialForm=function(i){return _(i)&&g(i)&&e[i.charCodeAt(0)].length==4},m=c.__arabicParser__.resolveLigatures=function(i){var u=0,a=t,y="",v=0;for(u=0;u<i.length;u+=1)a[i.charCodeAt(u)]!==void 0?(v++,typeof(a=a[i.charCodeAt(u)])=="number"&&(y+=String.fromCharCode(a),a=t,v=0),u===i.length-1&&(a=t,y+=i.charAt(u-(v-1)),u-=v-1,v=0)):(a=t,y+=i.charAt(u-v),u-=v,v=0);return y};c.__arabicParser__.isArabicDiacritic=function(i){return i!==void 0&&r[i.charCodeAt(0)]!==void 0};var p=c.__arabicParser__.getCorrectForm=function(i,u,a){return _(i)?g(i)===!1?-1:!d(i)||!_(u)&&!_(a)||!_(a)&&o(u)||o(i)&&!_(u)||o(i)&&s(u)||o(i)&&o(u)?0:f(i)&&_(u)&&!o(u)&&_(a)&&d(a)?3:o(i)||!_(a)?1:2:-1},n=function(i){var u=0,a=0,y=0,v="",w="",T="",k=(i=i||"").split("\\s+"),I=[];for(u=0;u<k.length;u+=1){for(I.push(""),a=0;a<k[u].length;a+=1)v=k[u][a],w=k[u][a-1],T=k[u][a+1],_(v)?(y=p(v,w,T),I[u]+=y!==-1?String.fromCharCode(e[v.charCodeAt(0)][y]):v):I[u]+=v;I[u]=m(I[u])}return I.join(" ")},l=c.__arabicParser__.processArabic=c.processArabic=function(){var i,u=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,a=[];if(Array.isArray(u)){var y=0;for(a=[],y=0;y<u.length;y+=1)Array.isArray(u[y])?a.push([n(u[y][0]),u[y][1],u[y][2]]):a.push([n(u[y])]);i=a}else i=n(u);return typeof arguments[0]=="string"?i:(arguments[0].text=i,arguments[0])};c.events.push(["preProcessText",l])})(Fe.API),Fe.API.autoPrint=function(c){var e;return(c=c||{}).variant=c.variant||"non-conform",c.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(c){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var h=300;Object.defineProperty(this,"height",{get:function(){return h},set:function(o){h=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=h+1)}});var g=[];Object.defineProperty(this,"childNodes",{get:function(){return g},set:function(o){g=o}});var _={};Object.defineProperty(this,"style",{get:function(){return _},set:function(o){_=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var h;if((t=t||"2d")!=="2d")return null;for(h in r)this.pdf.context2d.hasOwnProperty(h)&&(this.pdf.context2d[h]=r[h]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},c.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Fe.API),(function(c){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),h.call(this))},h=function(){this.internal.__cell__.lastCell=new g,this.internal.__cell__.pages=1},g=function(){var s=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return s},set:function(i){s=i}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(i){d=i}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(i){f=i}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(i){m=i}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(i){p=i}});var n=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return n},set:function(i){n=i}});var l=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return l},set:function(i){l=i}}),this};g.prototype.clone=function(){return new g(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},g.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},c.setHeaderFunction=function(s){return r.call(this),this.internal.__cell__.headerFunction=typeof s=="function"?s:void 0,this},c.getTextDimensions=function(s,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,n=0,l=0,i=0,u=this;if(!Array.isArray(s)&&typeof s!="string"){if(typeof s!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");s=String(s)}var a=d.maxWidth;a>0?typeof s=="string"?s=this.splitTextToSize(s,a):Object.prototype.toString.call(s)==="[object Array]"&&(s=s.reduce(function(v,w){return v.concat(u.splitTextToSize(w,a))},[])):s=Array.isArray(s)?s:[s];for(var y=0;y<s.length;y++)n<(i=this.getStringUnitWidth(s[y],{font:m})*f)&&(n=i);return n!==0&&(l=s.length),{w:n/=p,h:Math.max((l*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},c.cellAddPage=function(){r.call(this),this.addPage();var s=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new g(s.left,s.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var _=c.cell=function(){var s;s=arguments[0]instanceof g?arguments[0]:new g(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,n=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===s.lineNumber?(s.x=(d.x||0)+(d.width||0),s.y=d.y||0):d.y+d.height+s.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),s.y=m.top,n&&p&&(this.printHeaderRow(s.lineNumber,!0),s.y+=p[0].height)):s.y=d.y+d.height||s.y),s.text[0]!==void 0&&(this.rect(s.x,s.y,s.width,s.height,t===!0?"FD":void 0),s.align==="right"?this.text(s.text,s.x+s.width-f,s.y+f,{align:"right",baseline:"top"}):s.align==="center"?this.text(s.text,s.x+s.width/2,s.y+f,{align:"center",baseline:"top",maxWidth:s.width-f-f}):this.text(s.text,s.x+f,s.y+f,{align:"left",baseline:"top",maxWidth:s.width-f-f})),this.internal.__cell__.lastCell=s,this};c.table=function(s,d,f,m,p){if(r.call(this),!f)throw new Error("No data for PDF table.");var n,l,i,u,a=[],y=[],v=[],w={},T={},k=[],I=[],C=(p=p||{}).autoSize||!1,D=p.printHeaders!==!1,P=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,A=p.margins||Object.assign({width:this.getPageWidth()},e),R=typeof p.padding=="number"?p.padding:3,z=p.headerBackgroundColor||"#c8c8c8",B=p.headerTextColor||"#000";if(h.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=B,this.setFontSize(P),m==null)y=a=Object.keys(f[0]),v=a.map(function(){return"left"});else if(Array.isArray(m)&&xt(m[0])==="object")for(a=m.map(function(oe){return oe.name}),y=m.map(function(oe){return oe.prompt||oe.name||""}),v=m.map(function(oe){return oe.align||"left"}),n=0;n<m.length;n+=1)T[m[n].name]=.7499990551181103*m[n].width;else Array.isArray(m)&&typeof m[0]=="string"&&(y=a=m,v=a.map(function(){return"left"}));if(C||Array.isArray(m)&&typeof m[0]=="string")for(n=0;n<a.length;n+=1){for(w[u=a[n]]=f.map(function(oe){return oe[u]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(y[n],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),l=w[u],this.setFont(void 0,"normal"),i=0;i<l.length;i+=1)k.push(this.getTextDimensions(l[i],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[u]=Math.max.apply(null,k)+R+R,k=[]}if(D){var N={};for(n=0;n<a.length;n+=1)N[a[n]]={},N[a[n]].text=y[n],N[a[n]].align=v[n];var Z=o.call(this,N,T);I=a.map(function(oe){return new g(s,d,T[oe],Z,N[oe].text,void 0,N[oe].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ne=m.reduce(function(oe,ae){return oe[ae.name]=ae.align,oe},{});for(n=0;n<f.length;n+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:n,data:f[n]},this);var ie=o.call(this,f[n],T);for(i=0;i<a.length;i+=1){var Y=f[n][a[i]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:n,col:i,data:Y},this),_.call(this,new g(s,d,T[a[i]],ie,Y,n+2,ne[a[i]]))}}return this.internal.__cell__.table_x=s,this.internal.__cell__.table_y=d,this};var o=function(s,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(s).map(function(n){var l=s[n];return this.splitTextToSize(l.hasOwnProperty("text")?l.text:l,d[n]-f-f)},this).map(function(n){return this.getLineHeightFactor()*n.length*m/p+f+f},this).reduce(function(n,l){return Math.max(n,l)},0)};c.setTableHeaderRow=function(s){r.call(this),this.internal.__cell__.tableHeaderRow=s},c.printHeaderRow=function(s,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new g(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],n=0;n<this.internal.__cell__.tableHeaderRow.length;n+=1){f=this.internal.__cell__.tableHeaderRow[n].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=s;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),_.call(this,f),this.setTextColor(l)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(Fe.API);var Tp={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wp=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jl=bp(wp),kp=[100,200,300,400,500,600,700,800,900],Wv=bp(kp);function El(c){var e=c.family.replace(/"|'/g,"").toLowerCase(),t=(function(g){return Tp[g=g||"normal"]?g:"normal"})(c.style),r=(function(g){return g?typeof g=="number"?g>=100&&g<=900&&g%100==0?g:400:/^\d00$/.test(g)?parseInt(g):g==="bold"?700:400:400})(c.weight),h=(function(g){return typeof Jl[g=g||"normal"]=="number"?g:"normal"})(c.stretch);return{family:e,style:t,weight:r,stretch:h,src:c.src||[],ref:c.ref||{name:e,style:[h,t,r].join(" ")}}}function fd(c,e,t,r){var h;for(h=t;h>=0&&h<e.length;h+=r)if(c[e[h]])return c[e[h]];for(h=t;h>=0&&h<e.length;h-=r)if(c[e[h]])return c[e[h]]}var zv={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gd={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function md(c){return[c.stretch,c.style,c.weight,c.family].join(" ")}function yd(c){return c.trimLeft()}function Kv(c,e){for(var t=0;t<c.length;){if(c.charAt(t)===e)return[c.substring(0,t),c.substring(t+1)];t+=1}return null}function Gv(c){var e=c.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],c.substring(e[0].length)]}var na,vd,_d,mo,ra,bd,Td,wd,Pl=["times"];function kd(c,e,t,r){var h=4,g=Cd;switch(r){case Fe.API.image_compression.FAST:h=1,g=Sd;break;case Fe.API.image_compression.MEDIUM:h=6,g=Id;break;case Fe.API.image_compression.SLOW:h=9,g=xd}c=(function(o,s,d,f){for(var m,p=o.length/s,n=new Uint8Array(o.length+p),l=[qv,Sd,Cd,Id,xd],i=0;i<p;i+=1){var u=i*s,a=o.subarray(u,u+s);if(f)n.set(f(a,d,m),u+i);else{for(var y=l.length,v=[],w=0;w<y;w+=1)v[w]=l[w](a,d,m);var T=Yv(v.concat());n.set(v[T],u+i)}m=a}return n})(c,e,t,g);var _=Kl(c,{level:h});return Fe.API.__addimage__.arrayBufferToBinaryString(_)}function qv(c){var e=Array.apply([],c);return e.unshift(0),e}function Sd(c,e){var t=c.length,r=[];r[0]=1;for(var h=0;h<t;h+=1){var g=c[h-e]||0;r[h+1]=c[h]-g+256&255}return r}function Cd(c,e,t){var r=c.length,h=[];h[0]=2;for(var g=0;g<r;g+=1){var _=t&&t[g]||0;h[g+1]=c[g]-_+256&255}return h}function Id(c,e,t){var r=c.length,h=[];h[0]=3;for(var g=0;g<r;g+=1){var _=c[g-e]||0,o=t&&t[g]||0;h[g+1]=c[g]+256-(_+o>>>1)&255}return h}function xd(c,e,t){var r=c.length,h=[];h[0]=4;for(var g=0;g<r;g+=1){var _=$v(c[g-e]||0,t&&t[g]||0,t&&t[g-e]||0);h[g+1]=c[g]-_+256&255}return h}function $v(c,e,t){if(c===e&&e===t)return c;var r=Math.abs(e-t),h=Math.abs(c-t),g=Math.abs(c+e-t-t);return r<=h&&r<=g?c:h<=g?e:t}function Yv(c){var e=c.map(function(t){return t.reduce(function(r,h){return r+Math.abs(h)},0)});return e.indexOf(Math.min.apply(null,e))}function Ml(c,e,t){var r=e*t,h=Math.floor(r/8),g=16-(r-8*h+t),_=(1<<t)-1;return Sp(c,h)>>g&_}function Dd(c,e,t,r){var h=t*r,g=Math.floor(h/8),_=16-(h-8*g+r),o=(1<<r)-1,s=(e&o)<<_;(function(d,f,m){if(f+1<d.byteLength)d.setUint16(f,m,!1);else{var p=m>>8&255;d.setUint8(f,p)}})(c,g,Sp(c,g)&~(o<<_)&65535|s)}function Sp(c,e){return e+1<c.byteLength?c.getUint16(e,!1):c.getUint8(e)<<8}function Zv(c){var e=0;if(c[e++]!==71||c[e++]!==73||c[e++]!==70||c[e++]!==56||(c[e++]+1&253)!=56||c[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=c[e++]|c[e++]<<8,r=c[e++]|c[e++]<<8,h=c[e++],g=h>>7,_=1<<1+(7&h);c[e++],c[e++];var o=null,s=null;g&&(o=e,s=_,e+=3*_);var d=!0,f=[],m=0,p=null,n=0,l=null;for(this.width=t,this.height=r;d&&e<c.length;)switch(c[e++]){case 33:switch(c[e++]){case 255:if(c[e]!==11||c[e+1]==78&&c[e+2]==69&&c[e+3]==84&&c[e+4]==83&&c[e+5]==67&&c[e+6]==65&&c[e+7]==80&&c[e+8]==69&&c[e+9]==50&&c[e+10]==46&&c[e+11]==48&&c[e+12]==3&&c[e+13]==1&&c[e+16]==0)e+=14,l=c[e++]|c[e++]<<8,e++;else for(e+=12;;){if(!((A=c[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(c[e++]!==4||c[e+4]!==0)throw new Error("Invalid graphics extension block.");var i=c[e++];m=c[e++]|c[e++]<<8,p=c[e++],1&i||(p=null),n=i>>2&7,e++;break;case 254:for(;;){if(!((A=c[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+c[e-1].toString(16))}break;case 44:var u=c[e++]|c[e++]<<8,a=c[e++]|c[e++]<<8,y=c[e++]|c[e++]<<8,v=c[e++]|c[e++]<<8,w=c[e++],T=w>>6&1,k=1<<1+(7&w),I=o,C=s,D=!1;w>>7&&(D=!0,I=e,C=k,e+=3*k);var P=e;for(e++;;){var A;if(!((A=c[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}f.push({x:u,y:a,width:y,height:v,has_local_palette:D,palette_offset:I,palette_size:C,data_offset:P,data_length:e-P,transparent_index:p,interlaced:!!T,delay:m,disposal:n});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+c[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return l},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,z){var B=this.frameInfo(R),N=B.width*B.height,Z=new Uint8Array(N);Ad(c,B.data_offset,Z,N);var ne=B.palette_offset,ie=B.transparent_index;ie===null&&(ie=256);var Y=B.width,oe=t-Y,ae=Y,O=4*(B.y*t+B.x),U=4*((B.y+B.height)*t+B.x),X=O,re=4*oe;B.interlaced===!0&&(re+=4*t*7);for(var H=8,L=0,K=Z.length;L<K;++L){var $=Z[L];if(ae===0&&(ae=Y,(X+=re)>=U&&(re=4*oe+4*t*(H-1),X=O+(Y+oe)*(H<<1),H>>=1)),$===ie)X+=4;else{var ue=c[ne+3*$],ge=c[ne+3*$+1],Ce=c[ne+3*$+2];z[X++]=Ce,z[X++]=ge,z[X++]=ue,z[X++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(R,z){var B=this.frameInfo(R),N=B.width*B.height,Z=new Uint8Array(N);Ad(c,B.data_offset,Z,N);var ne=B.palette_offset,ie=B.transparent_index;ie===null&&(ie=256);var Y=B.width,oe=t-Y,ae=Y,O=4*(B.y*t+B.x),U=4*((B.y+B.height)*t+B.x),X=O,re=4*oe;B.interlaced===!0&&(re+=4*t*7);for(var H=8,L=0,K=Z.length;L<K;++L){var $=Z[L];if(ae===0&&(ae=Y,(X+=re)>=U&&(re=4*oe+4*t*(H-1),X=O+(Y+oe)*(H<<1),H>>=1)),$===ie)X+=4;else{var ue=c[ne+3*$],ge=c[ne+3*$+1],Ce=c[ne+3*$+2];z[X++]=ue,z[X++]=ge,z[X++]=Ce,z[X++]=255}--ae}}}function Ad(c,e,t,r){for(var h=c[e++],g=1<<h,_=g+1,o=_+1,s=h+1,d=(1<<s)-1,f=0,m=0,p=0,n=c[e++],l=new Int32Array(4096),i=null;;){for(;f<16&&n!==0;)m|=c[e++]<<f,f+=8,n===1?n=c[e++]:--n;if(f<s)break;var u=m&d;if(m>>=s,f-=s,u!==g){if(u===_)break;for(var a=u<o?u:i,y=0,v=a;v>g;)v=l[v]>>8,++y;var w=v;if(p+y+(a!==u?1:0)>r)return void Ot.log("Warning, gif stream longer than expected.");t[p++]=w;var T=p+=y;for(a!==u&&(t[p++]=w),v=a;y--;)v=l[v],t[--T]=255&v,v>>=8;i!==null&&o<4096&&(l[o++]=i<<8|w,o>=d+1&&s<12&&(++s,d=d<<1|1)),i=u}else o=_+1,d=(1<<(s=h+1))-1,i=null}return p!==r&&Ot.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ll(c){var e,t,r,h,g,_=Math.floor,o=new Array(64),s=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),p=new Array(65535),n=new Array(64),l=new Array(64),i=[],u=0,a=7,y=new Array(64),v=new Array(64),w=new Array(64),T=new Array(256),k=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(O,U){for(var X=0,re=0,H=new Array,L=1;L<=16;L++){for(var K=1;K<=O[L];K++)H[U[re]]=[],H[U[re]][0]=X,H[U[re]][1]=L,re++,X++;X*=2}return H}function ne(O){for(var U=O[0],X=O[1]-1;X>=0;)U&1<<X&&(u|=1<<a),X--,--a<0&&(u==255?(ie(255),ie(0)):ie(u),a=7,u=0)}function ie(O){i.push(O)}function Y(O){ie(O>>8&255),ie(255&O)}function oe(O,U,X,re,H){for(var L,K=H[0],$=H[240],ue=(function(Se,je){var De,st,Ue,yt,et,tt,Dt,at,He,$e,Ve=0;for(He=0;He<8;++He){De=Se[Ve],st=Se[Ve+1],Ue=Se[Ve+2],yt=Se[Ve+3],et=Se[Ve+4],tt=Se[Ve+5],Dt=Se[Ve+6];var Nt=De+(at=Se[Ve+7]),vt=De-at,Oe=st+Dt,nt=st-Dt,Pt=Ue+tt,ze=Ue-tt,ht=yt+et,rt=yt-et,Zt=Nt+ht,hn=Nt-ht,Mt=Oe+Pt,Xe=Oe-Pt;Se[Ve]=Zt+Mt,Se[Ve+4]=Zt-Mt;var wt=.707106781*(Xe+hn);Se[Ve+2]=hn+wt,Se[Ve+6]=hn-wt;var Si=.382683433*((Zt=rt+ze)-(Xe=nt+vt)),xn=.5411961*Zt+Si,Br=1.306562965*Xe+Si,kr=.707106781*(Mt=ze+nt),Ke=vt+kr,jr=vt-kr;Se[Ve+5]=jr+xn,Se[Ve+3]=jr-xn,Se[Ve+1]=Ke+Br,Se[Ve+7]=Ke-Br,Ve+=8}for(Ve=0,He=0;He<8;++He){De=Se[Ve],st=Se[Ve+8],Ue=Se[Ve+16],yt=Se[Ve+24],et=Se[Ve+32],tt=Se[Ve+40],Dt=Se[Ve+48];var Hr=De+(at=Se[Ve+56]),er=De-at,tr=st+Dt,Gt=st-Dt,_n=Ue+tt,wn=Ue-tt,Ci=yt+et,ii=yt-et,cr=Hr+Ci,Sr=Hr-Ci,dr=tr+_n,hr=tr-_n;Se[Ve]=cr+dr,Se[Ve+32]=cr-dr;var nr=.707106781*(hr+Sr);Se[Ve+16]=Sr+nr,Se[Ve+48]=Sr-nr;var Ii=.382683433*((cr=ii+wn)-(hr=Gt+er)),Cr=.5411961*cr+Ii,xi=1.306562965*hr+Ii,Zi=.707106781*(dr=wn+Gt),Xi=er+Zi,Ji=er-Zi;Se[Ve+40]=Ji+Cr,Se[Ve+24]=Ji-Cr,Se[Ve+8]=Xi+xi,Se[Ve+56]=Xi-xi,Ve++}for(He=0;He<64;++He)$e=Se[He]*je[He],n[He]=$e>0?$e+.5|0:$e-.5|0;return n})(O,U),ge=0;ge<64;++ge)l[I[ge]]=ue[ge];var Ce=l[0]-X;X=l[0],Ce==0?ne(re[0]):(ne(re[p[L=32767+Ce]]),ne(m[L]));for(var Ie=63;Ie>0&&l[Ie]==0;)Ie--;if(Ie==0)return ne(K),X;for(var me,te=1;te<=Ie;){for(var dt=te;l[te]==0&&te<=Ie;)++te;var ot=te-dt;if(ot>=16){me=ot>>4;for(var We=1;We<=me;++We)ne($);ot&=15}L=32767+l[te],ne(H[(ot<<4)+p[L]]),ne(m[L]),te++}return Ie!=63&&ne(K),X}function ae(O){O=Math.min(Math.max(O,1),100),g!=O&&((function(U){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var H=_((X[re]*U+50)/100);H=Math.min(Math.max(H,1),255),o[I[re]]=H}for(var L=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],K=0;K<64;K++){var $=_((L[K]*U+50)/100);$=Math.min(Math.max($,1),255),s[I[K]]=$}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,Ce=0;Ce<8;Ce++)for(var Ie=0;Ie<8;Ie++)d[ge]=1/(o[I[ge]]*ue[Ce]*ue[Ie]*8),f[ge]=1/(s[I[ge]]*ue[Ce]*ue[Ie]*8),ge++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),g=O)}this.encode=function(O,U){U&&ae(U),i=new Array,u=0,a=7,Y(65496),Y(65504),Y(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),Y(1),Y(1),ie(0),ie(0),(function(){Y(65499),Y(132),ie(0);for(var st=0;st<64;st++)ie(o[st]);ie(1);for(var Ue=0;Ue<64;Ue++)ie(s[Ue])})(),(function(st,Ue){Y(65472),Y(17),ie(8),Y(Ue),Y(st),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(O.width,O.height),(function(){Y(65476),Y(418),ie(0);for(var st=0;st<16;st++)ie(C[st+1]);for(var Ue=0;Ue<=11;Ue++)ie(D[Ue]);ie(16);for(var yt=0;yt<16;yt++)ie(P[yt+1]);for(var et=0;et<=161;et++)ie(A[et]);ie(1);for(var tt=0;tt<16;tt++)ie(R[tt+1]);for(var Dt=0;Dt<=11;Dt++)ie(z[Dt]);ie(17);for(var at=0;at<16;at++)ie(B[at+1]);for(var He=0;He<=161;He++)ie(N[He])})(),Y(65498),Y(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var X=0,re=0,H=0;u=0,a=7,this.encode.displayName="_encode_";for(var L,K,$,ue,ge,Ce,Ie,me,te,dt=O.data,ot=O.width,We=O.height,Se=4*ot,je=0;je<We;){for(L=0;L<Se;){for(ge=Se*je+L,Ie=-1,me=0,te=0;te<64;te++)Ce=ge+(me=te>>3)*Se+(Ie=4*(7&te)),je+me>=We&&(Ce-=Se*(je+1+me-We)),L+Ie>=Se&&(Ce-=L+Ie-Se+4),K=dt[Ce++],$=dt[Ce++],ue=dt[Ce++],y[te]=(k[K]+k[$+256|0]+k[ue+512|0]>>16)-128,v[te]=(k[K+768|0]+k[$+1024|0]+k[ue+1280|0]>>16)-128,w[te]=(k[K+1280|0]+k[$+1536|0]+k[ue+1792|0]>>16)-128;X=oe(y,d,X,e,r),re=oe(v,f,re,t,h),H=oe(w,f,H,t,h),L+=32}je+=8}if(a>=0){var De=[];De[1]=a+1,De[0]=(1<<a+1)-1,ne(De)}return Y(65497),new Uint8Array(i)},c=c||50,(function(){for(var O=String.fromCharCode,U=0;U<256;U++)T[U]=O(U)})(),e=Z(C,D),t=Z(R,z),r=Z(P,A),h=Z(B,N),(function(){for(var O=1,U=2,X=1;X<=15;X++){for(var re=O;re<U;re++)p[32767+re]=X,m[32767+re]=[],m[32767+re][1]=X,m[32767+re][0]=re;for(var H=-(U-1);H<=-O;H++)p[32767+H]=X,m[32767+H]=[],m[32767+H][1]=X,m[32767+H][0]=U-1+H;O<<=1,U<<=1}})(),(function(){for(var O=0;O<256;O++)k[O]=19595*O,k[O+256|0]=38470*O,k[O+512|0]=7471*O+32768,k[O+768|0]=-11059*O,k[O+1024|0]=-21709*O,k[O+1280|0]=32768*O+8421375,k[O+1536|0]=-27439*O,k[O+1792|0]=-5329*O})(),ae(c)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vr(c,e){if(this.pos=0,this.buffer=c,this.datav=new DataView(c.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ed(c){function e(D){if(!D)throw Error("assert :P")}function t(D,P,A){for(var R=0;4>R;R++)if(D[P+R]!=A.charCodeAt(R))return!0;return!1}function r(D,P,A,R,z){for(var B=0;B<z;B++)D[P+B]=A[R+B]}function h(D,P,A,R){for(var z=0;z<R;z++)D[P+z]=A}function g(D){return new Int32Array(D)}function _(D,P){for(var A=[],R=0;R<D;R++)A.push(new P);return A}function o(D,P){var A=[];return(function R(z,B,N){for(var Z=N[B],ne=0;ne<Z&&(z.push(N.length>B+1?[]:new P),!(N.length<B+1));ne++)R(z[ne],B+1,N)})(A,0,D),A}var s=function(){var D=this;function P(b,S){for(var E=1<<S-1>>>0;b&E;)E>>>=1;return E?(b&E-1)+E:b}function A(b,S,E,M,F){e(!(M%E));do b[S+(M-=E)]=F;while(0<M)}function R(b,S,E,M,F){if(e(2328>=F),512>=F)var V=g(512);else if((V=g(F))==null)return 0;return(function(W,G,q,J,le,fe){var Q,ce,he=G,ye=1<<q,pe=g(16),ve=g(16);for(e(le!=0),e(J!=null),e(W!=null),e(0<q),ce=0;ce<le;++ce){if(15<J[ce])return 0;++pe[J[ce]]}if(pe[0]==le)return 0;for(ve[1]=0,Q=1;15>Q;++Q){if(pe[Q]>1<<Q)return 0;ve[Q+1]=ve[Q]+pe[Q]}for(ce=0;ce<le;++ce)Q=J[ce],0<J[ce]&&(fe[ve[Q]++]=ce);if(ve[15]==1)return(J=new z).g=0,J.value=fe[0],A(W,he,1,ye,J),ye;var be,ke=-1,Te=ye-1,Ne=0,Ae=1,ut=1,Me=1<<q;for(ce=0,Q=1,le=2;Q<=q;++Q,le<<=1){if(Ae+=ut<<=1,0>(ut-=pe[Q]))return 0;for(;0<pe[Q];--pe[Q])(J=new z).g=Q,J.value=fe[ce++],A(W,he+Ne,le,Me,J),Ne=P(Ne,Q)}for(Q=q+1,le=2;15>=Q;++Q,le<<=1){if(Ae+=ut<<=1,0>(ut-=pe[Q]))return 0;for(;0<pe[Q];--pe[Q]){if(J=new z,(Ne&Te)!=ke){for(he+=Me,be=1<<(ke=Q)-q;15>ke&&!(0>=(be-=pe[ke]));)++ke,be<<=1;ye+=Me=1<<(be=ke-q),W[G+(ke=Ne&Te)].g=be+q,W[G+ke].value=he-G-ke}J.g=Q-q,J.value=fe[ce++],A(W,he+(Ne>>q),le,Me,J),Ne=P(Ne,Q)}}return Ae!=2*ve[15]-1?0:ye})(b,S,E,M,F,V)}function z(){this.value=this.g=0}function B(){this.value=this.g=0}function N(){this.G=_(5,z),this.H=g(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=_(Dr,B)}function Z(b,S,E,M){e(b!=null),e(S!=null),e(2147483648>M),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=E,b.Jd=S,b.Yc=E+M,b.Zc=4<=M?E+M-4+1:E,K(b)}function ne(b,S){for(var E=0;0<S--;)E|=ue(b,128)<<S;return E}function ie(b,S){var E=ne(b,S);return $(b)?-E:E}function Y(b,S,E,M){var F,V=0;for(e(b!=null),e(S!=null),e(4294967288>M),b.Sb=M,b.Ra=0,b.u=0,b.h=0,4<M&&(M=4),F=0;F<M;++F)V+=S[E+F]<<8*F;b.Ra=V,b.bb=M,b.oa=S,b.pa=E}function oe(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<di-8>>>0,++b.bb,b.u-=8;re(b)&&(b.h=1,b.u=0)}function ae(b,S){if(e(0<=S),!b.h&&S<=qo){var E=X(b)&ci[S];return b.u+=S,oe(b),E}return b.h=1,b.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(b){return b.Ra>>>(b.u&di-1)>>>0}function re(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>di}function H(b,S){b.u=S,b.h=re(b)}function L(b){b.u>=Jt&&(e(b.u>=Jt),oe(b))}function K(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function $(b){return ne(b,1)}function ue(b,S){var E=b.Ca;0>b.b&&K(b);var M=b.b,F=E*S>>>8,V=(b.I>>>M>F)+0;for(V?(E-=F,b.I-=F+1<<M>>>0):E=F+1,M=E,F=0;256<=M;)F+=8,M>>=8;return M=7^F+Wa[M],b.b-=M,b.Ca=(E<<M)-1,V}function ge(b,S,E){b[S+0]=E>>24&255,b[S+1]=E>>16&255,b[S+2]=E>>8&255,b[S+3]=255&E}function Ce(b,S){return b[S+0]|b[S+1]<<8}function Ie(b,S){return Ce(b,S)|b[S+2]<<16}function me(b,S){return Ce(b,S)|Ce(b,S+2)<<16}function te(b,S){var E=1<<S;return e(b!=null),e(0<S),b.X=g(E),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function dt(b,S){e(b!=null),e(S!=null),e(b.Xa==S.Xa),r(S.X,0,b.X,0,1<<S.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function We(b,S,E,M){e(E!=null),e(M!=null);var F=E[0],V=M[0];return F==0&&(F=(b*V+S/2)/S),V==0&&(V=(S*F+b/2)/b),0>=F||0>=V?0:(E[0]=F,M[0]=V,1)}function Se(b,S){return b+(1<<S)-1>>>S}function je(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function De(b,S){D[S]=function(E,M,F,V,W,G,q){var J;for(J=0;J<W;++J){var le=D[b](G[q+J-1],F,V+J);G[q+J]=je(E[M+J],le)}}}function st(){this.ud=this.hd=this.jd=0}function Ue(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function yt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function et(b,S){return yt(b+(b-S+.5>>1))}function tt(b,S,E){return Math.abs(S-E)-Math.abs(b-E)}function Dt(b,S,E,M,F,V,W){for(M=V[W-1],E=0;E<F;++E)V[W+E]=M=je(b[S+E],M)}function at(b,S,E,M,F){var V;for(V=0;V<E;++V){var W=b[S+V],G=W>>8&255,q=16711935&(q=(q=16711935&W)+((G<<16)+G));M[F+V]=(4278255360&W)+q>>>0}}function He(b,S){S.jd=255&b,S.hd=b>>8&255,S.ud=b>>16&255}function $e(b,S,E,M,F,V){var W;for(W=0;W<M;++W){var G=S[E+W],q=G>>>8,J=G,le=255&(le=(le=G>>>16)+((b.jd<<24>>24)*(q<<24>>24)>>>5));J=255&(J=(J+=(b.hd<<24>>24)*(q<<24>>24)>>>5)+((b.ud<<24>>24)*(le<<24>>24)>>>5)),F[V+W]=(4278255360&G)+(le<<16)+J}}function Ve(b,S,E,M,F){D[S]=function(V,W,G,q,J,le,fe,Q,ce){for(q=fe;q<Q;++q)for(fe=0;fe<ce;++fe)J[le++]=F(G[M(V[W++])])},D[b]=function(V,W,G,q,J,le,fe){var Q=8>>V.b,ce=V.Ea,he=V.K[0],ye=V.w;if(8>Q)for(V=(1<<V.b)-1,ye=(1<<Q)-1;W<G;++W){var pe,ve=0;for(pe=0;pe<ce;++pe)pe&V||(ve=M(q[J++])),le[fe++]=F(he[ve&ye]),ve>>=Q}else D["VP8LMapColor"+E](q,J,he,ye,le,fe,W,G,ce)}}function Nt(b,S,E,M,F){for(E=S+E;S<E;){var V=b[S++];M[F++]=V>>16&255,M[F++]=V>>8&255,M[F++]=255&V}}function vt(b,S,E,M,F){for(E=S+E;S<E;){var V=b[S++];M[F++]=V>>16&255,M[F++]=V>>8&255,M[F++]=255&V,M[F++]=V>>24&255}}function Oe(b,S,E,M,F){for(E=S+E;S<E;){var V=(W=b[S++])>>16&240|W>>12&15,W=240&W|W>>28&15;M[F++]=V,M[F++]=W}}function nt(b,S,E,M,F){for(E=S+E;S<E;){var V=(W=b[S++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;M[F++]=V,M[F++]=W}}function Pt(b,S,E,M,F){for(E=S+E;S<E;){var V=b[S++];M[F++]=255&V,M[F++]=V>>8&255,M[F++]=V>>16&255}}function ze(b,S,E,M,F,V){if(V==0)for(E=S+E;S<E;)ge(M,((V=b[S++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),F+=32;else r(M,F,b,S,E)}function ht(b,S){D[S][0]=D[b+"0"],D[S][1]=D[b+"1"],D[S][2]=D[b+"2"],D[S][3]=D[b+"3"],D[S][4]=D[b+"4"],D[S][5]=D[b+"5"],D[S][6]=D[b+"6"],D[S][7]=D[b+"7"],D[S][8]=D[b+"8"],D[S][9]=D[b+"9"],D[S][10]=D[b+"10"],D[S][11]=D[b+"11"],D[S][12]=D[b+"12"],D[S][13]=D[b+"13"],D[S][14]=D[b+"0"],D[S][15]=D[b+"0"]}function rt(b){return b==Ga||b==qa||b==Ls||b==$a}function Zt(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zt,this.f.kb=new hn,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Si(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function xn(b,S){var E=b.T,M=S.ba.f.RGBA,F=M.eb,V=M.fb+b.ka*M.A,W=sr[S.ba.S],G=b.y,q=b.O,J=b.f,le=b.N,fe=b.ea,Q=b.W,ce=S.cc,he=S.dc,ye=S.Mc,pe=S.Nc,ve=b.ka,be=b.ka+b.T,ke=b.U,Te=ke+1>>1;for(ve==0?W(G,q,null,null,J,le,fe,Q,J,le,fe,Q,F,V,null,null,ke):(W(S.ec,S.fc,G,q,ce,he,ye,pe,J,le,fe,Q,F,V-M.A,F,V,ke),++E);ve+2<be;ve+=2)ce=J,he=le,ye=fe,pe=Q,le+=b.Rc,Q+=b.Rc,V+=2*M.A,W(G,(q+=2*b.fa)-b.fa,G,q,ce,he,ye,pe,J,le,fe,Q,F,V-M.A,F,V,ke);return q+=b.fa,b.j+be<b.o?(r(S.ec,S.fc,G,q,ke),r(S.cc,S.dc,J,le,Te),r(S.Mc,S.Nc,fe,Q,Te),E--):1&be||W(G,q,null,null,J,le,fe,Q,J,le,fe,Q,F,V+M.A,null,null,ke),E}function Br(b,S,E){var M=b.F,F=[b.J];if(M!=null){var V=b.U,W=S.ba.S,G=W==Ms||W==Ls;S=S.ba.f.RGBA;var q=[0],J=b.ka;q[0]=b.T,b.Kb&&(J==0?--q[0]:(--J,F[0]-=b.width),b.j+b.ka+b.T==b.o&&(q[0]=b.o-b.j-J));var le=S.eb;J=S.fb+J*S.A,b=Cu(M,F[0],b.width,V,q,le,J+(G?0:3),S.A),e(E==q),b&&rt(W)&&Xo(le,J,G,V,q,S.A)}return 0}function kr(b){var S=b.ma,E=S.ba.S,M=11>E,F=E==Es||E==Ps||E==Ms||E==Ka||E==12||rt(E);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Bn(S.Oa,b,F?11:12))return 0;if(F&&rt(E)&&Wo(),b.da)alert("todo:use_scaling");else{if(M){if(S.Ib=Si,b.Kb){if(E=b.U+1>>1,S.memory=g(b.U+2*E),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+E,S.Ib=xn,Wo()}}else alert("todo:EmitYUV");F&&(S.Jb=Br,M&&Ni())}if(M&&!Vu){for(b=0;256>b;++b)rf[b]=89858*(b-128)+Os>>Rs,af[b]=-22014*(b-128)+Os,sf[b]=-45773*(b-128),of[b]=113618*(b-128)+Os>>Rs;for(b=Qo;b<Xa;++b)S=76283*(b-16)+Os>>Rs,lf[b-Qo]=fn(S,255),uf[b-Qo]=fn(S+8>>4,15);Vu=1}return 1}function Ke(b){var S=b.ma,E=b.U,M=b.T;return e(!(1&b.ka)),0>=E||0>=M?0:(E=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,E),S.Dc+=E,1)}function jr(b){b.ma.memory=null}function Hr(b,S,E,M){return ae(b,8)!=47?0:(S[0]=ae(b,14)+1,E[0]=ae(b,14)+1,M[0]=ae(b,1),ae(b,3)!=0?0:!b.h)}function er(b,S){if(4>b)return b+1;var E=b-2>>1;return(2+(1&b)<<E)+ae(S,E)+1}function tr(b,S){return 120<S?S-120:1<=(E=((E=Wp[S-1])>>4)*b+(8-(15&E)))?E:1;var E}function Gt(b,S,E){var M=X(E),F=b[S+=255&M].g-8;return 0<F&&(H(E,E.u+8),M=X(E),S+=b[S].value,S+=M&(1<<F)-1),H(E,E.u+b[S].g),b[S].value}function _n(b,S,E){return E.g+=b.g,E.value+=b.value<<S>>>0,e(8>=E.g),b.g}function wn(b,S,E){var M=b.xc;return e((S=M==0?0:b.vc[b.md*(E>>M)+(S>>M)])<b.Wb),b.Ya[S]}function Ci(b,S,E,M){var F=b.ab,V=b.c*S,W=b.C;S=W+S;var G=E,q=M;for(M=b.Ta,E=b.Ua;0<F--;){var J=b.gc[F],le=W,fe=S,Q=G,ce=q,he=(q=M,G=E,J.Ea);switch(e(le<fe),e(fe<=J.nc),J.hc){case 2:lo(Q,ce,(fe-le)*he,q,G);break;case 0:var ye=le,pe=fe,ve=q,be=G,ke=(Me=J).Ea;ye==0&&(Ar(Q,ce,null,null,1,ve,be),Dt(Q,ce+1,0,0,ke-1,ve,be+1),ce+=ke,be+=ke,++ye);for(var Te=1<<Me.b,Ne=Te-1,Ae=Se(ke,Me.b),ut=Me.K,Me=Me.w+(ye>>Me.b)*Ae;ye<pe;){var pt=ut,gn=Me,ct=1;for(Er(Q,ce,ve,be-ke,1,ve,be);ct<ke;){var Le=(ct&~Ne)+Te;Le>ke&&(Le=ke),(0,ji[pt[gn++]>>8&15])(Q,ce+ +ct,ve,be+ct-ke,Le-ct,ve,be+ct),ct=Le}ce+=ke,be+=ke,++ye&Ne||(Me+=Ae)}fe!=J.nc&&r(q,G-he,q,G+(fe-le-1)*he,he);break;case 1:for(he=Q,pe=ce,ke=(Q=J.Ea)-(be=Q&~(ve=(ce=1<<J.b)-1)),ye=Se(Q,J.b),Te=J.K,J=J.w+(le>>J.b)*ye;le<fe;){for(Ne=Te,Ae=J,ut=new st,Me=pe+be,pt=pe+Q;pe<Me;)He(Ne[Ae++],ut),qr(ut,he,pe,ce,q,G),pe+=ce,G+=ce;pe<pt&&(He(Ne[Ae++],ut),qr(ut,he,pe,ke,q,G),pe+=ke,G+=ke),++le&ve||(J+=ye)}break;case 3:if(Q==q&&ce==G&&0<J.b){for(pe=q,Q=he=G+(fe-le)*he-(be=(fe-le)*Se(J.Ea,J.b)),ce=q,ve=G,ye=[],be=(ke=be)-1;0<=be;--be)ye[be]=ce[ve+be];for(be=ke-1;0<=be;--be)pe[Q+be]=ye[be];$o(J,le,fe,q,he,q,G)}else $o(J,le,fe,Q,ce,q,G)}G=M,q=E}q!=E&&r(M,E,G,q,V)}function ii(b,S){var E=b.V,M=b.Ba+b.c*b.C,F=S-b.C;if(e(S<=b.l.o),e(16>=F),0<F){var V=b.l,W=b.Ta,G=b.Ua,q=V.width;if(Ci(b,F,E,M),F=G=[G],e((E=b.C)<(M=S)),e(V.v<V.va),M>V.o&&(M=V.o),E<V.j){var J=V.j-E;E=V.j,F[0]+=J*q}if(E>=M?E=0:(F[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=M-E,E=1),E){if(G=G[0],11>(E=b.ca).S){var le=E.f.RGBA,fe=(M=E.S,F=V.U,V=V.T,J=le.eb,le.A),Q=V;for(le=le.fb+b.Ma*le.A;0<Q--;){var ce=W,he=G,ye=F,pe=J,ve=le;switch(M){case As:Yo(ce,he,ye,pe,ve);break;case Es:Kn(ce,he,ye,pe,ve);break;case Ga:Kn(ce,he,ye,pe,ve),Xo(pe,ve,0,ye,1,0);break;case Mu:Bt(ce,he,ye,pe,ve);break;case Ps:ze(ce,he,ye,pe,ve,1);break;case qa:ze(ce,he,ye,pe,ve,1),Xo(pe,ve,0,ye,1,0);break;case Ms:ze(ce,he,ye,pe,ve,0);break;case Ls:ze(ce,he,ye,pe,ve,0),Xo(pe,ve,1,ye,1,0);break;case Ka:Pr(ce,he,ye,pe,ve);break;case $a:Pr(ce,he,ye,pe,ve),Su(pe,ve,ye,1,0);break;case Lu:Ft(ce,he,ye,pe,ve);break;default:e(0)}G+=q,le+=fe}b.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=E.height)}}b.C=S,e(b.C<=b.i)}function cr(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var E=b.Ya[S].G,M=b.Ya[S].H;if(0<E[1][M[1]+0].g||0<E[2][M[2]+0].g||0<E[3][M[3]+0].g)return 0}return 1}function Sr(b,S,E,M,F,V){if(b.Z!=0){var W=b.qd,G=b.rd;for(e(pi[b.Z]!=null);S<E;++S)pi[b.Z](W,G,M,F,M,F,V),W=M,G=F,F+=V;b.qd=W,b.rd=G}}function dr(b,S){var E=b.l.ma,M=E.Z==0||E.Z==1?b.l.j:b.C;if(M=b.C<M?M:b.C,e(S<=b.l.o),S>M){var F=b.l.width,V=E.ca,W=E.tb+F*M,G=b.V,q=b.Ba+b.c*M,J=b.gc;e(b.ab==1),e(J[0].hc==3),co(J[0],M,S,G,q,V,W),Sr(E,M,S,V,W,F)}b.C=b.Ma=S}function hr(b,S,E,M,F,V,W){var G=b.$/M,q=b.$%M,J=b.m,le=b.s,fe=E+b.$,Q=fe;F=E+M*F;var ce=E+M*V,he=280+le.ua,ye=b.Pb?G:16777216,pe=0<le.ua?le.Wa:null,ve=le.wc,be=fe<ce?wn(le,q,G):null;e(b.C<V),e(ce<=F);var ke=!1;e:for(;;){for(;ke||fe<ce;){var Te=0;if(G>=ye){var Ne=fe-E;e((ye=b).Pb),ye.wd=ye.m,ye.xd=Ne,0<ye.s.ua&&dt(ye.s.Wa,ye.s.vb),ye=G+Kp}if(q&ve||(be=wn(le,q,G)),e(be!=null),be.Qb&&(S[fe]=be.qb,ke=!0),!ke)if(L(J),be.jc){Te=J,Ne=S;var Ae=fe,ut=be.pd[X(Te)&Dr-1];e(be.jc),256>ut.g?(H(Te,Te.u+ut.g),Ne[Ae]=ut.value,Te=0):(H(Te,Te.u+ut.g-256),e(256<=ut.value),Te=ut.value),Te==0&&(ke=!0)}else Te=Gt(be.G[0],be.H[0],J);if(J.h)break;if(ke||256>Te){if(!ke)if(be.nd)S[fe]=(be.qb|Te<<8)>>>0;else{if(L(J),ke=Gt(be.G[1],be.H[1],J),L(J),Ne=Gt(be.G[2],be.H[2],J),Ae=Gt(be.G[3],be.H[3],J),J.h)break;S[fe]=(Ae<<24|ke<<16|Te<<8|Ne)>>>0}if(ke=!1,++fe,++q>=M&&(q=0,++G,W!=null&&G<=V&&!(G%16)&&W(b,G),pe!=null))for(;Q<fe;)Te=S[Q++],pe.X[(506832829*Te&4294967295)>>>pe.Mb]=Te}else if(280>Te){if(Te=er(Te-256,J),Ne=Gt(be.G[4],be.H[4],J),L(J),Ne=tr(M,Ne=er(Ne,J)),J.h)break;if(fe-E<Ne||F-fe<Te)break e;for(Ae=0;Ae<Te;++Ae)S[fe+Ae]=S[fe+Ae-Ne];for(fe+=Te,q+=Te;q>=M;)q-=M,++G,W!=null&&G<=V&&!(G%16)&&W(b,G);if(e(fe<=F),q&ve&&(be=wn(le,q,G)),pe!=null)for(;Q<fe;)Te=S[Q++],pe.X[(506832829*Te&4294967295)>>>pe.Mb]=Te}else{if(!(Te<he))break e;for(ke=Te-280,e(pe!=null);Q<fe;)Te=S[Q++],pe.X[(506832829*Te&4294967295)>>>pe.Mb]=Te;Te=fe,e(!(ke>>>(Ne=pe).Xa)),S[Te]=Ne.X[ke],ke=!0}ke||e(J.h==re(J))}if(b.Pb&&J.h&&fe<F)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&dt(b.s.vb,b.s.Wa);else{if(J.h)break e;W!=null&&W(b,G>V?V:G),b.a=0,b.$=fe-E}return 1}return b.a=3,0}function nr(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,e(b!=null)}function Ii(){var b=new Kt;return b==null?null:(b.a=0,b.xb=Nu,ht("Predictor","VP8LPredictors"),ht("Predictor","VP8LPredictors_C"),ht("PredictorAdd","VP8LPredictorsAdd"),ht("PredictorAdd","VP8LPredictorsAdd_C"),lo=at,qr=$e,Yo=Nt,Kn=vt,Pr=Oe,Ft=nt,Bt=Pt,D.VP8LMapColor32b=uo,D.VP8LMapColor8b=Bi,b)}function Cr(b,S,E,M,F){var V=1,W=[b],G=[S],q=M.m,J=M.s,le=null,fe=0;e:for(;;){if(E)for(;V&&ae(q,1);){var Q=W,ce=G,he=M,ye=1,pe=he.m,ve=he.gc[he.ab],be=ae(pe,2);if(he.Oc&1<<be)V=0;else{switch(he.Oc|=1<<be,ve.hc=be,ve.Ea=Q[0],ve.nc=ce[0],ve.K=[null],++he.ab,e(4>=he.ab),be){case 0:case 1:ve.b=ae(pe,3)+2,ye=Cr(Se(ve.Ea,ve.b),Se(ve.nc,ve.b),0,he,ve.K),ve.K=ve.K[0];break;case 3:var ke,Te=ae(pe,8)+1,Ne=16<Te?0:4<Te?1:2<Te?2:3;if(Q[0]=Se(ve.Ea,Ne),ve.b=Ne,ke=ye=Cr(Te,1,0,he,ve.K)){var Ae,ut=Te,Me=ve,pt=1<<(8>>Me.b),gn=g(pt);if(gn==null)ke=0;else{var ct=Me.K[0],Le=Me.w;for(gn[0]=Me.K[0][0],Ae=1;Ae<1*ut;++Ae)gn[Ae]=je(ct[Le+Ae],gn[Ae-1]);for(;Ae<4*pt;++Ae)gn[Ae]=0;Me.K[0]=null,Me.K[0]=gn,ke=1}}ye=ke;break;case 2:break;default:e(0)}V=ye}}if(W=W[0],G=G[0],V&&ae(q,1)&&!(V=1<=(fe=ae(q,4))&&11>=fe)){M.a=3;break e}var xe;if(xe=V)t:{var tn,it,gt,Vt=M,Sn=W,Rn=G,qt=fe,Dn=E,On=Vt.m,mn=Vt.s,mt=[null],kt=1,$t=0,St=zp[qt];n:for(;;){if(Dn&&ae(On,1)){var Cn=ae(On,3)+2,mr=Se(Sn,Cn),nn=Se(Rn,Cn),Hn=mr*nn;if(!Cr(mr,nn,0,Vt,mt))break n;for(mt=mt[0],mn.xc=Cn,tn=0;tn<Hn;++tn){var Lt=mt[tn]>>8&65535;mt[tn]=Lt,Lt>=kt&&(kt=Lt+1)}}if(On.h)break n;for(it=0;5>it;++it){var yn=Ru[it];!it&&0<qt&&(yn+=1<<qt),$t<yn&&($t=yn)}var qn=_(kt*St,z),Nn=kt,$n=_(Nn,N);if($n==null)var Yn=null;else e(65536>=Nn),Yn=$n;var Vn=g($t);if(Yn==null||Vn==null||qn==null){Vt.a=1;break n}var Zn=qn;for(tn=gt=0;tn<kt;++tn){var jt=Yn[tn],Xn=jt.G,yr=jt.H,Hi=0,Zr=1,In=0;for(it=0;5>it;++it){yn=Ru[it],Xn[it]=Zn,yr[it]=gt,!it&&0<qt&&(yn+=1<<qt);i:{var Fs,Ja=yn,Bs=Vt,es=Vn,hf=Zn,pf=gt,Qa=0,fi=Bs.m,ff=ae(fi,1);if(h(es,0,0,Ja),ff){var gf=ae(fi,1)+1,mf=ae(fi,1),zu=ae(fi,mf==0?1:8);es[zu]=1,gf==2&&(es[zu=ae(fi,8)]=1);var js=1}else{var Ku=g(19),Gu=ae(fi,4)+4;if(19<Gu){Bs.a=3;var Hs=0;break i}for(Fs=0;Fs<Gu;++Fs)Ku[Up[Fs]]=ae(fi,3);var el=void 0,ts=void 0,qu=Bs,yf=Ku,Vs=Ja,$u=es,tl=0,gi=qu.m,Yu=8,Zu=_(128,z);r:for(;R(Zu,0,7,yf,19);){if(ae(gi,1)){var vf=2+2*ae(gi,3);if((el=2+ae(gi,vf))>Vs)break r}else el=Vs;for(ts=0;ts<Vs&&el--;){L(gi);var Xu=Zu[0+(127&X(gi))];H(gi,gi.u+Xu.g);var po=Xu.value;if(16>po)$u[ts++]=po,po!=0&&(Yu=po);else{var _f=po==16,Ju=po-16,bf=Hp[Ju],Qu=ae(gi,jp[Ju])+bf;if(ts+Qu>Vs)break r;for(var Tf=_f?Yu:0;0<Qu--;)$u[ts++]=Tf}}tl=1;break r}tl||(qu.a=3),js=tl}(js=js&&!fi.h)&&(Qa=R(hf,pf,8,es,Ja)),js&&Qa!=0?Hs=Qa:(Bs.a=3,Hs=0)}if(Hs==0)break n;if(Zr&&Vp[it]==1&&(Zr=Zn[gt].g==0),Hi+=Zn[gt].g,gt+=Hs,3>=it){var ns,nl=Vn[0];for(ns=1;ns<yn;++ns)Vn[ns]>nl&&(nl=Vn[ns]);In+=nl}}if(jt.nd=Zr,jt.Qb=0,Zr&&(jt.qb=(Xn[3][yr[3]+0].value<<24|Xn[1][yr[1]+0].value<<16|Xn[2][yr[2]+0].value)>>>0,Hi==0&&256>Xn[0][yr[0]+0].value&&(jt.Qb=1,jt.qb+=Xn[0][yr[0]+0].value<<8)),jt.jc=!jt.Qb&&6>In,jt.jc){var Us,Xr=jt;for(Us=0;Us<Dr;++Us){var mi=Us,yi=Xr.pd[mi],Ws=Xr.G[0][Xr.H[0]+mi];256<=Ws.value?(yi.g=Ws.g+256,yi.value=Ws.value):(yi.g=0,yi.value=0,mi>>=_n(Ws,8,yi),mi>>=_n(Xr.G[1][Xr.H[1]+mi],16,yi),mi>>=_n(Xr.G[2][Xr.H[2]+mi],0,yi),_n(Xr.G[3][Xr.H[3]+mi],24,yi))}}}mn.vc=mt,mn.Wb=kt,mn.Ya=Yn,mn.yc=qn,xe=1;break t}xe=0}if(!(V=xe)){M.a=3;break e}if(0<fe){if(J.ua=1<<fe,!te(J.Wa,fe)){M.a=1,V=0;break e}}else J.ua=0;var rl=M,ec=W,wf=G,il=rl.s,ol=il.xc;if(rl.c=ec,rl.i=wf,il.md=Se(ec,ol),il.wc=ol==0?-1:(1<<ol)-1,E){M.xb=Jp;break e}if((le=g(W*G))==null){M.a=1,V=0;break e}V=(V=hr(M,le,0,W,G,G,null))&&!q.h;break e}return V?(F!=null?F[0]=le:(e(le==null),e(E)),M.$=0,E||nr(J)):nr(J),V}function xi(b,S){var E=b.c*b.i,M=E+S+16*S;return e(b.c<=S),b.V=g(M),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+E+S,1)}function Zi(b,S){var E=b.C,M=S-E,F=b.V,V=b.Ba+b.c*E;for(e(S<=b.l.o);0<M;){var W=16<M?16:M,G=b.l.ma,q=b.l.width,J=q*W,le=G.ca,fe=G.tb+q*E,Q=b.Ta,ce=b.Ua;Ci(b,W,F,V),Iu(Q,ce,le,fe,J),Sr(G,E,E+W,le,fe,q),M-=W,F+=W*b.c,E+=W}e(E==S),b.C=b.Ma=S}function Xi(){this.ub=this.yd=this.td=this.Rb=0}function Ji(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ia(){this.Fb=this.Bb=this.Cb=0,this.Zb=g(4),this.Lb=g(4)}function Ao(){this.Yb=(function(){var b=[];return(function S(E,M,F){for(var V=F[M],W=0;W<V&&(E.push(F.length>M+1?[]:0),!(F.length<M+1));W++)S(E[W],M+1,F)})(b,0,[3,11]),b})()}function gs(){this.jb=g(3),this.Wc=o([4,8],Ao),this.Xc=o([4,17],Ao)}function ms(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new g(4),this.od=new g(4)}function rr(){this.ld=this.La=this.dd=this.tc=0}function Eo(){this.Na=this.la=0}function ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Po(){this.ad=g(384),this.Za=0,this.Ob=g(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vs(){this.uc=this.M=this.Nb=0,this.wa=Array(new rr),this.Y=0,this.ya=Array(new Po),this.aa=0,this.l=new Qi}function _s(){this.y=g(16),this.f=g(8),this.ea=g(8)}function bs(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Xi,this.Kc=new Ji,this.ed=new ms,this.Qa=new Ia,this.Ic=this.$c=this.Aa=0,this.D=new vs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=_(8,O),this.ia=0,this.pb=_(4,ys),this.Pa=new gs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _s),this.Hd=0,this.rb=Array(new Eo),this.sb=0,this.wa=Array(new rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Po),this.L=this.aa=0,this.gd=o([4,2],rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xa(){var b=new bs;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Jo||(Jo=Vr)),b}function un(b,S,E){return b.a==0&&(b.a=S,b.sc=E,b.cb=0),0}function Ts(b,S,E){return 3<=E&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function ws(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return un(b,2,"null VP8Io passed to VP8GetHeaders()");var E=S.data,M=S.w,F=S.ha;if(4>F)return un(b,7,"Truncated header.");var V=E[M+0]|E[M+1]<<8|E[M+2]<<16,W=b.Od;if(W.Rb=!(1&V),W.td=V>>1&7,W.yd=V>>4&1,W.ub=V>>5,3<W.td)return un(b,3,"Incorrect keyframe parameters.");if(!W.yd)return un(b,4,"Frame not displayable.");M+=3,F-=3;var G=b.Kc;if(W.Rb){if(7>F)return un(b,7,"cannot parse picture header");if(!Ts(E,M,F))return un(b,3,"Bad code word");G.c=16383&(E[M+4]<<8|E[M+3]),G.Td=E[M+4]>>6,G.i=16383&(E[M+6]<<8|E[M+5]),G.Ud=E[M+6]>>6,M+=7,F-=7,b.za=G.c+15>>4,b.Ub=G.i+15>>4,S.width=G.c,S.height=G.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,h((V=b.Pa).jb,0,255,V.jb.length),e((V=b.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,h(V.Zb,0,0,V.Zb.length),h(V.Lb,0,0,V.Lb)}if(W.ub>F)return un(b,7,"bad partition length");Z(V=b.m,E,M,W.ub),M+=W.ub,F-=W.ub,W.Rb&&(G.Ld=$(V),G.Kd=$(V)),G=b.Qa;var q,J=b.Pa;if(e(V!=null),e(G!=null),G.Cb=$(V),G.Cb){if(G.Bb=$(V),$(V)){for(G.Fb=$(V),q=0;4>q;++q)G.Zb[q]=$(V)?ie(V,7):0;for(q=0;4>q;++q)G.Lb[q]=$(V)?ie(V,6):0}if(G.Bb)for(q=0;3>q;++q)J.jb[q]=$(V)?ne(V,8):255}else G.Bb=0;if(V.Ka)return un(b,3,"cannot parse segment header");if((G=b.ed).zd=$(V),G.Tb=ne(V,6),G.wb=ne(V,3),G.Pc=$(V),G.Pc&&$(V)){for(J=0;4>J;++J)$(V)&&(G.vd[J]=ie(V,6));for(J=0;4>J;++J)$(V)&&(G.od[J]=ie(V,6))}if(b.L=G.Tb==0?0:G.zd?1:2,V.Ka)return un(b,3,"cannot parse filter header");var le=F;if(F=q=M,M=q+le,G=le,b.Xb=(1<<ne(b.m,2))-1,le<3*(J=b.Xb))E=7;else{for(q+=3*J,G-=3*J,le=0;le<J;++le){var fe=E[F+0]|E[F+1]<<8|E[F+2]<<16;fe>G&&(fe=G),Z(b.Jc[+le],E,q,fe),q+=fe,G-=fe,F+=3}Z(b.Jc[+J],E,q,G),E=q<M?0:5}if(E!=0)return un(b,E,"cannot parse partitions");for(E=ne(q=b.m,7),F=$(q)?ie(q,4):0,M=$(q)?ie(q,4):0,G=$(q)?ie(q,4):0,J=$(q)?ie(q,4):0,q=$(q)?ie(q,4):0,le=b.Qa,fe=0;4>fe;++fe){if(le.Cb){var Q=le.Zb[fe];le.Fb||(Q+=E)}else{if(0<fe){b.pb[fe]=b.pb[0];continue}Q=E}var ce=b.pb[fe];ce.Sc[0]=Ya[fn(Q+F,127)],ce.Sc[1]=Za[fn(Q+0,127)],ce.Eb[0]=2*Ya[fn(Q+M,127)],ce.Eb[1]=101581*Za[fn(Q+G,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=Ya[fn(Q+J,117)],ce.Qc[1]=Za[fn(Q+q,127)],ce.lc=Q+q}if(!W.Rb)return un(b,4,"Not a key frame.");for($(V),W=b.Pa,E=0;4>E;++E){for(F=0;8>F;++F)for(M=0;3>M;++M)for(G=0;11>G;++G)J=ue(V,Zp[E][F][M][G])?ne(V,8):$p[E][F][M][G],W.Wc[E][F].Yb[M][G]=J;for(F=0;17>F;++F)W.Xc[E][F]=W.Wc[E][Xp[F]]}return b.kc=$(V),b.kc&&(b.Bd=ne(V,8)),b.cb=1}function Vr(b,S,E,M,F,V,W){var G=S[F].Yb[E];for(E=0;16>F;++F){if(!ue(b,G[E+0]))return F;for(;!ue(b,G[E+1]);)if(G=S[++F].Yb[0],E=0,F==16)return 16;var q=S[F+1].Yb;if(ue(b,G[E+2])){var J=b,le=0;if(ue(J,(Q=G)[(fe=E)+3]))if(ue(J,Q[fe+6])){for(G=0,fe=2*(le=ue(J,Q[fe+8]))+(Q=ue(J,Q[fe+9+le])),le=0,Q=Gp[fe];Q[G];++G)le+=le+ue(J,Q[G]);le+=3+(8<<fe)}else ue(J,Q[fe+7])?(le=7+2*ue(J,165),le+=ue(J,145)):le=5+ue(J,159);else le=ue(J,Q[fe+4])?3+ue(J,Q[fe+5]):2;G=q[2]}else le=1,G=q[1];q=W+qp[F],0>(J=b).b&&K(J);var fe,Q=J.b,ce=(fe=J.Ca>>1)-(J.I>>Q)>>31;--J.b,J.Ca+=ce,J.Ca|=1,J.I-=(fe+1&ce)<<Q,V[q]=((le^ce)-ce)*M[(0<F)+0]}return 16}function Di(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,h(b.zc,0,0,b.zc.length),b.ja=0}function pr(b,S,E,M,F){F=b[S+E+32*M]+(F>>3),b[S+E+32*M]=-256&F?0>F?0:255:F}function Ai(b,S,E,M,F,V){pr(b,S,0,E,M+F),pr(b,S,1,E,M+V),pr(b,S,2,E,M-V),pr(b,S,3,E,M-F)}function Xt(b){return(20091*b>>16)+b}function Mo(b,S,E,M){var F,V=0,W=g(16);for(F=0;4>F;++F){var G=b[S+0]+b[S+8],q=b[S+0]-b[S+8],J=(35468*b[S+4]>>16)-Xt(b[S+12]),le=Xt(b[S+4])+(35468*b[S+12]>>16);W[V+0]=G+le,W[V+1]=q+J,W[V+2]=q-J,W[V+3]=G-le,V+=4,S++}for(F=V=0;4>F;++F)G=(b=W[V+0]+4)+W[V+8],q=b-W[V+8],J=(35468*W[V+4]>>16)-Xt(W[V+12]),pr(E,M,0,0,G+(le=Xt(W[V+4])+(35468*W[V+12]>>16))),pr(E,M,1,0,q+J),pr(E,M,2,0,q-J),pr(E,M,3,0,G-le),V++,M+=32}function Da(b,S,E,M){var F=b[S+0]+4,V=35468*b[S+4]>>16,W=Xt(b[S+4]),G=35468*b[S+1]>>16;Ai(E,M,0,F+W,b=Xt(b[S+1]),G),Ai(E,M,1,F+V,b,G),Ai(E,M,2,F-V,b,G),Ai(E,M,3,F-W,b,G)}function Aa(b,S,E,M,F){Mo(b,S,E,M),F&&Mo(b,S+16,E,M+4)}function Ea(b,S,E,M){en(b,S+0,E,M,1),en(b,S+32,E,M+128,1)}function Ir(b,S,E,M){var F;for(b=b[S+0]+4,F=0;4>F;++F)for(S=0;4>S;++S)pr(E,M,S,F,b)}function ks(b,S,E,M){b[S+0]&&Mr(b,S+0,E,M),b[S+16]&&Mr(b,S+16,E,M+4),b[S+32]&&Mr(b,S+32,E,M+128),b[S+48]&&Mr(b,S+48,E,M+128+4)}function Ss(b,S,E,M){var F,V=g(16);for(F=0;4>F;++F){var W=b[S+0+F]+b[S+12+F],G=b[S+4+F]+b[S+8+F],q=b[S+4+F]-b[S+8+F],J=b[S+0+F]-b[S+12+F];V[0+F]=W+G,V[8+F]=W-G,V[4+F]=J+q,V[12+F]=J-q}for(F=0;4>F;++F)W=(b=V[0+4*F]+3)+V[3+4*F],G=V[1+4*F]+V[2+4*F],q=V[1+4*F]-V[2+4*F],J=b-V[3+4*F],E[M+0]=W+G>>3,E[M+16]=J+q>>3,E[M+32]=W-G>>3,E[M+48]=J-q>>3,M+=64}function oi(b,S,E){var M,F=S-32,V=Gn,W=255-b[F-1];for(M=0;M<E;++M){var G,q=V,J=W+b[S-1];for(G=0;G<E;++G)b[S+G]=q[J+b[F+G]];S+=32}}function Lo(b,S){oi(b,S,4)}function Pa(b,S){oi(b,S,8)}function Ma(b,S){oi(b,S,16)}function La(b,S){var E;for(E=0;16>E;++E)r(b,S+32*E,b,S-32,16)}function Ro(b,S){var E;for(E=16;0<E;--E)h(b,S,b[S-1],16),S+=32}function Ei(b,S,E){var M;for(M=0;16>M;++M)h(S,E+32*M,b,16)}function si(b,S){var E,M=16;for(E=0;16>E;++E)M+=b[S-1+32*E]+b[S+E-32];Ei(M>>5,b,S)}function Ra(b,S){var E,M=8;for(E=0;16>E;++E)M+=b[S-1+32*E];Ei(M>>4,b,S)}function Pi(b,S){var E,M=8;for(E=0;16>E;++E)M+=b[S+E-32];Ei(M>>4,b,S)}function Oo(b,S){Ei(128,b,S)}function Je(b,S,E){return b+2*S+E+2>>2}function Oa(b,S){var E,M=S-32;for(M=new Uint8Array([Je(b[M-1],b[M+0],b[M+1]),Je(b[M+0],b[M+1],b[M+2]),Je(b[M+1],b[M+2],b[M+3]),Je(b[M+2],b[M+3],b[M+4])]),E=0;4>E;++E)r(b,S+32*E,M,0,M.length)}function Na(b,S){var E=b[S-1],M=b[S-1+32],F=b[S-1+64],V=b[S-1+96];ge(b,S+0,16843009*Je(b[S-1-32],E,M)),ge(b,S+32,16843009*Je(E,M,F)),ge(b,S+64,16843009*Je(M,F,V)),ge(b,S+96,16843009*Je(F,V,V))}function Fa(b,S){var E,M=4;for(E=0;4>E;++E)M+=b[S+E-32]+b[S-1+32*E];for(M>>=3,E=0;4>E;++E)h(b,S+32*E,M,4)}function Ba(b,S){var E=b[S-1+0],M=b[S-1+32],F=b[S-1+64],V=b[S-1-32],W=b[S+0-32],G=b[S+1-32],q=b[S+2-32],J=b[S+3-32];b[S+0+96]=Je(M,F,b[S-1+96]),b[S+1+96]=b[S+0+64]=Je(E,M,F),b[S+2+96]=b[S+1+64]=b[S+0+32]=Je(V,E,M),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=Je(W,V,E),b[S+3+64]=b[S+2+32]=b[S+1+0]=Je(G,W,V),b[S+3+32]=b[S+2+0]=Je(q,G,W),b[S+3+0]=Je(J,q,G)}function Ur(b,S){var E=b[S+1-32],M=b[S+2-32],F=b[S+3-32],V=b[S+4-32],W=b[S+5-32],G=b[S+6-32],q=b[S+7-32];b[S+0+0]=Je(b[S+0-32],E,M),b[S+1+0]=b[S+0+32]=Je(E,M,F),b[S+2+0]=b[S+1+32]=b[S+0+64]=Je(M,F,V),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=Je(F,V,W),b[S+3+32]=b[S+2+64]=b[S+1+96]=Je(V,W,G),b[S+3+64]=b[S+2+96]=Je(W,G,q),b[S+3+96]=Je(G,q,q)}function Wr(b,S){var E=b[S-1+0],M=b[S-1+32],F=b[S-1+64],V=b[S-1-32],W=b[S+0-32],G=b[S+1-32],q=b[S+2-32],J=b[S+3-32];b[S+0+0]=b[S+1+64]=V+W+1>>1,b[S+1+0]=b[S+2+64]=W+G+1>>1,b[S+2+0]=b[S+3+64]=G+q+1>>1,b[S+3+0]=q+J+1>>1,b[S+0+96]=Je(F,M,E),b[S+0+64]=Je(M,E,V),b[S+0+32]=b[S+1+96]=Je(E,V,W),b[S+1+32]=b[S+2+96]=Je(V,W,G),b[S+2+32]=b[S+3+96]=Je(W,G,q),b[S+3+32]=Je(G,q,J)}function ja(b,S){var E=b[S+0-32],M=b[S+1-32],F=b[S+2-32],V=b[S+3-32],W=b[S+4-32],G=b[S+5-32],q=b[S+6-32],J=b[S+7-32];b[S+0+0]=E+M+1>>1,b[S+1+0]=b[S+0+64]=M+F+1>>1,b[S+2+0]=b[S+1+64]=F+V+1>>1,b[S+3+0]=b[S+2+64]=V+W+1>>1,b[S+0+32]=Je(E,M,F),b[S+1+32]=b[S+0+96]=Je(M,F,V),b[S+2+32]=b[S+1+96]=Je(F,V,W),b[S+3+32]=b[S+2+96]=Je(V,W,G),b[S+3+64]=Je(W,G,q),b[S+3+96]=Je(G,q,J)}function Ha(b,S){var E=b[S-1+0],M=b[S-1+32],F=b[S-1+64],V=b[S-1+96];b[S+0+0]=E+M+1>>1,b[S+2+0]=b[S+0+32]=M+F+1>>1,b[S+2+32]=b[S+0+64]=F+V+1>>1,b[S+1+0]=Je(E,M,F),b[S+3+0]=b[S+1+32]=Je(M,F,V),b[S+3+32]=b[S+1+64]=Je(F,V,V),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=V}function eo(b,S){var E=b[S-1+0],M=b[S-1+32],F=b[S-1+64],V=b[S-1+96],W=b[S-1-32],G=b[S+0-32],q=b[S+1-32],J=b[S+2-32];b[S+0+0]=b[S+2+32]=E+W+1>>1,b[S+0+32]=b[S+2+64]=M+E+1>>1,b[S+0+64]=b[S+2+96]=F+M+1>>1,b[S+0+96]=V+F+1>>1,b[S+3+0]=Je(G,q,J),b[S+2+0]=Je(W,G,q),b[S+1+0]=b[S+3+32]=Je(E,W,G),b[S+1+32]=b[S+3+64]=Je(M,E,W),b[S+1+64]=b[S+3+96]=Je(F,M,E),b[S+1+96]=Je(V,F,M)}function No(b,S){var E;for(E=0;8>E;++E)r(b,S+32*E,b,S-32,8)}function Mi(b,S){var E;for(E=0;8>E;++E)h(b,S,b[S-1],8),S+=32}function to(b,S,E){var M;for(M=0;8>M;++M)h(S,E+32*M,b,8)}function no(b,S){var E,M=8;for(E=0;8>E;++E)M+=b[S+E-32]+b[S-1+32*E];to(M>>4,b,S)}function Va(b,S){var E,M=4;for(E=0;8>E;++E)M+=b[S+E-32];to(M>>3,b,S)}function Fo(b,S){var E,M=4;for(E=0;8>E;++E)M+=b[S-1+32*E];to(M>>3,b,S)}function Bo(b,S){to(128,b,S)}function Li(b,S,E){var M=b[S-E],F=b[S+0],V=3*(F-M)+za[1020+b[S-2*E]-b[S+E]],W=Ds[112+(V+4>>3)];b[S-E]=Gn[255+M+Ds[112+(V+3>>3)]],b[S+0]=Gn[255+F-W]}function Ri(b,S,E,M){var F=b[S+0],V=b[S+E];return or[255+b[S-2*E]-b[S-E]]>M||or[255+V-F]>M}function jo(b,S,E,M){return 4*or[255+b[S-E]-b[S+0]]+or[255+b[S-2*E]-b[S+E]]<=M}function ro(b,S,E,M,F){var V=b[S-3*E],W=b[S-2*E],G=b[S-E],q=b[S+0],J=b[S+E],le=b[S+2*E],fe=b[S+3*E];return 4*or[255+G-q]+or[255+W-J]>M?0:or[255+b[S-4*E]-V]<=F&&or[255+V-W]<=F&&or[255+W-G]<=F&&or[255+fe-le]<=F&&or[255+le-J]<=F&&or[255+J-q]<=F}function Ho(b,S,E,M){var F=2*M+1;for(M=0;16>M;++M)jo(b,S+M,E,F)&&Li(b,S+M,E)}function Oi(b,S,E,M){var F=2*M+1;for(M=0;16>M;++M)jo(b,S+M*E,1,F)&&Li(b,S+M*E,1)}function Vo(b,S,E,M){var F;for(F=3;0<F;--F)Ho(b,S+=4*E,E,M)}function Uo(b,S,E,M){var F;for(F=3;0<F;--F)Oi(b,S+=4,E,M)}function zn(b,S,E,M,F,V,W,G){for(V=2*V+1;0<F--;){if(ro(b,S,E,V,W))if(Ri(b,S,E,G))Li(b,S,E);else{var q=b,J=S,le=E,fe=q[J-2*le],Q=q[J-le],ce=q[J+0],he=q[J+le],ye=q[J+2*le],pe=27*(be=za[1020+3*(ce-Q)+za[1020+fe-he]])+63>>7,ve=18*be+63>>7,be=9*be+63>>7;q[J-3*le]=Gn[255+q[J-3*le]+be],q[J-2*le]=Gn[255+fe+ve],q[J-le]=Gn[255+Q+pe],q[J+0]=Gn[255+ce-pe],q[J+le]=Gn[255+he-ve],q[J+2*le]=Gn[255+ye-be]}S+=M}}function xr(b,S,E,M,F,V,W,G){for(V=2*V+1;0<F--;){if(ro(b,S,E,V,W))if(Ri(b,S,E,G))Li(b,S,E);else{var q=b,J=S,le=E,fe=q[J-le],Q=q[J+0],ce=q[J+le],he=Ds[112+(4+(ye=3*(Q-fe))>>3)],ye=Ds[112+(ye+3>>3)],pe=he+1>>1;q[J-2*le]=Gn[255+q[J-2*le]+pe],q[J-le]=Gn[255+fe+ye],q[J+0]=Gn[255+Q-he],q[J+le]=Gn[255+ce-pe]}S+=M}}function x(b,S,E,M,F,V){zn(b,S,E,1,16,M,F,V)}function j(b,S,E,M,F,V){zn(b,S,1,E,16,M,F,V)}function ee(b,S,E,M,F,V){var W;for(W=3;0<W;--W)xr(b,S+=4*E,E,1,16,M,F,V)}function se(b,S,E,M,F,V){var W;for(W=3;0<W;--W)xr(b,S+=4,1,E,16,M,F,V)}function de(b,S,E,M,F,V,W,G){zn(b,S,F,1,8,V,W,G),zn(E,M,F,1,8,V,W,G)}function _e(b,S,E,M,F,V,W,G){zn(b,S,1,F,8,V,W,G),zn(E,M,1,F,8,V,W,G)}function we(b,S,E,M,F,V,W,G){xr(b,S+4*F,F,1,8,V,W,G),xr(E,M+4*F,F,1,8,V,W,G)}function Pe(b,S,E,M,F,V,W,G){xr(b,S+4,1,F,8,V,W,G),xr(E,M+4,1,F,8,V,W,G)}function Re(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _t(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new z}function Kt(){this.xb=this.a=0,this.l=new Qi,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _t,this.ab=0,this.gc=_(4,lt),this.Oc=0}function cn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function At(b,S,E,M,F,V,W){for(b=b==null?0:b[S+0],S=0;S<W;++S)F[V+S]=b+E[M+S]&255,b=F[V+S]}function pn(b,S,E,M,F,V,W){var G;if(b==null)At(null,null,E,M,F,V,W);else for(G=0;G<W;++G)F[V+G]=b[S+G]+E[M+G]&255}function dn(b,S,E,M,F,V,W){if(b==null)At(null,null,E,M,F,V,W);else{var G,q=b[S+0],J=q,le=q;for(G=0;G<W;++G)J=le+(q=b[S+G])-J,le=E[M+G]+(-256&J?0>J?0:255:J)&255,J=q,F[V+G]=le}}function kn(b,S,E,M){var F=S.width,V=S.o;if(e(b!=null&&S!=null),0>E||0>=M||E+M>V)return null;if(!b.Cc){if(b.ga==null){var W;if(b.ga=new cn,(W=b.ga==null)||(W=S.width*S.o,e(b.Gb.length==0),b.Gb=g(W),b.Uc=0,b.Gb==null?W=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,W=1),W=!W),!W){W=b.ga;var G=b.Fa,q=b.P,J=b.qc,le=b.mb,fe=b.nb,Q=q+1,ce=J-1,he=W.l;if(e(G!=null&&le!=null&&S!=null),pi[0]=null,pi[1]=At,pi[2]=pn,pi[3]=dn,W.ca=le,W.tb=fe,W.c=S.width,W.i=S.height,e(0<W.c&&0<W.i),1>=J)S=0;else if(W.$a=3&G[q+0],W.Z=G[q+0]>>2&3,W.Lc=G[q+0]>>4&3,q=G[q+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||q)S=0;else if(he.put=Ke,he.ac=kr,he.bc=jr,he.ma=W,he.width=S.width,he.height=S.height,he.Da=S.Da,he.v=S.v,he.va=S.va,he.j=S.j,he.o=S.o,W.$a)e:{e(W.$a==1),S=Ii();t:for(;;){if(S==null){S=0;break e}if(e(W!=null),W.mc=S,S.c=W.c,S.i=W.i,S.l=W.l,S.l.ma=W,S.l.width=W.c,S.l.height=W.i,S.a=0,Y(S.m,G,Q,ce),!Cr(W.c,W.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&cr(S.s)?(W.ic=1,G=S.c*S.i,S.Ta=null,S.Ua=0,S.V=g(G),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(W.ic=0,S=xi(S,W.c)),!S))break t;S=1;break e}W.mc=null,S=0}else S=ce>=W.c*W.i;W=!S}if(W)return null;b.ga.Lc!=1?b.Ga=0:M=V-E}e(b.ga!=null),e(E+M<=V);e:{if(S=(G=b.ga).c,V=G.l.o,G.$a==0){if(Q=b.rc,ce=b.Vc,he=b.Fa,q=b.P+1+E*S,J=b.mb,le=b.nb+E*S,e(q<=b.P+b.qc),G.Z!=0)for(e(pi[G.Z]!=null),W=0;W<M;++W)pi[G.Z](Q,ce,he,q,J,le,S),Q=J,ce=le,le+=S,q+=S;else for(W=0;W<M;++W)r(J,le,he,q,S),Q=J,ce=le,le+=S,q+=S;b.rc=Q,b.Vc=ce}else{if(e(G.mc!=null),S=E+M,e((W=G.mc)!=null),e(S<=W.i),W.C>=S)S=1;else if(G.ic||Ni(),G.ic){G=W.V,Q=W.Ba,ce=W.c;var ye=W.i,pe=(he=1,q=W.$/ce,J=W.$%ce,le=W.m,fe=W.s,W.$),ve=ce*ye,be=ce*S,ke=fe.wc,Te=pe<be?wn(fe,J,q):null;e(pe<=ve),e(S<=ye),e(cr(fe));t:for(;;){for(;!le.h&&pe<be;){if(J&ke||(Te=wn(fe,J,q)),e(Te!=null),L(le),256>(ye=Gt(Te.G[0],Te.H[0],le)))G[Q+pe]=ye,++pe,++J>=ce&&(J=0,++q<=S&&!(q%16)&&dr(W,q));else{if(!(280>ye)){he=0;break t}ye=er(ye-256,le);var Ne,Ae=Gt(Te.G[4],Te.H[4],le);if(L(le),!(pe>=(Ae=tr(ce,Ae=er(Ae,le)))&&ve-pe>=ye)){he=0;break t}for(Ne=0;Ne<ye;++Ne)G[Q+pe+Ne]=G[Q+pe+Ne-Ae];for(pe+=ye,J+=ye;J>=ce;)J-=ce,++q<=S&&!(q%16)&&dr(W,q);pe<be&&J&ke&&(Te=wn(fe,J,q))}e(le.h==re(le))}dr(W,q>S?S:q);break t}!he||le.h&&pe<ve?(he=0,W.a=le.h?5:3):W.$=pe,S=he}else S=hr(W,W.V,W.Ba,W.c,W.i,S,Zi);if(!S){M=0;break e}}E+M>=V&&(b.Cc=1),M=1}if(!M)return null;if(b.Cc&&((M=b.ga)!=null&&(M.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+E*F}function zr(b,S,E,M,F,V){for(;0<F--;){var W,G=b,q=S+(E?1:0),J=b,le=S+(E?0:3);for(W=0;W<M;++W){var fe=J[le+4*W];fe!=255&&(fe*=32897,G[q+4*W+0]=G[q+4*W+0]*fe>>23,G[q+4*W+1]=G[q+4*W+1]*fe>>23,G[q+4*W+2]=G[q+4*W+2]*fe>>23)}S+=V}}function ai(b,S,E,M,F){for(;0<M--;){var V;for(V=0;V<E;++V){var W=b[S+2*V+0],G=15&(J=b[S+2*V+1]),q=4369*G,J=(240&J|J>>4)*q>>16;b[S+2*V+0]=(240&W|W>>4)*q>>16&240|(15&W|W<<4)*q>>16>>4&15,b[S+2*V+1]=240&J|G}S+=F}}function Ua(b,S,E,M,F,V,W,G){var q,J,le=255;for(J=0;J<F;++J){for(q=0;q<M;++q){var fe=b[S+q];V[W+4*q]=fe,le&=fe}S+=E,W+=G}return le!=255}function Cs(b,S,E,M,F){var V;for(V=0;V<F;++V)E[M+V]=b[S+V]>>8}function Ni(){Xo=zr,Su=ai,Cu=Ua,Iu=Cs}function fr(b,S,E){D[b]=function(M,F,V,W,G,q,J,le,fe,Q,ce,he,ye,pe,ve,be,ke){var Te,Ne=ke-1>>1,Ae=G[q+0]|J[le+0]<<16,ut=fe[Q+0]|ce[he+0]<<16;e(M!=null);var Me=3*Ae+ut+131074>>2;for(S(M[F+0],255&Me,Me>>16,ye,pe),V!=null&&(Me=3*ut+Ae+131074>>2,S(V[W+0],255&Me,Me>>16,ve,be)),Te=1;Te<=Ne;++Te){var pt=G[q+Te]|J[le+Te]<<16,gn=fe[Q+Te]|ce[he+Te]<<16,ct=Ae+pt+ut+gn+524296,Le=ct+2*(pt+ut)>>3;Me=Le+Ae>>1,Ae=(ct=ct+2*(Ae+gn)>>3)+pt>>1,S(M[F+2*Te-1],255&Me,Me>>16,ye,pe+(2*Te-1)*E),S(M[F+2*Te-0],255&Ae,Ae>>16,ye,pe+(2*Te-0)*E),V!=null&&(Me=ct+ut>>1,Ae=Le+gn>>1,S(V[W+2*Te-1],255&Me,Me>>16,ve,be+(2*Te-1)*E),S(V[W+2*Te+0],255&Ae,Ae>>16,ve,be+(2*Te+0)*E)),Ae=pt,ut=gn}1&ke||(Me=3*Ae+ut+131074>>2,S(M[F+ke-1],255&Me,Me>>16,ye,pe+(ke-1)*E),V!=null&&(Me=3*ut+Ae+131074>>2,S(V[W+ke-1],255&Me,Me>>16,ve,be+(ke-1)*E)))}}function Wo(){sr[As]=Qp,sr[Es]=Fu,sr[Mu]=ef,sr[Ps]=Bu,sr[Ms]=ju,sr[Ka]=Hu,sr[Lu]=tf,sr[Ga]=Fu,sr[qa]=Bu,sr[Ls]=ju,sr[$a]=Hu}function io(b){return b&-16384?0>b?0:255:b>>nf}function li(b,S){return io((19077*b>>8)+(26149*S>>8)-14234)}function bn(b,S,E){return io((19077*b>>8)-(6419*S>>8)-(13320*E>>8)+8708)}function Kr(b,S){return io((19077*b>>8)+(33050*S>>8)-17685)}function Gr(b,S,E,M,F){M[F+0]=li(b,E),M[F+1]=bn(b,S,E),M[F+2]=Kr(b,S)}function oo(b,S,E,M,F){M[F+0]=Kr(b,S),M[F+1]=bn(b,S,E),M[F+2]=li(b,E)}function zo(b,S,E,M,F){var V=bn(b,S,E);S=V<<3&224|Kr(b,S)>>3,M[F+0]=248&li(b,E)|V>>5,M[F+1]=S}function Ln(b,S,E,M,F){var V=240&Kr(b,S)|15;M[F+0]=240&li(b,E)|bn(b,S,E)>>4,M[F+1]=V}function Is(b,S,E,M,F){M[F+0]=255,Gr(b,S,E,M,F+1)}function so(b,S,E,M,F){oo(b,S,E,M,F),M[F+3]=255}function xs(b,S,E,M,F){Gr(b,S,E,M,F),M[F+3]=255}function fn(b,S){return 0>b?0:b>S?S:b}function ir(b,S,E){D[b]=function(M,F,V,W,G,q,J,le,fe){for(var Q=le+(-2&fe)*E;le!=Q;)S(M[F+0],V[W+0],G[q+0],J,le),S(M[F+1],V[W+0],G[q+0],J,le+E),F+=2,++W,++q,le+=2*E;1&fe&&S(M[F+0],V[W+0],G[q+0],J,le)}}function Ko(b,S,E){return E==0?b==0?S==0?6:5:S==0?4:0:E}function Go(b,S,E,M,F){switch(b>>>30){case 3:en(S,E,M,F,0);break;case 2:$r(S,E,M,F);break;case 1:Mr(S,E,M,F)}}function ui(b,S){var E,M,F=S.M,V=S.Nb,W=b.oc,G=b.pc+40,q=b.oc,J=b.pc+584,le=b.oc,fe=b.pc+600;for(E=0;16>E;++E)W[G+32*E-1]=129;for(E=0;8>E;++E)q[J+32*E-1]=129,le[fe+32*E-1]=129;for(0<F?W[G-1-32]=q[J-1-32]=le[fe-1-32]=129:(h(W,G-32-1,127,21),h(q,J-32-1,127,9),h(le,fe-32-1,127,9)),M=0;M<b.za;++M){var Q=S.ya[S.aa+M];if(0<M){for(E=-1;16>E;++E)r(W,G+32*E-4,W,G+32*E+12,4);for(E=-1;8>E;++E)r(q,J+32*E-4,q,J+32*E+4,4),r(le,fe+32*E-4,le,fe+32*E+4,4)}var ce=b.Gd,he=b.Hd+M,ye=Q.ad,pe=Q.Hc;if(0<F&&(r(W,G-32,ce[he].y,0,16),r(q,J-32,ce[he].f,0,8),r(le,fe-32,ce[he].ea,0,8)),Q.Za){var ve=W,be=G-32+16;for(0<F&&(M>=b.za-1?h(ve,be,ce[he].y[15],4):r(ve,be,ce[he+1].y,0,4)),E=0;4>E;E++)ve[be+128+E]=ve[be+256+E]=ve[be+384+E]=ve[be+0+E];for(E=0;16>E;++E,pe<<=2)ve=W,be=G+Uu[E],gr[Q.Ob[E]](ve,be),Go(pe,ye,16*+E,ve,be)}else if(ve=Ko(M,F,Q.Ob[0]),hi[ve](W,G),pe!=0)for(E=0;16>E;++E,pe<<=2)Go(pe,ye,16*+E,W,G+Uu[E]);for(E=Q.Gc,ve=Ko(M,F,Q.Dd),Yr[ve](q,J),Yr[ve](le,fe),pe=ye,ve=q,be=J,255&(Q=0|E)&&(170&Q?ho(pe,256,ve,be):Zo(pe,256,ve,be)),Q=le,pe=fe,255&(E>>=8)&&(170&E?ho(ye,320,Q,pe):Zo(ye,320,Q,pe)),F<b.Ub-1&&(r(ce[he].y,0,W,G+480,16),r(ce[he].f,0,q,J+224,8),r(ce[he].ea,0,le,fe+224,8)),E=8*V*b.B,ce=b.sa,he=b.ta+16*M+16*V*b.R,ye=b.qa,Q=b.ra+8*M+E,pe=b.Ha,ve=b.Ia+8*M+E,E=0;16>E;++E)r(ce,he+E*b.R,W,G+32*E,16);for(E=0;8>E;++E)r(ye,Q+E*b.B,q,J+32*E,8),r(pe,ve+E*b.B,le,fe+32*E,8)}}function ao(b,S,E,M,F,V,W,G,q){var J=[0],le=[0],fe=0,Q=q!=null?q.kd:0,ce=q??new Ye;if(b==null||12>E)return 7;ce.data=b,ce.w=S,ce.ha=E,S=[S],E=[E],ce.gb=[ce.gb];e:{var he=S,ye=E,pe=ce.gb;if(e(b!=null),e(ye!=null),e(pe!=null),pe[0]=0,12<=ye[0]&&!t(b,he[0],"RIFF")){if(t(b,he[0]+8,"WEBP")){pe=3;break e}var ve=me(b,he[0]+4);if(12>ve||4294967286<ve){pe=3;break e}if(Q&&ve>ye[0]-8){pe=7;break e}pe[0]=ve,he[0]+=12,ye[0]-=12}pe=0}if(pe!=0)return pe;for(ve=0<ce.gb[0],E=E[0];;){e:{var be=b;ye=S,pe=E;var ke=J,Te=le,Ne=he=[0];if((Me=fe=[fe])[0]=0,8>pe[0])pe=7;else{if(!t(be,ye[0],"VP8X")){if(me(be,ye[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Ae=me(be,ye[0]+8),ut=1+Ie(be,ye[0]+12);if(2147483648<=ut*(be=1+Ie(be,ye[0]+15))){pe=3;break e}Ne!=null&&(Ne[0]=Ae),ke!=null&&(ke[0]=ut),Te!=null&&(Te[0]=be),ye[0]+=18,pe[0]-=18,Me[0]=1}pe=0}}if(fe=fe[0],he=he[0],pe!=0)return pe;if(ye=!!(2&he),!ve&&fe)return 3;if(V!=null&&(V[0]=!!(16&he)),W!=null&&(W[0]=ye),G!=null&&(G[0]=0),W=J[0],he=le[0],fe&&ye&&q==null){pe=0;break}if(4>E){pe=7;break}if(ve&&fe||!ve&&!fe&&!t(b,S[0],"ALPH")){E=[E],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{Ae=b,pe=S,ve=E;var Me=ce.gb;ke=ce.na,Te=ce.P,Ne=ce.Sa,ut=22,e(Ae!=null),e(ve!=null),be=pe[0];var pt=ve[0];for(e(ke!=null),e(Ne!=null),ke[0]=null,Te[0]=null,Ne[0]=0;;){if(pe[0]=be,ve[0]=pt,8>pt){pe=7;break e}var gn=me(Ae,be+4);if(4294967286<gn){pe=3;break e}var ct=8+gn+1&-2;if(ut+=ct,0<Me&&ut>Me){pe=3;break e}if(!t(Ae,be,"VP8 ")||!t(Ae,be,"VP8L")){pe=0;break e}if(pt[0]<ct){pe=7;break e}t(Ae,be,"ALPH")||(ke[0]=Ae,Te[0]=be+8,Ne[0]=gn),be+=ct,pt-=ct}}if(E=E[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],pe!=0)break}E=[E],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Me=b,pe=S,ve=E,ke=ce.gb[0],Te=ce.Ja,Ne=ce.xa,Ae=pe[0],be=!t(Me,Ae,"VP8 "),ut=!t(Me,Ae,"VP8L"),e(Me!=null),e(ve!=null),e(Te!=null),e(Ne!=null),8>ve[0])pe=7;else{if(be||ut){if(Me=me(Me,Ae+4),12<=ke&&Me>ke-12){pe=3;break e}if(Q&&Me>ve[0]-8){pe=7;break e}Te[0]=Me,pe[0]+=8,ve[0]-=8,Ne[0]=ut}else Ne[0]=5<=ve[0]&&Me[Ae+0]==47&&!(Me[Ae+4]>>5),Te[0]=ve[0];pe=0}if(E=E[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],S=S[0],pe!=0)break;if(4294967286<ce.Ja)return 3;if(G==null||ye||(G[0]=ce.xa?2:1),W=[W],he=[he],ce.xa){if(5>E){pe=7;break}G=W,Q=he,ye=V,b==null||5>E?b=0:5<=E&&b[S+0]==47&&!(b[S+4]>>5)?(ve=[0],Me=[0],ke=[0],Y(Te=new U,b,S,E),Hr(Te,ve,Me,ke)?(G!=null&&(G[0]=ve[0]),Q!=null&&(Q[0]=Me[0]),ye!=null&&(ye[0]=ke[0]),b=1):b=0):b=0}else{if(10>E){pe=7;break}G=he,b==null||10>E||!Ts(b,S+3,E-3)?b=0:(Q=b[S+0]|b[S+1]<<8|b[S+2]<<16,ye=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=ce.Ja||!ye||!b?b=0:(W&&(W[0]=ye),G&&(G[0]=b),b=1))}if(!b||(W=W[0],he=he[0],fe&&(J[0]!=W||le[0]!=he)))return 3;q!=null&&(q[0]=ce,q.offset=S-q.w,e(4294967286>S-q.w),e(q.offset==q.ha-E));break}return pe==0||pe==7&&fe&&q==null?(V!=null&&(V[0]|=ce.na!=null&&0<ce.na.length),M!=null&&(M[0]=W),F!=null&&(F[0]=he),0):pe}function Bn(b,S,E){var M=S.width,F=S.height,V=0,W=0,G=M,q=F;if(S.Da=b!=null&&0<b.Da,S.Da&&(G=b.cd,q=b.bd,V=b.v,W=b.j,11>E||(V&=-2,W&=-2),0>V||0>W||0>=G||0>=q||V+G>M||W+q>F))return 0;if(S.v=V,S.j=W,S.va=V+G,S.o=W+q,S.U=G,S.T=q,S.da=b!=null&&0<b.da,S.da){if(!We(G,q,E=[b.ib],V=[b.hb]))return 0;S.ib=E[0],S.hb=V[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*M/4&&S.hb<3*F/4,S.Kb=0),1}function jn(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function Fi(b,S,E,M){if(M==null||0>=b||0>=S)return 2;if(E!=null){if(E.Da){var F=E.cd,V=E.bd,W=-2&E.v,G=-2&E.j;if(0>W||0>G||0>=F||0>=V||W+F>b||G+V>S)return 2;b=F,S=V}if(E.da){if(!We(b,S,F=[E.ib],V=[E.hb]))return 2;b=F[0],S=V[0]}}M.width=b,M.height=S;e:{var q=M.width,J=M.height;if(b=M.S,0>=q||0>=J||!(b>=As&&13>b))b=2;else{if(0>=M.Rd&&M.sd==null){W=V=F=S=0;var le=(G=q*Wu[b])*J;if(11>b||(V=(J+1)/2*(S=(q+1)/2),b==12&&(W=(F=q)*J)),(J=g(le+2*V+W))==null){b=1;break e}M.sd=J,11>b?((q=M.f.RGBA).eb=J,q.fb=0,q.A=G,q.size=le):((q=M.f.kb).y=J,q.O=0,q.fa=G,q.Fd=le,q.f=J,q.N=0+le,q.Ab=S,q.Cd=V,q.ea=J,q.W=0+le+V,q.Db=S,q.Ed=V,b==12&&(q.F=J,q.J=0+le+2*V),q.Tc=W,q.lb=F)}if(S=1,F=M.S,V=M.width,W=M.height,F>=As&&13>F)if(11>F)b=M.f.RGBA,S&=(G=Math.abs(b.A))*(W-1)+V<=b.size,S&=G>=V*Wu[F],S&=b.eb!=null;else{b=M.f.kb,G=(V+1)/2,le=(W+1)/2,q=Math.abs(b.fa),J=Math.abs(b.Ab);var fe=Math.abs(b.Db),Q=Math.abs(b.lb),ce=Q*(W-1)+V;S&=q*(W-1)+V<=b.Fd,S&=J*(le-1)+G<=b.Cd,S=(S&=fe*(le-1)+G<=b.Ed)&q>=V&J>=G&fe>=G,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,F==12&&(S&=Q>=V,S&=ce<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||E!=null&&E.fd&&(b=jn(M)),b}var Dr=64,ci=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qo=24,di=32,Jt=8,Wa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,S,E){return S[E+0]},D.Predictor3=function(b,S,E){return S[E+1]},D.Predictor4=function(b,S,E){return S[E-1]},D.Predictor5=function(b,S,E){return Ue(Ue(b,S[E+1]),S[E+0])},D.Predictor6=function(b,S,E){return Ue(b,S[E-1])},D.Predictor7=function(b,S,E){return Ue(b,S[E+0])},D.Predictor8=function(b,S,E){return Ue(S[E-1],S[E+0])},D.Predictor9=function(b,S,E){return Ue(S[E+0],S[E+1])},D.Predictor10=function(b,S,E){return Ue(Ue(b,S[E-1]),Ue(S[E+0],S[E+1]))},D.Predictor11=function(b,S,E){var M=S[E+0];return 0>=tt(M>>24&255,b>>24&255,(S=S[E-1])>>24&255)+tt(M>>16&255,b>>16&255,S>>16&255)+tt(M>>8&255,b>>8&255,S>>8&255)+tt(255&M,255&b,255&S)?M:b},D.Predictor12=function(b,S,E){var M=S[E+0];return(yt((b>>24&255)+(M>>24&255)-((S=S[E-1])>>24&255))<<24|yt((b>>16&255)+(M>>16&255)-(S>>16&255))<<16|yt((b>>8&255)+(M>>8&255)-(S>>8&255))<<8|yt((255&b)+(255&M)-(255&S)))>>>0},D.Predictor13=function(b,S,E){var M=S[E-1];return(et((b=Ue(b,S[E+0]))>>24&255,M>>24&255)<<24|et(b>>16&255,M>>16&255)<<16|et(b>>8&255,M>>8&255)<<8|et(255&b,255&M))>>>0};var Ar=D.PredictorAdd0;D.PredictorAdd1=Dt,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Er=D.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var lo,$o=D.ColorIndexInverseTransform,uo=D.MapARGB,co=D.VP8LColorIndexInverseTransformAlpha,Bi=D.MapAlpha,ji=D.VP8LPredictorsAdd=[];ji.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var qr,Yo,Kn,Pr,Ft,Bt,Qt,en,$r,ho,Mr,Zo,hu,pu,fu,gu,mu,yu,vu,_u,bu,Tu,wu,ku,Xo,Su,Cu,Iu,xu=g(511),Du=g(2041),Au=g(225),Eu=g(767),Pu=0,za=Du,Ds=Au,Gn=Eu,or=xu,As=0,Es=1,Mu=2,Ps=3,Ms=4,Ka=5,Lu=6,Ga=7,qa=8,Ls=9,$a=10,jp=[2,3,7],Hp=[3,3,11],Ru=[280,256,256,256,40],Vp=[0,1,1,1,0],Up=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kp=8,Ya=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Za=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jo=null,Gp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ou=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$p=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],gr=[],Yr=[],Jp=1,Nu=2,pi=[],sr=[];fr("UpsampleRgbLinePair",Gr,3),fr("UpsampleBgrLinePair",oo,3),fr("UpsampleRgbaLinePair",xs,4),fr("UpsampleBgraLinePair",so,4),fr("UpsampleArgbLinePair",Is,4),fr("UpsampleRgba4444LinePair",Ln,2),fr("UpsampleRgb565LinePair",zo,2);var Qp=D.UpsampleRgbLinePair,ef=D.UpsampleBgrLinePair,Fu=D.UpsampleRgbaLinePair,Bu=D.UpsampleBgraLinePair,ju=D.UpsampleArgbLinePair,Hu=D.UpsampleRgba4444LinePair,tf=D.UpsampleRgb565LinePair,Rs=16,Os=1<<Rs-1,Qo=-227,Xa=482,nf=6,Vu=0,rf=g(256),of=g(256),sf=g(256),af=g(256),lf=g(Xa-Qo),uf=g(Xa-Qo);ir("YuvToRgbRow",Gr,3),ir("YuvToBgrRow",oo,3),ir("YuvToRgbaRow",xs,4),ir("YuvToBgraRow",so,4),ir("YuvToArgbRow",Is,4),ir("YuvToRgba4444Row",Ln,2),ir("YuvToRgb565Row",zo,2);var Uu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ns=[0,2,8],cf=[8,7,6,4,4,2,2,2,1,1,1,1],df=1;this.WebPDecodeRGBA=function(b,S,E,M,F){var V=Es,W=new Re,G=new Mt;W.ba=G,G.S=V,G.width=[G.width],G.height=[G.height];var q=G.width,J=G.height,le=new Xe;if(le==null||b==null)var fe=2;else e(le!=null),fe=ao(b,S,E,le.width,le.height,le.Pd,le.Qd,le.format,null);if(fe!=0?q=0:(q!=null&&(q[0]=le.width[0]),J!=null&&(J[0]=le.height[0]),q=1),q){G.width=G.width[0],G.height=G.height[0],M!=null&&(M[0]=G.width),F!=null&&(F[0]=G.height);e:{if(M=new Qi,(F=new Ye).data=b,F.w=S,F.ha=E,F.kd=1,S=[0],e(F!=null),((b=ao(F.data,F.w,F.ha,null,null,null,S,null,F))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(e(W!=null),M.data=F.data,M.w=F.w+F.offset,M.ha=F.ha-F.offset,M.put=Ke,M.ac=kr,M.bc=jr,M.ma=W,F.xa){if((b=Ii())==null){W=1;break e}if((function(Q,ce){var he=[0],ye=[0],pe=[0];t:for(;;){if(Q==null)return 0;if(ce==null)return Q.a=2,0;if(Q.l=ce,Q.a=0,Y(Q.m,ce.data,ce.w,ce.ha),!Hr(Q.m,he,ye,pe)){Q.a=3;break t}if(Q.xb=Nu,ce.width=he[0],ce.height=ye[0],!Cr(he[0],ye[0],1,Q,null))break t;return 1}return e(Q.a!=0),0})(b,M)){if(M=(S=Fi(M.width,M.height,W.Oa,W.ba))==0){t:{M=b;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((E=M.l)!=null),e((F=E.ma)!=null),M.xb!=0){if(M.ca=F.ba,M.tb=F.tb,e(M.ca!=null),!Bn(F.Oa,E,Ps)){M.a=2;break n}if(!xi(M,E.width)||E.da)break n;if((E.da||rt(M.ca.S))&&Ni(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Ni()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!te(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!hr(M,M.V,M.Ba,M.c,M.i,E.o,ii))break n;F.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(S=b.a)}else S=b.a}else{if((b=new xa)==null){W=1;break e}if(b.Fa=F.na,b.P=F.P,b.qc=F.Sa,ws(b,M)){if((S=Fi(M.width,M.height,W.Oa,W.ba))==0){if(b.Aa=0,E=W.Oa,e((F=b)!=null),E!=null){if(0<(q=0>(q=E.Md)?0:100<q?255:255*q/100)){for(J=le=0;4>J;++J)12>(fe=F.pb[J]).lc&&(fe.ia=q*cf[0>fe.lc?0:fe.lc]>>3),le|=fe.ia;le&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=E.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(Q,ce){if(Q==null)return 0;if(ce==null)return un(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!ws(Q,ce))return 0;if(e(Q.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(Q.L=0);var he=Ns[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=ce.v-he>>4,Q.zb=ce.j-he>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=ce.o+15+he>>4,Q.Hb=ce.va+15+he>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var ye=Q.ed;for(he=0;4>he;++he){var pe;if(Q.Qa.Cb){var ve=Q.Qa.Lb[he];Q.Qa.Fb||(ve+=ye.Tb)}else ve=ye.Tb;for(pe=0;1>=pe;++pe){var be=Q.gd[he][pe],ke=ve;if(ye.Pc&&(ke+=ye.vd[0],pe&&(ke+=ye.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var Te=ke;0<ye.wb&&(Te=4<ye.wb?Te>>2:Te>>1)>9-ye.wb&&(Te=9-ye.wb),1>Te&&(Te=1),be.dd=Te,be.tc=2*ke+Te,be.ld=40<=ke?2:15<=ke?1:0}else be.tc=0;be.La=pe}}}he=0}else un(Q,6,"Frame setup failed"),he=Q.a;if(he=he==0){if(he){Q.$c=0,0<Q.Aa||(Q.Ic=df);t:{he=Q.Ic,ye=4*(Te=Q.za);var Ne=32*Te,Ae=Te+1,ut=0<Q.L?Te*(0<Q.Aa?2:1):0,Me=(Q.Aa==2?2:1)*Te;if((be=ye+832+(pe=3*(16*he+Ns[Q.L])/2*Ne)+(ve=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=be)he=0;else{if(be>Q.Vb){if(Q.Vb=0,Q.Ec=g(be),Q.Fc=0,Q.Ec==null){he=un(Q,1,"no memory during frame initialization.");break t}Q.Vb=be}be=Q.Ec,ke=Q.Fc,Q.Ac=be,Q.Bc=ke,ke+=ye,Q.Gd=_(Ne,_s),Q.Hd=0,Q.rb=_(Ae+1,Eo),Q.sb=1,Q.wa=ut?_(ut,rr):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=Te),e(!0),Q.oc=be,Q.pc=ke,ke+=832,Q.ya=_(Me,Po),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=Te),Q.R=16*Te,Q.B=8*Te,Te=(Ne=Ns[Q.L])*Q.R,Ne=Ne/2*Q.B,Q.sa=be,Q.ta=ke+Te,Q.qa=Q.sa,Q.ra=Q.ta+16*he*Q.R+Ne,Q.Ha=Q.qa,Q.Ia=Q.ra+8*he*Q.B+Ne,Q.$c=0,ke+=pe,Q.mb=ve?be:null,Q.nb=ve?ke:null,e(ke+ve<=Q.Fc+Q.Vb),Di(Q),h(Q.Ac,Q.Bc,0,ye),he=1}}if(he){if(ce.ka=0,ce.y=Q.sa,ce.O=Q.ta,ce.f=Q.qa,ce.N=Q.ra,ce.ea=Q.Ha,ce.Vd=Q.Ia,ce.fa=Q.R,ce.Rc=Q.B,ce.F=null,ce.J=0,!Pu){for(he=-255;255>=he;++he)xu[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Du[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)Au[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)Eu[255+he]=0>he?0:255<he?255:he;Pu=1}Qt=Ss,en=Aa,ho=Ea,Mr=Ir,Zo=ks,$r=Da,hu=x,pu=j,fu=de,gu=_e,mu=ee,yu=se,vu=we,_u=Pe,bu=Ho,Tu=Oi,wu=Vo,ku=Uo,gr[0]=Fa,gr[1]=Lo,gr[2]=Oa,gr[3]=Na,gr[4]=Ba,gr[5]=Wr,gr[6]=Ur,gr[7]=ja,gr[8]=eo,gr[9]=Ha,hi[0]=si,hi[1]=Ma,hi[2]=La,hi[3]=Ro,hi[4]=Ra,hi[5]=Pi,hi[6]=Oo,Yr[0]=no,Yr[1]=Pa,Yr[2]=No,Yr[3]=Mi,Yr[4]=Fo,Yr[5]=Va,Yr[6]=Bo,he=1}else he=0}he&&(he=(function(pt,gn){for(pt.M=0;pt.M<pt.Va;++pt.M){var ct,Le=pt.Jc[pt.M&pt.Xb],xe=pt.m,tn=pt;for(ct=0;ct<tn.za;++ct){var it=xe,gt=tn,Vt=gt.Ac,Sn=gt.Bc+4*ct,Rn=gt.zc,qt=gt.ya[gt.aa+ct];if(gt.Qa.Bb?qt.$b=ue(it,gt.Pa.jb[0])?2+ue(it,gt.Pa.jb[2]):ue(it,gt.Pa.jb[1]):qt.$b=0,gt.kc&&(qt.Ad=ue(it,gt.Bd)),qt.Za=!ue(it,145)+0,qt.Za){var Dn=qt.Ob,On=0;for(gt=0;4>gt;++gt){var mn,mt=Rn[0+gt];for(mn=0;4>mn;++mn){mt=Yp[Vt[Sn+mn]][mt];for(var kt=Ou[ue(it,mt[0])];0<kt;)kt=Ou[2*kt+ue(it,mt[kt])];mt=-kt,Vt[Sn+mn]=mt}r(Dn,On,Vt,Sn,4),On+=4,Rn[0+gt]=mt}}else mt=ue(it,156)?ue(it,128)?1:3:ue(it,163)?2:0,qt.Ob[0]=mt,h(Vt,Sn,mt,4),h(Rn,0,mt,4);qt.Dd=ue(it,142)?ue(it,114)?ue(it,183)?1:3:2:0}if(tn.m.Ka)return un(pt,7,"Premature end-of-partition0 encountered.");for(;pt.ja<pt.za;++pt.ja){if(tn=Le,it=(xe=pt).rb[xe.sb-1],Vt=xe.rb[xe.sb+xe.ja],ct=xe.ya[xe.aa+xe.ja],Sn=xe.kc?ct.Ad:0)it.la=Vt.la=0,ct.Za||(it.Na=Vt.Na=0),ct.Hc=0,ct.Gc=0,ct.ia=0;else{var $t,St;if(it=Vt,Vt=tn,Sn=xe.Pa.Xc,Rn=xe.ya[xe.aa+xe.ja],qt=xe.pb[Rn.$b],gt=Rn.ad,Dn=0,On=xe.rb[xe.sb-1],mt=mn=0,h(gt,Dn,0,384),Rn.Za)var Cn=0,mr=Sn[3];else{kt=g(16);var nn=it.Na+On.Na;if(nn=Jo(Vt,Sn[1],nn,qt.Eb,0,kt,0),it.Na=On.Na=(0<nn)+0,1<nn)Qt(kt,0,gt,Dn);else{var Hn=kt[0]+3>>3;for(kt=0;256>kt;kt+=16)gt[Dn+kt]=Hn}Cn=1,mr=Sn[0]}var Lt=15&it.la,yn=15&On.la;for(kt=0;4>kt;++kt){var qn=1&yn;for(Hn=St=0;4>Hn;++Hn)Lt=Lt>>1|(qn=(nn=Jo(Vt,mr,nn=qn+(1&Lt),qt.Sc,Cn,gt,Dn))>Cn)<<7,St=St<<2|(3<nn?3:1<nn?2:gt[Dn+0]!=0),Dn+=16;Lt>>=4,yn=yn>>1|qn<<7,mn=(mn<<8|St)>>>0}for(mr=Lt,Cn=yn>>4,$t=0;4>$t;$t+=2){for(St=0,Lt=it.la>>4+$t,yn=On.la>>4+$t,kt=0;2>kt;++kt){for(qn=1&yn,Hn=0;2>Hn;++Hn)nn=qn+(1&Lt),Lt=Lt>>1|(qn=0<(nn=Jo(Vt,Sn[2],nn,qt.Qc,0,gt,Dn)))<<3,St=St<<2|(3<nn?3:1<nn?2:gt[Dn+0]!=0),Dn+=16;Lt>>=2,yn=yn>>1|qn<<5}mt|=St<<4*$t,mr|=Lt<<4<<$t,Cn|=(240&yn)<<$t}it.la=mr,On.la=Cn,Rn.Hc=mn,Rn.Gc=mt,Rn.ia=43690&mt?0:qt.ia,Sn=!(mn|mt)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[ct.$b][ct.Za],xe.wa[xe.Y+xe.ja].La|=!Sn),tn.Ka)return un(pt,7,"Premature end-of-file encountered.")}if(Di(pt),xe=gn,tn=1,ct=(Le=pt).D,it=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)t:{if(ct.M=Le.M,ct.uc=it,ui(Le,ct),tn=1,ct=(St=Le.D).Nb,it=(mt=Ns[Le.L])*Le.R,Vt=mt/2*Le.B,kt=16*ct*Le.R,Hn=8*ct*Le.B,Sn=Le.sa,Rn=Le.ta-it+kt,qt=Le.qa,gt=Le.ra-Vt+Hn,Dn=Le.Ha,On=Le.Ia-Vt+Hn,yn=(Lt=St.M)==0,mn=Lt>=Le.Va-1,Le.Aa==2&&ui(Le,St),St.uc)for(qn=(nn=Le).D.M,e(nn.D.uc),St=nn.yb;St<nn.Hb;++St){Cn=St,mr=qn;var Nn=($n=(In=nn).D).Nb;$t=In.R;var $n=$n.wa[$n.Y+Cn],Yn=In.sa,Vn=In.ta+16*Nn*$t+16*Cn,Zn=$n.dd,jt=$n.tc;if(jt!=0)if(e(3<=jt),In.L==1)0<Cn&&Tu(Yn,Vn,$t,jt+4),$n.La&&ku(Yn,Vn,$t,jt),0<mr&&bu(Yn,Vn,$t,jt+4),$n.La&&wu(Yn,Vn,$t,jt);else{var Xn=In.B,yr=In.qa,Hi=In.ra+8*Nn*Xn+8*Cn,Zr=In.Ha,In=In.Ia+8*Nn*Xn+8*Cn;Nn=$n.ld,0<Cn&&(pu(Yn,Vn,$t,jt+4,Zn,Nn),gu(yr,Hi,Zr,In,Xn,jt+4,Zn,Nn)),$n.La&&(yu(Yn,Vn,$t,jt,Zn,Nn),_u(yr,Hi,Zr,In,Xn,jt,Zn,Nn)),0<mr&&(hu(Yn,Vn,$t,jt+4,Zn,Nn),fu(yr,Hi,Zr,In,Xn,jt+4,Zn,Nn)),$n.La&&(mu(Yn,Vn,$t,jt,Zn,Nn),vu(yr,Hi,Zr,In,Xn,jt,Zn,Nn))}}if(Le.ia&&alert("todo:DitherRow"),xe.put!=null){if(St=16*Lt,Lt=16*(Lt+1),yn?(xe.y=Le.sa,xe.O=Le.ta+kt,xe.f=Le.qa,xe.N=Le.ra+Hn,xe.ea=Le.Ha,xe.W=Le.Ia+Hn):(St-=mt,xe.y=Sn,xe.O=Rn,xe.f=qt,xe.N=gt,xe.ea=Dn,xe.W=On),mn||(Lt-=mt),Lt>xe.o&&(Lt=xe.o),xe.F=null,xe.J=null,Le.Fa!=null&&0<Le.Fa.length&&St<Lt&&(xe.J=kn(Le,xe,St,Lt-St),xe.F=Le.mb,xe.F==null&&xe.F.length==0)){tn=un(Le,3,"Could not decode alpha data.");break t}St<xe.j&&(mt=xe.j-St,St=xe.j,e(!(1&mt)),xe.O+=Le.R*mt,xe.N+=Le.B*(mt>>1),xe.W+=Le.B*(mt>>1),xe.F!=null&&(xe.J+=xe.width*mt)),St<Lt&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=St-xe.j,xe.U=xe.va-xe.v,xe.T=Lt-St,tn=xe.put(xe))}ct+1!=Le.Ic||mn||(r(Le.sa,Le.ta-it,Sn,Rn+16*Le.R,it),r(Le.qa,Le.ra-Vt,qt,gt+8*Le.B,Vt),r(Le.Ha,Le.Ia-Vt,Dn,On+8*Le.B,Vt))}if(!tn)return un(pt,6,"Output aborted.")}return 1})(Q,ce)),ce.bc!=null&&ce.bc(ce),he&=1}return he?(Q.cb=0,he):0})(b,M)||(S=b.a)}}else S=b.a}S==0&&W.Oa!=null&&W.Oa.fd&&(S=jn(W.ba))}W=S}V=W!=0?null:11>V?G.f.RGBA.eb:G.f.kb.y}else V=null;return V};var Wu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,P){for(var A="",R=0;R<4;R++)A+=String.fromCharCode(D[P++]);return A}function f(D,P){return D[P+0]|D[P+1]<<8}function m(D,P){return(D[P+0]|D[P+1]<<8|D[P+2]<<16)>>>0}function p(D,P){return(D[P+0]|D[P+1]<<8|D[P+2]<<16|D[P+3]<<24)>>>0}new s;var n=[0],l=[0],i=[],u=new s,a=c,y=(function(D,P){var A={},R=0,z=!1,B=0,N=0;if(A.frames=[],!(function(O,U){for(var X=0;X<4;X++)if(O[U+X]!="RIFF".charCodeAt(X))return!0;return!1})(D,P)){for(p(D,P+=4),P+=8;P<D.length;){var Z=d(D,P),ne=p(D,P+=4);P+=4;var ie=ne+(1&ne);switch(Z){case"VP8 ":case"VP8L":A.frames[R]===void 0&&(A.frames[R]={}),(ae=A.frames[R]).src_off=z?N:P-8,ae.src_size=B+ne+8,R++,z&&(z=!1,B=0,N=0);break;case"VP8X":(ae=A.header={}).feature_flags=D[P];var Y=P+4;ae.canvas_width=1+m(D,Y),Y+=3,ae.canvas_height=1+m(D,Y),Y+=3;break;case"ALPH":z=!0,B=ie+8,N=P-8;break;case"ANIM":(ae=A.header).bgcolor=p(D,P),Y=P+4,ae.loop_count=f(D,Y),Y+=2;break;case"ANMF":var oe,ae;(ae=A.frames[R]={}).offset_x=2*m(D,P),P+=3,ae.offset_y=2*m(D,P),P+=3,ae.width=1+m(D,P),P+=3,ae.height=1+m(D,P),P+=3,ae.duration=m(D,P),P+=3,oe=D[P++],ae.dispose=1&oe,ae.blend=oe>>1&1}Z!="ANMF"&&(P+=ie)}return A}})(a,0);y.response=a,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,w=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,n=[v.canvas_height],l=[v.canvas_width];for(var T=0;T<w.length&&w[T].blend!=0;T++);}var k=w[0],I=u.WebPDecodeRGBA(a,k.src_off,k.src_size,l,n);k.rgba=I,k.imgwidth=l[0],k.imgheight=n[0];for(var C=0;C<l[0]*n[0]*4;C++)i[C]=I[C];return this.width=l,this.height=n,this.data=i,this}(function(c){var e,t,r,h,g,_,o,s,d,f=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new s,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new _,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new _,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};c.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,h=this.internal.getHorizontalCoordinate,g=this.internal.getVerticalCoordinate,_=this.internal.Point,o=this.internal.Rectangle,s=this.internal.Matrix,d=new f}]);var m=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=O;Object.defineProperty(this,"pdf",{get:function(){return U}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(me){X=!!me}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(me){re=!!me}});var H=0;Object.defineProperty(this,"posX",{get:function(){return H},set:function(me){isNaN(me)||(H=me)}});var L=0;Object.defineProperty(this,"posY",{get:function(){return L},set:function(me){isNaN(me)||(L=me)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(me){var te;typeof me=="number"?te=[me,me,me,me]:((te=new Array(4))[0]=me[0],te[1]=me.length>=2?me[1]:te[0],te[2]=me.length>=3?me[2]:te[0],te[3]=me.length>=4?me[3]:te[1]),d.margin=te}});var K=!1;Object.defineProperty(this,"autoPaging",{get:function(){return K},set:function(me){K=me}});var $=0;Object.defineProperty(this,"lastBreak",{get:function(){return $},set:function(me){$=me}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(me){ue=me}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(me){me instanceof f&&(d=me)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(me){d.path=me}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(me){ge=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var te;te=p(me),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var te=p(me);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var Ce=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(me){Ce=null,Ie=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var te;if(this.ctx.font=me,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var dt=te[1];te[2];var ot=te[3],We=te[4];te[5];var Se=te[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(je==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var De=(function($e){var Ve,Nt,vt=[],Oe=$e.trim();if(Oe==="")return Pl;if(Oe in gd)return[gd[Oe]];for(;Oe!=="";){switch(Nt=null,Ve=(Oe=yd(Oe)).charAt(0)){case'"':case"'":Nt=Kv(Oe.substring(1),Ve);break;default:Nt=Gv(Oe)}if(Nt===null||(vt.push(Nt[0]),(Oe=yd(Nt[1]))!==""&&Oe.charAt(0)!==","))return Pl;Oe=Oe.replace(/^,/,"")}return vt})(Se);if(this.fontFaces){var st=(function($e,Ve){if(Ce===null){var Nt=(function(vt){var Oe=[];return Object.keys(vt).forEach(function(nt){vt[nt].forEach(function(Pt){var ze=null;switch(Pt){case"bold":ze={family:nt,weight:"bold"};break;case"italic":ze={family:nt,style:"italic"};break;case"bolditalic":ze={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:nt}}ze!==null&&(ze.ref={name:nt,style:Pt},Oe.push(ze))})}),Oe})($e.getFontList());Ce=(function(vt){for(var Oe={},nt=0;nt<vt.length;++nt){var Pt=El(vt[nt]),ze=Pt.family,ht=Pt.stretch,rt=Pt.style,Zt=Pt.weight;Oe[ze]=Oe[ze]||{},Oe[ze][ht]=Oe[ze][ht]||{},Oe[ze][ht][rt]=Oe[ze][ht][rt]||{},Oe[ze][ht][rt][Zt]=Pt}return Oe})(Nt.concat(Ve))}return Ce})(this.pdf,this.fontFaces),Ue=De.map(function($e){return{family:$e,stretch:"normal",weight:ot,style:dt}}),yt=(function($e,Ve,Nt){for(var vt=(Nt=Nt||{}).defaultFontFamily||"times",Oe=Object.assign({},zv,Nt.genericFontFamilies||{}),nt=null,Pt=null,ze=0;ze<Ve.length;++ze)if(Oe[(nt=El(Ve[ze])).family]&&(nt.family=Oe[nt.family]),$e.hasOwnProperty(nt.family)){Pt=$e[nt.family];break}if(!(Pt=Pt||$e[vt]))throw new Error("Could not find a font-family for the rule '"+md(nt)+"' and default family '"+vt+"'.");if(Pt=(function(ht,rt){if(rt[ht])return rt[ht];var Zt=Jl[ht],hn=Zt<=Jl.normal?-1:1,Mt=fd(rt,wp,Zt,hn);if(!Mt)throw new Error("Could not find a matching font-stretch value for "+ht);return Mt})(nt.stretch,Pt),Pt=(function(ht,rt){if(rt[ht])return rt[ht];for(var Zt=Tp[ht],hn=0;hn<Zt.length;++hn)if(rt[Zt[hn]])return rt[Zt[hn]];throw new Error("Could not find a matching font-style for "+ht)})(nt.style,Pt),!(Pt=(function(ht,rt){if(rt[ht])return rt[ht];if(ht===400&&rt[500])return rt[500];if(ht===500&&rt[400])return rt[400];var Zt=Wv[ht],hn=fd(rt,kp,Zt,ht<400?-1:1);if(!hn)throw new Error("Could not find a matching font-weight for value "+ht);return hn})(nt.weight,Pt)))throw new Error("Failed to resolve a font for the rule '"+md(nt)+"'.");return Pt})(st,Ue);this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var et="";(ot==="bold"||parseInt(ot,10)>=700||dt==="bold")&&(et="bold"),dt==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var tt="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<De.length;at++){if(this.pdf.internal.getFont(De[at],et,{noFallback:!0,disableWarning:!0})!==void 0){tt=De[at];break}if(et==="bolditalic"&&this.pdf.internal.getFont(De[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=De[at],et="bold";else if(this.pdf.internal.getFont(De[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=De[at],et="normal";break}}if(tt===""){for(var He=0;He<De.length;He++)if(Dt[De[He]]){tt=Dt[De[He]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};m.prototype.setLineDash=function(O){this.lineDash=O},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){w.call(this,"fill",!1)},m.prototype.stroke=function(){w.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(O,U){if(isNaN(O)||isNaN(U))throw Ot.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new _(O,U));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new _(O,U)},m.prototype.closePath=function(){var O=new _(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&xt(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){O=new _(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new _(O.x,O.y)},m.prototype.lineTo=function(O,U){if(isNaN(O)||isNaN(U))throw Ot.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new _(O,U));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new _(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},m.prototype.quadraticCurveTo=function(O,U,X,re){if(isNaN(X)||isNaN(re)||isNaN(O)||isNaN(U))throw Ot.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var H=this.ctx.transform.applyToPoint(new _(X,re)),L=this.ctx.transform.applyToPoint(new _(O,U));this.path.push({type:"qct",x1:L.x,y1:L.y,x:H.x,y:H.y}),this.ctx.lastPoint=new _(H.x,H.y)},m.prototype.bezierCurveTo=function(O,U,X,re,H,L){if(isNaN(H)||isNaN(L)||isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re))throw Ot.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var K=this.ctx.transform.applyToPoint(new _(H,L)),$=this.ctx.transform.applyToPoint(new _(O,U)),ue=this.ctx.transform.applyToPoint(new _(X,re));this.path.push({type:"bct",x1:$.x,y1:$.y,x2:ue.x,y2:ue.y,x:K.x,y:K.y}),this.ctx.lastPoint=new _(K.x,K.y)},m.prototype.arc=function(O,U,X,re,H,L){if(isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re)||isNaN(H))throw Ot.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(L=!!L,!this.ctx.transform.isIdentity){var K=this.ctx.transform.applyToPoint(new _(O,U));O=K.x,U=K.y;var $=this.ctx.transform.applyToPoint(new _(0,X)),ue=this.ctx.transform.applyToPoint(new _(0,0));X=Math.sqrt(Math.pow($.x-ue.x,2)+Math.pow($.y-ue.y,2))}Math.abs(H-re)>=2*Math.PI&&(re=0,H=2*Math.PI),this.path.push({type:"arc",x:O,y:U,radius:X,startAngle:re,endAngle:H,counterclockwise:L})},m.prototype.arcTo=function(O,U,X,re,H){throw new Error("arcTo not implemented.")},m.prototype.rect=function(O,U,X,re){if(isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re))throw Ot.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,U),this.lineTo(O+X,U),this.lineTo(O+X,U+re),this.lineTo(O,U+re),this.lineTo(O,U),this.lineTo(O+X,U),this.lineTo(O,U)},m.prototype.fillRect=function(O,U,X,re){if(isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re))throw Ot.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!n.call(this)){var H={};this.lineCap!=="butt"&&(H.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(H.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,U,X,re),this.fill(),H.hasOwnProperty("lineCap")&&(this.lineCap=H.lineCap),H.hasOwnProperty("lineJoin")&&(this.lineJoin=H.lineJoin)}},m.prototype.strokeRect=function(O,U,X,re){if(isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re))throw Ot.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");l.call(this)||(this.beginPath(),this.rect(O,U,X,re),this.stroke())},m.prototype.clearRect=function(O,U,X,re){if(isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re))throw Ot.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,U,X,re))},m.prototype.save=function(O){O=typeof O!="boolean"||O;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},m.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(U),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(O){var U,X,re,H;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))U=0,X=0,re=0,H=0;else{var L=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(L!==null)U=parseInt(L[1]),X=parseInt(L[2]),re=parseInt(L[3]),H=1;else if((L=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)U=parseInt(L[1]),X=parseInt(L[2]),re=parseInt(L[3]),H=parseFloat(L[4]);else{if(H=1,typeof O=="string"&&O.charAt(0)!=="#"){var K=new fp(O);O=K.ok?K.toHex():"#000000"}O.length===4?(U=O.substring(1,2),U+=U,X=O.substring(2,3),X+=X,re=O.substring(3,4),re+=re):(U=O.substring(1,3),X=O.substring(3,5),re=O.substring(5,7)),U=parseInt(U,16),X=parseInt(X,16),re=parseInt(re,16)}}return{r:U,g:X,b:re,a:H,style:O}},n=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},l=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(O,U,X,re){if(isNaN(U)||isNaN(X)||typeof O!="string")throw Ot.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!n.call(this)){var H=ie(this.ctx.transform.rotation),L=this.ctx.transform.scaleX;R.call(this,{text:O,x:U,y:X,scale:L,angle:H,align:this.textAlign,maxWidth:re})}},m.prototype.strokeText=function(O,U,X,re){if(isNaN(U)||isNaN(X)||typeof O!="string")throw Ot.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!l.call(this)){re=isNaN(re)?void 0:re;var H=ie(this.ctx.transform.rotation),L=this.ctx.transform.scaleX;R.call(this,{text:O,x:U,y:X,scale:L,renderingMode:"stroke",angle:H,align:this.textAlign,maxWidth:re})}},m.prototype.measureText=function(O){if(typeof O!="string")throw Ot.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,X=this.pdf.internal.scaleFactor,re=U.internal.getFontSize(),H=U.getStringUnitWidth(O)*re/U.internal.scaleFactor;return new function(L){var K=(L=L||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return K}}),this}({width:H*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(O,U){if(isNaN(O)||isNaN(U))throw Ot.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new s(O,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(O){if(isNaN(O))throw Ot.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new s(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.translate=function(O,U){if(isNaN(O)||isNaN(U))throw Ot.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new s(1,0,0,1,O,U);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(O,U,X,re,H,L){if(isNaN(O)||isNaN(U)||isNaN(X)||isNaN(re)||isNaN(H)||isNaN(L))throw Ot.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var K=new s(O,U,X,re,H,L);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.setTransform=function(O,U,X,re,H,L){O=isNaN(O)?1:O,U=isNaN(U)?0:U,X=isNaN(X)?0:X,re=isNaN(re)?1:re,H=isNaN(H)?0:H,L=isNaN(L)?0:L,this.ctx.transform=new s(O,U,X,re,H,L)};var i=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(O,U,X,re,H,L,K,$,ue){var ge=this.pdf.getImageProperties(O),Ce=1,Ie=1,me=1,te=1;re!==void 0&&$!==void 0&&(me=$/re,te=ue/H,Ce=ge.width/re*$/re,Ie=ge.height/H*ue/H),L===void 0&&(L=U,K=X,U=0,X=0),re!==void 0&&$===void 0&&($=re,ue=H),re===void 0&&$===void 0&&($=ge.width,ue=ge.height);for(var dt,ot=this.ctx.transform.decompose(),We=ie(ot.rotate.shx),Se=new s,je=(Se=(Se=(Se=Se.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new o(L-U*me,K-X*te,re*Ce,H*Ie)),De=u.call(this,je),st=[],Ue=0;Ue<De.length;Ue+=1)st.indexOf(De[Ue])===-1&&st.push(De[Ue]);if(v(st),this.autoPaging)for(var yt=st[0],et=st[st.length-1],tt=yt;tt<et+1;tt++){this.pdf.setPage(tt);var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=tt===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=tt===1?0:He+(tt-2)*$e;if(this.ctx.clip_path.length!==0){var Nt=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(dt,this.posX+this.margin[3],-Ve+at+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Nt}var vt=JSON.parse(JSON.stringify(je));vt=y([vt],this.posX+this.margin[3],-Ve+at+this.ctx.prevPageLastElemOffset)[0];var Oe=(tt>yt||tt<et)&&i.call(this);Oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,$e,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,We),Oe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",je.x,je.y,je.w,je.h,null,null,We)};var u=function(O,U,X){var re=[];U=U||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var H=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":re.push(Math.floor((O.y+H)/X)+1);break;case"arc":re.push(Math.floor((O.y+H-O.radius)/X)+1),re.push(Math.floor((O.y+H+O.radius)/X)+1);break;case"qct":var L=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);re.push(Math.floor((L.y+H)/X)+1),re.push(Math.floor((L.y+L.h+H)/X)+1);break;case"bct":var K=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);re.push(Math.floor((K.y+H)/X)+1),re.push(Math.floor((K.y+K.h+H)/X)+1);break;case"rect":re.push(Math.floor((O.y+H)/X)+1),re.push(Math.floor((O.y+O.h+H)/X)+1)}for(var $=0;$<re.length;$+=1)for(;this.pdf.internal.getNumberOfPages()<re[$];)a.call(this);return re},a=function(){var O=this.fillStyle,U=this.strokeStyle,X=this.font,re=this.lineCap,H=this.lineWidth,L=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=U,this.font=X,this.lineCap=re,this.lineWidth=H,this.lineJoin=L},y=function(O,U,X){for(var re=0;re<O.length;re++)switch(O[re].type){case"bct":O[re].x2+=U,O[re].y2+=X;case"qct":O[re].x1+=U,O[re].y1+=X;default:O[re].x+=U,O[re].y+=X}return O},v=function(O){return O.sort(function(U,X){return U-X})},w=function(O,U){for(var X,re,H=this.fillStyle,L=this.strokeStyle,K=this.lineCap,$=this.lineWidth,ue=Math.abs($*this.ctx.transform.scaleX),ge=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),me=[],te=0;te<Ie.length;te++)if(Ie[te].x!==void 0)for(var dt=u.call(this,Ie[te]),ot=0;ot<dt.length;ot+=1)me.indexOf(dt[ot])===-1&&me.push(dt[ot]);for(var We=0;We<me.length;We++)for(;this.pdf.internal.getNumberOfPages()<me[We];)a.call(this);if(v(me),this.autoPaging)for(var Se=me[0],je=me[me.length-1],De=Se;De<je+1;De++){this.pdf.setPage(De),this.fillStyle=H,this.strokeStyle=L,this.lineCap=K,this.lineWidth=ue,this.lineJoin=ge;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=De===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=De===1?0:yt+(De-2)*et;if(this.ctx.clip_path.length!==0){var Dt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(X,this.posX+this.margin[3],-tt+Ue+this.ctx.prevPageLastElemOffset),T.call(this,O,!0),this.path=Dt}if(re=JSON.parse(JSON.stringify(Ce)),this.path=y(re,this.posX+this.margin[3],-tt+Ue+this.ctx.prevPageLastElemOffset),U===!1||De===0){var at=(De>Se||De<je)&&i.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,et,null).clip().discardPath()),T.call(this,O,U),at&&this.pdf.restoreGraphicsState()}this.lineWidth=$}else this.lineWidth=ue,T.call(this,O,U),this.lineWidth=$;this.path=Ce},T=function(O,U){if((O!=="stroke"||U||!l.call(this))&&(O==="stroke"||U||!n.call(this))){for(var X,re,H=[],L=this.path,K=0;K<L.length;K++){var $=L[K];switch($.type){case"begin":H.push({begin:!0});break;case"close":H.push({close:!0});break;case"mt":H.push({start:$,deltas:[],abs:[]});break;case"lt":var ue=H.length;if(L[K-1]&&!isNaN(L[K-1].x)&&(X=[$.x-L[K-1].x,$.y-L[K-1].y],ue>0)){for(;ue>=0;ue--)if(H[ue-1].close!==!0&&H[ue-1].begin!==!0){H[ue-1].deltas.push(X),H[ue-1].abs.push($);break}}break;case"bct":X=[$.x1-L[K-1].x,$.y1-L[K-1].y,$.x2-L[K-1].x,$.y2-L[K-1].y,$.x-L[K-1].x,$.y-L[K-1].y],H[H.length-1].deltas.push(X);break;case"qct":var ge=L[K-1].x+2/3*($.x1-L[K-1].x),Ce=L[K-1].y+2/3*($.y1-L[K-1].y),Ie=$.x+2/3*($.x1-$.x),me=$.y+2/3*($.y1-$.y),te=$.x,dt=$.y;X=[ge-L[K-1].x,Ce-L[K-1].y,Ie-L[K-1].x,me-L[K-1].y,te-L[K-1].x,dt-L[K-1].y],H[H.length-1].deltas.push(X);break;case"arc":H.push({deltas:[],abs:[],arc:!0}),Array.isArray(H[H.length-1].abs)&&H[H.length-1].abs.push($)}}re=U?null:O==="stroke"?"stroke":"fill";for(var ot=!1,We=0;We<H.length;We++)if(H[We].arc)for(var Se=H[We].abs,je=0;je<Se.length;je++){var De=Se[je];De.type==="arc"?C.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,U,!ot):z.call(this,De.x,De.y),ot=!0}else if(H[We].close===!0)this.pdf.internal.out("h"),ot=!1;else if(H[We].begin!==!0){var st=H[We].start.x,Ue=H[We].start.y;B.call(this,H[We].deltas,st,Ue),ot=!0}re&&D.call(this,re),U&&P.call(this)}},k=function(O){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-X;case"top":return O+U-X;case"hanging":return O+U-2*X;case"middle":return O+U/2-X;default:return O}},I=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(U,X){this.colorStops.push([U,X])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(O,U,X,re,H,L,K,$,ue){for(var ge=Z.call(this,X,re,H,L),Ce=0;Ce<ge.length;Ce++){var Ie=ge[Ce];Ce===0&&(ue?A.call(this,Ie.x1+O,Ie.y1+U):z.call(this,Ie.x1+O,Ie.y1+U)),N.call(this,O,U,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}$?P.call(this):D.call(this,K)},D=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(O,U){this.pdf.internal.out(t(O)+" "+r(U)+" m")},R=function(O){var U;switch(O.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var X=this.pdf.getTextDimensions(O.text),re=k.call(this,O.y),H=I.call(this,re)-X.h,L=this.ctx.transform.applyToPoint(new _(O.x,re)),K=this.ctx.transform.decompose(),$=new s;$=($=($=$.multiply(K.translate)).multiply(K.skew)).multiply(K.scale);for(var ue,ge,Ce,Ie=this.ctx.transform.applyToRectangle(new o(O.x,re,X.w,X.h)),me=$.applyToRectangle(new o(O.x,H,X.w,X.h)),te=u.call(this,me),dt=[],ot=0;ot<te.length;ot+=1)dt.indexOf(te[ot])===-1&&dt.push(te[ot]);if(v(dt),this.autoPaging)for(var We=dt[0],Se=dt[dt.length-1],je=We;je<Se+1;je++){this.pdf.setPage(je);var De=je===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[2],yt=Ue-this.margin[0],et=this.pdf.internal.pageSize.width-this.margin[1],tt=et-this.margin[3],Dt=je===1?0:st+(je-2)*yt;if(this.ctx.clip_path.length!==0){var at=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ue,this.posX+this.margin[3],-1*Dt+De),T.call(this,"fill",!0),this.path=at}var He=y([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-Dt+De+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*O.scale),Ce=this.lineWidth,this.lineWidth=Ce*O.scale);var $e=this.autoPaging!=="text";if($e||He.y+He.h<=Ue){if($e||He.y>=De&&He.x<=et){var Ve=$e?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||et-He.x)[0],Nt=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Dt+De+this.ctx.prevPageLastElemOffset)[0],vt=$e&&(je>We||je<Se)&&i.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,yt,null).clip().discardPath()),this.pdf.text(Ve,Nt.x,Nt.y,{angle:O.angle,align:U,renderingMode:O.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else He.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-He.y);O.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=Ce)}else O.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*O.scale),Ce=this.lineWidth,this.lineWidth=Ce*O.scale),this.pdf.text(O.text,L.x+this.posX,L.y+this.posY,{angle:O.angle,align:U,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=Ce)},z=function(O,U,X,re){X=X||0,re=re||0,this.pdf.internal.out(t(O+X)+" "+r(U+re)+" l")},B=function(O,U,X){return this.pdf.lines(O,U,X,null,null)},N=function(O,U,X,re,H,L,K,$){this.pdf.internal.out([e(h(X+O)),e(g(re+U)),e(h(H+O)),e(g(L+U)),e(h(K+O)),e(g($+U)),"c"].join(" "))},Z=function(O,U,X,re){for(var H=2*Math.PI,L=Math.PI/2;U>X;)U-=H;var K=Math.abs(X-U);K<H&&re&&(K=H-K);for(var $=[],ue=re?-1:1,ge=U;K>1e-5;){var Ce=ge+ue*Math.min(K,L);$.push(ne.call(this,O,ge,Ce)),K-=Math.abs(Ce-ge),ge=Ce}return $},ne=function(O,U,X){var re=(X-U)/2,H=O*Math.cos(re),L=O*Math.sin(re),K=H,$=-L,ue=K*K+$*$,ge=ue+K*H+$*L,Ce=4/3*(Math.sqrt(2*ue*ge)-ge)/(K*L-$*H),Ie=K-Ce*$,me=$+Ce*K,te=Ie,dt=-me,ot=re+U,We=Math.cos(ot),Se=Math.sin(ot);return{x1:O*Math.cos(U),y1:O*Math.sin(U),x2:Ie*We-me*Se,y2:Ie*Se+me*We,x3:te*We-dt*Se,y3:te*Se+dt*We,x4:O*Math.cos(X),y4:O*Math.sin(X)}},ie=function(O){return 180*O/Math.PI},Y=function(O,U,X,re,H,L){var K=O+.5*(X-O),$=U+.5*(re-U),ue=H+.5*(X-H),ge=L+.5*(re-L),Ce=Math.min(O,H,K,ue),Ie=Math.max(O,H,K,ue),me=Math.min(U,L,$,ge),te=Math.max(U,L,$,ge);return new o(Ce,me,Ie-Ce,te-me)},oe=function(O,U,X,re,H,L,K,$){var ue,ge,Ce,Ie,me,te,dt,ot,We,Se,je,De,st,Ue,yt=X-O,et=re-U,tt=H-X,Dt=L-re,at=K-H,He=$-L;for(ge=0;ge<41;ge++)We=(dt=(Ce=O+(ue=ge/40)*yt)+ue*((me=X+ue*tt)-Ce))+ue*(me+ue*(H+ue*at-me)-dt),Se=(ot=(Ie=U+ue*et)+ue*((te=re+ue*Dt)-Ie))+ue*(te+ue*(L+ue*He-te)-ot),ge==0?(je=We,De=Se,st=We,Ue=Se):(je=Math.min(je,We),De=Math.min(De,Se),st=Math.max(st,We),Ue=Math.max(Ue,Se));return new o(Math.round(je),Math.round(De),Math.round(st-je),Math.round(Ue-De))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,U,X=(O=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:U}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Fe.API),(function(c){var e=function(_){var o,s,d,f,m,p,n,l,i,u;for(s=[],d=0,f=(_+=o="\0\0\0\0".slice(_.length%4||4)).length;f>d;d+=4)(m=(_.charCodeAt(d)<<24)+(_.charCodeAt(d+1)<<16)+(_.charCodeAt(d+2)<<8)+_.charCodeAt(d+3))!==0?(p=(m=((m=((m=((m=(m-(u=m%85))/85)-(i=m%85))/85)-(l=m%85))/85)-(n=m%85))/85)%85,s.push(p+33,n+33,l+33,i+33,u+33)):s.push(122);return(function(a,y){for(var v=y;v>0;v--)a.pop()})(s,o.length),String.fromCharCode.apply(String,s)+"~>"},t=function(_){var o,s,d,f,m,p=String,n="length",l=255,i="charCodeAt",u="slice",a="replace";for(_[u](-2),_=_[u](0,-2)[a](/\s/g,"")[a]("z","!!!!!"),d=[],f=0,m=(_+=o="uuuuu"[u](_[n]%5||5))[n];m>f;f+=5)s=52200625*(_[i](f)-33)+614125*(_[i](f+1)-33)+7225*(_[i](f+2)-33)+85*(_[i](f+3)-33)+(_[i](f+4)-33),d.push(l&s>>24,l&s>>16,l&s>>8,l&s);return(function(y,v){for(var w=v;w>0;w--)y.pop()})(d,o[n]),p.fromCharCode.apply(p,d)},r=function(_){return _.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},h=function(_){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((_=_.replace(/\s/g,"")).indexOf(">")!==-1&&(_=_.substr(0,_.indexOf(">"))),_.length%2&&(_+="0"),o.test(_)===!1)return"";for(var s="",d=0;d<_.length;d+=2)s+=String.fromCharCode("0x"+(_[d]+_[d+1]));return s},g=function(_){for(var o=new Uint8Array(_.length),s=_.length;s--;)o[s]=_.charCodeAt(s);return(o=Kl(o)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};c.processDataByFilters=function(_,o){var s=0,d=_||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=h(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=g(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Fe.API),(function(c){c.loadFile=function(e,t,r){return(function(h,g,_){g=g!==!1,_=typeof _=="function"?_:function(){};var o=void 0;try{o=(function(s,d,f){var m=new XMLHttpRequest,p=0,n=function(l){var i=l.length,u=[],a=String.fromCharCode;for(p=0;p<i;p+=1)u.push(a(255&l.charCodeAt(p)));return u.join("")};if(m.open("GET",s,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(n(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return n(m.responseText)})(h,g,_)}catch{}return o})(e,t,r)},c.loadImageFile=c.loadFile})(Fe.API),(function(c){function e(){return(Ze.html2canvas?Promise.resolve(Ze.html2canvas):sl(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Ze.DOMPurify?Promise.resolve(Ze.DOMPurify):sl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=xt(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},h=function(o,s){var d=document.createElement(o);for(var f in s.className&&(d.className=s.className),s.innerHTML&&s.dompurify&&(d.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)d.style[f]=s.style[f];return d},g=function o(s,d){for(var f=s.nodeType===3?document.createTextNode(s.nodeValue):s.cloneNode(!1),m=s.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(o(m,d));return s.nodeType===1&&(s.nodeName==="CANVAS"?(f.width=s.width,f.height=s.height,f.getContext("2d").drawImage(s,0,0)):s.nodeName!=="TEXTAREA"&&s.nodeName!=="SELECT"||(f.value=s.value),f.addEventListener("load",function(){f.scrollTop=s.scrollTop,f.scrollLeft=s.scrollLeft},!0)),f},_=function o(s){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),d);return(f=f.setProgress(1,o,1,[o])).set(s)};(_.prototype=Object.create(Promise.prototype)).constructor=_,_.convert=function(o,s){return o.__proto__=s||_.prototype,o},_.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},_.prototype.from=function(o,s){return this.then(function(){switch(s=s||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),s){case"string":return this.then(t).then(function(d){return this.set({src:h("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},_.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},_.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=g(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=h("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=h("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(h("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},_.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,s(this.prop.container,d)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},_.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var d=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var n=0;n<f.length;++n){var l=f[n],i=l.src.find(function(u){return u.format==="truetype"});i&&d.addFont(i.url,l.ref.name,l.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),s(this.prop.container,p)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},_.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},_.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},_.prototype.output=function(o,s,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},_.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},_.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},_.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},_.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},_.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(d){if(d in _.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(s)})},_.prototype.get=function(o,s){return this.then(function(){var d=o in _.template.prop?this.prop[o]:this.opt[o];return s?s(d):d})},_.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},_.prototype.setPageSize=function(o){function s(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(o=o||Fe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},_.prototype.setProgress=function(o,s,d,f){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},_.prototype.updateProgress=function(o,s,d,f){return this.setProgress(o?this.progress.val+o:null,s||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},_.prototype.then=function(o,s){var d=this;return this.thenCore(o,s,function(f,m){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,f),p}).then(f,m).then(function(p){return d.updateProgress(1),p})})},_.prototype.thenCore=function(o,s,d){d=d||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),s&&(s=s.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:_.convert(Object.assign({},f),Promise.prototype),p=d.call(m,o,s);return _.convert(p,f.__proto__)},_.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},_.prototype.thenList=function(o){var s=this;return o.forEach(function(d){s=s.thenCore(d)}),s},_.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return _.convert(s,this)},_.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},_.prototype.error=function(o){return this.then(function(){throw new Error(o)})},_.prototype.using=_.prototype.set,_.prototype.saveAs=_.prototype.save,_.prototype.export=_.prototype.output,_.prototype.run=_.prototype.then,Fe.getPageSize=function(o,s,d){if(xt(o)==="object"){var f=o;o=f.orientation,s=f.unit||s,d=f.format||d}s=s||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var m,p=(""+d).toLowerCase(),n={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+s}var l,i=0,u=0;if(n.hasOwnProperty(p))i=n[p][1]/m,u=n[p][0]/m;else try{i=d[1],u=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",u>i&&(l=u,u=i,i=l);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",i>u&&(l=u,u=i,i=l)}return{width:u,height:i,unit:s,k:m,orientation:o}},c.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(El):null;var d=new _(s);return s.worker?d:d.from(o).doCallback()}})(Fe.API),Fe.API.addJS=function(c){return _d=c,this.internal.events.subscribe("postPutResources",function(){na=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(na+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_d+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){na!==void 0&&vd!==void 0&&this.internal.out("/Names <</JavaScript "+na+" 0 R>>")}),this},(function(c){var e;c.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var h=t.outline.render().split(/\r\n/),g=0;g<h.length;g++){var _=h[g],o=r.exec(_);if(o!=null){var s=o[1];t.internal.newObjectDeferredBegin(s,!1)}t.internal.write(_)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(g=0;g<d;g++){var m=t.internal.newObject();f.push(m);var p=t.internal.getPageInfo(g+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var n=t.internal.newObject();for(t.internal.write("<< /Names [ "),g=0;g<f.length;g++)t.internal.write("(page_"+(g+1)+")"+f[g]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+n+" 0 R"),t.internal.write(">>","endobj")}}]),c.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),c.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,h,g){var _={title:h,options:g,children:[]};return r==null&&(r=this.root),r.children.push(_),_},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var h=0;h<r.children.length;h++)this.genIds_r(r.children[h])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var h=this.ctx.pdf.internal.getVerticalCoordinateString,g=0;g<r.children.length;g++){var _=r.children[g];this.objStart(_),this.line("/Title "+this.makeString(_.title)),this.line("/Parent "+this.makeRef(r)),g>0&&this.line("/Prev "+this.makeRef(r.children[g-1])),g<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[g+1])),_.children.length>0&&(this.line("/First "+this.makeRef(_.children[0])),this.line("/Last "+this.makeRef(_.children[_.children.length-1])));var o=this.count=this.count_r({count:0},_);if(o>0&&this.line("/Count "+o),_.options&&_.options.pageNumber){var s=t.internal.getPageInfo(_.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+h(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,h){for(var g=0;g<h.children.length;g++)r.count++,this.count_r(r,h.children[g]);return r.count}}])})(Fe.API),(function(c){var e=[192,193,194,195,196,197,198,199];c.processJPEG=function(t,r,h,g,_,o){var s,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=_||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,s=(function(m){for(var p,n=256*m.charCodeAt(4)+m.charCodeAt(5),l=m.length,i={width:0,height:0,numcomponents:1},u=4;u<l;u+=2){if(u+=n,e.indexOf(m.charCodeAt(u+1))!==-1){p=256*m.charCodeAt(u+5)+m.charCodeAt(u+6),i={width:256*m.charCodeAt(u+7)+m.charCodeAt(u+8),height:p,numcomponents:m.charCodeAt(u+9)};break}n=256*m.charCodeAt(u+2)+m.charCodeAt(u+3)}return i})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:t,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:d,index:r,alias:h}}return f}})(Fe.API),Fe.API.processPNG=function(c,e,t,r){if(this.__addimage__.isArrayBuffer(c)&&(c=new Uint8Array(c)),this.__addimage__.isArrayBufferView(c)){var h,g=Av(c,{checkCrc:!0}),_=g.width,o=g.height,s=g.channels,d=g.palette,f=g.depth;h=d&&s===1?(function(I){for(var C=I.width,D=I.height,P=I.data,A=I.palette,R=I.depth,z=!1,B=[],N=[],Z=void 0,ne=!1,ie=0,Y=0;Y<A.length;Y++){var oe=kc(A[Y],4),ae=oe[0],O=oe[1],U=oe[2],X=oe[3];B.push(ae,O,U),X!=null&&(X===0?(ie++,N.length<1&&N.push(Y)):X<255&&(ne=!0))}if(ne||ie>1){z=!0,N=void 0;var re=C*D;Z=new Uint8Array(re);for(var H=new DataView(P.buffer),L=0;L<re;L++){var K=Ml(H,L,R),$=kc(A[K],4)[3];Z[L]=$}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:P,alphaBytes:Z,needSMask:z,palette:B,mask:N}})(g):s===2||s===4?(function(I){for(var C=I.data,D=I.width,P=I.height,A=I.channels,R=I.depth,z=A===2?"DeviceGray":"DeviceRGB",B=A-1,N=D*P,Z=B,ne=N*Z,ie=1*N,Y=Math.ceil(ne*R/8),oe=Math.ceil(ie*R/8),ae=new Uint8Array(Y),O=new Uint8Array(oe),U=new DataView(C.buffer),X=new DataView(ae.buffer),re=new DataView(O.buffer),H=!1,L=0;L<N;L++){for(var K=L*A,$=0;$<Z;$++)Dd(X,Ml(U,K+$,R),L*Z+$,R);var ue=Ml(U,K+Z,R);ue<(1<<R)-1&&(H=!0),Dd(re,ue,1*L,R)}return{colorSpace:z,colorsPerPixel:B,colorBytes:ae,alphaBytes:O,needSMask:H}})(g):(function(I){var C=I.data,D=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:C instanceof Uint8Array?C:new Uint8Array(C.buffer),needSMask:!1}})(g);var m,p,n,l=h,i=l.colorSpace,u=l.colorsPerPixel,a=l.colorBytes,y=l.alphaBytes,v=l.needSMask,w=l.palette,T=l.mask,k=null;return r!==Fe.API.image_compression.NONE&&typeof Kl=="function"?(k=(function(I){var C;switch(I){case Fe.API.image_compression.FAST:C=11;break;case Fe.API.image_compression.MEDIUM:C=13;break;case Fe.API.image_compression.SLOW:C=14;break;default:C=12}return C})(r),m=this.decode.FLATE_DECODE,p="/Predictor ".concat(k," "),c=kd(a,_*u,u,r),v&&(n=kd(y,_,1,r))):(m=void 0,p="",c=a,v&&(n=y)),p+="/Colors ".concat(u," /BitsPerComponent ").concat(f," /Columns ").concat(_),(this.__addimage__.isArrayBuffer(c)||this.__addimage__.isArrayBufferView(c))&&(c=this.__addimage__.arrayBufferToBinaryString(c)),(n&&this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),{alias:t,data:c,index:e,filter:m,decodeParameters:p,transparency:T,palette:w,sMask:n,predictor:k,width:_,height:o,bitsPerComponent:f,colorSpace:i}}},(function(c){c.processGIF89A=function(e,t,r,h){var g=new Zv(e),_=g.width,o=g.height,s=[];g.decodeAndBlitFrameRGBA(0,s);var d={data:s,width:_,height:o},f=new Ll(100).encode(d,100);return c.processJPEG.call(this,f,t,r,h)},c.processGIF87A=c.processGIF89A})(Fe.API),vr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var c=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(c);for(var e=0;e<c;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:h,green:r,blue:t,quad:g}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vr.prototype.parseBGR=function(){this.pos=this.offset;try{var c="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[c]()}catch(t){Ot.log("bit decode error:"+t)}},vr.prototype.bit1=function(){var c,e=Math.ceil(this.width/8),t=e%4;for(c=this.height-1;c>=0;c--){for(var r=this.bottom_up?c:this.height-1-c,h=0;h<e;h++)for(var g=this.datav.getUint8(this.pos++,!0),_=r*this.width*4+8*h*4,o=0;o<8&&8*h+o<this.width;o++){var s=this.palette[g>>7-o&1];this.data[_+4*o]=s.blue,this.data[_+4*o+1]=s.green,this.data[_+4*o+2]=s.red,this.data[_+4*o+3]=255}t!==0&&(this.pos+=4-t)}},vr.prototype.bit4=function(){for(var c=Math.ceil(this.width/2),e=c%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,h=0;h<c;h++){var g=this.datav.getUint8(this.pos++,!0),_=r*this.width*4+2*h*4,o=g>>4,s=15&g,d=this.palette[o];if(this.data[_]=d.blue,this.data[_+1]=d.green,this.data[_+2]=d.red,this.data[_+3]=255,2*h+1>=this.width)break;d=this.palette[s],this.data[_+4]=d.blue,this.data[_+4+1]=d.green,this.data[_+4+2]=d.red,this.data[_+4+3]=255}e!==0&&(this.pos+=4-e)}},vr.prototype.bit8=function(){for(var c=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var h=this.datav.getUint8(this.pos++,!0),g=t*this.width*4+4*r;if(h<this.palette.length){var _=this.palette[h];this.data[g]=_.red,this.data[g+1]=_.green,this.data[g+2]=_.blue,this.data[g+3]=255}else this.data[g]=255,this.data[g+1]=255,this.data[g+2]=255,this.data[g+3]=255}c!==0&&(this.pos+=4-c)}},vr.prototype.bit15=function(){for(var c=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,h=0;h<this.width;h++){var g=this.datav.getUint16(this.pos,!0);this.pos+=2;var _=(g&e)/e*255|0,o=(g>>5&e)/e*255|0,s=(g>>10&e)/e*255|0,d=g>>15?255:0,f=r*this.width*4+4*h;this.data[f]=s,this.data[f+1]=o,this.data[f+2]=_,this.data[f+3]=d}this.pos+=c}},vr.prototype.bit16=function(){for(var c=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var h=this.bottom_up?r:this.height-1-r,g=0;g<this.width;g++){var _=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(_&e)/e*255|0,s=(_>>5&t)/t*255|0,d=(_>>11)/e*255|0,f=h*this.width*4+4*g;this.data[f]=d,this.data[f+1]=s,this.data[f+2]=o,this.data[f+3]=255}this.pos+=c}},vr.prototype.bit24=function(){for(var c=this.height-1;c>=0;c--){for(var e=this.bottom_up?c:this.height-1-c,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0),_=e*this.width*4+4*t;this.data[_]=g,this.data[_+1]=h,this.data[_+2]=r,this.data[_+3]=255}this.pos+=this.width%4}},vr.prototype.bit32=function(){for(var c=this.height-1;c>=0;c--)for(var e=this.bottom_up?c:this.height-1-c,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=g,this.data[o+1]=h,this.data[o+2]=r,this.data[o+3]=_}},vr.prototype.getData=function(){return this.data},(function(c){c.processBMP=function(e,t,r,h){var g=new vr(e,!1),_=g.width,o=g.height,s={data:g.getData(),width:_,height:o},d=new Ll(100).encode(s,100);return c.processJPEG.call(this,d,t,r,h)}})(Fe.API),Ed.prototype.getData=function(){return this.data},(function(c){c.processWEBP=function(e,t,r,h){var g=new Ed(e),_=g.width,o=g.height,s={data:g.getData(),width:_,height:o},d=new Ll(100).encode(s,100);return c.processJPEG.call(this,d,t,r,h)}})(Fe.API),Fe.API.processRGBA=function(c,e,t){for(var r=c.data,h=r.length,g=new Uint8Array(h/4*3),_=new Uint8Array(h/4),o=0,s=0,d=0;d<h;d+=4){var f=r[d],m=r[d+1],p=r[d+2],n=r[d+3];g[o++]=f,g[o++]=m,g[o++]=p,_[s++]=n}var l=this.__addimage__.arrayBufferToBinaryString(g);return{alpha:this.__addimage__.arrayBufferToBinaryString(_),data:l,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:c.width,height:c.height}},Fe.API.setLanguage=function(c){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[c]!==void 0&&(this.internal.languageSettings.languageCode=c,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mo=Fe.API,ra=mo.getCharWidthsArray=function(c,e){var t,r,h=(e=e||{}).font||this.internal.getFont(),g=e.fontSize||this.internal.getFontSize(),_=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:h.metadata.Unicode.widths,s=o.fof?o.fof:1,d=e.kerning?e.kerning:h.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=e.doKerning!==!1,p=0,n=c.length,l=0,i=o[0]||s,u=[];for(t=0;t<n;t++)r=c.charCodeAt(t),typeof h.metadata.widthOfString=="function"?u.push((h.metadata.widthOfGlyph(h.metadata.characterToGlyph(r))+_*(1e3/g)||0)/1e3):(p=m&&xt(d[r])==="object"&&!isNaN(parseInt(d[r][l],10))?d[r][l]/f:0,u.push((o[r]||i)/s+p)),l=r;return u},bd=mo.getStringUnitWidth=function(c,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),h=e.charSpace||this.internal.getCharSpace();return mo.processArabic&&(c=mo.processArabic(c)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(c,t,h)/t:ra.apply(this,arguments).reduce(function(g,_){return g+_},0)},Td=function(c,e,t,r){for(var h=[],g=0,_=c.length,o=0;g!==_&&o+e[g]<t;)o+=e[g],g++;h.push(c.slice(0,g));var s=g;for(o=0;g!==_;)o+e[g]>r&&(h.push(c.slice(s,g)),o=0,s=g),o+=e[g],g++;return s!==g&&h.push(c.slice(s,g)),h},wd=function(c,e,t){t||(t={});var r,h,g,_,o,s,d,f=[],m=[f],p=t.textIndent||0,n=0,l=0,i=c.split(" "),u=ra.apply(this,[" ",t])[0];if(s=t.lineIndent===-1?i[0].length+2:t.lineIndent||0){var a=Array(s).join(" "),y=[];i.map(function(w){(w=w.split(/\s*\n/)).length>1?y=y.concat(w.map(function(T,k){return(k&&T.length?`
`:"")+T})):y.push(w[0])}),i=y,s=bd.apply(this,[a,t])}for(g=0,_=i.length;g<_;g++){var v=0;if(r=i[g],s&&r[0]==`
`&&(r=r.substr(1),v=1),p+n+(l=(h=ra.apply(this,[r,t])).reduce(function(w,T){return w+T},0))>e||v){if(l>e){for(o=Td.apply(this,[r,h,e-(p+n),e]),f.push(o.shift()),f=[o.pop()];o.length;)m.push([o.shift()]);l=h.slice(r.length-(f[0]?f[0].length:0)).reduce(function(w,T){return w+T},0)}else f=[r];m.push(f),p=l+s,n=u}else f.push(r),p+=n+l,n=u}return d=s?function(w,T){return(T?a:"")+w.join(" ")}:function(w){return w.join(" ")},m.map(d)},mo.splitTextToSize=function(c,e,t){var r,h=(t=t||{}).fontSize||this.internal.getFontSize(),g=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),p="Unicode";return m.metadata[p]?{widths:m.metadata[p].widths||{0:1},kerning:m.metadata[p].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(c)?c:String(c).split(/\r?\n/);var _=1*this.internal.scaleFactor*e/h;g.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/h:0,g.lineIndent=t.lineIndent;var o,s,d=[];for(o=0,s=r.length;o<s;o++)d=d.concat(wd.apply(this,[r[o],_,g]));return d},(function(c){c.__fontmetrics__=c.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},h={},g=0;g<16;g++)r[t[g]]=e[g],h[e[g]]=t[g];var _=function(p){return"0x"+parseInt(p,10).toString(16)},o=c.__fontmetrics__.compress=function(p){var n,l,i,u,a=["{"];for(var y in p){if(n=p[y],isNaN(parseInt(y,10))?l="'"+y+"'":(y=parseInt(y,10),l=(l=_(y).slice(2)).slice(0,-1)+h[l.slice(-1)]),typeof n=="number")n<0?(i=_(n).slice(3),u="-"):(i=_(n).slice(2),u=""),i=u+i.slice(0,-1)+h[i.slice(-1)];else{if(xt(n)!=="object")throw new Error("Don't know what to do with value type "+xt(n)+".");i=o(n)}a.push(l+i)}return a.push("}"),a.join("")},s=c.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var n,l,i,u,a={},y=1,v=a,w=[],T="",k="",I=p.length-1,C=1;C<I;C+=1)(u=p[C])=="'"?n?(i=n.join(""),n=void 0):n=[]:n?n.push(u):u=="{"?(w.push([v,i]),v={},i=void 0):u=="}"?((l=w.pop())[0][l[1]]=v,i=void 0,v=l[0]):u=="-"?y=-1:i===void 0?r.hasOwnProperty(u)?(T+=r[u],i=parseInt(T,16)*y,y=1,T=""):T+=u:r.hasOwnProperty(u)?(k+=r[u],v[i]=parseInt(k,16)*y,y=1,i=void 0,k=""):k+=u;return a},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};c.events.push(["addFont",function(p){var n=p.font,l=m.Unicode[n.postScriptName];l&&(n.metadata.Unicode={},n.metadata.Unicode.widths=l.widths,n.metadata.Unicode.kerning=l.kerning);var i=f.Unicode[n.postScriptName];i&&(n.metadata.Unicode.encoding=i,n.encoding=i.codePages[0])}])})(Fe.API),(function(c){var e=function(t){for(var r=t.length,h=new Uint8Array(r),g=0;g<r;g++)h[g]=t.charCodeAt(g);return h};c.API.events.push(["addFont",function(t){var r=void 0,h=t.font,g=t.instance;if(!h.isStandardFont){if(g===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+h.postScriptName+"').");if(typeof(r=g.existsFileInVFS(h.postScriptName)===!1?g.loadFile(h.postScriptName):g.getFileFromVFS(h.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+h.postScriptName+"').");(function(_,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(la(o)),_.metadata=c.API.TTFFont.open(o),_.metadata.Unicode=_.metadata.Unicode||{encoding:{},kerning:{},widths:[]},_.metadata.glyIdsUsed=[0]})(h,r)}}])})(Fe),Fe.API.addSvgAsImage=function(c,e,t,r,h,g,_,o){if(isNaN(e)||isNaN(t))throw Ot.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(h))throw Ot.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var s=document.createElement("canvas");s.width=r,s.height=h;var d=s.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,s.width,s.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Ze.canvg?Promise.resolve(Ze.canvg):sl(()=>import("./index.es-Bm5130Ph.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,c,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){m.addImage(s.toDataURL("image/jpeg",1),e,t,r,h,_,o)})},Fe.API.putTotalPages=function(c){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(c,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(c,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var h=0;h<this.internal.pages[r].length;h++)this.internal.pages[r][h]=this.internal.pages[r][h].replace(e,t);return this},Fe.API.viewerPreferences=function(c,e){var t;c=c||{},e=e||!1;var r,h,g,_={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(_),s=[],d=0,f=0,m=0;function p(l,i){var u,a=!1;for(u=0;u<l.length;u+=1)l[u]===i&&(a=!0);return a}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(_)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,c==="reset"||e===!0){var n=o.length;for(m=0;m<n;m+=1)t[o[m]].value=t[o[m]].defaultValue,t[o[m]].explicitSet=!1}if(xt(c)==="object"){for(h in c)if(g=c[h],p(o,h)&&g!==void 0){if(t[h].type==="boolean"&&typeof g=="boolean")t[h].value=g;else if(t[h].type==="name"&&p(t[h].valueSet,g))t[h].value=g;else if(t[h].type==="integer"&&Number.isInteger(g))t[h].value=g;else if(t[h].type==="array"){for(d=0;d<g.length;d+=1)if(r=!0,g[d].length===1&&typeof g[d][0]=="number")s.push(String(g[d]-1));else if(g[d].length>1){for(f=0;f<g[d].length;f+=1)typeof g[d][f]!="number"&&(r=!1);r===!0&&s.push([g[d][0]-1,g[d][1]-1].join(" "))}t[h].value="["+s.join(" ")+"]"}else t[h].value=t[h].defaultValue;t[h].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var l,i=[];for(l in t)t[l].explicitSet===!0&&(t[l].type==="name"?i.push("/"+l+" /"+t[l].value):i.push("/"+l+" "+t[l].value));i.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+i.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(c){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',h=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),g=unescape(encodeURIComponent(r)),_=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),d=g.length+_.length+o.length+h.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(h+g+_+o+s),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};c.addMetadata=function(r,h){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:h||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Fe.API),(function(c){var e=c.API,t=e.pdfEscape16=function(g,_){for(var o,s=_.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,p=g.length;m<p;++m){if(o=_.metadata.characterToGlyph(g.charCodeAt(m)),_.metadata.glyIdsUsed.push(o),_.metadata.toUnicode[o]=g.charCodeAt(m),s.indexOf(o)==-1&&(s.push(o),s.push([parseInt(_.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(d[4-o.length],o)}return f.join("")},r=function(g){var _,o,s,d,f,m,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,s=[],m=0,p=(o=Object.keys(g).sort(function(n,l){return n-l})).length;m<p;m++)_=o[m],s.length>=100&&(f+=`
`+s.length+` beginbfchar
`+s.join(`
`)+`
endbfchar`,s=[]),g[_]!==void 0&&g[_]!==null&&typeof g[_].toString=="function"&&(d=("0000"+g[_].toString(16)).slice(-4),_=("0000"+(+_).toString(16)).slice(-4),s.push("<"+_+"><"+d+">"));return s.length&&(f+=`
`+s.length+` beginbfchar
`+s.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(g){(function(_){var o=_.font,s=_.out,d=_.newObject,f=_.putStream;if(o.metadata instanceof c.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),n="",l=0;l<p.length;l++)n+=String.fromCharCode(p[l]);var i=d();f({data:n,addLength1:!0,objectId:i}),s("endobj");var u=d();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var a=d();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+_o(o.fontName)),s("/FontFile2 "+i+" 0 R"),s("/FontBBox "+c.API.PDFObject.convert(o.metadata.bbox)),s("/Flags "+o.metadata.flags),s("/StemV "+o.metadata.stemV),s("/ItalicAngle "+o.metadata.italicAngle),s("/Ascent "+o.metadata.ascender),s("/Descent "+o.metadata.decender),s("/CapHeight "+o.metadata.capHeight),s(">>"),s("endobj");var y=d();s("<<"),s("/Type /Font"),s("/BaseFont /"+_o(o.fontName)),s("/FontDescriptor "+a+" 0 R"),s("/W "+c.API.PDFObject.convert(m)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+o.encoding+")"),s(">>"),s(">>"),s("endobj"),o.objectNumber=d(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+u+" 0 R"),s("/BaseFont /"+_o(o.fontName)),s("/Encoding /"+o.encoding),s("/DescendantFonts ["+y+" 0 R]"),s(">>"),s("endobj"),o.isAlreadyPutted=!0}})(g)}]),e.events.push(["putFont",function(g){(function(_){var o=_.font,s=_.out,d=_.newObject,f=_.putStream;if(o.metadata instanceof c.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,p="",n=0;n<m.length;n++)p+=String.fromCharCode(m[n]);var l=d();f({data:p,addLength1:!0,objectId:l}),s("endobj");var i=d();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:i}),s("endobj");var u=d();s("<<"),s("/Descent "+o.metadata.decender),s("/CapHeight "+o.metadata.capHeight),s("/StemV "+o.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+l+" 0 R"),s("/Flags 96"),s("/FontBBox "+c.API.PDFObject.convert(o.metadata.bbox)),s("/FontName /"+_o(o.fontName)),s("/ItalicAngle "+o.metadata.italicAngle),s("/Ascent "+o.metadata.ascender),s(">>"),s("endobj"),o.objectNumber=d();for(var a=0;a<o.metadata.hmtx.widths.length;a++)o.metadata.hmtx.widths[a]=parseInt(o.metadata.hmtx.widths[a]*(1e3/o.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+i+" 0 R/BaseFont/"+_o(o.fontName)+"/FontDescriptor "+u+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+c.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),s("endobj"),o.isAlreadyPutted=!0}})(g)}]);var h=function(g){var _,o=g.text||"",s=g.x,d=g.y,f=g.options||{},m=g.mutex||{},p=m.pdfEscape,n=m.activeFontKey,l=m.fonts,i=n,u="",a=0,y="",v=l[i].encoding;if(l[i].encoding!=="Identity-H")return{text:o,x:s,y:d,options:f,mutex:m};for(y=o,i=n,Array.isArray(o)&&(y=o[0]),a=0;a<y.length;a+=1)l[i].metadata.hasOwnProperty("cmap")&&(_=l[i].metadata.cmap.unicode.codeMap[y[a].charCodeAt(0)]),_||y[a].charCodeAt(0)<256&&l[i].metadata.hasOwnProperty("Unicode")?u+=y[a]:u+="";var w="";return parseInt(i.slice(1))<14||v==="WinAnsiEncoding"?w=p(u,i).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(w=t(u,l[i])),m.isHex=!0,{text:w,x:s,y:d,options:f,mutex:m}};e.events.push(["postProcessText",function(g){var _=g.text||"",o=[],s={text:_,x:g.x,y:g.y,options:g.options,mutex:g.mutex};if(Array.isArray(_)){var d=0;for(d=0;d<_.length;d+=1)Array.isArray(_[d])&&_[d].length===3?o.push([h(Object.assign({},s,{text:_[d][0]})).text,_[d][1],_[d][2]]):o.push(h(Object.assign({},s,{text:_[d]})).text);g.text=o}else g.text=h(Object.assign({},s,{text:_})).text}])})(Fe),(function(c){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};c.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},c.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},c.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Fe.API),(function(c){c.__bidiEngine__=c.prototype.__bidiEngine__=function(r){var h,g,_,o,s,d,f,m=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],l={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},i={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},u=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],a=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var w=function(A){var R=A.charCodeAt(),z=R>>8,B=i[z];return B!==void 0?m[256*B+(255&R)]:z===252||z===253?"AL":a.test(z)?"L":z===8?"R":"N"},T=function(A){for(var R,z=0;z<A.length;z++){if((R=w(A.charAt(z)))==="L")return!1;if(R==="R")return!0}return!1},k=function(A,R,z,B){var N,Z,ne,ie,Y=R[B];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(Y="AN");break;case"AL":y=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":B<1||B+1>=R.length||(N=z[B-1])!=="EN"&&N!=="AN"||(Z=R[B+1])!=="EN"&&Z!=="AN"?Y="N":y&&(Z="AN"),Y=Z===N?Z:"N";break;case"ES":Y=(N=B>0?z[B-1]:"B")==="EN"&&B+1<R.length&&R[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&z[B-1]==="EN"){Y="EN";break}if(y){Y="N";break}for(ne=B+1,ie=R.length;ne<ie&&R[ne]==="ET";)ne++;Y=ne<ie&&R[ne]==="EN"?"EN":"N";break;case"NSM":if(_&&!o){for(ie=R.length,ne=B+1;ne<ie&&R[ne]==="NSM";)ne++;if(ne<ie){var oe=A[B],ae=oe>=1425&&oe<=2303||oe===64286;if(N=R[ne],ae&&(N==="R"||N==="AL")){Y="R";break}}}Y=B<1||(N=R[B-1])==="B"?"N":z[B-1];break;case"B":y=!1,h=!0,Y=v;break;case"S":g=!0,Y="N"}return Y},I=function(A,R,z){var B=A.split("");return z&&C(B,z,{hiLevel:v}),B.reverse(),R&&R.reverse(),B.join("")},C=function(A,R,z){var B,N,Z,ne,ie,Y=-1,oe=A.length,ae=0,O=[],U=v?n:p,X=[];for(y=!1,h=!1,g=!1,N=0;N<oe;N++)X[N]=w(A[N]);for(Z=0;Z<oe;Z++){if(ie=ae,O[Z]=k(A,X,O,Z),B=240&(ae=U[ie][l[O[Z]]]),ae&=15,R[Z]=ne=U[ae][5],B>0)if(B===16){for(N=Y;N<Z;N++)R[N]=1;Y=-1}else Y=-1;if(U[ae][6])Y===-1&&(Y=Z);else if(Y>-1){for(N=Y;N<Z;N++)R[N]=ne;Y=-1}X[Z]==="B"&&(R[Z]=0),z.hiLevel|=ne}g&&(function(re,H,L){for(var K=0;K<L;K++)if(re[K]==="S"){H[K]=v;for(var $=K-1;$>=0&&re[$]==="WS";$--)H[$]=v}})(X,R,oe)},D=function(A,R,z,B,N){if(!(N.hiLevel<A)){if(A===1&&v===1&&!h)return R.reverse(),void(z&&z.reverse());for(var Z,ne,ie,Y,oe=R.length,ae=0;ae<oe;){if(B[ae]>=A){for(ie=ae+1;ie<oe&&B[ie]>=A;)ie++;for(Y=ae,ne=ie-1;Y<ne;Y++,ne--)Z=R[Y],R[Y]=R[ne],R[ne]=Z,z&&(Z=z[Y],z[Y]=z[ne],z[ne]=Z);ae=ie}ae++}}},P=function(A,R,z){var B=A.split(""),N={hiLevel:v};return z||(z=[]),C(B,z,N),(function(Z,ne,ie){if(ie.hiLevel!==0&&f)for(var Y,oe=0;oe<Z.length;oe++)ne[oe]===1&&(Y=u.indexOf(Z[oe]))>=0&&(Z[oe]=u[Y+1])})(B,z,N),D(2,B,R,z,N),D(1,B,R,z,N),B.join("")};return this.__bidiEngine__.doBidiReorder=function(A,R,z){if((function(N,Z){if(Z)for(var ne=0;ne<N.length;ne++)Z[ne]=ne;o===void 0&&(o=T(N)),d===void 0&&(d=T(N))})(A,R),_||!s||d)if(_&&s&&o^d)v=o?1:0,A=I(A,R,z);else if(!_&&s&&d)v=o?1:0,A=P(A,R,z),A=I(A,R);else if(!_||o||s||d){if(_&&!s&&o^d)A=I(A,R),o?(v=0,A=P(A,R,z)):(v=1,A=P(A,R,z),A=I(A,R));else if(_&&o&&!s&&d)v=1,A=P(A,R,z),A=I(A,R);else if(!_&&!s&&o^d){var B=f;o?(v=1,A=P(A,R,z),v=0,f=!1,A=P(A,R,z),f=B):(v=0,A=P(A,R,z),A=I(A,R),v=1,f=!1,A=P(A,R,z),f=B,A=I(A,R))}}else v=0,A=P(A,R,z);else v=o?1:0,A=P(A,R,z);return A},this.__bidiEngine__.setOptions=function(A){A&&(_=A.isInputVisual,s=A.isOutputVisual,o=A.isInputRtl,d=A.isOutputRtl,f=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new c.__bidiEngine__({isInputVisual:!0});c.API.events.push(["postProcessText",function(r){var h=r.text;r.x,r.y;var g=r.options||{};r.mutex,g.lang;var _=[];if(g.isInputVisual=typeof g.isInputVisual!="boolean"||g.isInputVisual,t.setOptions(g),Object.prototype.toString.call(h)==="[object Array]"){var o=0;for(_=[],o=0;o<h.length;o+=1)Object.prototype.toString.call(h[o])==="[object Array]"?_.push([t.doBidiReorder(h[o][0]),h[o][1],h[o][2]]):_.push([t.doBidiReorder(h[o])]);r.text=_}else r.text=t.doBidiReorder(h);t.setOptions({isInputVisual:!0})}])})(Fe),Fe.API.TTFFont=(function(){function c(e){var t;if(this.rawData=e,t=this.contents=new ki(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new d1(this),this.registerTTF()}return c.open=function(e){return new c(e)},c.prototype.parse=function(){return this.directory=new Xv(this.contents),this.head=new Qv(this),this.name=new i1(this),this.cmap=new Cp(this),this.toUnicode={},this.hhea=new e1(this),this.maxp=new o1(this),this.hmtx=new s1(this),this.post=new n1(this),this.os2=new t1(this),this.loca=new c1(this),this.glyf=new a1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},c.prototype.registerTTF=function(){var e,t,r,h,g;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var _,o,s,d;for(d=[],_=0,o=(s=this.bbox).length;_<o;_++)e=s[_],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(h=this.post.italic_angle),32768&(t=h>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(g=this.familyClass)===1||g===2||g===3||g===4||g===5||g===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},c.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},c.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},c.prototype.widthOfString=function(e,t,r){var h,g,_,o;for(_=0,g=0,o=(e=""+e).length;0<=o?g<o:g>o;g=0<=o?++g:--g)h=e.charCodeAt(g),_+=this.widthOfGlyph(this.characterToGlyph(h))+r*(1e3/t)||0;return _*(t/1e3)},c.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},c})();var wr,ki=(function(){function c(e){this.data=e??[],this.pos=0,this.length=this.data.length}return c.prototype.readByte=function(){return this.data[this.pos++]},c.prototype.writeByte=function(e){return this.data[this.pos++]=e},c.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},c.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},c.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},c.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},c.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},c.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},c.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},c.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},c.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},c.prototype.writeString=function(e){var t,r,h;for(h=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)h.push(this.writeByte(e.charCodeAt(t)));return h},c.prototype.readShort=function(){return this.readInt16()},c.prototype.writeShort=function(e){return this.writeInt16(e)},c.prototype.readLongLong=function(){var e,t,r,h,g,_,o,s;return e=this.readByte(),t=this.readByte(),r=this.readByte(),h=this.readByte(),g=this.readByte(),_=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^h)+16777216*(255^g)+65536*(255^_)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*h+16777216*g+65536*_+256*o+s},c.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},c.prototype.readInt=function(){return this.readInt32()},c.prototype.writeInt=function(e){return this.writeInt32(e)},c.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},c.prototype.write=function(e){var t,r,h,g;for(g=[],r=0,h=e.length;r<h;r++)t=e[r],g.push(this.writeByte(t));return g},c})(),Xv=(function(){var c;function e(t){var r,h,g;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},h=0,g=this.tableCount;0<=g?h<g:h>g;h=0<=g?++h:--h)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,h,g,_,o,s,d,f,m,p,n,l,i;for(i in n=Object.keys(t).length,s=Math.log(2),m=16*Math.floor(Math.log(n)/s),_=Math.floor(m/s),f=16*n-m,(h=new ki).writeInt(this.scalarType),h.writeShort(n),h.writeShort(m),h.writeShort(_),h.writeShort(f),g=16*n,d=h.pos+g,o=null,l=[],t)for(p=t[i],h.writeString(i),h.writeInt(c(p)),h.writeInt(d),h.writeInt(p.length),l=l.concat(p),i==="head"&&(o=d),d+=p.length;d%4;)l.push(0),d++;return h.write(l),r=2981146554-c(h.data),h.pos=o+8,h.writeUInt32(r),h.data},c=function(t){var r,h,g,_;for(t=Ip.call(t);t.length%4;)t.push(0);for(g=new ki(t),h=0,r=0,_=t.length;r<_;r=r+=4)h+=g.readUInt32();return 4294967295&h},e})(),Jv={}.hasOwnProperty,Fr=function(c,e){for(var t in e)Jv.call(e,t)&&(c[t]=e[t]);function r(){this.constructor=c}return r.prototype=e.prototype,c.prototype=new r,c.__super__=e.prototype,c};wr=(function(){function c(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return c.prototype.parse=function(){},c.prototype.encode=function(){},c.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},c})();var Qv=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="head",c.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},c.prototype.encode=function(e){var t;return(t=new ki).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},c})(),Pd=(function(){function c(e,t){var r,h,g,_,o,s,d,f,m,p,n,l,i,u,a,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(n=e.readUInt16(),p=n/2,e.pos+=6,g=(function(){var w,T;for(T=[],s=w=0;0<=p?w<p:w>p;s=0<=p?++w:--w)T.push(e.readUInt16());return T})(),e.pos+=2,i=(function(){var w,T;for(T=[],s=w=0;0<=p?w<p:w>p;s=0<=p?++w:--w)T.push(e.readUInt16());return T})(),d=(function(){var w,T;for(T=[],s=w=0;0<=p?w<p:w>p;s=0<=p?++w:--w)T.push(e.readUInt16());return T})(),f=(function(){var w,T;for(T=[],s=w=0;0<=p?w<p:w>p;s=0<=p?++w:--w)T.push(e.readUInt16());return T})(),h=(this.length-e.pos+this.offset)/2,o=(function(){var w,T;for(T=[],s=w=0;0<=h?w<h:w>h;s=0<=h?++w:--w)T.push(e.readUInt16());return T})(),s=a=0,v=g.length;a<v;s=++a)for(u=g[s],r=y=l=i[s];l<=u?y<=u:y>=u;r=l<=u?++y:--y)f[s]===0?_=r+d[s]:(_=o[f[s]/2+(r-l)-(p-s)]||0)!==0&&(_+=d[s]),this.codeMap[r]=65535&_}e.pos=m}return c.encode=function(e,t){var r,h,g,_,o,s,d,f,m,p,n,l,i,u,a,y,v,w,T,k,I,C,D,P,A,R,z,B,N,Z,ne,ie,Y,oe,ae,O,U,X,re,H,L,K,$,ue,ge,Ce;switch(B=new ki,_=Object.keys(e).sort(function(Ie,me){return Ie-me}),t){case"macroman":for(i=0,u=(function(){var Ie=[];for(l=0;l<256;++l)Ie.push(0);return Ie})(),y={0:0},g={},N=0,Y=_.length;N<Y;N++)y[$=e[h=_[N]]]==null&&(y[$]=++i),g[h]={old:e[h],new:y[e[h]]},u[h]=y[e[h]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(u),{charMap:g,subtable:B.data,maxGlyphID:i+1};case"unicode":for(R=[],m=[],v=0,y={},r={},a=d=null,Z=0,oe=_.length;Z<oe;Z++)y[T=e[h=_[Z]]]==null&&(y[T]=++v),r[h]={old:T,new:y[T]},o=y[T]-h,a!=null&&o===d||(a&&m.push(a),R.push(h),d=o),a=h;for(a&&m.push(a),m.push(65535),R.push(65535),P=2*(D=R.length),C=2*Math.pow(Math.log(D)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,I=2*D-C,s=[],k=[],n=[],l=ne=0,ae=R.length;ne<ae;l=++ne){if(A=R[l],f=m[l],A===65535){s.push(0),k.push(0);break}if(A-(z=r[A].new)>=32768)for(s.push(0),k.push(2*(n.length+D-l)),h=ie=A;A<=f?ie<=f:ie>=f;h=A<=f?++ie:--ie)n.push(r[h].new);else s.push(z-A),k.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*D+2*n.length),B.writeUInt16(0),B.writeUInt16(P),B.writeUInt16(C),B.writeUInt16(p),B.writeUInt16(I),L=0,O=m.length;L<O;L++)h=m[L],B.writeUInt16(h);for(B.writeUInt16(0),K=0,U=R.length;K<U;K++)h=R[K],B.writeUInt16(h);for(ue=0,X=s.length;ue<X;ue++)o=s[ue],B.writeUInt16(o);for(ge=0,re=k.length;ge<re;ge++)w=k[ge],B.writeUInt16(w);for(Ce=0,H=n.length;Ce<H;Ce++)i=n[Ce],B.writeUInt16(i);return{charMap:r,subtable:B.data,maxGlyphID:v+1}}},c})(),Cp=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="cmap",c.prototype.parse=function(e){var t,r,h;for(e.pos=this.offset,this.version=e.readUInt16(),h=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=h?r<h:r>h;r=0<=h?++r:--r)t=new Pd(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},c.encode=function(e,t){var r,h;return t==null&&(t="macroman"),r=Pd.encode(e,t),(h=new ki).writeUInt16(0),h.writeUInt16(1),r.table=h.data.concat(r.subtable),r},c})(),e1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="hhea",c.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},c})(),t1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="OS/2",c.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},c})(),n1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="post",c.prototype.parse=function(e){var t,r,h;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var g;for(r=e.readUInt16(),this.glyphNameIndex=[],g=0;0<=r?g<r:g>r;g=0<=r?++g:--g)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],h=[];e.pos<this.offset+this.length;)t=e.readByte(),h.push(this.names.push(e.readString(t)));return h;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var _,o,s;for(s=[],g=_=0,o=this.file.maxp.numGlyphs;0<=o?_<o:_>o;g=0<=o?++_:--_)s.push(e.readUInt32());return s}).call(this)}},c})(),r1=function(c,e){this.raw=c,this.length=c.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},i1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="name",c.prototype.parse=function(e){var t,r,h,g,_,o,s,d,f,m,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],g=0;0<=t?g<t:g>t;g=0<=t?++g:--g)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},g=f=0,m=r.length;f<m;g=++f)h=r[g],e.pos=h.offset,d=e.readString(h.length),_=new r1(d,h),s[p=h.nameID]==null&&(s[p]=[]),s[h.nameID].push(_);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},c})(),o1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="maxp",c.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},c})(),s1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="hmtx",c.prototype.parse=function(e){var t,r,h,g,_,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(h=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=h?d<h:d>h;t=0<=h?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,m,p;for(p=[],d=0,f=(m=this.metrics).length;d<f;d++)g=m[d],p.push(g.advance);return p}).call(this),r=this.widths[this.widths.length-1],s=[],t=_=0;0<=h?_<h:_>h;t=0<=h?++_:--_)s.push(this.widths.push(r));return s},c.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},c})(),Ip=[].slice,a1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="glyf",c.prototype.parse=function(){return this.cache={}},c.prototype.glyphFor=function(e){var t,r,h,g,_,o,s,d,f,m;return e in this.cache?this.cache[e]:(g=this.file.loca,t=this.file.contents,r=g.indexOf(e),(h=g.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,_=(o=new ki(t.read(h))).readShort(),d=o.readShort(),m=o.readShort(),s=o.readShort(),f=o.readShort(),this.cache[e]=_===-1?new u1(o,d,m,s,f):new l1(o,_,d,m,s,f),this.cache[e]))},c.prototype.encode=function(e,t,r){var h,g,_,o,s;for(_=[],g=[],o=0,s=t.length;o<s;o++)h=e[t[o]],g.push(_.length),h&&(_=_.concat(h.encode(r)));return g.push(_.length),{table:_,offsets:g}},c})(),l1=(function(){function c(e,t,r,h,g,_){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=h,this.xMax=g,this.yMax=_,this.compound=!1}return c.prototype.encode=function(){return this.raw.data},c})(),u1=(function(){function c(e,t,r,h,g){var _,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=h,this.yMax=g,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],_=this.raw;o=_.readShort(),this.glyphOffsets.push(_.pos),this.glyphIDs.push(_.readUInt16()),32&o;)_.pos+=1&o?4:2,128&o?_.pos+=8:64&o?_.pos+=4:8&o&&(_.pos+=2)}return c.prototype.encode=function(){var e,t,r;for(t=new ki(Ip.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},c})(),c1=(function(){function c(){return c.__super__.constructor.apply(this,arguments)}return Fr(c,wr),c.prototype.tag="loca",c.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var h,g;for(g=[],r=0,h=this.length;r<h;r+=2)g.push(2*e.readUInt16());return g}).call(this):(function(){var h,g;for(g=[],r=0,h=this.length;r<h;r+=4)g.push(e.readUInt32());return g}).call(this)},c.prototype.indexOf=function(e){return this.offsets[e]},c.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},c.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),h=0,g=0,_=0;_<r.length;++_)if(r[_]=h,g<t.length&&t[g]==_){++g,r[_]=h;var o=this.offsets[_],s=this.offsets[_+1]-o;s>0&&(h+=s)}for(var d=new Array(4*r.length),f=0;f<r.length;++f)d[4*f+3]=255&r[f],d[4*f+2]=(65280&r[f])>>8,d[4*f+1]=(16711680&r[f])>>16,d[4*f]=(4278190080&r[f])>>24;return d},c})(),d1=(function(){function c(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return c.prototype.generateCmap=function(){var e,t,r,h,g;for(t in h=this.font.cmap.tables[0].codeMap,e={},g=this.subset)r=g[t],e[t]=h[r];return e},c.prototype.glyphsFor=function(e){var t,r,h,g,_,o,s;for(h={},_=0,o=e.length;_<o;_++)h[g=e[_]]=this.font.glyf.glyphFor(g);for(g in t=[],h)(r=h[g])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(g in s=this.glyphsFor(t))r=s[g],h[g]=r;return h},c.prototype.encode=function(e,t){var r,h,g,_,o,s,d,f,m,p,n,l,i,u,a;for(h in r=Cp.encode(this.generateCmap(),"unicode"),_=this.glyphsFor(e),n={0:0},a=r.charMap)n[(s=a[h]).old]=s.new;for(l in p=r.maxGlyphID,_)l in n||(n[l]=p++);return f=(function(y){var v,w;for(v in w={},y)w[y[v]]=v;return w})(n),m=Object.keys(f).sort(function(y,v){return y-v}),i=(function(){var y,v,w;for(w=[],y=0,v=m.length;y<v;y++)o=m[y],w.push(f[o]);return w})(),g=this.font.glyf.encode(_,i,n),d=this.font.loca.encode(g.offsets,i),u={cmap:this.font.cmap.raw(),glyf:g.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(u["OS/2"]=this.font.os2.raw()),this.font.directory.encode(u)},c})();Fe.API.PDFObject=(function(){var c;function e(){}return c=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,h,g,_;if(Array.isArray(t))return"["+(function(){var o,s,d;for(d=[],o=0,s=t.length;o<s;o++)r=t[o],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+c(t.getUTCFullYear(),4)+c(t.getUTCMonth(),2)+c(t.getUTCDate(),2)+c(t.getUTCHours(),2)+c(t.getUTCMinutes(),2)+c(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(h in g=["<<"],t)_=t[h],g.push("/"+h+" "+e.convert(_));return g.push(">>"),g.join(`
`)}return""+t},e})();function xp(c,e,t,r,h){r=r||{};var g=1.15,_=h.internal.scaleFactor,o=h.internal.getFontSize()/_,s=h.getLineHeightFactor?h.getLineHeightFactor():g,d=o*s,f=/\r\n|\r|\n/g,m="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof c=="string"?c.split(f):c,p=m.length||1),t+=o*(2-g),r.valign==="middle"?t-=p/2*d:r.valign==="bottom"&&(t-=p*d),r.halign==="center"||r.halign==="right"){var n=o;if(r.halign==="center"&&(n*=.5),m&&p>=1){for(var l=0;l<m.length;l++)h.text(m[l],e-h.getStringUnitWidth(m[l])*n,t),t+=d;return h}e-=h.getStringUnitWidth(c)*n}return r.halign==="justify"?h.text(c,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):h.text(c,e,t),h}var Md={},xo=(function(){function c(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return c.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Md=e},c.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},c.prototype.applyStyles=function(e,t){var r,h,g;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var _=this.jsPDFDocument.internal.getFont(),o=_.fontStyle,s=_.fontName;if(e.font&&(s=e.font),e.fontStyle){o=e.fontStyle;var d=this.getFontList()[s];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(s,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=c.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=c.unifyColor(e.textColor),f&&(h=this.jsPDFDocument).setTextColor.apply(h,f),f=c.unifyColor(e.lineColor),f&&(g=this.jsPDFDocument).setDrawColor.apply(g,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},c.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},c.prototype.rect=function(e,t,r,h,g){return this.jsPDFDocument.rect(e,t,r,h,g)},c.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},c.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},c.prototype.getDocument=function(){return this.jsPDFDocument},c.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},c.prototype.addPage=function(){return this.jsPDFDocument.addPage()},c.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},c.prototype.getGlobalOptions=function(){return Md||{}},c.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},c.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},c.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},c.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},c.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},c.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},c})(),Ql=function(c,e){return Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(t[h]=r[h])},Ql(c,e)};function Dp(c,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ql(c,e);function t(){this.constructor=c}c.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ap=(function(c){Dp(e,c);function e(t){var r=c.call(this)||this;return r._element=t,r}return e})(Array);function h1(c){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/c,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function p1(c){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[c]}function va(c,e,t){t.applyStyles(e,!0);var r=Array.isArray(c)?c:[c],h=r.map(function(g){return t.getTextWidth(g)}).reduce(function(g,_){return Math.max(g,_)},0);return h}function Ep(c,e,t,r){var h=e.settings.tableLineWidth,g=e.settings.tableLineColor;c.applyStyles({lineWidth:h,lineColor:g});var _=Pp(h,!1);_&&c.rect(t.x,t.y,e.getWidth(c.pageSize().width),r.y-t.y,_)}function Pp(c,e){var t=c>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Ca(c,e){var t,r,h,g;if(c=c||e,Array.isArray(c)){if(c.length>=4)return{top:c[0],right:c[1],bottom:c[2],left:c[3]};if(c.length===3)return{top:c[0],right:c[1],bottom:c[2],left:c[1]};if(c.length===2)return{top:c[0],right:c[1],bottom:c[0],left:c[1]};c.length===1?c=c[0]:c=e}return typeof c=="object"?(typeof c.vertical=="number"&&(c.top=c.vertical,c.bottom=c.vertical),typeof c.horizontal=="number"&&(c.right=c.horizontal,c.left=c.horizontal),{left:(t=c.left)!==null&&t!==void 0?t:e,top:(r=c.top)!==null&&r!==void 0?r:e,right:(h=c.right)!==null&&h!==void 0?h:e,bottom:(g=c.bottom)!==null&&g!==void 0?g:e}):(typeof c!="number"&&(c=e),{top:c,right:c,bottom:c,left:c})}function Mp(c,e){var t=Ca(e.settings.margin,0);return c.pageSize().width-(t.left+t.right)}function f1(c,e,t,r,h){var g={},_=1.3333333333333333,o=Rl(e,function(v){return h.getComputedStyle(v).backgroundColor});o!=null&&(g.fillColor=o);var s=Rl(e,function(v){return h.getComputedStyle(v).color});s!=null&&(g.textColor=s);var d=m1(r,t);d&&(g.cellPadding=d);var f="borderTopColor",m=_*t,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var n=(parseFloat(p)||0)/m;n&&(g.lineWidth=n)}else g.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},g.lineWidth.top||(g.lineWidth.right?f="borderRightColor":g.lineWidth.bottom?f="borderBottomColor":g.lineWidth.left&&(f="borderLeftColor"));var l=Rl(e,function(v){return h.getComputedStyle(v)[f]});l!=null&&(g.lineColor=l);var i=["left","right","center","justify"];i.indexOf(r.textAlign)!==-1&&(g.halign=r.textAlign),i=["middle","bottom","top"],i.indexOf(r.verticalAlign)!==-1&&(g.valign=r.verticalAlign);var u=parseInt(r.fontSize||"");isNaN(u)||(g.fontSize=u/_);var a=g1(r);a&&(g.fontStyle=a);var y=(r.fontFamily||"").toLowerCase();return c.indexOf(y)!==-1&&(g.font=y),g}function g1(c){var e="";return(c.fontWeight==="bold"||c.fontWeight==="bolder"||parseInt(c.fontWeight)>=700)&&(e="bold"),(c.fontStyle==="italic"||c.fontStyle==="oblique")&&(e+="italic"),e}function Rl(c,e){var t=Lp(c,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var h=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],g=parseInt(r[4]);return g===0||isNaN(h[0])||isNaN(h[1])||isNaN(h[2])?null:h}function Lp(c,e){var t=e(c);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?c.parentElement==null?null:Lp(c.parentElement,e):t}function m1(c,e){var t=[c.paddingTop,c.paddingRight,c.paddingBottom,c.paddingLeft],r=96/(72/e),h=(parseInt(c.lineHeight)-parseInt(c.fontSize))/e/2,g=t.map(function(o){return parseInt(o||"0")/r}),_=Ca(g,0);return h>_.top&&(_.top=h),h>_.bottom&&(_.bottom=h),_}function Rp(c,e,t,r,h){var g,_;r===void 0&&(r=!1),h===void 0&&(h=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var s=Object.keys(c.getFontList()),d=c.scaleFactor(),f=[],m=[],p=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:p};for(var n=0;n<o.rows.length;n++){var l=o.rows[n],i=(_=(g=l==null?void 0:l.parentElement)===null||g===void 0?void 0:g.tagName)===null||_===void 0?void 0:_.toLowerCase(),u=y1(s,d,t,l,r,h);u&&(i==="thead"?f.push(u):i==="tfoot"?p.push(u):m.push(u))}return{head:f,body:m,foot:p}}function y1(c,e,t,r,h,g){for(var _=new Ap(r),o=0;o<r.cells.length;o++){var s=r.cells[o],d=t.getComputedStyle(s);if(h||d.display!=="none"){var f=void 0;g&&(f=f1(c,s,e,d,t)),_.push({rowSpan:s.rowSpan,colSpan:s.colSpan,styles:f,_element:s,content:v1(s)})}}var m=t.getComputedStyle(r);if(_.length>0&&(h||m.display!=="none"))return _}function v1(c){var e=c.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function _1(c,e,t){for(var r=0,h=[c,e,t];r<h.length;r++){var g=h[r];g&&typeof g!="object"&&console.error("The options parameter should be of type object, is: "+typeof g),g.startY&&typeof g.startY!="number"&&(console.error("Invalid value for startY option",g.startY),delete g.startY)}}function ni(c,e,t,r,h){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(c),_=1;_<arguments.length;_++){var o=arguments[_];if(o!=null)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(g[s]=o[s])}return g}function b1(c,e){var t=new xo(c),r=t.getDocumentOptions(),h=t.getGlobalOptions();_1(h,r,e);var g=ni({},h,r,e),_;typeof window<"u"&&(_=window);var o=T1(h,r,e),s=w1(h,r,e),d=k1(t,g),f=C1(t,g,_);return{id:e.tableId,content:f,hooks:s,styles:o,settings:d}}function T1(c,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},h=function(s){if(s==="columnStyles"){var d=c[s],f=e[s],m=t[s];r.columnStyles=ni({},d,f,m)}else{var p=[c,e,t],n=p.map(function(l){return l[s]||{}});r[s]=ni({},n[0],n[1],n[2])}},g=0,_=Object.keys(r);g<_.length;g++){var o=_[g];h(o)}return r}function w1(c,e,t){for(var r=[c,e,t],h={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},g=0,_=r;g<_.length;g++){var o=_[g];o.didParseCell&&h.didParseCell.push(o.didParseCell),o.willDrawCell&&h.willDrawCell.push(o.willDrawCell),o.didDrawCell&&h.didDrawCell.push(o.didDrawCell),o.willDrawPage&&h.willDrawPage.push(o.willDrawPage),o.didDrawPage&&h.didDrawPage.push(o.didDrawPage)}return h}function k1(c,e){var t,r,h,g,_,o,s,d,f,m,p,n,l=Ca(e.margin,40/c.scaleFactor()),i=(t=S1(c,e.startY))!==null&&t!==void 0?t:l.top,u;e.showFoot===!0?u="everyPage":e.showFoot===!1?u="never":u=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var a;e.showHead===!0?a="everyPage":e.showHead===!1?a="never":a=(h=e.showHead)!==null&&h!==void 0?h:"everyPage";var y=(g=e.useCss)!==null&&g!==void 0?g:!1,v=e.theme||(y?"plain":"striped"),w=!!e.horizontalPageBreak,T=(_=e.horizontalPageBreakRepeat)!==null&&_!==void 0?_:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:v,startY:i,margin:l,pageBreak:(s=e.pageBreak)!==null&&s!==void 0?s:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:a,showFoot:u,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:w,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(n=e.horizontalPageBreakBehaviour)!==null&&n!==void 0?n:"afterAllRows"}}function S1(c,e){var t=c.getLastAutoTable(),r=c.scaleFactor(),h=c.pageNumber(),g=!1;if(t&&t.startPageNumber){var _=t.startPageNumber+t.pageNumber-1;g=_===h}return typeof e=="number"?e:(e==null||e===!1)&&g&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function C1(c,e,t){var r=e.head||[],h=e.body||[],g=e.foot||[];if(e.html){var _=e.includeHiddenHtml;if(t){var o=Rp(c,e.html,t,_,e.useCss)||{};r=o.head||r,h=o.body||r,g=o.foot||r}else console.error("Cannot parse html in non browser environment")}var s=e.columns||I1(r,h,g);return{columns:s,head:r,body:h,foot:g}}function I1(c,e,t){var r=c[0]||e[0]||t[0]||[],h=[];return Object.keys(r).filter(function(g){return g!=="_element"}).forEach(function(g){var _=1,o;Array.isArray(r)?o=r[parseInt(g)]:o=r[g],typeof o=="object"&&!Array.isArray(o)&&(_=(o==null?void 0:o.colSpan)||1);for(var s=0;s<_;s++){var d=void 0;Array.isArray(r)?d=h.length:d=g+(s>0?"_".concat(s):"");var f={dataKey:d};h.push(f)}}),h}var eu=(function(){function c(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return c})(),x1=(function(c){Dp(e,c);function e(t,r,h,g,_,o){var s=c.call(this,t,r,o)||this;return s.cell=h,s.row=g,s.column=_,s.section=g.section,s}return e})(eu),D1=(function(){function c(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return c.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},c.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},c.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},c.prototype.callCellHooks=function(e,t,r,h,g,_){for(var o=0,s=t;o<s.length;o++){var d=s[o],f=new x1(e,this,r,h,g,_),m=d(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},c.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,h=this.hooks.didDrawPage;r<h.length;r++){var g=h[r];g(new eu(e,this,t))}},c.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,h=this.hooks.willDrawPage;r<h.length;r++){var g=h[r];g(new eu(e,this,t))}},c.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(h,g){return h+g.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},c})(),Op=(function(){function c(e,t,r,h,g){g===void 0&&(g=!1),this.height=0,this.raw=e,e instanceof Ap&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=h,this.spansMultiplePages=g}return c.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,h){var g;return Math.max(r,((g=t.cells[h.index])===null||g===void 0?void 0:g.height)||0)},0)},c.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var h=t.cells[r.index];return h?h.rowSpan>1:!1}).length>0},c.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},c.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(h,g){var _=r.cells[g.index];if(!_)return 0;var o=t.getLineHeight(_.styles.fontSize),s=_.padding("vertical"),d=s+o;return d>h?d:h},0)},c})(),Np=(function(){function c(e,t,r){var h;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var g=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,g=(h=e.content)!==null&&h!==void 0?h:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var _=g!=null?""+g:"",o=/\r\n|\r|\n/g;this.text=_.split(o)}return c.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var h=this.width-this.padding("horizontal");r=this.x+h/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},c.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,h=this.styles.fontSize/e*t,g=r*h+this.padding("vertical");return Math.max(g,this.styles.minCellHeight)},c.prototype.padding=function(e){var t=Ca(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},c})(),A1=(function(){function c(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return c.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,h=e.allRows();r<h.length;r++){var g=h[r],_=g.cells[this.index];_&&typeof _.styles.cellWidth=="number"&&(t=Math.max(t,_.styles.cellWidth))}return t},c})();function E1(c,e){P1(c,e);var t=[],r=0;e.columns.forEach(function(g){var _=g.getMaxCustomCellWidth(e);_?g.width=_:(g.width=g.wrappedWidth,t.push(g)),r+=g.width});var h=e.getWidth(c.pageSize().width)-r;h&&(h=tu(t,h,function(g){return Math.max(g.minReadableWidth,g.minWidth)})),h&&(h=tu(t,h,function(g){return g.minWidth})),h=Math.abs(h),!e.settings.horizontalPageBreak&&h>.1/c.scaleFactor()&&(h=h<1?h:Math.round(h),console.warn("Of the table content, ".concat(h," units width could not fit page"))),L1(e),R1(e,c),M1(e)}function P1(c,e){var t=c.scaleFactor(),r=e.settings.horizontalPageBreak,h=Mp(c,e);e.allRows().forEach(function(g){for(var _=0,o=e.columns;_<o.length;_++){var s=o[_],d=g.cells[s.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(c,f,d,g,s,null);var m=d.padding("horizontal");d.contentWidth=va(d.text,d.styles,c)+m;var p=va(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,c);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>h?(d.minWidth=h,d.wrappedWidth=h):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var n=10/t;d.minWidth=d.styles.minCellWidth||n,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(g){for(var _=0,o=e.columns;_<o.length;_++){var s=o[_],d=g.cells[s.index];if(d&&d.colSpan===1)s.wrappedWidth=Math.max(s.wrappedWidth,d.wrappedWidth),s.minWidth=Math.max(s.minWidth,d.minWidth),s.minReadableWidth=Math.max(s.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[s.dataKey]||e.styles.columnStyles[s.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(s.minWidth=m,s.wrappedWidth=m)}d&&(d.colSpan>1&&!s.minWidth&&(s.minWidth=d.minWidth),d.colSpan>1&&!s.wrappedWidth&&(s.wrappedWidth=d.minWidth))}})}function tu(c,e,t){for(var r=e,h=c.reduce(function(n,l){return n+l.wrappedWidth},0),g=0;g<c.length;g++){var _=c[g],o=_.wrappedWidth/h,s=r*o,d=_.width+s,f=t(_),m=d<f?f:d;e-=m-_.width,_.width=m}if(e=Math.round(e*1e10)/1e10,e){var p=c.filter(function(n){return e<0?n.width>t(n):!0});p.length&&(e=tu(p,e,t))}return e}function M1(c){for(var e={},t=1,r=c.allRows(),h=0;h<r.length;h++)for(var g=r[h],_=0,o=c.columns;_<o.length;_++){var s=o[_],d=e[s.index];if(t>1)t--,delete g.cells[s.index];else if(d)d.cell.height+=g.height,t=d.cell.colSpan,delete g.cells[s.index],d.left--,d.left<=1&&delete e[s.index];else{var f=g.cells[s.index];if(!f)continue;if(f.height=g.height,f.rowSpan>1){var m=r.length-h,p=f.rowSpan>m?m:f.rowSpan;e[s.index]={cell:f,left:p,row:g}}}}}function L1(c){for(var e=c.allRows(),t=0;t<e.length;t++)for(var r=e[t],h=null,g=0,_=0,o=0;o<c.columns.length;o++){var s=c.columns[o];if(_-=1,_>1&&c.columns[o+1])g+=s.width,delete r.cells[s.index];else if(h){var d=h;delete r.cells[s.index],h=null,d.width=s.width+g}else{var d=r.cells[s.index];if(!d)continue;if(_=d.colSpan,g=0,d.colSpan>1){h=d,g+=s.width;continue}d.width=s.width+g}}}function R1(c,e){for(var t={count:0,height:0},r=0,h=c.allRows();r<h.length;r++){for(var g=h[r],_=0,o=c.columns;_<o.length;_++){var s=o[_],d=g.cells[s.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Ld(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Ld(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,f);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<p*d.rowSpan?t={height:p,count:d.rowSpan}:t&&t.count>0&&t.height>p&&(p=t.height),p>g.height&&(g.height=p)}}t.count--}}function Ld(c,e,t,r,h){return c.map(function(g){return O1(g,e,t,r,h)})}function O1(c,e,t,r,h){var g=1e4*r.scaleFactor();if(e=Math.ceil(e*g)/g,e>=va(c,t,r))return c;for(;e<va(c+h,t,r)&&!(c.length<=1);)c=c.substring(0,c.length-1);return c.trim()+h}function N1(c,e){var t=new xo(c),r=F1(e,t.scaleFactor()),h=new D1(e,r);return E1(t,h),t.applyStyles(t.userStyles),h}function F1(c,e){var t=c.content,r=j1(t.columns);if(t.head.length===0){var h=Rd(r,"head");h&&t.head.push(h)}if(t.foot.length===0){var h=Rd(r,"foot");h&&t.foot.push(h)}var g=c.settings.theme,_=c.styles;return{columns:r,head:Ol("head",t.head,r,_,g,e),body:Ol("body",t.body,r,_,g,e),foot:Ol("foot",t.foot,r,_,g,e)}}function Ol(c,e,t,r,h,g){var _={},o=e.map(function(s,d){for(var f=0,m={},p=0,n=0,l=0,i=t;l<i.length;l++){var u=i[l];if(_[u.index]==null||_[u.index].left===0)if(n===0){var a=void 0;Array.isArray(s)?a=s[u.index-p-f]:a=s[u.dataKey];var y={};typeof a=="object"&&!Array.isArray(a)&&(y=(a==null?void 0:a.styles)||{});var v=H1(c,u,d,h,r,g,y),w=new Np(a,v,c);m[u.dataKey]=w,m[u.index]=w,n=w.colSpan-1,_[u.index]={left:w.rowSpan-1,times:n}}else n--,p++;else _[u.index].left--,n=_[u.index].times,f++}return new Op(s,d,c,m)});return o}function Rd(c,e){var t={};return c.forEach(function(r){if(r.raw!=null){var h=B1(e,r.raw);h!=null&&(t[r.dataKey]=h)}}),Object.keys(t).length>0?t:null}function B1(c,e){if(c==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(c==="foot"&&typeof e=="object")return e.footer;return null}function j1(c){return c.map(function(e,t){var r,h;return typeof e=="object"?h=(r=e.dataKey)!==null&&r!==void 0?r:t:h=t,new A1(h,e,t)})}function H1(c,e,t,r,h,g,_){var o=p1(r),s;c==="head"?s=h.headStyles:c==="body"?s=h.bodyStyles:c==="foot"&&(s=h.footStyles);var d=ni({},o.table,o[c],h.styles,s),f=h.columnStyles[e.dataKey]||h.columnStyles[e.index]||{},m=c==="body"?f:{},p=c==="body"&&t%2===0?ni({},o.alternateRow,h.alternateRowStyles):{},n=h1(g),l=ni({},n,d,p,m);return ni(l,_)}function V1(c,e,t){var r;t===void 0&&(t={});var h=Mp(c,e),g=new Map,_=[],o=[],s=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?s=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(s=[e.settings.horizontalPageBreakRepeat]),s.forEach(function(p){var n=e.columns.find(function(l){return l.dataKey===p||l.index===p});n&&!g.has(n.index)&&(g.set(n.index,!0),_.push(n.index),o.push(e.columns[n.index]),h-=n.wrappedWidth)});for(var d=!0,f=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(g.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(d||h>=m)d=!1,_.push(f),o.push(e.columns[f]),h-=m;else break;f++}return{colIndexes:_,columns:o,lastIndex:f-1}}function U1(c,e){for(var t=[],r=0;r<e.columns.length;r++){var h=V1(c,e,{start:r});h.columns.length&&(t.push(h),r=h.lastIndex)}return t}function W1(c,e){var t=e.settings,r=t.startY,h=t.margin,g={x:h.left,y:r},_=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+h.bottom+_;if(t.pageBreak==="avoid"){var s=e.body,d=s.reduce(function(p,n){return p+n.height},0);o+=d}var f=new xo(c);(t.pageBreak==="always"||t.startY!=null&&o>f.pageSize().height)&&(Bp(f),g.y=h.top),e.callWillDrawPageHooks(f,g);var m=ni({},g);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?z1(f,e,m,g):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(p){return ri(f,e,p,g,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(p,n){var l=n===e.body.length-1;_a(f,e,p,l,m,g,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(p){return ri(f,e,p,g,e.columns)})),Ep(f,e,m,g),e.callEndPageHooks(f,g),e.finalY=g.y,c.lastAutoTable=e,f.applyStyles(f.userStyles)}function z1(c,e,t,r){var h=U1(c,e),g=e.settings;if(g.horizontalPageBreakBehaviour==="afterAllRows")h.forEach(function(d,f){c.applyStyles(c.userStyles),f>0?cs(c,e,t,r,d.columns,!0):Od(c,e,r,d.columns),K1(c,e,t,r,d.columns),Nl(c,e,r,d.columns)});else for(var _=-1,o=h[0],s=function(){var d=_;if(o){c.applyStyles(c.userStyles);var f=o.columns;_>=0?cs(c,e,t,r,f,!0):Od(c,e,r,f),d=Nd(c,e,_+1,r,f),Nl(c,e,r,f)}var m=d-_;h.slice(1).forEach(function(p){c.applyStyles(c.userStyles),cs(c,e,t,r,p.columns,!0),Nd(c,e,_+1,r,p.columns,m),Nl(c,e,r,p.columns)}),_=d};_<e.body.length-1;)s()}function Od(c,e,t,r){var h=e.settings;c.applyStyles(c.userStyles),(h.showHead==="firstPage"||h.showHead==="everyPage")&&e.head.forEach(function(g){return ri(c,e,g,t,r)})}function K1(c,e,t,r,h){c.applyStyles(c.userStyles),e.body.forEach(function(g,_){var o=_===e.body.length-1;_a(c,e,g,o,t,r,h)})}function Nd(c,e,t,r,h,g){c.applyStyles(c.userStyles),g=g??e.body.length;var _=Math.min(t+g,e.body.length),o=-1;return e.body.slice(t,_).forEach(function(s,d){var f=t+d===e.body.length-1,m=Fp(c,e,f,r);s.canEntireRowFit(m,h)&&(ri(c,e,s,r,h),o=t+d)}),o}function Nl(c,e,t,r){var h=e.settings;c.applyStyles(c.userStyles),(h.showFoot==="lastPage"||h.showFoot==="everyPage")&&e.foot.forEach(function(g){return ri(c,e,g,t,r)})}function G1(c,e,t){var r=t.getLineHeight(c.styles.fontSize),h=c.padding("vertical"),g=Math.floor((e-h)/r);return Math.max(0,g)}function q1(c,e,t,r){var h={};c.spansMultiplePages=!0,c.height=0;for(var g=0,_=0,o=t.columns;_<o.length;_++){var s=o[_],d=c.cells[s.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new Np(d.raw,d.styles,d.section);f=ni(f,d),f.text=[];var m=G1(d,e,r);d.text.length>m&&(f.text=d.text.splice(m,d.text.length));var p=r.scaleFactor(),n=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,n),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>c.height&&(c.height=d.contentHeight),f.contentHeight=f.getContentHeight(p,n),f.contentHeight>g&&(g=f.contentHeight),h[s.index]=f}}var l=new Op(c.raw,-1,c.section,h,!0);l.height=g;for(var i=0,u=t.columns;i<u.length;i++){var s=u[i],f=l.cells[s.index];f&&(f.height=l.height);var d=c.cells[s.index];d&&(d.height=c.height)}return l}function $1(c,e,t,r){var h=c.pageSize().height,g=r.settings.margin,_=g.top+g.bottom,o=h-_;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var s=e.getMinimumRowHeight(r.columns,c),d=s<t;if(s>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>o;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function _a(c,e,t,r,h,g,_){var o=Fp(c,e,r,g);if(t.canEntireRowFit(o,_))ri(c,e,t,g,_);else if($1(c,t,o,e)){var s=q1(t,o,e,c);ri(c,e,t,g,_),cs(c,e,h,g,_),_a(c,e,s,r,h,g,_)}else cs(c,e,h,g,_),_a(c,e,t,r,h,g,_)}function ri(c,e,t,r,h){r.x=e.settings.margin.left;for(var g=0,_=h;g<_.length;g++){var o=_[g],s=t.cells[o.index];if(!s){r.x+=o.width;continue}c.applyStyles(s.styles),s.x=r.x,s.y=r.y;var d=e.callCellHooks(c,e.hooks.willDrawCell,s,t,o,r);if(d===!1){r.x+=o.width;continue}Y1(c,s,r);var f=s.getTextPos();xp(s.text,f.x,f.y,{halign:s.styles.halign,valign:s.styles.valign,maxWidth:Math.ceil(s.width-s.padding("left")-s.padding("right"))},c.getDocument()),e.callCellHooks(c,e.hooks.didDrawCell,s,t,o,r),r.x+=o.width}r.y+=t.height}function Y1(c,e,t){var r=e.styles;if(c.getDocument().setFillColor(c.getDocument().getFillColor()),typeof r.lineWidth=="number"){var h=Pp(r.lineWidth,r.fillColor);h&&c.rect(e.x,t.y,e.width,e.height,h)}else typeof r.lineWidth=="object"&&(r.fillColor&&c.rect(e.x,t.y,e.width,e.height,"F"),Z1(c,e,t,r.lineWidth))}function Z1(c,e,t,r){var h,g,_,o;r.top&&(h=t.x,g=t.y,_=t.x+e.width,o=t.y,r.right&&(_+=.5*r.right),r.left&&(h-=.5*r.left),s(r.top,h,g,_,o)),r.bottom&&(h=t.x,g=t.y+e.height,_=t.x+e.width,o=t.y+e.height,r.right&&(_+=.5*r.right),r.left&&(h-=.5*r.left),s(r.bottom,h,g,_,o)),r.left&&(h=t.x,g=t.y,_=t.x,o=t.y+e.height,r.top&&(g-=.5*r.top),r.bottom&&(o+=.5*r.bottom),s(r.left,h,g,_,o)),r.right&&(h=t.x+e.width,g=t.y,_=t.x+e.width,o=t.y+e.height,r.top&&(g-=.5*r.top),r.bottom&&(o+=.5*r.bottom),s(r.right,h,g,_,o));function s(d,f,m,p,n){c.getDocument().setLineWidth(d),c.getDocument().line(f,m,p,n,"S")}}function Fp(c,e,t,r){var h=e.settings.margin.bottom,g=e.settings.showFoot;return(g==="everyPage"||g==="lastPage"&&t)&&(h+=e.getFootHeight(e.columns)),c.pageSize().height-r.y-h}function cs(c,e,t,r,h,g){h===void 0&&(h=[]),g===void 0&&(g=!1),c.applyStyles(c.userStyles),e.settings.showFoot==="everyPage"&&!g&&e.foot.forEach(function(o){return ri(c,e,o,r,h)}),e.callEndPageHooks(c,r);var _=e.settings.margin;Ep(c,e,t,r),Bp(c),e.pageNumber++,r.x=_.left,r.y=_.top,t.y=_.top,e.callWillDrawPageHooks(c,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return ri(c,e,o,r,h)}),c.applyStyles(c.userStyles))}function Bp(c){var e=c.pageNumber();c.setPage(e+1);var t=c.pageNumber();return t===e?(c.addPage(),!0):!1}function X1(c){c.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],h=b1(this,r),g=N1(this,h);return W1(this,g),this},c.API.lastAutoTable=!1,c.API.autoTableText=function(e,t,r,h){xp(e,t,r,h,this)},c.API.autoTableSetDefaults=function(e){return xo.setDefaults(e,this),this},c.autoTableSetDefaults=function(e,t){xo.setDefaults(e,t)},c.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var h=new xo(this),g=Rp(h,e,window,t,!1),_=g.head,o=g.body,s=((r=_[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:s,rows:o,data:o}}}var Fl;try{if(typeof window<"u"&&window){var Fd=window,Bd=Fd.jsPDF||((Fl=Fd.jspdf)===null||Fl===void 0?void 0:Fl.jsPDF);Bd&&X1(Bd)}}catch(c){console.error("Could not apply autoTable plugin",c)}function J1(c){const{component:e}=c;return e==null?void 0:e.exportToPdf(c)}const ia=[{id:1,parentId:0,title:"Software Development",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:31},{id:2,parentId:1,title:"Scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:60},{id:3,parentId:2,title:"Determine project scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-21T09:00:00.000Z"),progress:100},{id:4,parentId:2,title:"Secure project sponsorship",start:new Date("2019-02-21T10:00:00.000Z"),end:new Date("2019-02-22T09:00:00.000Z"),progress:100},{id:5,parentId:2,title:"Define preliminary resources",start:new Date("2019-02-22T10:00:00.000Z"),end:new Date("2019-02-25T09:00:00.000Z"),progress:60},{id:6,parentId:2,title:"Secure core resources",start:new Date("2019-02-25T10:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:7,parentId:2,title:"Scope complete",start:new Date("2019-02-26T09:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:8,parentId:1,title:"Analysis/Software Requirements",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:80},{id:9,parentId:8,title:"Conduct needs analysis",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-05T09:00:00.000Z"),progress:100},{id:10,parentId:8,title:"Draft preliminary software specifications",start:new Date("2019-03-05T10:00:00.000Z"),end:new Date("2019-03-08T09:00:00.000Z"),progress:100},{id:11,parentId:8,title:"Develop preliminary budget",start:new Date("2019-03-08T10:00:00.000Z"),end:new Date("2019-03-12T09:00:00.000Z"),progress:100},{id:12,parentId:8,title:"Review software specifications/budget with team",start:new Date("2019-03-12T10:00:00.000Z"),end:new Date("2019-03-12T14:00:00.000Z"),progress:100},{id:13,parentId:8,title:"Incorporate feedback on software specifications",start:new Date("2019-03-13T05:00:00.000Z"),end:new Date("2019-03-13T14:00:00.000Z"),progress:70},{id:14,parentId:8,title:"Develop delivery timeline",start:new Date("2019-03-14T05:00:00.000Z"),end:new Date("2019-03-14T14:00:00.000Z"),progress:0},{id:15,parentId:8,title:"Obtain approvals to proceed (concept, timeline, budget)",start:new Date("2019-03-15T05:00:00.000Z"),end:new Date("2019-03-15T09:00:00.000Z"),progress:0},{id:16,parentId:8,title:"Secure required resources",start:new Date("2019-03-15T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:17,parentId:8,title:"Analysis complete",start:new Date("2019-03-18T09:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:18,parentId:1,title:"Design",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:80},{id:19,parentId:18,title:"Review preliminary software specifications",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:20,parentId:18,title:"Develop functional specifications",start:new Date("2019-03-20T10:00:00.000Z"),end:new Date("2019-03-27T09:00:00.000Z"),progress:100},{id:21,parentId:18,title:"Develop prototype based on functional specifications",start:new Date("2019-03-27T10:00:00.000Z"),end:new Date("2019-04-02T09:00:00.000Z"),progress:100},{id:22,parentId:18,title:"Review functional specifications",start:new Date("2019-04-02T10:00:00.000Z"),end:new Date("2019-04-04T09:00:00.000Z"),progress:30},{id:23,parentId:18,title:"Incorporate feedback into functional specifications",start:new Date("2019-04-04T10:00:00.000Z"),end:new Date("2019-04-05T09:00:00.000Z"),progress:0},{id:24,parentId:18,title:"Obtain approval to proceed",start:new Date("2019-04-05T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:25,parentId:18,title:"Design complete",start:new Date("2019-04-05T14:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:26,parentId:1,title:"Development",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:42},{id:27,parentId:26,title:"Review functional specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:100},{id:28,parentId:26,title:"Identify modular/tiered design parameters",start:new Date("2019-04-09T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:29,parentId:26,title:"Assign development staff",start:new Date("2019-04-10T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:30,parentId:26,title:"Develop code",start:new Date("2019-04-11T05:00:00.000Z"),end:new Date("2019-05-01T14:00:00.000Z"),progress:49},{id:31,parentId:26,title:"Developer testing (primary debugging)",start:new Date("2019-04-16T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:24},{id:32,parentId:26,title:"Development complete",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:0},{id:33,parentId:1,title:"Testing",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:23},{id:34,parentId:33,title:"Develop unit test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:35,parentId:33,title:"Develop integration test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:36,parentId:33,title:"Unit Testing",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:37,parentId:36,title:"Review modular code",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-14T12:00:00.000Z"),progress:0},{id:38,parentId:36,title:"Test component modules to product specifications",start:new Date("2019-05-14T12:00:00.000Z"),end:new Date("2019-05-16T12:00:00.000Z"),progress:0},{id:39,parentId:36,title:"Identify anomalies to product specifications",start:new Date("2019-05-16T12:00:00.000Z"),end:new Date("2019-05-21T12:00:00.000Z"),progress:0},{id:40,parentId:36,title:"Modify code",start:new Date("2019-05-21T12:00:00.000Z"),end:new Date("2019-05-24T12:00:00.000Z"),progress:0},{id:41,parentId:36,title:"Re-test modified code",start:new Date("2019-05-24T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:42,parentId:36,title:"Unit testing complete",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:43,parentId:33,title:"Integration Testing",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:44,parentId:43,title:"Test module integration",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-04T12:00:00.000Z"),progress:0},{id:45,parentId:43,title:"Identify anomalies to specifications",start:new Date("2019-06-04T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:46,parentId:43,title:"Modify code",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-11T12:00:00.000Z"),progress:0},{id:47,parentId:43,title:"Re-test modified code",start:new Date("2019-06-11T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:48,parentId:43,title:"Integration testing complete",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:49,parentId:1,title:"Training",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:25},{id:50,parentId:49,title:"Develop training specifications for end users",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:51,parentId:49,title:"Develop training specifications for helpdesk support staff",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:52,parentId:49,title:"Identify training delivery methodology (computer based training, classroom, etc.)",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:53,parentId:49,title:"Develop training materials",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:54,parentId:49,title:"Conduct training usability study",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-03T12:00:00.000Z"),progress:0},{id:55,parentId:49,title:"Finalize training materials",start:new Date("2019-06-03T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:56,parentId:49,title:"Develop training delivery mechanism",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:57,parentId:49,title:"Training materials complete",start:new Date("2019-06-10T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:58,parentId:1,title:"Documentation",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:59,parentId:58,title:"Develop Help specification",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:80},{id:60,parentId:58,title:"Develop Help system",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:61,parentId:58,title:"Review Help documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-16T09:00:00.000Z"),progress:0},{id:62,parentId:58,title:"Incorporate Help documentation feedback",start:new Date("2019-05-16T10:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:63,parentId:58,title:"Develop user manuals specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:65},{id:64,parentId:58,title:"Develop user manuals",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:65,parentId:58,title:"Review all user documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-15T09:00:00.000Z"),progress:0},{id:66,parentId:58,title:"Incorporate user documentation feedback",start:new Date("2019-05-15T10:00:00.000Z"),end:new Date("2019-05-17T09:00:00.000Z"),progress:0},{id:67,parentId:58,title:"Documentation complete",start:new Date("2019-05-20T09:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:68,parentId:1,title:"Pilot",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:22},{id:69,parentId:68,title:"Identify test group",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-19T09:00:00.000Z"),progress:100},{id:70,parentId:68,title:"Develop software delivery mechanism",start:new Date("2019-03-19T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:71,parentId:68,title:"Install/deploy software",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-14T12:00:00.000Z"),progress:0},{id:72,parentId:68,title:"Obtain user feedback",start:new Date("2019-06-14T12:00:00.000Z"),end:new Date("2019-06-21T12:00:00.000Z"),progress:0},{id:73,parentId:68,title:"Evaluate testing information",start:new Date("2019-06-21T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:74,parentId:68,title:"Pilot complete",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:75,parentId:1,title:"Deployment",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:76,parentId:75,title:"Determine final deployment strategy",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-25T12:00:00.000Z"),progress:0},{id:77,parentId:75,title:"Develop deployment methodology",start:new Date("2019-06-25T12:00:00.000Z"),end:new Date("2019-06-26T12:00:00.000Z"),progress:0},{id:78,parentId:75,title:"Secure deployment resources",start:new Date("2019-06-26T12:00:00.000Z"),end:new Date("2019-06-27T12:00:00.000Z"),progress:0},{id:79,parentId:75,title:"Train support staff",start:new Date("2019-06-27T12:00:00.000Z"),end:new Date("2019-06-28T12:00:00.000Z"),progress:0},{id:80,parentId:75,title:"Deploy software",start:new Date("2019-06-28T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:81,parentId:75,title:"Deployment complete",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:82,parentId:1,title:"Post Implementation Review",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:83,parentId:82,title:"Document lessons learned",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-02T12:00:00.000Z"),progress:0},{id:84,parentId:82,title:"Distribute to team members",start:new Date("2019-07-02T12:00:00.000Z"),end:new Date("2019-07-03T12:00:00.000Z"),progress:0},{id:85,parentId:82,title:"Create software maintenance team",start:new Date("2019-07-03T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:86,parentId:82,title:"Post implementation review complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:87,parentId:1,title:"Software development template complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0}],Q1=[{id:1,predecessorId:3,successorId:4,type:0},{id:2,predecessorId:4,successorId:5,type:0},{id:3,predecessorId:5,successorId:6,type:0},{id:4,predecessorId:6,successorId:7,type:0},{id:5,predecessorId:7,successorId:9,type:0},{id:6,predecessorId:9,successorId:10,type:0},{id:7,predecessorId:10,successorId:11,type:0},{id:8,predecessorId:11,successorId:12,type:0},{id:9,predecessorId:12,successorId:13,type:0},{id:10,predecessorId:13,successorId:14,type:0},{id:11,predecessorId:14,successorId:15,type:0},{id:12,predecessorId:15,successorId:16,type:0},{id:13,predecessorId:16,successorId:17,type:0},{id:14,predecessorId:17,successorId:19,type:0},{id:15,predecessorId:19,successorId:20,type:0},{id:16,predecessorId:20,successorId:21,type:0},{id:17,predecessorId:21,successorId:22,type:0},{id:18,predecessorId:22,successorId:23,type:0},{id:19,predecessorId:23,successorId:24,type:0},{id:20,predecessorId:24,successorId:25,type:0},{id:21,predecessorId:25,successorId:27,type:0},{id:22,predecessorId:27,successorId:28,type:0},{id:23,predecessorId:28,successorId:29,type:0},{id:24,predecessorId:29,successorId:30,type:0},{id:25,predecessorId:31,successorId:32,type:0},{id:26,predecessorId:37,successorId:38,type:0},{id:27,predecessorId:38,successorId:39,type:0},{id:28,predecessorId:39,successorId:40,type:0},{id:29,predecessorId:40,successorId:41,type:0},{id:30,predecessorId:41,successorId:42,type:0},{id:31,predecessorId:42,successorId:44,type:0},{id:32,predecessorId:44,successorId:45,type:0},{id:33,predecessorId:45,successorId:46,type:0},{id:34,predecessorId:46,successorId:47,type:0},{id:35,predecessorId:47,successorId:48,type:0},{id:36,predecessorId:53,successorId:54,type:0},{id:37,predecessorId:54,successorId:55,type:0},{id:38,predecessorId:55,successorId:56,type:0},{id:39,predecessorId:56,successorId:57,type:0},{id:40,predecessorId:59,successorId:60,type:0},{id:41,predecessorId:60,successorId:61,type:0},{id:42,predecessorId:61,successorId:62,type:0},{id:43,predecessorId:63,successorId:64,type:0},{id:44,predecessorId:64,successorId:65,type:0},{id:45,predecessorId:65,successorId:66,type:0},{id:46,predecessorId:66,successorId:67,type:0},{id:47,predecessorId:69,successorId:70,type:0},{id:48,predecessorId:70,successorId:71,type:0},{id:49,predecessorId:71,successorId:72,type:0},{id:50,predecessorId:72,successorId:73,type:0},{id:51,predecessorId:73,successorId:74,type:0},{id:52,predecessorId:74,successorId:76,type:0},{id:53,predecessorId:76,successorId:77,type:0},{id:54,predecessorId:77,successorId:78,type:0},{id:55,predecessorId:78,successorId:79,type:0},{id:56,predecessorId:79,successorId:80,type:0},{id:57,predecessorId:80,successorId:81,type:0},{id:58,predecessorId:81,successorId:83,type:0},{id:59,predecessorId:83,successorId:84,type:0},{id:60,predecessorId:84,successorId:85,type:0},{id:61,predecessorId:85,successorId:86,type:0},{id:62,predecessorId:86,successorId:87,type:0}],e_=[{id:1,text:"Management"},{id:2,text:"Project Manager"},{id:3,text:"Analyst"},{id:4,text:"Developer"},{id:5,text:"Testers"},{id:6,text:"Trainers"},{id:7,text:"Technical Communicators"},{id:8,text:"Deployment Team"}],t_=[{id:0,taskId:3,resourceId:1},{id:1,taskId:4,resourceId:1},{id:2,taskId:5,resourceId:2},{id:3,taskId:6,resourceId:2},{id:4,taskId:9,resourceId:3},{id:5,taskId:10,resourceId:3},{id:6,taskId:11,resourceId:2},{id:7,taskId:12,resourceId:2},{id:8,taskId:12,resourceId:3},{id:9,taskId:13,resourceId:3},{id:10,taskId:14,resourceId:2},{id:11,taskId:15,resourceId:1},{id:12,taskId:15,resourceId:2},{id:13,taskId:16,resourceId:2},{id:14,taskId:19,resourceId:3},{id:15,taskId:20,resourceId:3},{id:16,taskId:21,resourceId:3},{id:17,taskId:22,resourceId:1},{id:18,taskId:23,resourceId:1},{id:19,taskId:24,resourceId:1},{id:20,taskId:24,resourceId:2},{id:21,taskId:27,resourceId:4},{id:22,taskId:28,resourceId:4},{id:23,taskId:29,resourceId:4},{id:24,taskId:30,resourceId:4},{id:25,taskId:31,resourceId:4},{id:26,taskId:34,resourceId:5},{id:27,taskId:35,resourceId:5},{id:28,taskId:37,resourceId:5},{id:29,taskId:38,resourceId:5},{id:30,taskId:39,resourceId:5},{id:31,taskId:40,resourceId:5},{id:32,taskId:41,resourceId:5},{id:33,taskId:44,resourceId:5},{id:34,taskId:45,resourceId:5},{id:35,taskId:46,resourceId:5},{id:36,taskId:47,resourceId:5},{id:37,taskId:50,resourceId:6},{id:38,taskId:51,resourceId:6},{id:39,taskId:52,resourceId:6},{id:40,taskId:53,resourceId:6},{id:41,taskId:54,resourceId:6},{id:42,taskId:55,resourceId:6},{id:43,taskId:56,resourceId:6},{id:44,taskId:59,resourceId:7},{id:45,taskId:60,resourceId:7},{id:46,taskId:61,resourceId:7},{id:47,taskId:62,resourceId:7},{id:48,taskId:63,resourceId:7},{id:49,taskId:64,resourceId:7},{id:50,taskId:65,resourceId:7},{id:51,taskId:66,resourceId:7},{id:52,taskId:69,resourceId:2},{id:53,taskId:71,resourceId:8},{id:54,taskId:72,resourceId:8},{id:55,taskId:73,resourceId:8},{id:56,taskId:76,resourceId:8},{id:57,taskId:77,resourceId:8},{id:58,taskId:78,resourceId:8},{id:59,taskId:79,resourceId:8},{id:60,taskId:80,resourceId:8},{id:61,taskId:83,resourceId:2},{id:62,taskId:84,resourceId:2},{id:63,taskId:85,resourceId:2}],n_={class:"options"},r_={class:"column"},i_={class:"option"},o_={class:"value"},s_={class:"option"},a_={class:"value"},l_={class:"option"},u_={class:"value"},c_={class:"option"},d_={class:"value"},h_={class:"column"},p_={class:"option"},f_={class:"value"},g_={class:"option"},m_={class:"value"},y_={class:"option"},v_={class:"value"},__={class:"option"},b_={class:"value"},T_=Et({__name:"test",setup(c){const e=Lr(),t={hint:"Export to PDF",icon:"exportpdf",stylingMode:"text",onClick:()=>{p()}},r=Lr(formats[0]),h=Lr(exportModes[0]),g=Lr(dateRanges[1]),_=Lr(!0),o=Lr(0),s=Lr(3),d=Lr(ia[0].start),f=Lr(ia[0].end),m=Lr(!0);async function p(){const u=r.value.toLowerCase(),a=_.value,y=h.value==="Tree List"?"treeList":h.value.toLowerCase(),v=g.value.toLowerCase();let w;v==="custom"?w={startIndex:o.value,endIndex:s.value,startDate:d.value,endDate:f.value}:w=v,(await J1({component:e.value.instance,createDocumentMethod:k=>new Fe(k),format:u,landscape:a,exportMode:y,dateRange:w})).save("gantt.pdf")}function n(u){m.value=u.value!=="Custom"}function l(u){o.value=u.value}function i(u){s.value=u.value}return(u,a)=>{const y=Nf("DxValidation");return Ff(),Rf(Of,null,[bt(ft(f0),{ref_key:"ganttRef",ref:e,"task-list-width":500,height:700,"scale-type":"weeks","root-value":-1},{default:ic(()=>[bt(ft(Eh),{"data-source":ft(ia)},null,8,["data-source"]),bt(ft(ah),{"data-source":ft(Q1)},null,8,["data-source"]),bt(ft(kh),{"data-source":ft(e_)},null,8,["data-source"]),bt(ft(Th),{"data-source":ft(t_)},null,8,["data-source"]),bt(ft(su),null,{default:ic(()=>[bt(ft(Fn),{name:"undo"}),bt(ft(Fn),{name:"redo"}),bt(ft(Fn),{name:"separator"}),bt(ft(Fn),{name:"collapseAll"}),bt(ft(Fn),{name:"expandAll"}),bt(ft(Fn),{name:"separator"}),bt(ft(Fn),{name:"addTask"}),bt(ft(Fn),{name:"deleteTask"}),bt(ft(Fn),{name:"separator"}),bt(ft(Fn),{name:"zoomIn"}),bt(ft(Fn),{name:"zoomOut"}),bt(ft(Fn),{options:t,widget:"dxButton"})]),_:1}),bt(ft(uh),{enabled:!0}),bt(y,{"auto-update-parent-tasks":!0}),bt(ft(wo),{width:300,"data-field":"title",caption:"Subject"}),bt(ft(wo),{"data-field":"start",caption:"Start Date"}),bt(ft(wo),{"data-field":"end",caption:"End Date"})]),_:1},512),It("div",n_,[It("div",r_,[a[11]||(a[11]=It("div",{class:"caption"},"Export Options",-1)),It("div",i_,[a[7]||(a[7]=It("div",{class:"label"},"Document format:",-1)),It("div",o_,[bt(ft(cl),{items:u.formats,"input-attr":{"aria-label":"Format"},value:r.value,"onUpdate:value":a[0]||(a[0]=v=>r.value=v)},null,8,["items","value"])])]),It("div",s_,[a[8]||(a[8]=It("div",{class:"label"},"Landscape orientation:",-1)),It("div",a_,[bt(ft(im),{value:_.value,"onUpdate:value":a[1]||(a[1]=v=>_.value=v)},null,8,["value"])])]),It("div",l_,[a[9]||(a[9]=It("div",{class:"label"},"Export mode:",-1)),It("div",u_,[bt(ft(cl),{items:u.exportModes,"input-attr":{"aria-label":"Export Mode"},value:h.value,"onUpdate:value":a[2]||(a[2]=v=>h.value=v)},null,8,["items","value"])])]),It("div",c_,[a[10]||(a[10]=It("div",{class:"label"},"Date range:",-1)),It("div",d_,[bt(ft(cl),{items:u.dateRanges,value:g.value,"onUpdate:value":a[3]||(a[3]=v=>g.value=v),"input-attr":{"aria-label":"Date Range"},onValueChanged:a[4]||(a[4]=v=>n(v))},null,8,["items","value"])])])]),It("div",h_,[a[16]||(a[16]=It("div",{class:"caption"},"Task Filter Options",-1)),It("div",p_,[a[12]||(a[12]=It("div",{class:"label"},"Start task (index):",-1)),It("div",f_,[bt(ft(dc),{disabled:m.value,value:o.value,min:0,max:s.value,"show-spin-buttons":!0,"input-attr":{"aria-label":"Start Task Index"},onValueChanged:l},null,8,["disabled","value","max"])])]),It("div",g_,[a[13]||(a[13]=It("div",{class:"label"},"End task (index):",-1)),It("div",m_,[bt(ft(dc),{disabled:m.value,value:s.value,min:o.value,max:ft(ia).length-1,"show-spin-buttons":!0,"input-attr":{"aria-label":"End Task Index"},onValueChanged:i},null,8,["disabled","value","min","max"])])]),It("div",y_,[a[14]||(a[14]=It("div",{class:"label"},"Start date:",-1)),It("div",v_,[bt(ft(hc),{disabled:m.value,"input-attr":{"aria-label":"Start Date"},value:d.value,"onUpdate:value":a[5]||(a[5]=v=>d.value=v),max:f.value,type:"date","apply-value-mode":"useButtons"},null,8,["disabled","value","max"])])]),It("div",__,[a[15]||(a[15]=It("div",{class:"label"},"End date:",-1)),It("div",b_,[bt(ft(hc),{disabled:m.value,"input-attr":{"aria-label":"End Date"},value:f.value,"onUpdate:value":a[6]||(a[6]=v=>f.value=v),min:d.value,type:"date","apply-value-mode":"useButtons"},null,8,["disabled","value","min"])])])])])],64)}}}),N_=Object.freeze(Object.defineProperty({__proto__:null,default:T_},Symbol.toStringTag,{value:"Module"}));export{xt as _,N_ as t};
