import{dw as F,dc as y,e0 as h,db as d,d9 as m,d2 as c,dd as a,d4 as M,e1 as S}from"./main-DVNIbqAE.js";import{i as l}from"./dom_component-Dl133RBJ.js";const w=F({format:function(t,o){const n=y(o)&&o!==""||d(o)||m(o),s=c(t)||a(t);if(!n||!s)return M(t)?t.toString():"";if(m(o))return o(t);if(y(o)&&(o={type:o}),c(t))return S.format(t,o);if(a(t))return h.format(t,o)},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?t.length===1?t[0]:function(o){return t.map((function(n){return h.format(o,n)})).join(" ")}:t},getDateFormatByDifferences:function(t,o){const n=[],s=o&&t.millisecond&&!(t.year||t.month||t.day);if(s){const u=function(e){return e.getSeconds()+e.getMilliseconds()/1e3+"s"};n.push(u)}else t.millisecond&&n.push("millisecond");if((t.hour||t.minute||!s&&t.second)&&n.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day)return o&&o==="month"?"monthandyear":(n.unshift("shortdate"),this._normalizeFormat(n));if(t.year&&t.month)return"monthandyear";if(t.year&&t.quarter)return"quarterandyear";if(t.year)return"year";if(t.quarter)return"quarter";if(t.month&&t.day){if(o){const u=function(e){return h.getMonthNames("abbreviated")[e.getMonth()]+" "+h.format(e,"day")};n.unshift(u)}else n.unshift("monthandday");return this._normalizeFormat(n)}if(t.month)return"month";if(t.day){if(o)n.unshift("day");else{const u=function(e){return h.format(e,"dayofweek")+", "+h.format(e,"day")};n.unshift(u)}return this._normalizeFormat(n)}return this._normalizeFormat(n)},getDateFormatByTicks:function(t){let o,n,s;if(t.length>1)for(o=l.getDatesDifferences(t[0],t[1]),s=1;s<t.length-1;s++)n=l.getDatesDifferences(t[s],t[s+1]),o.count<n.count&&(o=n);else o={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};return this.getDateFormatByDifferences(o)},getDateFormatByTickInterval:function(t,o,n){let s;const u=function(i,g,r){switch(g){case"year":case"quarter":i.month=r;case"month":i.day=r;case"week":case"day":i.hour=r;case"hour":i.minute=r;case"minute":i.second=r;case"second":i.millisecond=r}};n=y(n)?n.toLowerCase():n;const e=l.getDatesDifferences(t,o);return t!==o&&(function(i,g,r){!r.getMilliseconds()&&r.getSeconds()?r.getSeconds()-g.getSeconds()===1&&(i.millisecond=!0,i.second=!1):!r.getSeconds()&&r.getMinutes()?r.getMinutes()-g.getMinutes()===1&&(i.second=!0,i.minute=!1):!r.getMinutes()&&r.getHours()?r.getHours()-g.getHours()===1&&(i.minute=!0,i.hour=!1):!r.getHours()&&r.getDate()>1?r.getDate()-g.getDate()===1&&(i.hour=!0,i.day=!1):r.getDate()===1&&r.getMonth()?r.getMonth()-g.getMonth()===1&&(i.day=!0,i.month=!1):!r.getMonth()&&r.getFullYear()&&r.getFullYear()-g.getFullYear()===1&&(i.month=!0,i.year=!1)})(e,t>o?o:t,t>o?t:o),s=l.getDateUnitInterval(e),u(e,s,!0),s=l.getDateUnitInterval(n||"second"),u(e,s,!1),e[{week:"day"}[s]||s]=!0,this.getDateFormatByDifferences(e)}});export{w as f};
