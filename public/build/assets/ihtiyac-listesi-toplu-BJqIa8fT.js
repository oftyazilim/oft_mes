import{u as ot}from"./pageTitle-DAKbxI_m.js";import{d as nt,r as n,q as st,i as dt,aK as ut,a as mt,c as we,o as E,b as e,f as r,e as s,g as U,l as i,aF as b,T as K,F as be,ay as pt,m as ct,p as y,s as f}from"./main-DVNIbqAE.js";import{D as oe}from"./button-nKDBGlbL.js";import{D as ft}from"./context-menu-E3F9oZDj.js";import{s as V,D as o,h as vt,i as yt,j as gt,k as wt,d as R,l as bt,m as ht,b as kt,q as Y,r as _t,t as C}from"./data-grid-DXBNvKEO.js";import{D as he}from"./date-box-FzFSBucj.js";import{D as Dt}from"./load-panel-CYmzF4Oq.js";import{a as P}from"./popup-DMXUJVzO.js";import{D as ke}from"./select-box-C6PkEFDa.js";import{D as w}from"./tabs--untpL72.js";import{e as xt}from"./export_data_grid-BBplncBM.js";import"./dom_component-Dl133RBJ.js";import"./m_select_box-CQln4mT9.js";import"./m_resize_observer-DNiKP6Lw.js";import"./format_helper-WFxr2yFi.js";import{e as Tt}from"./exceljs.min-Dm3_meIG.js";import{s as St}from"./FileSaver-CQu8bA20.js";import{V as ne}from"./VCardText-O9NmkUB-.js";import{V as v}from"./VCol-DjSaPy9D.js";import{V as se,a as _e,b as De}from"./VCard-CQULHrep.js";import{V as At}from"./VTextField-D1ZJq-ZO.js";import{V as Et}from"./VCheckbox-zFQJ7KWP.js";import{V as xe}from"./VSpacer-CcrJX_a_.js";import{V as Te}from"./VDialog-h1awVMY7.js";import{V as Vt,a as Rt}from"./VList-CJHhBcnL.js";import{V as Ct}from"./VChip-Dvy-5a8h.js";import{V as F}from"./VRow-COWvze1x.js";import"./index-CIq4840_.js";import"./m_row_dragging-FuROVr0p.js";import"./themes-BNA-idsj.js";import"./overlay-uaFTcPtg.js";import"./editor-Dxlwh8Rr.js";import"./export_merged_ranges_manager-CpR3ilK0.js";import"./language_codes-CoChQwll.js";import"./_commonjsHelpers-D6-XlEtG.js";/* empty css              */import"./createSimpleFunctional-B9V13Tb6.js";import"./VAvatar-D5bh11oI.js";import"./VImg-CG2yCsEP.js";import"./index-BC5Dk1hr.js";/* empty css                   */import"./VCounter-_YLDzKHI.js";import"./VField-sB0aAwNu.js";import"./form-B8FDFqlN.js";import"./easing-Bybner-F.js";import"./VInput-qoVf0ZXq.js";import"./forwardRefs-C-GTDzx5.js";import"./VCheckboxBtn-BOot7k4N.js";import"./VSelectionControl-BXrU8SrZ.js";import"./VOverlay-D_GYRMzD.js";import"./delay-CPBiQuAD.js";import"./lazy-D-1NpPRe.js";import"./scopeId-Bp7swBYg.js";import"./dialog-transition-FTDJhv78.js";import"./ssrBoot-C7vwl_tx.js";import"./VDivider-fYU6rdhm.js";import"./VSlideGroup-0jjgpAsQ.js";const It={id:"liste",style:{"margin-block":"-10px 10px"}},zt={style:{"margin-block-start":"-10px"}},Mt={style:{"margin-block-start":"-10px","margin-inline-start":"5px"}},Kt={style:{"inline-size":"160px","margin-block-start":"-10px","margin-inline-start":"5px"}},Pt={style:{"inline-size":"200px","margin-block-start":"-10px","margin-inline-start":"5px"}},Se="İhtiyaç Listesi",Ae="Toplu",$="planlama:ihtiyac-listesi-toplu",Ua=nt({__name:"ihtiyac-listesi-toplu",setup(Ft){const de=t=>{if(!t)return null;const a=new Date(t),d=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0");return`${d}-${l}-${u}`},Ee=ot(),N=n(!1),G=n(!1),H=n(!1),W=n(!1),q=n(!1),k=n(!1),j=n([]),Z=n([]),ue=n([]),J=n([]),Q=n([]),Ve=n(Date.now()),me=st("userData"),h=n(null),Re=n(null),Ce=n(null),Ie=n(null),ze=n(null);n(null);const X=n(!0);n(!1),n(0);const L=n(0);n(!1);const p=n(0),c=n("");n([]);const Me=n(0),Ke=n([]),Pe=n(0),ee=n(""),pe=n([]),te=n(""),ce=n([]),_=new Date,ae=new Date(_);ae.setDate(_.getDate()-_.getDay()+1);const ie=new Date(_);ie.setDate(_.getDate()-_.getDay()+7);const le=n([ae,ie]),I=n(ae),z=n(ie),O=n([]),m=n(null);Ee.setTitle(`${Se} (${Ae})`),document.title=`OFT - ${Se} | ${Ae}`;function fe(t){return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:1}).format(t.value)}const ve=async()=>{Z.value=[],await Fe()},Fe=async()=>{le.value=[I.value,z.value],I.value=de(le.value[0]),z.value=de(le.value[1]);try{const t=await f.get("/api/toplu-ihtiyaclar",{params:{filterValue:I.value,filterValue1:z.value,merkezID:Pe.value,istasyonID:Me.value,siparis:ee.value,cari:te.value,coID:me.value.co_id}});Z.value=t.data.emirler,ue.value=t.data.dagilim}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{k.value=!1}},Ne=async()=>{try{const t=await f.get("/api/merkezal",{params:{coID:me.value.co_id}});Ke.value=t.data.merkezler,pe.value=t.data.siparisler,ce.value=t.data.cariler}catch(t){console.error("Veri çekilirken hata oluştu: ",t)}finally{k.value=!1}},Ge=async t=>{try{const a=await f.get("/api/isEmriAcilmislar",{params:{item_id:t}});j.value=a.data.data}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}finally{k.value=!1}},D=n(!1),x=n(""),M=n(!0),T=n([]),S=n(!1),g=n(null);async function B(){try{const{data:t}=await f.get("/api/grid-layouts",{params:{page:$}});T.value=Array.isArray(t)?t:[]}catch(t){console.error("Düzenler alınamadı:",t)}}function Le(){var d;const t=(d=h.value)==null?void 0:d.instance;if(!t)return null;const a=t.state();return a&&!M.value&&("filterValue"in a&&delete a.filterValue,"filterPanel"in a&&delete a.filterPanel,Array.isArray(a.columns)&&a.columns.forEach(l=>{!l||typeof l!="object"||(delete l.filterValue,delete l.filterType,delete l.filterValues,delete l.selectedFilterOperation)})),a}async function Oe(){const t=Le();if(t){if(!x.value.trim()){D.value=!0;return}try{await f.post("/api/grid-layouts",{page_key:$,name:x.value.trim(),include_filters:M.value,state:t,meta:{version:1,last_used:!0}}),D.value=!1,await B();const a=T.value.find(d=>d.name===x.value.trim());if(a!=null&&a.id)try{await f.put(`/api/grid-layouts/${a.id}/last-used`,{page_key:$})}catch{}}catch(a){console.error("Düzen kayıt hatası:",a)}}}async function Be(){await B(),g.value=null,S.value=!0}function ye(t){var a;(a=h.value)!=null&&a.instance&&h.value.instance.state(t)}function Ue(){const t=T.value.find(a=>a.id===g.value);t&&(ye(t.state),S.value=!1,t.id&&f.put(`/api/grid-layouts/${t.id}/last-used`,{page_key:$}).catch(()=>{}))}async function Ye(){if(g.value)try{await f.delete(`/api/grid-layouts/${g.value}`),await B(),g.value=null,T.value.length===0&&(S.value=!1)}catch(t){console.error("Düzen silme hatası:",t)}}const $e=()=>{var t;(t=h.value)!=null&&t.instance&&h.value.instance.state(null)};dt(async()=>{try{await B();const t=T.value.find(a=>{var d;return(d=a==null?void 0:a.meta)==null?void 0:d.last_used});t!=null&&t.state&&(await ut(),ye(t.state))}catch{}Ne(),He()});const He=()=>{const t=new Date,a=t.getFullYear()%100,d=new Date(t.getFullYear(),0,4),l=new Date(d);l.setDate(d.getDate()-(d.getDay()+6)%7);const u=Math.floor((t.getTime()-l.getTime())/864e5),re=Math.floor(u/7)+1;return`${a}-${re.toString().padStart(2,"0")}`},We=()=>{X.value=!X.value},qe=()=>{var t,a;(a=(t=h.value)==null?void 0:t.instance)==null||a.clearFilter()},je=t=>{t.rowType==="data"&&(t.column.dataField==="talepler"||t.column.dataField==="satinalma"||t.column.dataField==="stok"||t.column.dataField==="ana_depo"||t.column.dataField==="diger_depo")&&t.value>0&&(t.cellElement.style.fontWeight="bold"),t.rowType==="data"&&t.column.dataField==="stok"&&Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="orange"),t.rowType==="data"&&t.column.dataField==="ana_depo"&&Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff6e00",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="diger_depo"&&Number(t.data.diger_depo)+Number(t.data.ana_depo)+Number(t.data.stok)<Number(t.data.ihtiyac)&&(t.cellElement.style.backgroundColor="#ff5400",t.cellElement.style.color="white"),t.rowType==="data"&&t.column.dataField==="bakiye"&&t.value<0&&(t.cellElement.style.fontWeight="bold",t.cellElement.style.backgroundColor="red",t.cellElement.style.color="white")},Ze=t=>{if(t.rowIndex===-1)return;const a=t.row.data;m.value=a},Je=t=>{const a=new Tt.Workbook,d=a.addWorksheet("MalzemeListesi");xt({component:t.component,worksheet:d,autoFilterEnabled:!0}).then(()=>{a.xlsx.writeBuffer().then(l=>{St(new Blob([l],{type:"application/octet-stream"}),"MalzemeListesi.xlsx")})}),t.cancel=!0},Qe=(t,a)=>{t.innerText=a.text;const d=a.data.tipi,l=(rt,Gt)=>{const A=document.createElement("span");return A.className="dx-icon dx-icon-isnotblank",A.style.marginRight="8px",A.style.color=rt,A.style.fontSize="16",A.style.display="inline-flex",A};let u="gray";switch(d){case"Hammadde":u="gold";break;case"YarıMamul":u="limegreen";break;case"Mamul":u="green";break;case"Ticari":u="gray";break}const re=l(u);t.insertBefore(re,t.firstChild)},Xe=[{text:"Yenile"},{text:"Hangi İş Emirlerinde"},{text:"Açılmış İş Emirleri"},{text:"Stok Detayları"},{text:"Satınalma Sipariş Detayları"},{text:"Satınalma Talep Detayları"},{text:"Düzen Yükle"},{text:"Düzen Kaydet"},{text:"Düzen Sıfırla"}];function et({itemData:t}){if(!(t!=null&&t.items))switch(t==null?void 0:t.text){case"Yenile":ve();break;case"Hangi İş Emirlerinde":L.value=m.value.item_id,p.value=m.value.stok_kodu,c.value=m.value.stok_adi,G.value=!0;break;case"Açılmış İş Emirleri":L.value=m.value.item_id,p.value=m.value.stok_kodu,c.value=m.value.stok_adi,j.value=[],Ge(m.value.item_id),H.value=!0;break;case"Stok Detayları":O.value=[],p.value=m.value.stok_kodu,c.value=m.value.stok_adi,ge(m.value.item_id),N.value=!0;break;case"Satınalma Sipariş Detayları":J.value=[],p.value=m.value.stok_kodu,c.value=m.value.stok_adi,it(m.value.item_id),W.value=!0;break;case"Satınalma Talep Detayları":Q.value=[],p.value=m.value.stok_kodu,c.value=m.value.stok_adi,lt(m.value.item_id),q.value=!0;break;case"Düzen Yükle":Be();break;case"Düzen Kaydet":x.value="",M.value=!0,D.value=!0;break;case"Düzen Sıfırla":$e();break}}const tt=()=>ue.value.filter(t=>t.item_id===L.value),at=t=>{t.rowType==="data"&&t.column.dataField==="diger_depo"&&(O.value=[],p.value=t.data.stok_kodu,c.value=t.data.stok_adi,ge(t.data.item_id),N.value=!0),t.rowType==="data"&&t.column.dataField==="dongu"&&(L.value=t.data.item_id,p.value=t.data.stok_kodu,c.value=t.data.stok_adi,G.value=!0)},it=async t=>{try{const a=await f.get("/api/satinalmasorgu",{params:{item_id:t}});J.value=a.data.satinalma}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}},lt=async t=>{try{const a=await f.get("/api/taleplersorgu",{params:{item_id:t}});Q.value=a.data.talepler}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}},ge=async t=>{try{const a=await f.get("/api/digerdepobakiyeleri",{params:{item_id:t}});O.value=a.data.bakiyeler}catch(a){console.error("Veri çekilirken hata oluştu: ",a)}};return(t,a)=>{const d=mt("DxGroupPanel");return E(),we(be,null,[e(se,{class:"mt-0 pa-0"},{default:r(()=>[e(ne,{class:"mt-0 pa-2"},{default:r(()=>[e(v,{cols:"12",class:"mt-2 pa-1 pe-2 pt-0"},{default:r(()=>[s("div",It,[e(i(ft),{"data-source":Xe,width:200,target:"#gridM",onItemClick:et}),(E(),U(i(V),{id:"gridM",ref_key:"dataGridRefM",ref:h,key:Ve.value,class:"grid","data-source":Z.value,"key-expr":"item_id","show-borders":!0,"focused-row-enabled":"true","row-alternation-enabled":"true","min-width":200,"allow-column-reordering":"true","column-auto-width":"true","allow-column-resizing":"true",onContextMenuPreparing:Ze,"column-resizing-mode":"widget","auto-navigate-to-focused-row":!0,width:"100%",onCellPrepared:je,onExporting:Je,onCellClick:at},{filtreTarih1:r(()=>[s("div",zt,[e(i(he),{label:"Başlangıç Tarihi",width:"150","label-mode":"floating",value:I.value,"onUpdate:value":a[1]||(a[1]=l=>I.value=l),type:"date"},null,8,["value"])])]),filtreTarih2:r(()=>[s("div",Mt,[e(i(he),{label:"Bitiş Tarihi",width:"150","label-mode":"floating",value:z.value,"onUpdate:value":a[2]||(a[2]=l=>z.value=l),type:"date"},null,8,["value"])])]),filtreSiparis:r(()=>[s("div",Kt,[e(i(ke),{"data-source":pe.value,value:ee.value,"onUpdate:value":a[3]||(a[3]=l=>ee.value=l),label:"Sipariş","label-mode":"floating","display-expr":"siparis_belge_no","value-expr":"siparis_belge_no",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"siparis_belge_no","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreCari:r(()=>[s("div",Pt,[e(i(ke),{"data-source":ce.value,value:te.value,"onUpdate:value":a[4]||(a[4]=l=>te.value=l),label:"Cari","label-mode":"floating","display-expr":"cari_ad","value-expr":"cari_ad",style:{"inline-size":"100%"},"show-clear-button":!0,"search-mode":"contains","search-expr":"cari_ad","search-timeout":200,"search-enabled":!0},null,8,["data-source","value"])])]),filtreTemizleTemplate:r(()=>[e(i(oe),{id:"filtretemizle",icon:"notequal","styling-mode":"text",hint:"Filtre Temizle"})]),menuFiltreTemizleTemplate:r(()=>a[16]||(a[16]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-notequal"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Temizle")],-1)])),yenileTemplate:r(()=>[e(i(oe),{id:"sayim",icon:"refresh","styling-mode":"text",hint:"Yenile"})]),menuYenileTemplate:r(()=>a[17]||(a[17]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-refresh"}),s("span",{style:{"margin-inline-start":"8px"}},"Yenile")],-1)])),filtreGosterTemplate:r(()=>[e(i(oe),{icon:"filter","styling-mode":"text",hint:"Filtre Goster"})]),menuFiltreGosterTemplate:r(()=>a[18]||(a[18]=[s("div",{style:{display:"flex","align-items":"center","margin-inline-start":"13px"}},[s("i",{class:"dx-icon dx-icon-filter"}),s("span",{style:{"margin-inline-start":"8px"}},"Filtre Göster")],-1)])),default:r(()=>[e(i(o),{"data-field":"tipi",caption:"TİPİ","data-type":"string",visible:!0,width:65,"cell-template":Qe}),e(i(o),{"data-field":"satinalmapersoneli",caption:"SATICI",visible:!0,width:80}),e(i(o),{"data-field":"mrk_adi",caption:"İŞ MERKEZİ",visible:!0,width:150}),e(i(o),{"data-field":"item_id",caption:"STOK ID","data-type":"number",visible:!0,width:80}),e(i(o),{"data-field":"stok_kodu",caption:"STOK KODU","data-type":"string",visible:!0,width:130}),e(i(o),{"data-field":"stok_adi",caption:"STOK ADI","data-type":"string",visible:!0,width:400}),e(i(o),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"kalan",caption:"KALAN","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"ihtiyac",caption:"İHTİYAÇ","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"diger_depo",caption:"STOK","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"bakiye",caption:"BAKİYE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","},"sort-order":"asc"}),e(i(o),{"data-field":"satinalma",caption:"SATINALMA","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"talepler",caption:"TALEPLER","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"dongu",caption:"KAÇ İŞEMRİNDE","data-type":"number",visible:!0,width:100,format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),(E(),U(i(Dt),{key:k.value,visible:k.value,"onUpdate:visible":a[0]||(a[0]=l=>k.value=l),"show-indicator":!0,"show-pane":!0,shading:!0},null,8,["visible"])),e(i(vt),{visible:!0}),e(i(yt),{visible:!0}),e(i(gt),{visible:X.value},null,8,["visible"]),e(i(wt),{visible:!0,width:240}),e(i(R),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(i(bt),{mode:"multiple"}),e(i(ht),{enabled:!0,"allow-export-selected-data":!1}),e(i(kt),null,{default:r(()=>[e(i(w),{location:"before","locate-in-menu":"auto",template:"filtreTarih1"}),e(i(w),{location:"before","locate-in-menu":"auto",template:"filtreTarih2"}),e(i(w),{location:"before","locate-in-menu":"auto",template:"filtreSiparis"}),e(i(w),{location:"before","locate-in-menu":"auto",template:"filtreCari"}),e(i(w),{location:"before","locate-in-menu":"auto",template:"yenileTemplate","menu-item-template":"menuYenileTemplate",onClick:ve}),e(i(w),{location:"after","locate-in-menu":"auto",template:"filtreTemizleTemplate","menu-item-template":"menuFiltreTemizleTemplate",onClick:qe}),e(i(w),{location:"after","locate-in-menu":"auto",template:"filtreGosterTemplate","menu-item-template":"menuFiltreGosterTemplate",onClick:We}),e(i(w),{name:"exportButton"}),e(i(w),{name:"searchPanel"})]),_:1}),e(i(Y),null,{default:r(()=>[e(i(_t),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:t.right},null,8,["alignment"]),e(i(C),{"align-by-column":!0,column:"stok_adi","summary-type":"count","display-format":"{0} adet",alignment:t.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source"]))])]),_:1})]),_:1})]),_:1}),e(Te,{modelValue:D.value,"onUpdate:modelValue":a[8]||(a[8]=l=>D.value=l),"max-width":"520"},{default:r(()=>[e(se,null,{default:r(()=>[e(_e,null,{default:r(()=>a[19]||(a[19]=[b("Düzen Kaydet")])),_:1,__:[19]}),e(ne,null,{default:r(()=>[e(At,{modelValue:x.value,"onUpdate:modelValue":a[5]||(a[5]=l=>x.value=l),label:"Düzen Adı",autofocus:""},null,8,["modelValue"]),e(Et,{modelValue:M.value,"onUpdate:modelValue":a[6]||(a[6]=l=>M.value=l),label:"Filtreleri dahil et"},null,8,["modelValue"])]),_:1}),e(De,null,{default:r(()=>[e(xe),e(K,{variant:"text",onClick:a[7]||(a[7]=l=>D.value=!1)},{default:r(()=>a[20]||(a[20]=[b("İptal")])),_:1,__:[20]}),e(K,{color:"primary",onClick:Oe},{default:r(()=>a[21]||(a[21]=[b("Kaydet")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Te,{modelValue:S.value,"onUpdate:modelValue":a[10]||(a[10]=l=>S.value=l),"max-width":"520"},{default:r(()=>[e(se,null,{default:r(()=>[e(_e,null,{default:r(()=>a[22]||(a[22]=[b("Düzen Yükle")])),_:1,__:[22]}),e(ne,null,{default:r(()=>[e(Vt,{lines:"one"},{default:r(()=>[(E(!0),we(be,null,pt(T.value,l=>(E(),U(Rt,{key:l.id,title:l.name,onClick:u=>g.value=l.id,active:g.value===l.id},{append:r(()=>{var u;return[(u=l==null?void 0:l.meta)!=null&&u.last_used?(E(),U(Ct,{key:0,size:"small",color:"primary",variant:"flat"},{default:r(()=>a[23]||(a[23]=[b("son")])),_:1,__:[23]})):ct("",!0)]}),_:2},1032,["title","onClick","active"]))),128))]),_:1})]),_:1}),e(De,null,{default:r(()=>[e(xe),e(K,{variant:"text",onClick:a[9]||(a[9]=l=>S.value=!1)},{default:r(()=>a[24]||(a[24]=[b("Kapat")])),_:1,__:[24]}),e(K,{color:"error",disabled:!g.value,variant:"text",onClick:Ye},{default:r(()=>a[25]||(a[25]=[b("Sil")])),_:1,__:[25]},8,["disabled"]),e(K,{color:"primary",disabled:!g.value,onClick:Ue},{default:r(()=>a[26]||(a[26]=[b("Yükle")])),_:1,__:[26]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i(P),{visible:N.value,"onUpdate:visible":a[11]||(a[11]=l=>N.value=l),"hide-on-outside-click":!0,title:"Stok Detayları","show-close-button":!1,"show-title":!0,width:600,height:600},{default:r(()=>[e(v,{class:"text-center"},{default:r(()=>[s("h2",null,y(p.value),1),s("h2",null,y(c.value),1)]),_:1}),a[27]||(a[27]=s("br",null,null,-1)),e(F,null,{default:r(()=>[e(v,null,{default:r(()=>[e(i(V),{id:"gridBakiyeler",ref_key:"dataGridRefB",ref:Re,"data-source":O.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",onCellPrepared:t.onCellPreparedB,"row-alternation-enabled":!0},{default:r(()=>[e(i(o),{"data-field":"whouse_id",caption:"DEPO ID",width:80,visible:!1}),e(i(o),{"data-field":"whouse_code",caption:"DEPO KODU",width:100}),e(i(o),{"data-field":"description",caption:"DEPO ADI"}),e(i(o),{"data-field":"qty_prm",caption:"STOK",width:100,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(d,{visible:!1}),e(i(R),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"}),e(i(Y),null,{default:r(()=>[e(i(C),{"align-by-column":!0,column:"qty_prm","summary-type":"sum","display-format":"{0}",alignment:t.right},null,8,["alignment"])]),_:1})]),_:1},8,["data-source","onCellPrepared"])]),_:1})]),_:1})]),_:1,__:[27]},8,["visible"]),e(i(P),{visible:q.value,"onUpdate:visible":a[12]||(a[12]=l=>q.value=l),"hide-on-outside-click":!0,title:"Taleplerin Detayı","show-close-button":!1,"show-title":!0,width:800,height:500},{default:r(()=>[e(v,{class:"text-center"},{default:r(()=>[s("h2",null,y(p.value),1),s("h2",null,y(c.value),1)]),_:1}),a[28]||(a[28]=s("br",null,null,-1)),e(F,null,{default:r(()=>[e(v,null,{default:r(()=>[e(i(V),{id:"gridTalepler",ref_key:"dataGridRefT",ref:ze,"data-source":Q.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(i(o),{"data-field":"talep_no",caption:"TALEP NO",width:100}),e(i(o),{"data-field":"talep_tarihi",caption:"TALEP TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"onay_tarihi",caption:"ONAY TARİHİ","data-type":"date",width:120,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"kaynak",caption:"KAYNAK",width:150}),e(i(o),{"data-field":"tipi",caption:"TİPİ",width:100}),e(i(o),{"data-field":"miktar",caption:"MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(d,{visible:!1}),e(i(R),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[28]},8,["visible"]),e(i(P),{visible:W.value,"onUpdate:visible":a[13]||(a[13]=l=>W.value=l),"hide-on-outside-click":!0,title:"Satınalma Sipariş Detayı","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(v,{class:"text-center"},{default:r(()=>[s("h2",null,y(p.value),1),s("h2",null,y(c.value),1)]),_:1}),a[29]||(a[29]=s("br",null,null,-1)),e(F,null,{default:r(()=>[e(v,null,{default:r(()=>[e(i(V),{id:"gridSatinalma",ref_key:"dataGridRefS",ref:Ie,"data-source":J.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(i(o),{"data-field":"BELGE_NO",caption:"BELGE NO",width:100}),e(i(o),{"data-field":"BELGE_TARIHI",caption:"BELGE TARİHİ","data-type":"date",width:110,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"satici_adi",caption:"SATICI",width:100}),e(i(o),{"data-field":"sip_olusturan",caption:"OLUŞTURAN",width:100}),e(i(o),{"data-field":"CARI_AD",caption:"CARİ ADI",width:280}),e(i(o),{"data-field":"sevk_tarihi",caption:"SEVK TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"teslim_tarihi",caption:"TESLİM TARİHİ","data-type":"date",width:100,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"teslim_tarihi_not",caption:"T.T. NOT",width:80}),e(i(o),{"data-field":"MIKTAR",caption:"SPR. MİKTAR",width:110,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"BIRIM_KOD",caption:"BİRİM",width:60}),e(i(o),{"data-field":"KALAN_MIKTAR",caption:"KALAN MİKTAR",width:100,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(d,{visible:!1}),e(i(R),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[29]},8,["visible"]),e(i(P),{visible:H.value,"onUpdate:visible":a[14]||(a[14]=l=>H.value=l),"hide-on-outside-click":!0,title:"Açılmış İş Emirleri","show-close-button":!1,"show-title":!0,width:1e3,height:600},{default:r(()=>[e(v,{class:"text-center"},{default:r(()=>[s("h2",null,y(p.value),1),s("h2",null,y(c.value),1)]),_:1}),a[30]||(a[30]=s("br",null,null,-1)),e(F,null,{default:r(()=>[e(v,null,{default:r(()=>[e(i(V),{id:"gridAcilmisEmirler",ref:"dataGridRefA","data-source":j.value,"show-borders":!0,"column-auto-width":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%",height:400},{default:r(()=>[e(i(o),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(i(o),{"data-field":"cari_ad",caption:"CARİ ADI",width:270,visible:!0}),e(i(o),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(i(o),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(i(o),{"data-field":"stok_id",caption:"STOK ID",width:100,visible:!1}),e(i(o),{"data-field":"stok_kodu",caption:"STOK KODU",width:120,visible:!1}),e(i(o),{"data-field":"stok_adi",caption:"STOK ADI",visible:!1}),e(i(o),{"data-field":"planlanan_bitis_tarihi",caption:"PLN BTŞ","data-type":"date",width:110,visible:!0,format:{formatter:l=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(l)).replace(/\//g,".")},alignment:"left"},null,8,["format"]),e(i(o),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MKTRI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(o),{"data-field":"kalan_miktar",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:0,thousandsSeparator:","}}),e(i(Y),null,{default:r(()=>[e(i(C),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":fe},null,8,["alignment"]),e(i(C),{"align-by-column":!0,column:"kalan_miktar","summary-type":"sum","display-format":" Tpl: {0}",alignment:t.right,"customize-text":fe},null,8,["alignment"])]),_:1}),e(d,{visible:!1}),e(i(R),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[30]},8,["visible"]),e(i(P),{visible:G.value,"onUpdate:visible":a[15]||(a[15]=l=>G.value=l),"hide-on-outside-click":!0,title:"Kullanan İş Emirleri","show-close-button":!1,"show-title":!0,width:1300,height:500},{default:r(()=>[e(v,{class:"text-center"},{default:r(()=>[s("h2",null,y(p.value),1),s("h2",null,y(c.value),1)]),_:1}),a[31]||(a[31]=s("br",null,null,-1)),e(F,null,{default:r(()=>[e(v,null,{default:r(()=>[e(i(V),{id:"gridEmirler",ref_key:"dataGridRefE",ref:Ce,"data-source":tt(),"show-borders":!0,"column-auto-width":!1,"allow-column-resizing":!0,"column-resizing-mode":"widget","row-alternation-enabled":!0,width:"100%"},{default:r(()=>[e(i(o),{"data-field":"siparis_belge_no",caption:"SİPARİŞ NO",width:120,visible:!0}),e(i(o),{"data-field":"cari_ad",caption:"CARİ ADI",width:150,visible:!0}),e(i(o),{"data-field":"isemri_id",caption:"İŞ EMRİ ID",width:100,visible:!1}),e(i(o),{"data-field":"isemri_no",caption:"İŞ EMRİ NO",width:120}),e(i(o),{"data-field":"stok_id",caption:"STOK ID",visible:!1,width:50}),e(i(o),{"data-field":"stok_kodu",caption:"STOK KODU",width:150}),e(i(o),{"data-field":"stok_adi",caption:"STOK ADI",width:t.auto},null,8,["width"]),e(i(o),{"data-field":"isemri_miktari",caption:"İŞ EMRİ MİKTARI",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(i(o),{"data-field":"kalan",caption:"KALAN MİKTAR",width:120,"data-type":"number",format:{type:"fixedPoint",precision:2,thousandsSeparator:","}}),e(i(Y),null,{default:r(()=>[e(i(C),{"align-by-column":!0,column:"isemri_miktari","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"]),e(i(C),{"align-by-column":!0,column:"kalan","summary-type":"sum","display-format":"{0} ad",alignment:t.right},null,8,["alignment"])]),_:1}),e(d,{visible:!1}),e(i(R),{mode:"virtual","row-rendering-mode":"virtual","show-scrollbar":"always"})]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1,__:[31]},8,["visible"])],64)}}});export{Ua as default};
