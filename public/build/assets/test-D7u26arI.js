import{p as gn,a as te}from"./index-DR5YRmXp.js";import{dG as We,db as ne,ei as Je,dD as G,dj as ye,dW as we,dE as ue,bd as pe,de as X,dB as Ue,dq as se,dk as et,dd as _e,dJ as ve,dH as fn,dm as tt,ea as mn,ej as de,dn as yn,dc as Tn,ek as _n,dg as vn,el as kn,dI as Ie,d as Q,g as bn,f as nt,m as ee,o as wn,b as ie}from"./main-XwRbLdDd.js";import{aR as Sn,a as Te,p as Ne,o as $,d as it,e as ce,g as ze,t as he,r as Oe,l as gt,N as De,q as Ke,s as Cn,a8 as In,aD as Dn,m as Ce,a_ as rt,an as En,k as fe,a2 as xn,aL as ot,am as st,a4 as Ve,Z as Mn,y as Pn,x as An}from"./ui.errors-CQ3w3T6k.js";import{D as Rn,S as On,ap as Ln,d as Hn,aq as Nn,ar as Vn,C as Bn,as as $e,P as Fn,Z as jn,A as ft,q as Ge,s as Wn,b as Un,a4 as Kn,i as Gn}from"./m_select_box-CmI1_xLd.js";import{W as Ze,C as zn,c as at}from"./overlay-D4b-WZqj.js";import{$ as $n,g as me,a0 as Zn,C as Yn,m as qn,c as Xn,a as Qn,a1 as Jn,D as ei,d as ti,b as ni,s as ii,r as ri,a2 as oi,e as si,f as ai,h as Be,a3 as li,i as ci,G as di,j as Se,l as ui,t as pi,a4 as hi,u as gi,v as Re,w as fi,x as mi,y as yi,z as Ti,A as be,B as Le,a5 as _i,a6 as vi,E as ki,F as bi,H as wi,I as Si,J as Ci,K as Ii,M as Di,N as Ei,V as xi,W as Mi,X as Pi,k as lt,a7 as Ai,a8 as Ri,a9 as Oi,L as Li,O as Hi,aa as Ni,Q as Vi,Y as Bi,Z as Pe,_ as Fi}from"./m_row_dragging-CePfikDJ.js";import{a as ji}from"./m_utils.scroll-BPMokq8X.js";import{E as Wi}from"./editor-DP_T_3L9.js";import"./list.edit.decorator.swipe-sVDiaJc0.js";import{i as Ui}from"./themes-CQjnx04S.js";import{g as Ki}from"./_commonjsHelpers-D6-XlEtG.js";import"./m_resize_observer-XJJaLm6G.js";import"./format_helper-Dlwhiacf.js";import"./m_popover-CMDwRtW8.js";const Gi={create:O=>({NotifyTaskCreated:(e,l,T)=>{O._onRecordInserted("tasks",e,l)},NotifyTaskRemoved:(e,l,T)=>{O._onRecordRemoved("tasks",e,T)},NotifyTaskUpdated:(e,l,T)=>{O._onRecordUpdated("tasks",e,l)},NotifyParentTaskUpdated:(e,l)=>{O._onParentTaskUpdated(e)},NotifyDependencyInserted:(e,l,T)=>{O._onRecordInserted("dependencies",e,l)},NotifyDependencyRemoved:(e,l,T)=>{O._onRecordRemoved("dependencies",e,T)},NotifyResourceCreated:(e,l,T)=>{O._onRecordInserted("resources",e,l)},NotifyResourceRemoved:(e,l,T)=>{O._onRecordRemoved("resources",e,T)},NotifyResourceAssigned:(e,l,T)=>{O._onRecordInserted("resourceAssignments",e,l)},NotifyResourceUnassigned:(e,l,T)=>{O._onRecordRemoved("resourceAssignments",e,T)},NotifyParentDataRecalculated:e=>{O._onParentTasksRecalculated(e)},NotifyTaskCreating:e=>{O._actionsManager.raiseInsertingAction("tasks",e)},NotifyTaskRemoving:e=>{O._actionsManager.raiseDeletingAction("tasks",e)},NotifyTaskUpdating:e=>{O._actionsManager.raiseUpdatingAction("tasks",e)},NotifyTaskMoving:e=>{O._actionsManager.raiseUpdatingAction("tasks",e,O._actionsManager.getTaskMovingAction())},NotifyTaskEditDialogShowing:e=>{O._actionsManager.raiseTaskEditDialogShowingAction(e)},NotifyResourceManagerDialogShowing:e=>{O._actionsManager.raiseResourceManagerDialogShowingAction(e)},NotifyDependencyInserting:e=>{O._actionsManager.raiseInsertingAction("dependencies",e)},NotifyDependencyRemoving:e=>{O._actionsManager.raiseDeletingAction("dependencies",e)},NotifyResourceCreating:e=>{O._actionsManager.raiseInsertingAction("resources",e)},NotifyResourceRemoving:e=>{O._actionsManager.raiseDeletingAction("resources",e)},NotifyResourceAssigning:e=>{O._actionsManager.raiseInsertingAction("resourceAssignments",e)},NotifyResourceUnassigning:e=>{O._actionsManager.raiseDeletingAction("resourceAssignments",e)},NotifyScaleCellPrepared:e=>{O._actionsManager.raiseScaleCellPreparedAction(e)},NotifyGanttViewUpdated:()=>{O._onGanttViewCoreUpdated()}})};class mt extends Sn{constructor(e,l,T){super(),this._optionName=e,this._getLoadPanel=l,this._dataSourceChangedCallback=T}insert(e,l,T){this._showLoadPanel(),this._getStore().insert(e).done((k=>{l&&l(k),this._hideLoadPanel()})).fail((k=>{T&&T(k),this._hideLoadPanel()}))}update(e,l,T,k){this._showLoadPanel(),this._getStore().update(e,l).done(((C,b)=>{T&&T(C,b),this._hideLoadPanel()})).fail((C=>{k&&k(C),this._hideLoadPanel()}))}remove(e,l,T){this._showLoadPanel(),this._getStore().remove(e).done((k=>{l&&l(k),this._hideLoadPanel()})).fail((k=>{T&&T(k),this._hideLoadPanel()}))}_dataSourceChangedHandler(e,l){this._dataSourceChangedCallback(this._optionName,e)}_dataSourceOptions(){return{paginate:!1}}_dataSourceLoadingChangedHandler(e){e&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}_showLoadPanel(){var e;(e=this._getLoadPanel())===null||e===void 0||e.show()}_hideLoadPanel(){var e;(e=this._getLoadPanel())===null||e===void 0||e.hide()}_getStore(){return this._dataSource.store()}_getItems(){return this._getStore()._array||this._dataSource.items()}_reloadDataSource(){return this._dataSource.load()}dispose(){this._disposeDataSource()}_optionChanged(e){e.name}}mt.include(Rn);const ct=ze(),zi="dx-splitter-bar";class $i extends Ze{_init(){super._init();const e=new We().toString();this.SPLITTER_POINTER_DOWN_EVENT_NAME=Te(Ne.down,"dxSplitterResizing"+e),this.SPLITTER_POINTER_MOVE_EVENT_NAME=Te(Ne.move,"dxSplitterResizing"+e),this.SPLITTER_POINTER_UP_EVENT_NAME=Te(Ne.up,"dxSplitterResizing"+e)}_initMarkup(){super._initMarkup(),this._initActions(),this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this.$element().addClass("dx-splitter-wrapper").addClass("dx-splitter-initial"),this._$splitterBorder=$("<div>").addClass("dx-splitter-border").appendTo(this.$element()),this._$splitter=$("<div>").addClass(zi).addClass("dx-splitter-inactive").appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){const e=it.getDocument();ce.on(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME,this._onMouseDownHandler.bind(this)),ce.on(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME,this._onMouseMoveHandler.bind(this)),ce.on(e,this.SPLITTER_POINTER_UP_EVENT_NAME,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){const e=it.getDocument();ce.off(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME),ce.off(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME),ce.off(e,this.SPLITTER_POINTER_UP_EVENT_NAME)}_dimensionChanged(e){(!e||e!=="height")&&(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(e){e.preventDefault(),this._offsetX=e.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?e.pageX-this._$splitterBorder.offset().left:0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass("dx-splitter-initial"),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(e){this._isSplitterActive&&this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(e),needUpdatePanels:!0})}_onMouseUpHandler(){this._isSplitterActive&&(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(e){let l=e.pageX-this._getContainerLeftOffset()-this._offsetX;return l=Math.max(0-this._getSplitterOffset(),l),l=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),l),l}_getContainerLeftOffset(){let e=this._$container.offset().left;if(ct){const l=ct.getComputedStyle(this._$container.get(0)),T=parseFloat(l.paddingLeft)||0,k=parseFloat(l.borderLeftWidth)||0;e+=T+k}return e}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}getSplitterBorderElement(){return this._$splitterBorder}_toggleActive(e){this.$element().toggleClass("dx-splitter-inactive",!e),this._$splitter.toggleClass("dx-splitter-inactive",!e),this._isSplitterActive=e,this._actions.onActiveStateChanged({isActive:e})}toggleDisabled(e){this.$element().toggleClass("dx-state-disabled",e),this._$splitter.toggleClass("dx-state-disabled",e)}isSplitterMoved(){return!this.$element().hasClass("dx-splitter-initial")}disableSplitterCalculation(e){this._isSplitterCalculationDisabled=e}_setSplitterPositionLeft(){let{splitterPositionLeft:e=null,needUpdatePanels:l=!1,usePercentagePanelsWidth:T=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=e||this._getLeftPanelWidth()-this._getSplitterOffset();const k=e+this._getSplitterOffset(),C=this._containerWidth-k;this._isSplitterCalculationDisabled||this.$element().css("left",e),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(k);const b=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));l&&this._actions.onApplyPanelSize({leftPanelWidth:T?`${this._leftPanelPercentageWidth}%`:k,rightPanelWidth:T?`${b}%`:C})}_optionChanged(e){switch(e.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(e.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[e.name]=this._createActionByOption(e.name);break;default:super._optionChanged(e)}}_convertToPercentage(e){return e/this._$container.get(0).clientWidth*100}_convertToPixels(e){return e/100*this._$container.get(0).clientWidth}}const J={onContextMenuPreparing:"onContextMenuPreparing",onCustomCommand:"onCustomCommand",onDependencyDeleted:"onDependencyDeleted",onDependencyDeleting:"onDependencyDeleting",onDependencyInserted:"onDependencyInserted",onDependencyInserting:"onDependencyInserting",onResourceAssigned:"onResourceAssigned",onResourceAssigning:"onResourceAssigning",onResourceDeleted:"onResourceDeleted",onResourceDeleting:"onResourceDeleting",onResourceInserted:"onResourceInserted",onResourceInserting:"onResourceInserting",onResourceManagerDialogShowing:"onResourceManagerDialogShowing",onResourceUnassigned:"onResourceUnassigned",onResourceUnassigning:"onResourceUnassigning",onSelectionChanged:"onSelectionChanged",onTaskClick:"onTaskClick",onTaskDblClick:"onTaskDblClick",onTaskDeleted:"onTaskDeleted",onTaskDeleting:"onTaskDeleting",onTaskEditDialogShowing:"onTaskEditDialogShowing",onTaskInserted:"onTaskInserted",onTaskInserting:"onTaskInserting",onTaskMoving:"onTaskMoving",onTaskUpdated:"onTaskUpdated",onTaskUpdating:"onTaskUpdating",onScaleCellPrepared:"onScaleCellPrepared"};class Zi{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this._customFieldsManager=e._customFieldsManager}_createActionByOption(e){return this._gantt._createActionByOption(e)}_getTaskData(e){return this._gantt.getTaskData(e)}_convertCoreToMappedData(e,l){return this._mappingHelper.convertCoreToMappedData(e,l)}_convertMappedToCoreData(e,l){return this._mappingHelper.convertMappedToCoreData(e,l)}_convertMappedToCoreFields(e,l){return this._mappingHelper.convertMappedToCoreFields(e,l)}_convertCoreToMappedFields(e,l){return this._mappingHelper.convertCoreToMappedFields(e,l)}_saveCustomFieldsDataToCache(e,l){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._customFieldsManager.saveCustomFieldsDataToCache(e,l,T,k)}createTaskDblClickAction(){this._taskDblClickAction=this._createActionByOption(J.onTaskDblClick)}taskDblClickAction(e){this._taskDblClickAction||this.createTaskDblClickAction(),this._taskDblClickAction(e)}raiseTaskDblClickAction(e,l){const T={cancel:!1,data:this._getTaskData(e),event:l,key:e};return this.taskDblClickAction(T),!T.cancel}createTaskClickAction(){this._taskClickAction=this._createActionByOption(J.onTaskClick)}taskClickAction(e){this._taskClickAction||this.createTaskClickAction(),this._taskClickAction(e)}raiseTaskClickAction(e,l){const T={key:e,event:l,data:this._getTaskData(e)};this.taskClickAction(T)}createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption(J.onSelectionChanged)}selectionChangedAction(e){this._selectionChangedAction||this.createSelectionChangedAction(),this._selectionChangedAction(e)}raiseSelectionChangedAction(e){this.selectionChangedAction({selectedRowKey:e})}createCustomCommandAction(){this._customCommandAction=this._createActionByOption(J.onCustomCommand)}customCommandAction(e){this._customCommandAction||this.createCustomCommandAction(),this._customCommandAction(e)}raiseCustomCommand(e){this.customCommandAction({name:e})}createContextMenuPreparingAction(){this._contextMenuPreparingAction=this._createActionByOption(J.onContextMenuPreparing)}contextMenuPreparingAction(e){this._contextMenuPreparingAction||this.createContextMenuPreparingAction(),this._contextMenuPreparingAction(e)}raiseContextMenuPreparing(e){this.contextMenuPreparingAction(e)}_getInsertingAction(e){switch(e){case"tasks":return this._getTaskInsertingAction();case"dependencies":return this._getDependencyInsertingAction();case"resources":return this._getResourceInsertingAction();case"resourceAssignments":return this._getResourceAssigningAction()}return()=>{}}raiseInsertingAction(e,l){const T=this._getInsertingAction(e);if(T){const k={cancel:!1,values:this._convertCoreToMappedData(e,l.values)};T(k),l.cancel=k.cancel,ne(l.values,this._convertMappedToCoreData(e,k.values)),e==="tasks"&&this._saveCustomFieldsDataToCache("gantt_new_task_key",k.values)}}createTaskInsertingAction(){this._taskInsertingAction=this._createActionByOption(J.onTaskInserting)}taskInsertingAction(e){this._getTaskInsertingAction()(e)}_getTaskInsertingAction(){return this._taskInsertingAction||this.createTaskInsertingAction(),this._taskInsertingAction}createDependencyInsertingAction(){this._dependencyInsertingAction=this._createActionByOption(J.onDependencyInserting)}dependencyInsertingAction(e){this._getDependencyInsertingAction()(e)}_getDependencyInsertingAction(){return this._dependencyInsertingAction||this.createDependencyInsertingAction(),this._dependencyInsertingAction}createResourceInsertingAction(){this._resourceInsertingAction=this._createActionByOption(J.onResourceInserting)}resourceInsertingAction(e){this._getResourceInsertingAction()(e)}_getResourceInsertingAction(){return this._resourceInsertingAction||this.createResourceInsertingAction(),this._resourceInsertingAction}createResourceAssigningAction(){this._resourceAssigningAction=this._createActionByOption(J.onResourceAssigning)}resourceAssigningAction(e){this._getResourceAssigningAction()(e)}_getResourceAssigningAction(){return this._resourceAssigningAction||this.createResourceAssigningAction(),this._resourceAssigningAction}_getInsertedAction(e){switch(e){case"tasks":return this._getTaskInsertedAction();case"dependencies":return this._getDependencyInsertedAction();case"resources":return this._getResourceInsertedAction();case"resourceAssignments":return this._getResourceAssignedAction()}return()=>{}}raiseInsertedAction(e,l,T){const k=this._getInsertedAction(e);k&&k({values:l,key:T})}createTaskInsertedAction(){this._taskInsertedAction=this._createActionByOption(J.onTaskInserted)}taskInsertedAction(e){this._getTaskInsertedAction()(e)}_getTaskInsertedAction(){return this._taskInsertedAction||this.createTaskInsertedAction(),this._taskInsertedAction}createDependencyInsertedAction(){this._dependencyInsertedAction=this._createActionByOption(J.onDependencyInserted)}dependencyInsertedAction(e){this._getDependencyInsertedAction()(e)}_getDependencyInsertedAction(){return this._dependencyInsertedAction||this.createDependencyInsertedAction(),this._dependencyInsertedAction}createResourceInsertedAction(){this._resourceInsertedAction=this._createActionByOption(J.onResourceInserted)}resourceInsertedAction(e){this._getResourceInsertedAction()(e)}_getResourceInsertedAction(){return this._resourceInsertedAction||this.createResourceInsertedAction(),this._resourceInsertedAction}createResourceAssignedAction(){this._resourceAssignedAction=this._createActionByOption(J.onResourceAssigned)}resourceAssignedAction(e){this._getResourceAssignedAction()(e)}_getResourceAssignedAction(){return this._resourceAssignedAction||this.createResourceAssignedAction(),this._resourceAssignedAction}_getDeletingAction(e){switch(e){case"tasks":return this._getTaskDeletingAction();case"dependencies":return this._getDependencyDeletingAction();case"resources":return this._getResourceDeletingAction();case"resourceAssignments":return this._getResourceUnassigningAction()}return()=>{}}raiseDeletingAction(e,l){const T=this._getDeletingAction(e);if(T){const k={cancel:!1,key:l.key,values:this._convertCoreToMappedData(e,l.values)};T(k),l.cancel=k.cancel}}createTaskDeletingAction(){this._taskDeletingAction=this._createActionByOption(J.onTaskDeleting)}taskDeletingAction(e){this._getTaskDeletingAction()(e)}_getTaskDeletingAction(){return this._taskDeletingAction||this.createTaskDeletingAction(),this._taskDeletingAction}createDependencyDeletingAction(){this._dependencyDeletingAction=this._createActionByOption(J.onDependencyDeleting)}dependencyDeletingAction(e){this._getDependencyDeletingAction()(e)}_getDependencyDeletingAction(){return this._dependencyDeletingAction||this.createDependencyDeletingAction(),this._dependencyDeletingAction}createResourceDeletingAction(){this._resourceDeletingAction=this._createActionByOption(J.onResourceDeleting)}resourceDeletingAction(e){this._getResourceDeletingAction()(e)}_getResourceDeletingAction(){return this._resourceDeletingAction||this.createResourceDeletingAction(),this._resourceDeletingAction}createResourceUnassigningAction(){this._resourceUnassigningAction=this._createActionByOption(J.onResourceUnassigning)}resourceUnassigningAction(e){this._getResourceUnassigningAction()(e)}_getResourceUnassigningAction(){return this._resourceUnassigningAction||this.createResourceUnassigningAction(),this._resourceUnassigningAction}_getDeletedAction(e){switch(e){case"tasks":return this._getTaskDeletedAction();case"dependencies":return this._getDependencyDeletedAction();case"resources":return this._getResourceDeletedAction();case"resourceAssignments":return this._getResourceUnassignedAction()}return()=>{}}raiseDeletedAction(e,l,T){const k=this._getDeletedAction(e);k&&k({key:l,values:T})}createTaskDeletedAction(){this._taskDeletedAction=this._createActionByOption(J.onTaskDeleted)}taskDeletedAction(e){this._getTaskDeletedAction()(e)}_getTaskDeletedAction(){return this._taskDeletedAction||this.createTaskDeletedAction(),this._taskDeletedAction}createDependencyDeletedAction(){this._dependencyDeletedAction=this._createActionByOption(J.onDependencyDeleted)}dependencyDeletedAction(e){this._getDependencyDeletedAction()(e)}_getDependencyDeletedAction(){return this._dependencyDeletedAction||this.createDependencyDeletedAction(),this._dependencyDeletedAction}createResourceDeletedAction(){this._resourceDeletedAction=this._createActionByOption(J.onResourceDeleted)}resourceDeletedAction(e){this._getResourceDeletedAction()(e)}_getResourceDeletedAction(){return this._resourceDeletedAction||this.createResourceDeletedAction(),this._resourceDeletedAction}createResourceUnassignedAction(){this._resourceUnassignedAction=this._createActionByOption(J.onResourceUnassigned)}resourceUnassignedAction(e){this._getResourceUnassignedAction()(e)}_getResourceUnassignedAction(){return this._resourceUnassignedAction||this.createResourceUnassignedAction(),this._resourceUnassignedAction}_getUpdatingAction(e){return e==="tasks"?this._getTaskUpdatingAction():()=>{}}raiseUpdatingAction(e,l,T){if(T=T||this._getUpdatingAction(e),T){const k=e==="tasks",C={cancel:!1,key:l.key,newValues:this._convertCoreToMappedData(e,l.newValues),values:k?this._getTaskData(l.key):this._convertCoreToMappedData(e,l.values)};if(k&&this._customFieldsManager.cache.hasData(C.key)&&this._customFieldsManager.addCustomFieldsDataFromCache(C.key,C.newValues),T(C),l.cancel=C.cancel,ne(l.newValues,this._convertMappedToCoreData(e,C.newValues)),k)if(C.cancel)this._customFieldsManager.resetCustomFieldsDataCache(C.key);else{const b=!Object.keys(l.newValues).length;this._saveCustomFieldsDataToCache(C.key,C.newValues,b)}}}createTaskUpdatingAction(){this._taskUpdatingAction=this._createActionByOption(J.onTaskUpdating)}taskUpdatingAction(e){this._getTaskUpdatingAction()(e)}_getTaskUpdatingAction(){return this._taskUpdatingAction||this.createTaskUpdatingAction(),this._taskUpdatingAction}_getUpdatedAction(e){return e==="tasks"?this._getTaskUpdatedAction():()=>{}}raiseUpdatedAction(e,l,T){const k=this._getUpdatedAction(e);k&&k({values:l,key:T})}createTaskUpdatedAction(){this._taskUpdatedAction=this._createActionByOption(J.onTaskUpdated)}taskUpdatedAction(e){this._getTaskUpdatedAction()(e)}_getTaskUpdatedAction(){return this._taskUpdatedAction||this.createTaskUpdatedAction(),this._taskUpdatedAction}createTaskEditDialogShowingAction(){this._taskEditDialogShowingAction=this._createActionByOption(J.onTaskEditDialogShowing)}taskEditDialogShowingAction(e){this._getTaskEditDialogShowingAction()(e)}_getTaskEditDialogShowingAction(){return this._taskEditDialogShowingAction||this.createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}raiseTaskEditDialogShowingAction(e){const l=this._getTaskEditDialogShowingAction();if(l){const T={cancel:!1,key:e.key,values:this._convertCoreToMappedData("tasks",e.values),readOnlyFields:this._convertCoreToMappedFields("tasks",e.readOnlyFields),hiddenFields:this._convertCoreToMappedFields("tasks",e.hiddenFields)};l(T),e.cancel=T.cancel,ne(e.values,this._convertMappedToCoreData("tasks",T.values)),e.readOnlyFields=this._convertMappedToCoreFields("tasks",T.readOnlyFields),e.hiddenFields=this._convertMappedToCoreFields("tasks",T.hiddenFields)}}createResourceManagerDialogShowingAction(){this._resourceManagerDialogShowingAction=this._createActionByOption(J.onResourceManagerDialogShowing)}resourceManagerDialogShowingAction(e){this._getResourceManagerDialogShowingAction()(e)}_getResourceManagerDialogShowingAction(){return this._resourceManagerDialogShowingAction||this.createResourceManagerDialogShowingAction(),this._resourceManagerDialogShowingAction}raiseResourceManagerDialogShowingAction(e){const l=this._getResourceManagerDialogShowingAction();if(l){const k={cancel:!1,values:e.values.resources.items.map((C=>this._convertMappedToCoreData("resources",C)))};l(k),e.cancel=k.cancel}}createTaskMovingAction(){this._taskMovingAction=this._createActionByOption(J.onTaskMoving)}taskMovingAction(e){this.getTaskMovingAction()(e)}getTaskMovingAction(){return this._taskMovingAction||this.createTaskMovingAction(),this._taskMovingAction}getScaleCellPreparedAction(){return this._scaleCellPreparedAction||this.createScaleCellPreparedAction(),this._scaleCellPreparedAction}createScaleCellPreparedAction(){this._scaleCellPreparedAction=this._createActionByOption(J.onScaleCellPrepared)}raiseScaleCellPreparedAction(e){const l=this.getScaleCellPreparedAction();if(l){const T={scaleIndex:e.scaleIndex,scaleType:this._getScaleType(e.scaleType),scaleElement:he($(e.scaleElement)),separatorElement:he($(e.separatorElement)),startDate:new Date(e.start),endDate:new Date(e.end)};l(T)}}_getScaleType(e){switch(e){case 0:return"minutes";case 1:return"hours";case 2:return"sixHours";case 3:return"days";case 4:return"weeks";case 5:return"months";case 6:return"quarters";case 7:return"years";case 8:return"fiveYears";default:return}}}class Yi{constructor(){this._cache={},this._timers={}}saveData(e,l,T){if(l){this._clearTimer(e);const k=this._getCache(e,!0);Je(k,l,!0),T&&this._setExpireTimer(e,T)}}pullDataFromCache(e,l){const T=this._getCache(e);T&&Je(l,T),this._onKeyExpired(e)}hasData(e){return!!this._cache[e]}resetCache(e){this._onKeyExpired(e)}_getCache(e,l){return!this._cache[e]&&l&&(this._cache[e]={}),this._cache[e]}_setExpireTimer(e,l){this._timers[e]=setTimeout((()=>{l(e,this._getCache(e)),this._onKeyExpired(e)}),200)}_onKeyExpired(e){this._clearCache(e),this._clearTimer(e)}_clearCache(e){delete this._cache[e]}_clearTimer(e){const l=this._timers;l&&l[e]&&(clearTimeout(l[e]),delete l[e])}}const oe={prepareMapHandler:O=>e=>Object.keys(O).reduce(((l,T)=>{const k=T==="key"?"id":T;return l[k]=O[T](e),l}),{}),prepareSetterMapHandler:O=>e=>Object.keys(O).reduce(((l,T)=>{const k=T==="key"?"id":T;return O[T](l,e[k]),l}),{}),compileGettersByOption(O){const e={};for(const l in O){const T=l.match(/(\w*)Expr/);T&&(e[T[1]]=ue(O[T[0]]))}return e},compileSettersByOption(O){const e={};for(const l in O){const T=l.match(/(\w*)Expr/);T&&!ye(O[T[0]])&&(e[T[1]]=we(O[T[0]]))}return e},compileFuncSettersByOption(O){const e={};for(const l in O){const T=l.match(/(\w*)Expr/);T&&ye(O[T[0]])&&(e[T[1]]=O[T[0]])}return e},getStoreObject(O,e){const l=oe.compileSettersByOption(O);return Object.keys(l).reduce(((T,k)=>(k!=="key"&&l[k](T,e[k]),T)),{})},getInvertedData(O,e){const l={};if(O)for(let T=0;T<O.length;T++){const k=O[T],C=e(k);l[C]=k}return l},getArrayFromOneElement:O=>O==null?[]:[O],getSelectionMode:O=>O?"single":"none",convertTreeToList(O,e){O!=null&&O.data&&O!==null&&O!==void 0&&O.visible&&e.push(O.data);for(let T=0;T<((l=O.children)===null||l===void 0?void 0:l.length);T++){var l;const k=O.children[T];oe.convertTreeToList(k,e)}},getAllParentNodesKeys(O,e){var l;O!=null&&O.data&&e.push(O.key),O!=null&&(l=O.parent)!==null&&l!==void 0&&l.data&&oe.getAllParentNodesKeys(O.parent,e)},getDefaultOptions:()=>({tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,showDependencies:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskInserted:null,onTaskDeleting:null,onTaskDeleted:null,onTaskUpdating:null,onTaskUpdated:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyInserted:null,onDependencyDeleting:null,onDependencyDeleted:null,onResourceInserting:null,onResourceInserted:null,onResourceDeleting:null,onResourceDeleted:null,onResourceAssigning:null,onResourceAssigned:null,onResourceUnassigning:null,onResourceUnassigned:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",scaleTypeRange:{min:"minutes",max:"years"},editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1,enablePredecessorGap:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,taskProgressTooltipContentTemplate:null,taskTimeTooltipContentTemplate:null,taskContentTemplate:null,rootValue:0,sorting:{ascendingText:G.format("dxGantt-sortingAscendingText"),descendingText:G.format("dxGantt-sortingDescendingText"),clearText:G.format("dxGantt-sortingClearText"),mode:"single",showSortIndexes:!1},filterRow:void 0,headerFilter:void 0,rtlEnabled:!1})};class qi{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this.cache=new Yi}_getTaskCustomFields(){const e=this._gantt.option("columns"),l=e&&e.map((k=>k.dataField)),T=this._mappingHelper.getTaskMappedFieldNames();return l?l.filter((k=>T.indexOf(k)<0)):[]}_getCustomFieldsData(e){return this._getTaskCustomFields().reduce(((l,T)=>(e&&e[T]!==void 0&&(l[T]=e[T]),l)),{})}addCustomFieldsData(e,l){if(l){const T=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),k=ue(this._gantt.option("tasks.keyExpr")),C=T&&T.filter((u=>k(u)===e))[0],b=this._getTaskCustomFields();if(C)for(let u=0;u<b.length;u++){const c=b[u];Object.prototype.hasOwnProperty.call(C,c)&&(l[c]=C[c])}}}appendCustomFields(e){const l=this._gantt._tasksOption&&this._gantt._tasksOption._getItems(),T=this._gantt._getTaskKeyGetter(),k=oe.getInvertedData(l,T);return e.reduce(((C,b)=>{const u=T(b),c=k[u];if(!c)C.push(b);else{const d={};for(const g in c)d[g]=Object.prototype.hasOwnProperty.call(b,g)?b[g]:c[g];C.push(d)}return C}),[])}addCustomFieldsDataFromCache(e,l){this.cache.pullDataFromCache(e,l)}saveCustomFieldsDataToCache(e,l){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=this._getCustomFieldsData(l);if(Object.keys(C).length>0){const b=(u,c)=>{const d=this._gantt._tasksOption;d&&c&&d.update(u,c,((g,h)=>{const s={};this.addCustomFieldsData(h,s),d._reloadDataSource().done((i=>{this._gantt._ganttTreeList.updateDataSource(i??d._dataSource,!1,k)}));const n=this._gantt.option("selectedRowKey");this._gantt._ganttView._selectTask(n),this._gantt._actionsManager.raiseUpdatedAction("tasks",s,h)}))};this.cache.saveData(e,C,T?b:null)}}resetCustomFieldsDataCache(e){this.cache.resetCache(e)}}function Ee(O,e){return(O||e)&&!(O&&e)}class Xi extends On{_supportedKeys(){const e=super._supportedKeys(),l=k=>this._list._keyboardHandler(k),T=this.option("rtlEnabled");return pe({},e,{backspace(k){if(!this._isCaretAtTheStart())return;this._processKeyboardEvent(k),this._isTagRemoved=!0;const C=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),C.length!==0&&(this._preserveFocusedTag=!0,this._removeTagElement(C),delete this._preserveFocusedTag)},upArrow:(k,C)=>k.altKey||!this._list?e.upArrow.call(this,k):l(C),downArrow:(k,C)=>k.altKey||!this._list?e.downArrow.call(this,k):l(C),del(k){if(!this._$focusedTag||!this._isCaretAtTheStart())return;this._processKeyboardEvent(k),this._isTagRemoved=!0;const C=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(C),delete this._preserveFocusedTag},enter(k,C){var b;const u=((b=this._list)===null||b===void 0?void 0:b.option("focusedElement"))!==null&&this.option("opened")===!0;if(this.option("acceptCustomValue")&&!u){k.preventDefault(),this._searchValue()!==""&&this._customItemAddedHandler(k);return}this.option("opened")&&(this._saveValueChangeEvent(k),l(C),k.preventDefault())},space(k,C){const b=this.option("opened"),u=this._shouldRenderSearchEvent();b&&!u&&(this._saveValueChangeEvent(k),l(C),k.preventDefault())},leftArrow(k){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&T&&!this._$focusedTag)return;k.preventDefault();const C=T?"next":"prev";this._moveTagFocus(C),this.option("multiline")||this._scrollContainer(C)},rightArrow(k){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!T&&!this._$focusedTag)return;k.preventDefault();const C=T?"prev":"next";this._moveTagFocus(C),!this.option("multiline")&&this._scrollContainer(C)}})}_processKeyboardEvent(e){e.preventDefault(),e.stopPropagation(),this._saveValueChangeEvent(e)}_isEmpty(){return this._getValue().length===0}_updateTagsContainer(e){this._$tagsContainer=e.addClass("dx-tag-container")}_allowSelectItemByTab(){return!1}_isCaretAtTheStart(){const e=Ln(this._input());return(e==null?void 0:e.start)===0&&e.end===0}_updateInputAriaActiveDescendant(e){this.setAria("activedescendant",e,this._input())}_moveTagFocus(e,l){if(!this._$focusedTag){const k=this._tagElements();this._$focusedTag=e==="next"?k.first():k.last(),this._toggleFocusClass(!0,this._$focusedTag),this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"));return}const T=this._$focusedTag[e](".dx-tag");T.length>0?(this._replaceFocusedTag(T),this._updateInputAriaActiveDescendant(T.attr("id"))):(l||e==="next"&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())}_replaceFocusedTag(e){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=e,this._toggleFocusClass(!0,this._$focusedTag)}_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)}_focusClassTarget(e){return e&&e.length&&e[0]!==this._focusTarget()[0]?e:super._focusClassTarget()}_getLabelContainer(){return this._$tagsContainer}_getFieldElement(){return this._input()}_scrollContainer(e){if(this.option("multiline")||!gt()||!this._$tagsContainer)return;const l=this._getScrollPosition(e);this._$tagsContainer.scrollLeft(l)}_getScrollPosition(e){return e==="start"||e==="end"?this._getBorderPosition(e):this._$focusedTag?this._getFocusedTagPosition(e):this._getBorderPosition("end")}_getBorderPosition(e){const{rtlEnabled:l}=this.option(),T=Ee(e==="end",l),k=l?-1:1;return Ee(T,!l)?0:k*(this._$tagsContainer.get(0).scrollWidth-De(this._$tagsContainer))}_getFocusedTagPosition(e){const l=this.option("rtlEnabled"),T=Ee(e==="next",l);let{left:k}=this._$focusedTag.position(),C=this._$tagsContainer.scrollLeft();return T&&(k+=De(this._$focusedTag,!0)-De(this._$tagsContainer)),Ee(T,k<0)&&(C+=k),C}_setNextValue(){}_getDefaultOptions(){return ne(super._getDefaultOptions(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:G.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})}_init(){super._init(),this._selectedItems=[],this._initSelectAllValueChangedAction()}_initActions(){super._initActions(),this._initMultiTagPreparingAction()}_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:e=>{this._multiTagPreparingHandler(e.args[0])},excludeValidators:["disabled","readOnly"]})}_multiTagPreparingHandler(e){const{length:l}=this._getValue();this.option("showMultiTagOnly")?e.text=G.getFormatter("dxTagBox-selected")(l):e.text=G.getFormatter("dxTagBox-moreSelected")(l-this.option("maxDisplayedTags")+1)}_initDynamicTemplates(){super._initDynamicTemplates(),this._templateManager.addDefaultTemplates({tag:new Hn(((e,l)=>{const T=$("<div>").addClass("dx-tag-content");$("<span>").text(l.text??l).appendTo(T),$("<div>").addClass("dx-tag-remove-button").appendTo(T),e.append(T)}),["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})}_toggleSubmitElement(e){e?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)}_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=$("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))}_setSubmitValue(){if(!this.option("useSubmitBehavior"))return;const e=this._getValue(),l=[];for(let T=0,k=e.length;T<k;T++){const C=this._shouldUseDisplayValue(e[T]);l.push($("<option>").val(C?this._displayGetter(e[T]):e[T]).attr("selected","selected"))}this._getSubmitElement().empty().append(l)}_initMarkup(){this._tagElementsCache=$();const e=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",e);const l={role:"application",roledescription:G.format("dxTagBox-ariaRoleDescription")};this.setAria(l,this.$element()),this._initTagTemplate(),super._initMarkup()}_getNewLabelId(e,l,T){return e?T?e===l?void 0:e.split(" ").filter((k=>k!==l)).join(" "):`${e} ${l}`:l}_updateElementAria(e,l){if(!e){this.setAria("labelledby",void 0,this.$element());return}const k=this.$element().attr("aria-labelledby"),C=this._getNewLabelId(k,e,l);this.setAria("labelledby",C,this.$element())}_render(){super._render(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")}_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")}_renderField(){const e=!X(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",e).toggleClass("dx-tagbox-custom-template",!e),super._renderField()}_renderTagRemoveAction(){const e=this._createAction(this._removeTagHandler.bind(this)),l=Te(zn,"dxTagBoxTagRemove");ce.off(this._$tagsContainer,l),ce.on(this._$tagsContainer,l,".dx-tag-remove-button",(T=>{e({event:T})}))}_renderSingleLineScroll(){const e=Te("dxmousewheel",this.NAME),l=this.$element(),T=this.option("multiline");if(ce.off(l,e),Ke.real().deviceType!=="desktop"){this._$tagsContainer&&this._$tagsContainer.css("overflowX",T?"":"auto");return}T||ce.on(l,e,this._tagContainerMouseWheelHandler.bind(this))}_tagContainerMouseWheelHandler(e){const l=this._$tagsContainer.scrollLeft(),T=-.3*e.delta;if(!Cn(e)&&ji(this._$tagsContainer,T,!0))return this._$tagsContainer.scrollLeft(l+T),!1}_renderEvents(){super._renderEvents();const e=this._input(),l=Te("keydown",this.NAME);ce.on(e,l,(T=>{const k=In(T);!this._isControlKey(k)&&this._isEditable()&&this._clearTagFocus()}))}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-tagbox-popup-wrapper`}_renderInput(){super._renderInput(),this._renderPreventBlurOnInputClick()}_renderPreventBlurOnInputClick(){const e=Te("mousedown","dxTagBox");ce.off(this._inputWrapper(),e),ce.on(this._inputWrapper(),e,(l=>{l.target!==this._input()[0]&&this._isFocused()&&l.preventDefault()}))}_renderInputValueImpl(){return this._renderMultiSelect()}_loadInputValue(){return Ue()}_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")}_focusInHandler(e){this._preventNestedFocusEvent(e)||this._scrollContainer("end"),super._focusInHandler(e)}_renderInputValue(){return this.option("displayValue",this._searchValue()),super._renderInputValue(...arguments)}_restoreInputText(e){e||this._clearTextValue()}_focusOutHandler(e){this._preventNestedFocusEvent(e)||(this._clearTagFocus(),this._scrollContainer("start")),super._focusOutHandler(e)}_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")}_renderList(){super._renderList(),this._setListDataSourceFilter()}_canListHaveFocus(){const{applyValueMode:e}=this.option();return e==="useButtons"}_listConfig(){const e=this.option("showSelectionControls")?"all":"multiple";return ne(super._listConfig(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:e,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:l=>{let{value:T}=l;this._selectAllValueChangeAction({value:T})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})}_renderMultiSelect(){const e=se();return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(e.resolve).fail(e.reject),e.promise()}_listItemClickHandler(e){!this.option("showSelectionControls")&&this._clearTextValue();const{applyValueMode:l}=this.option();l!=="useButtons"&&(super._listItemClickHandler(e),this._saveValueChangeEvent(void 0))}_shouldClearFilter(){const e=super._shouldClearFilter();return!this.option("showSelectionControls")&&e}_renderInputSize(){const e=this._input(),l=e.val(),T=tt(l)&&l;let k="",C;const b=this.option("searchEnabled")||this.option("acceptCustomValue");if(T&&b){const u=Dn(e,l,{includePaddings:!0});u.insertAfter(e),k=De(u)+5,u.remove()}else l||(C=1);e.css("width",k),e.attr("size",C??"")}_renderInputSubstitution(){super._renderInputSubstitution(),this._updateWidgetHeight()}_getValue(){const{value:e}=this.option();return e||[]}_multiTagRequired(){const e=this._getValue(),{maxDisplayedTags:l}=this.option();return X(l)&&e.length>l}_renderMultiTag(e){const l=`dx-${new We}`,T=$("<div>").attr("id",l).addClass("dx-tag").addClass("dx-tagbox-multi-tag"),k={multiTagElement:he(T),selectedItems:this.option("selectedItems")};if(this._multiTagPreparingAction(k),k.cancel)return!1;T.data("dxTagData",k.text),T.insertBefore(e),this._tagTemplate.render({model:k.text,container:he(T)});const C=k.text;return this._setTagAria(T,C),this._updateElementAria(l),T}_getFilter(e){const l=this._dataController.filter(),T=e.getCombinedFilter(this.option("valueExpr"),l),k=encodeURI(JSON.stringify(T)).length,C=this.option("maxFilterQueryLength");if(k<=C)return T;Ce.log("W1019",C)}_getFilteredItems(e){var l,T;(l=this._loadFilteredItemsPromise)===null||l===void 0||l.reject();const k=new Nn(e),C=(T=this._list)===null||T===void 0?void 0:T.option("selectedItems"),b=!!C&&this._list._dataController.isLoaded(),u=C||this.option("selectedItems"),c=k.getLocalFilter(this._valueGetter),d=u.filter(c),g=d.length===e.length,h=se(),s=this._dataController;if(!this._dataSource)return h.resolve([]).promise();if((!this._isDataSourceChanged||b)&&g&&!this._isDataSourceOptionChanged)return h.resolve(d).promise();const{customQueryParams:n,expand:i,select:t}=s.loadOptions(),r=this._getFilter(k);return s.loadFromStore({filter:r,customQueryParams:n,expand:i,select:t}).done(((o,a)=>{if(this._isDataSourceChanged=!1,this._isDataSourceOptionChanged=!1,this._disposed){h.reject();return}const{data:p}=Vn(o,a),y=s.applyMapFunction(p);h.resolve(y.filter(c))})).fail(h.reject),this._loadFilteredItemsPromise=h,h.promise()}_createTagsData(e,l){const T=[],k={},C=this._valueGetterExpr()==="this",{acceptCustomValue:b}=this.option(),u={};l.forEach((g=>{const h=C?JSON.stringify(g):this._valueGetter(g);u[h]=g}));const c=[];e.forEach(((g,h)=>{const s=u[C?JSON.stringify(g):g];if(C&&!X(s)){if(!this._dataSource)return;c.push(this._loadItem(g,k).done((n=>{const i=this._createTagData(n,g);T.splice(h,0,i)})).fail((()=>{if(b){const n=this._createTagData(void 0,g);T.splice(h,0,n)}})))}else{const n=this._createTagData(s,g);T.splice(h,0,n)}}));const d=se();return Ue.apply(this,c).always((()=>{d.resolve(T)})),d.promise()}_createTagData(e,l){if(X(e))return this._selectedItems.push(e),e;const T=this.option("selectedItem");return this._valueGetter(T)===l?T:l}_isGroupedData(){return this.option("grouped")&&!this._dataController.group()}_getItemsByValues(e){const l=[];return e.forEach((T=>{const k=this._getItemFromPlain(T);X(k)&&l.push(k)})),l}_getFilteredGroupedItems(e){const l=se();return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?l.resolve(this._getItemsByValues(e)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done((()=>{l.resolve(this._getItemsByValues(e))})).fail((()=>{l.resolve([])})).always((()=>{this._filteredGroupedItemsLoadPromise=void 0})),l.promise()}_loadTagsData(){const e=this._getValue(),l=se();return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(e):this._getFilteredItems(e)).done((k=>{this._createTagsData(e,k).always((b=>{l.resolve(b)}))})).fail(l.reject.bind(this)),l.promise()}_renderTags(){const e=se();let l=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._tagsToRender=this._selectedItems,this._renderTagsImpl(),l=!0,e.resolve())),l||this._loadTagsData().done((T=>{if(this._disposed){e.reject();return}this._tagsToRender=T,this._renderTagsImpl(),e.resolve()})).fail(e.reject),e.promise()}_renderTagsImpl(){this._renderField(),this._shouldUpdateSelectedItems()&&this.option("selectedItems",this._selectedItems.slice()),this._getFieldTemplate()||(this._cleanTags(),this._renderTagsCore())}_shouldGetItemsFromPlain(e){return e&&this._dataController.isLoaded()&&e.length<=this._getPlainItems().length}_getItemsFromPlain(e){let l=this._getSelectedItemsFromList(e);if(l.length===0&&e.length>0||l.length<e.length){const k=this._getPlainItems();l=this._filterSelectedItems(k,e)}return l}_getSelectedItemsFromList(e){const{selectedItems:l}=this._list?this._list.option():{selectedItems:[]};let T=[];return e.length===(l==null?void 0:l.length)&&(T=this._filterSelectedItems(l,e)),T}_filterSelectedItems(e,l){return e.filter((k=>{let C;for(let b=0;b<l.length;b++)if(C=l[b],et(C)){if(this._isValueEquals(k,C))return!0}else if(this._isValueEquals(this._valueGetter(k),C))return!0;return!1}),this)}_processDataSourceChanging(){this._isDataSourceOptionChanged=!0,super._processDataSourceChanging()}_integrateInput(){super._integrateInput();const e=this.$element().find(".dx-texteditor-input-container");this._updateTagsContainer(e),this._renderTagRemoveAction(),this._renderTagsCore()}_renderTagsCore(){var e;this._renderTagsElements(this._tagsToRender),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus(),(e=this._popup)===null||e===void 0||e.refreshPosition()}_shouldUpdateSelectedItems(){var e,l;const{selectedItems:T}=this.option();return!!(X(T)&&T.length!==((e=this._selectedItems)===null||e===void 0?void 0:e.length)||rt(T,this._selectedItems).length!==((l=this._selectedItems)===null||l===void 0?void 0:l.length))}_renderTagsElements(e){const l=this._multiTagRequired()&&this._renderMultiTag(this._input()),T=this.option("showMultiTagOnly"),k=this.option("maxDisplayedTags");e.forEach(((C,b)=>{if(l&&T||l&&!T&&b-k>=-1)return!1;this._renderTag(C,l||this._input())})),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()}_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{const e=this._tagElements(),T=(this.option("selectedItems")??[]).map((k=>this._valueGetter(k)));_e(e,((k,C)=>{const b=$(C),u=b.data("dxTagData");T.includes(u)||b.remove()}))}this._updateElementAria()}_renderEmptyState(){const e=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(e),this._renderDisplayText()}_renderDisplayText(){this._renderInputSize()}_refreshTagElements(){this._tagElementsCache=this.$element().find(".dx-tag")}_tagElements(){return this._tagElementsCache}_applyTagTemplate(e,l){this._tagTemplate.render({model:e,container:he(l)})}_renderTag(e,l){const T=this._valueGetter(e);if(!X(T))return;let k=this._getTag(T);const C=this._displayGetter(e),b=this._getItemModel(e,C);if(k){const u=k.data("dxTagDisplayValue");X(C)&&!ve(u,C)&&(k.empty(),this._applyTagTemplate(b,k)),this._updateElementAria(k.attr("id"))}else{const u=`dx-${new We}`;k=this._createTag(T,l,u,C),this._setTagAria(k,X(C)?C:T),X(e)?this._applyTagTemplate(b,k):this._applyTagTemplate(T,k),this._updateElementAria(u)}}_setTagAria(e,l){const T={role:"button",label:l,roledescription:G.format("dxTagBox-tagRoleDescription")};this.setAria(T,e)}_getItemModel(e,l){return et(e)&&X(l)?e:fn(l,"")}_getTag(e){const l=this._tagElements(),T=l.length;let k=!1;for(let C=0;C<T;C++){const b=l[C],u=En(b,"dxTagData");if(e===u||ve(e,u)){k=$(b);break}}return k}_createTag(e,l,T,k){return $("<div>").attr("id",T).addClass("dx-tag").data("dxTagData",e).data("dxTagDisplayValue",k).insertBefore(l)}_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)}_customItemAddedHandler(e){super._customItemAddedHandler(e),this._clearTextValue()}_removeTagHandler(e){const l=e.event;l.stopPropagation(),this._saveValueChangeEvent(l);const T=$(l.target).closest(".dx-tag");this._removeTagElement(T)}_removeTagElement(e){if(e.hasClass("dx-tagbox-multi-tag")){if(this.option("showMultiTagOnly"))this.clear();else{const{maxDisplayedTags:k}=this.option();this.option("value",this._getValue().slice(0,k))}return}const l=e.data("dxTagData"),T=e.attr("id");this._removeTagWithUpdate(l),this._updateElementAria(T,!0),this._refreshTagElements()}_updateField(){}_removeTagWithUpdate(e){const l=this._getValue().slice();this._removeTag(l,e),this.option("value",l),this.option("selectedItem",null),l.length===0&&this._clearTagFocus()}_getCurrentValue(){return this._lastValue()}_selectionChangeHandler(e){const{applyValueMode:l}=this.option();if(l==="useButtons")return;const T=this._getValue().slice();if(_e(e.removedItems||[],((k,C)=>{this._removeTag(T,this._valueGetter(C))})),_e(e.addedItems||[],((k,C)=>{this._addTag(T,this._valueGetter(C))})),this._updateWidgetHeight(),!ve(this._list.option("selectedItemKeys"),this.option("value"))){const k=this._list._getSelectionChangeEvent();k&&this._saveValueChangeEvent(k),this.option("value",T)}this._list._saveSelectionChangeEvent(void 0)}_removeTag(e,l){const T=this._valueIndex(l,e);T>=0&&e.splice(T,1)}_addTag(e,l){this._valueIndex(l)<0&&e.push(l)}_fieldRenderData(){return this._selectedItems.slice()}_completeSelection(e){this.option("showSelectionControls")||this._setValue(e)}_setValue(e){var l;if(e===null)return;const{applyValueMode:T}=this.option(),k=T==="useButtons",C=this._valueIndex(e),{selectedItemKeys:b}=((l=this._list)===null||l===void 0?void 0:l.option())||{selectedItemKeys:[]},u=(k?b??[]:this._getValue()).slice();if(C>=0?u.splice(C,1):u.push(e),k){var c;(c=this._list)===null||c===void 0||c.option("selectedItemKeys",u)}else this.option("value",u)}_isSelectedValue(e,l){return this._valueIndex(e,null,l)>-1}_valueIndex(e,l,T){let k=-1;return T&&typeof e!="object"&&(T.indexByValues||(T.indexByValues={},l=l||this._getValue(),l.forEach(((C,b)=>{T.indexByValues[C]=b}))),e in T.indexByValues)?T.indexByValues[e]:(l=l||this._getValue(),_e(l,((C,b)=>{if(this._isValueEquals(e,b))return k=C,!1})),k)}_lastValue(){const e=this._getValue();return e[e.length-1]??null}_shouldRenderSearchEvent(){const{searchEnabled:e,acceptCustomValue:l}=this.option();return e||l}_searchHandler(e){this.option("searchEnabled")&&e&&!this._isTagRemoved&&(super._searchHandler(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved}_updateWidgetHeight(){const e=this.$element(),l=fe(e);this._renderInputSize();const T=fe(e);this._popup&&this.option("opened")&&this._isEditable()&&T!==l&&this._popup.repaint()}_refreshSelected(){var e;!((e=this._list)===null||e===void 0)&&e.getDataSource()&&this._list.option("selectedItems",this._selectedItems)}_resetListDataSourceFilter(){const e=this._dataController;delete this._userFilter,e.filter(null),e.reload()}_setListDataSourceFilter(){if(!this.option("hideSelectedItems")||!this._list)return;const e=this._dataController,l=this._valueGetterExpr();if(tt(l)&&l!=="this"){const T=this._dataSourceFilterExpr();this._userFilter===void 0&&(this._userFilter=e.filter()||null),this._userFilter&&T.push(this._userFilter),T.length?e.filter(T):e.filter(null)}else e.filter(this._dataSourceFilterFunction.bind(this));e.load()}_dataSourceFilterExpr(){const e=[];return this._getValue().forEach((l=>e.push(["!",[this._valueGetterExpr(),l]]))),e}_dataSourceFilterFunction(e){const l=this._valueGetter(e);let T=!0;return _e(this._getValue(),((k,C)=>{if(this._isValueEquals(C,l))return T=!1,!1})),T}_dataSourceChangedHandler(){this._isDataSourceChanged=!0,super._dataSourceChangedHandler.apply(this,arguments)}_applyButtonHandler(e){this._saveValueChangeEvent(e.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),super._applyButtonHandler(),this._cancelSearchIfNeed()}_getSortedListValues(){const e=this._getListValues(),{value:l}=this.option(),T=l||[],k=e.length?rt(T,e):[],C=k.length?xn(e,T):e;return k.concat(C)}_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map((e=>this._valueGetter(e))):[]}_setListDataSource(){const e=this._getValue();super._setListDataSource();const{value:l}=this.option();e!==l&&this.option("value",e),this._refreshSelected()}_renderOpenedState(){super._renderOpenedState();const{applyValueMode:e}=this.option();e==="useButtons"&&!this.option("opened")&&this._refreshSelected()}clear(){this._restoreInputText();const e=this._getDefaultOptions().value,{value:l}=this.option();e&&e.length===0&&l&&e.length===l.length||super.clear()}_clean(){super._clean(),delete this._valuesToUpdate,delete this._tagTemplate,delete this._tagsToRender}_getSelectedItemsDifference(e,l){if(!e.length)return{addedItems:[],removedItems:l.slice()};if(!l.length)return{addedItems:e.slice(),removedItems:[]};const T=l.reduce(((C,b)=>{const u=this._valueGetter(b);return C[u]=b,C}),{}),k=[];return e.forEach((C=>{const b=this._valueGetter(C);T[b]||k.push(C),delete T[b]})),{addedItems:k,removedItems:Object.values(T)}}_optionChanged(e){const{name:l,value:T,previousValue:k}=e;switch(l){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":T?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(T);break;case"displayExpr":super._optionChanged(e),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":super._optionChanged(e),!T&&this._refreshEvents();break;case"value":this._valuesToUpdate=T,super._optionChanged(e),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(l,T);break;case"selectedItem":case"maxFilterQueryLength":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(T,k));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!T),this._renderSingleLineScroll();break;default:super._optionChanged(e)}}_getActualSearchValue(){return super._getActualSearchValue()||this._searchValue()}_popupHidingHandler(){super._popupHidingHandler(),this._clearFilter()}}Oe("dxTagBox",Xi);class Qi extends Bn{_focusTarget(){return $(this.element()).parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){const e=super._getDefaultOptions();return ne(e,$e._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),mn((()=>{this._itemElements().addClass("dx-radiobutton")}))}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(e){const{itemData:{html:l},itemElement:T}=e;if(!l){const k=$("<div>").addClass("dx-radiobutton-icon");$("<div>").addClass("dx-radiobutton-icon-dot").appendTo(k);const C=$("<div>").append(k).addClass("dx-radio-value-container");$(T).prepend(C)}super._postprocessRenderItem(e)}_processSelectableItem(e,l){super._processSelectableItem(e,l),e.toggleClass("dx-radiobutton-checked",l).find(".dx-radiobutton-icon").first().toggleClass("dx-radiobutton-icon-checked",l),this.setAria("checked",l,e)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){const e=super._supportedKeys();return ne({},e,{enter(l){return l.preventDefault(),e.enter.apply(this,arguments)},space(l){return l.preventDefault(),e.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelectionAttribute(){}}class yt extends Wi{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>Ke.real().deviceType==="desktop"&&!Ke.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(e){e&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){const e=super._getDefaultOptions();return ne(e,ne($e._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(e){return this._valueGetter?this._valueGetter(e):e.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".dx-radiobutton",this._feedbackHideTimeout=100,this._initDataExpressions()}_initMarkup(){$(this.element()).addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(e){let{itemElement:l,event:T,itemData:k}=e;if(this.itemElements().is(l)){const C=this._getItemValue(k);C!==this.option("value")&&(this._saveValueChangeEvent(T),this.option("value",C))}}_getSelectedItemKeys(e){return this.option("valueExpr")!=="this"&&e===null||X(e)?[e]:[]}_setSelection(e){const l=this._unwrappedValue(e);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(l))}_renderValidationState(){var e;super._renderValidationState(),(e=this._validationMessage)===null||e===void 0||e.$content().attr("role","alert")}_optionChanged(e){const{name:l,value:T}=e;switch(this._dataExpressionOptionChanged(e),l){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(l,T);break;case"disabled":super._optionChanged(e),this._setCollectionWidgetOption(l,T);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(T),this._setSubmitValue(T),super._optionChanged(e);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(e)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){const{layout:e}=this.option(),l=$(this.element());l.toggleClass("dx-radiogroup-vertical",e==="vertical"),l.toggleClass("dx-radiogroup-horizontal",e==="horizontal")}_renderRadios(){this._areRadiosCreated=se();const e=$("<div>").appendTo(this.$element()),{displayExpr:l,accessKey:T,focusStateEnabled:k,itemTemplate:C,tabIndex:b,value:u}=this.option();this._createComponent(e,Qi,{onInitialized:c=>{let{component:d}=c;this._radios=d},onContentReady:c=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:l,accessKey:T,dataSource:this._dataSource,focusStateEnabled:k,itemTemplate:C,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(u),tabIndex:b}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=$("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),ne(this._optionsByReference,{value:!0})}_setSubmitValue(e){e=e??this.option("value");const l=this.option("valueExpr")==="this"?this._displayGetter(e):e;this._$submitElement.val(l)}_setCollectionWidgetOption(e,l){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){const{layout:e}=this.option();if(e==="horizontal"){var l;(l=this.itemElements())===null||l===void 0||l.css("height","auto")}else{var T;const k=this.option("items").length;(T=this.itemElements())===null||T===void 0||T.css("height",100/k+"%")}}focus(){var e;(e=this._radios)===null||e===void 0||e.focus()}itemElements(){var e;return(e=this._radios)===null||e===void 0?void 0:e._itemElements()}}yt.include($e);Oe("dxRadioGroup",yt);class Ji{constructor(e,l){this._popupInstance=e._createComponent(l,Fn),this.infoMap={TaskEdit:er,Resources:tr,Confirmation:nr,ConstraintViolation:ir}}_apply(){if(this._dialogInfo.isValidated()){const e=this._dialogInfo.getResult();this._callback(e),this.hide()}}show(e,l,T,k,C){if(this._callback=T,this._afterClosing=k,!this.infoMap[e])return;const b=this._popupInstance._isVisible()&&this._dialogInfo&&this._dialogInfo instanceof this.infoMap[e];this._dialogInfo=new this.infoMap[e](l,this._apply.bind(this),this.hide.bind(this),C),this._popupInstance.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._afterClosing&&this._popupInstance.option("onHidden",this._afterClosing),b||this._popupInstance.show()}hide(){this._popupInstance.hide(),this._afterClosing&&this._afterClosing()}}class He{constructor(e,l,T,k){this._parameters=e,this._applyAction=l,this._hideAction=T,this._editingOptions=k}_getFormItems(){return{}}_getFormCssClass(){return""}_getFormData(){return this._parameters}_updateParameters(){}_getOkToolbarItem(){return this._getToolbarItem("OK",this._applyAction)}_getCancelToolbarItem(){return this._getToolbarItem("Cancel",this._hideAction)}_getYesToolbarItem(){return this._getToolbarItem("Yes",this._applyAction)}_getNoToolbarItem(){return this._getToolbarItem("No",this._hideAction)}_getToolbarItem(e,l){return{widget:"dxButton",toolbar:"bottom",options:{text:G.format(e),onClick:l}}}getTitle(){return""}getToolbarItems(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}getMaxWidth(){return 400}getHeight(){return"auto"}getContentTemplate(){return e=>(this._form=new $n(e,{formData:this._getFormData(),items:this._getFormItems(),elementAttr:{class:this._getFormCssClass()},rtlEnabled:!1}),e)}getResult(){const e=this.getFormData();return this._updateParameters(e),this._parameters}getFormData(){return this._form&&this._form.option("formData")}isValidated(){return!0}}class er extends He{getTitle(){return G.format("dxGantt-dialogTaskDetailsTitle")}_getFormItems(){const e=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,l=e||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:G.format("dxGantt-dialogTitle")},editorOptions:{readOnly:e||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:G.format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:l||this._isReadOnlyField("start")},visible:!this._isHiddenField("start"),validationRules:[{type:"required",message:G.format("validation-required-formatted",G.format("dxGantt-dialogStartTitle"))},{type:"custom",validationCallback:T=>{if(this._parameters.isValidationRequired){const k=this._parameters.getCorrectDateRange(this._parameters.id,T.value,this._parameters.end);if(k.start.getTime()!==T.value.getTime())return T.rule.message=this._getValidationMessage(!0,k.start),!1}return!0}}]},{dataField:"end",editorType:"dxDateBox",label:{text:G.format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:l||this._isReadOnlyField("end")},visible:!this._isHiddenField("end"),validationRules:[{type:"required",message:G.format("validation-required-formatted",G.format("dxGantt-dialogEndTitle"))},{type:"custom",validationCallback:T=>{if(this._parameters.isValidationRequired){const k=this._parameters.getCorrectDateRange(this._parameters.id,this._parameters.start,T.value);if(k.end.getTime()!==T.value.getTime())return T.rule.message=this._getValidationMessage(!1,k.end),!1}return!0}}]},{dataField:"progress",editorType:"dxNumberBox",label:{text:G.format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:l||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:G.format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:e||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:G.format("dxGantt-dialogEditResourceListHint"),onClick:()=>{this._parameters.showResourcesDialogCommand.execute((()=>{this._parameters.showTaskEditDialogCommand.execute()}))}}}]}}]}_getValidationMessage(e,l){return e?G.format("dxGantt-dialogStartDateValidation",this._getFormattedDateText(l)):G.format("dxGantt-dialogEndDateValidation",this._getFormattedDateText(l))}_getFormattedDateText(e){return e?de.format(e,"shortDateShortTime"):""}_isReadOnlyField(e){return this._parameters.readOnlyFields.indexOf(e)>-1}_isHiddenField(e){return this._parameters.hiddenFields.indexOf(e)>-1}_getFormData(){const e={};for(const l in this._parameters)e[l]=l==="progress"?this._parameters[l]/100:this._parameters[l];return e}_updateParameters(e){this._parameters.title=e.title,this._parameters.start=e.start,this._parameters.end=e.end,this._parameters.progress=Math.round(100*e.progress),this._parameters.assigned=e.assigned}isValidated(){var e;const l=(e=this._form)===null||e===void 0?void 0:e.validate();return l==null?void 0:l.isValid}}class tr extends He{getTitle(){return G.format("dxGantt-dialogResourceManagerTitle")}_getFormItems(){return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:G.format("dxGantt-dialogEditNoResources"),onInitialized:e=>{this.list=e.component},onItemDeleted:e=>{this._parameters.resources.remove(e.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:e=>{this.textBox=e.component},onInput:e=>{const l=e.component.getButton("addResource"),T=e.component.option("text");l.option("disabled",T.length===0)},buttons:[{name:"addResource",location:"after",options:{text:G.format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:e=>{const l=this._parameters.resources.createItem();l.text=this.textBox.option("text"),this._parameters.resources.add(l),this.list.option("items",this._parameters.resources.items),this.list.scrollToItem(l),this.textBox.clear(),e.component.option("disabled",!0)}}}]}}]}}class nr extends He{getContentTemplate(){return e=>this._getConfirmMessage()}_getConfirmMessage(){switch(this._parameters.type){case 0:return G.format("dxGantt-dialogTaskDeleteConfirmation");case 1:return G.format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return G.format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}getToolbarItems(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}class ir extends He{_getFormItems(){const e=this._parameters.hasCriticalErrors,l=this._parameters.errorsCount>1,T=[],k=l?"dxGantt-dialogDeleteDependenciesMessage":"dxGantt-dialogDeleteDependencyMessage",C=l?"dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"dxGantt-dialogMoveTaskAndKeepDependencyMessage";let b;return e?b=l?"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"dxGantt-dialogConstraintCriticalViolationMessage":b=l?"dxGantt-dialogConstraintViolationSeveralTasksMessage":"dxGantt-dialogConstraintViolationMessage",T.push({text:G.format("dxGantt-dialogCancelOperationMessage"),value:0}),T.push({text:G.format(k),value:1}),e||T.push({text:G.format(C),value:2}),[{template:G.format(b)},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:T,valueExpr:"value",value:0}}]}_getFormCssClass(){return"dx-cv-dialog"}_updateParameters(e){this._parameters.option=e.option}}const xe=ze(),rr="dx-treelist-empty-space",or="dx-treelist-table";class sr{constructor(e){this._gantt=e,this._treeList=e._treeList,this._cache={}}reset(){this._cache={}}getTreeListTableStyle(){const e=this._getTreeListTable(),l=xe.getComputedStyle(e);return{color:l.color,backgroundColor:l.backgroundColor,fontSize:l.fontSize,fontFamily:l.fontFamily,fontWeight:l.fontWeight,fontStyle:l.fontStyle,textAlign:"left",verticalAlign:"middle"}}getTreeListColCount(){return this._getHeaderView().getColumnWidths().filter((T=>T>0)).length}getTreeListHeaderInfo(e){const l=this._getHeaderElement(e);if(!l)return null;const T=xe.getComputedStyle(l),k={color:T.color,padding:T.padding,paddingLeft:T.paddingLeft,paddingTop:T.paddingTop,paddingRight:T.paddingRight,paddingBottom:T.paddingBottom,verticalAlign:T.verticalAlign,width:this._getColumnWidth(e)};return{content:l.textContent,styles:k}}getTreeListCellInfo(e,l){const T=this._treeList.getNodeByKey(e),k=this._treeList.getRowIndexByKey(e),C=k>-1?this._getDataCell(k,l):null,b=C?xe.getComputedStyle(C):this._getColumnCellStyle(l),u={color:b.color,padding:b.padding,paddingLeft:b.paddingLeft,paddingTop:b.paddingTop,paddingRight:b.paddingRight,paddingBottom:b.paddingBottom,width:this._getColumnWidth(l)};return l===0&&(u.extraLeftPadding=this._getEmptySpaceWidth(T.level)),{content:(C==null?void 0:C.textContent)??this._getDisplayText(e,l),styles:u}}getTreeListEmptyDataCellInfo(){return{content:this._treeList.option("noDataText")}}_ensureColumnWidthCache(e){var l;if((l=this._cache).columnWidths??(l.columnWidths={}),!this._cache.columnWidths[e]){const T=this._getHeaderElement(e);this._cache.columnWidths[e]=(T==null?void 0:T.clientWidth)??0}}_getColumnWidth(e){this._ensureColumnWidthCache(e);const l=this._cache.columnWidths;return l&&l[e]}_getEmptySpaceWidth(e){if(!this._cache.emptyWidth){var l;const T=this._getTreeListElement(rr);(l=this._cache).emptyWidth??(l.emptyWidth=T.offsetWidth??0)}return this._cache.emptyWidth*(e+1)}_getColumnCellStyle(e){return this._ensureColumnCellStyleCache(e),this._cache.columnStyles[e]}_ensureColumnCellStyleCache(e){var l;if((l=this._cache).columnStyles??(l.columnStyles={}),!this._cache.columnStyles[e]){const T=this._getDataCell(0,e);this._cache.columnStyles[e]=xe.getComputedStyle(T)}}_getTask(e){return this._ensureTaskCache(e),this._cache.tasks[e]}_ensureTaskCache(e){var l,T;(l=this._cache).tasks??(l.tasks={}),(T=this._cache.tasks)[e]??(T[e]=this._gantt._findTaskByKey(e))}_getTreeListTable(){return this._getTreeListElement(or)}_getTreeListElement(e){return this._treeList._$element.find("."+e).get(0)}_getDataCell(e,l){const k=this._treeList.getCellElement(e,l);return k&&k.length?k[0]:k}_getHeaderElement(e){return this._getHeaderView().getHeaderElement(e).get(0)}_getHeaderView(){return this._treeList._views.columnHeadersView}_getDisplayText(e,l){const T=this._getTask(e);return T&&this._getGridDisplayText(l,T)}_getGridDisplayText(e,l){const k=this._treeList.getController("columns").getColumns()[e],C=k==null?void 0:k.dataField,b=k==null?void 0:k.format,u=me.getDisplayValue(k,l[C],l,"data");if(X(b)){if((k==null?void 0:k.dataType)==="date"||(k==null?void 0:k.dataType)==="datetime"){const c=yn(u)?u:new Date(u);return de.format(c,b)}if(Tn(u))return _n.format(u,b)}return typeof u=="string"?u:u==null?void 0:u.toString()}}const Fe=/(\w*)Expr/;class ar{constructor(e){this._gantt=e}_getMappedFieldName(e,l){let T=l;return l==="id"&&(T="key"),this._gantt.option(`${e}.${T}Expr`)}getTaskMappedFieldNames(){const e=[],l=this._gantt.option("tasks");for(const T in l){const k=T.match(Fe),C=k&&l[k[0]];C&&e.push(C)}return e}convertCoreToMappedData(e,l){return Object.keys(l).reduce(((T,k)=>{const C=this._getMappedFieldName(e,k);return C&&!ye(C)&&we(C)(T,l[k]),T}),{})}convertMappedToCoreData(e,l){const T={};if(l){const k=this._gantt.option(e);for(const C in k){const b=C.match(Fe),u=b&&k[b[0]];if(u&&l[u]!==void 0){const c=ue(u),d=b[1];T[d]=c(l)}}}return T}convertCoreToMappedFields(e,l){return l.reduce(((T,k)=>{const C=this._getMappedFieldName(e,k);return C&&T.push(C),T}),[])}convertMappedToCoreFields(e,l){const T=[],k=this._gantt.option(e);for(const C in k){const b=C.match(Fe),u=b&&k[b[0]];if(u&&l.indexOf(u)>-1){const c=b[1];T.push(c)}}return T}}class lr{constructor(e){this._gantt=e}_setTreeListDimension(e,l){var T;const k=e==="width"?ot:st,C=e==="width"?Ve:fe;k(this._gantt._$treeListWrapper,l),(T=this._gantt._ganttTreeList)===null||T===void 0||T.setOption(e,C(this._gantt._$treeListWrapper))}_setGanttViewDimension(e,l){const T=e==="width"?ot:st,k=e==="width"?Ve:fe;T(this._gantt._$ganttView,l),this._gantt._setGanttViewOption(e,k(this._gantt._$ganttView))}_getPanelsWidthByOption(){var e,l;const T=Ve(this._gantt._$element),k=this._gantt.option("taskListWidth");let C;return isNaN(k)?((e=k.indexOf)===null||e===void 0?void 0:e.call(k,"px"))>0?C=T-parseInt(k.replace("px",""))+"px":((l=k.indexOf)===null||l===void 0?void 0:l.call(k,"%"))>0&&(C=100-parseInt(k.replace("%",""))+"%"):C=T-parseInt(k),{leftPanelWidth:k,rightPanelWidth:C}}onAdjustControl(){const e=fe(this._gantt._$element);this.updateGanttWidth(),this.setGanttHeight(e)}onApplyPanelSize(e){this.setInnerElementsWidth(e),this.updateGanttRowHeights()}updateGanttRowHeights(){const e=this._gantt._ganttTreeList.getRowHeight();if(this._gantt._getGanttViewOption("rowHeight")!==e){var l;this._gantt._setGanttViewOption("rowHeight",e),(l=this._gantt._ganttView)===null||l===void 0||l._ganttViewCore.updateRowHeights(e)}}adjustHeight(){this._gantt._hasHeight||(this._gantt._setGanttViewOption("height",0),this._gantt._setGanttViewOption("height",this._gantt._ganttTreeList.getOffsetHeight()))}setInnerElementsWidth(e){if(!gt())return;const l=!e;l&&(e=this._getPanelsWidthByOption(),this._setTreeListDimension("width",0),this._setGanttViewDimension("width",0)),this._setTreeListDimension("width",e.leftPanelWidth),this._setGanttViewDimension("width",e.rightPanelWidth),l&&this._gantt._splitter._setSplitterPositionLeft()}updateGanttWidth(){this._gantt._splitter._dimensionChanged()}setGanttHeight(e){var l;const T=this._gantt._$toolbarWrapper.get(0).offsetHeight,k=e-T;this._setTreeListDimension("height",k),this._setGanttViewDimension("height",k),(l=this._gantt._ganttView)===null||l===void 0||l._ganttViewCore.resetAndUpdate()}}class cr{constructor(e){this._gantt=e}getTaskTooltipContentTemplateFunc(e){const l=e&&this._gantt._getTemplate(e);return l&&((k,C,b)=>(l.render({model:this._gantt.getTaskDataByCoreData(C),container:he($(k)),onRendered:()=>{b()}}),!0))}getTaskProgressTooltipContentTemplateFunc(e){const l=e&&this._gantt._getTemplate(e);return l&&((k,C,b)=>(l.render({model:C,container:he($(k)),onRendered:()=>{b()}}),!0))}getTaskTimeTooltipContentTemplateFunc(e){const l=e&&this._gantt._getTemplate(e);return l&&((k,C,b)=>(l.render({model:C,container:he($(k)),onRendered:()=>{b()}}),!0))}getTaskContentTemplateFunc(e){const l=e&&this._gantt._getTemplate(e);return l&&((k,C,b,u)=>(C.taskData=this._gantt.getTaskDataByCoreData(C.taskData),l.render({model:C,container:he($(k)),onRendered:()=>{b(k,u)}}),!0))}}const dr="dx-gantt-toolbar-separator",re={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12,resourceManager:13,toggleResources:14,toggleDependencies:15};class Tt{constructor(e,l){this._element=e,this._owner=l,this._items=[],this._createControl()}createItems(e){this._cache=null,this._items=this._createItemsCore(e),this._menu.option("items",this._items)}_createItemsCore(e){return e.map((l=>{let T;return typeof l=="string"?T=this._createItemByText(l):T=l.name?ne(this._createItemByText(l.name),l):ne(this._getDefaultItemOptions(),l),l.items&&(T.items=this._createItemsCore(l.items)),T}))}_createItemByText(e){switch(e.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(re.undo,G.format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(re.redo,G.format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(re.expandAll,G.format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(re.collapseAll,G.format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(re.createTask,G.format("dxGantt-addNewTask"),this._getIcon("add"));case"addsubtask":return this._createDefaultItem(re.createSubTask,G.format("dxGantt-contextMenuNewSubtask"),this._getIcon("add-sub-task"));case"deletetask":return this._createDefaultItem(re.removeTask,G.format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(re.removeDependency,G.format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(re.zoomIn,G.format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(re.zoomOut,G.format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(re.fullScreen,G.format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(re.taskInformation,G.format("dxGantt-dialogTaskDetailsTitle")+"...",this._getIcon("task-details"));case"resourcemanager":return this._createDefaultItem(re.resourceManager,G.format("dxGantt-dialogResourceManagerTitle"),this._getIcon("resource-manager"));case"showresources":return this._createDefaultItem(re.toggleResources,G.format("dxGantt-showResources"),this._getIcon("toggle-resources"));case"showdependencies":return this._createDefaultItem(re.toggleDependencies,G.format("dxGantt-showDependencies"),this._getIcon("toggle-dependencies"));default:return ne(this._getDefaultItemOptions(),{options:{text:e}})}}_getDefaultItemOptions(){return{}}_getItemsCache(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}_fillCache(e){e.forEach((l=>{const T=l.commandId;T!==void 0&&(this._cache[T]||(this._cache[T]=[]),this._cache[T].push(l)),l.items&&this._fillCache(l.items)}))}_getIcon(e){return"dx-gantt-i dx-gantt-i-"+e}getCommandKeys(){const e=this._getItemsCache(),l=[];for(const T in e)l.push(parseInt(T));return l}setItemEnabled(e,l){this._getItemsCache()[e].forEach((k=>{k.disabled=!l}))}setItemVisible(e,l){this._getItemsCache()[e].forEach((k=>{k.visible=l}))}setItemValue(e,l){}setEnabled(e){this._menu.option("disabled",!e)}updateItemsList(){}isVisible(){return!0}isContextMenu(){return!1}completeUpdate(){}}class ur extends Tt{_createControl(){this._menu=this._owner._createComponent(this._element,Zn,{onItemClick:e=>{const l=e.itemData.commandId;l!==void 0&&this._owner._executeCoreCommand(l)}})}_createDefaultItem(e,l,T){return{commandId:e,disabled:!0,widget:"dxButton",location:"before",options:{icon:T,stylingMode:"text",hint:l}}}_createSeparator(){return{location:"before",template:(e,l,T)=>{$(T).addClass(dr)}}}_getDefaultItemOptions(){return{location:"before",widget:"dxButton"}}completeUpdate(){this._menu.option("items",this._items)}}class pr extends Tt{_createControl(){this._menu=this._owner._createComponent(this._element,Yn,{showEvent:void 0,onItemClick:e=>{e.itemData.commandId!==void 0?this._owner._executeCoreCommand(e.itemData.commandId):e.itemData.name!==void 0&&this._owner._actionsManager.raiseCustomCommand(e.itemData.name)}})}createItems(e){(!e||e.length===0)&&(e=this._getDefaultItems()),super.createItems(e)}_getDefaultItems(){return[{text:G.format("dxGantt-dialogButtonAdd"),commandId:re.taskAddContextItem,icon:this._getIcon("add"),items:[{text:G.format("dxGantt-contextMenuNewTask"),commandId:re.createTask,icon:this._getIcon("add-task")},{text:G.format("dxGantt-contextMenuNewSubtask"),commandId:re.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:G.format("dxGantt-dialogTaskDetailsTitle")+"...",commandId:re.taskInformation,icon:this._getIcon("task-details")},{text:G.format("dxGantt-contextMenuDeleteTask"),commandId:re.removeTask,icon:this._getIcon("delete")},{text:G.format("dxGantt-contextMenuDeleteDependency"),commandId:re.removeDependency,icon:this._getIcon("delete-dependency")}]}_createDefaultItem(e,l,T){return{commandId:e,text:l,icon:T}}show(e,l){this._menu.option("items",l||this._items),this._menu.option("position.offset",{x:e.x,y:e.y}),this._menu.option("position.collision","fit"),this._menu.show()}hide(){this._menu.hide()}isContextMenu(){return!0}}const Z=ne({},qn,{modules:[],foreachNodes(O,e,l){for(let T=0;T<O.length;T++)e(O[T])!==!1&&(l||O[T].hasChildren)&&O[T].children.length&&this.foreachNodes(O[T].children,e,l)}});Z.registerModule("columnHeaders",Xn);class hr extends Jn{_getFirstItems(e){return super._getFirstItems(e).map((l=>l.data))}getFirstDataColumnIndex(){const e=this.getVisibleColumns(),l=e.length;let T=0;for(let k=0;k<=l-1;k++)if(!X(e[k].command)){T=e[k].index;break}return T}}Z.registerModule("columns",{defaultOptions:Qn.defaultOptions,controllers:{columns:hr}});const{queryByOptions:_t}=Wn,Me=O=>O.option("filterMode")==="fullBranch",gr=function(O,e){const l=[];return e.forEach((T=>{const k=O.getNodeByKey(T);k&&k.children.forEach((C=>{l.push(C.key)}))})),l},dt=(O,e)=>_t(Ge(O),{sort:e}).toArray();class fr extends ei{_createKeyGetter(){const e=this.getKeyExpr();return ue(e)}_createKeySetter(){const e=this.getKeyExpr();return ye(e)?e:we(e)}createParentIdGetter(){return ue(this.option("parentIdExpr"))}createParentIdSetter(){const e=this.option("parentIdExpr");return ye(e)?e:we(e)}_createItemsGetter(){return ue(this.option("itemsExpr"))}_createHasItemsGetter(){const e=this.option("hasItemsExpr");return e&&ue(e)}_createHasItemsSetter(){const e=this.option("hasItemsExpr");return ye(e)?e:e&&we(e)}_updateIndexByKeyObject(e){const l=this;l._indexByKey={},_e(e,((T,k)=>{l._indexByKey[k.key]=T}))}_calculateHasItems(e,l){const T=this,{parentIds:k}=l.storeLoadOptions;let C;const b=Me(T);return T._hasItemsGetter&&(k||!l.storeLoadOptions.filter||b)&&(C=T._hasItemsGetter(e.data)),C===void 0&&(!T._isChildrenLoaded[e.key]&&l.remoteOperations.filtering&&(k||b)?C=!0:l.loadOptions.filter&&!l.remoteOperations.filtering&&b?C=e.children.length:C=e.hasChildren),!!C}_fillVisibleItemsByNodes(e,l,T){for(let k=0;k<e.length;k++)e[k].visible&&T.push(e[k]),(this.isRowExpanded(e[k].key,l)||!e[k].visible)&&e[k].hasChildren&&e[k].children.length&&this._fillVisibleItemsByNodes(e[k].children,l,T)}_convertItemToNode(e,l,T){const k=this._keyGetter(e);let C=this._parentIdGetter(e);C=X(C)?C:l;const b=T[C]=T[C]||{key:C,children:[]},u=T[k]=T[k]||{key:k,children:[]};return u.data=e,u.parent=b,u}_createNodesByItems(e,l){const T=this,k=T.option("rootValue"),C={},b=T._nodeByKey={};let u;if(l)for(u=0;u<l.length;u++)C[this._keyGetter(l[u])]=!0;for(u=0;u<e.length;u++){const d=T._convertItemToNode(e[u],k,b);if(d.key===void 0)return;d.visible=!l||!!C[d.key],d.parent&&d.parent.children.push(d)}const c=b[k]||{key:k,children:[]};return c.level=-1,c}_convertDataToPlainStructure(e,l,T){let k;if(this._itemsGetter&&!e.isConverted){T=T||[];for(let C=0;C<e.length;C++){const b=jn(e[C]);k=this._keyGetter(b),k===void 0&&(k=T.length+1,this._keySetter(b,k)),this._parentIdSetter(b,l===void 0?this.option("rootValue"):l),T.push(b);const u=this._itemsGetter(b);if(u&&u.length){this._convertDataToPlainStructure(u,k,T);const c=this.option("itemsExpr");ye(c)||delete b[c]}}return T.isConverted=!0,T}return e}_createIdFilter(e,l){const T=[];for(let k=0;k<l.length;k++)T.push([e,"=",l[k]]);return me.combineFilters(T,"or")}_customizeRemoteOperations(e,l){super._customizeRemoteOperations.apply(this,arguments),e.remoteOperations.paging=!1;let T=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,(!this._lastLoadOptions||l.filtering&&!e.storeLoadOptions.filter)&&!e.isCustomLoading&&(T=!0)),e.isCustomLoading||(this._isReload=this._isReload||l.reload,e.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(l.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?T=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=T}_getParentIdsToLoad(e){const l=[];for(let T=0;T<e.length;T++){const k=this.getNodeByKey(e[T]);(!k||k.hasChildren&&!k.children.length)&&l.push(e[T])}return l}_handleCustomizeStoreLoadOptions(e){const l=this.option("rootValue"),T=this.option("parentIdExpr");let{parentIds:k}=e.storeLoadOptions;if(k&&(e.isCustomLoading=!1),super._handleCustomizeStoreLoadOptions.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&(Me(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)){const C=e.collapseVisibleNodes?[]:this.option("expandedRowKeys");k=[l].concat(C).concat(k||[]);const b=e.data?this._getParentIdsToLoad(k):k;b.length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0,e.delay=this.option("loadingTimeout")),e.storeLoadOptions.parentIds=b,e.storeLoadOptions.filter=this._createIdFilter(T,b)}}_generateInfoToLoad(e,l){const T=this;let k;const C={},b={},u=[],c=T.option("rootValue");let d;for(d=0;d<e.length;d++)k=l?T._parentIdGetter(e[d]):T._keyGetter(e[d]),C[k]=!0;for(d=0;d<e.length;d++){k=l?T._keyGetter(e[d]):T._parentIdGetter(e[d]);const g=l?T.isRowExpanded(k):k!==c;!C[k]&&!b[k]&&g&&(b[k]=!0,u.push(k))}return{keyMap:b,keys:u}}_loadParentsOrChildren(e,l,T){var k,C;let b,u;const{keys:c,keyMap:d}=this._generateInfoToLoad(e,T),g=new se,h=l.remoteOperations.filtering,s=this.option("maxFilterLengthInRequest"),n=((k=l.storeLoadOptions)===null||k===void 0?void 0:k.sort)??((C=l.loadOptions)===null||C===void 0?void 0:C.sort);let i=h?l.storeLoadOptions:l.loadOptions;const t=y=>(h&&(this._cachedStoreData=dt(this._cachedStoreData.concat(y),n)),dt(e.concat(y),n));if(!c.length)return g.resolve(e);let r=c.map((y=>this.getNodeByKey(y))).filter((y=>y&&y.data));if(r.length===c.length&&(T&&(r=r.reduce(((y,f)=>y.concat(f.children)),[])),r.length))return this._loadParentsOrChildren(t(r.map((y=>y.data))),l,T);const o=T?this.option("parentIdExpr"):this.getKeyExpr();b=this._createIdFilter(o,c),encodeURI(JSON.stringify(b)).length>s&&(b=y=>d[T?this._parentIdGetter(y):this._keyGetter(y)],u=h),i=ne({},i,{filter:u?null:b});const p=l.fullData?new ft(l.fullData):this._dataSource.store();return this.loadFromStore(i,p).done((y=>{y.length?(u&&(y=Ge(y).filter(b).toArray()),this._loadParentsOrChildren(t(y),l,T).done(g.resolve).fail(g.reject)):g.resolve(e)})).fail(g.reject),g}_loadParents(e,l){return this._loadParentsOrChildren(e,l)}_loadChildrenIfNeed(e,l){return Me(this)?this._loadParentsOrChildren(e,l,!0):Ue(e)}_updateHasItemsMap(e){const{parentIds:l}=e.storeLoadOptions;if(l)for(let T=0;T<l.length;T++)this._isChildrenLoaded[l[T]]=!0}_getKeyInfo(){return{key:()=>"key",keyOf:e=>e.key}}_processChanges(e){let l=[];return e.forEach((T=>{T.type==="insert"?l=l.concat(this._applyInsert(T)):T.type==="remove"?l=l.concat(this._applyRemove(T)):T.type==="update"&&l.push({type:T.type,key:T.key,data:{data:T.data}})})),l}_handleChanging(e){super._handleChanging.apply(this,arguments),e.postProcessChanges=l=>{const T=l.filter((k=>k.type==="update"));return this._processChanges(T)}}_applyBatch(e){const l=this._processChanges(e);super._applyBatch(l)}_setHasItems(e,l){const T=this._hasItemsSetter;e.hasChildren=l,T&&e.data&&T(e.data,l)}_applyInsert(e){const l=this,T=[],k=l.parentKeyOf(e.data),C=l.getNodeByKey(k);if(C){const b=l.option("rootValue"),u=l._convertItemToNode(e.data,b,l._nodeByKey);if(u.hasChildren=!1,u.level=C.level+1,u.visible=!0,C.children.push(u),l._isChildrenLoaded[u.key]=!0,l._setHasItems(C,!0),(!C.parent||l.isRowExpanded(C.key))&&e.index!==void 0){let c=l.items().indexOf(C)+1;c+=e.index>=0?Math.min(e.index,C.children.length):C.children.length,T.push({type:e.type,data:u,index:c})}}return T}_needToCopyDataObject(){return!1}_applyRemove(e){let l=[];const T=this.getNodeByKey(e.key),k=T&&T.parent;if(k){const C=k.children.indexOf(T);C>=0&&(k.children.splice(C,1),k.children.length||this._setHasItems(k,!1),l.push(e),l=l.concat(this.getChildNodeKeys(e.key).map((b=>({type:e.type,key:b})))))}return l}_handleDataLoaded(e){const l=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=_t(Ge(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),super._handleDataLoaded(e),l.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)}_fillNodes(e,l,T,k){const C=Me(this);k=k||0;for(let b=0;b<e.length;b++){const u=e[b];let c=!1;this._fillNodes(e[b].children,l,T,k+1),u.level=k,u.hasChildren=this._calculateHasItems(u,l),u.visible&&u.hasChildren&&(C?u.children.filter((d=>d.visible)).length?c=!0:u.children.length&&Z.foreachNodes(u.children,(d=>{d.visible=!0})):c=!0,l.expandVisibleNodes&&c&&T.push(u.key)),(u.visible||u.hasChildren)&&(u.parent.hasChildren=!0)}}_processTreeStructure(e,l){let{data:T}=e;const{parentIds:k}=e.storeLoadOptions,C=[];if(k&&k.length||this._isReload){if(e.fullData&&(T=e.fullData,l=l||e.data),this._rootNode=this._createNodesByItems(T,l),!this._rootNode){e.data=new se().reject(Ce.Error("E1046",this.getKeyExpr()));return}this._fillNodes(this._rootNode.children,e,C),this._isNodesInitializing=!0,(e.collapseVisibleNodes||C.length)&&this.option("expandedRowKeys",C),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}const b=[];this._fillVisibleItemsByNodes(this._rootNode.children,e,b),e.data=b,this._totalItemsCount=b.length}_handleDataLoadedCore(e){const l=this,{data:T}=e,k=e.storeLoadOptions.filter||e.loadOptions.filter,C=l.option("filterMode");let b;const{parentIds:u}=e.storeLoadOptions,c=k&&(!u||!u.length)&&C!=="standard";if(!e.isCustomLoading){if(c){const d=e.data=new se;return C==="matchOnly"&&(b=T),l._loadParents(T,e).done((g=>{l._loadChildrenIfNeed(g,e).done((h=>{e.data=h,l._processTreeStructure(e,b),super._handleDataLoadedCore.call(l,e),d.resolve(e.data)}))})).fail(d.reject)}l._processTreeStructure(e)}super._handleDataLoadedCore(e)}_handlePush(e){let{changes:l}=e;this._dataSource._reshapeOnPush&&!!l.length&&(this._isReload=!0),l.forEach((C=>{C.index??(C.index=-1)})),super._handlePush.apply(this,arguments)}init(e,l){super.init.apply(this,arguments);const T=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this.createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),T==="tree"&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")}getKeyExpr(){const e=this.store(),l=e&&e.key(),T=this.option("keyExpr");if(X(l)&&X(T)&&!ve(l,T))throw Ce.Error("E1044");return l||T||"id"}keyOf(e){return this._keyGetter&&this._keyGetter(e)}parentKeyOf(e){return this._parentIdGetter&&this._parentIdGetter(e)}getRootNode(){return this._rootNode}totalItemsCount(){return this._totalItemsCount+this._totalCountCorrection}isRowExpanded(e,l){if(l){let{isExpandedByKey:k}=l;if(!k){const C=this.option("expandedRowKeys")??[];k=l.isExpandedByKey={},C.forEach((b=>{k[b]=!0}))}return!!k[e]}return me.getIndexByKey(e,this.option("expandedRowKeys"),null)>=0}_changeRowExpandCore(e){const l=this.option("expandedRowKeys").slice(),T=me.getIndexByKey(e,l,null);T<0?l.push(e):l.splice(T,1),this.option("expandedRowKeys",l)}changeRowExpand(e){return this._changeRowExpandCore(e),this._isNodesInitializing?new se().resolve():this.load()}getNodeByKey(e){if(this._nodeByKey)return this._nodeByKey[e]}getNodeLeafKeys(){const e=this,l=[];return(e._rootNode?[e._rootNode.key]:[]).forEach((k=>{const C=e.getNodeByKey(k);C&&Z.foreachNodes([C],(b=>{!b.children.length&&l.push(b.key)}))})),l}getChildNodeKeys(e){const l=this.getNodeByKey(e),T=[];return l&&Z.foreachNodes(l.children,(k=>{T.push(k.key)})),T}loadDescendants(e,l){const T=this,k=new se,C=T.remoteOperations();if(X(e)?e=Array.isArray(e)?e:[e]:e=T.getNodeLeafKeys(),!C.filtering||!e.length)return k.resolve();const b=T._dataSource._createStoreLoadOptions();return b.parentIds=e,T.load(b).done((()=>{if(!l){const u=gr(T,e);if(u.length){T.loadDescendants(u,l).done(k.resolve).fail(k.reject);return}}k.resolve()})).fail(k.reject),k.promise()}forEachNode(){let e=[],l;if(arguments.length===1){l=arguments[0];const T=this.getRootNode();e=T&&T.children||[]}else arguments.length===2&&(l=arguments[1],e=arguments[0],e=Array.isArray(e)?e:[e]);Z.foreachNodes(e,l)}}let je=fr;const vt={extend(O){je=O(je)},create:O=>new je(O)};class mr extends ni{_getDataSourceAdapter(){return vt}_getNodeLevel(e){let l=-1;for(;e.parent;)e.visible&&l++,e=e.parent;return l}_generateDataItem(e,l){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,l),level:this._getNodeLevel(e)}}_loadOnOptionChange(){this._dataSource.load()}_isItemEquals(e,l){return e.isSelected!==l.isSelected||e.node&&l.node&&e.node.hasChildren!==l.node.hasChildren||e.level!==l.level||e.isExpanded!==l.isExpanded?!1:super._isItemEquals.apply(this,arguments)}_isCellChanged(e,l,T,k,C){const b=this._columnsController.getFirstDataColumnIndex();return k===b&&e.isSelected!==l.isSelected?!0:super._isCellChanged.apply(this,arguments)}init(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),super.init.apply(this,arguments)}keyOf(e){const l=this._dataSource;if(l)return l.keyOf(e)}key(){const e=this._dataSource;if(e)return e.getKeyExpr()}publicMethods(){return super.publicMethods().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])}changeRowExpand(e){if(this._dataSource){const l={key:e},T=this.isRowExpanded(e);if(this.executeAction(T?"onRowCollapsing":"onRowExpanding",l),!l.cancel)return this._dataSource.changeRowExpand(e).done((()=>{this.executeAction(T?"onRowCollapsed":"onRowExpanded",l)}))}return new se().resolve()}isRowExpanded(e,l){return this._dataSource&&this._dataSource.isRowExpanded(e,l)}expandRow(e){return this.isRowExpanded(e)?new se().resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new se().resolve()}getRootNode(){return this._dataSource&&this._dataSource.getRootNode()}optionChanged(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":this._dataSource&&!this._dataSource._isNodesInitializing&&!ve(e.value,e.previousValue)&&this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:super.optionChanged(e)}}getNodeByKey(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)}getChildNodeKeys(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)}loadDescendants(e,l){if(this._dataSource)return this._dataSource.loadDescendants(e,l)}forEachNode(){this._dataSource.forEachNode.apply(this,arguments)}}Z.registerModule("data",{defaultOptions:()=>ne({},ti.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}}),controllers:{data:mr}});Z.registerModule("sorting",ii);const kt="dx-treelist-text-content",yr=function(O){return $("<div>").addClass(kt).appendTo(O)},Tr=(O,e,l)=>{const T=$("<div>").addClass("dx-treelist-empty-space");return O&&T.addClass("dx-treelist-empty-space--last"),e&&T.addClass(l?"dx-treelist-expanded":"dx-treelist-collapsed"),T};class _r extends oi{_renderIconContainer(e,l){const T=$("<div>").addClass("dx-treelist-icon-container").appendTo(e);if(l.watch){const k=l.watch((()=>[l.row.level,l.row.isExpanded,l.row.node.hasChildren]),(()=>{T.empty(),this._renderIcons(T,l)}));ce.on(T,Mn,k)}return e.addClass("dx-treelist-cell-expandable"),this._renderIcons(T,l)}_renderIcons(e,l){const T=super._renderIcons(e,l),{row:k}=l,{level:C}=k;for(let b=0;b<=C;b+=1){const u=b===C,c=u&&k.node.hasChildren;Tr(u,c,k.isExpanded).appendTo(T)}return T}_renderCellCommandContent(e,l){return this._renderIconContainer(e,l),!0}_processTemplate(e,l){var T;const k=this;let C;const b=super._processTemplate(e),u=k._columnsController.getFirstDataColumnIndex();return b&&((T=l.column)===null||T===void 0?void 0:T.index)===u?C={render(c){const d=c.container;k._renderCellCommandContent(d,c.model)&&(c.container=yr(d)),b.render(c)}}:C=b,C}_updateCell(e,l){e=e.hasClass(kt)?e.parent():e,super._updateCell(e,l)}_rowClick(e){const l=this._dataController,T=$(e.event.target),k=this.isExpandIcon(T),C=l==null?void 0:l.items()[e.rowIndex];k&&C&&l.changeRowExpand(C.key),super._rowClick(e)}_createRow(e){const l=e&&e.node,T=super._createRow.apply(this,arguments);return l&&(this.setAria("level",e.level+1,T),l.hasChildren&&this.setAriaExpandedAttribute(T,e)),T}_getGridRoleName(){return"treegrid"}isExpandIcon(e){return!!e.closest(".dx-treelist-expanded, .dx-treelist-collapsed").length}setAriaExpandedAttribute(e,l){const T=l.isExpanded;this.setAria("expanded",X(T)&&T.toString(),e)}}Z.registerModule("rows",{defaultOptions:ri.defaultOptions,views:{rowsView:_r}});Z.registerModule("contextMenu",si);Z.registerModule("errorHandling",ai);const vr="dxTreeList-ariaExpandableInstruction";class kr extends li{constructor(){super(...arguments),this._expandableWidgetAriaId=vr}_getWidgetAriaLabel(){return"dxTreeList-ariaTreeList"}_toggleBestFitMode(e){super._toggleBestFitMode(e),this._rowsView.getTableElement().find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}Z.registerModule("gridView",{defaultOptions:Be.defaultOptions,controllers:pe({},Be.controllers,{resizing:kr}),views:Be.views});Z.registerModule("headerPanel",ci);Z.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editingRowBased","editingFormBased","editingCellBased","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","headersKeyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);class bt extends di{_initMarkup(){super._initMarkup.apply(this,arguments),this.$element().addClass("dx-treelist"),this.getView("gridView").render(this.$element())}static registerModule(){Z.registerModule.apply(Z,arguments)}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Ui(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])}_init(){super._init(),this.option("_disableDeprecationWarnings")||me.logHeaderFilterDeprecatedWarningIfNeed(this),Z.processModules(this,Z),Z.callModuleItemsMethod(this,"init")}getGridCoreHelper(){return Z}focus(e){super.focus(),X(e)&&this.getController("keyboardNavigation").focus(e)}}Oe("dxTreeList",bt);const br=O=>class extends Se.extenders.controllers.stateStoring(O){applyState(e){super.applyState(e),this.option("expandedRowKeys",e.expandedRowKeys?e.expandedRowKeys.slice():[])}},wr=O=>class extends Se.extenders.controllers.data(O){getUserState(){const e=super.getUserState();return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}};Z.registerModule("stateStoring",pe({},Se,{extenders:pe({},Se.extenders,{controllers:pe({},Se.extenders.controllers,{stateStoring:br,data:wr})})}));Z.registerModule("columnChooser",ui);const Sr=O=>class extends hi(O){isRowExpanded(){return this.isRowExpandedHack.apply(this,arguments)}_processItems(){return this._processItemsHack.apply(this,arguments)}_processDataItem(){return this._processDataItemHack.apply(this,arguments)}};Z.registerModule("masterDetail",ne(!0,{},pi,{extenders:{controllers:{data:Sr}}}));Z.registerModule("editorFactory",gi);class Cr extends Re.controllers.editing{_generateNewItem(e){const l=super._generateNewItem(e);return l.data={key:e},l.children=[],l.level=0,l.parentKey=this.option("rootValue"),l}_isProcessedItem(){return!0}_setInsertAfterOrBeforeKey(e,l){const T=this._dataController.dataSource(),k=l||(T==null?void 0:T.parentKeyOf(e.data));k!==void 0&&k!==this.option("rootValue")?e.insertAfterKey=k:super._setInsertAfterOrBeforeKey.apply(this,arguments)}_getLoadedRowIndex(e,l){const T=this._dataController.dataSource(),k=T==null?void 0:T.parentKeyOf(l.data);return k!==void 0&&k!==this.option("rootValue")?me.getIndexByKey(k,e)>=0&&this._dataController.isRowExpanded(k)?super._getLoadedRowIndex.apply(this,arguments):-1:super._getLoadedRowIndex.apply(this,arguments)}_isEditColumnVisible(){const e=super._isEditColumnVisible.apply(this,arguments),l=this.option("editing");return e||l.allowAdding}_isDefaultButtonVisible(e,l){const T=super._isDefaultButtonVisible.apply(this,arguments),{row:k}=l;return e.name==="add"?this.allowAdding(l)&&k.rowIndex!==this._getVisibleEditRowIndex()&&!(k.removed||k.isNewRow):T}_getEditingButtons(e){const l=super._getEditingButtons.apply(this,arguments);return e.column.buttons||l.unshift(this._getButtonConfig("add",e)),l}_beforeSaveEditData(e){const l=super._beforeSaveEditData.apply(this,arguments);if(e&&e.type!=="insert"){var T;const k=(T=this._dataController)===null||T===void 0?void 0:T.store(),C=k==null?void 0:k.key();if(!X(C))throw Ce.Error("E1045")}return l}addRowByRowIndex(e){const l=this._dataController.getVisibleRows()[e];return this.addRow(l?l.key:void 0)}addRow(e){return e===void 0&&(e=this.option("rootValue")),super.addRow.call(this,e)}_addRowCore(e,l,T){const k=this.option("rootValue");if(l=this._dataController.dataSource().createParentIdGetter()(e),l!==void 0&&l!==k&&!this._dataController.isRowExpanded(l)){const u=new se;return this._dataController.expandRow(l).done((()=>{setTimeout((()=>{super._addRowCore.call(this,e,l,T).done(u.resolve).fail(u.reject)}))})).fail(u.reject),u.promise()}return super._addRowCore.call(this,e,l,T)}_initNewRow(e,l){return this._dataController.dataSource().createParentIdSetter()(e.data,l),super._initNewRow.apply(this,arguments)}allowAdding(e){return this._allowEditAction("allowAdding",e)}_needToCloseEditableCell(e){return super._needToCloseEditableCell.apply(this,arguments)||e.closest(".dx-treelist-icon-container").length&&this.isEditing()}getButtonLocalizationNames(){const e=super.getButtonLocalizationNames.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}const Ir=O=>class extends Re.extenders.views.rowsView(O){_renderCellCommandContent(e,l){const T=this._editingController,k=l.row&&T.isEditRow(l.row.rowIndex),C=l.isEditing||k;return!l.isOnForm&&!C?super._renderCellCommandContent.apply(this,arguments):!1}validateClick(e){const l=$(e.event.target),T=e.event.type==="dxdblclick"?super._rowDblClick:super._rowClick;return l.closest(".dx-select-checkbox").length?!1:!this.needToCallOriginalClickHandler(e,T)}needToCallOriginalClickHandler(e,l){return $(e.event.target).closest(".dx-treelist-icon-container").length?!1:(l.call(this,e),!0)}_rowClick(e){this.validateClick(e)&&super._rowClickTreeListHack.apply(this,arguments)}_rowDblClick(e){this.validateClick(e)&&super._rowDblClickTreeListHack.apply(this,arguments)}},Dr=O=>class extends fi(O){changeRowExpand(){return this._editingController.refresh(),super.changeRowExpand.apply(this,arguments)}};Z.registerModule("editing",{defaultOptions:()=>ne(!0,Re.defaultOptions(),{editing:{texts:{addRowToNode:G.format("dxTreeList-editingAddRowToNode")}}}),controllers:{editing:Cr},extenders:{controllers:{data:Dr},views:{rowsView:Ir,headerPanel:Re.extenders.views.headerPanel}}});Z.registerModule("editingRowBased",mi);Z.registerModule("editingFormBased",yi);Z.registerModule("editingCellBased",Ti);const Er=O=>class extends be.extenders.controllers.editing(O){processDataItem(e){super.processDataItemTreeListHack.apply(this,arguments)}processItems(e,l){return super.processItemsTreeListHack.apply(this,arguments)}};Z.registerModule("validating",{defaultOptions:be.defaultOptions,controllers:be.controllers,extenders:{controllers:{editing:Er,editorFactory:be.extenders.controllers.editorFactory},views:be.extenders.views}});const xr=Le.defaultOptions;Le.extenders.views.rowsView=O=>class extends _i(O){_handleDataChanged(e){const{operationTypes:l}=e;if(e!=null&&e.isDataChanged&&me.isVirtualRowRendering(this)&&l){const{fullReload:T,pageIndex:k}=l;!T&&k&&this._updateContentPosition()}super._handleDataChanged(e)}};Le.extenders.controllers.data=O=>class extends vi(O){_loadOnOptionChange(){var e;const l=(e=this._dataSource)===null||e===void 0?void 0:e._virtualScrollController;l==null||l.reset(),super._loadOnOptionChange()}};const Mr=O=>class extends ki(O){changeRowExpand(){return super.changeRowExpand.apply(this,arguments).done((()=>{const e=this.getViewportItemIndex();e>=0&&this.setViewportItemIndex(e)}))}};Z.registerModule("virtualScrolling",pe({},Le,{defaultOptions:()=>ne(!0,xr(),{scrolling:{mode:"virtual"}})}));vt.extend(Mr);Z.registerModule("filterRow",bi);Z.registerModule("headerFilter",wi);Z.registerModule("filterSync",Si);Z.registerModule("filterBuilder",Ci);Z.registerModule("filterPanel",Ii);Z.registerModule("pager",Di);Z.registerModule("columnsResizingReordering",Ei);Z.registerModule("stickyColumns",xi);Z.registerModule("columnFixing",Mi);Z.registerModule("adaptivity",Pi);const wt="dx-treelist-select-checkbox-container",Pr=function(O,e){return!!O.filter((l=>l===e)).length},Ar=O=>class extends Oi(O){_handleDataChanged(e){this._selectionController.isRecursiveSelection()&&(!e||e.changeType!=="updateSelectionState")&&this._selectionController.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),super._handleDataChanged.apply(this,arguments)}loadDescendants(){const e=this,l=super.loadDescendants.apply(e,arguments);return this._selectionController.isRecursiveSelection()&&l.done((()=>{this._selectionController.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})})),l}},Rr=O=>class extends O{constructor(){super(...arguments),this._updateSelectColumn=vn}init(){super.init.apply(this,arguments),this._selectionStateByKey={}}_getSelectionConfig(){const e=super._getSelectionConfig.apply(this,arguments),{plainItems:l}=e;return e.plainItems=T=>{let k;return T&&(k=this._dataController.getCachedStoreData()),k||(k=l.apply(this,arguments).map((C=>C.data))),k||[]},e.isItemSelected=T=>{const k=this._dataController.keyOf(T);return this.isRowSelected(k)},e.isSelectableItem=T=>!!T,e.getItemData=T=>T,e.allowLoadByRange=void 0,e}renderSelectCheckBoxContainer(e,l){const T=this.component.getView("rowsView"),k=T._renderSelectCheckBox(e,{value:l.row.isSelected,row:l.row,column:l.column});T._attachCheckBoxClickEvent(k)}_getSelectAllNodeKeys(){const{component:e}=this,l=e.getRootNode(),T={},k=[],C=this.isRecursiveSelection();return l&&Z.foreachNodes(l.children,(b=>(b.key!==void 0&&(b.visible||C)&&k.push(b.key),b.visible?C?!1:e.isRowExpanded(b.key,T):!0))),k}isSelectAll(){if((this.option("selectedRowKeys")||[]).length===0)return!1;const{component:l}=this,T=this._getSelectAllNodeKeys(),k=this.isRecursiveSelection();let C=!1;const b=T.filter((u=>{const c=l.isRowSelected(u,k);return c===void 0&&(C=!0),c}));if(!b.length)return C?void 0:!1;if(b.length===T.length)return!0}selectAll(){const e=this._getSelectAllNodeKeys().filter((l=>!this.isRowSelected(l)));return this.focusedItemIndex(-1),this.selectRows(e,!0)}deselectAll(){const e=this._getSelectAllNodeKeys();return this.focusedItemIndex(-1),this.deselectRows(e)}selectedItemKeys(e,l,T,k){const C=this,b=C.option("selectedRowKeys"),c=this.isRecursiveSelection()&&C._normalizeSelectionArgs({keys:X(e)?e:[]},l,!T);return c&&!ve(c.selectedRowKeys,b)?(C._isSelectionNormalizing=!0,super.selectedItemKeys(c.selectedRowKeys,!1,!1,!1).always((()=>{C._isSelectionNormalizing=!1})).done((d=>{c.selectedRowsData=d,C._fireSelectionChanged(c)}))):super.selectedItemKeys(e,l,T,k)}changeItemSelection(e,l,T){const k=this.isRecursiveSelection(),C=super.changeItemSelection.bind(this);if(k&&!l.shift){const b=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(b,!0,this.isRowSelected(b)).done((()=>{this.isRowSelected(b)&&C(e,l,!0)}))}return super.changeItemSelection.apply(this,arguments)}_updateParentSelectionState(e,l){const T=this;let k=l;const C=e.parent;C&&(C.children.length>1&&(l===!1?k=C.children.some((u=>T._selectionStateByKey[u.key]))?void 0:!1:l===!0&&(k=C.children.some((u=>!T._selectionStateByKey[u.key]))?void 0:!0)),this._selectionStateByKey[C.key]=k,C.parent&&C.parent.level>=0&&this._updateParentSelectionState(C,k))}_updateChildrenSelectionState(e,l){const T=this,{children:k}=e;k&&k.forEach((C=>{T._selectionStateByKey[C.key]=l,C.children.length>0&&T._updateChildrenSelectionState(C,l)}))}_updateSelectionStateCore(e,l){const T=this._dataController;this._selectionStateByKey={};for(let k=0;k<e.length;k++){this._selectionStateByKey[e[k]]=l;const C=T.getNodeByKey(e[k]);C&&(this._updateParentSelectionState(C,l),this._updateChildrenSelectionState(C,l))}}_getSelectedParentKeys(e,l,T){let k;const C=this._dataController.getNodeByKey(e);let b=C&&C.parent,u=[];for(;b&&b.level>=0;){if(u.unshift(b.key),T?!Pr(l,b.key)&&this.isRowSelected(b.key):l.indexOf(b.key)>=0){k=b,u=this._getSelectedParentKeys(k.key,l,T).concat(u);break}else if(T)break;b=b.parent}return k&&u||[]}_getSelectedChildKeys(e,l){const T=[],k=this._dataController.getNodeByKey(e);return k&&Z.foreachNodes(k.children,(C=>{const b=l.indexOf(C.key);return b<0&&T.push(C.key),b>0||b<0&&this._selectionStateByKey[C.key]===void 0})),T}_normalizeParentKeys(e,l){const T=this;let k=[e];const C=T._getSelectedParentKeys(e,l.selectedRowKeys);if(C.length){k=k.concat(C),k.forEach((u=>{const c=l.selectedRowKeys.indexOf(u);c>=0&&l.selectedRowKeys.splice(c,1)}));const b=T._getSelectedChildKeys(C[0],k);l.selectedRowKeys=l.selectedRowKeys.concat(b)}}_normalizeChildrenKeys(e,l){const T=this._dataController.getNodeByKey(e);T&&T.children.forEach((k=>{const C=l.selectedRowKeys.indexOf(k.key);C>=0&&l.selectedRowKeys.splice(C,1),this._normalizeChildrenKeys(k.key,l)}))}_normalizeSelectedRowKeysCore(e,l,T,k){const C=this;e.forEach((b=>{if(T&&C.isRowSelected(b)===k)return;C._normalizeChildrenKeys(b,l);const u=l.selectedRowKeys.indexOf(b);k?(u<0&&l.selectedRowKeys.push(b),l.currentSelectedRowKeys.push(b)):(u>=0&&l.selectedRowKeys.splice(u,1),l.currentDeselectedRowKeys.push(b),C._normalizeParentKeys(b,l))}))}_normalizeSelectionArgs(e,l,T){let k;const C=Array.isArray(e.keys)?e.keys:[e.keys],b=this.option("selectedRowKeys")||[];return C.length&&(k={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:l?b.slice(0):[]},this._normalizeSelectedRowKeysCore(C,k,l,T)),k}_updateSelectedItems(e){this.updateSelectionState(e),super._updateSelectedItems(e)}_fireSelectionChanged(){this._isSelectionNormalizing||super._fireSelectionChanged.apply(this,arguments)}_isModeLeavesOnly(e){return e==="leavesOnly"}_removeDuplicatedKeys(e){const l=[],T={};return e.forEach((k=>{T[k]||(T[k]=!0,l.push(k))})),l}_getAllChildKeys(e){const l=[],T=this._dataController.getNodeByKey(e);return T&&Z.foreachNodes(T.children,(k=>{l.push(k.key)}),!0),l}_getAllSelectedRowKeys(e){let l=[];return e.forEach((T=>{const k=this._getSelectedParentKeys(T,[],!0),C=this._getAllChildKeys(T);l.push.apply(l,k.concat([T],C))})),l=this._removeDuplicatedKeys(l),l}_getParentSelectedRowKeys(e){const l=this,T=[];return e.forEach((k=>{!l._getSelectedParentKeys(k,e).length&&T.push(k)})),T}_getLeafSelectedRowKeys(e){const l=[],T=this._dataController;return e.forEach((k=>{const C=T.getNodeByKey(k);C&&!C.hasChildren&&l.push(k)})),l}isRecursiveSelection(){const e=this.option("selection.mode"),l=this.option("selection.recursive");return e==="multiple"&&l}updateSelectionState(e){const l=e.removedItemKeys||[],T=e.selectedItemKeys||[];this.isRecursiveSelection()&&(this._updateSelectionStateCore(l,!1),this._updateSelectionStateCore(T,!0))}isRowSelected(e,l){const T=super.isRowSelected.apply(this,arguments);return l=l??this.isRecursiveSelection(),!T&&l?e in this._selectionStateByKey?this._selectionStateByKey[e]:!1:T}getSelectedRowKeys(e){const l=this;if(!l._dataController)return[];let T=super.getSelectedRowKeys.apply(l,arguments);return e&&(this.isRecursiveSelection()&&(T=this._getAllSelectedRowKeys(T)),e!=="all"&&(e==="excludeRecursive"?T=l._getParentSelectedRowKeys(T):l._isModeLeavesOnly(e)&&(T=l._getLeafSelectedRowKeys(T)))),T}getSelectedRowsData(e){const l=this._dataController,T=this.getSelectedRowKeys(e)||[],k=[];return T.forEach((C=>{const b=l.getNodeByKey(C);b&&k.push(b.data)})),k}refresh(){return this._selectionStateByKey={},super.refresh.apply(this,arguments)}},Or=O=>class extends Ri(O){_processTemplate(e,l){const T=this;let k;const C=super._processTemplate(e,l),b=T._columnsController.getFirstDataColumnIndex();return C&&l.rowType==="header"&&l.column.index===b?k={render(u){C.render(u),T.option("selection.mode")==="multiple"&&T.renderSelectAll(u.container,u.model)}}:k=C,k}_renderSelectAllCheckBox(e){const l=$("<div>").addClass(wt),T=this._createSelectAllCheckboxElement();return T.appendTo(l),l.prependTo(e),T}renderSelectAll(e,l){e.addClass("dx-treelist-select-all"),this._renderSelectAllCheckBox(e)}_isSortableElement(e){return super._isSortableElement(e)&&!e.closest(".dx-select-checkbox").length}},Lr=O=>class extends Ai(O){_renderIcons(e,l){const T=super._renderIcons(e,l),k=this.option("selection.mode")==="multiple";if(!l.row.isNewRow&&k){const C=$("<div>").addClass(wt);C.appendTo(T),this._selectionController.renderSelectCheckBoxContainer(C,l)}return T}_rowClick(e){const l=$(e.event.target);this.isExpandIcon(l)?super._rowClickForTreeList.apply(this,arguments):super._rowClick.apply(this,arguments)}};Z.registerModule("selection",ne(!0,{},lt,{defaultOptions:()=>ne(!0,lt.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}}),extenders:{controllers:{data:Ar,selection:Rr},views:{columnHeadersView:Or,rowsView:Lr}}}));Z.registerModule("search",Li);const Hr=O=>class extends Ni(O){_leftRightKeysHandler(e,l){const T=this.getVisibleRowIndex(),k=this._dataController;if(e.ctrl){const C=this._getDirectionCodeByKey(e.keyName),b=k.getKeyByRowIndex(T);C==="nextInRow"?k.expandRow(b):k.collapseRow(b)}else return super._leftRightKeysHandler.apply(this,arguments)}};Z.registerModule("keyboardNavigation",ne(!0,{},Hi,{extenders:{controllers:{keyboardNavigation:Hr}}}));Z.registerModule("headersKeyboardNavigation",Vi);Z.registerModule("virtualColumns",Bi);function Nr(O,e){let l=-1;return O.forEach(((T,k)=>{e(T)&&(l=k)})),l}const Vr=O=>class extends Pe.extenders.controllers.data(O){changeRowExpand(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),super.changeRowExpand.apply(this,arguments)}_isFocusedRowInside(e){const l=this.option("focusedRowKey"),T=this.getRowIndexByKey(l),k=T>=0&&this.getVisibleRows()[T];let C=k&&k.node.parent;for(;C;){if(C.key===e)return!0;C=C.parent}return!1}getParentKey(e){const l=this._dataSource,T=this.getNodeByKey(e),k=new se;return T?k.resolve(T.parent?T.parent.key:void 0):l.load({filter:[l.getKeyExpr(),"=",e]}).done((C=>{const b=C[0];b?k.resolve(l.parentKeyOf(b)):k.resolve()})).fail(k.reject),k.promise()}expandAscendants(e){const l=this,T=l._dataSource,k=new se;return l.getParentKey(e).done((C=>{T&&C!==void 0&&C!==l.option("rootValue")?(T._isNodesInitializing=!0,l.expandRow(C),T._isNodesInitializing=!1,l.expandAscendants(C).done(k.resolve).fail(k.reject)):k.resolve()})).fail(k.reject),k.promise()}getPageIndexByKey(e){const l=this,T=l._dataSource,k=new se;return l.expandAscendants(e).done((()=>{T.load({parentIds:[]}).done((C=>{const b=Nr(C,(c=>l.keyOf(c.data)===e));let u=-1;b>=0&&(u=Math.floor(b/l.pageSize())),k.resolve(u)})).fail(k.reject)})).fail(k.reject),k.promise()}};Z.registerModule("focus",pe({},Pe,{extenders:pe({},Pe.extenders,{controllers:pe({},Pe.extenders.controllers,{data:Vr})})}));Z.registerModule("rowDragging",Fi);class Br{constructor(e){var l;this.collapsed=!1,this.key=e.key,this.children=e.children.map((T=>T.key)),this.parentKey=(l=e.parent)===null||l===void 0?void 0:l.key}hasChildren(){return this.children.length>0}removeChild(e){const l=this.children.indexOf(e.key);l>-1&&(this.children=this.children.splice(l,1))}equal(e){return!(!e||e.key!==this.key||e.parentKey!==this.parentKey||this.children.length!==e.children.length||this.children.some(((l,T)=>l!==e.children[T])))}}class Fr{constructor(){this._resetHash()}clear(){this._resetHash()}applyNodes(e,l){this._rootValue!==l&&(this._resetHash(),this._rootValue=l),this._removeNonExistentNodes(e.map((T=>T.key))),e.forEach((T=>this._applyNode(T))),this._validateHash()}saveExpandedState(e){this._hasCollapsed=!1,this._forEachState((l=>{l.hasChildren()&&!e.includes(l.key)&&(l.collapsed=!0,this._hasCollapsed=!0)}))}getExpandedKeys(){if(this._hasCollapsed){const e=[];return this._forEachState((l=>{l.hasChildren()&&!l.collapsed&&e.push(l.key)})),e}return null}_resetHash(){this._nodeHash={},this._hasCollapsed=!1}_getNodeState(e){return this._nodeHash[e]}_removeNonExistentNodes(e){e&&this._forEachState((l=>{e.includes(l.key)||this._removeStateWithChildren(l)}))}_removeStateWithChildren(e){const l=this._getNodeState(e);if(l){l.children.forEach((k=>this._removeStateWithChildren(k)));const T=this._getNodeState(l.parentKey);T&&T.removeChild(l),delete this._nodeHash[e]}}_applyNode(e){const l=new Br(e),T=this._getNodeState(e.key);T!=null&&T.equal(l)||(this._nodeHash[e.key]=l,this._expandTreelineToNode(e.key))}_expandTreelineToNode(e){const l=this._getNodeState(e);let T=this._getNodeState(l==null?void 0:l.parentKey);for(;T;)T.collapsed=!1,T=this._getNodeState(T.parentKey)}_validateHash(){Object.keys(this._nodeHash).forEach((e=>{const l=this._getNodeState(e),T=l==null?void 0:l.parentKey;T!==this._rootValue&&!this._getNodeState(T)&&this._removeStateWithChildren(e)}))}_forEachState(e){Object.keys(this._nodeHash).forEach((l=>{const T=this._nodeHash[l];T&&e(T)}))}}const jr="dx-gantt-collapsable-row";class Wr{constructor(e){this._gantt=e,this._$treeList=this._gantt._$treeList}getTreeList(){const{keyExpr:e,parentIdExpr:l}=this._gantt.option("tasks");return this._treeList=this._gantt._createComponent(this._$treeList,bt,{dataSource:this.createDataSource(this._gantt._tasksRaw,e),keyExpr:e,filterSyncEnabled:!0,parentIdExpr:l,columns:this.getColumns(),columnResizingMode:"nextColumn",height:this._getHeight(),width:this._gantt.option("taskListWidth"),selection:{mode:oe.getSelectionMode(this._gantt.option("allowSelection"))},selectedRowKeys:oe.getArrayFromOneElement(this._gantt.option("selectedRowKey")),sorting:this._gantt.option("sorting"),filterRow:this._gantt.option("filterRow"),headerFilter:this._gantt.option("headerFilter"),scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this._gantt.option("showRowLines"),rootValue:this._gantt.option("rootValue"),onContentReady:T=>{this._onContentReady(T)},onSelectionChanged:T=>{this._onSelectionChanged(T)},onRowCollapsed:T=>{this._onRowCollapsed(T)},onRowExpanded:T=>{this._onRowExpanded(T)},onRowPrepared:T=>{this._onRowPrepared(T)},onContextMenuPreparing:T=>{this._onContextMenuPreparing(T)},onRowClick:T=>{this.onRowClick(T)},onRowDblClick:T=>{this.onRowDblClick(T)},onNodesInitialized:T=>{this._onNodesInitialized(T)},_disableDeprecationWarnings:!0}),this._treeList}onAfterTreeListCreate(){this._postponedGanttInitRequired&&(this._initGanttOnContentReady({component:this._treeList}),delete this._postponedGanttInitRequired)}_onContentReady(e){!!this._treeList?this._initGanttOnContentReady(e):this._postponedGanttInitRequired=!0,this._gantt._onTreeListContentReady(e)}_initGanttOnContentReady(e){e.component.getDataSource()&&(this._gantt._initGanttView(),this._initScrollSync(e.component)),this._gantt._sortAndFilter(),this._gantt._sizeHelper.updateGanttRowHeights()}_onSelectionChanged(e){const l=e.currentSelectedRowKeys[0];this._gantt._setGanttViewOption("selectedRowKey",l),this._gantt._setOptionWithoutOptionChange("selectedRowKey",l),this._gantt._actionsManager.raiseSelectionChangedAction(l)}_onRowCollapsed(e){this._gantt._onTreeListRowExpandChanged(e,!1)}_onRowExpanded(e){this._gantt._onTreeListRowExpandChanged(e,!0)}_onRowPrepared(e){e.rowType==="data"&&e.node.children.length>0&&$(e.rowElement).addClass(jr)}_onContextMenuPreparing(e){var l,T;if(e.target==="header")return;((l=e.row)===null||l===void 0?void 0:l.rowType)==="data"&&this.setOption("selectedRowKeys",[e.row.data[this._gantt.option("tasks.keyExpr")]]);const k={cancel:!1,event:e.event,type:"task",key:(T=e.row)===null||T===void 0?void 0:T.key,position:{x:e.event.pageX,y:e.event.pageY}};this._gantt._showPopupMenu(k),e.event.preventDefault()}_getHeight(){return fe(this._$treeList)?fe(this._$treeList):(this._gantt._hasHeight=X(this._gantt.option("height"))&&this._gantt.option("height")!=="",this._gantt._hasHeight?"100%":"")}_initScrollSync(e){const l=e.getScrollable();l&&(l.off("scroll"),l.on("scroll",(T=>{this._onScroll(T)})))}_onScroll(e){const l=this._gantt._ganttView.getTaskAreaContainer();l.scrollTop!==e.component.scrollTop()&&(l.scrollTop=e.component.scrollTop())}_correctRowsViewRowHeight(e){const l=this._treeList._views&&this._treeList._views.rowsView;(l==null?void 0:l._rowHeight)!==e&&(l._rowHeight=e)}_skipUpdateTreeListDataSource(){return this._gantt.option("validation.autoUpdateParentTasks")}selectRows(e){this.setOption("selectedRowKeys",e)}scrollBy(e){const l=this._treeList.getScrollable();if(l){const T=e-l.scrollTop();Math.abs(T)>=2&&l.scrollBy({left:0,top:T})}}updateDataSource(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this._skipUpdateTreeListDataSource()||l)this.setDataSource(e);else if(T){const k=this._treeList.option("dataSource");this._gantt._onParentTasksRecalculated(k)}}setDataSource(e){this.setOption("dataSource",this.createDataSource(e))}createDataSource(e,l){return e&&new Un({store:new ft({data:e,key:l||this.getOption("keyExpr")})})}onRowClick(e){this._gantt._actionsManager.raiseTaskClickAction(e.key,e.event)}onRowDblClick(e){this._gantt._actionsManager.raiseTaskDblClickAction(e.key,e.event)&&this._gantt._ganttView._ganttViewCore.showTaskEditDialog()}saveExpandedKeys(){const e=this._treeList,l=e==null?void 0:e.getVisibleRows().length;if(l>0){const T=this.getAllNodes(),k=this.getOption("expandedRowKeys");if(k&&T.length!==l){const b=this.getNodesState();b.applyNodes(T,this.getOption("rootValue")),b.saveExpandedState(k)}}}_onNodesInitialized(e){const l=this.getNodesState(),T=l.getExpandedKeys(),k=this.getAllNodes();l.applyNodes(k,this.getOption("rootValue"));const C=l.getExpandedKeys();if(C&&this.setOption("expandedRowKeys",C),this.isExpandedStateChanged(T,C)){const b=k.reduce(((u,c)=>(u[c.key]=C?C.includes(c.key):!0,u)),{});this._gantt._ganttView.applyTasksExpandedState(b)}l.clear()}getNodesState(){return this._nodeState||(this._nodeState=new Fr),this._nodeState}getAllNodes(){var e,l;const T=(e=this._treeList)===null||e===void 0||(e=e.getDataSource())===null||e===void 0?void 0:e.store();if(!T||!((l=this._treeList)!==null&&l!==void 0&&l.getNodeByKey))return[];const k=ue(T.key());return T._array.map((C=>this._treeList.getNodeByKey(k(C)))).filter((C=>!!C))}isExpandedStateChanged(e,l){return e===null&&l===null?!1:(e==null?void 0:e.length)!==(l==null?void 0:l.length)?!0:e.some(((T,k)=>T!==l[k]))}getOffsetHeight(){return this._gantt._treeList._$element.get(0).offsetHeight}getRowHeight(){const e=this._treeList._$element.find(".dx-data-row");let l=e.length?at(e.last().get(0)).height:34;return l||(l=34),this._correctRowsViewRowHeight(l),l}getHeaderHeight(){return at(this._treeList._$element.find(".dx-treelist-headers").get(0)).height}getColumns(){const e=this._gantt.option("columns");if(e)for(let l=0;l<e.length;l++){const T=e[l];(T.dataField===this._gantt.option("tasks.keyExpr")||T.dataField===this._gantt.option("tasks.parentIdExpr"))&&!T.dataType&&(T.dataType="object")}return e}getSievedItems(){const e=this._treeList.getRootNode();if(!e)return;const l=[];oe.convertTreeToList(e,l);const T=oe.compileGettersByOption(this._gantt.option("tasks"));return this._gantt._validateSourceData("tasks",l).map(oe.prepareMapHandler(T))}setOption(e,l){this._treeList&&this._treeList.option(e,l)}getOption(e){var l;return(l=this._treeList)===null||l===void 0?void 0:l.option(e)}onTaskInserted(e,l){if(X(l)){const T=this.getOption("expandedRowKeys");T.indexOf(l)===-1&&(T.push(l),this.setOption("expandedRowKeys",T))}this.selectRows(oe.getArrayFromOneElement(e)),this.setOption("focusedRowKey",e)}getDataSource(){var e;return(e=this._treeList)===null||e===void 0?void 0:e.getDataSource()}}var Ae={exports:{}};/*! For license information please see dx-gantt.min.js.LICENSE.txt */var Ur=Ae.exports,ut;function Kr(){return ut||(ut=1,(function(O,e){(function(l,T){O.exports=T()})(Ur,(()=>(()=>{var l={9279:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Browser=void 0;var c=(function(){function d(){}return d.IdentUserAgent=function(g,h){h===void 0&&(h=!1);var s=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],n="IE",i="Win",t={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(g&&g.length!==0){g=g.toLowerCase(),d.indentPlatformMajorVersion(g);try{for(var r={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},o="(?:/|\\s*)?",a="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",p="(?:"+a+")?",y={Safari:"applewebkit(?:.*?(?:version/"+a+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+o+p,Mozilla:"mozilla(?:.*rv:"+p+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+p,Firefox:"firefox"+o+p,Opera:"(?:opera|\\sopr)"+o+p,Opera10:"opera.*\\s*version"+o+p,IE:"msie\\s*"+p,Edge:"edge"+o+p},f=null,m=-1,_=0;_<s.length;_++){var v=s[_],w=new RegExp(y[v],"i").exec(g);if(w&&w.index>=0){if(f==="IE"&&m>=11&&v==="Safari")continue;(f=v)==="Opera10"&&(f="Opera");var S="trident"+o+p;m=d.GetBrowserVersion(g,w,S,d.getIECompatibleVersionString()),f==="Mozilla"&&m>=11&&(f="IE")}}f||(f=n);var D=m!==-1;D||(m=t[f]);var x=null,N=Number.MAX_VALUE;for(var A in r)if(Object.prototype.hasOwnProperty.call(r,A)){var E=A.substr(0,1)==="!",H=g.indexOf((E?A.substr(1):A).toLowerCase());H>=0&&(H<N||E)&&(N=E?0:H,x=r[A])}var B=g.toUpperCase().match("SM-[A-Z]"),K=B&&B.length>0;x==="WinPhone"&&m<9&&(m=Math.floor(d.getVersionFromTrident(g,"trident"+o+p))),!h&&f==="IE"&&m>7&&document.documentMode<m&&(m=document.documentMode),x==="WinPhone"&&(m=Math.max(9,m)),x||(x=i),x!==r["cpu os"]||D||(m=4),d.fillUserAgentInfo(s,f,m,x,K)}catch{d.fillUserAgentInfo(s,n,t[n],i)}}else d.fillUserAgentInfo(s,n,t[n],i)},d.GetBrowserVersion=function(g,h,s,n){var i=d.getVersionFromMatches(h);if(n){var t=d.getVersionFromTrident(g,s);if(n==="edge"||parseInt(n)===t)return t}return i},d.getIECompatibleVersionString=function(){if(document.compatible){for(var g=0;g<document.compatible.length;g++)if(document.compatible[g].userAgent==="IE"&&document.compatible[g].version)return document.compatible[g].version.toLowerCase()}return""},d.isTouchEnabled=function(){return d.hasTouchStart()||d.hasMaxTouchPoints()||d.hasMsMaxTouchPoints()},d.hasTouchStart=function(){return"ontouchstart"in window},d.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},d.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},d.hasNavigator=function(){return typeof navigator<"u"},d.fillUserAgentInfo=function(g,h,s,n,i){i===void 0&&(i=!1);for(var t=0;t<g.length;t++){var r=g[t];d[r]=r===h}d.Version=Math.floor(10*s)/10,d.MajorVersion=Math.floor(d.Version),d.WindowsPlatform=n==="Win"||n==="WinPhone",d.MacOSMobilePlatform=n==="MacMobile"||n==="Mac"&&d.isTouchEnabled(),d.MacOSPlatform=n==="Mac"&&!d.MacOSMobilePlatform,d.AndroidMobilePlatform=n==="Android",d.WindowsPhonePlatform=n==="WinPhone",d.WebKitFamily=d.Safari||d.Chrome||d.Opera&&d.MajorVersion>=15,d.NetscapeFamily=d.Netscape||d.Mozilla||d.Firefox,d.WebKitTouchUI=d.MacOSMobilePlatform||d.AndroidMobilePlatform;var o=d.IE&&d.MajorVersion>9&&d.WindowsPlatform&&d.UserAgent.toLowerCase().indexOf("touch")>=0;if(d.MSTouchUI=o||d.Edge&&!!window.navigator.maxTouchPoints,d.TouchUI=d.WebKitTouchUI||d.MSTouchUI,d.MobileUI=d.WebKitTouchUI||d.WindowsPhonePlatform,d.AndroidDefaultBrowser=d.AndroidMobilePlatform&&!d.Chrome,d.AndroidChromeBrowser=d.AndroidMobilePlatform&&d.Chrome,i&&(d.SamsungAndroidDevice=i),d.MSTouchUI){var a=d.UserAgent.toLowerCase().indexOf("arm;")>-1;d.VirtualKeyboardSupported=a||d.WindowsPhonePlatform}else d.VirtualKeyboardSupported=d.WebKitTouchUI;d.fillDocumentElementBrowserTypeClassNames(g)},d.indentPlatformMajorVersion=function(g){var h=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(g);h&&(d.PlaformMajorVersion=h[1])},d.getVersionFromMatches=function(g){var h=-1,s="";return g&&(g[1]&&(s+=g[1],g[2]&&(s+="."+g[2])),s!==""&&(h=parseFloat(s),isNaN(h)&&(h=-1))),h},d.getVersionFromTrident=function(g,h){var s=new RegExp(h,"i").exec(g);return d.getVersionFromMatches(s)+4},d.fillDocumentElementBrowserTypeClassNames=function(g){for(var h="",s=g.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),n=0;n<s.length;n++){var i=s[n];d[i]&&(h+="dx"+i+" ")}h+="dxBrowserVersion-"+d.MajorVersion,typeof document<"u"&&document&&document.documentElement&&(document.documentElement.className!==""&&(h=" "+h),document.documentElement.className+=h,d.Info=h)},d.getUserAgent=function(){return d.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},d.UserAgent=d.getUserAgent(),d._foo=d.IdentUserAgent(d.UserAgent),d})();u.Browser=c},6799:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ExtendedMinMax=u.ExtendedMax=u.ExtendedMin=u.MinMaxNumber=u.MinMax=void 0;var d=c(655),g=function(t,r){this.minElement=t,this.maxElement=r};u.MinMax=g;var h=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return d.__extends(r,t),Object.defineProperty(r.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),r})(g);u.MinMaxNumber=h;var s=function(t,r){this.minElement=t,this.minValue=r};u.ExtendedMin=s;var n=function(t,r){this.maxElement=t,this.maxValue=r};u.ExtendedMax=n;var i=(function(t){function r(o,a,p,y){var f=t.call(this,o,p)||this;return f.minValue=a,f.maxValue=y,f}return d.__extends(r,t),r})(g);u.ExtendedMinMax=i},3604:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Margins=void 0;var d=c(655),g=(function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return d.__extends(s,h),s.empty=function(){return new s(0,0,0,0)},s.prototype.clone=function(){return new s(this.left,this.right,this.top,this.bottom)},s})(c(4125).Offsets);u.Margins=g},5596:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Metrics=void 0;var c=(function(){function d(){}return d.euclideanDistance=function(g,h){var s=g.x-h.x,n=g.y-h.y;return Math.sqrt(s*s+n*n)},d.manhattanDistance=function(g,h){return Math.abs(g.x-h.x)+Math.abs(g.y-h.y)},d})();u.Metrics=c},4125:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Offsets=void 0;var c=(function(){function d(g,h,s,n){this.left=g,this.right=h,this.top=s,this.bottom=n}return d.empty=function(){return new d(0,0,0,0)},Object.defineProperty(d.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),d.fromNumber=function(g){return new d(g,g,g,g)},d.fromOffsets=function(g){return new d(g.left,g.right,g.top,g.bottom)},d.fromSide=function(g,h){return new d(g,g,h,h)},d.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.isEmpty=function(){return this.left===0&&this.right===0&&this.top===0&&this.bottom===0},d.prototype.offset=function(g){return this.left+=g.left,this.right+=g.right,this.top+=g.top,this.bottom+=g.bottom,this},d.prototype.multiply=function(g,h,s,n){switch(arguments.length){case 1:return this.left*=g,this.right*=g,this.top*=g,this.bottom*=g,this;case 2:return this.left*=g,this.right*=g,this.top*=h,this.bottom*=h,this;case 4:return this.left*=g,this.right*=h,this.top*=s,this.bottom*=n,this}return this},d.prototype.clone=function(){return new d(this.left,this.right,this.top,this.bottom)},d.prototype.copyFrom=function(g){this.left=g.left,this.right=g.right,this.top=g.top,this.bottom=g.bottom},d.prototype.equals=function(g){return this.top===g.top&&this.bottom===g.bottom&&this.right===g.right&&this.left===g.left},d.prototype.applyConverter=function(g){return this.left=g(this.left),this.right=g(this.right),this.top=g(this.top),this.bottom=g(this.bottom),this},d})();u.Offsets=c},8900:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Point=void 0;var c=(function(){function d(g,h){this.x=g,this.y=h}return d.zero=function(){return new d(0,0)},d.fromNumber=function(g){return new d(g,g)},d.prototype.isZero=function(){return this.x===0&&this.y===0},d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.copyFrom=function(g){this.x=g.x,this.y=g.y},d.prototype.clone=function(){return new d(this.x,this.y)},d.prototype.equals=function(g){return this.x===g.x&&this.y===g.y},d.prototype.offset=function(g,h){return this.x+=g,this.y+=h,this},d.prototype.offsetByPoint=function(g){return this.x+=g.x,this.y+=g.y,this},d.prototype.multiply=function(g,h){return this.x*=g,this.y*=h,this},d.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},d.prototype.applyConverter=function(g){return this.x=g(this.x),this.y=g(this.y),this},d.plus=function(g,h){return new d(g.x+h.x,g.y+h.y)},d.minus=function(g,h){return new d(g.x-h.x,g.y-h.y)},d.xComparer=function(g,h){return g.x-h.x},d.yComparer=function(g,h){return g.y-h.y},d.equals=function(g,h){return g.x===h.x&&g.y===h.y},d})();u.Point=c},6353:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Size=void 0;var c=(function(){function d(g,h){this.width=g,this.height=h}return d.empty=function(){return new d(0,0)},d.fromNumber=function(g){return new d(g,g)},d.initByCommonAction=function(g){var h=function(n){return n.width},s=function(n){return n.height};return new d(g(h,s),g(s,h))},d.prototype.isEmpty=function(){return this.width===0&&this.height===0},d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},d.prototype.offset=function(g,h){return this.width=this.width+g,this.height=this.height+h,this},d.prototype.multiply=function(g,h){return this.width*=g,this.height*=h,this},d.prototype.equals=function(g){return this.width===g.width&&this.height===g.height},d.prototype.clone=function(){return new d(this.width,this.height)},d.prototype.copyFrom=function(g){this.width=g.width,this.height=g.height},d.prototype.applyConverter=function(g){return this.width=g(this.width),this.height=g(this.height),this},d.equals=function(g,h){return g.width===h.width&&g.height===h.height},d})();u.Size=c},2217:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AttrUtils=void 0;var d=c(9279),g=(function(){function h(){}return h.setElementAttribute=function(s,n,i){s.setAttribute&&(d.Browser.IE&&d.Browser.MajorVersion>=11&&n.toLowerCase()==="src"&&s.setAttribute(n,""),s.setAttribute(n,i))},h.setStyleAttribute=function(s,n,i){s.setProperty&&s.setProperty(n,i,"")},h.getElementAttribute=function(s,n){return s.getAttribute(n)},h.getStyleAttribute=function(s,n){if(s.getPropertyValue){if(d.Browser.Firefox)try{return s.getPropertyValue(n)}catch{return s[n]}return s.getPropertyValue(n)}return null},h.removeElementAttribute=function(s,n){s.removeAttribute&&s.removeAttribute(n)},h.removeStyleAttribute=function(s,n){s.removeProperty&&s.removeProperty(n)},h.changeElementStyleAttribute=function(s,n,i){h.saveStyleAttributeInElement(s,n),h.setStyleAttribute(s.style,n,i)},h.restoreElementStyleAttribute=function(s,n){var i="dxwu_saved"+n,t=s.style;if(h.isExistsAttributeInElement(s,i)){var r=h.getElementAttribute(s,i);return r===h.emptyObject||r===null?h.removeStyleAttribute(t,n):h.setStyleAttribute(t,n,r),h.removeElementAttribute(s,i),!0}return!1},h.saveStyleAttributeInElement=function(s,n){var i="dxwu_saved"+n,t=s.style;if(!h.isExistsAttributeInElement(s,i)){var r=h.getStyleAttribute(t,n);h.setElementAttribute(s,i,h.isAttributeExists(r)?r:h.emptyObject)}},h.isExistsAttributeInElement=function(s,n){var i=h.getElementAttribute(s,n);return h.isAttributeExists(i)},h.isAttributeExists=function(s){return s!==null&&s!==""},h.emptyObject="DxEmptyValue",h})();u.AttrUtils=g},2491:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.numberToStringHex=u.numberToStringBin=u.isOdd=u.isEven=u.isNonNullString=u.isString=u.isNumber=u.boolToString=u.boolToInt=u.isDefined=void 0;var d=c(49);u.isDefined=function(g){return g!=null},u.boolToInt=function(g){return g?1:0},u.boolToString=function(g){return g?"1":"0"},u.isNumber=function(g){return typeof g=="number"},u.isString=function(g){return typeof g=="string"},u.isNonNullString=function(g){return!!g},u.isEven=function(g){return g%2!=0},u.isOdd=function(g){return g%2==0},u.numberToStringBin=function(g,h){return h===void 0&&(h=0),d.StringUtils.padLeft(g.toString(2),h,"0")},u.numberToStringHex=function(g,h){return h===void 0&&(h=0),d.StringUtils.padLeft(g.toString(16),h,"0")}},4170:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Equals=u.Comparers=void 0;var c=(function(){function g(){}return g.number=function(h,s){return h-s},g.string=function(h,s){return h===s?0:h>s?1:-1},g.stringIgnoreCase=function(h,s){return(h=h.toLowerCase())===(s=s.toLowerCase())?0:h>s?1:-1},g})();u.Comparers=c;var d=(function(){function g(){}return g.simpleType=function(h,s){return h===s},g.object=function(h,s){return h&&s&&(h===s||h.equals(s))},g})();u.Equals=d},6907:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DomUtils=void 0;var d=c(9279),g=c(2491),h=c(8679),s=c(49),n=(function(){function r(){}return r.clearInnerHtml=function(o){for(;o.firstChild;)o.removeChild(o.firstChild)},r.setStylePosition=function(o,a){o.left=h.MathUtils.round(a.x,3)+"px",o.top=h.MathUtils.round(a.y,3)+"px"},r.setStyleSize=function(o,a){o.width=h.MathUtils.round(a.width,3)+"px",o.height=h.MathUtils.round(a.height,3)+"px"},r.setStyleSizeAndPosition=function(o,a){r.setStylePosition(o,a),r.setStyleSize(o,a)},r.hideNode=function(o){if(o){var a=o.parentNode;a&&a.removeChild(o)}},r.isHTMLElementNode=function(o){return o.nodeType===Node.ELEMENT_NODE},r.isTextNode=function(o){return o.nodeType===Node.TEXT_NODE},r.isElementNode=function(o){return o.nodeType===Node.ELEMENT_NODE},r.isHTMLTableRowElement=function(o){return o.tagName==="TR"},r.isItParent=function(o,a){if(!o||!a)return!1;for(;a;){if(a===o)return!0;if(a.tagName==="BODY")return!1;a=a.parentNode}return!1},r.getParentByTagName=function(o,a){for(a=a.toUpperCase();o;){if(o.tagName==="BODY")return null;if(o.tagName===a)return o;o=o.parentNode}return null},r.getDocumentScrollTop=function(){var o=d.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollTop>0;return d.Browser.WebKitFamily||d.Browser.Edge||o?d.Browser.MacOSMobilePlatform?window.pageYOffset:d.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},r.getDocumentScrollLeft=function(){var o=d.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollLeft>0;return d.Browser.Edge||o?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:d.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},r.getCurrentStyle=function(o){if(o.currentStyle)return o.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(o,null);if(!a&&d.Browser.Firefox&&window.frameElement){for(var p=[],y=window.frameElement;!(a=document.defaultView.getComputedStyle(o,null));)p.push([y,y.style.display]),y.style.setProperty("display","block","important"),y=y.tagName==="BODY"?y.ownerDocument.defaultView.frameElement:y.parentNode;a=(function(_){if(typeof _!="object"||!g.isDefined(_))return _;var v={};for(var w in _)v[w]=_[w];return v})(a);for(var f=void 0,m=0;f=p[m];m++)f[0].style.display=f[1];document.body.offsetWidth}return a}return window.getComputedStyle(o,null)},r.setFocus=function(o){function a(){try{o.focus(),d.Browser.IE&&document.activeElement!==o&&o.focus()}catch{}}d.Browser.MacOSMobilePlatform?a():setTimeout((function(){a()}),100)},r.hasClassName=function(o,a){try{var p=a.split(" "),y=o.classList;if(y){for(var f=p.length-1;f>=0;f--)if(!y.contains(p[f]))return!1}else{var m=o.getAttribute&&o.getAttribute("class");if(!m)return!1;var _=m.split(" ");for(f=p.length-1;f>=0;f--)if(_.indexOf(p[f])<0)return!1}return!0}catch{return!1}},r.addClassName=function(o,a){if(!r.hasClassName(o,a)){var p=o.getAttribute&&o.getAttribute("class");o.setAttribute("class",p===""?a:p+" "+a)}},r.removeClassName=function(o,a){var p=" "+(o.getAttribute&&o.getAttribute("class"))+" ",y=p.replace(" "+a+" "," ");p.length!==y.length&&o.setAttribute("class",s.StringUtils.trim(y))},r.toggleClassName=function(o,a,p){p===void 0?r.hasClassName(o,a)?r.removeClassName(o,a):r.addClassName(o,a):p?r.addClassName(o,a):r.removeClassName(o,a)},r.pxToInt=function(o){return i(o,parseInt)},r.pxToFloat=function(o){return i(o,parseFloat)},r.getAbsolutePositionY=function(o){function a(p){return Math.round(p.getBoundingClientRect().top+r.getDocumentScrollTop())}return o?d.Browser.IE?(function(p){return d.Browser.IE&&p.parentNode===null?0:p.getBoundingClientRect().top+r.getDocumentScrollTop()})(o):d.Browser.Firefox&&d.Browser.Version>=3?a(o):d.Browser.NetscapeFamily&&(!d.Browser.Firefox||d.Browser.Version<3)?(function(p){for(var y=t(p,!1),f=!0;p!=null;){if(y+=p.offsetTop,f||p.offsetParent==null||(y-=p.scrollTop),!f&&d.Browser.Firefox){var m=r.getCurrentStyle(p);p.tagName==="DIV"&&m.overflow!=="visible"&&(y+=r.pxToInt(m.borderTopWidth))}f=!1,p=p.offsetParent}return y})(o):d.Browser.WebKitFamily||d.Browser.Edge?a(o):(function(p){for(var y=0,f=!0;p!=null;)y+=p.offsetTop,f||p.offsetParent==null||(y-=p.scrollTop),f=!1,p=p.offsetParent;return y})(o):0},r.getAbsolutePositionX=function(o){function a(p){return Math.round(p.getBoundingClientRect().left+r.getDocumentScrollLeft())}return o?d.Browser.IE?(function(p){return d.Browser.IE&&p.parentNode===null?0:p.getBoundingClientRect().left+r.getDocumentScrollLeft()})(o):d.Browser.Firefox&&d.Browser.Version>=3?a(o):d.Browser.Opera&&d.Browser.Version<=12?(function(p){for(var y=!0,f=t(p,!0);p!=null;)f+=p.offsetLeft,y||(f-=p.scrollLeft),p=p.offsetParent,y=!1;return f+=document.body.scrollLeft})(o):d.Browser.NetscapeFamily&&(!d.Browser.Firefox||d.Browser.Version<3)?(function(p){for(var y=t(p,!0),f=!0;p!=null;){if(y+=p.offsetLeft,f||p.offsetParent==null||(y-=p.scrollLeft),!f&&d.Browser.Firefox){var m=r.getCurrentStyle(p);p.tagName==="DIV"&&m.overflow!=="visible"&&(y+=r.pxToInt(m.borderLeftWidth))}f=!1,p=p.offsetParent}return y})(o):d.Browser.WebKitFamily||d.Browser.Edge?a(o):(function(p){for(var y=0,f=!0;p!=null;)y+=p.offsetLeft,f||p.offsetParent==null||(y-=p.scrollLeft),f=!1,p=p.offsetParent;return y})(o):0},r.isInteractiveControl=function(o){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(o.tagName)>-1},r.getClearClientHeight=function(o){return o.offsetHeight-(r.getTopBottomPaddings(o)+r.getVerticalBordersWidth(o))},r.getTopBottomPaddings=function(o,a){var p=a||r.getCurrentStyle(o);return r.pxToInt(p.paddingTop)+r.pxToInt(p.paddingBottom)},r.getVerticalBordersWidth=function(o,a){g.isDefined(a)||(a=d.Browser.IE&&d.Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(o):r.getCurrentStyle(o));var p=0;return a.borderTopStyle!=="none"&&(p+=r.pxToFloat(a.borderTopWidth)),a.borderBottomStyle!=="none"&&(p+=r.pxToFloat(a.borderBottomWidth)),p},r.getNodes=function(o,a){for(var p=o.all||o.getElementsByTagName("*"),y=[],f=0;f<p.length;f++){var m=p[f];a(m)&&y.push(m)}return y},r.getChildNodes=function(o,a){for(var p=o.childNodes,y=[],f=0;f<p.length;f++){var m=p[f];a(m)&&y.push(m)}return y},r.getNodesByClassName=function(o,a){if(o.querySelectorAll){var p=o.querySelectorAll("."+a),y=[];return p.forEach((function(f){return y.push(f)})),y}return r.getNodes(o,(function(f){return r.hasClassName(f,a)}))},r.getChildNodesByClassName=function(o,a){return o.querySelectorAll?(function(p,y){for(var f=[],m=0;m<p.length;m++){var _=p[m];y(_)&&f.push(_)}return f})(o.querySelectorAll("."+a),(function(p){return p.parentNode===o})):r.getChildNodes(o,(function(p){return!!r.isElementNode(p)&&g.isNonNullString(p.className)&&r.hasClassName(p,p.className)}))},r.getVerticalScrollBarWidth=function(){if(r.verticalScrollBarWidth===void 0){var o=document.createElement("DIV");o.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(o);var a=document.createElement("P");o.appendChild(a),a.style.cssText="width: 100%; height: 200px;";var p=a.offsetWidth;o.style.overflow="scroll";var y=a.offsetWidth;p===y&&(y=o.clientWidth),r.verticalScrollBarWidth=p-y,document.body.removeChild(o)}return r.verticalScrollBarWidth},r.getHorizontalBordersWidth=function(o,a){g.isDefined(a)||(a=d.Browser.IE&&window.getComputedStyle?window.getComputedStyle(o):r.getCurrentStyle(o));var p=0;return a.borderLeftStyle!=="none"&&(p+=r.pxToFloat(a.borderLeftWidth)),a.borderRightStyle!=="none"&&(p+=r.pxToFloat(a.borderRightWidth)),p},r.getFontFamiliesFromCssString=function(o){return o.split(",").map((function(a){return s.StringUtils.trim(a.replace(/'|"/gi,""))}))},r.getInnerText=function(o){if(d.Browser.Safari&&d.Browser.MajorVersion<=5){r.html2PlainTextFilter===null&&(r.html2PlainTextFilter=document.createElement("DIV"),r.html2PlainTextFilter.style.width="0",r.html2PlainTextFilter.style.height="0",r.html2PlainTextFilter.style.overflow="visible",r.html2PlainTextFilter.style.display="none",document.body.appendChild(r.html2PlainTextFilter));var a=r.html2PlainTextFilter;a.innerHTML=o.innerHTML,a.style.display="";var p=a.innerText;return a.style.display="none",p}return d.Browser.NetscapeFamily||d.Browser.WebKitFamily||d.Browser.IE&&d.Browser.Version>=9||d.Browser.Edge?o.textContent:o.innerText},r.html2PlainTextFilter=null,r.verticalScrollBarWidth=void 0,r})();function i(r,o){var a=0;if(g.isDefined(r)&&r!=="")try{var p=r.indexOf("px");p>-1&&(a=o(r.substr(0,p)))}catch{}return a}function t(r,o){for(var a=0,p=!0;r!=null&&r.tagName!=="BODY";){var y=n.getCurrentStyle(r);if(y.position==="absolute")break;p||r.tagName!=="DIV"||y.position!==""&&y.position!=="static"||(a-=o?r.scrollLeft:r.scrollTop),r=r.parentNode,p=!1}return a}u.DomUtils=n},9712:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EncodeUtils=void 0;var c=(function(){function d(){}return d.encodeHtml=function(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},d.decodeHtml=function(g){return g.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},d.prepareTextForRequest=function(g){return g.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},d.prepareTextForCallBackRequest=function(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d.decodeViaTextArea=function(g){var h=document.createElement("TEXTAREA");return h.innerHTML=g,h.value},d})();u.EncodeUtils=c},3714:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EvtUtils=void 0;var d=c(9279),g=c(2491),h=c(6907),s=c(1632),n=(function(){function i(){}return i.preventEvent=function(t){t.cancelable&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.getEventSource=function(t){return g.isDefined(t)?i.getEventSourceCore(t):null},i.getEventSourceByPosition=function(t){if(!g.isDefined(t))return null;if(!document.elementFromPoint)return i.getEventSourceCore(t);var r=i.getEventX(t)-(i.clientEventRequiresDocScrollCorrection()?h.DomUtils.getDocumentScrollLeft():0),o=i.getEventY(t)-(i.clientEventRequiresDocScrollCorrection()?h.DomUtils.getDocumentScrollTop():0);return r===void 0||o===void 0?i.getEventSourceCore(t):document.elementFromPoint(r,o)},i.getEventSourceCore=function(t){return t.srcElement?t.srcElement:t.target},i.getMouseWheelEventName=function(){return d.Browser.Safari?"mousewheel":d.Browser.NetscapeFamily&&d.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},i.isLeftButtonPressed=function(t){return!!s.TouchUtils.isTouchEvent(t)||!!(t=d.Browser.IE&&g.isDefined(event)?event:t)&&(d.Browser.IE&&d.Browser.Version<11?!!d.Browser.MSTouchUI||t.button%2==1:d.Browser.WebKitFamily?t.type==="pointermove"||t.type==="pointerenter"||t.type==="pointerleave"?t.buttons===1:t.which===1:d.Browser.NetscapeFamily||d.Browser.Edge||d.Browser.IE&&d.Browser.Version>=11?i.isMoveEventName(t.type)?t.buttons===1:t.which===1:!d.Browser.Opera||t.button===0)},i.isMoveEventName=function(t){return t===s.TouchUtils.touchMouseMoveEventName||t===i.getMoveEventName()},i.getMoveEventName=function(){return window.PointerEvent?"pointermove":d.Browser.TouchUI?"touchmove":"mousemove"},i.preventEventAndBubble=function(t){i.preventEvent(t),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},i.clientEventRequiresDocScrollCorrection=function(){var t=d.Browser.Safari&&d.Browser.Version<3,r=d.Browser.MacOSMobilePlatform&&d.Browser.Version<5.1;return d.Browser.AndroidDefaultBrowser||d.Browser.AndroidChromeBrowser||!(t||r)},i.getEventX=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventX(t):t.clientX+(i.clientEventRequiresDocScrollCorrection()?h.DomUtils.getDocumentScrollLeft():0)},i.getEventY=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventY(t):t.clientY+(i.clientEventRequiresDocScrollCorrection()?h.DomUtils.getDocumentScrollTop():0)},i.cancelBubble=function(t){t.cancelBubble=!0},i.getWheelDelta=function(t){var r;return r=d.Browser.NetscapeFamily&&d.Browser.MajorVersion<17?-t.detail:d.Browser.Safari?t.wheelDelta:-t.deltaY,d.Browser.Opera&&d.Browser.Version<9&&(r=-r),r},i})();u.EvtUtils=n},9937:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.JsonUtils=void 0;var c=(function(){function d(){}return d.isValid=function(g){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(g.replace(/"(\\.|[^"\\])*"/g,""))},d})();u.JsonUtils=c},2153:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.KeyCode=u.ModifierKey=u.KeyUtils=void 0;var d,g,h=c(9279),s=c(9712),n=c(49),i=(function(){function t(){}return t.getKeyModifiers=function(r){var o=0;return r.altKey&&(o|=d.Alt),r.ctrlKey&&(o|=d.Ctrl),r.shiftKey&&(o|=d.Shift),r.metaKey&&(o|=d.Meta),o},t.getShortcutCode=function(r,o,a,p,y){var f=r;return f|=o?d.Ctrl:0,f|=a?d.Shift:0,f|=p?d.Alt:0,f|=y?d.Meta:0},t.getShortcutCodeByEvent=function(r){return t.getShortcutCode(t.getEventKeyCode(r),r.ctrlKey,r.shiftKey,r.altKey,!!h.Browser.MacOSPlatform&&r.metaKey)},t.getEventKeyCode=function(r){return h.Browser.NetscapeFamily||h.Browser.Opera?r.which:r.keyCode},t.parseShortcutString=function(r){if(!r)return 0;var o=!1,a=!1,p=!1,y=!1,f=null,m=r.toString().split("+");if(m.length>0)for(var _=0;_<m.length;_++){var v=n.StringUtils.trim(m[_].toUpperCase());switch(v){case"CONTROL":case"CONTROLKEY":case"CTRL":o=!0;break;case"SHIFT":case"SHIFTKEY":a=!0;break;case"ALT":p=!0;break;case"CMD":y=!0;break;case"F1":f=g.F1;break;case"F2":f=g.F2;break;case"F3":f=g.F3;break;case"F4":f=g.F4;break;case"F5":f=g.F5;break;case"F6":f=g.F6;break;case"F7":f=g.F7;break;case"F8":f=g.F8;break;case"F9":f=g.F9;break;case"F10":f=g.F10;break;case"F11":f=g.F11;break;case"F12":f=g.F12;break;case"RETURN":case"ENTER":f=g.Enter;break;case"HOME":f=g.Home;break;case"END":f=g.End;break;case"LEFT":f=g.Left;break;case"RIGHT":f=g.Right;break;case"UP":f=g.Up;break;case"DOWN":f=g.Down;break;case"PAGEUP":f=g.PageUp;break;case"PAGEDOWN":f=g.PageDown;break;case"SPACE":f=g.Space;break;case"TAB":f=g.Tab;break;case"BACKSPACE":case"BACK":f=g.Backspace;break;case"CONTEXT":f=g.ContextMenu;break;case"ESCAPE":case"ESC":f=g.Esc;break;case"DELETE":case"DEL":f=g.Delete;break;case"INSERT":case"INS":f=g.Insert;break;case"PLUS":f=43;break;default:f=v.charCodeAt(0)}}else alert(s.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return t.getShortcutCode(f,o,a,p,y)},t})();u.KeyUtils=i,(function(t){t[t.None=0]="None",t[t.Ctrl=65536]="Ctrl",t[t.Shift=262144]="Shift",t[t.Alt=1048576]="Alt",t[t.Meta=16777216]="Meta"})(d=u.ModifierKey||(u.ModifierKey={})),(function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Pause=19]="Pause",t[t.CapsLock=20]="CapsLock",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Key_0=48]="Key_0",t[t.Key_1=49]="Key_1",t[t.Key_2=50]="Key_2",t[t.Key_3=51]="Key_3",t[t.Key_4=52]="Key_4",t[t.Key_5=53]="Key_5",t[t.Key_6=54]="Key_6",t[t.Key_7=55]="Key_7",t[t.Key_8=56]="Key_8",t[t.Key_9=57]="Key_9",t[t.Key_a=65]="Key_a",t[t.Key_b=66]="Key_b",t[t.Key_c=67]="Key_c",t[t.Key_d=68]="Key_d",t[t.Key_e=69]="Key_e",t[t.Key_f=70]="Key_f",t[t.Key_g=71]="Key_g",t[t.Key_h=72]="Key_h",t[t.Key_i=73]="Key_i",t[t.Key_j=74]="Key_j",t[t.Key_k=75]="Key_k",t[t.Key_l=76]="Key_l",t[t.Key_m=77]="Key_m",t[t.Key_n=78]="Key_n",t[t.Key_o=79]="Key_o",t[t.Key_p=80]="Key_p",t[t.Key_q=81]="Key_q",t[t.Key_r=82]="Key_r",t[t.Key_s=83]="Key_s",t[t.Key_t=84]="Key_t",t[t.Key_u=85]="Key_u",t[t.Key_v=86]="Key_v",t[t.Key_w=87]="Key_w",t[t.Key_x=88]="Key_x",t[t.Key_y=89]="Key_y",t[t.Key_z=90]="Key_z",t[t.Windows=91]="Windows",t[t.ContextMenu=93]="ContextMenu",t[t.Numpad_0=96]="Numpad_0",t[t.Numpad_1=97]="Numpad_1",t[t.Numpad_2=98]="Numpad_2",t[t.Numpad_3=99]="Numpad_3",t[t.Numpad_4=100]="Numpad_4",t[t.Numpad_5=101]="Numpad_5",t[t.Numpad_6=102]="Numpad_6",t[t.Numpad_7=103]="Numpad_7",t[t.Numpad_8=104]="Numpad_8",t[t.Numpad_9=105]="Numpad_9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.Decimal=110]="Decimal",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.Semicolon=186]="Semicolon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.ForwardSlash=191]="ForwardSlash",t[t.GraveAccent=192]="GraveAccent",t[t.OpenBracket=219]="OpenBracket",t[t.BackSlash=220]="BackSlash",t[t.CloseBracket=221]="CloseBracket",t[t.SingleQuote=222]="SingleQuote"})(g=u.KeyCode||(u.KeyCode={}))},2940:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ListUtils=void 0;var d=c(6799),g=c(4170),h=(function(){function s(){}return s.remove=function(n,i){var t=n.indexOf(i,0);t>=0&&n.splice(t,1)},s.removeBy=function(n,i){for(var t=n.length,r=0;r<t;r++)if(i(n[r],r))return n.splice(r,1)[0];return null},s.shallowCopy=function(n){return n.slice()},s.deepCopy=function(n){return s.map(n,(function(i){return i.clone()}))},s.initByValue=function(n,i){for(var t=[];n>0;n--)t.push(i);return t},s.initByCallback=function(n,i){for(var t=[],r=0;r<n;r++)t.push(i(r));return t},s.forEachOnInterval=function(n,i){for(var t=n.end,r=n.start;r<t;r++)i(r)},s.reverseForEachOnInterval=function(n,i){for(var t=n.start,r=n.end-1;r>=t;r--)i(r)},s.reducedMap=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=[],a=t;a<r;a++){var p=i(n[a],a);p!==null&&o.push(p)}return o},s.filter=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=[],a=t;a<r;a++){var p=n[a];i(p,a)&&o.push(p)}return o},s.map=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=[],a=t;a<r;a++)o.push(i(n[a],a));return o},s.indexBy=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)if(i(n[o],o))return o;return-1},s.reverseIndexBy=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)if(i(n[o],o))return o;return-1},s.elementBy=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.indexBy(n,i,t,r);return o<0?null:n[o]},s.reverseElementBy=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);var o=s.reverseIndexBy(n,i,t,r);return o<0?null:n[o]},s.last=function(n){return n[n.length-1]},s.setLast=function(n,i){return n[n.length-1]=i},s.incLast=function(n){return++n[n.length-1]},s.decLast=function(n){return--n[n.length-1]},s.equals=function(n,i){return n.length===i.length&&s.allOf2(n,i,(function(t,r){return t.equals(r)}))},s.equalsByReference=function(n,i){var t=n.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(n[r]!==i[r])return!1;return!0},s.unique=function(n,i,t,r){t===void 0&&(t=i),r===void 0&&(r=function(){});var o=n.length;if(o===0)return[];var a=(n=n.sort(i))[0],p=s.reducedMap(n,(function(y){return t(a,y)!==0?(a=y,y):(r(y),null)}),1,o);return p.unshift(n[0]),p},s.uniqueNumber=function(n){n=n.sort(g.Comparers.number);for(var i=Number.NaN,t=n.length-1;t>=0;t--)i===n[t]?n.splice(t,1):i=n[t];return n},s.forEach=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)i(n[o],o)},s.forEach2=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var a=r;a<o;a++)t(n[a],i[a],a)},s.reverseForEach=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)i(n[o],o)},s.reverseIndexOf=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)if(n[o]===i)return o;return-1},s.accumulate=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var a=i,p=r;p<o;p++)a=t(a,n[p],p);return a},s.accumulateNumber=function(n,i,t,r,o){t===void 0&&(t=0),r===void 0&&(r=0),o===void 0&&(o=n.length);for(var a=t,p=r;p<o;p++)a+=i(n[p],p,a);return a},s.anyOf=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)if(i(n[o],o))return!0;return!1},s.unsafeAnyOf=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++){var a=i(n[o],o);if(a)return a}return null},s.reverseAnyOf=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--)if(i(n[o],o))return!0;return!1},s.unsafeReverseAnyOf=function(n,i,t,r){t===void 0&&(t=n.length-1),r===void 0&&(r=0);for(var o=t;o>=r;o--){var a=i(n[o],o);if(a)return a}return null},s.anyOf2=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var a=r;a<o;a++)if(t(n[a],i[a],a))return!0;return!1},s.allOf=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);for(var o=t;o<r;o++)if(!i(n[o],o))return!1;return!0},s.allOf2=function(n,i,t,r,o){r===void 0&&(r=0),o===void 0&&(o=n.length);for(var a=r;a<o;a++)if(!t(n[a],i[a],a))return!1;return!0},s.allOfOnInterval=function(n,i){for(var t=n.end,r=n.start;r<t;r++)if(!i(r))return!1;return!0},s.addListOnTail=function(n,i){for(var t=0,r=void 0;r=i[t];t++)n.push(r);return n},s.joinLists=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return s.accumulate(i,[],(function(r,o){return s.addListOnTail(r,n(o)),r}))},s.push=function(n,i){return n.push(i),n},s.countIf=function(n,i){return s.accumulateNumber(n,(function(t,r){return i(t,r)?1:0}))},s.clear=function(n){n.splice(0)},s.merge=function(n,i,t,r,o,a){if(o===void 0&&(o=0),a===void 0&&(a=n.length),n=n.slice(o,a),a-o<2)return n;for(var p=(n=n.sort(i))[o],y=[p],f=o+1;f<a;f++){var m=n[f];t(p,m)?r(p,m):(p=m,y.push(p))}return y},s.min=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.minExtended(n,i,t,r);return o?o.minElement:null},s.max=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.maxExtended(n,i,t,r);return o?o.maxElement:null},s.minMax=function(n,i,t,r){t===void 0&&(t=0),r===void 0&&(r=n.length);var o=s.minMaxExtended(n,i,t,r);return o?new d.MinMax(o.minElement,o.maxElement):null},s.minExtended=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],a=i(o),p=t+1;p<r;p++){var y=n[p],f=i(y);f<a&&(a=f,o=y)}return new d.ExtendedMin(o,a)},s.maxExtended=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],a=i(o),p=t+1;p<r;p++){var y=n[p],f=i(y);f>a&&(a=f,o=y)}return new d.ExtendedMax(o,a)},s.minMaxExtended=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],a=o,p=i(o),y=p,f=t+1;f<r;f++){var m=n[f],_=i(m);_<p?(p=_,o=m):_>y&&(y=_,a=m)}return new d.ExtendedMinMax(o,p,a,y)},s.minByCmp=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],a=t+1;a<r;a++){var p=n[a];i(p,o)<0&&(o=p)}return o},s.maxByCmp=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],a=t+1;a<r;a++){var p=n[a];i(p,o)>0&&(o=p)}return o},s.minMaxByCmp=function(n,i,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),n.length===0)return null;for(var o=n[t],a=o,p=t+1;p<r;p++){var y=n[p],f=i(y,o);f>0?a=y:f<0&&(o=y)}return new d.MinMax(o,a)},s})();u.ListUtils=h},8679:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MathUtils=void 0;var d=c(2940),g=(function(){function h(){}return h.round=function(s,n){n===void 0&&(n=0);var i=h.powFactor[n];return Math.round(s*i)/i},h.numberCloseTo=function(s,n,i){return i===void 0&&(i=1e-5),Math.abs(s-n)<i},h.restrictValue=function(s,n,i){return i<n&&(i=n),s>i?i:s<n?n:s},h.getRandomInt=function(s,n){return Math.floor(Math.random()*(n-s+1))+s},h.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(s){var n=16*Math.random()|0;return(s==="x"?n:3&n|8).toString(16)}))},h.powFactor=d.ListUtils.initByCallback(20,(function(s){return Math.pow(10,s)})),h.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],h})();u.MathUtils=g},49:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StringUtils=void 0;var c=(function(){function d(){}return d.isAlpha=function(g){return g>="a"&&g<="z"||g>="A"&&g<="Z"},d.isDigit=function(g){return g>="0"&&g<="9"},d.stringHashCode=function(g){var h=0;if(g.length===0)return h;for(var s=g.length,n=0;n<s;n++)h=(h<<5)-h+g.charCodeAt(n),h|=0;return h},d.endsAt=function(g,h){var s=g.length-1,n=h.length-1,i=s-n;if(i<0)return!1;for(;s>=i;s--,n--)if(g[s]!==h[n])return!1;return!0},d.startsAt=function(g,h){return g.substr(0,h.length)===h},d.stringInLowerCase=function(g){return g.toLowerCase()===g},d.stringInUpperCase=function(g){return g.toUpperCase()===g},d.atLeastOneSymbolInUpperCase=function(g){for(var h=0,s=void 0;s=g[h];h++)if(d.stringInUpperCase(s)&&!d.stringInLowerCase(s))return!0;return!1},d.getSymbolFromEnd=function(g,h){return g[g.length-h]},d.trim=function(g,h){if(h===void 0)return d.trimInternal(g,!0,!0);var s=h.join("");return g.replace(new RegExp("(^["+s+"]*)|(["+s+"]*$)","g"),"")},d.trimStart=function(g,h){if(h===void 0)return d.trimInternal(g,!0,!1);var s=h.join("");return g.replace(new RegExp("^["+s+"]*","g"),"")},d.trimEnd=function(g,h){if(h===void 0)return d.trimInternal(g,!1,!0);var s=h.join("");return g.replace(new RegExp("["+s+"]*$","g"),"")},d.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},d.repeat=function(g,h){return new Array(h<=0?0:h+1).join(g)},d.isNullOrEmpty=function(g){return!g||!g.length},d.padLeft=function(g,h,s){return d.repeat(s,Math.max(0,h-g.length))+g},d.trimInternal=function(g,h,s){var n=g.length;if(!n)return g;if(n<764833){var i=g;return h&&(i=i.replace(/^\s+/,"")),s&&(i=i.replace(/\s+$/,"")),i}var t=0;if(s)for(;n>0&&/\s/.test(g[n-1]);)n--;if(h&&n>0)for(;t<n&&/\s/.test(g[t]);)t++;return g.substring(t,n)},d})();u.StringUtils=c},1632:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TouchUtils=void 0;var d=c(9279),g=c(2491),h=(function(){function s(){}return s.onEventAttachingToDocument=function(n,i){return!d.Browser.MacOSMobilePlatform||!s.isTouchEventName(n)||(s.documentTouchHandlers[n]||(s.documentTouchHandlers[n]=[]),s.documentTouchHandlers[n].push(i),s.documentEventAttachingAllowed)},s.isTouchEventName=function(n){return d.Browser.WebKitTouchUI&&(n.indexOf("touch")>-1||n.indexOf("gesture")>-1)},s.isTouchEvent=function(n){return d.Browser.WebKitTouchUI&&g.isDefined(n.changedTouches)},s.getEventX=function(n){return d.Browser.IE?n.pageX:n.changedTouches[0].pageX},s.getEventY=function(n){return d.Browser.IE?n.pageY:n.changedTouches[0].pageY},s.touchMouseDownEventName=d.Browser.WebKitTouchUI?"touchstart":d.Browser.Edge&&d.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",s.touchMouseUpEventName=d.Browser.WebKitTouchUI?"touchend":d.Browser.Edge&&d.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",s.touchMouseMoveEventName=d.Browser.WebKitTouchUI?"touchmove":d.Browser.Edge&&d.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",s.msTouchDraggableClassName="dxMSTouchDraggable",s.documentTouchHandlers={},s.documentEventAttachingAllowed=!0,s})();u.TouchUtils=h},8721:(b,u,c)=>{c.r(u)},639:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BarManager=void 0;var c=(function(){function d(g,h){this.commandManager=g,this.bars=h}return d.prototype.updateContextMenu=function(){for(var g=0,h=void 0;h=this.bars[g];g++)if(h.isContextMenu()){h.updateItemsList();for(var s=h.getCommandKeys(),n=0;n<s.length;n++)this.updateBarItem(h,s[n])}},d.prototype.updateItemsState=function(g){for(var h=!!g.length,s=function(r,o){if(o.isVisible()){for(var a=o.getCommandKeys(),p=function(f){if(h&&!g.filter((function(m){return m==a[f]})).length)return"continue";n.updateBarItem(o,a[f])},y=0;y<a.length;y++)p(y);o.completeUpdate()}},n=this,i=0,t=void 0;t=this.bars[i];i++)s(0,t)},d.prototype.updateBarItem=function(g,h){var s=this.commandManager.getCommand(h);if(s){var n=s.getState();g.setItemVisible(h,n.visible),n.visible&&(g.setItemEnabled(h,n.enabled),g.setItemValue(h,n.value))}},d})();u.BarManager=c},3290:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttClientCommand=void 0,(function(c){c[c.CreateTask=0]="CreateTask",c[c.CreateSubTask=1]="CreateSubTask",c[c.RemoveTask=2]="RemoveTask",c[c.RemoveDependency=3]="RemoveDependency",c[c.TaskInformation=4]="TaskInformation",c[c.TaskAddContextItem=5]="TaskAddContextItem",c[c.Undo=6]="Undo",c[c.Redo=7]="Redo",c[c.ZoomIn=8]="ZoomIn",c[c.ZoomOut=9]="ZoomOut",c[c.FullScreen=10]="FullScreen",c[c.CollapseAll=11]="CollapseAll",c[c.ExpandAll=12]="ExpandAll",c[c.ResourceManager=13]="ResourceManager",c[c.ToggleResources=14]="ToggleResources",c[c.ToggleDependencies=15]="ToggleDependencies"})(u.GanttClientCommand||(u.GanttClientCommand={}))},3756:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CollapseAllCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(this.isEnabled())},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.collapseAll(),!0},i.prototype.isEnabled=function(){return!0},i})(g.CommandBase);u.CollapseAllCommand=s},6585:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ExpandAllCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(this.isEnabled())},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.expandAll(),!0},i.prototype.isEnabled=function(){return!0},i})(g.CommandBase);u.ExpandAllCommand=s},9687:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CommandBase=void 0;var c=(function(){function d(g){this.control=g}return Object.defineProperty(d.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),d.prototype.execute=function(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];if(!this.state.enabled)return!1;var s=this.executeInternal.apply(this,g);return s&&this.control.barManager.updateItemsState([]),s},d.prototype.isEnabled=function(){return this.control.settings.editing.enabled},d.prototype.executeInternal=function(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];throw new Error("Not implemented")},d})();u.CommandBase=c},7156:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CommandManager=void 0;var d=c(5237),g=c(126),h=c(5477),s=c(6152),n=c(3290),i=c(3756),t=c(6585),r=c(4118),o=c(3044),a=c(9762),p=c(7823),y=c(3250),f=c(9072),m=c(1955),_=c(1757),v=c(7977),w=c(9793),S=c(358),D=c(9791),x=c(3936),N=c(5258),A=c(2018),E=c(4195),H=c(2714),B=c(299),K=c(2231),R=(function(){function V(j){this.control=j,this.commands={},this.createCommand(n.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(n.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(n.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(n.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(n.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(n.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(n.GanttClientCommand.TaskAddContextItem,new H.TaskAddContextItemCommand(this.control)),this.createCommand(n.GanttClientCommand.Undo,new f.UndoCommand(this.control)),this.createCommand(n.GanttClientCommand.Redo,new y.RedoCommand(this.control)),this.createCommand(n.GanttClientCommand.ZoomIn,new B.ZoomInCommand(this.control)),this.createCommand(n.GanttClientCommand.ZoomOut,new K.ZoomOutCommand(this.control)),this.createCommand(n.GanttClientCommand.FullScreen,new p.ToggleFullScreenCommand(this.control)),this.createCommand(n.GanttClientCommand.CollapseAll,new i.CollapseAllCommand(this.control)),this.createCommand(n.GanttClientCommand.ExpandAll,new t.ExpandAllCommand(this.control)),this.createCommand(n.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(n.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(V.prototype,"createTaskCommand",{get:function(){return new N.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"createSubTaskCommand",{get:function(){return new x.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"removeTaskCommand",{get:function(){return new E.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"updateTaskCommand",{get:function(){return new A.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"removeDependencyCommand",{get:function(){return new o.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"createResourceCommand",{get:function(){return new _.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"removeResourceCommand",{get:function(){return new S.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"assignResourceCommand",{get:function(){return new m.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"deassignResourceCommand",{get:function(){return new v.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"changeResourceColorCommand",{get:function(){return new w.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showTaskEditDialog",{get:function(){return new s.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showConstraintViolationDialog",{get:function(){return new g.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showConfirmationDialog",{get:function(){return new d.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"showResourcesDialog",{get:function(){return new h.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"toggleResources",{get:function(){return new D.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"toggleDependencies",{get:function(){return new a.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),V.prototype.getCommand=function(j){return this.commands[j]},V.prototype.createCommand=function(j,F){this.commands[j]=F},V})();u.CommandManager=R},4118:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CreateDependencyCommand=void 0;var d=c(655),g=c(5950),h=c(3279),s=c(1211),n=(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(t,i),t.prototype.execute=function(r,o,a){return i.prototype.execute.call(this,r,o,a)},t.prototype.executeInternal=function(r,o,a){if(this.control.viewModel.dependencies.items.filter((function(f){return f.predecessorId===r&&f.successorId===o||f.successorId===r&&f.predecessorId===o})).length)return!1;var p=new h.DependencyInsertingArguments(r,o,a);if(this.modelManipulator.dispatcher.notifyDependencyInserting(p),p.cancel)return!1;if(r=p.predecessorId,o=p.successorId,a=p.type,this.control.history.beginTransaction(),this.history.addAndRedo(new s.InsertDependencyHistoryItem(this.modelManipulator,r,o,a)),this.control.isValidateDependenciesRequired()){var y=this.control.viewModel.tasks.getItemById(r);a===g.DependencyType.SF||a===g.DependencyType.SS?this.control.validationController.moveStartDependTasks(r,y.start):this.control.validationController.moveEndDependTasks(r,y.end)}return this.control.history.endTransaction(),!0},t.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},t})(c(2291).DependencyCommandBase);u.CreateDependencyCommand=n},2291:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyCommandBase=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(this.isEnabled())},i})(g.CommandBase);u.DependencyCommandBase=s},3044:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveDependencyCommand=void 0;var d=c(655),g=c(9544),h=c(5139),s=c(4797),n=c(5865),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return d.__extends(r,t),r.prototype.execute=function(o,a){var p=this;return a===void 0&&(a=!0),a?(this.control.commandManager.showConfirmationDialog.execute(new h.ConfirmationDialogParameters(g.ConfirmationType.DependencyDelete,(function(){p.executeInternal(o)}))),!1):t.prototype.execute.call(this,o)},r.prototype.executeInternal=function(o){if((o=o||this.control.taskEditController.dependencyId)!=null){var a=this.control.viewModel.dependencies.items.filter((function(y){return y.internalId===o}))[0];if(a){var p=new s.DependencyRemovingArguments(a);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(p),!p.cancel)return this.history.addAndRedo(new n.RemoveDependencyHistoryItem(this.modelManipulator,o)),o===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},r.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},r.prototype.getState=function(){var o=t.prototype.getState.call(this);return o.visible=o.enabled&&this.control.taskEditController.dependencyId!=null,o},r})(c(2291).DependencyCommandBase);u.RemoveDependencyCommand=i},9762:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ToggleDependenciesCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},i})(g.CommandBase);u.ToggleDependenciesCommand=s},7823:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ToggleFullScreenCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.isInFullScreenMode=!1,t.fullScreenTempVars={},t}return d.__extends(i,n),i.prototype.getState=function(){var t=new h.SimpleCommandState(!0);return t.value=this.control.fullScreenModeHelper.isInFullScreenMode,t},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},i})(g.CommandBase);u.ToggleFullScreenCommand=s},3250:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RedoCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){var t=new h.SimpleCommandState(this.isEnabled());return t.visible=this.control.settings.editing.enabled,t},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.history.redo(),!0},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.history.canRedo()},i})(g.CommandBase);u.RedoCommand=s},9072:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UndoCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){var t=new h.SimpleCommandState(this.isEnabled());return t.visible=this.control.settings.editing.enabled,t},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.history.undo(),!0},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.history.canUndo()},i})(g.CommandBase);u.UndoCommand=s},1955:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AssignResourceCommand=void 0;var d=c(655),g=c(1389),h=c(3683),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.execute=function(t,r){return n.prototype.execute.call(this,t,r)},i.prototype.executeInternal=function(t,r){if(!this.control.viewModel.assignments.items.filter((function(p){return p.resourceId===t&&p.taskId===r}))[0]){var o=this.control.viewModel,a=new g.ResourceAssigningArguments(o.convertInternalToPublicKey("resource",t),o.convertInternalToPublicKey("task",r));if(this.modelManipulator.dispatcher.notifyResourceAssigning(a),!a.cancel)return this.history.addAndRedo(new h.AssignResourceHistoryItem(this.modelManipulator,o.convertPublicToInternalKey("resource",a.resourceId),o.convertPublicToInternalKey("task",a.taskId))),!0}return!1},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},i})(c(200).ResourceCommandBase);u.AssignResourceCommand=s},1757:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CreateResourceCommand=void 0;var d=c(655),g=c(990),h=c(2961),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.execute=function(t,r,o){return r===void 0&&(r=""),n.prototype.execute.call(this,t,r,o)},i.prototype.executeInternal=function(t,r,o){r===void 0&&(r="");var a=new g.ResourceInsertingArguments(t,r);return this.modelManipulator.dispatcher.notifyResourceCreating(a),a.cancel||this.history.addAndRedo(new h.CreateResourceHistoryItem(this.modelManipulator,a.text,a.color,o)),!a.cancel},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},i})(c(200).ResourceCommandBase);u.CreateResourceCommand=s},7977:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DeassignResourceCommand=void 0;var d=c(655),g=c(1493),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.execute=function(i){return s.prototype.execute.call(this,i)},n.prototype.executeInternal=function(i){var t=this.control.viewModel.assignments.items.filter((function(r){return r.internalId===i}))[0];return!(!t||!this.modelManipulator.dispatcher.fireResourceUnassigning(t))&&(this.history.addAndRedo(new g.DeassignResourceHistoryItem(this.modelManipulator,i)),!0)},n.prototype.isEnabled=function(){return s.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},n})(c(200).ResourceCommandBase);u.DeassignResourceCommand=h},9793:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceColorCommand=void 0;var d=c(655),g=c(4641),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.execute=function(i,t){return s.prototype.execute.call(this,i,t)},n.prototype.executeInternal=function(i,t){return this.control.viewModel.resources.getItemById(i).color!==t&&(this.history.addAndRedo(new g.ResourceColorHistoryItem(this.modelManipulator,i,t)),!0)},n})(c(9876).ResourcePropertyCommandBase);u.ResourceColorCommand=h},9876:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertyCommandBase=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(this.isEnabled())},i.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},i})(g.CommandBase);u.ResourcePropertyCommandBase=s},358:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveResourceCommand=void 0;var d=c(655),g=c(9748),h=c(7466),s=c(1493),n=(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(t,i),t.prototype.execute=function(r){return i.prototype.execute.call(this,r)},t.prototype.executeInternal=function(r){var o=this,a=this.control.viewModel.resources.items.filter((function(f){return f.internalId===r}))[0];if(a){var p=new g.ResourceRemovingArguments(a);if(this.modelManipulator.dispatcher.notifyResourceRemoving(p),!p.cancel){var y=new h.RemoveResourceHistoryItem(this.modelManipulator,r);return this.control.viewModel.assignments.items.filter((function(f){return f.resourceId===r})).forEach((function(f){o.modelManipulator.dispatcher.fireResourceUnassigning(f)&&y.add(new s.DeassignResourceHistoryItem(o.modelManipulator,f.internalId))})),this.history.addAndRedo(y),!0}}return!1},t.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},t})(c(200).ResourceCommandBase);u.RemoveResourceCommand=n},200:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceCommandBase=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(this.isEnabled())},i})(g.CommandBase);u.ResourceCommandBase=s},9791:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ToggleResourceCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.toggleResources(),!0},i})(g.CommandBase);u.ToggleResourceCommand=s},4409:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleCommandState=void 0;var c=function(d,g){this.visible=!0,this.enabled=d,this.value=g};u.SimpleCommandState=c},3936:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CreateSubTaskCommand=void 0;var d=c(655),g=c(4605),h=c(1284),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.execute=function(t){return n.prototype.execute.call(this,t)},i.prototype.executeInternal=function(t){t=t||this.control.currentSelectedTaskID;var r=this.control.viewModel.findItem(t);if(r.selected){var o={start:new Date(r.task.start.getTime()),end:new Date(r.task.end.getTime()),title:"New task",progress:0,parentId:t},a=new g.TaskInsertingArguments(null,o);if(this.modelManipulator.dispatcher.notifyTaskCreating(a),!a.cancel){this.history.addAndRedo(new h.CreateTaskHistoryItem(this.modelManipulator,a));var p=this.control.viewModel.findItem(o.parentId);n.prototype.updateParent.call(this,p)}return!a.cancel}return!1},i.prototype.isEnabled=function(){var t=this.control,r=t.viewModel.findItem(t.currentSelectedTaskID);return n.prototype.isEnabled.call(this)&&!!r&&r.selected},i.prototype.getState=function(){var t=n.prototype.getState.call(this),r=this.control;return t.visible=t.visible&&r.settings.editing.allowTaskInsert,t},i})(c(9254).TaskCommandBase);u.CreateSubTaskCommand=s},5258:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CreateTaskCommand=void 0;var d=c(655),g=c(4605),h=c(1284),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.execute=function(t){return n.prototype.execute.call(this,t)},i.prototype.executeInternal=function(t){var r,o;if(t!=null||(t={}),!t.parentId){var a=this.control.viewModel.findItem(this.control.currentSelectedTaskID),p=a&&a.task;p&&(t.parentId=p.parentId)}var y=this.control.viewModel.findItem(t.parentId)||this.control.viewModel.items[0],f=y&&y.task;t.start||(t.start=f?new Date(f.start.getTime()):new Date(this.control.range.start.getTime())),t.end||(t.end=f?new Date(f.end.getTime()):new Date(this.control.range.end.getTime())),(r=t.title)!==null&&r!==void 0||(t.title="New task"),(o=t.progress)!==null&&o!==void 0||(t.progress=0);var m=new g.TaskInsertingArguments(null,t);if(this.modelManipulator.dispatcher.notifyTaskCreating(m),!m.cancel){this.history.addAndRedo(new h.CreateTaskHistoryItem(this.modelManipulator,m));var _=this.control.viewModel.findItem(t.parentId);n.prototype.updateParent.call(this,_)}return!m.cancel},i.prototype.getState=function(){var t=n.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},i})(c(9254).TaskCommandBase);u.CreateTaskCommand=s},4195:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveTaskCommand=void 0;var d=c(655),g=c(9544),h=c(5139),s=c(4642),n=c(5865),i=c(1493),t=c(9599),r=(function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(a,o),a.prototype.execute=function(p,y,f,m,_,v){var w=this;return y===void 0&&(y=!0),f===void 0&&(f=!1),m===void 0&&(m=!0),this.isApiCall=f,this.isUpdateParentTaskRequired=m,y?(this.control.commandManager.showConfirmationDialog.execute(new h.ConfirmationDialogParameters(g.ConfirmationType.TaskDelete,(function(){w.executeInternal(p,_,v)}))),!1):o.prototype.execute.call(this,p,_,v)},a.prototype.executeInternal=function(p,y,f){var m=this,_=f||[];p=p||this.control.currentSelectedTaskID;var v=this.control.viewModel.findItem(p),w=v?v.task:this.control.viewModel.tasks.getItemById(p),S=new s.TaskRemovingArguments(w);if(this.modelManipulator.dispatcher.notifyTaskRemoving(S),S.cancel)return!1;var D=this.history,x=this.control.viewModel;D.beginTransaction(),x.beginUpdate();var N=!!y,A=new t.RemoveTaskHistoryItem(this.modelManipulator,p),E=x.tasks.items.filter((function(R){return R.parentId===p})),H=E.map((function(R){return R.internalId})),B=x.dependencies.items.filter((function(R){return _.indexOf(R.internalId)===-1&&(R.predecessorId===p||R.successorId===p)&&!H.some((function(V){return R.predecessorId===V||R.successorId===V}))}));if(B.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;B.forEach((function(R){A.add(new n.RemoveDependencyHistoryItem(m.modelManipulator,R.internalId)),_.push(R.internalId)}))}if(x.assignments.items.filter((function(R){return R.taskId===p})).forEach((function(R){m.modelManipulator.dispatcher.fireResourceUnassigning(R)&&A.add(new i.DeassignResourceHistoryItem(m.modelManipulator,R.internalId))})),E.reverse().forEach((function(R){return new a(m.control).execute(R.internalId,!1,!0,!1,A,_)})),N?y.add(A):D.addAndRedo(A),this.isUpdateParentTaskRequired){var K=this.control.viewModel.findItem(w.parentId);o.prototype.updateParent.call(this,K)}return D.endTransaction(),x.endUpdate(),!0},a.prototype.isEnabled=function(){var p=this.control,y=p.viewModel.findItem(p.currentSelectedTaskID);return o.prototype.isEnabled.call(this)&&(!!y&&y.selected||this.isApiCall)},a.prototype.getState=function(){var p=o.prototype.getState.call(this),y=this.control;return p.visible=p.visible&&y.settings.editing.allowTaskDelete,p},a})(c(9254).TaskCommandBase);u.RemoveTaskCommand=r},2714:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAddContextItemCommand=void 0;var d=c(655),g=(function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return d.__extends(s,h),s.prototype.getState=function(){var n=h.prototype.getState.call(this);return n.visible=n.visible&&this.control.settings.editing.allowTaskInsert,n},s.prototype.execute=function(){return!1},s})(c(9254).TaskCommandBase);u.TaskAddContextItemCommand=g},9254:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskCommandBase=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.isApiCall=!1,t}return d.__extends(i,n),i.prototype.getState=function(){var t=new h.SimpleCommandState(this.isEnabled());return t.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,t},i.prototype.updateParent=function(t){this.validationController._parentAutoCalc&&t&&t.children.length>0&&this.control.validationController.updateParentsIfRequired(t.children[0].task.internalId)},i})(g.CommandBase);u.TaskCommandBase=s},2018:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UpdateTaskCommand=void 0;var d=c(655),g=c(2491),h=c(9544),s=c(3433),n=c(5865),i=c(9496),t=c(9201),r=(function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(a,o),a.prototype.execute=function(p,y){return o.prototype.execute.call(this,p,y)},a.prototype.executeInternal=function(p,y){var f=this.control.viewModel.tasks.getItemById(p);if(!f)return!1;var m=this.control.modelManipulator.dispatcher.raiseTaskUpdating(f,y,(function(v){y.title=v.title,y.progress=v.progress,y.start=v.start,y.end=v.end,y.color=v.color}));if(m){(0,g.isDefined)(y.start)&&(0,g.isDefined)(y.end)&&y.end.getTime()<y.start.getTime()&&(y.end=y.start),(0,g.isDefined)(y.progress)&&(y.progress=Math.max(Math.min(y.progress,100),0));var _=this.filterChangedValues(y,f);this.processDependecyValidation(_,f)}return m},a.prototype.isEnabled=function(){return o.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},a.prototype.filterChangedValues=function(p,y){if(!p)return null;var f={};for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(0,g.isDefined)(p[m])&&y[m]!==p[m]&&(f[m]=p[m]);return f},a.prototype.processDependecyValidation=function(p,y){var f=this,m=function(D){f.onAfterValidationCallback(p,y,D)},_=this.control.isValidateDependenciesRequired();if(_){var v=[],w=(0,g.isDefined)(p.start)&&p.start!==y.start,S=(0,g.isDefined)(p.end)&&p.end!==y.end;w&&_&&(v=v.concat(this.control.validationController.checkStartDependencies(y.internalId,p.start))),S&&_&&(v=v.concat(this.control.validationController.checkEndDependencies(y.internalId,p.end))),v.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new s.ConstraintViolationDialogParameters(v,m)):m(null)}else m(null)},a.prototype.onAfterValidationCallback=function(p,y,f){var m=this;if(!f||f.option!==h.ConstraintViolationOption.DoNothing||(delete p.start,delete p.end),Object.keys(p).length>0){this.history.beginTransaction(),(f==null?void 0:f.option)===h.ConstraintViolationOption.RemoveDependency&&f.validationErrors.forEach((function(D){return m.history.addAndRedo(new n.RemoveDependencyHistoryItem(m.modelManipulator,D.dependencyId))}));var _=this.control.isValidateDependenciesRequired(),v=y.internalId,w=y.start,S=y.end;this.history.addAndRedo(new i.UpdateTaskHistoryItem(this.modelManipulator,v,p)),(0,g.isDefined)(p.start)&&_&&this.control.validationController.moveStartDependTasks(v,w),(0,g.isDefined)(p.end)&&_&&this.control.validationController.moveEndDependTasks(v,S),this.processAutoParentUpdate(v,p,w,S),this.history.endTransaction(),(f==null?void 0:f.option)!==h.ConstraintViolationOption.RemoveDependency&&(f==null?void 0:f.option)!==h.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},a.prototype.processAutoParentUpdate=function(p,y,f,m){var _=(0,g.isDefined)(y.start),v=(0,g.isDefined)(y.end),w=(0,g.isDefined)(y.progress)||_||v,S=_?y.start.getTime()-f.getTime():null,D=v?y.end.getTime()-m.getTime():null,x=_&&t.DateUtils.getTimezoneOffsetDiff(f,y.start)!==0,N=v&&t.DateUtils.getTimezoneOffsetDiff(m,y.end)!==0,A=(x||N)&&Math.abs(D-S)===t.DateUtils.msPerHour;w?S!==0&&(S===D||A)?this.validationController.correctParentsOnChildMoving(p,S):this.validationController.updateParentsIfRequired(p):this.control.updateOwnerInAutoParentMode()},a})(c(9254).TaskCommandBase);u.UpdateTaskCommand=r},299:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ZoomInCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.zoomIn(),!0},i})(g.CommandBase);u.ZoomInCommand=s},2231:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ZoomOutCommand=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.getState=function(){return new h.SimpleCommandState(!0)},i.prototype.execute=function(){return n.prototype.execute.call(this)},i.prototype.executeInternal=function(){return this.control.zoomOut(),!0},i})(g.CommandBase);u.ZoomOutCommand=s},5237:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ConfirmationDialog=void 0;var d=c(655),g=(function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return d.__extends(s,h),s.prototype.applyParameters=function(n,i){return this.history.beginTransaction(),i.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},s.prototype.createParameters=function(n){return n},s.prototype.getDialogName=function(){return"Confirmation"},s})(c(4730).DialogBase);u.ConfirmationDialog=g},126:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ConstraintViolationDialogCommand=void 0;var d=c(655),g=(function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return d.__extends(s,h),s.prototype.applyParameters=function(n,i){return i.callback(n),!0},s.prototype.createParameters=function(n){return n},s.prototype.getDialogName=function(){return"ConstraintViolation"},s})(c(4730).DialogBase);u.ConstraintViolationDialogCommand=g},4730:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DialogBase=void 0;var d=c(655),g=c(9687),h=c(4409),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.isApiCall=!1,t._canRefresh=!0,t}return d.__extends(i,n),i.prototype.execute=function(t,r){return t===void 0&&(t=void 0),r===void 0&&(r=!1),this.isApiCall=r,n.prototype.execute.call(this,t)},i.prototype.executeInternal=function(t){return this.options=t,this.showDialog(t)},Object.defineProperty(i.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),i.prototype.refresh=function(){this.showDialog(this.options)},i.prototype.showDialog=function(t){var r=this,o=this.createParameters(t),a=o.clone();return!!this.onBeforeDialogShow(o)&&(i.activeInstance=this,this.control.showDialog(this.getDialogName(),o,(function(p){p&&(r._canRefresh=!1,r.applyParameters(p,a),r._canRefresh=!0)}),(function(){delete i.activeInstance,r.afterClosing()})),!0)},i.prototype.onBeforeDialogShow=function(t){return!0},i.prototype.applyParameters=function(t,r){return!1},i.prototype.afterClosing=function(){},i.prototype.getState=function(){return new h.SimpleCommandState(this.isEnabled())},i.activeInstance=null,i})(g.CommandBase);u.DialogBase=s},9544:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ConstraintViolationOption=u.ConfirmationType=void 0,(function(c){c[c.TaskDelete=0]="TaskDelete",c[c.DependencyDelete=1]="DependencyDelete",c[c.ResourcesDelete=2]="ResourcesDelete"})(u.ConfirmationType||(u.ConfirmationType={})),(function(c){c[c.DoNothing=0]="DoNothing",c[c.RemoveDependency=1]="RemoveDependency",c[c.KeepDependency=2]="KeepDependency"})(u.ConstraintViolationOption||(u.ConstraintViolationOption={}))},5139:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ConfirmationDialogParameters=void 0;var d=c(655),g=(function(h){function s(n,i){var t=h.call(this)||this;return t.type=n,t.callback=i,t}return d.__extends(s,h),s.prototype.clone=function(){var n=new s(this.type,this.callback);return n.message=this.message,n},s})(c(9705).DialogParametersBase);u.ConfirmationDialogParameters=g},3433:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ConstraintViolationDialogParameters=void 0;var d=c(655),g=(function(h){function s(n,i){var t=h.call(this)||this;return t.validationErrors=n,t.callback=i,t}return d.__extends(s,h),s.prototype.clone=function(){var n=new s(this.validationErrors,this.callback);return n.option=this.option,n},Object.defineProperty(s.prototype,"hasCriticalErrors",{get:function(){var n;return(n=this.validationErrors)===null||n===void 0?void 0:n.some((function(i){return i.critical}))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"errorsCount",{get:function(){var n;return(n=this.validationErrors)===null||n===void 0?void 0:n.length},enumerable:!1,configurable:!0}),s})(c(9705).DialogParametersBase);u.ConstraintViolationDialogParameters=g},9705:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DialogParametersBase=void 0;var c=function(){};u.DialogParametersBase=c},6711:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcesDialogParameters=void 0;var d=c(655),g=c(8828),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.clone=function(){var i=new n;return i.resources=new g.ResourceCollection,i.resources.addRange(this.resources.items),i},n})(c(9705).DialogParametersBase);u.ResourcesDialogParameters=h},1563:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditParameters=void 0;var d=c(655),g=c(8828),h=(function(s){function n(){var i=s!==null&&s.apply(this,arguments)||this;return i.enableEdit=!0,i.enableRangeEdit=!0,i.isValidationRequired=!1,i.hiddenFields=[],i.readOnlyFields=[],i}return d.__extends(n,s),n.prototype.clone=function(){var i=new n;return i.id=this.id,i.title=this.title,i.progress=this.progress,i.start=this.start,i.end=this.end,i.assigned=new g.ResourceCollection,i.assigned.addRange(this.assigned.items),i.resources=new g.ResourceCollection,i.resources.addRange(this.resources.items),i.showResourcesDialogCommand=this.showResourcesDialogCommand,i.showTaskEditDialogCommand=this.showTaskEditDialogCommand,i.enableEdit=this.enableEdit,i.enableRangeEdit=this.enableRangeEdit,i.hiddenFields=this.hiddenFields.slice(),i.readOnlyFields=this.readOnlyFields.slice(),i.isValidationRequired=this.isValidationRequired,i.getCorrectDateRange=this.getCorrectDateRange,i},n})(c(9705).DialogParametersBase);u.TaskEditParameters=h},5477:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcesDialogCommand=void 0;var d=c(655),g=c(8828),h=c(4730),s=c(9544),n=c(5139),i=c(6711),t=(function(r){function o(){var a=r!==null&&r.apply(this,arguments)||this;return a.resourcesForDelete=[],a}return d.__extends(o,r),o.prototype.onBeforeDialogShow=function(a){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(a,(function(p){a.resources=p.values.resources}))},o.prototype.applyParameters=function(a,p){this.history.beginTransaction();for(var y=0;y<a.resources.length;y++)p.resources.getItemById(a.resources.getItem(y).internalId)||this.control.commandManager.createResourceCommand.execute(a.resources.getItem(y).text);for(y=0;y<p.resources.length;y++)a.resources.getItemById(p.resources.getItem(y).internalId)||this.resourcesForDelete.push(p.resources.getItem(y));return this.history.endTransaction(),!1},o.prototype.createParameters=function(a){this.callBack=a;var p=new i.ResourcesDialogParameters;return p.resources=new g.ResourceCollection,p.resources.addRange(this.control.viewModel.resources.items),p},o.prototype.afterClosing=function(){var a=this;if(this.resourcesForDelete.length){var p=this.control.commandManager.showConfirmationDialog,y=new n.ConfirmationDialogParameters(s.ConfirmationType.ResourcesDelete,(function(){a.history.beginTransaction();for(var f=0;f<a.resourcesForDelete.length;f++)a.control.commandManager.removeResourceCommand.execute(a.resourcesForDelete[f].internalId);a.history.endTransaction()}));y.message=this.resourcesForDelete.reduce((function(f,m){return d.__spreadArray(d.__spreadArray([],f,!0),[m.text],!1)}),[]).join(", "),this.callBack&&(p.afterClosing=function(){delete h.DialogBase.activeInstance,a.callBack()}),p.execute(y)}else this.callBack&&this.callBack()},o.prototype.getDialogName=function(){return"Resources"},o})(h.DialogBase);u.ResourcesDialogCommand=t},6152:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditDialogCommand=void 0;var d=c(655),g=c(8828),h=c(1389),s=c(3683),n=c(1493),i=c(4730),t=c(1563),r=c(2491),o=(function(a){function p(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(p,a),p.prototype.onBeforeDialogShow=function(y){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(y,(function(f){var m=f.values;y.start=m.start,y.end=m.end,y.progress=m.progress,y.title=m.title,y.readOnlyFields=f.readOnlyFields,y.hiddenFields=f.hiddenFields}))},p.prototype.applyParameters=function(y,f){var m=this;this.history.beginTransaction();var _=this.getUpdatedTaskData(y,f);Object.keys(_).length>0&&setTimeout((function(){return m.control.commandManager.updateTaskCommand.execute(f.id,_)}),0);for(var v=0;v<y.assigned.length;v++)if(!f.assigned.getItemById(y.assigned.getItem(v).internalId)){var w=y.assigned.getItem(v).internalId,S=f.id,D=new h.ResourceAssigningArguments(w,S);this.modelManipulator.dispatcher.notifyResourceAssigning(D),D.cancel||this.history.addAndRedo(new s.AssignResourceHistoryItem(this.modelManipulator,D.resourceId,D.taskId))}var x=function(A){var E=f.assigned.getItem(A);if(!y.assigned.getItemById(E.internalId)){var H=N.control.viewModel.assignments.items.filter((function(B){return B.resourceId===E.internalId&&B.taskId===f.id}))[0];N.modelManipulator.dispatcher.fireResourceUnassigning(H)&&N.history.addAndRedo(new n.DeassignResourceHistoryItem(N.modelManipulator,H.internalId))}},N=this;for(v=0;v<f.assigned.length;v++)x(v);return this.history.endTransaction(),!1},p.prototype.getUpdatedTaskData=function(y,f){var m={};return(0,r.isDefined)(y.title)&&f.title!==y.title&&(m.title=y.title),(0,r.isDefined)(y.progress)&&f.progress!==y.progress&&(m.progress=y.progress),(0,r.isDefined)(y.start)&&f.start!==y.start&&(m.start=y.start),(0,r.isDefined)(y.end)&&f.end!==y.end&&(m.end=y.end),m},p.prototype.createParameters=function(y){var f=this;y=y||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var m=new t.TaskEditParameters;return m.id=y.internalId,m.title=y.title,m.progress=y.progress,m.start=y.start,m.end=y.end,m.assigned=this.control.viewModel.getAssignedResources(y),m.resources=new g.ResourceCollection,m.resources.addRange(this.control.viewModel.resources.items),m.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,m.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,m.enableEdit=this.isTaskEditEnabled(),m.enableRangeEdit=this.isTaskRangeEditEnabled(y),m.isValidationRequired=this.control.isValidateDependenciesRequired(),m.getCorrectDateRange=function(_,v,w){return f.control.validationController.getCorrectDateRange(_,v,w)},m},p.prototype.isTaskEditEnabled=function(){var y=this.control.settings;return y.editing.enabled&&y.editing.allowTaskUpdate},p.prototype.isTaskRangeEditEnabled=function(y){return!this.control.viewModel.isTaskToCalculateByChildren(y.internalId)},p.prototype.isEnabled=function(){var y=this.control,f=y.viewModel.findItem(y.currentSelectedTaskID);return!!f&&f.selected||this.isApiCall},p.prototype.getState=function(){var y=a.prototype.getState.call(this);return y.visible=y.visible&&!this.control.taskEditController.dependencyId,y},p.prototype.getDialogName=function(){return"TaskEdit"},p})(i.DialogBase);u.TaskEditDialogCommand=o},6893:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttExportCalculator=void 0;var d=c(8900),g=c(6907),h=c(2449),s=c(1855),n=c(4991),i=c(2485),t=c(3917),r=c(405),o=c(6995),a=c(5063),p=c(6032),y=c(8603),f=c(6997),m=c(8935),_=c(6353),v=c(3424),w=c(5763),S=c(7802),D=c(9895),x=c(2642),N=(function(){function A(E,H){var B,K;this._owner=E,this._props=new f.GanttPdfExportProps(H),(B=(K=this._props).margins)!==null&&B!==void 0||(K.margins=new a.Margin(A._defaultPageMargin))}return Object.defineProperty(A.prototype,"chartTableScaleTopMatrix",{get:function(){var E;return(E=this._chartTableScaleTopMatrix)!==null&&E!==void 0||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"chartTableScaleBottomMatrix",{get:function(){var E;return(E=this._chartTableScaleBottomMatrix)!==null&&E!==void 0||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),A.prototype.getPages=function(E){return new v.PdfGanttPaginator(E,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(A.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"taskAreaHelper",{get:function(){var E;return(E=this._taskAreaHelper)!==null&&E!==void 0||(this._taskAreaHelper=new y.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"scalingHelper",{get:function(){var E,H;return(E=this._scalingHelper)!==null&&E!==void 0||(this._scalingHelper=new w.ScalingHelper((H=this._props)===null||H===void 0?void 0:H.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"chartScaleTableStyle",{get:function(){var E;return(E=this._chartScaleTableStyle)!==null&&E!==void 0||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"chartMainTableStyle",{get:function(){var E;return(E=this._chartMainTableStyle)!==null&&E!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"headerTableTop",{get:function(){var E;return(E=this._headerTableTop)!==null&&E!==void 0||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"mainTableTop",{get:function(){var E;return(E=this._mainTableTop)!==null&&E!==void 0||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),A.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(A.prototype,"chartLeft",{get:function(){var E;return(E=this._chartLeft)!==null&&E!==void 0||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),A.prototype.getChartLeft=function(){var E;return((((E=this._props)===null||E===void 0?void 0:E.exportMode)||D.ExportMode.all)===D.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(A.prototype,"treeListLeft",{get:function(){var E;return(E=this._treeListLeft)!==null&&E!==void 0||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"mainTableHeight",{get:function(){var E;return(E=this._mainTableHeight)!==null&&E!==void 0||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"treeListWidth",{get:function(){var E;return(E=this._treeListWidth)!==null&&E!==void 0||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),A.prototype.getTreeListTableWidth=function(){var E,H=this,B=this.treeListHeaderMatrix[0].map((function(K,R){return H.getTreeListColumnWidth(R)}));return(E=B==null?void 0:B.reduce((function(K,R){return K+R}),0))!==null&&E!==void 0?E:0},Object.defineProperty(A.prototype,"chartWidth",{get:function(){var E=this;if(!this._chartWidth){var H=this.chartTableScaleBottomMatrix[0];this._chartWidth=H.reduce((function(B,K){return B+(K.styles.cellWidth.hasValue()?K.styles.cellWidth.getValue():E.baseCellWidth)}),0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new f.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),A.prototype.prepareAutoFormat=function(E){if(E.format===f.GanttPdfExportProps.autoFormatKey){E.format=null;var H=E.landscape,B=this.autoFormatWidth,K=this.autoFormatHeight;(H&&K>B||!H&&K<B)&&(E.landscape=!H),E.pageSize=new _.Size(B,K)}},Object.defineProperty(A.prototype,"autoFormatWidth",{get:function(){var E,H=(((E=this._props)===null||E===void 0?void 0:E.exportMode)||D.ExportMode.all)!==D.ExportMode.treeList,B=this.pageRightMargin;return(B+=H?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+A._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),A.prototype.createGlobalInfo=function(){var E={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(E),E},A.prototype.getTablesInfo=function(){var E={};return this._canExportTreelist()&&(E[m.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),E[m.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(E[m.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),E[m.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),E[m.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),E},Object.defineProperty(A.prototype,"exportMode",{get:function(){var E,H;return(H=(E=this._props)===null||E===void 0?void 0:E.exportMode)!==null&&H!==void 0?H:D.ExportMode.all},enumerable:!1,configurable:!0}),A.prototype._canExportTreelist=function(){return this.exportMode===D.ExportMode.all||this.exportMode===D.ExportMode.treeList},A.prototype._canExportChart=function(){return this.exportMode===D.ExportMode.all||this.exportMode===D.ExportMode.chart},Object.defineProperty(A.prototype,"_predefinedFont",{get:function(){var E,H,B,K,R=(H=(E=this._props)===null||E===void 0?void 0:E.pdfDoc)===null||H===void 0?void 0:H.getFont();return(R==null?void 0:R.fontName)||((K=(B=this._props)===null||B===void 0?void 0:B.font)===null||K===void 0?void 0:K.name)},enumerable:!1,configurable:!0}),A.prototype._createChartScaleTopInfo=function(){return{name:m.PdfPageTableNames.chartScaleTop,size:new _.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new d.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new _.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},A.prototype._createChartScaleBottomInfo=function(){var E=this.taskAreaHelper.headerRowHeight;return{name:m.PdfPageTableNames.chartScaleBottom,size:new _.Size(this.chartWidth,E),position:new d.Point(this.chartLeft,this.headerTableTop+E),style:this.chartScaleTableStyle,baseCellSize:new _.Size(this.baseCellWidth,E),cells:this.chartTableScaleBottomMatrix}},A.prototype.createChartMainTableInfo=function(){return{name:m.PdfPageTableNames.chartMain,size:new _.Size(this.chartWidth,this.mainTableHeight),position:new d.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new _.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},A.prototype.createTreeListHeaderTableInfo=function(){return{name:m.PdfPageTableNames.treeListHeader,size:new _.Size(this.treeListWidth,this.headerTableHeight),position:new d.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new _.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},A.prototype.createTreeListMainTableInfo=function(){return{name:m.PdfPageTableNames.treeListMain,size:new _.Size(this.treeListWidth,this.mainTableHeight),position:new d.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new _.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},A.prototype.calculateChartScaleMatrix=function(E){for(var H=this.taskAreaHelper,B=H.scaleRanges,K=new Array,R=B[E][0],V=B[E][1],j=R;j<=V;j++){var F=this.layoutCalculator.getScaleItemStart(j,H.scales[E]),W=new p.CellDef(this._owner.renderHelper.getScaleItemTextByStart(F,H.scales[E]));W.styles.cellPadding.assign(0),W.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var Y=E===0?H.scaleTopWidths[j]:H.scaleBottomWidths[j];W.styles.cellWidth.assign(Y),K.push(W)}return[K]},A.prototype.calculateChartTableBodyMatrix=function(){var E=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach((function(H){return E._chartTableBodyMatrix.push(E.createChartTableBodyRow(H))})):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},A.prototype.createChartTableBodyRow=function(E){var H=new p.CellDef;return this.rowHasChildren(E)&&H.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map((function(B){var K=new p.CellDef(H);return K.styles.cellWidth.assign(B.styles.cellWidth),K}))},A.prototype.rowHasSelection=function(E){return this._owner.rowHasSelection(E)},A.prototype.rowHasChildren=function(E){return this._owner.rowHasChildren(E)},A.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var E=this._owner,H=E.getTreeListColCount(),B=new Array,K=0;K<H;K++){var R=new p.CellDef(E.getTreeListHeaderInfo(K));R.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,B.push(R)}this._treeListHeaderMatrix.push(B)},A.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},A.prototype.fillTreeListTableBodyMatrix=function(E){for(var H,B=this.visibleTaskIndices,K=this.treeListHeaderMatrix[0].length,R=0;R<B.length;R++){for(var V=new Array,j=B[R],F=(H=this._owner.getTask(j))===null||H===void 0?void 0:H.id,W=0;W<K;W++){var Y=new p.CellDef(this._owner.getTreeListCellInfo(j,W,F));Y.styles.cellWidth.hasValue()||Y.styles.cellWidth.assign(this.getTreeListColumnWidth(W)),this.rowHasChildren(B[R])&&Y.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),V.push(Y)}E.push(V)}},A.prototype.fillTreeListEmptyTableBodyMatrix=function(E){var H=new Array,B=new p.CellDef(this._owner.getTreeListEmptyDataCellInfo());B.styles.cellWidth.assign(this.treeListWidth),B.styles.halign=x.PredefinedStyles.horizontalAlign[1],B.styles.valign=x.PredefinedStyles.verticalAlign[1],H.push(B),E.push(H)},A.prototype.getTreeListColumnWidth=function(E){var H=this.treeListHeaderMatrix[0][E],B=H&&H.styles;return B.cellWidth.getValue()||B.minCellWidth||0},A.prototype.getObjectsLeftOffset=function(E){E===void 0&&(E=!1);var H=this.dataObjectLeftDelta;return E||(H+=this.taskAreaHelper.customRangeLeftOffset),H},Object.defineProperty(A.prototype,"dataObjectLeftDelta",{get:function(){var E;return(E=this._dataObjectLeftDelta)!==null&&E!==void 0||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"dataObjectTopDelta",{get:function(){var E;return(E=this._dataObjectTopDelta)!==null&&E!==void 0||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),A.prototype.getChartScaleTableStyle=function(){var E=new o.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(E.font=this._predefinedFont),E},A.prototype.getChartMainTableStyle=function(){var E=new o.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(E.font=this._predefinedFont),E},A.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new o.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},A.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(A.prototype,"tasksInfo",{get:function(){var E;return(E=this._tasksInfo)!==null&&E!==void 0||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"dependenciesInfo",{get:function(){var E;return(E=this._dependenciesInfo)!==null&&E!==void 0||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"resourcesInfo",{get:function(){var E;return(E=this._resourcesInfo)!==null&&E!==void 0||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"timeMarkersInfo",{get:function(){var E;return(E=this._timeMarkersInfo)!==null&&E!==void 0||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),A.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},A.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},A.prototype.calculateTasksInfo=function(){var E=this,H=new Array;return this.visibleTaskIndices.forEach((function(B){return H.push(E.calculateTaskInfo(B))})),H},A.prototype.calculateTaskInfo=function(E){var H=new t.PdfTaskInfo,B=this.layoutCalculator.getTaskElementInfo(E);return H.taskColor=this.getTaskColor(E),H.sidePoints=this.getTaskSidePoints(E),H.isMilestone=B.className.indexOf(s.GridLayoutCalculator.milestoneClassName)>0,H.isMilestone||(H.isSmallTask=B.className.indexOf(s.GridLayoutCalculator.smallTaskClassName)>0,H.isParent=B.className.indexOf(s.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(H,E),this.appendTaskProgress(H,E)),H},A.prototype.appendTaskTitle=function(E,H){var B=this._owner.settings.taskTitlePosition;E.isSmallTask&&B!==h.TaskTitlePosition.Outside||B===h.TaskTitlePosition.None||(E.text=this._owner.getTaskText(H),E.textPosition=B,E.textStyle=this.getTaskTextStyle(H))},A.prototype.appendTaskProgress=function(E,H){var B=this.layoutCalculator.getTaskProgressElementInfo(H);E.progressWidth=B.size.width,E.progressColor=this.getTaskProgressColor(H),E.progressColor.applyOpacityToBackground(E.taskColor)},A.prototype.getTaskSidePoints=function(E){var H=this,B=this.layoutCalculator.getTaskSidePoints(E);return B.forEach((function(K){K.x+=H.getObjectsLeftOffset(!0),K.y+=H.dataObjectTopDelta})),B},A.prototype.getTaskColor=function(E){var H=this.taskAreaHelper.getTaskElementBackColor(E,s.GridLayoutCalculator.taskClassName);return new r.Color(H)},A.prototype.getTaskProgressColor=function(E){return new r.Color(this.taskAreaHelper.getTaskElementBackColor(E,s.GridLayoutCalculator.taskProgressClassName))},A.prototype.getTaskTextStyle=function(E){var H=new o.StyleDef;return H.cellPadding.assign(0),H.assign(this.taskAreaHelper.getTaskElementStyle(E,s.GridLayoutCalculator.taskTitleClassName)),H},A.prototype.calculateDependenciesInfo=function(){var E=this,H=new Array,B=this.taskAreaHelper,K=new r.Color(B.dependencyColor);return B.connectorLines.forEach((function(R){return H.push(E.createLineInfo(R,K,B.arrowWidth))})),H},A.prototype.createLineInfo=function(E,H,B){var K=new n.PdfDependencyLineInfo;if(K.fillColor=H,E.className.indexOf(s.GridLayoutCalculator.arrowClassName)>-1){var R=this.layoutCalculator.getArrowPositionByClassName(E.className);K.arrowInfo={position:R,width:B},K.points=[this.getArrowTopCorner(E,R,B)]}else K.points=this.getLinePoints(E);return K},A.prototype.getArrowTopCorner=function(E,H,B){var K=E.position.x+this.getObjectsLeftOffset(),R=E.position.y+this.dataObjectTopDelta;switch(H){case h.Position.Left:K+=B;break;case h.Position.Top:R+=B}return new d.Point(K,R)},A.prototype.getLinePoints=function(E){var H=E.position.x+this.getObjectsLeftOffset(),B=E.position.y+this.dataObjectTopDelta,K=H+E.size.width,R=B+E.size.height;return[new d.Point(H,B),new d.Point(K,R)]},A.prototype.calculateResourcesInfo=function(){var E=this,H=new Array;return this.taskAreaHelper.resourcesElements.forEach((function(B){return H=H.concat(E.calculateResourcesInLine(B))})),H},A.prototype.calculateResourcesInLine=function(E){var H=new Array;if(E)for(var B=g.DomUtils.pxToInt(E.style.left)+this.getObjectsLeftOffset(),K=g.DomUtils.pxToInt(E.style.top)+this.dataObjectTopDelta,R=E.getElementsByClassName(s.GridLayoutCalculator.taskResourceClassName),V=0;V<R.length;V++){var j=R[V];if(this.taskAreaHelper.isElementVisible(j)){var F=getComputedStyle(j);B+=this.getMargin(F).left,H.push(new i.PdfTaskResourcesInfo(j.textContent,new o.StyleDef(F),B,K)),B+=g.DomUtils.pxToInt(F.width)}}return H},A.prototype.calculateTimeMarkersInfoInfo=function(){var E=this,H=new Array;return this.taskAreaHelper.stripLinesElements.forEach((function(B){return H.push(E.createTimeMarkerInfo(B,!0))})),this.taskAreaHelper.noWorkingIntervalsElements.forEach((function(B){return H.push(E.createTimeMarkerInfo(B,!1))})),H},A.prototype.createTimeMarkerInfo=function(E,H){var B=getComputedStyle(E),K=g.DomUtils.pxToInt(B.left)+this.getObjectsLeftOffset(),R=g.DomUtils.pxToInt(B.top)+this.dataObjectTopDelta,V=g.DomUtils.pxToInt(B.width),j=g.DomUtils.pxToInt(B.height);return new S.PdfTimeMarkerInfo(new d.Point(K,R),new _.Size(V,j),new r.Color(B.backgroundColor),new r.Color(B.borderLeftColor),H)},A.prototype.getMargin=function(E){var H=new a.Margin(0);if(E){var B=E.margin;B||(B+=E.marginTop||"0",B+=" "+E.marginRight||0,B+=" "+E.marginBottom||0,B+=" "+E.marginLeft||0),H.assign(B)}return H},A._defaultPageMargin=10,A._autoFormatWidthAddStock=1,A})();u.GanttExportCalculator=N},4991:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfDependencyLineInfo=void 0;var d=c(8900),g=c(405),h=(function(){function s(){}return s.prototype.assign=function(n){var i;this._copyPoints(n.points),this.arrowInfo=n.arrowInfo,(i=this.fillColor)!==null&&i!==void 0||(this.fillColor=new g.Color),this.fillColor.assign(n.fillColor)},s.prototype._copyPoints=function(n){var i=this;this.points=new Array,n==null||n.forEach((function(t){return i.points.push(new d.Point(t.x,t.y))}))},s})();u.PdfDependencyLineInfo=h},266:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfObjectDrawer=void 0;var d=c(2449),g=c(817),h=c(3917),s=(function(){function n(i,t){this._FONT_ROW_RATIO=1.15,this._info=t,this._pdfDoc=i}return n.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},n.prototype.drawTasks=function(){var i,t=this,r=(i=this._info)===null||i===void 0?void 0:i.tasks;r&&r.forEach((function(o){return t.drawTask(o)}))},n.prototype.drawTask=function(i){var t=this._pdfDoc;t.setFillColor.apply(t,i.taskColor.getRBGColor()),t.setDrawColor.apply(t,i.taskColor.getRBGColor()),i.isMilestone?this.drawMilestone(i):this.drawRegularTask(i)},n.prototype.drawMilestone=function(i){var t=this._pdfDoc,r=i.sidePoints[0].x,o=i.sidePoints[0].y,a=i.sidePoints[1].x,p=i.sidePoints[1].y,y=i.sidePoints[2].x,f=i.sidePoints[2].y,m=i.sidePoints[3].x,_=i.sidePoints[3].y;t.triangle(r,o,a,p,y,f,"FD"),t.triangle(r,o,m,_,y,f,"FD")},n.prototype.drawRegularTask=function(i){var t=this._pdfDoc;t.rect(i.left,i.top,i.width,i.height,"FD"),i.isParent&&this.drawParentBorder(i),i.progressWidth&&(t.setFillColor.apply(t,i.progressColor.getRBGColor()),t.rect(i.left,i.top,i.progressWidth,i.height,"F")),i.text&&this.printTaskTitle(i)},n.prototype.drawParentBorder=function(i){var t=this._pdfDoc,r=i.sidePoints[0].x,o=i.sidePoints[1].y,a=i.sidePoints[3].y,p=i.sidePoints[2].x,y=i.sidePoints[3].y-i.sidePoints[1].y,f=i.progressWidth>y?i.progressColor.getRBGColor():i.taskColor.getRBGColor();t.setFillColor.apply(t,f),t.triangle(r,o,r,a,r+y,o,"FD"),t.setFillColor.apply(t,i.taskColor.getRBGColor()),t.triangle(p,o,p,a,p-y,o,"FD")},n.prototype.printTaskTitle=function(i){var t,r=this._pdfDoc,o=i.textStyle,a=o&&o.textColor.getRBGColor(),p=o&&o.fontSize;r.setTextColor.apply(r,a),r.setFontSize(p);var y=i.top+p*this._FONT_ROW_RATIO/r.internal.scaleFactor;i.isParent&&(y-=h.PdfTaskInfo.defaultParentHeightCorrection);var f=o&&o.cellPadding.left||0,m=o&&o.cellPadding.right||0;if(i.textPosition===d.TaskTitlePosition.Inside){var _=i.width-f-m;t=i.left+f,r.text(g.EllipsisHelper.limitPdfTextWithEllipsis(i.text,r,_),t,y)}else t=i.left-m,r.text(i.text,t,y,{align:"right"})},n.prototype.drawDependencies=function(){var i,t=this,r=(i=this._info)===null||i===void 0?void 0:i.dependencies;r&&r.forEach((function(o){return t.drawDependencyLine(o)}))},n.prototype.drawDependencyLine=function(i){var t,r;if((t=this._pdfDoc).setFillColor.apply(t,i.fillColor.getRBGColor()),(r=this._pdfDoc).setDrawColor.apply(r,i.fillColor.getRBGColor()),i.arrowInfo)this.drawArrow(i);else{var o=i.points;this._pdfDoc.line(o[0].x,o[0].y,o[1].x,o[1].y)}},n.prototype.isValidLine=function(i){var t=i.points;return!(isNaN(t[0].x)||isNaN(t[0].y)||isNaN(t[1].x)||isNaN(t[1].y))},n.prototype.drawArrow=function(i){var t=i.arrowInfo.width||0,r=i.points[0].x,o=i.points[0].y;switch(i.arrowInfo.position){case d.Position.Left:this._pdfDoc.triangle(r,o+t,r+t,o,r+t,o+2*t,"FD");break;case d.Position.Right:this._pdfDoc.triangle(r,o,r,o+2*t,r+t,o+t,"FD");break;case d.Position.Top:this._pdfDoc.triangle(r,o+t,r+t,o,r+2*t,o+t,"FD");break;case d.Position.Bottom:this._pdfDoc.triangle(r,o,r+t,o+t,r+2*t,o,"FD")}},n.prototype.drawResources=function(){var i,t=this,r=this._pdfDoc,o=(i=this._info)===null||i===void 0?void 0:i.resources;o&&o.forEach((function(a){var p,y,f;r.setFontSize((p=a.style.fontSize)!==null&&p!==void 0?p:11);var m=a.y+a.style.fontSize*t._FONT_ROW_RATIO/r.internal.scaleFactor,_=(y=a.style.cellPadding.left)!==null&&y!==void 0?y:0,v=(f=a.style.cellPadding.right)!==null&&f!==void 0?f:1,w=Math.max(a.style.cellWidth.getValue(),_+r.getTextWidth(a.text)+v);r.setFillColor.apply(r,a.style.fillColor.getRBGColor()),r.rect(a.x,a.y,w,a.style.minCellHeight,"F"),r.setTextColor.apply(r,a.style.textColor.getRBGColor()),r.text(a.text,a.x+_,m)}))},n.prototype.drawTimeMarkers=function(){var i,t=this,r=(i=this._info)===null||i===void 0?void 0:i.timeMarkers;r==null||r.forEach((function(o){return t.drawTimeMarker(o)}))},n.prototype.drawTimeMarker=function(i){var t,r,o=this._pdfDoc,a=i.size.width>1,p=i.start.x,y=i.start.y,f=i.size.width,m=i.size.height,_=i.isStripLine;a&&(o.setFillColor.apply(o,i.color.getRBGColor()),o.saveGraphicsState(),o.setGState(new o.GState({opacity:(r=i.color.opacity)!==null&&r!==void 0?r:1})),o.rect(p,y,f,m,"F"),o.restoreGraphicsState()),_&&(this._pdfDoc.setLineDashPattern([3]),(t=this._pdfDoc).setDrawColor.apply(t,i.lineColor.getRBGColor()),a&&this._pdfDoc.line(p+f,y,p+f,y+m,"S"),this._pdfDoc.line(p,y,p,y+m,"S"),this._pdfDoc.setLineDashPattern())},n})();u.PdfObjectDrawer=s},3917:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfTaskInfo=void 0;var d=c(8900),g=c(405),h=c(6995),s=(function(){function n(){}return Object.defineProperty(n.prototype,"left",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){var i;return((i=this.sidePoints)===null||i===void 0?void 0:i.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){var i=this.bottom-this.top;return this.isParent&&(i-=n.defaultParentHeightCorrection),i},enumerable:!1,configurable:!0}),n.prototype.assign=function(i){var t,r,o;this.isMilestone=i.isMilestone,this._copyPoints(i.sidePoints),this.progressWidth=i.progressWidth,this.isSmallTask=i.isSmallTask,this.text=i.text,this.textPosition=i.textPosition,(t=this.progressColor)!==null&&t!==void 0||(this.progressColor=new g.Color),this.progressColor.assign(i.progressColor),(r=this.taskColor)!==null&&r!==void 0||(this.taskColor=new g.Color),this.taskColor.assign(i.taskColor),(o=this.textStyle)!==null&&o!==void 0||(this.textStyle=new h.StyleDef),this.textStyle.assign(i.textStyle),this.isParent=i.isParent},n.prototype._copyPoints=function(i){var t=this;this.sidePoints=new Array,i==null||i.forEach((function(r){return t.sidePoints.push(new d.Point(r.x,r.y))}))},n.defaultParentHeightCorrection=4,n})();u.PdfTaskInfo=s},2485:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfTaskResourcesInfo=void 0;var d=c(2491),g=c(6995),h=(function(){function s(n,i,t,r){n&&(this.text=n),i&&(this.style=new g.StyleDef(i)),(0,d.isDefined)(t)&&(this.x=t),(0,d.isDefined)(r)&&(this.y=r)}return s.prototype.assign=function(n){this.text=n.text,this.style=new g.StyleDef(n.style),this.x=n.x,this.y=n.y},s})();u.PdfTaskResourcesInfo=h},7802:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfTimeMarkerInfo=void 0;var d=c(8900),g=c(6353),h=c(2491),s=c(405),n=(function(){function i(t,r,o,a,p){this.lineColor=new s.Color,this.color=new s.Color,t&&(this.start=new d.Point(t.x,t.y)),r&&(this.size=new g.Size(r.width,r.height)),o&&this.color.assign(o),a&&this.lineColor.assign(a),(0,h.isDefined)(p)&&(this.isStripLine=p)}return i.prototype.assign=function(t){var r,o,a,p;t&&(this.start=new d.Point((r=t.start)===null||r===void 0?void 0:r.x,(o=t.start)===null||o===void 0?void 0:o.y),this.size=new g.Size((a=t.size)===null||a===void 0?void 0:a.width,(p=t.size)===null||p===void 0?void 0:p.height),this.isStripLine=t.isStripLine,this.color.assign(t.color),this.lineColor.assign(t.lineColor))},i})();u.PdfTimeMarkerInfo=n},2978:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttExporter=void 0;var d=c(4970),g=(function(){function h(s){if(!s.settings.pdfDoc&&!s.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=s}return h.prototype.export=function(){var s,n,i=this.pdfDoc;this.applyCustomFont();for(var t=this._info,r=new d.PdfGanttPageDrawer(i,t.settings),o=t.getPages(i),a=o.length,p=0;p<a;p++){p>0&&i.addPage(this.getDocumentFormat(),this.getOrientation());var y=o[p];r.drawPage(y)}return!((s=this.props)===null||s===void 0)&&s.fileName&&i.save((n=this.props)===null||n===void 0?void 0:n.fileName),i},Object.defineProperty(h.prototype,"pdfDoc",{get:function(){var s,n;return(s=this._pdfDoc)!==null&&s!==void 0||(this._pdfDoc=(n=this._info.settings.pdfDoc)!==null&&n!==void 0?n:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),h.prototype.createDoc=function(){var s=this.getJsPDFProps();return this._info.settings.docCreateMethod(s)},h.prototype.getJsPDFProps=function(){var s={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return s.orientation=this.getOrientation(),s.format=this.getDocumentFormat(),s},h.prototype.getOrientation=function(){var s;return!((s=this.props)===null||s===void 0)&&s.landscape?"l":"p"},h.prototype.getDocumentFormat=function(){var s,n,i,t;return!((s=this.props)===null||s===void 0)&&s.format||!((n=this.props)===null||n===void 0)&&n.pageSize?!((i=this.props)===null||i===void 0)&&i.pageSize?[this.props.pageSize.height,this.props.pageSize.width]:(t=this.props)===null||t===void 0?void 0:t.format:"a4"},h.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},h})();u.PdfGanttExporter=g},8935:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfPageTableNames=void 0;var c=(function(){function d(){}return d.treeListHeader="treeListHeader",d.treeListMain="treeListMain",d.chartMain="chartMain",d.chartScaleTop="chartScaleTop",d.chartScaleBottom="chartScaleBottom",d})();u.PdfPageTableNames=c},4970:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttPageDrawer=void 0;var d=c(8900),g=c(266),h=c(8935),s=c(9895),n=c(5510),i=(function(){function t(r,o){this._pdfDoc=r,this._props=o}return t.prototype.drawPage=function(r){var o=this._pdfDoc,a=new n.PdfGanttTableDrawer(o);return this.needDrawChart()&&(a.drawTable(r.tables[h.PdfPageTableNames.chartMain]),new g.PdfObjectDrawer(o,r.objects).draw(),a.drawTable(r.tables[h.PdfPageTableNames.chartScaleTop]),a.drawTable(r.tables[h.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(a.drawTable(r.tables[h.PdfPageTableNames.treeListMain]),a.drawTable(r.tables[h.PdfPageTableNames.treeListHeader])),this.drawMargins(r),o},t.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.chart},t.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.treeList},t.prototype.getContentRightBottom=function(r){var o=new d.Point(0,0);for(var a in r.tables)if(Object.prototype.hasOwnProperty.call(r.tables,a)){var p=r.tables[a];o.x=Math.max(o.x,p.position.x+p.size.width),o.y=Math.max(o.y,p.position.y+p.size.height)}return o},t.prototype.drawMargins=function(r){var o=this._pdfDoc,a=this._props,p=o.getPageWidth(),y=o.getPageHeight(),f=this.getContentRightBottom(r);o.setFillColor(255,255,255),o.rect(0,0,a.margins.left,y,"F"),o.rect(0,0,p,a.margins.top,"F"),o.rect(f.x,0,p,y,"F"),o.rect(0,f.y,p,y,"F")},t})();u.PdfGanttPageDrawer=i},4429:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PageNavigation=void 0;var c=(function(){function d(g,h,s,n,i,t){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=g==null?void 0:g.top,this._left=g==null?void 0:g.left,this._bottom=g==null?void 0:g.bottom,this._right=g==null?void 0:g.right,this.vIndex=h??this.vIndex,this.hIndex=s??this.hIndex,this.pageX=n??this.pageX,this.pageY=i??this.pageY,t&&(this._correctedBottoms=t)}return d.prototype.offset=function(g,h){g&&this.offsetOneD(g),h&&this.offsetOneD(h,!0)},d.prototype.offsetOneD=function(g,h){for(var s=g,n=this.getSpaceToBorder(h);n<s;)h?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),s-=n,n=this.getSpaceToBorder(h);h?this.pageY+=s:this.pageX+=s},Object.defineProperty(d.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),d.prototype.getPageEnd=function(g){return g?this.getCurrentPageBottom():this._right},d.prototype.getPageStart=function(g){return g?this._top:this._left},d.prototype.getPageSize=function(g,h){return g?this.getPageHeight(h):this.defaultPageWidth},d.prototype.getSpaceToBorder=function(g){return g?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},d.prototype.getPageGlobalOffset=function(g,h){if(!h)return g*this.defaultPageWidth;for(var s=0,n=1;n<=g;n++)s+=this.getPageHeight(n-1);return s},d.prototype.assign=function(g){this._top=g._top,this._left=g._left,this._bottom=g._bottom,this._right=g._right,this._correctedBottoms=g._correctedBottoms,this.vIndex=g.vIndex,this.hIndex=g.hIndex,this.pageX=g.pageX,this.pageY=g.pageY},d.createFrom=function(g){var h=new d;return h.assign(g),h},d.prototype.clone=function(){var g=new d;return g.assign(this),g},d.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},d.prototype.getPageBottom=function(g){var h;return(h=this._correctedBottoms[g])!==null&&h!==void 0?h:this._bottom},d.prototype.getPageHeight=function(g){return this.getPageBottom(g)-this._top},d})();u.PageNavigation=c},3424:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttPaginator=void 0;var d=c(8900),g=c(6353),h=c(4991),s=c(3917),n=c(2485),i=c(7802),t=c(8935),r=c(6032),o=c(4429),a=function(f,m,_,v,w){this.pageVerIndex=m,this.pageHorIndex=f,this.cellRowIndexOnPage=_,this.cellColIndexOnPage=v,this.cell=w},p=(function(){function f(m,_,v,w){this.pageIndex=m,this.globalCellIndex=_,this.pageOffset=v,this.cutSize=w}return Object.defineProperty(f.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),f})(),y=(function(){function f(m,_,v){this._pdfDoc=m,this._props=_,this._globalInfo=v}return f.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},f.prototype._paginateTables=function(){this._paginateTable(t.PdfPageTableNames.treeListHeader),this._paginateTable(t.PdfPageTableNames.treeListMain),this._paginateTable(t.PdfPageTableNames.chartScaleBottom),this._paginateTable(t.PdfPageTableNames.chartScaleTop),this._paginateTable(t.PdfPageTableNames.chartMain)},f.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(f.prototype,"pageMatrixToArray",{get:function(){var m,_=new Array;return(m=this._pages)===null||m===void 0||m.forEach((function(v){_=_.concat(v)})),_},enumerable:!1,configurable:!0}),f.prototype._paginateTasks=function(){var m,_,v=this;(_=(m=this._globalInfo.objects)===null||m===void 0?void 0:m.tasks)===null||_===void 0||_.forEach((function(w){return v._paginateTask(w)}))},f.prototype._paginateDependencies=function(){var m,_,v=this;(_=(m=this._globalInfo.objects)===null||m===void 0?void 0:m.dependencies)===null||_===void 0||_.forEach((function(w){w.arrowInfo?v._paginateArrow(w):v._paginateDependencyLine(w)}))},f.prototype._paginateResources=function(){var m,_,v=this;(_=(m=this._globalInfo.objects)===null||m===void 0?void 0:m.resources)===null||_===void 0||_.forEach((function(w){return v._paginateResource(w)}))},f.prototype._paginateTimeMarkers=function(){var m,_,v=this;(_=(m=this._globalInfo.objects)===null||m===void 0?void 0:m.timeMarkers)===null||_===void 0||_.forEach((function(w){return v._paginateTimeMarker(w)}))},f.prototype._paginateTable=function(m){var _,v=(_=this._globalInfo)===null||_===void 0?void 0:_.tables[m];if(v){for(var w=this._getTableStart(v),S=this._preparePagesNavigationMatrixForTable(w,v),D=S.length,x=0;x<D;x++)for(var N=S[x].length,A=0;A<N;A++){var E=S[x][A],H=this._getPage(E.pageVerIndex,E.pageHorIndex,!0),B=E.pageHorIndex===w.hIndex?w.pageX:this.pageLeft,K=E.pageVerIndex===w.vIndex?w.pageY:this.pageTop;this._setTablePositionOnPage(H,m,B,K),this._addCellToPage(H,m,E)}this._updateTableSizeOnPages(m)}},f.prototype._paginateTask=function(m){for(var _=this._getTaskPagination(m),v=this._getTaskPagination(m,!0),w=0;w<v.length;w++)for(var S=0;S<_.length;S++){var D=new s.PdfTaskInfo;D.assign(m),this._offsetPoints(D.sidePoints,_[S].offset,v[w].offset),this._addTaskToPage(v[w].pageIndex,_[S].pageIndex,D)}},f.prototype._paginateArrow=function(m){var _=this._getPointPageInfo(m.points[0]),v=new h.PdfDependencyLineInfo;v.assign(m),this._offsetPoints(v.points,_.offsetX,_.offsetY),this._addDependencyToPage(_.pageVerIndex,_.pageHorIndex,v)},f.prototype._paginateDependencyLine=function(m){for(var _=this._getDependencyLinePagination(m),v=this._getDependencyLinePagination(m,!0),w=0;w<v.length;w++)for(var S=0;S<_.length;S++){var D=new h.PdfDependencyLineInfo;D.assign(m),this._offsetPoints(D.points,_[S].offset,v[w].offset),this._addDependencyToPage(v[w].pageIndex,_[S].pageIndex,D)}},f.prototype._paginateResource=function(m){var _=this._getPointPageInfo(new d.Point(m.x,m.y)),v=new n.PdfTaskResourcesInfo;v.assign(m),v.x-=_.offsetX,v.y-=_.offsetY,this._addResourceToPage(_.pageVerIndex,_.pageHorIndex,v)},f.prototype._paginateTimeMarker=function(m){for(var _=this._getTimeMarkerPagination(m),v=this._getTimeMarkerPagination(m,!0),w=0;w<v.length;w++)for(var S=0;S<_.length;S++){var D=new i.PdfTimeMarkerInfo;D.assign(m),D.start.x-=_[S].offset,D.start.y-=v[w].offset,this._addTimeMarkerToPage(v[w].pageIndex,_[S].pageIndex,D)}},f.prototype._getTableStart=function(m){var _=new o.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return _.offset(m.position.x,m.position.y),_},f.prototype._getPage=function(m,_,v){return v&&this._extendPageMatrixIfRequired(m,_),this._pages[m]&&this._pages[m][_]},f.prototype._getTableOrCreate=function(m,_){var v,w;return(v=(w=m.tables)[_])!==null&&v!==void 0||(w[_]=this._createTable(_)),m.tables[_]},f.prototype._preparePagesNavigationMatrixForTable=function(m,_){for(var v=new Array,w=this._getTableNavigationVector(m,_,!0),S=w.length,D=0;D<S;D++){for(var x=new Array,N=w[D],A=this._getTableNavigationVector(m,_,!1,N.globalCellIndex),E=A.length,H=0;H<E;H++){var B=A[H],K=_.name===t.PdfPageTableNames.chartScaleTop,R=this._prepareCuttedCell(_.cells[N.globalCellIndex][B.globalCellIndex],B,N,K),V=new a(B.pageIndex,N.pageIndex,N.cellIndexOnPage,B.cellIndexOnPage,R);x.push(V)}v.push(x)}return v},f.prototype._setTablePositionOnPage=function(m,_,v,w){this._getTableOrCreate(m,_).position=new d.Point(v,w)},f.prototype._extendPageMatrixIfRequired=function(m,_){var v;(v=this._pages)!==null&&v!==void 0||(this._pages=new Array);for(var w=this._pages.length;w<=m;w++)this._pages.push(new Array);var S=this._pages[m];for(w=S.length;w<=_;w++)S.push(this._createPage())},f.prototype._getTableAndExtendIfRequired=function(m,_,v,w){for(var S=this._getTableOrCreate(m,_),D=S.cells,x=D.length;x<=v;x++)D.push(new Array);var N=D[v];for(x=N.length;x<=w;x++)N.push(new r.CellDef);return S},f.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},f.prototype._createTable=function(m){var _,v=(_=this._globalInfo)===null||_===void 0?void 0:_.tables[m];return{name:m,size:null,position:null,style:v.style,baseCellSize:v.baseCellSize,cells:new Array,hideRowLines:v.hideRowLines}},f.prototype._addCellToPage=function(m,_,v){var w=v.cellRowIndexOnPage,S=v.cellColIndexOnPage;this._getTableAndExtendIfRequired(m,_,w,S).cells[w][S].assign(v.cell)},f.prototype._updateTableSizeOnPages=function(m){for(var _,v=(_=this._pages[0])===null||_===void 0?void 0:_.length,w=this._pages.length,S=0;S<w;S++)for(var D=0;D<v;D++)this._updateTableSizeOnPage(this._pages[S][D],m)},f.prototype._updateTableSizeOnPage=function(m,_){var v,w=this,S=m==null?void 0:m.tables[_];if(S){var D=S.cells.length*S.baseCellSize.height||0,x=((v=S.cells[0])===null||v===void 0?void 0:v.reduce((function(N,A,E){return N+w._getCellWidth(S,0,E)}),0))||0;S.size=new g.Size(x,D)}},f.prototype._getTableNavigationVector=function(m,_,v,w){var S,D;v===void 0&&(v=!1),w===void 0&&(w=0);for(var x=new Array,N=o.PageNavigation.createFrom(m),A=v?(S=_.cells)===null||S===void 0?void 0:S.length:(D=_.cells[w])===null||D===void 0?void 0:D.length,E=0;E<A;E++){var H=v?_.baseCellSize.height:this._getCellWidth(_,w,E);this._placeCell(x,N,E,H,v)}return x},f.prototype._placeCell=function(m,_,v,w,S){var D,x,N=S?_.vIndex:_.hIndex,A=(x=(D=m[m.length-1])===null||D===void 0?void 0:D.pageOffset)!==null&&x!==void 0?x:v,E=w,H=_.getSpaceToBorder(S);_.offsetOneD(w,S);var B=S?_.vIndex:_.hIndex;if(!S)for(var K=N;K<B;K++){var R=new p(K,v,A,H);A=v,m.push(R),E-=H,H=_.getPageSize(S)}B!==N&&(A=v);var V=new p(B,v,A,E!==w?E:null);m.push(V)},f.prototype._prepareCuttedCell=function(m,_,v,w){var S=new r.CellDef(m);if(_.isCutted){var D=_.cutSize;if(!w){var x=S.content,N=m.styles,A=D-(N&&N.cellPadding.left||0)-(N&&N.cellPadding.right||0),E=this._pdfDoc.splitTextToSize(x,A);m.content=x.replace(E[0],""),S.content=E[0]}S.styles.cellWidth.assign(D)}return v.isCutted&&(S.styles.minCellHeight=v.cutSize),S},f.prototype._getCellWidth=function(m,_,v){var w,S=m.cells[_][v],D=S.styles,x=D.cellWidth.getValue(),N=x??D.minCellWidth;return N??m.baseCellSize.width*((w=S.colSpan)!==null&&w!==void 0?w:1)},f.prototype._getTaskPagination=function(m,_){var v=_?m.height:m.width,w=_?m.top:m.left;return this._getLinePagination(w,v,_)},f.prototype._getDependencyLinePagination=function(m,_){var v=m.points[0],w=m.points[1],S=_?w.y-v.y:w.x-v.x,D=_?v.y:v.x;return this._getLinePagination(D,S,_)},f.prototype._getTimeMarkerPagination=function(m,_){var v=_?m.size.height:m.size.width,w=_?m.start.y:m.start.x;return this._getLinePagination(w,v,_)},f.prototype._getLinePagination=function(m,_,v){var w=new Array,S=this.pageNavigator.clone();S.offsetOneD(m,v);var D=v?S.vIndex:S.hIndex;S.offsetOneD(_,v);for(var x=v?S.vIndex:S.hIndex,N=D;N<=x;N++)w.push({offset:S.getPageGlobalOffset(N,v),pageIndex:N});return w},f.prototype._getPointPageInfo=function(m){var _=this.pageNavigator.clone();return _.offset(m.x,m.y),{offsetX:_.getPageGlobalOffset(_.hIndex),offsetY:_.getPageGlobalOffset(_.vIndex,!0),pageHorIndex:_.hIndex,pageVerIndex:_.vIndex}},Object.defineProperty(f.prototype,"pageWidth",{get:function(){var m;return(m=this._pdfDoc)===null||m===void 0?void 0:m.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageHeight",{get:function(){var m;return(m=this._pdfDoc)===null||m===void 0?void 0:m.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageLeftMargin",{get:function(){var m;return(m=this._props)===null||m===void 0?void 0:m.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageTopMargin",{get:function(){var m;return(m=this._props)===null||m===void 0?void 0:m.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageRightMargin",{get:function(){var m;return(m=this._props)===null||m===void 0?void 0:m.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageBottomMargin",{get:function(){var m;return(m=this._props)===null||m===void 0?void 0:m.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageLeft",{get:function(){var m;return(m=this._pageLeft)!==null&&m!==void 0||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageRight",{get:function(){var m;return(m=this._pageRight)!==null&&m!==void 0||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageTop",{get:function(){var m;return(m=this._pageTop)!==null&&m!==void 0||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageBottom",{get:function(){var m;return(m=this._pageBottom)!==null&&m!==void 0||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"correctedPageBottoms",{get:function(){var m;return(m=this._correctedPageBottoms)!==null&&m!==void 0||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pageNavigator",{get:function(){var m;return(m=this._pageNavigator)!==null&&m!==void 0||(this._pageNavigator=new o.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),f.prototype._getCorrectedPagesBottom=function(){var m,_,v,w,S=new Array,D=(m=this._globalInfo)===null||m===void 0?void 0:m.tables,x=(_=D[t.PdfPageTableNames.treeListMain])!==null&&_!==void 0?_:D[t.PdfPageTableNames.chartMain],N=new o.PageNavigation(this.pageBorders);N.pageY=x.position.y;for(var A=0;A<x.cells.length;A++){var E=(w=(v=x.cells[A][0].styles)===null||v===void 0?void 0:v.minCellHeight)!==null&&w!==void 0?w:x.baseCellSize.height,H=N.vIndex,B=N.pageY;N.offsetOneD(E,!0),H!==N.vIndex&&(S.push(B),N.pageY=N.getPageStart(!0)+E)}return S},f.prototype._addTaskToPage=function(m,_,v){var w,S,D=this._getPage(m,_);D&&((w=(S=D.objects).tasks)!==null&&w!==void 0||(S.tasks=new Array),D.objects.tasks.push(v))},f.prototype._addDependencyToPage=function(m,_,v){var w,S,D=this._getPage(m,_);D&&((w=(S=D.objects).dependencies)!==null&&w!==void 0||(S.dependencies=new Array),D.objects.dependencies.push(v))},f.prototype._addResourceToPage=function(m,_,v){var w,S,D=this._getPage(m,_);D&&((w=(S=D.objects).resources)!==null&&w!==void 0||(S.resources=new Array),D.objects.resources.push(v))},f.prototype._addTimeMarkerToPage=function(m,_,v){var w,S,D=this._getPage(m,_);D&&((w=(S=D.objects).timeMarkers)!==null&&w!==void 0||(S.timeMarkers=new Array),D.objects.timeMarkers.push(v))},f.prototype._offsetPoints=function(m,_,v){m.forEach((function(w){w.x-=_,w.y-=v}))},f})();u.PdfGanttPaginator=y},5763:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ScalingHelper=void 0;var d=c(8935),g=(function(){function h(s){this._doc=s}return Object.defineProperty(h.prototype,"_docScaleFactor",{get:function(){var s,n;return(n=(s=this._doc)===null||s===void 0?void 0:s.internal)===null||n===void 0?void 0:n.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-h._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),h.prototype.getScaledSize=function(s){return s*h._defaultScaleFactor/this._docScaleFactor},h.prototype.scalePageMargins=function(s){var n,i,t,r;this._correctScaleNeeded&&(!((n=s==null?void 0:s.margins)===null||n===void 0)&&n.left&&(s.margins.left=this.getScaledSize(s.margins.left)),!((i=s==null?void 0:s.margins)===null||i===void 0)&&i.right&&(s.margins.right=this.getScaledSize(s.margins.right)),!((t=s==null?void 0:s.margins)===null||t===void 0)&&t.top&&(s.margins.top=this.getScaledSize(s.margins.top)),!((r=s==null?void 0:s.margins)===null||r===void 0)&&r.bottom&&(s.margins.bottom=this.getScaledSize(s.margins.bottom)))},h.prototype.scaleSizes=function(s){this._correctScaleNeeded&&(this.scaleTables(s),this.scaleObjects(s.objects))},h.prototype.scaleTables=function(s){s!=null&&s.tables&&(this.scaleTable(s.tables[d.PdfPageTableNames.treeListHeader]),this.scaleTable(s.tables[d.PdfPageTableNames.treeListMain]),this.scaleTable(s.tables[d.PdfPageTableNames.chartMain]),this.scaleTable(s.tables[d.PdfPageTableNames.chartScaleTop]),this.scaleTable(s.tables[d.PdfPageTableNames.chartScaleBottom]))},h.prototype.scaleTable=function(s){var n,i,t,r,o,a;if(s&&(!((n=s.size)===null||n===void 0)&&n.width&&(s.size.width=this.getScaledSize(s.size.width)),!((i=s.size)===null||i===void 0)&&i.height&&(s.size.height=this.getScaledSize(s.size.height)),!((t=s.position)===null||t===void 0)&&t.x&&(s.position.x=this.getScaledSize(s.position.x)),!((r=s.position)===null||r===void 0)&&r.y&&(s.position.y=this.getScaledSize(s.position.y)),!((o=s.baseCellSize)===null||o===void 0)&&o.width&&(s.baseCellSize.width=this.getScaledSize(s.baseCellSize.width)),!((a=s.baseCellSize)===null||a===void 0)&&a.height&&(s.baseCellSize.height=this.getScaledSize(s.baseCellSize.height)),s.cells))for(var p=0;p<s.cells.length;p++)for(var y=s.cells[p],f=0;f<y.length;f++){var m=y[f];this.scaleStyle(m.styles)}},h.prototype.scaleObjects=function(s){this.scaleTasks(s==null?void 0:s.tasks),this.scaleDependencies(s==null?void 0:s.dependencies),this.scaleResources(s==null?void 0:s.resources),this.scaleTimeMarkers(s==null?void 0:s.timeMarkers)},h.prototype.scaleTasks=function(s){var n=this;s==null||s.forEach((function(i){n.scalePoints(i.sidePoints),i.progressWidth=n.getScaledSize(i.progressWidth),n.scaleStyle(i.textStyle)}))},h.prototype.scaleDependencies=function(s){var n=this;s==null||s.forEach((function(i){var t;n.scalePoints(i.points),!((t=i.arrowInfo)===null||t===void 0)&&t.width&&(i.arrowInfo.width=n.getScaledSize(i.arrowInfo.width))}))},h.prototype.scaleResources=function(s){var n=this;s==null||s.forEach((function(i){i.x=n.getScaledSize(i.x),i.y=n.getScaledSize(i.y),n.scaleStyle(i.style)}))},h.prototype.scaleTimeMarkers=function(s){var n=this;s==null||s.forEach((function(i){i.start.x=n.getScaledSize(i.start.x),i.start.y=n.getScaledSize(i.start.y),i.size.width=n.getScaledSize(i.size.width),i.size.height=n.getScaledSize(i.size.height)}))},h.prototype.scaleStyle=function(s){var n,i,t,r;if(s){var o=s.cellWidth;if(o!=null&&o.hasValue()){var a=this.getScaledSize(Number(o.getValue()));o.assign(a)}s.minCellHeight&&(s.minCellHeight=this.getScaledSize(s.minCellHeight)),s.minCellWidth&&(s.minCellWidth=this.getScaledSize(s.minCellWidth)),!((n=s.cellPadding)===null||n===void 0)&&n.left&&(s.cellPadding.left=this.getScaledSize(s.cellPadding.left)),!((i=s.cellPadding)===null||i===void 0)&&i.right&&(s.cellPadding.right=this.getScaledSize(s.cellPadding.right)),!((t=s.cellPadding)===null||t===void 0)&&t.top&&(s.cellPadding.top=this.getScaledSize(s.cellPadding.top)),!((r=s.cellPadding)===null||r===void 0)&&r.bottom&&(s.cellPadding.bottom=this.getScaledSize(s.cellPadding.bottom))}},h.prototype.scalePoints=function(s){var n=this;s==null||s.forEach((function(i){i.x=n.getScaledSize(i.x),i.y=n.getScaledSize(i.y)}))},h._defaultScaleFactor=.75,h})();u.ScalingHelper=g},7223:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfCustomFontSettings=void 0;var d=c(2491),g=(function(){function h(s){this.style="normal",s&&this.assign(s)}return h.prototype.assign=function(s){(0,d.isDefined)(s.fontObject)&&(this.fontObject=s.fontObject),(0,d.isDefined)(s.name)&&(this.name=s.name),(0,d.isDefined)(s.style)&&(this.style=s.style),(0,d.isDefined)(s.weight)&&(this.weight=s.weight)},h.prototype.applyToDoc=function(s){try{if(s&&this.fontObject&&this.name){var n=this.name+"-"+this.style+".ttf";s.addFileToVFS(n,this.fontObject),s.addFont(n,this.name,this.style,this.weight),s.setFont(this.name)}}catch{}},h})();u.PdfCustomFontSettings=g},6431:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfDataRange=void 0;var d=c(2491),g=(function(){function h(s,n,i,t){var r=!s||s instanceof Date?{startDate:s,endDate:n,startIndex:i,endIndex:t}:s;r&&this.assign(r)}return h.prototype.assign=function(s){(0,d.isDefined)(s.startDate)&&(this.startDate=s.startDate instanceof Date?s.startDate:new Date(s.startDate)),(0,d.isDefined)(s.endDate)&&(this.endDate=s.endDate instanceof Date?s.endDate:new Date(s.endDate)),(0,d.isDefined)(s.startIndex)&&(this.startIndex=parseInt(s.startIndex)),(0,d.isDefined)(s.endIndex)&&(this.endIndex=parseInt(s.endIndex))},h})();u.PdfDataRange=g},9895:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DataExportMode=u.ExportMode=void 0,(function(c){c[c.all=0]="all",c[c.treeList=1]="treeList",c[c.chart=2]="chart"})(u.ExportMode||(u.ExportMode={})),(function(c){c[c.all=0]="all",c[c.visible=1]="visible"})(u.DataExportMode||(u.DataExportMode={}))},6997:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttPdfExportProps=void 0;var d=c(6353),g=c(2491),h=c(5063),s=c(6431),n=c(7223),i=c(9895),t=(function(){function r(o){this.landscape=!1,this.margins=null,this.exportMode=i.ExportMode.all,this.exportDataMode=i.DataExportMode.visible,o&&this.assign(o)}return r.prototype.assign=function(o){if(o){if((0,g.isDefined)(o.pdfDocument)&&(this.pdfDoc=o.pdfDocument),(0,g.isDefined)(o.pdfDoc)&&(this.pdfDoc=o.pdfDoc),this.docCreateMethod=o.docCreateMethod,(0,g.isDefined)(o.fileName)&&(this.fileName=o.fileName),this.landscape=!!o.landscape,(0,g.isDefined)(o.margins)&&(this.margins=new h.Margin(o.margins)),(0,g.isDefined)(o.format)){var a=o.format;if(typeof a=="string")this.format=a;else{var p=parseInt(a.width),y=parseInt(a.height);this.pageSize=new d.Size(p,y)}}else if((0,g.isDefined)(o.pageSize)){var f=o.pageSize;this.pageSize=f instanceof d.Size?f.clone():new d.Size(f.width,f.height)}if((0,g.isDefined)(o.exportMode)&&(this.exportMode=this.getEnumValue(i.ExportMode,o.exportMode)),(0,g.isDefined)(o.dateRange)){var m=o.dateRange;typeof m=="number"||typeof m=="string"?this.exportDataMode=this.getEnumValue(i.DataExportMode,m):this.dateRange=new s.PdfDataRange(m)}(0,g.isDefined)(o.font)&&(this.font=new n.PdfCustomFontSettings(o.font))}},r.prototype.getEnumValue=function(o,a){if(!(0,g.isDefined)(o[a]))return null;var p=parseInt(a);return isNaN(p)?o[a]:p},r.autoFormatKey="auto",r})();u.GanttPdfExportProps=t},6032:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CellDef=void 0;var d=c(2491),g=c(6995),h=(function(){function s(n,i,t){this.content="",typeof n=="string"?(this.content=n,this.colSpan=i,t&&this.appendStyles(t)):n&&this.assign(n)}return Object.defineProperty(s.prototype,"styles",{get:function(){return this._styles||(this._styles=new g.StyleDef),this._styles},enumerable:!1,configurable:!0}),s.prototype.assign=function(n){(0,d.isDefined)(n.content)&&(this.content=n.content),(0,d.isDefined)(n.colSpan)&&(this.colSpan=n.colSpan),n.styles&&this.appendStyles(n.styles)},s.prototype.appendStyles=function(n){n&&this.styles.assign(n)},s.prototype.hasValue=function(){return!0},s.prototype.getValue=function(){var n={};return n.content=this.content,this.colSpan>1&&(n.colSpan=this.colSpan),this._styles&&(n.styles=this._styles.getValue()),n},s})();u.CellDef=h},405:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Color=void 0;var d=c(2491),g=(function(){function h(s){this._num=null,this._opacity=1,this._rgb=null,this.assign(s)}return Object.defineProperty(h.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),h.prototype.hasValue=function(){return(0,d.isDefined)(this._num)||!!this._rgb||this._opacity===0},h.prototype.getValue=function(){return!(this._opacity===0&&!this._rgb)&&((0,d.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},h.prototype.assign=function(s){this.reset(),typeof s=="string"&&this.assignFromString(s),typeof s=="number"&&(this._num=s),s instanceof Array&&this.assignFromRgbArray(s),s instanceof h&&this.assignFromColor(s)},h.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},h.prototype.assignFromString=function(s){s&&(s==="transparent"&&(this._opacity=0),s.indexOf("#")===0&&this.assignFromHexString(s),s.substr(0,3).toLowerCase()==="rgb"&&this.assignFromRgbString(s))},h.prototype.assignFromHexString=function(s){if(s.length===4&&(s="#"+s[1].repeat(2)+s[2].repeat(2)+s[3].repeat(2)),s.length>6){var n=parseInt(s.substr(1,2),16),i=parseInt(s.substr(3,2),16),t=parseInt(s.substr(5,2),16);this._rgb=[n,i,t]}},h.prototype.assignFromRgbString=function(s){var n=s.substr(0,4).toLowerCase()==="rgba",i=s.toLowerCase().match(n?h.rgbaRegexp:h.rgbRegexp);if(i){var t=parseInt(i[1]),r=parseInt(i[2]),o=parseInt(i[3]);this._rgb=[t,r,o],n&&(this._opacity=parseFloat(i[4]))}},h.prototype.assignFromRgbArray=function(s){s&&s.length>2&&(this._rgb=[s[0],s[1],s[2]],(0,d.isDefined)(s[3])&&(this._opacity=s[3]))},h.prototype.assignFromColor=function(s){this._opacity=s._opacity,this._num=s._num,this._rgb=s._rgb},h.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},h.prototype.applyOpacityToBackground=function(s){if(this._opacity!==1){var n=(s instanceof h?s:new h(s)).getValue();if(n instanceof Array){var i=this.opacity,t=Math.round((1-i)*n[0]+i*this._rgb[0]),r=Math.round((1-i)*n[1]+i*this._rgb[1]),o=Math.round((1-i)*n[2]+i*this._rgb[2]);this._rgb=[t,r,o]}}},h.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,h.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,h})();u.Color=g},5510:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttTableDrawer=void 0;var d=c(2491),g=c(8935),h=c(817),s=c(7624),n=(function(){function i(t){this._pdfDoc=t}return i.prototype.drawTable=function(t){var r,o;if(t){var a=this.createTableOptions(t);!((r=t.style)===null||r===void 0)&&r.fontSize&&this._pdfDoc.setFontSize((o=t.style)===null||o===void 0?void 0:o.fontSize),this._pdfDoc.autoTable(a.getValue())}},i.prototype.createTableOptions=function(t){var r=this.createDefaultTableOptions();return this.addTableCommonSettings(t,r),this.addCommonTableStyles(t,r),this.prepareBodyCells(t),r.addBody(t.cells),t.hideRowLines&&this.hideRowLines(r),r},i.prototype.createDefaultTableOptions=function(){var t=new s.TableOptions;return t.pageBreak="auto",t.margin.assign(0),t.tableWidth.assign("auto"),t.styles.cellPadding.assign(0),t.styles.halign="center",t.styles.valign="middle",t.styles.lineWidth=1,t.styles.overflow="hidden",t},i.prototype.addTableCommonSettings=function(t,r){r.startY=t.position.y,r.margin.assign({left:t.position.x}),r.tableWidth.assign(t.size.width)},i.prototype.addCommonTableStyles=function(t,r){var o=r.styles;o.assign(t.style),o.fillColor.opacity===0&&o.fillColor.assign("#FFFFFF"),o.minCellHeight=t.baseCellSize.height,r.alternateRowStyles.minCellHeight=r.styles.minCellHeight,r.alternateRowStyles.fillColor.assign(r.styles.fillColor),(0,d.isDefined)(t.baseCellSize.width)&&o.cellWidth.assign(t.baseCellSize.width)},i.prototype.prepareBodyCells=function(t){var r,o,a;if(t.name===g.PdfPageTableNames.treeListMain||t.name===g.PdfPageTableNames.chartScaleTop||t.name===g.PdfPageTableNames.chartScaleBottom)for(var p=t.cells,y=0;y<p.length;y++)for(var f=p[y],m=0;m<f.length;m++){var _=f[m],v=_.styles,w=((r=v==null?void 0:v.cellWidth)===null||r===void 0?void 0:r.getValue())||t.baseCellSize.width||0,S=(o=v==null?void 0:v.cellPadding.left)!==null&&o!==void 0?o:0,D=(a=v==null?void 0:v.cellPadding.right)!==null&&a!==void 0?a:0,x=Math.max(w-S-D-i.cellEllipsisSpace,0);_.content=h.EllipsisHelper.limitPdfTextWithEllipsis(_.content,this._pdfDoc,x)}},i.prototype.hideRowLines=function(t){t.styles.lineWidth=0,t.onDrawCellCallback=function(r){var o=r.cell,a=r.doc,p=o.styles.lineColor,y=o.x,f=o.x+o.styles.cellWidth,m=o.y,_=o.y+r.row.height,v=r.column.index===r.table.columns.length-1,w=r.row.index===r.table.body.length-1,S=r.row.index===0;a.setDrawColor(p[0],p[1],p[2]),a.setLineWidth(1),a.line(y,_,y,m),v&&a.line(f,_,f,m),S&&a.line(y,m,f,m),w&&a.line(y,_,f,_)}},i.cellEllipsisSpace=3,i})();u.PdfGanttTableDrawer=n},817:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EllipsisHelper=void 0;var c=(function(){function d(){}return d.limitPdfTextWithEllipsis=function(g,h,s){if(!(h!=null&&h.getTextWidth)||!s)return g;if(h.getTextWidth(g.toString())>s){for(var n=g,i=g.length-1;h.getTextWidth(n)>s&&i>0;)n=n.substring(0,i)+d.ellipsis,i--;return n}return g},d.ellipsis="...",d})();u.EllipsisHelper=c},5063:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Margin=void 0;var d=c(2491),g=c(6907),h=(function(){function s(n){this.assign(n)}return s.prototype.assign=function(n){if((0,d.isDefined)(n))if(typeof n=="string")this.assignFromString(n);else if(typeof n=="number"||n instanceof Array)this.assignWithValues(n);else{var i=n||n;this.assignWithMargin(i)}},s.prototype.assignFromString=function(n){var i=n.split(" ").map((function(t){return g.DomUtils.pxToInt(t)}));this.assignWithValues(i)},s.prototype.assignWithMargin=function(n){(0,d.isDefined)(n.top)&&(this.top=n.top),(0,d.isDefined)(n.right)&&(this.right=n.right),(0,d.isDefined)(n.bottom)&&(this.bottom=n.bottom),(0,d.isDefined)(n.left)&&(this.left=n.left)},s.prototype.assignWithValues=function(n){var i=this.getCorrectedValues(n);this.top=i[0],this.right=i[1],this.bottom=i[2],this.left=i[3]},s.prototype.getCorrectedValues=function(n){var i=[this.top,this.right,this.bottom,this.left];if(typeof n=="number")i=[n,n,n,n];else{var t=n;switch(t.length){case 1:i=[t[0],t[0],t[0],t[0]];break;case 2:i=[t[0],t[1],t[0],t[1]];break;case 3:i=[t[0],t[1],t[2],t[1]];break;default:t.forEach((function(r,o){return i[o]=r}))}}return i},s.prototype.hasValue=function(){return(0,d.isDefined)(this.top)||(0,d.isDefined)(this.left)||(0,d.isDefined)(this.right)||(0,d.isDefined)(this.bottom)},s.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var n={};return(0,d.isDefined)(this.top)&&(n.top=this.top),(0,d.isDefined)(this.left)&&(n.left=this.left),(0,d.isDefined)(this.right)&&(n.right=this.right),(0,d.isDefined)(this.bottom)&&(n.bottom=this.bottom),n},s})();u.Margin=h},2642:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PredefinedStyles=void 0;var c=(function(){function d(){}return d.getPredefinedStringOrUndefined=function(g,h){var s=g&&h&&g.toLowerCase()||void 0;return s&&(h.filter((function(n){return n.toLowerCase()===s}))[0]||h.filter((function(n){return s.indexOf(n.toLowerCase())>-1}))[0])},d.fontFamilies=["helvetica","times","courier"],d.fontStyles=["normal","bold","italic","bolditalic"],d.headerFooterVisibility=["everyPage","firstPage","never"],d.horizontalAlign=["left","center","right"],d.overflow=["linebreak","ellipsize","visible","hidden"],d.pageBreak=["auto","avoid","always"],d.rowPageBreak=["auto","avoid"],d.verticalAlign=["top","middle","bottom"],d.width=["auto","wrap"],d})();u.PredefinedStyles=c},6995:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StyleDef=void 0;var d=c(2491),g=c(6907),h=c(405),s=c(2642),n=c(5063),i=c(7343),t=(function(){function r(o){this._fillColor=new h.Color,this._textColor=new h.Color,this._lineColor=new h.Color,this._cellWidth=new i.Width,this._cellPadding=new n.Margin,o&&this.assign(o)}return Object.defineProperty(r.prototype,"font",{get:function(){return this._fontFamily},set:function(o){this._fontFamily=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.fontFamilies)||o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(o){this._fontStyle=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(o){this._fontSize=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overflow",{get:function(){return this._overflow},set:function(o){this._overflow=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(o){this._horizontalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valign",{get:function(){return this._verticalAlign},set:function(o){this._verticalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(o,s.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(o){this._lineWidth=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(o){this._minCellWidth=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(o){this._minCellHeight=o},enumerable:!1,configurable:!0}),r.prototype.assign=function(o){o&&(o instanceof r?((0,d.isDefined)(o.font)&&(this.font=o.font),(0,d.isDefined)(o.fontStyle)&&(this.fontStyle=o.fontStyle),(0,d.isDefined)(o.overflow)&&(this.overflow=o.overflow),(0,d.isDefined)(o.halign)&&(this.halign=o.halign),(0,d.isDefined)(o.valign)&&(this.valign=o.valign),(0,d.isDefined)(o.fontSize)&&(this.fontSize=o.fontSize),(0,d.isDefined)(o.lineWidth)&&(this.lineWidth=o.lineWidth),(0,d.isDefined)(o.minCellWidth)&&(this.minCellWidth=o.minCellWidth),(0,d.isDefined)(o.minCellHeight)&&(this.minCellHeight=o.minCellHeight),(0,d.isDefined)(o.fillColor)&&this.fillColor.assign(o.fillColor),(0,d.isDefined)(o.textColor)&&this.textColor.assign(o.textColor),(0,d.isDefined)(o.lineColor)&&this.lineColor.assign(o.lineColor),(0,d.isDefined)(o.cellWidth)&&this.cellWidth.assign(o.cellWidth),(0,d.isDefined)(o.cellPadding)&&this.cellPadding.assign(o.cellPadding)):this.assignFromCssStyle(o))},r.prototype.assignFromCssStyle=function(o){if(o.fontFamily&&(this.font=this.getPdfFontFamily(o)),this.fontStyle=this.getPdfFontStyle(o),(0,d.isDefined)(o.fontSize)&&(this.fontSize=this.getPfrFontSize(o.fontSize)),o.textAlign&&(this.halign=o.textAlign),o.verticalAlign&&(this.valign=o.verticalAlign),(0,d.isDefined)(o.borderWidth)&&(this.lineWidth=o.borderWidth),(0,d.isDefined)(o.cellWidth)&&this.cellWidth.assign(o.cellWidth),(0,d.isDefined)(o.width)&&(this.minCellWidth=typeof o.width=="number"?o.width:g.DomUtils.pxToInt(o.width)),(0,d.isDefined)(o.height)&&(this.minCellHeight=typeof o.height=="number"?o.height:g.DomUtils.pxToInt(o.height)),o.backgroundColor&&this.fillColor.assign(o.backgroundColor),o.color&&this.textColor.assign(o.color),o.borderColor&&this.lineColor.assign(o.borderColor),(0,d.isDefined)(o.width)&&this.cellWidth.assign(o.width),this.assignPaddingFromCss(o),(0,d.isDefined)(o.extraLeftPadding)){var a=this._cellPadding.left;this._cellPadding.left=a?a+o.extraLeftPadding:o.extraLeftPadding}},r.prototype.getPdfFontStyle=function(o){var a=o.fontWeight,p=parseInt(a),y=a==="bold"||!isNaN(p)&&p>500,f=y?"bold":"normal";return o.fontStyle==="italic"&&(f=y?"bolditalic":"italic"),f},r.prototype.getPdfFontFamily=function(o){var a=o.fontFamily&&o.fontFamily.toLowerCase(),p="helvetica";return a.indexOf("times")>-1&&(p="times"),a.indexOf("courier")>-1&&(p="courier"),p},r.prototype.getPfrFontSize=function(o){var a=g.DomUtils.pxToInt(o);if(!isNaN(a))return Math.ceil(a/96*72)},r.prototype.assignPaddingFromCss=function(o){if(o.padding)this._cellPadding.assign(o.padding);else{var a={};o.paddingLeft&&(a.left=g.DomUtils.pxToInt(o.paddingLeft)),o.paddingTop&&(a.top=g.DomUtils.pxToInt(o.paddingTop)),o.paddingRight&&(a.right=g.DomUtils.pxToInt(o.paddingRight)),o.paddingBottom&&(a.bottom=g.DomUtils.pxToInt(o.paddingBottom)),this._cellPadding.assign(a)}},r.prototype.hasValue=function(){return!0},r.prototype.getValue=function(){var o=this,a={};return(0,d.isDefined)(this.font)&&(a.font=this.font),(0,d.isDefined)(this.fontStyle)&&(a.fontStyle=this.fontStyle),(0,d.isDefined)(this.fontSize)&&(a.fontSize=this.fontSize),(0,d.isDefined)(this.overflow)&&(a.overflow=this.overflow),(0,d.isDefined)(this.halign)&&(a.halign=this.halign),(0,d.isDefined)(this.valign)&&(a.valign=this.valign),(0,d.isDefined)(this.lineWidth)&&(a.lineWidth=this.lineWidth),(0,d.isDefined)(this.minCellWidth)&&(a.minCellWidth=this.minCellWidth),(0,d.isDefined)(this.minCellHeight)&&(a.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach((function(p){var y=o[p];y&&y.hasValue()&&(a[p]=y.getValue())})),a},r.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},r})();u.StyleDef=t},7624:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TableOptions=void 0;var d=c(2491),g=c(6032),h=c(405),s=c(2642),n=c(5063),i=c(6995),t=c(7343),r=(function(){function o(){this._margin=new n.Margin,this._tableLineColor=new h.Color,this._tableWidth=new t.Width,this._styles=new i.StyleDef,this._alternateRowStyles=new i.StyleDef}return Object.defineProperty(o.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(a){this._pageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(a,s.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(a){this._rowPageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(a,s.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showHead",{get:function(){return this._showHead},set:function(a){this._showHead=s.PredefinedStyles.getPredefinedStringOrUndefined(a,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showFoot",{get:function(){return this._showFoot},set:function(a){this._showFoot=s.PredefinedStyles.getPredefinedStringOrUndefined(a,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"startY",{get:function(){return this._startY},set:function(a){this._startY=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(a){this._tableLineWidth=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),o.prototype.hasValue=function(){return!0},o.prototype.getValue=function(){var a=this,p={};return p.pageBreak=this.pageBreak,p.rowPageBreak=this.rowPageBreak,p.showFoot=this.showFoot,p.showHead=this.showHead,p.startY=this.startY,p.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach((function(y){var f=a[y];f&&f.hasValue()&&(p[y]=f.getValue())})),p.body=this.getBodyForJsPdf(),p.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(p.didDrawCell=this.onDrawCellCallback),p},o.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},o.prototype.getBodyForJsPdf=function(){for(var a=[],p=0;p<this._body.length;p++){for(var y=this._body[p],f=[],m=0;m<y.length;m++)f.push(y[m].getValue());a.push(f)}return a},o.prototype.assign=function(a){a&&((0,d.isDefined)(a.margin)&&this.margin.assign(a.margin),(0,d.isDefined)(a.pageBreak)&&(this.pageBreak=a.pageBreak),(0,d.isDefined)(a.rowPageBreak)&&(this.rowPageBreak=a.rowPageBreak),(0,d.isDefined)(a.showFoot)&&(this.showFoot=a.showFoot),(0,d.isDefined)(a.showHead)&&(this.showHead=a.showHead),(0,d.isDefined)(a.startY)&&(this.startY=a.startY),(0,d.isDefined)(a.tableLineWidth)&&(this.tableLineWidth=a.tableLineWidth),(0,d.isDefined)(a.tableLineColor)&&this.tableLineColor.assign(a.tableLineColor),(0,d.isDefined)(a.tableWidth)&&this.tableWidth.assign(a.tableWidth))},o.prototype.addBody=function(a){a&&(this._body=new Array,this.addCells(a,this._body))},o.prototype.addCells=function(a,p){for(var y=this.styles.fillColor,f=0;f<a.length;f++){for(var m=a[f],_=new Array,v=0;v<m.length;v++){var w=new g.CellDef(m[v]);y.hasValue()&&w.styles&&w.styles.fillColor.hasValue()&&w.styles.fillColor.applyOpacityToBackground(y),_.push(w)}p.push(_)}},o.prototype.applyColumnStyle=function(a,p){var y;(y=this._columnStyles)!==null&&y!==void 0||(this._columnStyles=new Array),this._columnStyles[a]=new i.StyleDef(p)},o.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var a={};return this._columnStyles.forEach((function(p,y){p&&(a[y]=p.getValue())})),a}return null},o})();u.TableOptions=r},7343:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Width=void 0;var d=c(2642),g=c(6907),h=(function(){function s(n){this.assign(n)}return s.prototype.assign=function(n){if(n instanceof s)this._widthInternal=n._widthInternal;else{var i=typeof n=="number"?n:parseInt(n);isNaN(i)?this.assignFromString(n):this._widthInternal=i}},s.prototype.assignFromString=function(n){if(n){var i=g.DomUtils.pxToInt(n);this._widthInternal=i||d.PredefinedStyles.getPredefinedStringOrUndefined(n,d.PredefinedStyles.width)}},s.prototype.hasValue=function(){return!!this._widthInternal},s.prototype.getValue=function(){return this._widthInternal},s})();u.Width=h},8603:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaExportHelper=void 0;var d=c(6907),g=c(858),h=c(1855),s=c(9201),n=c(405),i=c(9895),t=(function(){function r(o,a){this._owner=o,this._props=a}return Object.defineProperty(r.prototype,"customRangeLeftOffset",{get:function(){var o;return(o=this._customRangeLeftOffset)!==null&&o!==void 0||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var o=this.visibleTaskIndices[0];return this.getCellTop(o)+this.getTaskCellOffsetTop(o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetLeft",{get:function(){var o;return(o=this._offsetLeft)!==null&&o!==void 0||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetTop",{get:function(){var o;return(o=this._offsetTop)!==null&&o!==void 0||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scales",{get:function(){var o=this.settings.viewType;return[s.DateUtils.ViewTypeToScaleMap[o],o]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRanges",{get:function(){var o;return(o=this._scaleRanges)!==null&&o!==void 0||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopWidths",{get:function(){var o;return(o=this._scaleTopWidths)!==null&&o!==void 0||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomWidths",{get:function(){var o;return(o=this._scaleBottomWidths)!==null&&o!==void 0||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var o=this.scaleElements[0].filter((function(a){return!!a&&a.offsetHeight}))[0];this._headerRowHeight=o==null?void 0:o.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTaskIndices",{get:function(){var o;return(o=this._visibleTaskIndices)!==null&&o!==void 0||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTableStyle",{get:function(){var o;return(o=this._scaleTableStyle)!==null&&o!==void 0||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"chartMainTableStyle",{get:function(){var o;return(o=this._chartMainTableStyle)!==null&&o!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentRowBackColor",{get:function(){var o;return(o=this._parentRowBackColor)!==null&&o!==void 0||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arrowWidth",{get:function(){var o;return(o=this._arrowWidth)!==null&&o!==void 0||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dependencyColor",{get:function(){var o;return(o=this._dependencyColor)!==null&&o!==void 0||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),r.prototype.getTaskElementBackColor=function(o,a){var p=this.getTaskElementStyle(o,a);return p==null?void 0:p.backgroundColor},r.prototype.getTaskElementStyle=function(o,a){var p=this.getTaskWrapper(o);return this.getElementStyle(p.getElementsByClassName(a)[0])},r.prototype.isElementVisible=function(o){return o&&getComputedStyle(o).display!=="none"},Object.defineProperty(r.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleLeft",{get:function(){var o;return(o=this._visibleLeft)!==null&&o!==void 0||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTop",{get:function(){var o;return(o=this._visibleTop)!==null&&o!==void 0||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleRight",{get:function(){var o;return(o=this._visibleRight)!==null&&o!==void 0||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),r.prototype.getVisibleRight=function(){var o=this.container.getElement().offsetWidth;return this.visibleLeft+o},Object.defineProperty(r.prototype,"visibleBottom",{get:function(){var o;return(o=this._visibleBottom)!==null&&o!==void 0||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),r.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(r.prototype,"scaleLeft",{get:function(){var o;return(o=this._scaleLeft)!==null&&o!==void 0||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRight",{get:function(){var o;return(o=this._scaleRight)!==null&&o!==void 0||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),r.prototype.getScaleTopWidths=function(){var o=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),a=this.layoutCalculator,p=a.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),y=a.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),f=Math.max(p.position.x-y.position.x,0);o[this.scaleTopStartIndex]-=f;var m=a.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),_=a.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return f=Math.max(m.position.x+m.size.width-_.position.x-_.size.width,0),o[this.scaleTopEndIndex]-=f,o},r.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},r.prototype.getScaleWidths=function(o,a,p){for(var y=new Array,f=o;f<=a;f++)y[f]=this.layoutCalculator.getScaleItemInfo(f,p).size.width;return y},r.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(r.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),r.prototype.getTaskCellOffsetTop=function(o){var a=this.getCellTop(o);return Math.max(this.visibleTop-a,0)},r.prototype.getCellTop=function(o){return this.layoutCalculator.getGridBorderPosition(o-1,!1).y},r.prototype.getCellLeft=function(o){return this.layoutCalculator.getScaleItemInfo(o,this.scales[1]).position.x},r.prototype.getTaskIndices=function(){var o,a;return this.dataMode===i.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices((o=this.exportRange)===null||o===void 0?void 0:o.startIndex,(a=this.exportRange)===null||a===void 0?void 0:a.endIndex):this.getVisibleTaskIndices()},r.prototype.getVisibleTaskIndices=function(){var o=this,a=[];return this.taskElements.forEach((function(p,y){if(p){var f=d.DomUtils.pxToInt(p.style.top),m=f+p.offsetHeight,_=f>=o.visibleTop&&f<=o.visibleBottom,v=m>=o.visibleTop&&m<=o.visibleBottom;(_||v)&&a.push(y)}})),a},Object.defineProperty(r.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter((function(o){return!!o}))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter((function(o){return!!o}))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){var o,a=this;return(o=this._connectorLines)!==null&&o!==void 0||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter((function(p){return a.isLineVisible(p)}))),this._connectorLines},enumerable:!1,configurable:!0}),r.prototype.isLineVisible=function(o){if(this.dataMode===i.DataExportMode.all)return!0;var a=o.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(a)>-1},Object.defineProperty(r.prototype,"visibleDependencyKeys",{get:function(){var o;return(o=this._visibleDependencyKeys)!==null&&o!==void 0||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resourcesElements",{get:function(){var o,a=this;return(o=this._resourcesElements)!==null&&o!==void 0||(this._resourcesElements=this.visibleTaskIndices.map((function(p){return a._owner.renderHelper.resourcesElements[p]})).filter((function(p){return a.isElementVisible(p)&&p.parentElement}))),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var o=this._owner.renderHelper.stripLinesMap.filter((function(a){return!!a})).map((function(a){return a}));this._stripLinesElements=o.map((function(a){return a}))}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var o=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&this._noWorkingIntervalsElements.push(o[a])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataMode",{get:function(){var o;return(o=this._props)===null||o===void 0?void 0:o.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"exportRange",{get:function(){var o;return(o=this._props)===null||o===void 0?void 0:o.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisibleMode",{get:function(){return this.dataMode===i.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startDate",{get:function(){var o,a,p,y;if(!((o=this.exportRange)===null||o===void 0)&&o.startDate&&(!((a=this.exportRange)===null||a===void 0)&&a.endDate)){var f=Math.min((p=this.exportRange)===null||p===void 0?void 0:p.startDate.getTime(),(y=this.exportRange)===null||y===void 0?void 0:y.endDate.getTime());return new Date(f)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){var o,a,p,y;if(!((o=this.exportRange)===null||o===void 0)&&o.startDate&&(!((a=this.exportRange)===null||a===void 0)&&a.endDate)){var f=Math.max((p=this.exportRange)===null||p===void 0?void 0:p.startDate.getTime(),(y=this.exportRange)===null||y===void 0?void 0:y.endDate.getTime());return new Date(f)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var o=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new h.GridLayoutCalculator,this._layoutCalculator.setSettings(o.visibleTaskAreaSize,o.tickSize,o.elementSizeValues,new g.DateRange(this.startDate,this.endDate),o.viewModel,o.viewType,o.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=o}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),r.prototype.getPosByDate=function(o){return this.layoutCalculator.getPosByDate(o)},r.prototype.getScaleTableStyle=function(){var o={},a=this.scaleElements[0].filter((function(y){return!!y}))[0],p=this.getElementStyle(a);return o.backgroundColor=this.findElementBackColor(a),o.borderColor=this.getChartTableBorderColor(),o.verticalAlign="middle",o.textAlign="center",o.fontSize=p.fontSize,o.fontFamily=p.fontFamily,o.fontWeight=p.fontWeight,o.fontStyle=p.fontStyle,o.color=p.color,o},r.prototype.getChartMainTableStyle=function(){var o={};return o.backgroundColor=this.findElementBackColor(this.taskArea),o.borderColor=this.getChartTableBorderColor(),o},r.prototype.findElementBackColor=function(o){if(!o)return null;for(var a=o,p=new n.Color("transparent");p.opacity===0&&a;){var y=this.getElementStyle(a);p.assign(y.backgroundColor),a=a.parentElement}return p},r.prototype.getChartTableBorderColor=function(){var o=this.getElementStyle(this.scaleBorders[0].filter((function(a){return!!a}))[0]);return o==null?void 0:o.borderColor},r.prototype.getParentBackColor=function(){var o=this.getElementStyle(this.hlRowElements[0]);return o==null?void 0:o.backgroundColor},r.prototype.getArrowWidth=function(){var o=this.getDependencyLineStyle(h.GridLayoutCalculator.arrowClassName),a=o.borderWidth||o.borderLeftWidth||o.borderRightWidth||o.borderTopWidth||o.borderBottomWidth;return o&&d.DomUtils.pxToInt(a)},r.prototype.getDependencyColor=function(){var o=this.getDependencyLineStyle(h.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return o==null?void 0:o.borderColor},r.prototype.getDependencyLineStyle=function(o){return this.getElementStyle(this.taskArea.getElementsByClassName(o)[0])},r.prototype.getElementStyle=function(o){return o&&getComputedStyle(o)},r.prototype.getTaskWrapper=function(o){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[o]||this._owner.renderHelper.createDefaultTaskElement(o),this.taskElements[o])},Object.defineProperty(r.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),r})();u.TaskAreaExportHelper=t},6057:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CollectionBase=void 0;var d=c(2491),g=c(2601),h=(function(){function s(){this._items=new Array,this._isGanttCollection=!0}return s.prototype.add=function(n){if((0,d.isDefined)(n)){if(this.getItemById(n.internalId))throw"The collection item with id ='"+n.internalId+"' already exists.";this._addItem(n)}},s.prototype.addRange=function(n){for(var i=0;i<n.length;i++)this.add(n[i])},s.prototype.remove=function(n){var i=this._items.indexOf(n);i>-1&&i<this._items.length&&this._removeItems(i,1)},s.prototype.clear=function(){this._removeItems(0,this._items.length)},s.prototype.invalidate=function(){delete this._invertedItems},s.prototype._addItem=function(n){this._items.push(n),delete this._invertedItems},s.prototype._removeItems=function(n,i){this._items.splice(n,i),delete this._invertedItems},Object.defineProperty(s.prototype,"items",{get:function(){return this._items.slice()},set:function(n){n&&(this._items=n.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),s.prototype.getItem=function(n){return n>-1&&n<this._items.length?this._items[n]:null},Object.defineProperty(s.prototype,"invertedItems",{get:function(){var n;return(n=this._invertedItems)!==null&&n!==void 0||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),s.prototype._createInvertedItems=function(){for(var n={},i=0;i<this._items.length;i++){var t=this._items[i];n[t.internalId]=t}return n},s.prototype.getItemById=function(n){return this.invertedItems[n]},s.prototype.getItemByPublicId=function(n){return this._items.filter((function(i){return i.id===n||i.id.toString()===n}))[0]},s.prototype.assign=function(n){(0,d.isDefined)(n)&&(this.items=n.items)},s.prototype.importFromObject=function(n){(0,d.isDefined)(n)&&(this.clear(),n._isGanttCollection?this.assign(n):n instanceof Array?this.importFromArray(n):this.createItemFromObjectAndAdd(n))},s.prototype.createItemFromObjectAndAdd=function(n){if((0,d.isDefined)(n)&&Object.keys(n).length>0){var i=this.createItem();i.assignFromObject(n),this.add(i)}},s.prototype.importFromArray=function(n){for(var i=0;i<n.length;i++)this.createItemFromObjectAndAdd(n[i])},s.prototype.importFromJSON=function(n){this.importFromObject(g.GanttJsonUtils.parseJson(n))},s})();u.CollectionBase=h},7380:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyCollection=void 0;var d=c(655),g=c(6057),h=c(7352),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.createItem=function(){return new h.Dependency},i})(g.CollectionBase);u.DependencyCollection=s},4432:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WorkingDayRuleCollection=void 0;var d=c(655),g=c(6057),h=c(8401),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.createItem=function(){return new h.WorkingTimeRule},i})(g.CollectionBase);u.WorkingDayRuleCollection=s},9883:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceAssignmentCollection=void 0;var d=c(655),g=c(6057),h=c(7437),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.createItem=function(){return new h.ResourceAssignment},i})(g.CollectionBase);u.ResourceAssignmentCollection=s},8828:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceCollection=void 0;var d=c(655),g=c(6057),h=c(2301),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.createItem=function(){return new h.Resource},i})(g.CollectionBase);u.ResourceCollection=s},9504:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskCollection=void 0;var d=c(655),g=c(8492),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.createItem=function(){return new g.Task},n})(c(6057).CollectionBase);u.TaskCollection=h},5594:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EventDispatcher=void 0;var c=(function(){function d(){this.listeners=[]}return d.prototype.add=function(g){if(!g)throw new Error("Error");this.hasEventListener(g)||this.listeners.push(g)},d.prototype.remove=function(g){for(var h=0,s=void 0;s=this.listeners[h];h++)if(s===g){this.listeners.splice(h,1);break}},d.prototype.raise=function(g){for(var h=[],s=1;s<arguments.length;s++)h[s-1]=arguments[s];for(var n=0,i=void 0;i=this.listeners[n];n++){var t=i[g];t==null||t.apply(i,h)}},d.prototype.hasEventListener=function(g){for(var h=0,s=this.listeners.length;h<s;h++)if(this.listeners[h]===g)return!0;return!1},d})();u.EventDispatcher=c},3452:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ModelChangesDispatcher=void 0;var d=c(255),g=c(8403),h=c(8738),s=c(9669),n=c(5594),i=(function(){function t(){this.onModelChanged=new n.EventDispatcher,this.isLocked=!1}return t.prototype.notifyTaskCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",r)},t.prototype.notifyTaskCreated=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",r,o,a)},t.prototype.notifyTaskRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",r)},t.prototype.notifyTaskRemoved=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",r,o,a)},t.prototype.notifyTaskUpdating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",r)},t.prototype.notifyTaskMoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",r)},t.prototype.notifyTaskEditDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",r)},t.prototype.notifyResourceManagerDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",r)},t.prototype.notifyTaskUpdated=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",r,o,a)},t.prototype.notifyParentTaskUpdated=function(r,o){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",r,o)},t.prototype.notifyDependencyInserting=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",r)},t.prototype.notifyDependencyInserted=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",r,o,a)},t.prototype.notifyDependencyRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",r)},t.prototype.notifyDependencyRemoved=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",r,o,a)},t.prototype.notifyResourceCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",r)},t.prototype.notifyResourceCreated=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",r,o,a)},t.prototype.notifyResourceRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",r)},t.prototype.notifyResourceRemoved=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",r,o,a)},t.prototype.notifyResourceColorChanged=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",r,o,a)},t.prototype.notifyResourceAssigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",r)},t.prototype.notifyResourceAssigned=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",r,o,a)},t.prototype.notifyResourceUnassigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",r)},t.prototype.notifyResourceUnassigned=function(r,o,a){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",r,o,a)},t.prototype.notifyParentDataRecalculated=function(r){this.onModelChanged.raise("NotifyParentDataRecalculated",r)},t.prototype.notifyScaleCellPrepared=function(r){this.onModelChanged.raise("NotifyScaleCellPrepared",r)},t.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},t.prototype.fireResourceUnassigning=function(r){var o=new h.ResourceUnassigningArguments(r);return this.notifyResourceUnassigning(o),!o.cancel},t.prototype.raiseTaskUpdating=function(r,o,a){var p=new s.TaskUpdatingArguments(r,o);return this.notifyTaskUpdating(p),!p.cancel&&(a(p.newValues),!0)},t.prototype.raiseTaskMoving=function(r,o,a,p){var y=new s.TaskUpdatingArguments(r,{start:o,end:a});return this.notifyTaskMoving(y),!y.cancel&&(p(y.start,y.end),!0)},t.prototype.raiseTaskTaskEditDialogShowing=function(r,o){var a=new g.TaskEditDialogShowingArguments(r);return this.notifyTaskEditDialogShowing(a),!a.cancel&&(o(a),!0)},t.prototype.raiseResourceManagerDialogShowing=function(r,o){var a=new d.ResourceManagerDialogShowingArguments(r);return this.notifyResourceManagerDialogShowing(a),!a.cancel&&(o(a),!0)},t.prototype.lock=function(){this.isLocked=!0},t.prototype.unlock=function(){this.isLocked=!1},t})();u.ModelChangesDispatcher=i},6124:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttDataObjectNames=u.DataObject=void 0;var d=c(2491),g=c(8679),h=(function(){function s(){this.internalId=g.MathUtils.generateGuid()}return s.prototype.assignFromObject=function(n){(0,d.isDefined)(n)&&(0,d.isDefined)(n.id)&&this.updateId(n.id)},s.prototype.updateId=function(n){this.id=n,this.internalId=String(n)},s})();u.DataObject=h,u.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},7352:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Dependency=void 0;var d=c(655),g=c(2491),h=c(6124),s=c(5950),n=(function(i){function t(){var r=i.call(this)||this;return r.predecessorId="",r.successorId="",r.type=null,r}return d.__extends(t,i),Object.defineProperty(t.prototype,"isStartDependency",{get:function(){return this.type===s.DependencyType.SS||this.type===s.DependencyType.SF},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(r){(0,g.isDefined)(r)&&(i.prototype.assignFromObject.call(this,r),this.predecessorId=String(r.predecessorId),this.successorId=String(r.successorId),this.type=this.parseType(r.type))},t.prototype.parseType=function(r){if(!(0,g.isDefined)(r))return s.DependencyType.FS;switch(r.toString().toUpperCase()){case"SS":case"1":return s.DependencyType.SS;case"FF":case"2":return s.DependencyType.FF;case"SF":case"3":return s.DependencyType.SF;default:return s.DependencyType.FS}},t})(h.DataObject);u.Dependency=n},5950:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyType=u.TaskType=void 0,(function(c){c[c.Regular=0]="Regular",c[c.Summary=1]="Summary",c[c.Milestone=2]="Milestone"})(u.TaskType||(u.TaskType={})),(function(c){c[c.FS=0]="FS",c[c.SS=1]="SS",c[c.FF=2]="FF",c[c.SF=3]="SF"})(u.DependencyType||(u.DependencyType={}))},2301:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Resource=void 0;var d=c(655),g=c(2491),h=(function(s){function n(){var i=s.call(this)||this;return i.text="",i.color="",i}return d.__extends(n,s),n.prototype.assignFromObject=function(i){(0,g.isDefined)(i)&&(s.prototype.assignFromObject.call(this,i),this.text=i.text,(0,g.isDefined)(i.color)&&(this.color=i.color))},n})(c(6124).DataObject);u.Resource=h},7437:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceAssignment=void 0;var d=c(655),g=c(2491),h=(function(s){function n(){var i=s.call(this)||this;return i.taskId="",i.resourceId="",i}return d.__extends(n,s),n.prototype.assignFromObject=function(i){(0,g.isDefined)(i)&&(s.prototype.assignFromObject.call(this,i),this.taskId=String(i.taskId),this.resourceId=String(i.resourceId))},n})(c(6124).DataObject);u.ResourceAssignment=h},8492:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Task=void 0;var d=c(655),g=c(2491),h=c(6124),s=-8e15,n=(function(i){function t(){var r=i.call(this)||this;return r.start=null,r.end=null,r.duration=null,r.description="",r.parentId=null,r.title="",r.owner=null,r.progress=0,r.taskType=null,r.customFields={},r.expanded=!0,r.color="",r}return d.__extends(t,i),Object.defineProperty(t.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(r){(0,g.isDefined)(r)&&(i.prototype.assignFromObject.call(this,r),this.owner=r.owner,this.parentId=(0,g.isDefined)(r.parentId)?String(r.parentId):null,this.rawParentId=r.parentId,this.description=r.description,this.title=r.title,this.start=typeof r.start=="string"?new Date(r.start):r.start||this.createInvalidDate(),this.end=typeof r.end=="string"?new Date(r.end):r.end||this.createInvalidDate(),this.duration=r.duration,this.progress=r.progress,this.taskType=r.taskType,(0,g.isDefined)(r.expanded)&&(this.expanded=!!r.expanded),(0,g.isDefined)(r.color)&&(this.color=r.color),this.assignCustomFields(r.customFields))},t.prototype.assignCustomFields=function(r){if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(this.customFields[o]=r[o])},t.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},t.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},t.prototype.isValidStart=function(){return this.isValidTaskaDte(this.start)},t.prototype.isValidEnd=function(){return this.isValidTaskaDte(this.end)},t.prototype.isValid=function(){return this.isValidStart()&&this.isValidEnd()},t.prototype.createInvalidDate=function(){return new Date(s)},t.prototype.isValidTaskaDte=function(r){return!!r&&r.getTime()!==s},t})(h.DataObject);u.Task=n},8774:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseArguments=void 0;var c=function(d){this.cancel=!1,this.values={},this.key=d};u.BaseArguments=c},3279:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyInsertingArguments=void 0;var d=c(655),g=(function(h){function s(n,i,t){var r=h.call(this,null)||this;return r.values={predecessorId:n,successorId:i,type:t},r}return d.__extends(s,h),Object.defineProperty(s.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),s})(c(8774).BaseArguments);u.DependencyInsertingArguments=g},4797:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyRemovingArguments=void 0;var d=c(655),g=(function(h){function s(n){var i=h.call(this,n.id)||this;return i.values=n,i}return d.__extends(s,h),s})(c(8774).BaseArguments);u.DependencyRemovingArguments=g},255:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceManagerDialogShowingArguments=void 0;var d=c(655),g=(function(h){function s(n){var i=h.call(this,void 0)||this;return i.values.resources=n.resources,i}return d.__extends(s,h),s})(c(8774).BaseArguments);u.ResourceManagerDialogShowingArguments=g},8403:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditDialogShowingArguments=void 0;var d=c(655),g=(function(h){function s(n){var i=h.call(this,n.id)||this;return i.values={start:n.start,end:n.end,title:n.title,progress:n.progress},i.hiddenFields=n.hiddenFields,i.readOnlyFields=n.readOnlyFields,i}return d.__extends(s,h),s})(c(8774).BaseArguments);u.TaskEditDialogShowingArguments=g},1389:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceAssigningArguments=void 0;var d=c(655),g=(function(h){function s(n,i){var t=h.call(this,null)||this;return t.values={resourceId:n,taskId:i},t}return d.__extends(s,h),Object.defineProperty(s.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),s})(c(8774).BaseArguments);u.ResourceAssigningArguments=g},8738:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceUnassigningArguments=void 0;var d=c(655),g=(function(h){function s(n){var i=h.call(this,n.internalId)||this;return i.values=n,i}return d.__extends(s,h),s})(c(8774).BaseArguments);u.ResourceUnassigningArguments=g},990:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceInsertingArguments=void 0;var d=c(655),g=(function(h){function s(n,i){i===void 0&&(i="");var t=h.call(this,null)||this;return t.values={text:n,color:i},t}return d.__extends(s,h),Object.defineProperty(s.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),s})(c(8774).BaseArguments);u.ResourceInsertingArguments=g},9748:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceRemovingArguments=void 0;var d=c(655),g=(function(h){function s(n){var i=h.call(this,n.id)||this;return i.values=n,i}return d.__extends(s,h),s})(c(8774).BaseArguments);u.ResourceRemovingArguments=g},4605:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskInsertingArguments=void 0;var d=c(655),g=(function(h){function s(n,i){var t=h.call(this,n)||this;return t.values=i??{},t}return d.__extends(s,h),Object.defineProperty(s.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),s})(c(8774).BaseArguments);u.TaskInsertingArguments=g},4642:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskRemovingArguments=void 0;var d=c(655),g=(function(h){function s(n){var i=h.call(this,n.id)||this;return i.values=n,i}return d.__extends(s,h),s})(c(8774).BaseArguments);u.TaskRemovingArguments=g},9669:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskUpdatingArguments=void 0;var d=c(655),g=(function(h){function s(n,i){var t=h.call(this,n.id)||this;return t.values=n,t.createNewValues(i),t}return d.__extends(s,h),s.prototype.createNewValues=function(n){var i=this;this.newValues={};var t=function(a){Object.prototype.hasOwnProperty.call(n,a)&&(r.newValues[a]=n[a],Object.defineProperty(r,a,{get:function(){return i.newValues[a]}}))},r=this;for(var o in n)t(o)},s})(c(8774).BaseArguments);u.TaskUpdatingArguments=g},8725:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.History=void 0;var d=c(5221),g=c(9751),h=(function(){function s(n){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=n}return s.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},s.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},s.prototype.beginTransaction=function(){var n;this.transactionLevel++,this.transactionLevel==0&&(this.transaction=new g.CompositionHistoryItem,(n=this._listener)===null||n===void 0||n.onTransactionStart())},s.prototype.endTransaction=function(){var n;if(!(--this.transactionLevel>=0)){var i=this.transaction.historyItems.length;i>1?this.addInternal(this.transaction):i==1&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,(n=this._listener)===null||n===void 0||n.onTransactionEnd()}},s.prototype.addAndRedo=function(n){this.add(n),this.activateItem(n)},s.prototype.add=function(n){this.transactionLevel>=0?this.transaction.add(n):this.addInternal(n)},s.prototype.canUndo=function(){return this.currentIndex>=0},s.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},s.prototype.addInternal=function(n){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(n),this.currentIndex++,this.deleteOldItems()},s.prototype.deleteOldItems=function(){var n=this.historyItems.length-s.MAX_HISTORY_ITEM_COUNT;n>0&&this.currentIndex>n&&(this.historyItems.splice(0,n),this.currentIndex-=n)},s.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},s.prototype.activateItem=function(n,i){i===void 0&&(i=!1),this.currentProcessingItemInfo=new d.HistoryItemInfo(n,i),i?n.undo():n.redo(),this.currentProcessingItemInfo=null},s.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},s.prototype.rollBackAndRemove=function(n){var i=n.item;this.checkAndRemoveItem(i)&&(n.isUndo?i.redo():i instanceof g.CompositionHistoryItem?i.undoItemsQuery():i.undo())},s.prototype.checkAndRemoveItem=function(n){var i=this.historyItems.indexOf(n);return i>-1?(this.historyItems.splice(i,1),this.currentIndex--):this.transaction&&(i=this.transaction.historyItems.indexOf(n))>-1&&this.transaction.historyItems.splice(i,1),i>-1},s.prototype.updateObsoleteInsertedKey=function(n,i,t){this.transaction&&this.updateItemsObsoleteInsertedKey(n,i,t,[this.transaction]),this.updateItemsObsoleteInsertedKey(n,i,t,this.historyItems)},s.prototype.updateItemsObsoleteInsertedKey=function(n,i,t,r){if(r)for(var o=0;o<r.length;o++){var a=r[o];a.keyUpdaters.filter((function(p){return p.getKey()===n&&p.objectType===t})).forEach((function(p){return p.updateKey(i)})),a instanceof g.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(n,i,t,a.historyItems)}},s.MAX_HISTORY_ITEM_COUNT=100,s})();u.History=h},9751:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CompositionHistoryItem=void 0;var d=c(655),g=(function(h){function s(){var n=h.call(this,null)||this;return n.historyItems=[],n}return d.__extends(s,h),s.prototype.redo=function(){for(var n,i=0;n=this.historyItems[i];i++)n.redo()},s.prototype.undo=function(){for(var n,i=this.historyItems.length-1;n=this.historyItems[i];i--)n.undo()},s.prototype.add=function(n){if(n==null)throw new Error("Can't add null HistoryItem");this.historyItems.push(n)},s.prototype.undoItemsQuery=function(){this.undo()},s.prototype.setModelManipulator=function(n){if(h.prototype.setModelManipulator.call(this,n),this.historyItems)for(var i=0;i<this.historyItems.length;i++)this.historyItems[i].setModelManipulator(n)},s})(c(7917).HistoryItem);u.CompositionHistoryItem=g},1211:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.InsertDependencyHistoryItem=void 0;var d=c(655),g=c(8679),h=c(6124),s=(function(n){function i(t,r,o,a){var p=n.call(this,t)||this;return p.predecessorId=r,p.successorId=o,p.type=a,p}return d.__extends(i,n),i.prototype.redo=function(){var t;(t=this.insertedKey)!==null&&t!==void 0||(this.insertedKey=g.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},i.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:h.GanttDataObjectNames.dependency,getKey:function(){return t.insertedKey},updateKey:function(r){return t.insertedKey=r}},{objectType:h.GanttDataObjectNames.task,getKey:function(){return t.predecessorId},updateKey:function(r){return t.predecessorId=r}},{objectType:h.GanttDataObjectNames.task,getKey:function(){return t.successorId},updateKey:function(r){return t.successorId=r}}]},enumerable:!1,configurable:!0}),i})(c(7917).HistoryItem);u.InsertDependencyHistoryItem=s},5865:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveDependencyHistoryItem=void 0;var d=c(655),g=c(6124),h=(function(s){function n(i,t){var r=s.call(this,i)||this;return r.dependencyId=t,r}return d.__extends(n,s),n.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},n.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:g.GanttDataObjectNames.dependency,getKey:function(){return i.dependencyId},updateKey:function(t){return i.dependencyId=t}},{objectType:g.GanttDataObjectNames.task,getKey:function(){var t;return(t=i.dependency)===null||t===void 0?void 0:t.predecessorId},updateKey:function(t){return i.dependency.predecessorId=t}},{objectType:g.GanttDataObjectNames.task,getKey:function(){var t;return(t=i.dependency)===null||t===void 0?void 0:t.successorId},updateKey:function(t){return i.dependency.successorId=t}}]},enumerable:!1,configurable:!0}),n})(c(7917).HistoryItem);u.RemoveDependencyHistoryItem=h},7917:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.HistoryItem=void 0;var c=(function(){function d(g){this.setModelManipulator(g)}return d.prototype.setModelManipulator=function(g){this.modelManipulator=g},Object.defineProperty(d.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),d})();u.HistoryItem=c},5221:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.HistoryItemInfo=void 0;var c=function(d,g){g===void 0&&(g=!1),this.item=d,this.isUndo=g};u.HistoryItemInfo=c},3064:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.HistoryItemState=void 0;var c=function(d,g){this.id=d,this.value=g};u.HistoryItemState=c},3683:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AssignResourceHistoryItem=void 0;var d=c(655),g=c(7917),h=c(6124),s=c(8679),n=(function(i){function t(r,o,a){var p=i.call(this,r)||this;return p.resourceId=o,p.taskId=a,p}return d.__extends(t,i),t.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=s.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},t.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:h.GanttDataObjectNames.resourceAssignment,getKey:function(){return r.insertedKey},updateKey:function(o){return r.insertedKey=o}},{objectType:h.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(o){return r.taskId=o}},{objectType:h.GanttDataObjectNames.resource,getKey:function(){return r.resourceId},updateKey:function(o){return r.resourceId=o}}]},enumerable:!1,configurable:!0}),t})(g.HistoryItem);u.AssignResourceHistoryItem=n},1493:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DeassignResourceHistoryItem=void 0;var d=c(655),g=c(7917),h=c(6124),s=(function(n){function i(t,r){var o=n.call(this,t)||this;return o.assignmentId=r,o}return d.__extends(i,n),i.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},i.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:h.GanttDataObjectNames.resourceAssignment,getKey:function(){return t.assignmentId},updateKey:function(r){return t.assignmentId=r}},{objectType:h.GanttDataObjectNames.task,getKey:function(){var r;return(r=t.assignment)===null||r===void 0?void 0:r.taskId},updateKey:function(r){return t.assignment.taskId=r}},{objectType:h.GanttDataObjectNames.resource,getKey:function(){var r;return(r=t.assignment)===null||r===void 0?void 0:r.resourceId},updateKey:function(r){return t.assignment.resourceId=r}}]},enumerable:!1,configurable:!0}),i})(g.HistoryItem);u.DeassignResourceHistoryItem=s},2961:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CreateResourceHistoryItem=void 0;var d=c(655),g=c(7917),h=c(6124),s=c(8679),n=(function(i){function t(r,o,a,p){a===void 0&&(a="");var y=i.call(this,r)||this;return y.text=o,y.color=a,y.createCallback=p,y}return d.__extends(t,i),t.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=s.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},t.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:h.GanttDataObjectNames.resource,getKey:function(){return r.insertedKey},updateKey:function(o){return r.insertedKey=o}}]},enumerable:!1,configurable:!0}),t})(g.HistoryItem);u.CreateResourceHistoryItem=n},4641:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceColorHistoryItem=void 0;var d=c(655),g=(function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return d.__extends(s,h),s.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},s})(c(7049).ResourcePropertiesHistoryItemBase);u.ResourceColorHistoryItem=g},7049:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertiesHistoryItemBase=void 0;var d=c(655),g=c(6124),h=(function(s){function n(i,t,r){var o=s.call(this,i)||this;return o.resourceId=t,o.newValue=r,o}return d.__extends(n,s),n.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},n.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},n.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var i=this;return[{objectType:g.GanttDataObjectNames.resource,getKey:function(){return i.resourceId},updateKey:function(t){return i.resourceId=t}}]},enumerable:!1,configurable:!0}),n})(c(7917).HistoryItem);u.ResourcePropertiesHistoryItemBase=h},7466:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveResourceHistoryItem=void 0;var d=c(655),g=c(9751),h=c(6124),s=(function(n){function i(t,r){var o=n.call(this)||this;return o.modelManipulator=t,o.resourceId=r,o}return d.__extends(i,n),i.prototype.redo=function(){n.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},i.prototype.undo=function(){var t=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){t.resource.color&&t.modelManipulator.resource.properties.color.setValue(t.resource.internalId,t.resource.color),window.setTimeout((function(){return n.prototype.undo.call(t)}),0)}))},i.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){})),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),n.prototype.undo.call(this)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:h.GanttDataObjectNames.resource,getKey:function(){return t.resourceId},updateKey:function(r){return t.resourceId=r}}]},enumerable:!1,configurable:!0}),i})(g.CompositionHistoryItem);u.RemoveResourceHistoryItem=s},1284:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CreateTaskHistoryItem=void 0;var d=c(655),g=c(8679),h=c(6124),s=(function(n){function i(t,r){var o=n.call(this,t)||this;return o.data=r,o}return d.__extends(i,n),i.prototype.redo=function(){var t;(t=this.insertedKey)!==null&&t!==void 0||(this.insertedKey=g.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},i.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t,r=this,o=[{objectType:h.GanttDataObjectNames.task,getKey:function(){return r.insertedKey},updateKey:function(a){return r.insertedKey=a}}];return!((t=this.data)===null||t===void 0)&&t.parentId&&o.push({objectType:h.GanttDataObjectNames.task,getKey:function(){var a;return(a=r.data)===null||a===void 0?void 0:a.parentId},updateKey:function(a){return r.data.parentId=a}}),o},enumerable:!1,configurable:!0}),i})(c(7917).HistoryItem);u.CreateTaskHistoryItem=s},9599:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveTaskHistoryItem=void 0;var d=c(655),g=c(6124),h=c(9751),s=(function(n){function i(t,r){var o=n.call(this)||this;return o.modelManipulator=t,o.taskId=r,o}return d.__extends(i,n),i.prototype.redo=function(){n.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},i.prototype.undo=function(){var t=this;this.modelManipulator.task.create(this.task,this.taskId,(function(){window.setTimeout((function(){return n.prototype.undo.call(t)}),0)}))},i.prototype.undoItemsQuery=function(){var t;this.modelManipulator.task.create(this.task,this.taskId);for(var r=this.historyItems.length-1;t=this.historyItems[r];r--)t instanceof h.CompositionHistoryItem?t.undoItemsQuery():t.undo()},Object.defineProperty(i.prototype,"keyUpdaters",{get:function(){var t=this;return[{objectType:g.GanttDataObjectNames.task,getKey:function(){return t.taskId},updateKey:function(r){return t.taskId=r}},{objectType:g.GanttDataObjectNames.task,getKey:function(){var r;return(r=t.task)===null||r===void 0?void 0:r.parentId},updateKey:function(r){return t.task.parentId=r}}]},enumerable:!1,configurable:!0}),i})(h.CompositionHistoryItem);u.RemoveTaskHistoryItem=s},9496:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UpdateTaskHistoryItem=void 0;var d=c(655),g=c(6124),h=c(7917),s=c(3064),n=(function(i){function t(r,o,a){var p=i.call(this,r)||this;return p.taskId=o,p.newValues=a,p}return d.__extends(t,i),t.prototype.redo=function(){var r=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new s.HistoryItemState(this.taskId,r)},t.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:g.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(o){return r.taskId=o}}]},enumerable:!1,configurable:!0}),t})(h.HistoryItem);u.UpdateTaskHistoryItem=n},6382:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseManipulator=void 0;var c=(function(){function d(g,h){this.viewModel=g,this.dispatcher=h}return d.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(d.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),d})();u.BaseManipulator=c},1178:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskDependencyManipulator=void 0;var d=c(655),g=c(6124),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.insertDependency=function(i,t,r,o){var a=this.viewModel;a.onBeginDataObjectCreate();var p=a.dependencies.createItem();return p.predecessorId=i,p.successorId=t,p.type=r,o&&(p.internalId=o),p.id=p.internalId,a.dependencies.add(p),a.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(p.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(p),(function(y){var f=p.internalId;p.updateId(y),a.processServerInsertedKey(f,p.internalId,g.GanttDataObjectNames.dependency)}),this.getErrorCallback()),a.onEndDataObjectCreate(),p},n.prototype.removeDependency=function(i){var t=this.viewModel.dependencies.getItemById(i);return this.viewModel.dependencies.remove(t),this.dispatcher.notifyDependencyRemoved(t.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(t)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(t.internalId),t},n.prototype.getObjectForDataSource=function(i){var t=this.viewModel.tasks.getItemById(i.predecessorId),r=this.viewModel.tasks.getItemById(i.successorId);return{id:i.id,predecessorId:t.id,successorId:r.id,type:i.type}},n})(c(6382).BaseManipulator);u.TaskDependencyManipulator=h},9650:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ModelManipulator=void 0;var d=c(1178),g=c(7518),h=c(728),s=function(n,i){this.task=new h.TaskManipulator(n,i),this.dependency=new d.TaskDependencyManipulator(n,i),this.resource=new g.ResourcesManipulator(n,i),this.dispatcher=i};u.ModelManipulator=s},4596:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceColorManipulator=void 0;var d=c(655),g=(function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return d.__extends(s,h),s.prototype.getPropertyValue=function(n){return n.color},s.prototype.setPropertyValue=function(n,i){n.color=i,this.dispatcher.notifyResourceColorChanged(n.id,i,this.getErrorCallback())},s})(c(7470).ResourcePropertyManipulator);u.ResourceColorManipulator=g},79:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertiesManipulator=void 0;var d=c(655),g=c(6382),h=c(4596),s=(function(n){function i(t,r){var o=n.call(this,t,r)||this;return o.color=new h.ResourceColorManipulator(t,r),o}return d.__extends(i,n),i})(g.BaseManipulator);u.ResourcePropertiesManipulator=s},7470:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertyManipulator=void 0;var d=c(655),g=c(3064),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.setValue=function(i,t){var r=this,o=this.viewModel.resources.getItemById(i),a=new g.HistoryItemState(i,this.getPropertyValue(o));return this.setPropertyValue(o,t),this.viewModel.assignments.items.filter((function(p){return p.resourceId===o.internalId})).forEach((function(p){var y=r.viewModel.findItem(p.taskId).visibleIndex;r.renderHelper.recreateTaskElement(y)})),a},n.prototype.restoreValue=function(i){var t=this;if(i){var r=i.value,o=this.viewModel.resources.getItemById(i.id);this.setPropertyValue(o,r),this.viewModel.assignments.items.filter((function(a){return a.resourceId===o.internalId})).forEach((function(a){var p=t.viewModel.findItem(a.taskId).visibleIndex;t.renderHelper.recreateTaskElement(p)}))}},n})(c(6382).BaseManipulator);u.ResourcePropertyManipulator=h},7518:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcesManipulator=void 0;var d=c(655),g=c(6124),h=c(6382),s=c(79),n=(function(i){function t(r,o){var a=i.call(this,r,o)||this;return a.properties=new s.ResourcePropertiesManipulator(r,o),a}return d.__extends(t,i),t.prototype.create=function(r,o,a,p){var y=this.viewModel;y.onBeginDataObjectCreate();var f=y.resources.createItem();return f.text=r,o&&(f.color=o),a&&(f.internalId=a),f.id=f.internalId,this.viewModel.resources.add(f),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(f),(function(m){var _=f.internalId;f.updateId(m),y.processServerInsertedKey(_,f.internalId,g.GanttDataObjectNames.resource),p&&p(m)}),this.getErrorCallback()),y.onEndDataObjectCreate(),f},t.prototype.remove=function(r){var o=this.viewModel.resources.getItemById(r);if(!o)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter((function(a){return a.resourceId===r})).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(o),this.dispatcher.notifyResourceRemoved(o.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(o)),o},t.prototype.assign=function(r,o,a){var p=this.viewModel;p.onBeginDataObjectCreate();var y=p.assignments.createItem();return y.resourceId=r,y.taskId=o,a&&(y.internalId=a),y.id=y.internalId,this.viewModel.assignments.add(y),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(y),(function(f){var m=y.internalId;y.updateId(f),p.processServerInsertedKey(m,y.internalId,g.GanttDataObjectNames.resourceAssignment)}),this.getErrorCallback()),this.viewModel.updateModel(),p.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),y},t.prototype.deassig=function(r){var o=this.viewModel.assignments.getItemById(r);return this.viewModel.assignments.remove(o),this.dispatcher.notifyResourceUnassigned(o.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(o)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),o},t.prototype.getResourceObjectForDataSource=function(r){return{id:r.id,text:r.text}},t.prototype.getResourceAssignmentObjectForDataSource=function(r){return{id:r.id,taskId:this.viewModel.tasks.getItemById(r.taskId).id,resourceId:this.viewModel.resources.getItemById(r.resourceId).id}},t})(h.BaseManipulator);u.ResourcesManipulator=n},728:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskManipulator=void 0;var d=c(655),g=c(2491),h=c(6124),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.create=function(t,r,o){var a=this,p=this.viewModel;p.onBeginDataObjectCreate();var y=p.tasks.createItem();y.start=t.start,y.end=t.end,y.title=t.title,y.progress=t.progress,t.color&&(y.color=t.color);var f=p.tasks.getItemById(t.parentId);return f&&(f.expanded=!0),y.parentId=t.parentId,r&&(y.internalId=r),y.id=y.internalId,p.tasks.add(y),p.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(y),(function(m){var _=y.internalId;if(y.updateId(m),p.processServerInsertedKey(_,y.internalId,h.GanttDataObjectNames.task),o&&o(),a.viewModel.requireFirstLoadParentAutoCalc){var v=p.getCurrentTaskData().map((function(w){return w.parentId===""&&(w.parentId=null),w}));a.dispatcher.notifyParentDataRecalculated(v)}}),this.getErrorCallback()),p.onEndDataObjectCreate(),p.owner.resetAndUpdate(),y},i.prototype.remove=function(t){var r=this.viewModel.tasks.getItemById(t);if(!r)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter((function(o){return o.predecessorId==t||o.successorId==t})).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter((function(o){return o.taskId==t})).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(r),this.dispatcher.notifyTaskRemoved(r.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(r)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),r},i.prototype.update=function(t,r){var o=this.viewModel.tasks.getItemById(t),a={};Object.keys(r).forEach((function(y){(0,g.isDefined)(o[y])&&(a[y]=o[y],o[y]=r[y])}));var p=this.viewModel.findItem(t);return p&&this.renderHelper.recreateTaskElement(p.visibleIndex),this.dispatcher.notifyTaskUpdated(o.id,r,this.getErrorCallback()),a},i.prototype.getObjectForDataSource=function(t){return this.viewModel.getTaskObjectForDataSource(t)},i})(c(6382).BaseManipulator);u.TaskManipulator=s},2601:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttJsonUtils=void 0;var d=c(9937),g=(function(){function h(){}return h.parseJson=function(s){return d.JsonUtils.isValid(s)?JSON.parse(s):null},h})();u.GanttJsonUtils=g},8478:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationController=void 0;var d=c(655),g=c(2491),h=c(9201),s=c(5950),n=c(9496),i=c(858),t=c(7880),r=c(4927),o=(function(){function a(p){this.lockPredecessorToSuccessor=!0,this.settings=p}return Object.defineProperty(a.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),a.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},a.prototype.checkStartDependencies=function(p,y){var f=this,m=[],_=this.viewModel.tasks.getItemById(p);return this.viewModel.dependencies.items.filter((function(v){return v.successorId===p})).forEach((function(v){var w=f.viewModel.tasks.getItemById(v.predecessorId);(v.type===s.DependencyType.FS&&w.end>y||v.type===s.DependencyType.SS&&w.start>y)&&m.push(new r.ValidationError(v.internalId,!0)),(v.type===s.DependencyType.FS&&w.end.valueOf()===_.start.valueOf()&&y>w.end||v.type===s.DependencyType.SS&&w.start.valueOf()===_.start.valueOf()&&y>w.start)&&m.push(new r.ValidationError(v.internalId))})),m},a.prototype.checkEndDependencies=function(p,y){var f=this,m=[],_=this.viewModel.tasks.getItemById(p);return this.viewModel.dependencies.items.filter((function(v){return v.successorId===p})).forEach((function(v){var w=f.viewModel.tasks.getItemById(v.predecessorId);(v.type===s.DependencyType.SF&&w.start>y||v.type===s.DependencyType.FF&&w.end>y)&&m.push(new r.ValidationError(v.internalId,!0)),(v.type===s.DependencyType.SF&&w.start.valueOf()===_.end.valueOf()&&y>w.start||v.type===s.DependencyType.FF&&w.end.valueOf()===_.end.valueOf()&&y>w.end)&&m.push(new r.ValidationError(v.internalId))})),m},a.prototype.moveEndDependTasks=function(p,y,f){var m=this;f===void 0&&(f=null);var _=this.viewModel.dependencies.items.filter((function(w){return w.predecessorId===p&&!w.isStartDependency})),v=this.viewModel.tasks.getItemById(p);_.forEach((function(w){var S=m.viewModel.tasks.getItemById(w.successorId);if(!(!S||f&&m.viewModel.checkParent(S.internalId,f)||S.parentId===v.id)){var D=new i.DateRange(new Date(S.start.getTime()),new Date(S.end.getTime())),x=new i.DateRange(new Date(S.start.getTime()),new Date(S.end.getTime())),N=v.end.getTime()-y.getTime(),A=m.enablePredecessorGap?v.end:y;if(w.type===s.DependencyType.FS&&(S.start<A||m.lockPredecessorToSuccessor&&S.start.getTime()===y.getTime())?(x.start.setTime(v.end.getTime()),x.end.setTime(x.start.getTime()+(S.end.getTime()-S.start.getTime())),m.correctMoving(S.internalId,x)):w.type===s.DependencyType.FF&&(S.end<A||m.lockPredecessorToSuccessor&&S.end.getTime()===y.getTime())?(x.start.setTime(v.end.getTime()-(S.end.getTime()-S.start.getTime())),x.end.setTime(v.end.getTime()),m.correctMoving(S.internalId,x)):m.enablePredecessorGap||(x.start.setTime(S.start.getTime()+N),x.end.setTime(S.end.getTime()+N)),!D.equal(x)){var E={start:x.start,end:x.end};m.history.addAndRedo(new n.UpdateTaskHistoryItem(m.modelManipulator,w.successorId,E)),m.moveRelatedTasks(w,D,S,x)}}}))},a.prototype.moveStartDependTasks=function(p,y,f){var m=this;f===void 0&&(f=null);var _=this.viewModel.dependencies.items.filter((function(w){return w.predecessorId===p&&w.isStartDependency})),v=this.viewModel.tasks.getItemById(p);_.forEach((function(w){var S=m.viewModel.tasks.getItemById(w.successorId);if(!(!S||f&&m.viewModel.checkParent(S.internalId,f)||S.parentId===v.id)){var D=new i.DateRange(new Date(S.start.getTime()),new Date(S.end.getTime())),x=new i.DateRange(new Date(S.start.getTime()),new Date(S.end.getTime())),N=v.start.getTime()-y.getTime(),A=m.enablePredecessorGap?v.start:y;if(w.type===s.DependencyType.SF&&(S.end<A||m.lockPredecessorToSuccessor&&S.end.getTime()===y.getTime())?(x.start.setTime(v.start.getTime()-(S.end.getTime()-S.start.getTime())),x.end.setTime(v.start.getTime()),m.correctMoving(S.internalId,x)):w.type===s.DependencyType.SS&&(S.start<A||m.lockPredecessorToSuccessor&&S.start.getTime()===y.getTime())?(x.start.setTime(v.start.getTime()),x.end.setTime(v.start.getTime()+(S.end.getTime()-S.start.getTime())),m.correctMoving(S.internalId,x)):m.enablePredecessorGap||(x.start.setTime(S.start.getTime()+N),x.end.setTime(S.end.getTime()+N)),!D.equal(x)){var E={start:x.start,end:x.end};m.history.addAndRedo(new n.UpdateTaskHistoryItem(m.modelManipulator,w.successorId,E)),m.moveRelatedTasks(w,D,S,x)}}}))},a.prototype.moveRelatedTasks=function(p,y,f,m){var _=m.start.getTime()-y.start.getTime();this.correctParentsOnChildMoving(f.internalId,_),this.moveStartDependTasks(p.successorId,y.start),this.moveEndDependTasks(p.successorId,y.end)},a.prototype.getCorrectDateRange=function(p,y,f){var m=this,_=new i.DateRange(new Date(y),new Date(f));return d.__spreadArray(d.__spreadArray([],this.checkStartDependencies(p,_.start),!0),this.checkEndDependencies(p,_.end),!0).filter((function(v){return v.critical})).forEach((function(v){var w=m.viewModel.dependencies.getItemById(v.dependencyId),S=m.viewModel.tasks.getItemById(w.predecessorId);w.type===s.DependencyType.FS&&_.start<S.end&&_.start.setTime(S.end.getTime()),w.type===s.DependencyType.SS&&_.start<S.start&&_.start.setTime(S.start.getTime()),w.type===s.DependencyType.FF&&_.end<S.end&&_.end.setTime(S.end.getTime()),w.type===s.DependencyType.SF&&_.end<S.start&&_.end.setTime(S.start.getTime())})),_},a.prototype.correctMoving=function(p,y){var f=this,m=y.end.getTime()-y.start.getTime();return d.__spreadArray(d.__spreadArray([],this.checkStartDependencies(p,y.start),!0),this.checkEndDependencies(p,y.end),!0).filter((function(_){return _.critical})).forEach((function(_){var v=f.viewModel.dependencies.getItemById(_.dependencyId),w=f.viewModel.tasks.getItemById(v.predecessorId);v.type===s.DependencyType.FS&&y.start<w.end&&(y.start.setTime(w.end.getTime()),y.end.setTime(y.start.getTime()+m)),v.type===s.DependencyType.SS&&y.start<w.start&&(y.start.setTime(w.start.getTime()),y.end.setTime(y.start.getTime()+m)),v.type===s.DependencyType.FF&&y.end<w.end&&(y.end.setTime(w.end.getTime()),y.start.setTime(y.end.getTime()-m)),v.type===s.DependencyType.SF&&y.end<w.start&&(y.end.setTime(w.start.getTime()),y.start.setTime(y.end.getTime()-m))})),y},a.prototype.recalculateParents=function(p,y){for(var f=p&&p.parent;f&&f.task;){for(var m=f.children,_=this.range.end,v=this.range.start,w=0,S=0,D={id:f.task.internalId},x=0;x<m.length;x++){var N=m[x].task;if(N.isValid()){_=t.DateTimeUtils.getMinDate(_,N.start),v=t.DateTimeUtils.getMaxDate(v,N.end);var A=N.getDuration();w+=N.progress*A,S+=A}}t.DateTimeUtils.areDatesEqual(f.task.start,_)||(D.start=_),t.DateTimeUtils.areDatesEqual(f.task.end,v)||(D.end=v),D.oldStart=f.task.start,D.oldEnd=f.task.end,(w=S>0?Math.round(w/S):0)!==f.task.progress&&(D.progress=w),y(D),f=f.parent}},a.prototype.updateParentsRangeByChild=function(p){var y=this;this.recalculateParents(this.viewModel.findItem(p),(function(f){if((0,g.isDefined)(f.id)){var m=y.history,_=y.modelManipulator;(0,g.isDefined)(f.start)&&(m.addAndRedo(new n.UpdateTaskHistoryItem(_,f.id,{start:f.start})),y.moveStartDependTasks(f.id,f.oldStart)),(0,g.isDefined)(f.end)&&(m.addAndRedo(new n.UpdateTaskHistoryItem(_,f.id,{end:f.end})),y.moveEndDependTasks(f.id,f.oldEnd)),(0,g.isDefined)(f.progress)&&m.addAndRedo(new n.UpdateTaskHistoryItem(_,f.id,{progress:f.progress}))}}))},a.prototype.updateChildRangeByParent=function(p,y,f){var m=this.viewModel.findItem(p);if(m&&m.children.length!==0)for(var _=m.children,v=0;v<_.length;v++){var w=_[v].task,S=new Date(w.start.getTime()+y),D=h.DateUtils.getRangeMSPeriod(w.start,w.end),x=h.DateUtils.getDSTCorrectedTaskEnd(S,D);f.push({id:w.internalId,start:w.start,end:w.end}),this.history.addAndRedo(new n.UpdateTaskHistoryItem(this.modelManipulator,w.internalId,{start:S,end:x})),this.updateChildRangeByParent(w.internalId,y,f)}},a.prototype.updateParentsIfRequired=function(p){this._parentAutoCalc&&(this.updateParentsRangeByChild(p),this.updateOwnerInAutoParentMode())},a.prototype.correctParentsOnChildMoving=function(p,y){var f=this;if(this._parentAutoCalc&&y!==0){this.updateParentsRangeByChild(p);var m=[];this.updateChildRangeByParent(p,y,m),this.isValidateDependenciesRequired&&m.forEach((function(_){f.moveStartDependTasks(_.id,_.start,p),f.moveEndDependTasks(_.id,_.end,p)})),this.updateOwnerInAutoParentMode()}},a.prototype.canCreateDependency=function(p,y){return this.viewModel.canCreateDependency(p,y)},a})();u.ValidationController=o},4927:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationError=void 0;var c=function(d,g){g===void 0&&(g=!1),this.dependencyId=d,this.critical=g};u.ValidationError=c},6350:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ViewVisualModelDependencyInfo=void 0;var c=function(d,g,h){this.id=d,this.predecessor=g,this.type=h};u.ViewVisualModelDependencyInfo=c},3562:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ViewVisualModelItem=void 0;var d=c(2491),g=c(6353),h=(function(){function s(n,i){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=n,this.resources=i,this.children=new Array,this.isCustom=!1,this.size=new g.Size(0,0)}return Object.defineProperty(s.prototype,"resourceText",{get:function(){var n="";return this.resources.items.forEach((function(i){return n+=i.text+" "})),n},enumerable:!1,configurable:!0}),s.prototype.addChild=function(n){(0,d.isDefined)(n)&&this.children.indexOf(n)<0&&this.children.push(n)},s.prototype.removeChild=function(n){var i=this.children.indexOf(n);i>-1&&this.children.splice(i,1)},s.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},s.prototype.getVisible=function(){if(!this.visible)return!1;for(var n=this.parent;n;){if(!n.visible)return!1;n=n.parent}return!0},s.prototype.changeVisibility=function(n){this.visible=n},s.prototype.changeSelection=function(n){this.selected=n},s.prototype.setDependencies=function(n){n&&(this.dependencies=n.slice())},s})();u.ViewVisualModelItem=h},1408:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ViewVisualModel=void 0;var d=c(8828),g=c(9504),h=c(7380),s=c(9883),n=c(3562),i=c(6350),t=c(21),r=c(2491),o=c(6124),a=c(7352),p=c(2301),y=c(7437),f=(function(){function m(_,v,w,S,D,x,N){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=_,this.tasks=new g.TaskCollection,this.tasks.importFromObject(v),this.dependencies=new h.DependencyCollection,this.dependencies.importFromObject(w),this.resources=new d.ResourceCollection,this.resources.importFromObject(S),this.assignments=new s.ResourceAssignmentCollection,this.assignments.importFromObject(D),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new t.WorkingTimeCalculator(x,N),this.updateModel(!0)}return Object.defineProperty(m.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),m.prototype.updateModel=function(_){this._itemList.splice(0,this._itemList.length);for(var v=this.tasks.items,w=0;w<v.length;w++){var S=v[w];S&&this._itemList.push(new n.ViewVisualModelItem(S,this.getAssignedResources(S)))}this.createHierarchy(_),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},m.prototype.createHierarchy=function(_){var v=this;this.root=new n.ViewVisualModelItem(null,null);for(var w=this._itemList,S=w.reduce((function(E,H){var B,K=(B=H.task)===null||B===void 0?void 0:B.internalId;return(0,r.isDefined)(K)&&(E[K]=H),E}),{}),D=this.requireFirstLoadParentAutoCalc&&_,x=0;x<w.length;x++){var N=w[x],A=S[N.task.parentId]||this.root;N.parent=A,A.addChild(N),D&&this.owner.validationController.recalculateParents(N,(function(E){if((0,r.isDefined)(E.id)){var H=v.tasks.getItemById(E.id);(0,r.isDefined)(E.start)&&(H.start=E.start),(0,r.isDefined)(E.end)&&(H.end=E.end),(0,r.isDefined)(E.progress)&&(H.progress=E.progress)}}))}D&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},m.prototype.getCurrentTaskData=function(){var _=this;return this.tasks.items.map((function(v){return _.getTaskObjectForDataSource(v)}))},m.prototype.getTaskObjectForDataSource=function(_){var v=_.parentId&&this.tasks.getItemById(_.parentId),w=this.getRootTaskId(),S=w&&_.parentId===w?this.getRootRawValue():v==null?void 0:v.id;return{id:_.id,start:_.isValidStart()?_.start:null,end:_.isValidEnd()?_.end:null,duration:_.duration,description:_.description,parentId:S,progress:_.progress,color:_.color,taskType:_.taskType,title:_.title,customFields:_.customFields,expanded:_.expanded}},m.prototype.getDependencyObjectForDataSource=function(_){var v=_ instanceof a.Dependency?_:this.getItemByPublicId("dependency",_);if(v){var w=this.convertInternalToPublicKey("task",v.predecessorId),S=this.convertInternalToPublicKey("task",v.successorId);return{id:v.id,predecessorId:(0,r.isDefined)(w)?w:v.predecessorId,successorId:(0,r.isDefined)(S)?S:v.successorId,type:v.type}}return null},m.prototype.getResourceObjectForDataSource=function(_){var v=_ instanceof p.Resource?_:this.getItemByPublicId("resource",_);return v?{id:v.id,text:v.text,color:v.color}:null},m.prototype.getResourceAssignmentObjectForDataSource=function(_){var v=_ instanceof y.ResourceAssignment?_:this.getItemByPublicId("assignment",_);if(v){var w=this.convertInternalToPublicKey("task",v.taskId),S=this.convertInternalToPublicKey("resource",v.resourceId);return{id:v.id,taskId:(0,r.isDefined)(w)?w:v.taskId,resourceId:(0,r.isDefined)(S)?S:v.resourceId}}return null},m.prototype.getRootRawValue=function(){var _,v,w;return(w=(v=(_=this.root.children[0])===null||_===void 0?void 0:_.task)===null||v===void 0?void 0:v.rawParentId)!==null&&w!==void 0?w:null},m.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},m.prototype.populateVisibleItems=function(_){var v=this,w=_===this.root;_&&(_.task||w)&&(w||(this._viewItemList.push(_),_.visibleIndex=this._viewItemList.length-1),(_.getExpanded()||_===this.root)&&_.children.forEach((function(S){return v.populateVisibleItems(S)})))},m.prototype.updateVisibleItemDependencies=function(){for(var _=this._viewItemList,v=0;v<_.length;v++){var w=_[v],S=this.getTasVisibleDependencies(w.task);w.setDependencies(S)}},m.prototype.getAssignedResources=function(_){var v=this,w=new d.ResourceCollection;return this.assignments.items.filter((function(S){return S.taskId==_.internalId})).forEach((function(S){w.add(v.resources.getItemById(S.resourceId))})),w},m.prototype.getTasVisibleDependencies=function(_){for(var v=new Array,w=_.internalId,S=this.dependencies.items.filter((function(A){return A.successorId==w})),D=0;D<S.length;D++){var x=S[D],N=this.findItem(x.predecessorId);N&&N.getVisible()&&v.push(new i.ViewVisualModelDependencyInfo(x.internalId,N,x.type))}return v},m.prototype.changeTaskExpanded=function(_,v){var w=this.tasks.getItemById(String(_));w&&(w.expanded=v,this.changed())},m.prototype.changeTaskVisibility=function(_,v){var w=this.findItem(_);w&&(w.visible=v,this.changed())},m.prototype.changeTaskSelected=function(_,v){var w=this._itemList.filter((function(x){return x.task&&x.task.internalId===_}))[0];if(w){w.selected=v;var S=this.findItem(_),D=S&&S.visibleIndex;D>-1&&this.renderHelper.recreateTaskElement(D)}},m.prototype.beginUpdate=function(){this._fLockCount++},m.prototype.endUpdate=function(){this._fLockCount--,this._fLockCount==0&&this.changed()},m.prototype.compareTaskOrder=function(_){var v=new g.TaskCollection;v.importFromObject(_);var w=v.items,S=this.tasks.items;if(w.length!==S.length)return!1;for(var D=0;D<w.length;D++){var x=w[D],N=S[D];if(x.id!==N.id)return!1}return!0},m.prototype.refreshTaskDataIfRequires=function(_){var v=!this.lockChangesProcessing&&!this.compareTaskOrder(_);if(v){var w=this.saveTaskInternalIds();this.tasks.importFromObject(_),this.restoreTaskInternalIds(w),this.updateModel()}return v},m.prototype.saveTaskInternalIds=function(){var _={};return this.tasks.items.map((function(v){return _[v.id]=v.internalId})),_},m.prototype.restoreTaskInternalIds=function(_){for(var v in _)if(Object.prototype.hasOwnProperty.call(_,v)){var w=this.tasks.getItemByPublicId(v);w&&(w.internalId=_[v])}},m.prototype.canCreateDependency=function(_,v){if(!_||!v||_===v)return!1;var w=!1;if(this.enableDependencyValidation){var S=this.getDependentTasksHash();w=this.parentAutoCalc?this.checkTasksInterdependence(_,v,S)||this.checkParent(_,v)||this.checkParent(v,_):this.checkDependencyChain([_],[v],S,[])}return!w},m.prototype.checkParent=function(_,v){return this.getTaskTreeLine(_).indexOf(v)>-1},m.prototype.getTaskTreeLine=function(_){var v=[_],w=this.findItem(_);if(w)for(w=w.parent;w!=null&&w.task;)v.push(w==null?void 0:w.task.internalId),w=w.parent;else for(var S=this.tasks.getItemById(_),D=this.tasks.getItemById(S==null?void 0:S.parentId);D;)v.push(D.id),D=this.tasks.getItemById(D.parentId);return v},m.prototype.getDependentTasksHash=function(){var _={};return this.dependencies.items.forEach((function(v){var w,S,D=v.predecessorId,x=v.successorId;(w=_[D])!==null&&w!==void 0||(_[D]=[]),_[D].indexOf(x)<0&&_[D].push(x),(S=_[x])!==null&&S!==void 0||(_[x]=[]),_[x].indexOf(D)<0&&_[x].push(D)})),_},m.prototype.checkTasksInterdependence=function(_,v,w){for(var S,D,x=this.getTaskTreeLine(_).reverse(),N=this.getTaskTreeLine(v).reverse(),A=0;A<x.length-1;A++){var E=x[A],H=N.indexOf(E);H>-1&&(S=x[A+1],D=N[H+1])}return S||D||(S=x[0],D=N[0]),this.checkDependencyChain(this.getBranchIds(S),this.getBranchIds(D),w,[])},m.prototype.checkDependencyChain=function(_,v,w,S){if(_.some((function(N){return v.indexOf(N)>-1})))return!0;S.push.apply(S,_);for(var D=0;D<_.length;D++){var x=w[_[D]];if(x&&this.checkDependencyChain(x.filter((function(N){return S.indexOf(N)===-1})),v,w,S))return!0}return!1},m.prototype.getBranchIds=function(_){var v=this,w=[_],S=this.findItem(_),D=S==null?void 0:S.children;return D&&D.forEach((function(x){var N,A=(N=x.task)===null||N===void 0?void 0:N.internalId;A&&(w=w.concat(v.getBranchIds(A)))})),w},m.prototype.getTasksExpandedState=function(){var _=this.tasks.items,v={};return _.forEach((function(w){return v[w.id]=w.expanded})),v},m.prototype.applyTasksExpandedState=function(_){if(_){for(var v in this.beginUpdate(),_)Object.prototype.hasOwnProperty.call(_,v)&&this.changeTaskExpanded(v,_[v]);this.endUpdate()}},m.prototype.changed=function(){this._fLockCount===0&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},m.prototype.findItem=function(_){return this._viewItemList.filter((function(v){return v.task&&v.task.internalId===_}))[0]},Object.defineProperty(m.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),m.prototype.getTaskVisibility=function(_){var v=this.findItem(_);return!!v&&v.getVisible()},m.prototype.getTaskSelected=function(_){var v=this.findItem(_);return!!v&&v.selected},Object.defineProperty(m.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),m.prototype.updateRange=function(_){this._workTimeCalculator.updateRange(_)},m.prototype.taskHasChildrenByIndex=function(_){return this._viewItemList[_].children.length>0},m.prototype.taskHasChildren=function(_){var v=this.findItem(_);return v&&v.children.length>0},Object.defineProperty(m.prototype,"enableDependencyValidation",{get:function(){var _,v=this.owner&&this.owner.settings;return(_=v==null?void 0:v.validation)===null||_===void 0?void 0:_.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"parentAutoCalc",{get:function(){var _=this.owner&&this.owner.settings;return _&&_.validation&&_.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"enablePredecessorGap",{get:function(){var _=this.owner&&this.owner.settings;return _&&_.validation&&_.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),m.prototype.isTaskToCalculateByChildren=function(_){return this.parentAutoCalc&&this.taskHasChildren(_)},m.prototype.hasTasks=function(){return this.tasks.length>0},m.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},m.prototype.convertPublicToInternalKey=function(_,v){var w=this.getItemByPublicId(_,v);return w&&w.internalId},m.prototype.convertInternalToPublicKey=function(_,v){var w=this.getItemByInternalId(_,v);return w&&w.id},m.prototype.getItemByPublicId=function(_,v){var w=v.toString();switch(_){case"task":return this.tasks.getItemByPublicId(w);case"dependency":return this.dependencies.getItemByPublicId(w);case"resource":return this.resources.getItemByPublicId(w);case"assignment":return this.assignments.getItemByPublicId(w)}return null},m.prototype.getItemByInternalId=function(_,v){switch(_){case"task":return this.tasks.getItemById(v);case"dependency":return this.dependencies.getItemById(v);case"resource":return this.resources.getItemById(v);case"assignment":return this.assignments.getItemById(v)}return null},m.prototype.findAssignment=function(_,v){var w=this.convertPublicToInternalKey("resource",_),S=this.convertPublicToInternalKey("task",v);return this.assignments.items.filter((function(D){return D.resourceId===w&&D.taskId===S}))[0]},m.prototype.findAllTaskAssignments=function(_){return this.assignments.items.filter((function(v){return v.taskId===_}))},m.prototype.getAllVisibleTaskIndices=function(_,v){var w,S=[];_!=null||(_=0),v!=null||(v=this._viewItemList.length-1);for(var D=_;D<=v;D++){var x=this._viewItemList[D];x!=null&&x.getVisible()&&(!((w=x==null?void 0:x.task)===null||w===void 0)&&w.isValid())&&S.push(D)}return S},m.prototype.getVisibleTasks=function(){var _=this;return this.tasks.items.filter((function(v){return v&&_.getTaskVisibility(v.internalId)&&v.isValid()}))},m.prototype.getVisibleDependencies=function(){var _=this.getVisibleTasks().map((function(v){return v.internalId}));return this.dependencies.items.filter((function(v){return v&&_.indexOf(v.successorId)>-1&&_.indexOf(v.predecessorId)>-1}))},m.prototype.getVisibleResourceAssignments=function(){var _=this.getVisibleTasks().map((function(v){return v.internalId}));return this.assignments.items.filter((function(v){return v&&_.indexOf(v.taskId)>-1}))},m.prototype.getVisibleResources=function(){for(var _=[],v=this.getVisibleResourceAssignments(),w=0;w<v.length;w++){var S=this.getItemByInternalId("resource",v[w].resourceId);S&&_.indexOf(S)===-1&&_.push(S)}return _},m.prototype.getRootTaskId=function(){var _;return(_=this.rootTaskId)!==null&&_!==void 0||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},m.prototype.calculateRootTaskId=function(){var _=this.items[0];if(!_)return null;for(;_.parent&&_.task;)_=_.parent;return _.children[0].task.parentId},m.prototype.getTaskMinStart=function(){var _=this.owner.dataRange.start;return this.tasks.items.forEach((function(v){v.isValid()&&v.start.getTime()<_.getTime()&&(_=v.start)})),_},m.prototype.getTaskMaxEnd=function(){var _=this.owner.dataRange.end;return this.tasks.items.forEach((function(v){v.isValid()&&v.end.getTime()>_.getTime()&&(_=v.end)})),_},m.prototype.processServerInsertedKey=function(_,v,w){var S;w===o.GanttDataObjectNames.task&&this.tasks.invalidate(),w===o.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),w===o.GanttDataObjectNames.resource&&this.resources.invalidate(),w===o.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),(S=this.owner)===null||S===void 0||S.updateHistoryObsoleteInsertedKey(_,v,w)},m.prototype.onBeginDataObjectCreate=function(){var _,v;(v=(_=this.owner).lockUpdateWithReload)===null||v===void 0||v.call(_)},m.prototype.onEndDataObjectCreate=function(){var _,v;(v=(_=this.owner).unlockUpdateWithReload)===null||v===void 0||v.call(_)},m})();u.ViewVisualModel=f},858:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DateRange=void 0;var c=(function(){function d(g,h){this.start=g,this.end=h}return d.prototype.equal=function(g){var h=!0;return h=(h=h&&this.start.getTime()===g.start.getTime())&&this.end.getTime()===g.end.getTime()},d})();u.DateRange=c},7880:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DateTimeUtils=void 0;var d=c(2753),g=c(9331),h=c(2491),s=c(858),n=c(7812),i=(function(){function t(){}return t.compareDates=function(r,o){return r&&o?o.getTime()-r.getTime():-1},t.areDatesEqual=function(r,o){return this.compareDates(r,o)==0},t.getMaxDate=function(r,o){return r||o?r?o&&this.compareDates(r,o)>0?o:r:o:null},t.getMinDate=function(r,o){return r||o?r?o?this.compareDates(r,o)>0?r:o:r:o:null},t.getDaysBetween=function(r,o){var a=Math.abs(o.getTime()-r.getTime());return Math.ceil(a/this.msInDay)},t.getWeeksBetween=function(r,o){var a=this.getDaysBetween(r,o),p=Math.floor(a/7);return r.getDay()>o.getDay()&&p++,p},t.getMonthsDifference=function(r,o){var a=this.compareDates(r,o),p=a>=0?r:o,y=a>=0?o:r;return 12*(y.getFullYear()-p.getFullYear())+(y.getMonth()-p.getMonth())},t.getYearsDifference=function(r,o){return Math.abs(o.getFullYear()-r.getFullYear())},t.getDayNumber=function(r){return Math.ceil(r.getTime()/this.msInDay)},t.getDateByDayNumber=function(r){var o=new Date(r*this.msInDay);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o},t.addDays=function(r,o){return new Date(r.getTime()+o*this.msInDay)},t.checkDayOfMonth=function(r,o){return r==o.getDate()},t.checkDayOfWeek=function(r,o){return r==o.getDay()},t.checkMonth=function(r,o){return r==o.getMonth()},t.checkYear=function(r,o){return r==o.getFullYear()},t.checkDayOfWeekOccurrenceInMonth=function(r,o,a){var p=this.getSpecificDayOfWeekInMonthDates(o,r.getFullYear(),r.getMonth());return a==n.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(r,p[p.length-1]):this.areDatesEqual(r,p[a])},t.getFirstDayOfWeekInMonth=function(r,o){return new Date(r,o,1).getDay()},t.getSpecificDayOfWeekInMonthDates=function(r,o,a){for(var p=this.getFirstDayOfWeekInMonth(o,a),y=r>=p?r-p:r+7-p,f=new Array,m=new Date(o,a,y+1);m.getMonth()==a;)f.push(m),m=this.addDays(m,7);return f},t.getSpecificDayOfWeekInMonthDate=function(r,o,a,p){var y=this.getSpecificDayOfWeekInMonthDates(r,o,a);return p==n.DayOfWeekMonthlyOccurrence.Last?y[y.length-1]:y[p]},t.checkValidDayInMonth=function(r,o,a){return!(a<1||a>31||new Date(r,o,a).getMonth()!=o)},t.getNextMonth=function(r,o){return o===void 0&&(o=1),(r+o)%12},t.convertToDate=function(r){if(r instanceof Date)return new Date(r);var o=Date.parse(r);return isNaN(o)?null:new Date(o)},t.convertTimeRangeToDateRange=function(r,o){var a=this.getDateByDayNumber(o),p=a.getFullYear(),y=a.getMonth(),f=a.getDate(),m=r.start,_=new Date(p,y,f,m.hour,m.min,m.sec,m.msec),v=r.end,w=new Date(p,y,f,v.hour,v.min,v.sec,v.msec);return new s.DateRange(_,w)},t.convertToTimeRanges=function(r){var o=this;return r instanceof Array?r.map((function(a){return o.convertToTimeRange(a)})):this.parseTimeRanges(r)},t.convertToTimeRange=function(r){return r?r instanceof g.TimeRange?r:(0,h.isDefined)(r.start)&&(0,h.isDefined)(r.end)?new g.TimeRange(this.convertToTime(r.start),this.convertToTime(r.end)):this.parseTimeRange(r):null},t.convertToTime=function(r){return r?r instanceof d.Time?r:r instanceof Date?this.getTimeGromJsDate(r):this.parseTime(r):null},t.parseTimeRanges=function(r){var o=this;return r?r.split(/;|,/).map((function(a){return o.parseTimeRange(a)})).filter((function(a){return!!a})):null},t.parseTimeRange=function(r){if(!r)return null;var o=r.split("-"),a=o[0],p=o[1];return(0,h.isDefined)(a)&&(0,h.isDefined)(p)?new g.TimeRange(this.parseTime(a),this.parseTime(p)):null},t.parseTime=function(r){if(!r)return null;var o=r.split(":"),a=parseInt(o[0])||0,p=parseInt(o[1])||0,y=parseInt(o[2])||0,f=parseInt(o[3])||0;return new d.Time(a,p,y,f)},t.getTimeGromJsDate=function(r){if(!r)return null;var o=r.getHours(),a=r.getMinutes(),p=r.getSeconds(),y=r.getMilliseconds();return new d.Time(o,a,p,y)},t.caclTimeDifference=function(r,o){return o.getTimeInMilleconds()-r.getTimeInMilleconds()},t.areTimesEqual=function(r,o){return this.caclTimeDifference(r,o)==0},t.getMaxTime=function(r,o){return r||o?r?o&&this.caclTimeDifference(r,o)>0?o:r:o:null},t.getMinTime=function(r,o){return r||o?r?o?this.caclTimeDifference(r,o)>0?r:o:r:o:null},t.getLastTimeOfDay=function(){return new d.Time(23,59,59,999)},t.msInDay=864e5,t})();u.DateTimeUtils=i},8719:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DayOfWeek=void 0,(function(c){c[c.Sunday=0]="Sunday",c[c.Monday=1]="Monday",c[c.Tuesday=2]="Tuesday",c[c.Wednesday=3]="Wednesday",c[c.Thursday=4]="Thursday",c[c.Friday=5]="Friday",c[c.Saturday=6]="Saturday"})(u.DayOfWeek||(u.DayOfWeek={}))},7812:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DayOfWeekMonthlyOccurrence=void 0,(function(c){c[c.First=0]="First",c[c.Second=1]="Second",c[c.Third=2]="Third",c[c.Forth=3]="Forth",c[c.Last=4]="Last"})(u.DayOfWeekMonthlyOccurrence||(u.DayOfWeekMonthlyOccurrence={}))},1805:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DayWorkingTimeInfo=void 0;var d=c(9331),g=c(7880),h=c(2753),s=(function(){function n(i,t,r){i===void 0&&(i=0),t===void 0&&(t=!0),r===void 0&&(r=null),this._workingIntervals=new Array,this.dayNumber=i,this.isWorkDay=t,this.addWorkingIntervals(r)}return n.prototype.addWorkingIntervals=function(i){i&&(this._workingIntervals=this._workingIntervals.concat(i.filter((function(t){return!!t}))),this.rearrangeWorkingIntervals())},n.prototype.rearrangeWorkingIntervals=function(){for(var i=0;i<this._workingIntervals.length;i++)this.concatWithIntersectedRanges(this._workingIntervals[i]);this.sortIntervals()},n.prototype.concatWithIntersectedRanges=function(i){var t=this;this.getIntersectedIntervals(i).forEach((function(r){i.concatWith(r),t.removeInterval(r)}))},n.prototype.getIntersectedIntervals=function(i){return this._workingIntervals.filter((function(t){return t.hasIntersect(i)&&t!==i}))},n.prototype.sortIntervals=function(){this._workingIntervals.sort((function(i,t){return g.DateTimeUtils.caclTimeDifference(t.start,i.start)}))},n.prototype.removeInterval=function(i){var t=this._workingIntervals.indexOf(i);t>-1&&t<this._workingIntervals.length&&this._workingIntervals.splice(t,1)},n.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(n.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"noWorkingIntervals",{get:function(){var i=new Array;if(this.isWorkDay&&this._workingIntervals.length===0)return i;var t=this._workingIntervals.map((function(y){return y.end}));t.splice(0,0,new h.Time);var r=this._workingIntervals.map((function(y){return y.start}));r.push(g.DateTimeUtils.getLastTimeOfDay());for(var o=0;o<t.length;o++){var a=t[o],p=r[o];g.DateTimeUtils.areTimesEqual(a,p)||i.push(new d.TimeRange(a,p))}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(i){this._isWorkDay=i,i||this.clearIntervals()},enumerable:!1,configurable:!0}),n})();u.DayWorkingTimeInfo=s},3110:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Month=void 0,(function(c){c[c.January=0]="January",c[c.February=1]="February",c[c.March=2]="March",c[c.April=3]="April",c[c.May=4]="May",c[c.June=5]="June",c[c.July=6]="July",c[c.August=7]="August",c[c.September=8]="September",c[c.October=9]="October",c[c.November=10]="November",c[c.December=11]="December"})(u.Month||(u.Month={}))},7872:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MonthInfo=void 0;var d=c(7880),g=(function(){function h(s,n){this.month=s,this.year=n}return h.prototype.addMonths=function(s){var n=d.DateTimeUtils.getNextMonth(this.month,s),i=Math.floor(s/12);n<this.month&&++i,this.month=n,this.year+=i},h})();u.MonthInfo=g},4902:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Daily=void 0;var d=c(655),g=c(1789),h=c(7880),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.checkDate=function(t){return!0},i.prototype.checkInterval=function(t){return h.DateTimeUtils.getDaysBetween(this.start,t)%this.interval==0},i.prototype.calculatePointByInterval=function(t){var r=this.interval;return this.isRecurrencePoint(t)||(r-=h.DateTimeUtils.getDaysBetween(this.start,t)%this.interval),h.DateTimeUtils.addDays(t,r)},i.prototype.calculateNearestPoint=function(t){return h.DateTimeUtils.addDays(t,1)},i})(g.RecurrenceBase);u.Daily=s},4390:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Monthly=void 0;var d=c(655),g=c(1789),h=c(7880),s=c(7872),n=(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(t,i),t.prototype.checkDate=function(r){return this._calculateByDayOfWeek?h.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(r,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):h.DateTimeUtils.checkDayOfMonth(this.dayInternal,r)},t.prototype.checkInterval=function(r){return h.DateTimeUtils.getMonthsDifference(this.start,r)%this.interval==0},t.prototype.calculatePointByInterval=function(r){var o=this.start,a=h.DateTimeUtils.getMonthsDifference(o,r),p=Math.floor(a/this.interval)*this.interval,y=new s.MonthInfo(o.getMonth(),o.getFullYear());y.addMonths(p);var f=this.getSpecDayInMonth(y.year,y.month);return h.DateTimeUtils.compareDates(f,r)>=0&&(y.addMonths(this.interval),f=this.getSpecDayInMonth(y.year,y.month)),f},t.prototype.calculateNearestPoint=function(r){var o=r.getMonth(),a=r.getFullYear(),p=this.getSpecDayInMonth(a,o);if(h.DateTimeUtils.compareDates(p,r)>=0){var y=new s.MonthInfo(o,a);y.addMonths(1),p=this.getSpecDayInMonth(y.year,y.month)}return p},Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(r){this.dayInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(r){this.dayOfWeekInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(r){this.dayOfWeekOccurrenceInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(r){this._calculateByDayOfWeek=r},enumerable:!1,configurable:!0}),t})(g.RecurrenceBase);u.Monthly=n},1789:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RecurrenceBase=void 0;var d=c(655),g=c(8719),h=c(7812),s=c(3110),n=c(2491),i=c(7880),t=c(9612),r=(function(o){function a(p,y,f,m){p===void 0&&(p=null),y===void 0&&(y=null),f===void 0&&(f=1),m===void 0&&(m=0);var _=o.call(this)||this;return _._start=null,_._end=null,_._interval=1,_._occurrenceCount=0,_._dayOfWeek=0,_._day=1,_._dayOfWeekOccurrence=0,_._month=0,_._calculateByDayOfWeek=!1,_.start=p,_.end=y,_.interval=f,_.occurrenceCount=m,_}return d.__extends(a,o),a.prototype.assignFromObject=function(p){(0,n.isDefined)(p)&&(o.prototype.assignFromObject.call(this,p),this.start=i.DateTimeUtils.convertToDate(p.start),this.end=i.DateTimeUtils.convertToDate(p.end),(0,n.isDefined)(p.interval)&&(this.interval=p.interval),(0,n.isDefined)(p.occurrenceCount)&&(this.occurrenceCount=p.occurrenceCount),(0,n.isDefined)(p.dayOfWeek)&&(this.dayOfWeekInternal=t.RecurrenceFactory.getEnumValue(g.DayOfWeek,p.dayOfWeek)),(0,n.isDefined)(p.day)&&(this.dayInternal=p.day),(0,n.isDefined)(p.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=t.RecurrenceFactory.getEnumValue(h.DayOfWeekMonthlyOccurrence,p.dayOfWeekOccurrence)),(0,n.isDefined)(p.month)&&(this.monthInternal=t.RecurrenceFactory.getEnumValue(s.Month,p.month)),(0,n.isDefined)(p.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!p.calculateByDayOfWeek))},a.prototype.calculatePoints=function(p,y){if(!p||!y)return new Array;var f=i.DateTimeUtils.getMaxDate(p,this._start),m=i.DateTimeUtils.getMinDate(y,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(f,m):this.calculatePointsByDateRange(f,m)},a.prototype.calculatePointsByOccurrenceCount=function(p,y){for(var f=new Array,m=this.getFirstPoint(p);m&&f.length<this._occurrenceCount&&i.DateTimeUtils.compareDates(m,y)>=0;)this.isRecurrencePoint(m)&&f.push(m),m=this.getNextPoint(m);return f},a.prototype.calculatePointsByDateRange=function(p,y){for(var f=new Array,m=this.getFirstPoint(p);m&&i.DateTimeUtils.compareDates(m,y)>=0;)this.isRecurrencePoint(m)&&f.push(m),m=this.getNextPoint(m);return f},a.prototype.getFirstPoint=function(p){return this.isRecurrencePoint(p)?p:this.getNextPoint(p)},a.prototype.isRecurrencePoint=function(p){return this.isDateInRange(p)&&this.checkDate(p)&&(!this.useIntervalInCalc()||this.checkInterval(p))},a.prototype.isDateInRange=function(p){return!!p&&!(this._start&&i.DateTimeUtils.compareDates(this.start,p)<0)&&!(this._occurrenceCount==0&&this.end&&i.DateTimeUtils.compareDates(p,this.end)<0)},a.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},a.prototype.getNextPoint=function(p){return this.isDateInRange(p)?this.useIntervalInCalc()?this.calculatePointByInterval(p):this.calculateNearestPoint(p):null},a.prototype.getSpecDayInMonth=function(p,y){return this._calculateByDayOfWeek?i.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,p,y,this.dayOfWeekOccurrenceInternal):new Date(p,y,this.dayInternal)},Object.defineProperty(a.prototype,"dayInternal",{get:function(){return this._day},set:function(p){p>0&&p<=31&&(this._day=p)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(p){p>=g.DayOfWeek.Sunday&&p<=g.DayOfWeek.Saturday&&(this._dayOfWeek=p)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(p){p>=h.DayOfWeekMonthlyOccurrence.First&&p<=h.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=p)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"monthInternal",{get:function(){return this._month},set:function(p){p>=s.Month.January&&p<=s.Month.December&&(this._month=p)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"start",{get:function(){return this._start},set:function(p){p&&(this._start=p,this._end&&p>this._end&&(this._end=p))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._end},set:function(p){p&&(this._end=p,this._start&&p<this._start&&(this._start=p))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(p){p<0&&(p=0),this._occurrenceCount=p},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"interval",{get:function(){return this._interval},set:function(p){p>0&&(this._interval=p)},enumerable:!1,configurable:!0}),a})(c(6124).DataObject);u.RecurrenceBase=r},9612:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RecurrenceFactory=void 0;var d=c(2491),g=c(4902),h=c(5475),s=c(4390),n=c(7515),i=(function(){function t(){}return t.createRecurrenceByType=function(r){if(!r)return null;switch(r.toLowerCase()){case"daily":return new g.Daily;case"weekly":return new h.Weekly;case"monthly":return new s.Monthly;case"yearly":return new n.Yearly}return null},t.createRecurrenceFromObject=function(r){if(!r)return null;var o=this.createRecurrenceByType(r.type);return o&&o.assignFromObject(r),o},t.getEnumValue=function(r,o){if(!(0,d.isDefined)(r[o]))return null;var a=parseInt(o);return isNaN(a)?r[o]:a},t})();u.RecurrenceFactory=i},5475:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Weekly=void 0;var d=c(655),g=c(1789),h=c(7880),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.checkDate=function(t){return h.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,t)},i.prototype.checkInterval=function(t){return h.DateTimeUtils.getWeeksBetween(this.start,t)%this.interval==0},i.prototype.calculatePointByInterval=function(t){var r=h.DateTimeUtils.getWeeksBetween(this.start,t),o=Math.floor(r/this.interval);(r%this.interval>0||t.getDay()>=this.dayOfWeekInternal)&&o++;var a=o*this.interval;return this.calcNextPointWithWeekCount(this.start,a)},i.prototype.calculateNearestPoint=function(t){var r=this.dayOfWeekInternal-t.getDay();return r>0?h.DateTimeUtils.addDays(new Date(t),r):this.calcNextPointWithWeekCount(t,1)},i.prototype.calcNextPointWithWeekCount=function(t,r){r===void 0&&(r=1);var o=7*r+this.dayOfWeekInternal-t.getDay();return h.DateTimeUtils.addDays(new Date(t),o)},Object.defineProperty(i.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!1,configurable:!0}),i})(g.RecurrenceBase);u.Weekly=s},7515:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Yearly=void 0;var d=c(655),g=c(1789),h=c(7880),s=(function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(i,n),i.prototype.checkDate=function(t){return!!h.DateTimeUtils.checkMonth(this.month,t)&&(this._calculateByDayOfWeek?h.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(t,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):h.DateTimeUtils.checkDayOfMonth(this.dayInternal,t))},i.prototype.checkInterval=function(t){return h.DateTimeUtils.getYearsDifference(this.start,t)%this.interval==0},i.prototype.calculatePointByInterval=function(t){var r=h.DateTimeUtils.getYearsDifference(this.start,t),o=Math.floor(r/this.interval)*this.interval,a=this.start.getFullYear()+o,p=this.getSpecDayInMonth(a,this.monthInternal);return h.DateTimeUtils.compareDates(p,t)>=0&&(a+=this.interval,p=this.getSpecDayInMonth(a,this.monthInternal)),p},i.prototype.calculateNearestPoint=function(t){var r=t.getFullYear(),o=this.getSpecDayInMonth(r,this.monthInternal);return h.DateTimeUtils.compareDates(o,t)>=0&&(o=this.getSpecDayInMonth(++r,this.monthInternal)),o},Object.defineProperty(i.prototype,"month",{get:function(){return this.monthInternal},set:function(t){this.monthInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"day",{get:function(){return this.dayInternal},set:function(t){this.dayInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(t){this.dayOfWeekOccurrenceInternal=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(t){this._calculateByDayOfWeek=t},enumerable:!1,configurable:!0}),i})(g.RecurrenceBase);u.Yearly=s},2753:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Time=void 0;var c=(function(){function d(g,h,s,n){g===void 0&&(g=0),h===void 0&&(h=0),s===void 0&&(s=0),n===void 0&&(n=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=g,this.min=h,this.sec=s,this.msec=n}return Object.defineProperty(d.prototype,"hour",{get:function(){return this._hour},set:function(g){g>=0&&g<24&&(this._hour=g,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"min",{get:function(){return this._min},set:function(g){g>=0&&g<60&&(this._min=g,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sec",{get:function(){return this._sec},set:function(g){g>=0&&g<60&&(this._sec=g,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"msec",{get:function(){return this._msec},set:function(g){g>=0&&g<1e3&&(this._msec=g,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),d.prototype.updateFullMilleconds=function(){var g=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*g+this._msec},d.prototype.getTimeInMilleconds=function(){return this._fullmsec},d})();u.Time=c},9331:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TimeRange=void 0;var d=c(7880),g=(function(){function h(s,n){d.DateTimeUtils.caclTimeDifference(s,n)>=0?(this._start=s,this._end=n):(this._start=n,this._end=s)}return Object.defineProperty(h.prototype,"start",{get:function(){return this._start},set:function(s){s&&d.DateTimeUtils.caclTimeDifference(s,this._end)>=0&&(this._start=s)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"end",{get:function(){return this._end},set:function(s){s&&d.DateTimeUtils.caclTimeDifference(this._start,s)>=0&&(this._end=s)},enumerable:!1,configurable:!0}),h.prototype.isTimeInRange=function(s){return d.DateTimeUtils.caclTimeDifference(this._start,s)>=0&&d.DateTimeUtils.caclTimeDifference(s,this._end)>=0},h.prototype.hasIntersect=function(s){return this.isTimeInRange(s.start)||this.isTimeInRange(s.end)||s.isTimeInRange(this.start)||s.isTimeInRange(this.end)},h.prototype.concatWith=function(s){return!!this.hasIntersect(s)&&(this.start=d.DateTimeUtils.getMinTime(this.start,s.start),this.end=d.DateTimeUtils.getMaxTime(this.end,s.end),!0)},h})();u.TimeRange=g},21:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WorkingTimeCalculator=void 0;var d=c(4432),g=c(1805),h=c(7880),s=(function(){function n(i,t){this._workingRules=new d.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=i,this._workingRules.importFromObject(t)}return n.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var i=this._workingRules.items,t=0;t<i.length;t++)this.processRule(i[t]);this.sortList()}},n.prototype.processRule=function(i){for(var t=i.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),r=function(p){var y=t[p],f=h.DateTimeUtils.getDayNumber(y),m=o._workDayList.filter((function(_){return _.dayNumber==f}))[0];m?(m.isWorkDay=m.isWorkDay&&i.isWorkDay,m.addWorkingIntervals(i.workTimeRanges)):o._workDayList.push(new g.DayWorkingTimeInfo(f,i.isWorkDay,i.workTimeRanges))},o=this,a=0;a<t.length;a++)r(a)},n.prototype.sortList=function(){this._workDayList.sort((function(i,t){return i.dayNumber-t.dayNumber}))},n.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},n.prototype.calculateNoWorkTimeIntervals=function(){var i=this,t=new Array;return this._workDayList.length==0&&this.calculateWorkDayList(),this._workDayList.forEach((function(r){return t=t.concat(i.getNoWorkTimeRangesFromDay(r))})),this.concatJointedRanges(t)},n.prototype.concatJointedRanges=function(i){for(var t=new Array,r=0;r<i.length;r++){var o=i[r];t.length>0&&h.DateTimeUtils.compareDates(t[t.length-1].end,o.start)<2?t[t.length-1].end=o.end:t.push(o)}return t},n.prototype.getNoWorkTimeRangesFromDay=function(i){return i.noWorkingIntervals.map((function(t){return h.DateTimeUtils.convertTimeRangeToDateRange(t,i.dayNumber)}))},Object.defineProperty(n.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),n.prototype.updateRange=function(i){this._calculationRange=i,this.invalidate()},n.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},n})();u.WorkingTimeCalculator=s},8401:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WorkingTimeRule=void 0;var d=c(655),g=c(6124),h=c(2491),s=c(7880),n=c(9612),i=c(4902),t=(function(r){function o(a,p,y){a===void 0&&(a=null),p===void 0&&(p=!0),y===void 0&&(y=null);var f=r.call(this)||this;return f.isWorkDay=!0,f.workTimeRanges=new Array,f.recurrence=a,f.isWorkDay=p,y&&f.workTimeRanges.concat(y),f}return d.__extends(o,r),o.prototype.assignFromObject=function(a){if((0,h.isDefined)(a)){r.prototype.assignFromObject.call(this,a),this.recurrence=n.RecurrenceFactory.createRecurrenceByType(a.recurrenceType)||new i.Daily,(0,h.isDefined)(a.recurrence)&&this.recurrence.assignFromObject(a.recurrence),(0,h.isDefined)(a.isWorkDay)&&(this.isWorkDay=!!a.isWorkDay);var p=s.DateTimeUtils.convertToTimeRanges(a.workTimeRanges);p&&(this.workTimeRanges=p)}},o})(g.DataObject);u.WorkingTimeRule=t},6626:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttViewApi=void 0;var c=(function(){function d(g){this.maxZoom=3,this._ganttView=g}return Object.defineProperty(d.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(g){this._ganttView.currentZoom=g},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),d.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},d.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(d.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),d.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},d.prototype.scrollToDateCore=function(g,h){this._ganttView.scrollToDateCore(g,h)},Object.defineProperty(d.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),d.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(d.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),d.prototype.calculateAutoViewType=function(g,h){return this._ganttView.calculateAutoViewType(g,h)},d.prototype.zoomIn=function(g){g===void 0&&(g=this.getTaskAreaContainerWidth()/2);var h=this.renderHelper.getTargetDateByPos(g),s=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>s&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(h,-g)},d.prototype.zoomOut=function(g){g===void 0&&(g=this.renderHelper.getTaskAreaContainerWidth()/2);var h=this.renderHelper.getTargetDateByPos(g),s=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<s&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(h,-g)},d.prototype.setViewType=function(g,h){h===void 0&&(h=!0),g==null&&(g=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==g&&(this.settings.viewType=g,this.updateTickSizeWidth(),this.resetAndUpdate(),h&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(g))},d.prototype.setViewTypeRange=function(g,h){g!==void 0&&(this.settings.viewTypeRange.min=Math.min(g,h)),h!==void 0&&(this.settings.viewTypeRange.max=Math.max(g,h));var s=this.settings.viewTypeRange.min,n=this.settings.viewTypeRange.max,i=this.settings.viewType;s>i?this.setViewType(s):n<i&&this.setViewType(n)},d})();u.GanttViewApi=c},5098:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditController=void 0;var d=c(2449),g=c(858),h=c(6907),s=c(9279),n=c(1886),i=c(9080),t=c(9201),r=(function(){function o(a){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=a,this.createElements()}return Object.defineProperty(o.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),o.prototype.raiseTaskMoving=function(a,p,y,f){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(a,p,y,f)},Object.defineProperty(o.prototype,"tooltip",{get:function(){var a;return(a=this._tooltip)!==null&&a!==void 0||(this._tooltip=new n.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tooltipSettings",{get:function(){var a=this;return i.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(p){a.settings.destroyTemplate(p)},formatDate:function(p){return a.settings.formatDate(p)},getTaskAreaContainer:function(){return a.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),o.prototype.show=function(a){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=a,this.hide(),this.changeWrapInfo(),this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+o.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(o.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var p=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new g.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(p),this.displayProgressEdit(),this.displayStartEndEditElements()}},o.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},o.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},o.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},o.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},o.prototype.displayTaskEditBox=function(a){var p=this;a===void 0&&(a=0);var y=function(){p.renderHelper.taskArea.appendChild(p.baseElement),p.isTaskEditBoxShown=!0};a?this.timerId=setTimeout(y,a):y()},o.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},o.prototype.hide=function(){this.isTaskEditBoxShown=!1;var a=this.baseElement.parentNode;a&&a.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},o.prototype.cancel=function(){clearTimeout(this.timerId)},o.prototype.showTaskInfo=function(a,p){p===void 0&&(p=500),this.timerId&&(p=this.showInfoDelay),this.tooltip.showInfo(this.task,a,p)},o.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},o.prototype.isAllowedToConnectTasks=function(a){var p,y=this.viewModel.items[a];return this.validationController.canCreateDependency(this.taskId,(p=y.task)===null||p===void 0?void 0:p.internalId)},o.prototype.showDependencySuccessor=function(a){if(this.isAllowedToConnectTasks(a)){this.successorIndex=a;var p=this.getTaskWrapperElementInfo(a);p.assignPosition(this.dependencySuccessorBaseElement),p.assignSize(this.dependencySuccessorBaseElement),p.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},o.prototype.hideDependencySuccessor=function(){var a=this.dependencySuccessorBaseElement.parentNode;a&&a.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},o.prototype.processProgress=function(a){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var p=a.x-this.wrapInfo.position.x,y=0;a.x>this.wrapInfo.position.x&&(y=a.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(p/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=y/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(y,h.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},o.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var a=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:a})}},o.prototype.processEnd=function(a){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var p=a.x>this.wrapInfo.position.x?a.x:this.wrapInfo.position.x,y=p-this.wrapInfo.position.x;this.baseElement.style.width=(y<1?0:y)+"px";var f=this.task.start,m=this.renderHelper.gridLayoutCalculator.getDateByPos(p);m.setSeconds(0),m<f||y<1?this.taskDateRange.end.setTime(f.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,m),this.tooltip.showTime(f,this.taskDateRange.end,h.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},o.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},o.prototype.processStart=function(a){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var p=a.x<this.wrapInfo.position.x+this.wrapInfo.size.width?a.x:this.wrapInfo.position.x+this.wrapInfo.size.width,y=this.wrapInfo.size.width-(p-this.wrapInfo.position.x);this.baseElement.style.left=p+"px",this.baseElement.style.width=(y<1?0:y)+"px";var f=this.task.end,m=this.renderHelper.gridLayoutCalculator.getDateByPos(p);m.setSeconds(0),m>f||y<1?this.taskDateRange.start.setTime(f.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,m),this.tooltip.showTime(this.taskDateRange.start,f,h.DomUtils.getAbsolutePositionX(this.baseElement))}},o.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},o.prototype.processMove=function(a){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var p=this.baseElement.offsetLeft+a;this.baseElement.style.left=p+"px";var y=this.renderHelper.gridLayoutCalculator.getDateByPos(p);this.taskDateRange.start=this.getCorrectedDate(this.task.start,y);var f=t.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=t.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,f),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,h.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},o.prototype.onTaskMovingCallback=function(a,p){if(this.taskDateRange.start!==a||this.taskDateRange.end!==p){var y=this.renderHelper.gridLayoutCalculator,f=y.getPosByDate(a),m=y.getPosByDate(p)-f;this.baseElement.style.left=f+"px",this.baseElement.style.width=(m<1?0:m)+"px",this.taskDateRange.start=a,this.taskDateRange.end=p}},o.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=o.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},o.prototype.getCorrectedDate=function(a,p){if(this.ganttSettings.viewType>d.ViewType.SixHours){var y=p.getFullYear(),f=p.getMonth(),m=p.getDate(),_=this.ganttSettings.viewType===d.ViewType.Days?p.getHours():a.getHours(),v=a.getMinutes(),w=a.getSeconds(),S=a.getMilliseconds();return new Date(y,f,m,_,v,w,S)}return p},o.prototype.startDependency=function(a){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=o.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=a},o.prototype.processDependency=function(a){this.isEditingInProgress=!0,this.drawline(this.startPosition,a)},o.prototype.endDependency=function(a){this.isEditingInProgress=!1,a!=null&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,a);var p=this.dependencyLine.parentNode;p&&p.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},o.prototype.selectDependency=function(a){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=a)},o.prototype.isDependencySelected=function(a){return this.dependencyId&&this.dependencyId===a},o.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},o.prototype.getTaskWrapperElementInfo=function(a){var p=this.renderHelper.gridLayoutCalculator,y=p.getTaskWrapperElementInfo(a);return y.size.width=p.getTaskWidth(a),y.size.height=p.getTaskHeight(a),y},o.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=o.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=o.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(o.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencyFinish.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(o.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencyStart.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=o.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=o.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=o.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=o.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(o.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(o.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(o.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new n.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},o.prototype.attachEvents=function(){this.onMouseLeaveHandler=(function(){this.isEditingInProgress||this.hide()}).bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},o.prototype.drawline=function(a,p){if(a.x>p.x){var y=p;p=a,a=y}var f=Math.atan((a.y-p.y)/(p.x-a.x));f=-(f=180*f/Math.PI);var m=Math.sqrt((a.x-p.x)*(a.x-p.x)+(a.y-p.y)*(a.y-p.y));this.dependencyLine.style.left=a.x+"px",this.dependencyLine.style.top=a.y+"px",this.dependencyLine.style.width=m+"px",this.dependencyLine.style.transform="rotate("+f+"deg)"},o.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},o.prototype.isTaskUpdateAllowed=function(){var a=this.ganttSettings.editing;return a.enabled&&a.allowTaskUpdate},o.prototype.detachEvents=function(){var a;(a=this.baseElement)===null||a===void 0||a.removeEventListener("mouseleave",this.onMouseLeaveHandler)},o.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},o})();u.TaskEditController=r},1886:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditTooltip=void 0;var d=c(6907),g=(function(){function h(s,n,i){this.parentElement=s,this.cultureInfo=i,this.tooltipSettings=n}return Object.defineProperty(h.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),h.prototype.destroyTemplate=function(s){this.tooltipSettings.destroyTemplate(s)},h.prototype.formatDate=function(s){return this.tooltipSettings.formatDate(s)},h.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=h.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},h.prototype.setDefaultTooltip=function(s){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=h.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var n=document.createElement("DIV");n.className=h.CLASSNAMES.TASK_EDIT_TASK_TITLE;var i=document.createElement("SPAN");if(n.appendChild(i),this.defaultTooltip.appendChild(n),i.innerText=s.title,this.defaultTooltip.appendChild(this.getTimeContent(s.start,s.end)),!isNaN(s.progress)){var t=document.createElement("DIV");t.className=h.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),o=document.createElement("SPAN");t.appendChild(r),t.appendChild(o),this.defaultTooltip.appendChild(t),r.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",o.innerText=s.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},h.prototype.setDefaultProgressTooltip=function(s){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=h.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=s+"%",this.baseElement.appendChild(this.defaultTooltip)},h.prototype.setDefaultTimeTooltip=function(s,n){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=h.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(s,n)),this.baseElement.appendChild(this.defaultTooltip)},h.prototype.showInfo=function(s,n,i){var t=this;i===void 0&&(i=0);var r=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,s,(function(){t.showTooltip(n,!1,i)})):(this.setDefaultTooltip(s),this.showTooltip(n,!1,i))},h.prototype.showProgress=function(s,n){var i=this,t=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),t?t(this.baseElement,{progress:s},(function(){i.showTooltip(n)})):(this.setDefaultProgressTooltip(s),this.show(n))},h.prototype.showTime=function(s,n,i){var t=this,r=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,{start:s,end:n},(function(){t.showTooltip(i)})):(this.setDefaultTimeTooltip(s,n),this.show(i))},h.prototype.showTooltip=function(s,n,i){var t,r=this;if(n===void 0&&(n=!0),i===void 0&&(i=0),(t=this.baseElement)===null||t===void 0?void 0:t.innerHTML){var o=function(){r.show(s,n)};i?this.timerId=setTimeout(o,i):o()}},h.prototype.show=function(s,n){var i,t,r,o=this;n===void 0&&(n=!0),(i=this.defaultTooltip)===null||i===void 0||i.classList.remove(h.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),(t=this.defaultTooltip)===null||t===void 0||t.classList.remove(h.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var a=this.getLeftPosition(s),p=this.needToShowUnderParent(),y=this.getTopPosition(p),f=p?h.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:h.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;(r=this.defaultTooltip)===null||r===void 0||r.classList.add(f),this.baseElement.style.left=a+"px",this.baseElement.style.top=y+"px",n&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){o.hide()}),1500))},h.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},h.prototype.getTimeContent=function(s,n){var i=document.createElement("TABLE");i.className=h.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var t=document.createElement("TBODY");i.appendChild(t);var r=document.createElement("TR"),o=document.createElement("TD"),a=document.createElement("TD"),p=document.createElement("TR"),y=document.createElement("TD"),f=document.createElement("TD");return r.appendChild(o),r.appendChild(a),p.appendChild(y),p.appendChild(f),t.appendChild(r),t.appendChild(p),o.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",a.innerText=this.formatDate(s),y.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",f.innerText=this.formatDate(n),i},h.prototype.getLeftPosition=function(s){var n=s-d.DomUtils.getAbsolutePositionX(this.parentElement)-2*h.defaultArrowHeight;if(this.taskAreaContainer){var i=d.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),t=s+this.baseElement.clientWidth-i;t>0&&(n-=t)}return n},h.prototype.getTopPosition=function(s){return s?this.parentElement.clientHeight+h.defaultArrowHeight:-this.baseElement.clientHeight-h.defaultArrowHeight},h.prototype.needToShowUnderParent=function(){var s,n=d.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-d.DomUtils.getDocumentScrollTop()-h.defaultHeightOffset,i=((s=this.taskAreaContainer)===null||s===void 0?void 0:s.scrollTop)||0,t=this.parentElement.offsetTop-i;return this.baseElement.clientHeight>n||this.baseElement.clientHeight>t},h.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},h.defaultArrowHeight=5,h.defaultHeightOffset=15,h})();u.TaskEditTooltip=g},3336:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttMovingHelper=void 0;var d=c(9279),g=c(3714),h=(function(){function s(n){this.taskAreaContainer=n,this.movingInfo=null}return s.prototype.startMoving=function(n){this.movingInfo=this.calcMovingInfo(n),this.updateGanttAreaCursor(!0)},s.prototype.cancelMoving=function(){this.movingInfo=null},s.prototype.onMouseMove=function(n){this.move(n)},s.prototype.onMouseUp=function(n){this.cancelMoving(),this.updateGanttAreaCursor(!1)},s.prototype.move=function(n){this.updateScrollPosition(n)},s.prototype.updateScrollPosition=function(n){var i=Math.round(g.EvtUtils.getEventX(n)),t=Math.round(g.EvtUtils.getEventY(n)),r=i-this.movingInfo.eventX,o=t-this.movingInfo.eventY,a=r<0?-1:1,p=o<0?-1:1,y=a<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,f=p<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(r)>y&&(r=y*a),Math.abs(o)>f&&(o=f*p);var m=this.movingInfo.scrollLeft-r,_=this.movingInfo.scrollTop-o,v=this.taskAreaContainer;v.scrollLeft!==m&&(v.scrollLeft=m),v.scrollTop!==_&&(v.scrollTop=_)},s.prototype.calcMovingInfo=function(n){var i=this.taskAreaContainer;return{eventX:g.EvtUtils.getEventX(n),eventY:g.EvtUtils.getEventY(n),scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,maxLeftDelta:i.scrollLeft,maxRightDelta:i.scrollWidth-i.scrollLeft-i.getElement().offsetWidth,maxTopDelta:i.scrollTop,maxBottomDelta:i.scrollHeight-i.scrollTop-i.getElement().offsetHeight}},s.prototype.updateGanttAreaCursor=function(n){var i=d.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=n?i:"default"},s})();u.GanttMovingHelper=h},6958:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaStateController=void 0;var d=c(8900),g=c(6907),h=c(3714),s=c(5098),n=c(2449),i=c(5376),t=c(4264),r=c(9155),o=c(125),a=c(1404),p=c(6591),y=c(2395),f=c(7295),m=(function(){function _(v,w,S){var D=this;this.position=new d.Point(-1,-1),this._pointers={},this._listener=v,this._listener.setHandler(a.TaskAreaStateEventNames.STATE_EXIT,(function(){D.switchToDefaultState()})),this._listener.setHandler(a.TaskAreaStateEventNames.GET_POINTERS_INFO,(function(x){return D.getPointersInfo(x.triggerEvent)})),this._taskArea=w,this._cellSize=S,this.switchToDefaultState()}return _.prototype.onKeyDown=function(v){this._state.onKeyDown(v)},_.prototype.onScroll=function(v){this._state.onScroll(v)},_.prototype.onContextMenu=function(v){this._state.onContextMenu(v)},_.prototype.onMouseWheel=function(v){v.ctrlKey&&(v.preventDefault(),v.stopPropagation(),this.switchState(p.TaskAreaZoomState)),this._state.onMouseWheel(v)},Object.defineProperty(_.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),_.prototype.onTaskPointerEnter=function(v){this._state.onTaskPointerEnter(v)},_.prototype.onTaskAreaPointerLeave=function(v){this._state.onTaskAreaLeave(v)},_.prototype.onDocumentPointerCancel=function(v){this._clearPointerInfo(v)},_.prototype.onDocumentPointerDown=function(v){this._updatePinterInfo(v),this.toggleStateOnPointerDown(v),this._state.onDocumentPointerDown(v)},_.prototype.onDocumentPointerMove=function(v){this._updatePinterInfo(v),this.toggleStateOnPointerMove(v),this._state.onDocumentPointerMove(v)},_.prototype.onDocumentPointerUp=function(v){this._clearPointerInfo(v),this._state.onDocumentPointerUp(v)},_.prototype.onTaskTouchStart=function(v){this._state.onTaskTouchStart(v)},_.prototype.onTouchStart=function(v){this.toggleStateOnPointerDown(v),this._state.onTouchStart(v)},_.prototype.onTouchEnd=function(v){this._state.onTouchEnd(v)},_.prototype.onTouchMove=function(v){this.toggleStateOnPointerMove(v),this._state.onTouchMove(v)},_.prototype.onClick=function(v){this._state.onClick(v)},_.prototype.onDblClick=function(v){this._state.onDblClick(v)},_.prototype.onTaskAreaMouseLeave=function(v){this._state.onTaskAreaLeave(v)},_.prototype.onTaskElementHover=function(v){this._state.onTaskHover(v)},_.prototype.onTaskElementLeave=function(v){this._state.onTaskLeave(v)},_.prototype.onMouseUp=function(v){this._state.onMouseUp(v)},_.prototype.onMouseMove=function(v){this._state.onMouseMove(v)},_.prototype.onMouseDown=function(v){switch(this.getTaskAreaEventSource(v)){case n.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(v);break;case n.TaskAreaEventSource.TaskEdit_Frame:this.switchState(f.TaskMoveState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(y.TaskEditState);break;case n.TaskAreaEventSource.TaskEdit_DependencyStart:case n.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(t.TaskAreaDependencyState)}this._state.onMouseDown(v)},Object.defineProperty(_.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),_.prototype.switchToDefaultState=function(){this._state=new i.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},_.prototype.switchState=function(v){this._state instanceof v||(this._state&&this._state.finish(),this._state=new v(this._listener,this.taskArea,this._cellSize),this._state.start())},_.prototype.processMouseDownOnTaskArea=function(v){h.EvtUtils.isLeftButtonPressed(v)&&!r.TaskAreaDomHelper.isConnectorLine(v)&&this.switchState(o.TaskAreaScrollState)},_.prototype.toggleStateOnPointerDown=function(v){var w=this.toggleStateWhenMultiOrOutsideTouch(v);if(this.position=new d.Point(h.EvtUtils.getEventX(v),h.EvtUtils.getEventY(v)),!w&&this._canStartDrag(v))switch(this.getTaskAreaEventSource(v)){case n.TaskAreaEventSource.TaskEdit_DependencyStart:case n.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(t.TaskAreaDependencyState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(y.TaskEditState)}},_.prototype.toggleStateOnPointerMove=function(v){var w=this.toggleStateWhenMultiOrOutsideTouch(v),S=Math.abs(this.position.x-h.EvtUtils.getEventX(v))>1||Math.abs(this.position.y-h.EvtUtils.getEventY(v))>1;if(!w&&S&&this._canStartDrag(v)&&this._state instanceof i.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(v)){case n.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(v)?this.switchState(f.TaskMoveState):this.switchState(o.TaskAreaScrollState);break;case n.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(o.TaskAreaScrollState):this.switchState(f.TaskMoveState);break;case n.TaskAreaEventSource.TaskEdit_Progress:case n.TaskAreaEventSource.TaskEdit_Start:case n.TaskAreaEventSource.TaskEdit_End:this.switchState(y.TaskEditState)}},_.prototype.toggleStateWhenMultiOrOutsideTouch=function(v){var w=this._getActivePointersCount(v),S=!this.isInTaskArea(v),D=w>=2||S;return w>2||S?this.switchState(i.TaskAreaDefaultState):w===2&&this.switchState(p.TaskAreaZoomState),D},_.prototype.checkEventInTaskEditFrameArea=function(v){var w,S,D=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!D)return!1;var x=(v==null?void 0:v.clientX)||((w=v==null?void 0:v.touches[0])===null||w===void 0?void 0:w.clientX),N=(v==null?void 0:v.clientY)||((S=v==null?void 0:v.touches[0])===null||S===void 0?void 0:S.clientY),A=D.getBoundingClientRect();return x>=A.left&&x<=A.left+A.width&&N>=A.top&&N<=A.top+A.height},_.prototype.isTaskUpdateDisabled=function(){return this._taskArea.getAttribute("task-edit-enabled")==="false"},_.prototype.isInTaskArea=function(v){return g.DomUtils.isItParent(this._taskArea,h.EvtUtils.getEventSource(v))},_.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(s.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},_.prototype._updatePinterInfo=function(v){var w=v.pointerId;this._pointers[w]={pageX:v.pageX,pageY:v.pageY,pointerType:v.pointerType}},_.prototype._clearPointerInfo=function(v){var w=v.pointerId;delete this._pointers[w]},_.prototype.isTouchEvent=function(v){return r.TaskAreaDomHelper.isTouchEvent(v)},_.prototype.isPointerEvent=function(v){return r.TaskAreaDomHelper.isPointerEvent(v)},_.prototype._getActivePointersCount=function(v){var w=this;return this.isTouchEvent(v)?v.touches.length:Object.keys(this._pointers).filter((function(S){return w._pointers[S].pointerType===v.pointerType})).length},_.prototype.getPointersInfo=function(v){var w=this,S=v==null?void 0:v.pointerType,D=Object.keys(this._pointers).map((function(x){return w._pointers[x]}));return S&&(D=D.filter((function(x){return x.pointerType===S}))),D},_.prototype._canStartDrag=function(v){return!(this._getActivePointersCount(v)>1)&&(!r.TaskAreaDomHelper.isMousePointer(v)||v.buttons===1)&&!r.TaskAreaDomHelper.isConnectorLine(v)},_.prototype.getTaskAreaEventSource=function(v){return r.TaskAreaDomHelper.getEventSource(h.EvtUtils.getEventSource(v))},_})();u.TaskAreaStateController=m},5376:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaDefaultState=void 0;var d=c(655),g=c(3714),h=c(9155),s=c(5867),n=c(1404),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return d.__extends(r,t),r.prototype.finish=function(){this.clearTimers(),this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},r.prototype.onMouseDownInternal=function(o){this.onPointerDownBase(o)},r.prototype.onDocumentPointerDownInternal=function(o){this.onPointerDownBase(o)},r.prototype.onDocumentPointerUpInternal=function(o){this.onPointerUpBase(o)},r.prototype.onDocumentPointerMoveInternal=function(o){this.clearTimers()},r.prototype.onTouchStartInternal=function(o){this.onPointerDownBase(o)},r.prototype.onTouchEndInternal=function(o){this.onPointerUpBase(o)},r.prototype.onTouchMoveInternal=function(o){this.clearTimers()},r.prototype.onPointerDownBase=function(o){var a=this;o.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(o),(this.isPointerEvent(o)?h.TaskAreaDomHelper.isMousePointer(o):this.isMouseEvent(o))?this.changeSelectionOnTouchDown(o):(setTimeout((function(){h.TaskAreaDomHelper.isMousePointer(o)||a.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE,o),a.changeSelectionOnTouchDown(o)}),0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout((function(){return a.showContextMenuOnTouchDown(o)}),r.defaultContextMenuTimeout))},r.prototype.onPointerUpBase=function(o){var a=this;if(clearTimeout(this._contextMenuTimer),o.preventDefault(),this.canToEmulateClick(o)){var p=this.getClickedRowIndex(o),y=new Date;if(this._lastEmulatedClickTime)y.getTime()-this._lastEmulatedClickTime.getTime()<r.defaultDblClickTimeout&&(this.raiseEvent(n.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,o,p),delete this._lastEmulatedClickTime);else{var f=!this.raiseEvent(n.TaskAreaStateEventNames.TASK_AREA_CLICK,o,p);clearTimeout(this._dblClickClearTimer),h.TaskAreaDomHelper.isMousePointer(o)&&this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_HIDE,o),f||(this._lastEmulatedClickTime=y,this._dblClickClearTimer=setTimeout((function(){delete a._lastEmulatedClickTime}),r.defaultDblClickClearTimeout))}}},r.prototype.canToEmulateClick=function(o){var a=!h.TaskAreaDomHelper.isConnectorLine(o)&&this.getClickedRowIndex(o)===this._lastTouchRowIndex;return a&&h.TaskAreaDomHelper.isMousePointer(o)&&a&&(a=o.button!==2),a},r.prototype.changeSelectionOnTouchDown=function(o){var a=h.TaskAreaDomHelper.isConnectorLine(o);a||this.raiseTaskSelection(o,this.getClickedRowIndex(o)),this.raiseDependencySelection(o,a?g.EvtUtils.getEventSource(o).getAttribute("dependency-id"):null)},r.prototype.showContextMenuOnTouchDown=function(o){var a=h.TaskAreaDomHelper.isConnectorLine(o);this.raiseEvent(n.TaskAreaStateEventNames.CONTEXTMENU_SHOW,o,this.getClickedRowIndex(o),{type:a?"dependency":"task"})},r.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},r.defaultContextMenuTimeout=3e3,r.defaultDblClickTimeout=500,r.defaultDblClickClearTimeout=r.defaultDblClickTimeout+100,r})(s.TaskAreaStateBase);u.TaskAreaDefaultState=i},4264:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaDependencyState=u.dependencyMap=void 0;var d=c(655),g=c(8900),h=c(6907),s=c(3714),n=c(5950),i=c(2449),t=c(9155),r=c(5867),o=c(1404);u.dependencyMap=[],u.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyStart]=[],u.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],u.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyStart][i.TaskAreaEventSource.Successor_DependencyStart]=n.DependencyType.SS,u.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyStart][i.TaskAreaEventSource.Successor_DependencyFinish]=n.DependencyType.SF,u.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyFinish][i.TaskAreaEventSource.Successor_DependencyStart]=n.DependencyType.FS,u.dependencyMap[i.TaskAreaEventSource.TaskEdit_DependencyFinish][i.TaskAreaEventSource.Successor_DependencyFinish]=n.DependencyType.FF;var a=(function(p){function y(){return p!==null&&p.apply(this,arguments)||this}return d.__extends(y,p),y.prototype.onMouseUp=function(f){this.onDependencyEndByMouse(f)},y.prototype.onMouseDownInternal=function(f){this.onDependencyStart(f)},y.prototype.onMouseMoveInternal=function(f){this.onDependencyMoveStep(f)},y.prototype.onTouchStartInternal=function(f){this.onDependencyStart(f)},y.prototype.onTouchEndInternal=function(f){this.onDependencyEndByTouch(f)},y.prototype.onTouchMoveInternal=function(f){this.onDependencyMoveStep(f)},y.prototype.onDocumentPointerDownInternal=function(f){this.onDependencyStart(f)},y.prototype.onDocumentPointerUpInternal=function(f){this.onDependencyEndByTouch(f)},y.prototype.onDocumentPointerMoveInternal=function(f){this.onDependencyMoveStep(f)},y.prototype.onDependencyStart=function(f){var m=s.EvtUtils.getEventSource(f);this.source=t.TaskAreaDomHelper.getEventSource(m);var _=this.getRelativePos(new g.Point(h.DomUtils.getAbsolutePositionX(m)+m.clientWidth/2,h.DomUtils.getAbsolutePositionY(m)+m.clientHeight/2));this.raiseEvent(o.TaskAreaStateEventNames.DEPENDENCY_START,f,null,{pos:_})},y.prototype.onDependencyMoveStep=function(f){f.preventDefault();var m=this.getRelativePos(new g.Point(s.EvtUtils.getEventX(f),s.EvtUtils.getEventY(f)));this.raiseEvent(o.TaskAreaStateEventNames.DEPENDENCY_PROCESS,f,this.getClickedRowIndex(f),{pos:m})},y.prototype.onDependencyEndByMouse=function(f){var m=t.TaskAreaDomHelper.getEventSource(s.EvtUtils.getEventSource(f)),_=m===i.TaskAreaEventSource.Successor_DependencyStart||m===i.TaskAreaEventSource.Successor_DependencyFinish?u.dependencyMap[this.source][m]:null;this.processEndDependency(f,_)},y.prototype.onDependencyEndByTouch=function(f){var m=this.raiseEvent(o.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,f),_=this.getRelativePos(m.successorStart),v=this.getRelativePos(m.successorFinish),w=this.getRelativePos(new g.Point(s.EvtUtils.getEventX(f),s.EvtUtils.getEventY(f))),S=this.isTouchNearby(w,_)?i.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(w,v)?i.TaskAreaEventSource.Successor_DependencyFinish:null,D=S===i.TaskAreaEventSource.Successor_DependencyStart||S===i.TaskAreaEventSource.Successor_DependencyFinish?u.dependencyMap[this.source][S]:null;this.processEndDependency(f,D)},y.prototype.onTaskAreaLeaveInternal=function(f){this.processEndDependency(f,null)},y.prototype.processEndDependency=function(f,m){this.raiseEvent(o.TaskAreaStateEventNames.DEPENDENCY_END,f,null,{type:m}),this.raiseEvent(o.TaskAreaStateEventNames.STATE_EXIT,f)},y.prototype.isTouchNearby=function(f,m){return Math.abs(m.x-f.x)<=20&&Math.abs(m.y-f.y)<=20},y})(r.TaskAreaStateBase);u.TaskAreaDependencyState=a},9155:(b,u,c)=>{var d;Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaDomHelper=void 0;var g=c(6907),h=c(3714),s=c(5098),n=c(2449),i=c(1855),t=(function(){function r(){}return r.getEventSource=function(o){var a,p=(o.nodeType===((a=window==null?void 0:window.Node)===null||a===void 0?void 0:a.ELEMENT_NODE)?o:o.parentNode).classList[0];return r.classToSource[p]||n.TaskAreaEventSource.TaskArea},r.isConnectorLine=function(o){var a=h.EvtUtils.getEventSource(o);return g.DomUtils.hasClassName(a,i.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||g.DomUtils.hasClassName(a,i.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},r.isTaskElement=function(o){var a=h.EvtUtils.getEventSource(o),p=r.classToSource[a.classList[0]];return p===n.TaskAreaEventSource.TaskEdit_Frame||p===n.TaskAreaEventSource.TaskEdit_Progress||p===n.TaskAreaEventSource.TaskEdit_Start||p===n.TaskAreaEventSource.TaskEdit_End||p===n.TaskAreaEventSource.TaskEdit_DependencyStart||p===n.TaskAreaEventSource.TaskEdit_DependencyFinish},r.isMouseEvent=function(o){return o instanceof MouseEvent},r.isTouchEvent=function(o){return window.TouchEvent&&o instanceof TouchEvent},r.isPointerEvent=function(o){return window.PointerEvent&&o instanceof PointerEvent},r.isMousePointer=function(o){return this.isPointerEvent(o)&&o.pointerType==="mouse"},r.classToSource=((d={})[s.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=n.TaskAreaEventSource.TaskEdit_Progress,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_START]=n.TaskAreaEventSource.TaskEdit_Start,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_END]=n.TaskAreaEventSource.TaskEdit_End,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=n.TaskAreaEventSource.TaskEdit_Frame,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=n.TaskAreaEventSource.TaskEdit_DependencyStart,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=n.TaskAreaEventSource.TaskEdit_DependencyFinish,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=n.TaskAreaEventSource.Successor_DependencyStart,d[s.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=n.TaskAreaEventSource.Successor_DependencyFinish,d),r})();u.TaskAreaDomHelper=t},125:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaScrollState=void 0;var d=c(655),g=c(5867),h=c(1404),s=(function(n){function i(){var t=n!==null&&n.apply(this,arguments)||this;return t._isStarted=!1,t}return d.__extends(i,n),i.prototype.finish=function(){this.raiseEvent(h.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},i.prototype.onMouseUp=function(t){this.onEnd(t)},i.prototype.onMouseDownInternal=function(t){this.onBeforeStart(t)},i.prototype.onMouseMoveInternal=function(t){this.onMove(t)},i.prototype.onDocumentPointerUpInternal=function(t){this.onEnd(t)},i.prototype.onDocumentPointerMoveInternal=function(t){this.onMoveByPointer(t)},i.prototype.onTouchEndInternal=function(t){this.onEnd(t)},i.prototype.onTouchMoveInternal=function(t){this.onMoveByPointer(t)},i.prototype.onBeforeStart=function(t){t.preventDefault(),this.raiseDependencySelection(t,null),this.raiseEvent(h.TaskAreaStateEventNames.TASK_EDIT_END,t),this.raiseEvent(h.TaskAreaStateEventNames.TASK_AREA_START_MOVE,t),this._isStarted=!0},i.prototype.onMoveByPointer=function(t){this._isStarted?this.onMove(t):this.onBeforeStart(t)},i.prototype.onMove=function(t){t.preventDefault(),this.raiseEvent(h.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,t)},i.prototype.onEnd=function(t){t.preventDefault(),this.raiseEvent(h.TaskAreaStateEventNames.TASK_AREA_END_MOVE,t),this.raiseEvent(h.TaskAreaStateEventNames.STATE_EXIT,t),this._isStarted=!1},i})(g.TaskAreaStateBase);u.TaskAreaScrollState=s},5867:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaStateBase=void 0;var d=c(9279),g=c(8900),h=c(6907),s=c(3714),n=c(2153),i=c(3461),t=c(9155),r=c(1404),o=(function(){function a(p,y,f){this.position=new g.Point(-1,-1),this.isCursorInArea=!1,this._listener=p,this._taskArea=y,this._cellSize=f}return a.prototype.start=function(){},a.prototype.finish=function(){},a.prototype.isTouchEvent=function(p){return t.TaskAreaDomHelper.isTouchEvent(p)},a.prototype.isPointerEvent=function(p){return t.TaskAreaDomHelper.isPointerEvent(p)},a.prototype.isMouseEvent=function(p){return t.TaskAreaDomHelper.isMouseEvent(p)},a.prototype.onMouseWheel=function(p){},a.prototype.onScroll=function(p){this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_SCROLL)},a.prototype.onKeyDown=function(p){this.isCursorInArea&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,p,null,{code:this.getShortcutCode(p)})},a.prototype.onContextMenu=function(p){var y=this.getClickedRowIndex(p),f=t.TaskAreaDomHelper.isConnectorLine(p);f||this.raiseTaskSelection(p,y),p.stopPropagation(),p.preventDefault(),d.Browser.WebKitFamily&&(p.returnValue=!1),this.raiseEvent(r.TaskAreaStateEventNames.CONTEXTMENU_SHOW,p,y,{type:f?"dependency":"task"})},a.prototype.onTaskPointerEnter=function(p){this.onTaskPointerEnterBase(p)},a.prototype.onDocumentPointerMove=function(p){this.processPointerMove(p)},a.prototype.onDocumentPointerDown=function(p){this.processPointerDown(p)},a.prototype.onDocumentPointerUp=function(p){this.processPointerUp(p)},a.prototype.onTaskTouchStart=function(p){this.onTaskPointerEnterBase(p)},a.prototype.onTouchMove=function(p){this.processPointerMove(p)},a.prototype.onTouchStart=function(p){this.processPointerDown(p)},a.prototype.onTouchEnd=function(p){this.processPointerUp(p)},a.prototype.onMouseDown=function(p){this.processPointerDown(p)},a.prototype.onMouseUp=function(p){},a.prototype.onMouseMove=function(p){this.processPointerMove(p)},a.prototype.onTaskHover=function(p){this.onTaskPointerEnterBase(p)},a.prototype.onTaskLeave=function(p){this.raiseEvent(r.TaskAreaStateEventNames.TASK_LEAVE,p,this.getClickedRowIndex(p))},a.prototype.onClick=function(p){var y=this.getClickedRowIndex(p);this.raiseTaskSelection(p,y),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_CLICK,p,y)},a.prototype.onDblClick=function(p){p.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,p,this.getClickedRowIndex(p))},a.prototype.onTaskAreaLeave=function(p){(!this.isPointerEvent(p)||t.TaskAreaDomHelper.isMousePointer(p))&&(this.isCursorInArea=!1,this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,p)),this.onTaskAreaLeaveInternal(p)},a.prototype.onTaskPointerEnterBase=function(p){this.isTouchEvent(p)||this.isPointerEvent(p)||p.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_START,p,this.getClickedRowIndex(p))},a.prototype.processPointerDown=function(p){var y=this.isTouchEvent(p),f=this.isPointerEvent(p);(y||f)&&this.checkAndProcessTouchOutsideArea(p)||(this.position=new g.Point(s.EvtUtils.getEventX(p),s.EvtUtils.getEventY(p)),(y||f)&&p.preventDefault(),y?this.onTouchStartInternal(p):f?this.onDocumentPointerDownInternal(p):this.onMouseDownInternal(p))},a.prototype.processPointerMove=function(p){var y,f=this.isTouchEvent(p),m=this.isPointerEvent(p);(y=this.position)!==null&&y!==void 0||(this.position=new g.Point(s.EvtUtils.getEventX(p),s.EvtUtils.getEventY(p)));var _=Math.abs(this.position.x-s.EvtUtils.getEventX(p))>2||Math.abs(this.position.y-s.EvtUtils.getEventY(p))>2;!((f||m)&&this.checkAndProcessTouchOutsideArea(p))&&_&&((f||m)&&p.preventDefault(),this.isTouchEvent(p)?this.onTouchMoveInternal(p):this.isPointerEvent(p)?this.onDocumentPointerMoveInternal(p):(this.isCursorInArea=!0,this.onMouseMoveInternal(p)))},a.prototype.processPointerUp=function(p){this.checkAndProcessTouchOutsideArea(p)||(p.preventDefault(),this.isTouchEvent(p)?this.onTouchEndInternal(p):this.onDocumentPointerUpInternal(p))},a.prototype.onMouseDownInternal=function(p){},a.prototype.onMouseMoveInternal=function(p){},a.prototype.onDocumentPointerUpInternal=function(p){},a.prototype.onDocumentPointerDownInternal=function(p){},a.prototype.onDocumentPointerMoveInternal=function(p){},a.prototype.onTouchStartInternal=function(p){},a.prototype.onTouchEndInternal=function(p){},a.prototype.onTouchMoveInternal=function(p){},a.prototype.onTaskAreaLeaveInternal=function(p){},a.prototype.checkAndProcessTouchOutsideArea=function(p){var y=!this.isInTaskArea(p);return y&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,p),this.isCursorInArea=!y,y},a.prototype.raiseEvent=function(p,y,f,m){var _=new i.TaskAreaEventArgs(p,y,f,m),v=this._listener.getHandler(p);return v&&v(_)},a.prototype.raiseDependencySelection=function(p,y){this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_SELECTION,p,null,{key:y})},a.prototype.raiseTaskSelection=function(p,y){h.DomUtils.isItParent(this._taskArea,s.EvtUtils.getEventSource(p))&&!t.TaskAreaDomHelper.isConnectorLine(p)&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_SELECTION,p,y)},a.prototype.getClickedRowIndex=function(p){if(!p)return-1;var y=s.EvtUtils.getEventY(p)-h.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(y/this._cellSize.height)},a.prototype.getRelativePos=function(p){var y=h.DomUtils.getAbsolutePositionX(this._taskArea),f=h.DomUtils.getAbsolutePositionY(this._taskArea);return new g.Point(p.x-y,p.y-f)},a.prototype.isInTaskArea=function(p){return h.DomUtils.isItParent(this._taskArea,s.EvtUtils.getEventSource(p))},a.prototype.getShortcutCode=function(p){var y=n.KeyUtils.getEventKeyCode(p),f=0;return p.altKey&&(f|=n.ModifierKey.Alt),p.ctrlKey&&(f|=n.ModifierKey.Ctrl),p.shiftKey&&(f|=n.ModifierKey.Shift),p.metaKey&&d.Browser.MacOSPlatform&&(f|=n.ModifierKey.Meta),f|y},a})();u.TaskAreaStateBase=o},1404:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaStateEventNames=void 0;var c=(function(){function d(){}return d.TASK_AREA_CLICK="taskAreaClick",d.TASK_AREA_DBLCLICK="taskAreaDblClick",d.TASK_AREA_SCROLL="taskAreaScroll",d.TASK_AREA_START_MOVE="taskAreaStartMove",d.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",d.TASK_AREA_END_MOVE="taskAreaEndMove",d.TASK_AREA_ZOOM_IN="taskAreaZoomIn",d.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",d.CONTEXTMENU_SHOW="contextMenuShow",d.CONTEXTMENU_HIDE="contextMenuHide",d.DEPENDENCY_SELECTION="dependencySelection",d.STATE_EXIT="stateExit",d.TASK_SELECTION="taskSelection",d.TASK_EDIT_START="taskEditStart",d.TASK_EDIT_END="taskEditEnd",d.TASK_LEAVE="taskLeave",d.TASK_PROCESS_MOVE="taskProcessMove",d.TASK_END_MOVE="taskEndMove",d.TASK_PROCESS_PROGRESS="taskProcessProgress",d.TASK_END_PROGRESS="taskEndProgress",d.TASK_PROCESS_START="taskProcessStart",d.TASK_CONFIRM_START="taskConfirmStart",d.TASK_PROCESS_END="taskProcessEnd",d.TASK_CONFIRM_END="taskConfirmEnd",d.GET_DEPENDENCY_POINTS="getDependencyPoints",d.DEPENDENCY_START="dependencyStart",d.DEPENDENCY_PROCESS="dependencyProcess",d.DEPENDENCY_END="dependencyEnd",d.TASK_AREA_KEY_DOWN="taskAreaKeyDown",d.GET_POINTERS_INFO="getPointersInfo",d.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",d})();u.TaskAreaStateEventNames=c},6591:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaZoomState=void 0;var d=c(655),g=c(8900),h=c(3714),s=c(5596),n=c(5867),i=c(1404),t=(function(r){function o(){var a=r!==null&&r.apply(this,arguments)||this;return a._isInZooming=!1,a}return d.__extends(o,r),o.prototype.onMouseWheel=function(a){a.ctrlKey&&(a.preventDefault(),a.stopPropagation(),this._isInZooming||this.processZoom(a,h.EvtUtils.getWheelDelta(a)>0,50))},o.prototype.onDocumentPointerUpInternal=function(a){this.onEndZoom(a)},o.prototype.onDocumentPointerMoveInternal=function(a){this.onTouchZoom(a)},o.prototype.onTouchEndInternal=function(a){this.onEndZoom(a)},o.prototype.onTouchMoveInternal=function(a){this.onTouchZoom(a)},o.prototype.onTouchZoom=function(a){var p;if(a.stopPropagation(),a.preventDefault(),!this._isInZooming){var y=this.getTouchDistance(a);(p=this.prevDistance)!==null&&p!==void 0||(this.prevDistance=y);var f=this.prevDistance-y;Math.abs(f)>3&&(this.processZoom(a,f>0,1e3),this.prevDistance=y)}},o.prototype.processZoom=function(a,p,y){var f=this;this._isInZooming=!0,setTimeout((function(){f._isInZooming=!1}),y);var m=p?i.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:i.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(m,a,null,{leftPos:this.getLeftPosition(a)})},o.prototype.onEndZoom=function(a){this.prevDistance=null,this.raiseEvent(i.TaskAreaStateEventNames.STATE_EXIT,a)},o.prototype.getTouchDistance=function(a){var p=this.GetTouchPoints(a);return this.getDistance(p[0],p[1])},o.prototype.GetTouchPoints=function(a){var p,y,f,m;if(this.isTouchEvent(a)){var _=a.touches;return[new g.Point(_[0].pageX,_[0].pageY),new g.Point(_[1].pageX,_[1].pageY)]}var v=this.raiseEvent(i.TaskAreaStateEventNames.GET_POINTERS_INFO,a);return[new g.Point((p=v[0])===null||p===void 0?void 0:p.pageX,(y=v[0])===null||y===void 0?void 0:y.pageY),new g.Point((f=v[1])===null||f===void 0?void 0:f.pageX,(m=v[1])===null||m===void 0?void 0:m.pageY)]},o.prototype.getDistance=function(a,p){return s.Metrics.euclideanDistance(a,p)},o.prototype.getLeftPosition=function(a){var p=0;return this.isTouchEvent(a)||this.isPointerEvent(a)?p=this.getZoomMiddlePoint(a).x:this.isMouseEvent(a)&&(p=this.getMouseZoomLeftPos(a)),p},o.prototype.getMouseZoomLeftPos=function(a){var p=this.raiseEvent(i.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return h.EvtUtils.getEventX(a)-p.x},o.prototype.getZoomMiddlePoint=function(a){var p=this.raiseEvent(i.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),y=this.GetTouchPoints(a),f=this.convertScreenToChartCoordinates(y[0],p),m=this.convertScreenToChartCoordinates(y[1],p);return new g.Point((f.x+m.x)/2,(f.y+m.y)/2)},o.prototype.convertScreenToChartCoordinates=function(a,p){return new g.Point(a.x-p.x,a.y-p.y)},o})(n.TaskAreaStateBase);u.TaskAreaZoomState=t},6262:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskDragBaseState=void 0;var d=c(655),g=c(8900),h=c(3714),s=c(5867),n=c(1404),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return d.__extends(r,t),r.prototype.onMouseDownInternal=function(o){this.onStart(o)},r.prototype.onMouseUp=function(o){this.onEnd(o)},r.prototype.onMouseMoveInternal=function(o){this.onDrag(o)},r.prototype.onTouchStartInternal=function(o){this.onStart(o)},r.prototype.onTouchEndInternal=function(o){this.onEnd(o)},r.prototype.onTouchMoveInternal=function(o){this.onDrag(o)},r.prototype.onDocumentPointerDownInternal=function(o){this.onStart(o)},r.prototype.onDocumentPointerUpInternal=function(o){this.onEnd(o)},r.prototype.onDocumentPointerMoveInternal=function(o){this.onDrag(o)},r.prototype.onStart=function(o){this.currentPosition=new g.Point(h.EvtUtils.getEventX(o),h.EvtUtils.getEventY(o)),this.raiseDependencySelection(o,null),this.onStartInternal(o)},r.prototype.onDrag=function(o){var a;o.preventDefault();var p=new g.Point(h.EvtUtils.getEventX(o),h.EvtUtils.getEventY(o));(a=this.currentPosition)!==null&&a!==void 0||(this.currentPosition=p),this.onDragInternal(p),this.currentPosition=p},r.prototype.onEnd=function(o){this.onEndInternal(o),this.raiseEvent(n.TaskAreaStateEventNames.STATE_EXIT,o)},r.prototype.onStartInternal=function(o){},r.prototype.onEndInternal=function(o){},r.prototype.onDragInternal=function(o){},r.prototype.finish=function(){this.raiseEvent(n.TaskAreaStateEventNames.TASK_EDIT_END)},r})(s.TaskAreaStateBase);u.TaskDragBaseState=i},2395:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditState=void 0;var d=c(655),g=c(3714),h=c(2449),s=c(9155),n=c(1404),i=(function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return d.__extends(r,t),r.prototype.onStartInternal=function(o){var a;(a=this._source)!==null&&a!==void 0||(this._source=s.TaskAreaDomHelper.getEventSource(g.EvtUtils.getEventSource(o)))},r.prototype.onEndInternal=function(o){this.raiseEvent(this.getEventOnEndKey(),o)},r.prototype.onDragInternal=function(o){var a=this.getRelativePos(o);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:a})},r.prototype.getEventOnDragKey=function(){switch(this._source){case h.TaskAreaEventSource.TaskEdit_Start:return n.TaskAreaStateEventNames.TASK_PROCESS_START;case h.TaskAreaEventSource.TaskEdit_End:return n.TaskAreaStateEventNames.TASK_PROCESS_END;case h.TaskAreaEventSource.TaskEdit_Progress:return n.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},r.prototype.getEventOnEndKey=function(){switch(this._source){case h.TaskAreaEventSource.TaskEdit_Start:return n.TaskAreaStateEventNames.TASK_CONFIRM_START;case h.TaskAreaEventSource.TaskEdit_End:return n.TaskAreaStateEventNames.TASK_CONFIRM_END;case h.TaskAreaEventSource.TaskEdit_Progress:return n.TaskAreaStateEventNames.TASK_END_PROGRESS}},r})(c(6262).TaskDragBaseState);u.TaskEditState=i},7295:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskMoveState=void 0;var d=c(655),g=c(1404),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.prototype.onEndInternal=function(i){this.raiseEvent(g.TaskAreaStateEventNames.TASK_END_MOVE,i)},n.prototype.onDragInternal=function(i){this.raiseEvent(g.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:i.x-this.currentPosition.x})||this.raiseEvent(g.TaskAreaStateEventNames.STATE_EXIT)},n})(c(6262).TaskDragBaseState);u.TaskMoveState=h},3461:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaEventArgs=void 0;var d=c(2491),g=function(h,s,n,i){this.rowIndex=-1,this.info={},this.eventName=h,this.triggerEvent=s,(0,d.isDefined)(n)&&(this.rowIndex=n),i&&(this.info=i)};u.TaskAreaEventArgs=g},8269:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaEventsListener=void 0;var d=c(8900),g=c(2491),h=c(6907),s=c(3714),n=c(2153),i=c(3336),t=c(1404),r=(function(){function o(a){this._owner=a}return Object.defineProperty(o.prototype,"taskEditController",{get:function(){var a;return(a=this._owner)===null||a===void 0?void 0:a.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderHelper",{get:function(){var a;return(a=this._owner)===null||a===void 0?void 0:a.renderHelper},enumerable:!1,configurable:!0}),o.prototype.getHandler=function(a){return this.handlers[a]},o.prototype.setHandler=function(a,p){this.handlers[a]=p},Object.defineProperty(o.prototype,"handlers",{get:function(){var a;return(a=this._handlers)!==null&&a!==void 0||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),o.prototype.createTaskAreaEventHandlers=function(){var a={};return a[t.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),a[t.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),a[t.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),a[t.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),a[t.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),a[t.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),a[t.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),a[t.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),a[t.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),a[t.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),a[t.TaskAreaStateEventNames.STATE_EXIT]=function(){},a},o.prototype.taskAreaClickHandler=function(a){return this._owner.onTaskAreaClick(a.rowIndex,a.triggerEvent)},o.prototype.taskAreaDblClickHandler=function(a){this._owner.onTaskAreaDblClick(a.rowIndex,a.triggerEvent)},o.prototype.taskSelectionHandler=function(a){this._owner.onTaskSelectionChanged(a.rowIndex,a.triggerEvent)},o.prototype.taskAreaContextMenuShowHandler=function(a){this._owner.onTaskAreaContextMenu(a.rowIndex,a.triggerEvent,a.info.type)},o.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},o.prototype.taskAreaScrollHandler=function(a){this._owner.updateView()},o.prototype.dependencySelectionHandler=function(a){var p=a.info.key,y=this.taskEditController.dependencyId;(p!==y||!p&&(0,g.isDefined)(y))&&this._owner.selectDependency(p)},Object.defineProperty(o.prototype,"ganttMovingHelper",{get:function(){var a;return(a=this._ganttMovingHelper)!==null&&a!==void 0||(this._ganttMovingHelper=new i.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),o.prototype.taskAreaStartMoveHandler=function(a){this.ganttMovingHelper.startMoving(a.triggerEvent)},o.prototype.taskAreaProcessMoveHandler=function(a){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(a.triggerEvent),a.triggerEvent.preventDefault())},o.prototype.taskAreaEndMoveHandler=function(a){this.ganttMovingHelper.onMouseUp(a.triggerEvent)},o.prototype.taskAreaZoomInHandler=function(a){this._owner.zoomIn(a.info.leftPos)},o.prototype.taskAreaZoomOutHandler=function(a){this._owner.zoomOut(a.info.leftPos)},o.prototype.getCoordinatesRefPoint=function(a){var p=h.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),y=h.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new d.Point(p,y)},o.prototype.taskEditStartHandler=function(a){this.taskEditController.show(a.rowIndex),this.taskEditController.showTaskInfo(s.EvtUtils.getEventX(a.triggerEvent))},o.prototype.taskLeaveHandler=function(a){this.taskEditController.cancel()},o.prototype.taskEditEndHandler=function(a){this.taskEditController.endEditing()},o.prototype.taskEndMoveHandler=function(a){this.taskEditController.confirmMove()},o.prototype.taskProcessMoveHandler=function(a){var p;return this.taskEditController.processMove((p=a.info.delta)!==null&&p!==void 0?p:0)},o.prototype.taskEndProgressHandler=function(a){this.taskEditController.confirmProgress()},o.prototype.taskProcessProgressHandler=function(a){this.taskEditController.processProgress(a.info.position)},o.prototype.taskProcessStartHandler=function(a){this.taskEditController.processStart(a.info.position)},o.prototype.taskConfirmStartHandler=function(a){this.taskEditController.confirmStart()},o.prototype.taskProcessEndHandler=function(a){this.taskEditController.processEnd(a.info.position)},o.prototype.taskConfirmEndHandler=function(a){this.taskEditController.confirmEnd()},o.prototype.getDependencyPoints=function(a){var p={};return p.successorStart=new d.Point(h.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,h.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),p.successorFinish=new d.Point(h.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,h.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),p},o.prototype.dependencyStartHandler=function(a){this.taskEditController.startDependency(a.info.pos)},o.prototype.dependencyEndHandler=function(a){this.taskEditController.endDependency(a.info.type)},o.prototype.dependencyProcessHandler=function(a){this.taskEditController.processDependency(a.info.pos),this._owner.viewModel.tasks.items[a.rowIndex]&&this.taskEditController.showDependencySuccessor(a.rowIndex)},o.prototype.onTaskAreaKeyDown=function(a){var p=a.info.code;p==(n.ModifierKey.Ctrl|n.KeyCode.Key_z)&&this._owner.history.undo(),p==(n.ModifierKey.Ctrl|n.KeyCode.Key_y)&&this._owner.history.redo(),p==n.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},o})();u.TaskAreaEventsListener=r},3682:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaManager=u.TOUCH_ACTION_NONE=void 0;var d=c(9279),g=c(6907),h=c(3714),s=c(6958);u.TOUCH_ACTION_NONE="dx-gantt-touch-action";var n=(function(){function i(t,r,o){this._eventListener=t,this._taskArea=r,this._cellSize=o,this.attachEvents()}return i.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():d.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},i.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():d.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},i.prototype.attachEventsOnTask=function(t){window.PointerEvent?t==null||t.addEventListener("pointerenter",this.onTaskPointerEnterHandler):d.Browser.TouchUI?t==null||t.addEventListener("touchstart",this.onTaskTouchStartHandler):(t==null||t.addEventListener("mouseenter",this.onTaskMouseEnterHandler),t==null||t.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},i.prototype.detachEventsOnTask=function(t){window.PointerEvent?t==null||t.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):d.Browser.TouchUI?t==null||t.removeEventListener("touchstart",this.onTaskTouchStartHandler):(t==null||t.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),t==null||t.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},i.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(h.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},i.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(h.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},i.prototype.attachPointerEvents=function(){g.DomUtils.addClassName(this.taskArea,u.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},i.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),g.DomUtils.removeClassName(this.taskArea,u.TOUCH_ACTION_NONE)},i.prototype.attachTouchEvents=function(){g.DomUtils.addClassName(this.taskArea,u.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},i.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),g.DomUtils.removeClassName(this.taskArea,u.TOUCH_ACTION_NONE)},i.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},i.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(i.prototype,"stateController",{get:function(){var t;return(t=this._stateController)!==null&&t!==void 0||(this._stateController=new s.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),i.prototype.taskAreaAddEventListener=function(t,r){this.taskArea.addEventListener(t,r)},i.prototype.taskAreaRemoveEventListener=function(t,r){this.taskArea.removeEventListener(t,r)},Object.defineProperty(i.prototype,"onContextMenuHandler",{get:function(){var t,r=this;return(t=this._onContextMenuHandler)!==null&&t!==void 0||(this._onContextMenuHandler=function(o){r.stateController.onContextMenu(o)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseWheelHandler",{get:function(){var t,r=this;return(t=this._onMouseWheelHandler)!==null&&t!==void 0||(this._onMouseWheelHandler=function(o){r.stateController.onMouseWheel(o)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onScrollHandler",{get:function(){var t,r=this;return(t=this._onScrollHandler)!==null&&t!==void 0||(this._onScrollHandler=function(o){r.stateController.onScroll(o)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onKeyDownHandler",{get:function(){var t,r=this;return(t=this._onKeyDownHandler)!==null&&t!==void 0||(this._onKeyDownHandler=function(o){r.stateController.onKeyDown(o)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskPointerEnterHandler",{get:function(){var t,r=this;return(t=this._onTaskPointerEnterHandler)!==null&&t!==void 0||(this._onTaskPointerEnterHandler=function(o){r.stateController.onTaskPointerEnter(o)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var t,r=this;return(t=this._onTaskAreaPointerLeaveHandler)!==null&&t!==void 0||(this._onTaskAreaPointerLeaveHandler=function(o){r.stateController.onTaskAreaPointerLeave(o)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerDownHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerDownHandler)!==null&&t!==void 0||(this._onDocumentPointerDownHandler=function(o){r.stateController.onDocumentPointerDown(o)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerUpHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerUpHandler)!==null&&t!==void 0||(this._onDocumentPointerUpHandler=function(o){r.stateController.onDocumentPointerUp(o)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerCancelHandler)!==null&&t!==void 0||(this._onDocumentPointerCancelHandler=function(o){r.stateController.onDocumentPointerCancel(o)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onDocumentPointerMoveHandler",{get:function(){var t,r=this;return(t=this._onDocumentPointerMoveHandler)!==null&&t!==void 0||(this._onDocumentPointerMoveHandler=function(o){r.stateController.onDocumentPointerMove(o)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTouchStartHandler",{get:function(){var t,r=this;return(t=this._onTouchStartHandler)!==null&&t!==void 0||(this._onTouchStartHandler=function(o){r.stateController.onTouchStart(o)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTouchEndHandler",{get:function(){var t,r=this;return(t=this._onTouchEndHandler)!==null&&t!==void 0||(this._onTouchEndHandler=function(o){r.stateController.onTouchEnd(o)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTouchMoveHandler",{get:function(){var t,r=this;return(t=this._onTouchMoveHandler)!==null&&t!==void 0||(this._onTouchMoveHandler=function(o){r.stateController.onTouchMove(o)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskTouchStartHandler",{get:function(){var t,r=this;return(t=this._onTaskTouchStartHandler)!==null&&t!==void 0||(this._onTaskTouchStartHandler=function(o){r.stateController.onTaskTouchStart(o)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseClickHandler",{get:function(){var t,r=this;return(t=this._onMouseClickHandler)!==null&&t!==void 0||(this._onMouseClickHandler=function(o){r.stateController.onClick(o)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseDblClickHandler",{get:function(){var t,r=this;return(t=this._onMouseDblClickHandler)!==null&&t!==void 0||(this._onMouseDblClickHandler=function(o){r.stateController.onDblClick(o)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseDownHandler",{get:function(){var t,r=this;return(t=this._onMouseDownHandler)!==null&&t!==void 0||(this._onMouseDownHandler=function(o){r.stateController.onMouseDown(o)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var t,r=this;return(t=this._onTaskAreaMouseLeaveHandler)!==null&&t!==void 0||(this._onTaskAreaMouseLeaveHandler=function(o){r.stateController.onTaskAreaMouseLeave(o)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseMoveHandler",{get:function(){var t,r=this;return(t=this._onMouseMoveHandler)!==null&&t!==void 0||(this._onMouseMoveHandler=function(o){r.stateController.onMouseMove(o)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onMouseUpHandler",{get:function(){var t,r=this;return(t=this._onMouseUpHandler)!==null&&t!==void 0||(this._onMouseUpHandler=function(o){r.stateController.onMouseUp(o)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskMouseEnterHandler",{get:function(){var t,r=this;return(t=this._onTaskMouseEnterHandler)!==null&&t!==void 0||(this._onTaskMouseEnterHandler=function(o){r.stateController.onTaskElementHover(o)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTaskMouseLeaveHandler",{get:function(){var t,r=this;return(t=this._onTaskMouseLeaveHandler)!==null&&t!==void 0||(this._onTaskMouseLeaveHandler=function(o){r.stateController.onTaskElementLeave(o)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),i.DBLCLICK_INTERVAL=300,i.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",i})();u.TaskAreaManager=n},2366:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GanttView=void 0;var d=c(639),g=c(9279),h=c(7156),s=c(1284),n=c(858),i=c(7880),t=c(9201),r=c(9954),o=c(8695),a=c(6893),p=c(8725),y=c(2491),f=c(3452),m=c(9650),_=c(2978),v=c(1074),w=c(5351),S=c(6353),D=c(9057),x=c(5098),N=c(9640),A=c(8478),E=c(5846),H=c(2449),B=c(1408),K=c(6626),R=c(3714),V=c(6907),j=c(8900),F=c(8269),W=c(4730),Y=c(6124),z=(function(){function P(I,M,L){var U=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new S.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=M,this.settings=w.Settings.parse(L),this.initValidationController(),this.renderHelper=new v.RenderHelper(this),this.renderHelper.initMarkup(I),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new h.CommandManager(this),this.barManager=new d.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new p.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout((function(){U.scrollLeftByViewType()}),0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return P.prototype.initGanttViewApi=function(){this.ganttViewApi=new K.GanttViewApi(this)},P.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},P.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},P.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},P.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},P.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,this._updateWithModelReloadLockedCounter===0&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},P.prototype.initValidationController=function(){var I=this,M=E.ValidationControllerSettings.parse({getViewModel:function(){return I.viewModel},getHistory:function(){return I.history},getModelManipulator:function(){return I.modelManipulator},getRange:function(){return I.range},getValidationSettings:function(){return I.settings.validation},updateOwnerInAutoParentMode:function(){I.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return I.isValidateDependenciesRequired()}});this.validationController=new A.ValidationController(M)},P.prototype.initTaskEditController=function(){var I=this,M=N.TaskEditSettings.parse({destroyTemplate:function(L){I.destroyTemplate(L)},formatDate:function(L){return I.getDateFormat(L)},getRenderHelper:function(){return I.renderHelper},getGanttSettings:function(){return I.settings},getViewModel:function(){return I.viewModel},getCommandManager:function(){return I.commandManager},getModelManipulator:function(){return I.modelManipulator},getValidationController:function(){return I.validationController}});this.taskEditController=new x.TaskEditController(M)},Object.defineProperty(P.prototype,"taskAreaEventsListener",{get:function(){var I;return(I=this._taskAreaEventsListener)!==null&&I!==void 0||(this._taskAreaEventsListener=new F.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),P.prototype.initFullScreenModeHelper=function(){var I=this,M=r.FullScreenHelperSettings.parse({getMainElement:function(){return I.getOwnerControlMainElement()},adjustControl:function(){I.adjustOwnerControl()}});this.fullScreenModeHelper=new o.FullScreenModeHelper(M)},P.prototype.getDateRange=function(I,M){var L=this.getVisibleAreaTime(),U=this.settings.startDateRange||t.DateUtils.adjustStartDateByViewType(new Date(I.getTime()-L),this.settings.viewType,this.settings.firstDayOfWeek),q=this.settings.endDateRange||t.DateUtils.adjustEndDateByViewType(new Date(M.getTime()+L),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&U>q?q=U:this.settings.endDateRange&&U>q&&(U=q),new n.DateRange(U,q)},P.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*t.DateUtils.getTickTimeSpan(this.settings.viewType)},P.prototype.zoomIn=function(I){I===void 0&&(I=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(I)},P.prototype.zoomOut=function(I){I===void 0&&(I=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(I)},P.prototype.scrollToDate=function(I){if(I){var M=I instanceof Date?t.DateUtils.getOrCreateUTCDate(I):t.DateUtils.parse(I);this.scrollToDateCore(M,0)}},P.prototype.showDialog=function(I,M,L,U){this.ganttOwner.showDialog(I,M,L,U)},P.prototype.showPopupMenu=function(I){this.ganttOwner.showPopupMenu(I)},P.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},P.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},P.prototype.expandAll=function(){this.ganttOwner.expandAll()},P.prototype.onGanttViewContextMenu=function(I,M,L){return this.ganttOwner.onGanttViewContextMenu(I,M,L)},P.prototype.changeGanttTaskSelection=function(I,M){this.ganttOwner.changeGanttTaskSelection(I,M)},P.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},P.prototype.scrollLeftByViewType=function(){var I=t.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(I,1)},P.prototype.scrollToDateCore=function(I,M){this.renderHelper.setTaskAreaContainerScrollLeftToDate(I,M)},P.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},P.prototype.initializeStripLinesUpdater=function(){var I=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval((function(){I.renderHelper.recreateStripLines()}),Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},P.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},P.prototype.getGanttViewStartDate=function(I){if(!I)return new Date;var M=I.map((function(L){return typeof L.start=="string"?new Date(L.start):L.start})).filter((function(L){return(0,y.isDefined)(L)}));return M.length>0?M.reduce((function(L,U){return U<L?U:L}),M[0]):new Date},P.prototype.getGanttViewEndDate=function(I){if(!I)return new Date;var M=I.map((function(L){return typeof L.end=="string"?new Date(L.end):L.end})).filter((function(L){return(0,y.isDefined)(L)}));return M.length>0?M.reduce((function(L,U){return U>L?U:L}),M[0]):new Date},P.prototype.getTask=function(I){var M=this.getViewItem(I);return M==null?void 0:M.task},P.prototype.getViewItem=function(I){var M;return(M=this.viewModel)===null||M===void 0?void 0:M.items[I]},P.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},P.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},P.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},P.prototype.onBeginUpdateView=function(){this[P.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[P.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},P.prototype.onEndUpdateView=function(){delete this[P.taskAreaScrollTopKey],delete this[P.taskAreaScrollLeftKey],delete this[P.taskTextHeightKey]},Object.defineProperty(P.prototype,"taskAreaContainerScrollTop",{get:function(){var I;return(I=this[P.taskAreaScrollTopKey])!==null&&I!==void 0?I:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"taskAreaContainerScrollLeft",{get:function(){var I;return(I=this[P.taskAreaScrollLeftKey])!==null&&I!==void 0?I:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),P.prototype.processScroll=function(I){this.hideTaskEditControl(),this.renderHelper.processScroll(I)},P.prototype.allowTaskAreaBorders=function(I){return I?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},P.prototype.getScaleItemText=function(I,M){return this.renderHelper.getScaleItemText(I,M)},P.prototype.getTaskText=function(I){return this.renderHelper.getTaskText(I)},P.prototype.rowHasChildren=function(I){var M=this.getViewItem(I);return(M==null?void 0:M.children.length)>0},P.prototype.rowHasSelection=function(I){var M=this.getViewItem(I);return M==null?void 0:M.selected},P.prototype.getAllVisibleTaskIndices=function(I,M){return this.viewModel.getAllVisibleTaskIndices(I,M)},P.prototype.getVisibleDependencyKeysByTaskRange=function(I){if(!this.settings.showDependencies)return[];var M=this.viewModel,L=I.map((function(U){return M.tasks.items[U].internalId}));return M.dependencies.items.filter((function(U){return L.indexOf(U.successorId)>-1||L.indexOf(U.predecessorId)>-1})).map((function(U){return U.internalId}))},P.prototype.getTreeListTableStyle=function(){var I,M;return(M=(I=this.ganttOwner).getTreeListTableStyle)===null||M===void 0?void 0:M.call(I)},P.prototype.getTreeListColCount=function(){var I,M;return(M=(I=this.ganttOwner).getTreeListColCount)===null||M===void 0?void 0:M.call(I)},P.prototype.getTreeListHeaderInfo=function(I){var M,L;return(L=(M=this.ganttOwner).getTreeListHeaderInfo)===null||L===void 0?void 0:L.call(M,I)},P.prototype.getTreeListCellInfo=function(I,M,L){var U,q;return(q=(U=this.ganttOwner).getTreeListCellInfo)===null||q===void 0?void 0:q.call(U,I,M,L)},P.prototype.getTreeListEmptyDataCellInfo=function(){var I,M;return(M=(I=this.ganttOwner).getTreeListEmptyDataCellInfo)===null||M===void 0?void 0:M.call(I)},P.prototype.exportToPdf=function(I){var M;return(M=I.docCreateMethod)!==null&&M!==void 0||(I.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new _.PdfGanttExporter(new a.GanttExportCalculator(this,I)).export()},P.prototype.getDefaultPdfDocCreateMethod=function(){var I;return(I=window.jspdf)===null||I===void 0?void 0:I.jsPDF},P.prototype.getTaskDependencies=function(I){return this.viewModel.dependencies.items.filter((function(M){return M.predecessorId==I||M.successorId==I}))},P.prototype.isHighlightRowElementAllowed=function(I){var M=this.getViewItem(I);return I%2!=0&&this.settings.areAlternateRowsEnabled||(M==null?void 0:M.children.length)>0},P.prototype.calculateAutoViewType=function(I,M){var L=(M.getTime()-I.getTime())/36e5;return L>8760?H.ViewType.Years:L>720?H.ViewType.Months:L>168?H.ViewType.Weeks:L>24?H.ViewType.Days:L>6?H.ViewType.SixHours:L>1?H.ViewType.Hours:H.ViewType.TenMinutes},P.prototype.getExternalTaskAreaContainer=function(I){return this.ganttOwner.getExternalTaskAreaContainer(I)},P.prototype.prepareExternalTaskAreaContainer=function(I,M){return this.ganttOwner.prepareExternalTaskAreaContainer(I,M)},P.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},P.prototype.changeTaskExpanded=function(I,M){var L=this.getTaskByPublicId(I);L&&this.viewModel.changeTaskExpanded(L.internalId,M)},P.prototype.expandTask=function(I){this.viewModel.changeTaskExpanded(I,!0)},P.prototype.collapseTask=function(I){this.viewModel.changeTaskExpanded(I,!1)},P.prototype.showTask=function(I){this.viewModel.changeTaskVisibility(I,!0)},P.prototype.hideTask=function(I){this.viewModel.changeTaskVisibility(I,!1)},P.prototype.getTaskVisibility=function(I){return this.viewModel.getTaskVisibility(I)},P.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},P.prototype.getTaskSelected=function(I){return this.viewModel.getTaskSelected(I)},P.prototype.setViewType=function(I,M){M===void 0&&(M=!0),this.ganttViewApi.setViewType(I,M)},P.prototype.setViewTypeRange=function(I,M){this.ganttViewApi.setViewTypeRange(I,M)},P.prototype.setTaskTitlePosition=function(I){this.settings.taskTitlePosition!==I&&(this.settings.taskTitlePosition=I,this.resetAndUpdate())},P.prototype.setShowResources=function(I){this.settings.showResources!==I&&(this.settings.showResources=I,this.resetAndUpdate())},P.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},P.prototype.setShowDependencies=function(I){this.settings.showDependencies!==I&&(this.settings.showDependencies=I,this.resetAndUpdate())},P.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},P.prototype.setFirstDayOfWeek=function(I){this.settings.firstDayOfWeek!==I&&(this.settings.firstDayOfWeek=I,this.resetAndUpdate())},P.prototype.setStartDateRange=function(I){i.DateTimeUtils.areDatesEqual(this.settings.startDateRange,I)||(this.settings.startDateRange=new Date(I),this.resetAndUpdate())},P.prototype.setEndDateRange=function(I){i.DateTimeUtils.areDatesEqual(this.settings.endDateRange,I)||(this.settings.endDateRange=new Date(I),this.resetAndUpdate())},P.prototype.loadOptionsFromGanttOwner=function(){var I,M=this;this.tickSize.height=this.ganttOwner.getRowHeight();var L=this.ganttOwner.getGanttTasksData();this.dataRange=new n.DateRange(this.getGanttViewStartDate(L),this.getGanttViewEndDate(L)),this.settings.viewType==null&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new f.ModelChangesDispatcher;var U=this.ganttOwner.getModelChangesListener();U&&this.dispatcher.onModelChanged.add(U),this.viewModel=new B.ViewVisualModel(this,L,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new m.ModelManipulator(this.viewModel,this.dispatcher),(I=this.history)===null||I===void 0||I.historyItems.forEach((function(q){return q.setModelManipulator(M.modelManipulator)}))},P.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),g.Browser.IE&&this.taskEditController.createElements(),this.updateView()},P.prototype.cleanMarkup=function(){this.setNormalScreenMode(),this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},P.prototype.checkAndProcessModelChanges=function(){var I=this.ganttOwner.getGanttTasksData(),M=this.viewModel.refreshTaskDataIfRequires(I);return M&&this.resetAndUpdate(),M},P.prototype.updateHistoryObsoleteInsertedKey=function(I,M,L){var U;(U=this.history)===null||U===void 0||U.updateObsoleteInsertedKey(I,M,L),L===Y.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(I,M)},P.prototype.updateRowHeights=function(I){if(this.tickSize.height!==I){this.tickSize.height=I;var M=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(M)}},P.prototype.selectTask=function(I){this.selectDependency(null),this.viewModel.changeTaskSelected(I,!0),this.currentSelectedTaskID=I,this.updateBarManager()},P.prototype.unselectTask=function(I){this.viewModel.changeTaskSelected(I,!1),this.updateBarManager()},P.prototype.selectTaskById=function(I){this.unselectCurrentSelectedTask();var M=this.getTaskByPublicId(I);M&&this.selectTask(M.internalId)},P.prototype.selectDependency=function(I){this.taskEditController.selectDependency(I),this.renderHelper.createConnectorLines()},P.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},P.prototype.setWidth=function(I){this.renderHelper.setMainElementWidth(I)},P.prototype.setHeight=function(I){this.renderHelper.setMainElementHeight(I)},P.prototype.setAllowSelection=function(I){this.settings.allowSelectTask=I},P.prototype.setEditingSettings=function(I){this.settings.editing=I,this.updateBarManager()},P.prototype.setValidationSettings=function(I){this.settings.validation=I},P.prototype.setRowLinesVisible=function(I){this.settings.areHorizontalBordersEnabled=I,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},P.prototype.setStripLines=function(I){this.settings.stripLines=D.StripLineSettings.parse(I),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},P.prototype.deleteTask=function(I){var M=this.getTaskByPublicId(I.toString());M&&this.commandManager.removeTaskCommand.execute(M.internalId,!1,!0)},P.prototype.insertTask=function(I){if(I){var M=I.parentId!=null?String(I.parentId):null,L=this.getTaskByPublicId(M),U=this.viewModel.getRootTaskId(),q=typeof I.start=="string"?new Date(I.start):I.start,ae=typeof I.end=="string"?new Date(I.end):I.end,ge={parentId:U&&M===U?M:L==null?void 0:L.internalId,title:I.title,start:q,end:ae,progress:parseInt(I.progress)||0,color:I.color};if(this.commandManager.createTaskCommand.execute(ge))return this.getLastInsertedTaskId()}return""},P.prototype.updateTask=function(I,M){var L=this.getTaskByPublicId(I.toString()),U=this._getTaskDataForUpdate(M,L);U&&this.commandManager.updateTaskCommand.execute(L.internalId,U)},P.prototype.getTaskData=function(I){var M=this.getTaskByPublicId(I.toString());if(M)return this.viewModel.getTaskObjectForDataSource(M)},P.prototype.insertDependency=function(I){if(I){var M=String(I.predecessorId),L=this.getTaskByPublicId(M),U=String(I.successorId),q=this.getTaskByPublicId(U),ae=I.type;L&&q&&this.validationController.canCreateDependency(M,U)&&this.commandManager.createDependencyCommand.execute(L.internalId,q.internalId,ae)}},P.prototype.deleteDependency=function(I){var M=this.viewModel.convertPublicToInternalKey("dependency",I);(0,y.isDefined)(M)&&this.commandManager.removeDependencyCommand.execute(M)},P.prototype.getDependencyData=function(I){return this.viewModel.getDependencyObjectForDataSource(I)},P.prototype.insertResource=function(I,M){var L=this;I&&this.commandManager.createResourceCommand.execute(String(I.text),I.color&&String(I.color),(function(U){if((0,y.isDefined)(M))for(var q=0;q<M.length;q++)L.assignResourceToTask(U,M[q])}))},P.prototype.deleteResource=function(I){var M=this.viewModel.convertPublicToInternalKey("resource",I);(0,y.isDefined)(M)&&this.commandManager.removeResourceCommand.execute(M)},P.prototype.assignResourceToTask=function(I,M){var L=this.viewModel.convertPublicToInternalKey("resource",I),U=this.viewModel.convertPublicToInternalKey("task",M);(0,y.isDefined)(L)&&(0,y.isDefined)(U)&&this.commandManager.assignResourceCommand.execute(L,U)},P.prototype.unassignResourceFromTask=function(I,M){var L=this.viewModel.findAssignment(I,M);L&&this.commandManager.deassignResourceCommand.execute(L.internalId)},P.prototype.unassignAllResourcesFromTask=function(I){var M=this,L=this.viewModel.convertPublicToInternalKey("task",I);this.viewModel.findAllTaskAssignments(L).forEach((function(U){return M.commandManager.deassignResourceCommand.execute(U.internalId)}))},P.prototype.getResourceData=function(I){return this.viewModel.getResourceObjectForDataSource(I)},P.prototype.getResourceAssignmentData=function(I){return this.viewModel.getResourceAssignmentObjectForDataSource(I)},P.prototype.getTaskResources=function(I){var M=this.viewModel,L=M.getItemByPublicId("task",I);return L&&M.getAssignedResources(L).items||[]},P.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map((function(I){return I.id}))},P.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map((function(I){return I.id}))},P.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map((function(I){return I.id}))},P.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map((function(I){return I.id}))},P.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},P.prototype.applyTasksExpandedState=function(I){this.viewModel.applyTasksExpandedState(I)},P.prototype.updateWithDataReload=function(I){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:I};else{var M=I&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),I?this.applyTasksExpandedState(M):this.resetAndUpdate();var L=W.DialogBase.activeInstance;L&&L.canRefresh&&L.getDialogName()==="TaskEdit"&&L.refresh(),this.dispatcher.notifyGanttViewUpdated()}},P.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},P.prototype.getTaskTreeLine=function(I){return this.viewModel.getTaskTreeLine(I).reverse()},P.prototype.isInFullScreenMode=function(){var I;return!!(!((I=this.fullScreenModeHelper)===null||I===void 0)&&I.isInFullScreenMode)},P.prototype.setFullScreenMode=function(){this.isInFullScreenMode()||this.fullScreenModeHelper.toggle()},P.prototype.setNormalScreenMode=function(){this.isInFullScreenMode()&&this.fullScreenModeHelper.toggle()},P.prototype.setTaskValue=function(I,M,L){var U=this.commandManager.updateTaskCommand,q=this.getTaskByPublicId(I),ae={};return q&&(M==="title"&&(ae[M]=L||""),M==="progress"&&(ae[M]=L),M==="start"&&(ae[M]=i.DateTimeUtils.getMinDate(L,q.end)),M==="end"&&(ae[M]=i.DateTimeUtils.getMaxDate(L,q.start))),Object.keys(ae).length>0&&U.execute(q.internalId,ae)},P.prototype.getLastInsertedTaskId=function(){var I=this.history.historyItems.filter((function(L){return L instanceof s.CreateTaskHistoryItem})),M=I[I.length-1];return M&&M.insertedKey},P.prototype.getTaskByPublicId=function(I){return this.viewModel.tasks.getItemByPublicId(I)},P.prototype.getPrevTask=function(I){var M=this.viewModel.findItem(I);if(!M)return null;var L=(M.parent||this.viewModel.root).children.indexOf(M)-1;return L>-1?M.parent.children[L].task:M.parent.task},P.prototype.getTaskIdByInternalId=function(I){var M=this.viewModel.findItem(I),L=M&&M.task;return L?L.id:null},P.prototype.isTaskHasChildren=function(I){var M=this.viewModel.findItem(I);return M&&M.children.length>0},P.prototype.requireFirstLoadParentAutoCalc=function(){var I=this.ganttOwner;return I.getRequireFirstLoadParentAutoCalc&&I.getRequireFirstLoadParentAutoCalc()},P.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},P.prototype.getOwnerControlMainElement=function(){var I=this.ganttOwner;return I.getMainElement&&I.getMainElement()},P.prototype.adjustOwnerControl=function(){var I=this.ganttOwner;I.adjustControl&&I.adjustControl()},P.prototype.applySettings=function(I,M){M===void 0&&(M=!1);var L=w.Settings.parse(I),U=M||this.settings.equal(L);this.settings=L,U||this.resetAndUpdate()},P.prototype.getDataUpdateErrorCallback=function(){var I=this,M=this.history,L=M.getCurrentProcessingItemInfo();return function(){I.dispatcher.lock(),M.rollBackAndRemove(L),I.dispatcher.unlock(),I.updateBarManager()}},P.prototype.setTaskTooltipContentTemplate=function(I){this.settings.taskTooltipContentTemplate=I},P.prototype.setTaskProgressTooltipContentTemplate=function(I){this.settings.taskProgressTooltipContentTemplate=I},P.prototype.setTaskTimeTooltipContentTemplate=function(I){this.settings.taskTimeTooltipContentTemplate=I},P.prototype.setTaskContentTemplate=function(I){this.settings.taskContentTemplate=I},P.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},P.prototype.onTaskAreaClick=function(I,M){var L,U=this.viewModel.items[I];return U&&this.onTaskClick((L=U.task)===null||L===void 0?void 0:L.id,M)},P.prototype.onTaskAreaDblClick=function(I,M){var L=this.viewModel.items[I];L&&this.onTaskDblClick(L.task.id,M)&&this.commandManager.showTaskEditDialog.execute(L.task)},P.prototype.onTaskAreaContextMenu=function(I,M,L){var U,q,ae=L==="dependency",ge=M,Xe=this.viewModel,Qe=ae?Xe.convertInternalToPublicKey("dependency",R.EvtUtils.getEventSource(M).getAttribute("dependency-id")):(q=(U=Xe.items[I])===null||U===void 0?void 0:U.task)===null||q===void 0?void 0:q.id;if(this.onGanttViewContextMenu(M,Qe,L)){var hn={event:M,type:L,key:Qe,position:new j.Point(R.EvtUtils.getEventX(ge),R.EvtUtils.getEventY(ge))};this.showPopupMenu(hn)}},P.prototype.onTaskSelectionChanged=function(I,M){var L=this,U=this.viewModel.items[I];this.isFocus=V.DomUtils.isItParent(this.renderHelper.taskArea,R.EvtUtils.getEventSource(M)),U&&this.isFocus&&this.settings.allowSelectTask&&setTimeout((function(){L.changeGanttTaskSelection(U.task.id,!0)}),0)},P.prototype.onTaskClick=function(I,M){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(I,M)},P.prototype.onTaskDblClick=function(I,M){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(I,M)},P.prototype.getDateFormat=function(I){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(I):this.getDefaultDateFormat(I)},P.prototype.getDefaultDateFormat=function(I){return("0"+I.getDate()).slice(-2)+"/"+("0"+(I.getMonth()+1)).slice(-2)+"/"+I.getFullYear()+" "+("0"+I.getHours()).slice(-2)+":"+("0"+I.getMinutes()).slice(-2)},P.prototype.destroyTemplate=function(I){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(I):I.innerHTML=""},P.prototype.onTaskAreaSizeChanged=function(I){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(I)},P.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},P.prototype.showTaskDetailsDialog=function(I){var M=this.getTaskByPublicId(I);M&&this.commandManager.showTaskEditDialog.execute(M,!0)},P.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},P.prototype.getCommandByKey=function(I){return this.commandManager.getCommand(I)},P.prototype._getTaskDataForUpdate=function(I,M){var L={};return M&&I&&((0,y.isDefined)(I.title)&&I.title!==M.title&&(L.title=I.title),(0,y.isDefined)(I.progress)&&I.progress!==M.progress&&(L.progress=I.progress),(0,y.isDefined)(I.start)&&I.start!==M.start&&(L.start=I.start),(0,y.isDefined)(I.end)&&I.end!==M.end&&(L.end=I.end),(0,y.isDefined)(I.color)&&I.color!==M.color&&(L.color=I.color)),Object.keys(L).length>0?L:null},P.prototype.updateViewDataRange=function(){var I=this.viewModel,M=I.getTaskMinStart(),L=I.getTaskMaxEnd(),U=M.getTime()<this.dataRange.start.getTime(),q=L.getTime()>this.dataRange.end.getTime();U&&(this.dataRange.start=M),q&&(this.dataRange.end=L),(U||q)&&this.resetAndUpdate()},P.cachedPrefix="cached_",P.taskAreaScrollLeftKey=P.cachedPrefix+"taskAreaScrollLeft",P.taskAreaScrollTopKey=P.cachedPrefix+"taskAreaScrollTop",P.taskTextHeightKey=P.cachedPrefix+"taskTextHeight",P})();u.GanttView=z},2449:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaEventSource=u.TaskTitlePosition=u.Position=u.ViewType=void 0,(function(c){c[c.TenMinutes=0]="TenMinutes",c[c.Hours=1]="Hours",c[c.SixHours=2]="SixHours",c[c.Days=3]="Days",c[c.Weeks=4]="Weeks",c[c.Months=5]="Months",c[c.Quarter=6]="Quarter",c[c.Years=7]="Years",c[c.FiveYears=8]="FiveYears"})(u.ViewType||(u.ViewType={})),(function(c){c[c.Left=0]="Left",c[c.Top=1]="Top",c[c.Right=2]="Right",c[c.Bottom=3]="Bottom"})(u.Position||(u.Position={})),(function(c){c[c.Inside=0]="Inside",c[c.Outside=1]="Outside",c[c.None=2]="None"})(u.TaskTitlePosition||(u.TaskTitlePosition={})),(function(c){c[c.TaskArea=0]="TaskArea",c[c.TaskEdit_Frame=1]="TaskEdit_Frame",c[c.TaskEdit_Progress=2]="TaskEdit_Progress",c[c.TaskEdit_Start=3]="TaskEdit_Start",c[c.TaskEdit_End=4]="TaskEdit_End",c[c.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",c[c.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",c[c.Successor_Wrapper=7]="Successor_Wrapper",c[c.Successor_DependencyStart=8]="Successor_DependencyStart",c[c.Successor_DependencyFinish=9]="Successor_DependencyFinish"})(u.TaskAreaEventSource||(u.TaskAreaEventSource={}))},8877:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EtalonSizeValues=void 0;var c=function(){this.scaleItemWidths={}};u.EtalonSizeValues=c},8695:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FullScreenModeHelper=void 0;var d=c(9279),g=c(2217),h=c(6907),s=(function(){function n(i){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=i}return Object.defineProperty(n.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),n.prototype.getMainElement=function(){return this.settings.getMainElement()},n.prototype.adjustControl=function(){this.settings.adjustControl()},n.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},n.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},n.prototype.prepareFullScreenMode=function(){var i=this.getMainElement();g.AttrUtils.changeElementStyleAttribute(i,"border-top-width","0px"),g.AttrUtils.changeElementStyleAttribute(i,"border-left-width","0px"),g.AttrUtils.changeElementStyleAttribute(i,"border-right-width","0px"),g.AttrUtils.changeElementStyleAttribute(i,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=h.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=h.DomUtils.getDocumentScrollLeft(),g.AttrUtils.changeElementStyleAttribute(i,"background-color","white"),g.AttrUtils.changeElementStyleAttribute(i,"position","fixed"),g.AttrUtils.changeElementStyleAttribute(i,"top","0px"),g.AttrUtils.changeElementStyleAttribute(i,"left","0px"),g.AttrUtils.changeElementStyleAttribute(i,"z-index","1010"),g.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),g.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=i.style.width,this.fullScreenTempVars.height=i.style.height||i.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},n.prototype.setNormalMode=function(){this.cancelFullScreen(document);var i=this.getMainElement();g.AttrUtils.restoreElementStyleAttribute(i,"left"),g.AttrUtils.restoreElementStyleAttribute(i,"top"),g.AttrUtils.restoreElementStyleAttribute(i,"background-color"),g.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),g.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),g.AttrUtils.restoreElementStyleAttribute(i,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,g.AttrUtils.restoreElementStyleAttribute(i,"position"),g.AttrUtils.restoreElementStyleAttribute(i,"border-top-width"),g.AttrUtils.restoreElementStyleAttribute(i,"border-left-width"),g.AttrUtils.restoreElementStyleAttribute(i,"border-right-width"),g.AttrUtils.restoreElementStyleAttribute(i,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},n.prototype.adjustControlInFullScreenMode=function(){var i=document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth,t=document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(i),this.setHeight(t),this.adjustControl()},n.prototype.requestFullScreen=function(i){i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()},n.prototype.cancelFullScreen=function(i){d.Browser.Firefox&&!this.getFullScreenElement(i)||(i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen?i.msExitFullscreen():i.exitFullscreen&&i.exitFullscreen())},n.prototype.getFullScreenElement=function(i){return i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement},n.prototype.setWidth=function(i){this.getMainElement().style.width=this.isNumber(i)?i+"px":i},n.prototype.setHeight=function(i){this.getMainElement().style.height=this.isNumber(i)?i+"px":i},n.prototype.isNumber=function(i){return!isNaN(parseFloat(i))&&isFinite(i)},n})();u.FullScreenModeHelper=s},1391:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GridElementInfo=void 0;var d=c(8900),g=c(6353),h=c(3604),s=(function(){function n(i,t,r){this.id=n.id++,this.position=new d.Point(void 0,void 0),this.size=new g.Size(0,0),this.margins=new h.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},i&&(this.className=i),t&&this.setPosition(t),r&&this.setSize(r)}return n.prototype.setSize=function(i){this.size.width=i.width,this.size.height=i.height},n.prototype.setPosition=function(i){this.position.x=i.x,this.position.y=i.y},n.prototype.assignToElement=function(i){this.assignPosition(i),this.assignSize(i),this.assignMargins(i),this.className&&(i.className=this.className)},n.prototype.assignPosition=function(i){this.position.x!=null&&(i.style.left=this.position.x+"px"),this.position.y!=null&&(i.style.top=this.position.y+"px")},n.prototype.assignSize=function(i){this.size.width&&(i.style.width=this.size.width+"px"),this.size.height&&(i.style.height=this.size.height+"px")},n.prototype.assignMargins=function(i){this.margins.left&&(i.style.marginLeft=this.margins.left+"px"),this.margins.top&&(i.style.marginTop=this.margins.top+"px"),this.margins.right&&(i.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(i.style.marginBottom=this.margins.bottom+"px")},n.prototype.setAttribute=function(i,t){this.attr[i]=t},n.id=0,n})();u.GridElementInfo=s},1855:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GridLayoutCalculator=void 0;var d=c(6353),g=c(858),h=c(2449),s=c(1391),n=c(8900),i=c(9201),t=c(1442),r=c(5950),o=c(7072),a=c(2491),p=(function(){function y(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new o.ScaleCalculator}return y.prototype.setSettings=function(f,m,_,v,w,S,D,x){D===void 0&&(D=0),x===void 0&&(x=0),this.visibleTaskAreaSize=f,this.tickSize=m,this._viewType=S,this.range=v,this.verticalTickCount=w.itemCount,this.viewModel=w,this.elementSizeValues=_,this.taskHeight=_.taskHeight,this.parentTaskHeight=_.parentTaskHeight,this.milestoneWidth=_.milestoneWidth,this.scaleHeight=_.scaleItemHeight,this.arrowSize=new d.Size(_.connectorArrowWidth,_.connectorArrowWidth),this.lineThickness=_.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=i.DateUtils.getTickTimeSpan(S),this.scrollBarHeight=D,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(v,S,m,x),this.reset()},Object.defineProperty(y.prototype,"viewType",{get:function(){return this._viewType},set:function(f){this._viewType!==f&&(this._viewType=f,this._scaleCalculator.setViewType(f))},enumerable:!1,configurable:!0}),y.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},y.prototype.resetTaskInfo=function(f){delete this._taskWrapperPoints[f],delete this._taskElementInfoList[f]},y.prototype.getTaskAreaBorderInfo=function(f,m){var _=m?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(f,m,_)},y.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},y.prototype.getScaleBorderInfo=function(f,m){var _=new s.GridElementInfo,v=this._scaleCalculator;return _.setPosition(new n.Point(v.getScaleBorderPosition(f,m),void 0)),_.setSize(new d.Size(0,this.scaleHeight)),_.className="dx-gantt-vb",_},y.prototype.getGridBorderInfo=function(f,m,_){var v=new s.GridElementInfo;return v.setPosition(this.getGridBorderPosition(f,m)),_&&v.setSize(this.getGridBorderSize(m,_)),v.className=m?"dx-gantt-vb":"dx-gantt-hb",v},y.prototype.getGridBorderPosition=function(f,m){var _=new n.Point(void 0,void 0),v=this._scaleCalculator,w=m?v.getScaleBorderPosition(f,this.viewType):(f+1)*this.tickSize.height;return m?_.x=w:_.y=w,_},y.prototype.getGridBorderSize=function(f,m){var _=new d.Size(0,0);return f?_.height=m:_.width=m,_},y.prototype.getScaleElementInfo=function(f,m){var _=new s.GridElementInfo,v=this.getScaleItemInfo(f,m);if(v){_.setPosition(v.position),_.setSize(v.size),_.className=this.getScaleItemClassName(m,_,this.getRenderedNoWorkingIntervals(_.position.x));var w=this._scaleCalculator.getScaleItems(m);(f===0||f===w.length-1)&&(_.style.overflowX="hidden",_.style.textOverflow="ellipsis"),_.additionalInfo.range=new g.DateRange(v.start,v.end)}return _},y.prototype.getScaleItemStart=function(f,m){return this._scaleCalculator.getScaleItemAdjustedStart(f,m)},y.prototype.getScaleItemClassName=function(f,m,_){var v="dx-gantt-si";return f.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(m,_)&&(v+=" dx-gantt-holiday-scaleItem"),v},y.prototype.getScaleItemInfo=function(f,m){return this._scaleCalculator.getScaleItem(f,m)},y.prototype.getScaleRangesInArea=function(f,m){var _=i.DateUtils.ViewTypeToScaleMap[this.viewType],v=this._scaleCalculator,w=Math.max(v.getScaleIndexByPos(f,_),0),S=v.getScaleIndexByPos(m,_);S===-1&&(S=v.topScaleItems.length-1);var D=Math.max(v.getScaleIndexByPos(f),0),x=v.getScaleIndexByPos(m);return x===-1&&(x=v.bottomScaleItems.length-1),[[w,S],[D,x]]},y.prototype.isScaleItemInsideNoWorkingInterval=function(f,m){for(var _=f.position.x,v=f.position.x+f.size.width,w=0;w<m.length;w++){var S=m[w].position.x,D=m[w].position.x+m[w].size.width;if(_>=S&&v<=D)return!0}return!1},y.prototype.getScaleItemColSpan=function(f){return this._scaleCalculator.getScaleItemColSpan(f)},y.prototype.getTaskWrapperElementInfo=function(f){var m=new s.GridElementInfo;return m.className=this.getTaskWrapperClassName(f),m.setPosition(this.getTaskWrapperPoint(f)),m.setAttribute("task-index",f),m},y.prototype.getTaskWrapperClassName=function(f){var m="dx-gantt-taskWrapper",_=this.getViewItem(f);return _.task.isMilestone()&&(m="dx-gantt-milestoneWrapper"),_.selected&&(m+=" dx-gantt-selectedTask"),m},y.prototype.getTaskWrapperPoint=function(f){if(!(0,a.isDefined)(this._taskWrapperPoints[f])){var m=this.getViewItem(f),_=this.getTaskHeight(f),v=this.getTaskWidth(f),w=f*this.tickSize.height+(this.tickSize.height-_)/2,S=new n.Point(this.getPosByDate(m.task.start),w);m.task.isMilestone()&&(S.x-=v/2),this._taskWrapperPoints[f]=S}return this._taskWrapperPoints[f].clone()},y.prototype.getTaskElementInfo=function(f,m){if(m===void 0&&(m=!1),!(0,a.isDefined)(this._taskElementInfoList[f])){var _=new s.GridElementInfo,v=this.getTask(f),w=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(f);if(!v.isMilestone()){var S=this.getTaskWidth(f);_.size.width=this.getCorrectedTaskWidthByRange(f,S),_.size.width<S&&(_.additionalInfo.taskCut=!0),m&&(_.size.height=this.getTaskHeight(f))}_.className=this.getTaskClassName(f,_.size.width),v.color&&(_.style.backgroundColor=v.color,w&&(_.style.borderLeftColor=v.color,_.style.borderRightColor=v.color,_.style.borderTopColor=v.color)),this._taskElementInfoList[f]=_}return this._taskElementInfoList[f]},y.prototype.getTaskClassName=function(f,m){var _=y.taskClassName,v=this.getViewItem(f),w=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(f);return v.task.isMilestone()&&!v.isCustom?_+=" "+y.milestoneClassName:(m<=this.elementSizeValues.smallTaskWidth&&(_+=" "+y.smallTaskClassName),w&&(_+=this.getAutoCalcParentTaskClassName(v.task))),_},y.prototype.getAutoCalcParentTaskClassName=function(f){var m=" "+y.parentTaskClassName;return f.progress==0&&(m+=" dx-gantt-noPrg"),f.progress>=100&&(m+=" dx-gantt-cmpl"),m},y.prototype.getTaskPoint=function(f){var m=this.getTaskWrapperPoint(f);return this.getTask(f).isMilestone()||(m.y+=this.elementSizeValues.taskWrapperTopPadding),m},y.prototype.getTaskSize=function(f){return new d.Size(this.getTaskWidth(f),this.getTaskHeight(f))},y.prototype.getTaskWidth=function(f){var m=this.getViewItem(f);return m.isCustom&&m.size.width?m.size.width:m.task.isMilestone()&&!m.isCustom?this.getTaskHeight(f):Math.max(this.getWidthByDateRange(m.task.start,m.task.end),this.minTaskWidth)},y.prototype.getTaskHeight=function(f){var m=this.getViewItem(f);return m.task.isMilestone()&&!m.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(m.task.internalId)?this.parentTaskHeight:m.isCustom&&m.size.height?m.size.height:this.taskHeight},y.prototype.getTask=function(f){var m=this.getViewItem(f);return m==null?void 0:m.task},y.prototype.getViewItem=function(f){return this.viewModel.items[f]},y.prototype.getTaskProgressElementInfo=function(f){var m=new s.GridElementInfo;return m.className=y.taskProgressClassName,m.setSize(this.getTaskProgressSize(f)),m},y.prototype.getTaskProgressSize=function(f){var m=this.getTaskProgressWidth(f);return this.isTaskCutByRange(f)&&(m=this.getCorrectedTaskWidthByRange(f,m)),new d.Size(m,0)},y.prototype.getTaskProgressWidth=function(f){return this.getTaskWidth(f)*this.getTask(f).normalizedProgress/100},y.prototype.getTaskTextElementInfo=function(f,m){var _=new s.GridElementInfo;if(_.className=this.getTaskTextElementClassName(m),!m){var v=this.getTaskPoint(f).x;if(v<this.elementSizeValues.outsideTaskTextDefaultWidth){var w=Math.max(v,0);_.size.width=w,w>0?_.margins.left=-w:_.additionalInfo.hidden=!0}}return _},y.prototype.getTaskTextElementClassName=function(f){return y.taskTitleClassName.concat(" ",f?y.titleInClassName:y.titleOutClassName)},y.prototype.getTaskResourcesWrapperElementInfo=function(f){var m=new s.GridElementInfo,_=this.getTaskSize(f).width;return m.className="dx-gantt-taskResWrapper",m.setPosition(this.getTaskWrapperPoint(f)),m.position.x=m.position.x+_,m},y.prototype.getTaskResourceElementInfo=function(){var f=new s.GridElementInfo;return f.className=y.taskResourceClassName,f},y.prototype.getSelectionElementInfo=function(f){return this.getRowElementInfo(f,"dx-gantt-sel")},y.prototype.getSelectionPosition=function(f){var m=new n.Point(void 0,void 0);return m.y=f*this.tickSize.height,m},y.prototype.getSelectionSize=function(){return new d.Size(this.getTotalWidth(),this.tickSize.height)},y.prototype.getHighlightRowInfo=function(f){return this.getRowElementInfo(f,"dx-gantt-altRow")},y.prototype.getRowElementInfo=function(f,m){var _=new s.GridElementInfo;return _.className=m,_.setPosition(this.getSelectionPosition(f)),_.setSize(this.getSelectionSize()),_},y.prototype.getNoWorkingIntervalInfo=function(f){var m=new s.GridElementInfo;return m.className="dx-gantt-nwi",m.setPosition(this.getNoWorkingIntervalPosition(f.start)),m.setSize(this.getNoWorkingIntervalSize(f)),m},y.prototype.getNoWorkingIntervalPosition=function(f){var m=new n.Point(void 0,void 0);return m.x=this.getPosByDate(f),m},y.prototype.getNoWorkingIntervalSize=function(f){return new d.Size(this.getWidthByDateRange(f.start,f.end),this.getVerticalGridLineHeight())},y.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},y.prototype.getConnectorInfo=function(f,m,_,v){for(var w=new Array,S=this.getConnectorPoints(m,_,v),D=0;D<S.length-1;D++)w.push(this.getConnectorLineInfo(f,S[D],S[D+1],D==0||D==S.length-2));return w.push(this.getArrowInfo(f,S,w,m,_)),this.checkAndCorrectConnectorLinesByRange(w),w.filter((function(x){return!!x}))},y.prototype.getConnectorLineInfo=function(f,m,_,v){var w=new s.GridElementInfo,S=m.x==_.x;return w.className=this.getConnectorClassName(S),w.setPosition(this.getConnectorPosition(m,_)),w.setSize(this.getConnectorSize(m,_,S,v)),w.setAttribute("dependency-id",f),w},y.prototype.getConnectorClassName=function(f){return f?y.CLASSNAMES.CONNECTOR_VERTICAL:y.CLASSNAMES.CONNECTOR_HORIZONTAL},y.prototype.getConnectorPosition=function(f,m){return new n.Point(Math.min(f.x,m.x),Math.min(f.y,m.y))},y.prototype.getConnectorSize=function(f,m,_,v){var w=new d.Size(0,0),S=v?0:1;return _?w.height=Math.abs(m.y-f.y)+S:w.width=Math.abs(m.x-f.x)+S,w},y.prototype.getArrowInfo=function(f,m,_,v,w){var S=new s.GridElementInfo,D=this.findArrowLineInfo(_,v,w),x=this.getArrowPosition(m,v,w);return S.className=this.getArrowClassName(x),S.setPosition(this.getArrowPoint(D,x)),S.setAttribute("dependency-id",f),S},y.prototype.findArrowLineInfo=function(f,m,_){return f[m<_?f.length-1:0]},y.prototype.getArrowPosition=function(f,m,_){var v=f[m<_?f.length-2:1],w=f[m<_?f.length-1:0];return v.x==w.x?v.y>w.y?h.Position.Top:h.Position.Bottom:v.x>w.x?h.Position.Left:h.Position.Right},y.prototype.getArrowClassName=function(f){var m=y.arrowClassName;switch(f){case h.Position.Left:m=m.concat(" ",y.leftArrowClassName);break;case h.Position.Top:m=m.concat(" ",y.topArrowClassName);break;case h.Position.Right:m=m.concat(" ",y.rightArrowClassName);break;case h.Position.Bottom:m=m.concat(" ",y.bottomArrowClassName)}return m},y.prototype.getArrowPositionByClassName=function(f){return f.indexOf(y.leftArrowClassName)>-1?h.Position.Left:f.indexOf(y.topArrowClassName)>-1?h.Position.Top:f.indexOf(y.rightArrowClassName)>-1?h.Position.Right:f.indexOf(y.bottomArrowClassName)>-1?h.Position.Bottom:void 0},y.prototype.getArrowPoint=function(f,m){return new n.Point(this.getArrowX(f,m),this.getArrowY(f,m))},y.prototype.getArrowX=function(f,m){switch(m){case h.Position.Left:return f.position.x-this.arrowSize.width/2;case h.Position.Right:return f.position.x+f.size.width-this.arrowSize.width/2;case h.Position.Top:case h.Position.Bottom:return f.position.x-(this.arrowSize.width-this.lineThickness)/2}},y.prototype.getArrowY=function(f,m){switch(m){case h.Position.Top:return f.position.y-this.arrowSize.height/2;case h.Position.Bottom:return f.position.y+f.size.height-this.arrowSize.height/2;case h.Position.Left:case h.Position.Right:return f.position.y-(this.arrowSize.height-this.lineThickness)/2}},y.prototype.getPosByDate=function(f){return this.getWidthByDateRange(this.range.start,f)},y.prototype.getWidthByDateRange=function(f,m){return i.DateUtils.getRangeTickCount(f,m,this.viewType)*this.tickSize.width},y.prototype.getDateByPos=function(f){if(this.viewType===h.ViewType.Months||this.viewType===h.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(f);var m=f/this.tickSize.width,_=new Date(this.range.start);return i.DateUtils.getDSTCorrectedTaskEnd(_,m*this.tickTimeSpan)},y.prototype.getDateByPosInMonthBasedViewTypes=function(f){return this._scaleCalculator.getDateInScale(f)},y.prototype.getConnectorPoints=function(f,m,_){switch(_){case r.DependencyType.FS:return this.getFinishToStartConnectorPoints(f,m);case r.DependencyType.SF:return this.getStartToFinishConnectorPoints(f,m);case r.DependencyType.SS:return this.getStartToStartConnectorPoints(f,m);case r.DependencyType.FF:return this.getFinishToFinishConnectorPoints(f,m);default:return new Array}},y.prototype.getFinishToStartConnectorPoints=function(f,m){return f<m?this.getTask(f).end<=this.getTask(m).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(f,m,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(f,m,!1):this.getTask(f).end<=this.getTask(m).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(m,f,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(m,f,!0)},y.prototype.getFinishToFinishConnectorPoints=function(f,m){return f<m?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(f,m):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(m,f)},y.prototype.getStartToStartConnectorPoints=function(f,m){return f<m?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(f,m):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(m,f)},y.prototype.getStartToFinishConnectorPoints=function(f,m){return f<m?this.getTask(f).start>=this.getTask(m).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(f,m,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(f,m,!1):this.getTask(f).start>=this.getTask(m).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(m,f,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(m,f,!0)},y.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(f,m,_){var v=new Array,w=this.getTaskPoint(f),S=this.getTaskPoint(m),D=this.getTaskRightCenter(w,f),x=this.getTask(m).isMilestone(),N=this.getTaskTopCenter(S,m),A=this.getHorizontalIndentFromTaskEdge(m,_);return v.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),v.push(new n.Point(Math.floor(x?N.x:S.x+A),Math.floor(v[0].y))),v.push(new n.Point(Math.floor(v[1].x),Math.floor(N.y))),v},y.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(f,m){var _=new Array,v=this.getTaskPoint(f),w=this.getTaskPoint(m),S=this.getTaskRightCenter(v,f),D=this.getTaskRightCenter(w,m);return _.push(new n.Point(Math.floor(S.x),Math.floor(S.y))),_.push(new n.Point(Math.floor(Math.max(S.x,D.x)+this.minLineLength),Math.floor(_[0].y))),_.push(new n.Point(Math.floor(_[1].x),Math.floor(D.y))),_.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),_},y.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(f,m,_){var v=new Array,w=this.getTaskPoint(f),S=this.getTaskPoint(m),D=this.getTaskRightCenter(w,f),x=this.getTaskBottomCenter(w,f),N=this.getTaskLeftCenter(S,m),A=this.getTaskTopCenter(S,m),E=_?this.getViewItem(f):this.getViewItem(m),H=E.isCustom?(this.tickSize.height-E.size.height)/2:this.minConnectorSpaceFromTask;return v.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),v.push(new n.Point(Math.floor(v[0].x+this.minLineLength),Math.floor(v[0].y))),v.push(new n.Point(Math.floor(v[1].x),Math.floor(_?x.y+H:A.y-H))),v.push(new n.Point(Math.floor(N.x-this.minLineLength),Math.floor(v[2].y))),v.push(new n.Point(Math.floor(v[3].x),Math.floor(N.y))),v.push(new n.Point(Math.floor(N.x),Math.floor(N.y))),v},y.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(f,m,_){var v=new Array,w=this.getTaskPoint(f),S=this.getTaskPoint(m),D=this.getTaskBottomCenter(w,f),x=this.getTask(f).isMilestone(),N=this.getTaskRightCenter(S,m),A=this.getHorizontalIndentFromTaskEdge(f,_);return v.push(new n.Point(Math.floor(x?D.x:w.x+A),Math.floor(D.y))),v.push(new n.Point(Math.floor(v[0].x),Math.floor(N.y))),v.push(new n.Point(Math.floor(N.x),Math.floor(N.y))),v},y.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(f,m,_){var v=new Array,w=this.getTaskPoint(f),S=this.getTaskPoint(m),D=this.getTaskBottomCenter(w,f),x=this.getTask(f).isMilestone(),N=this.getTaskLeftCenter(S,m),A=this.getHorizontalIndentFromTaskEdge(f,_);return v.push(new n.Point(Math.floor(x?D.x:w.x+A),Math.floor(D.y))),v.push(new n.Point(Math.floor(v[0].x),Math.floor(N.y))),v.push(new n.Point(Math.floor(N.x),Math.floor(N.y))),v},y.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(f,m,_){var v=new Array,w=this.getTaskPoint(f),S=this.getTaskPoint(m),D=this.getTaskLeftCenter(w,f),x=this.getTaskTopCenter(S,m),N=this.getTask(m).isMilestone(),A=this.getHorizontalIndentFromTaskEdge(m,_);return v.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),v.push(new n.Point(Math.floor(N?x.x:S.x+A),Math.floor(v[0].y))),v.push(new n.Point(Math.floor(v[1].x),Math.floor(x.y))),v},y.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(f,m,_){var v=new Array,w=this.getTaskPoint(f),S=this.getTaskPoint(m),D=this.getTaskLeftCenter(w,f),x=this.getTaskBottomCenter(w,f),N=this.getTaskRightCenter(S,m),A=this.getTaskTopCenter(S,m),E=_?this.getViewItem(f):this.getViewItem(m),H=E.isCustom?(this.tickSize.height-E.size.height)/2:this.minConnectorSpaceFromTask;return v.push(new n.Point(Math.floor(D.x),D.y)),v.push(new n.Point(Math.floor(v[0].x-this.minLineLength),v[0].y)),v.push(new n.Point(Math.floor(v[1].x),Math.floor(_?x.y+H:A.y-H))),v.push(new n.Point(Math.floor(N.x+this.minLineLength),Math.floor(v[2].y))),v.push(new n.Point(Math.floor(v[3].x),Math.floor(N.y))),v.push(new n.Point(Math.floor(N.x),Math.floor(N.y))),v},y.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(f,m){var _=new Array,v=this.getTaskPoint(f),w=this.getTaskPoint(m),S=this.getTaskLeftCenter(v,f),D=this.getTaskLeftCenter(w,m);return _.push(new n.Point(Math.floor(S.x),Math.floor(S.y))),_.push(new n.Point(Math.floor(Math.min(S.x,D.x)-this.minLineLength),Math.floor(_[0].y))),_.push(new n.Point(Math.floor(_[1].x),Math.floor(D.y))),_.push(new n.Point(Math.floor(D.x),Math.floor(D.y))),_},y.prototype.getTaskSidePoints=function(f){var m=this.getTaskPoint(f);return[this.getTaskLeftCenter(m,f),this.getTaskTopCenter(m,f),this.getTaskRightCenter(m,f),this.getTaskBottomCenter(m,f)]},y.prototype.getTaskLeftCenter=function(f,m){return new n.Point(f.x-this.getTaskEdgeCorrection(m),f.y+this.getTaskHeight(m)/2)},y.prototype.getTaskRightCenter=function(f,m){return new n.Point(f.x+this.getTaskWidth(m)+this.getTaskEdgeCorrection(m),f.y+this.getTaskHeight(m)/2)},y.prototype.getTaskTopCenter=function(f,m){return new n.Point(f.x+this.getTaskWidth(m)/2,f.y-this.getTaskEdgeCorrection(m))},y.prototype.getTaskBottomCenter=function(f,m){return new n.Point(f.x+this.getTaskWidth(m)/2,f.y+this.getTaskHeight(m)+this.getTaskEdgeCorrection(m))},y.prototype.getTaskEdgeCorrection=function(f){var m=this.getViewItem(f);return m.task.isMilestone()&&!m.isCustom?this.getTaskHeight(f)*(Math.sqrt(2)-1)/2:0},y.prototype.getHorizontalIndentFromTaskEdge=function(f,m){m===void 0&&(m=!1);var _=this.getTaskWidth(f),v=this.minLineLength<_/3?this.minLineLength:.2*_;return m?_-v:v},y.prototype.getRenderedRowColumnIndices=function(f,m){for(var _=m?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,v=m?this.getFirstVisibleGridCellIndex(f,this.tickSize.height):this.getFirstScaleVisibleIndex(f),w=m?this.getLastVisibleGridCellIndex(f,this.tickSize.height,_,this.verticalTickCount):this.getLastScaleVisibleIndex(f),S=new Array,D=v;D<=w;D++)S.push(D);return S},y.prototype.getRenderedScaleItemIndices=function(f,m){for(var _=f===this.viewType,v=this._scaleCalculator,w=m[0],S=m[m.length-1],D=_?w:v.getTopScaleIndexByBottomIndex(w),x=_?S:v.getTopScaleIndexByBottomIndex(S),N=new Array,A=D;A<=x;A++)N.push(A);return N},y.prototype.getFirstScaleVisibleIndex=function(f){return this._scaleCalculator.getFirstScaleIndexForRender(f)},y.prototype.getLastScaleVisibleIndex=function(f){return this._scaleCalculator.getLastScaleIndexForRender(f+this.visibleTaskAreaSize.width)},y.prototype.getFirstVisibleGridCellIndex=function(f,m){var _=Math.floor(f/m);return _=Math.max(_-10,0)},y.prototype.getLastVisibleGridCellIndex=function(f,m,_,v){var w=Math.floor((f+_)/m);return w=Math.min(w+10,v-1)},y.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var f=0;f<this.viewModel.items.length;f++)for(var m=0;m<this.viewModel.items[f].dependencies.length;m++)this.createConnecotInfo(this.viewModel.items[f].dependencies[m],this.viewModel.items[f].visibleIndex)},y.prototype.updateTileToConnectorLinesMap=function(f){this.tileToDependencyMap.forEach((function(w,S,D){D[S]=w.filter((function(x){return x.attr["dependency-id"]!=f}))}));var m=[],_=this.viewModel.items.filter((function(w){return w.dependencies.filter((function(S){return S.id==f})).length>0}))[0];if(_){var v=_.dependencies.filter((function(w){return w.id===f}))[0];m=this.createConnecotInfo(v,_.visibleIndex)}return m},y.prototype.createConnecotInfo=function(f,m){var _=this,v=f.predecessor.visibleIndex,w=f.type,S=f.id,D=this.getConnectorInfo(S,v,m,w);return D.forEach((function(x){_.addElementInfoToTileMap(x,_.tileToDependencyMap,!0)})),D},y.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var f=0;f<this.viewModel.noWorkingIntervals.length;f++){var m=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[f]);if(m){var _=this.getNoWorkingIntervalInfo(m);this.addElementInfoToTileMap(_,this.tileToNoWorkingIntervalsMap,!1)}}},y.prototype.getAdjustedNoWorkingInterval=function(f){return f.end.getTime()-f.start.getTime()<this.tickTimeSpan-1?null:new g.DateRange(i.DateUtils.getNearestScaleTickDate(f.start,this.range,this.tickTimeSpan,this.viewType),i.DateUtils.getNearestScaleTickDate(f.end,this.range,this.tickTimeSpan,this.viewType))},y.prototype.addElementInfoToTileMap=function(f,m,_){var v=_?f.position.y:f.position.x,w=_?f.size.height:f.size.width,S=2*(_?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(S>0)for(var D=Math.floor(v/S),x=Math.floor((v+w)/S),N=D;N<=x;N++)m[N]||(m[N]=new Array),m[N].push(f)},y.prototype.getRenderedConnectorLines=function(f){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,f)},y.prototype.getRenderedNoWorkingIntervals=function(f){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,f)},y.prototype.getRenderedStripLines=function(f){var m=new Array,_=f.stripLines.map((function(A){return A.clone()}));f.showCurrentTime&&_.push(new t.StripLine(new Date,null,f.currentTimeTitle,f.currentTimeCssClass,!0));for(var v=0,w=void 0;w=_[v];v++){var S=i.DateUtils.parse(w.start),D=w.end?i.DateUtils.parse(w.end):null;if(S>=this.range.start&&S<=this.range.end||D&&D>=this.range.start&&D<=this.range.end){var x=S>this.range.start?S:this.range.start,N=new s.GridElementInfo;N.size.height=this.getVerticalGridLineHeight(),N.position.x=this.getPosByDate(x),N.size.width=D?this.getWidthByDateRange(x,D<this.range.end?D:this.range.end):0,N.className=w.isCurrent?"dx-gantt-tc":D?"dx-gantt-ti":"dx-gantt-tm",N.className+=w.cssClass?" "+w.cssClass:"",N.attr.title=w.title,m.push(N)}}return m},y.prototype.getElementsInRenderedTiles=function(f,m,_){var v=new Array,w=m?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(w>0)for(var S=Math.floor(_/(2*w)),D=Math.floor((_+w)/(2*w)),x=S;x<=D;x++)f[x]&&f[x].forEach((function(N){v.indexOf(N)===-1&&v.push(N)}));return v},y.prototype.isTaskInRenderedRange=function(f){var m=this.getViewItem(f),_=this.getTaskPoint(f);return m.task.isMilestone()?_.x+this.getTaskWidth(f)<this.getTotalWidth():_.x<this.getTotalWidth()},y.prototype.isTaskCutByRange=function(f){return!!this.getTaskElementInfo(f).additionalInfo.taskCut},y.prototype.checkAndCorrectElementDisplayByRange=function(f){f.parentElement.offsetLeft+f.offsetLeft+f.offsetWidth>this.getTotalWidth()&&(f.style.display="none")},y.prototype.checkAndCorrectArrowElementDisplayByRange=function(f){f.offsetLeft+f.offsetWidth>this.getTotalWidth()&&(f.style.display="none")},y.prototype.checkAndCorrectConnectorLinesByRange=function(f){if(f!=null&&f.length)for(var m=this.getTotalWidth(),_=0;_<f.length;_++){var v=f[_],w=!v.size.width;v.position.x>m?delete f[_]:!w&&v.position.x+v.size.width>m&&(v.size.width=m-v.position.x)}},y.prototype.getCorrectedTaskWidthByRange=function(f,m){var _=this.getTotalWidth()-this.getTaskPoint(f).x;return Math.min(_,m)},y.dxGanttPrefix="dx-gantt-",y.taskClassName=y.dxGanttPrefix+"task",y.milestoneClassName=y.dxGanttPrefix+"milestone",y.smallTaskClassName=y.dxGanttPrefix+"smallTask",y.parentTaskClassName=y.dxGanttPrefix+"parent",y.taskProgressClassName=y.dxGanttPrefix+"tPrg",y.taskTitleClassName=y.dxGanttPrefix+"taskTitle",y.titleInClassName=y.dxGanttPrefix+"titleIn",y.titleOutClassName=y.dxGanttPrefix+"titleOut",y.taskResourceClassName=y.dxGanttPrefix+"taskRes",y.arrowClassName=y.dxGanttPrefix+"arrow",y.leftArrowClassName=y.dxGanttPrefix+"LA",y.topArrowClassName=y.dxGanttPrefix+"TA",y.rightArrowClassName=y.dxGanttPrefix+"RA",y.bottomArrowClassName=y.dxGanttPrefix+"BA",y.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},y})();u.GridLayoutCalculator=p},7072:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ScaleCalculator=u.ScaleItemInfo=void 0;var d=c(8900),g=c(6353),h=c(9201),s=c(2449),n=function(t,r,o,a){this.start=t,this.end=r,this.position=o,this.size=a};u.ScaleItemInfo=n;var i=(function(){function t(){this.firstDayOfWeek=0}return t.prototype.setSettings=function(r,o,a,p){p===void 0&&(p=0),this.range=r,this.viewType=o,this.tickSize=a,this.firstDayOfWeek=p,this.reset()},t.prototype.setViewType=function(r){this.viewType=r,this.reset()},t.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},t.prototype.getScaleIndexByPos=function(r,o){o!=null||(o=this.viewType);var a=o===this.viewType?this.bottomScaleItems:this.topScaleItems,p=-1;if(a.findIndex)p=a.findIndex((function(f){return r>=f.position.x&&r<=f.position.x+f.size.width}));else{var y=a.filter((function(f){return r>=f.position.x&&r<=f.position.x+f.size.width}))[0];y&&(p=a.indexOf(y))}return p},t.prototype.getScaleBorderPosition=function(r,o){var a=this.getScaleItems(o)[r];if(a)return a.position.x+a.size.width},t.prototype.getScaleItems=function(r){return r===this.viewType?this.bottomScaleItems:r===h.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},t.prototype.getScaleItem=function(r,o){return this.getScaleItems(o)[r]},t.prototype.getScaleItemAdjustedStart=function(r,o){var a=this.getScaleItems(o)[r];if(r>0)return a.start;var p=o!==this.viewType,y=p?h.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(a.start,o,this.firstDayOfWeek);if(p&&o===s.ViewType.Months){var f=this.range.start;y=new Date(f.getFullYear(),f.getMonth(),1)}if(p&&o===s.ViewType.FiveYears){var m=5*Math.trunc(y.getFullYear()/5);y=new Date(m,y.getMonth(),y.getDate())}return y},Object.defineProperty(t.prototype,"topScaleItems",{get:function(){var r;return(r=this._topScaleItems)!==null&&r!==void 0||(this._topScaleItems=this.calculateTopScale(h.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomScaleItems",{get:function(){var r;return(r=this._bottomScaleItems)!==null&&r!==void 0||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleWidth",{get:function(){var r;return(r=this._scaleWidth)!==null&&r!==void 0||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),t.prototype.getFirstScaleIndexForRender=function(r){var o=this.getScaleIndexByPos(r);return o=Math.max(o-10,0)},t.prototype.getLastScaleIndexForRender=function(r){var o=this.getScaleIndexByPos(r);return o=o===-1?this.bottomScaleItems.length-1:Math.min(o+10,this.bottomScaleItems.length-1)},t.prototype.getTopScaleIndexByBottomIndex=function(r){var o=this.bottomScaleItems[r];return o?this.getScaleIndexByPos(o.position.x,h.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},t.prototype.calculateBottomScale=function(r){for(var o=new Array,a=this.tickSize.width,p=this.range.start,y=0;p.getTime()<this.range.end.getTime();){var f=this.getNextScaleDate(p,r),m=p.getTime()===this.range.start.getTime(),_=f.getTime()>=this.range.end.getTime(),v=m||_||r>s.ViewType.Hours&&h.DateUtils.hasDST()?this.getRangeTickCount(p,f)*a:a;o.push(new n(p,f,new d.Point(y,void 0),new g.Size(v,0))),p=f,y+=v}return o},t.prototype.calculateTopScale=function(r){for(var o=new Array,a=this.range.end.getTime(),p=this.range.start,y=0,f=0;p.getTime()<a;)for(var m=this.getNextScaleDate(p,r),_=m.getTime(),v=f;v<this.bottomScaleItems.length;v++){var w=this.bottomScaleItems[v],S=w.start.getTime(),D=w.end.getTime();if(_>=S&&_<=D){var x=(_-S)/(D-S)*w.size.width+w.position.x;o.push(new n(p,m,new d.Point(y,void 0),new g.Size(x-y,0))),f=v,y=x,p=m;break}}return o},t.prototype.getDateInScale=function(r){if(r<0){var o=r/this.tickSize.width,a=h.DateUtils.getTickTimeSpan(this.viewType);return new Date(this.range.start.getTime()+o*a)}for(var p=0;p<this.bottomScaleItems.length;p++){var y=this.bottomScaleItems[p],f=y.size.width,m=y.position.x;if(r>=m&&r<=m+f){var _=y.start.getTime();return o=(r-m)/f*(y.end.getTime()-_),new Date(y.start.getTime()+o)}}return new Date(this.range.end)},t.prototype.getNextScaleDate=function(r,o){var a;switch(o){case s.ViewType.TenMinutes:a=this.getNextDateInTenMinutesScale(r);break;case s.ViewType.Hours:a=this.getNextDateInHoursScale(r);break;case s.ViewType.SixHours:a=this.getNextDateInSixHoursScale(r);break;case s.ViewType.Days:a=this.getNextDateInDaysScale(r);break;case s.ViewType.Weeks:a=this.getNextDateInWeeksScale(r,this.firstDayOfWeek);break;case s.ViewType.Months:a=this.getNextDateInMonthsScale(r);break;case s.ViewType.Quarter:a=this.getNextDateInQuartersScale(r);break;case s.ViewType.Years:a=this.getNextDateInYearsScale(r);break;case s.ViewType.FiveYears:a=this.getNextDateInFiveYearsScale(r)}return a.getTime()>this.range.end.getTime()&&(a=this.range.end),a},t.prototype.getNextTimeBySpan=function(r,o){return(Math.trunc(r/o)+1)*o},t.prototype.getNextDateInTenMinutesScale=function(r){var o=this.getNextTimeBySpan(r.getMinutes(),10);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),o)},t.prototype.getNextDateInHoursScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()+1)},t.prototype.getNextDateInSixHoursScale=function(r){var o=this.getNextTimeBySpan(r.getHours(),6);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),o)},t.prototype.getNextDateInDaysScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)},t.prototype.getNextDateInWeeksScale=function(r,o){return o===void 0&&(o=0),new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+o+7)},t.prototype.getNextDateInMonthsScale=function(r){return new Date(r.getFullYear(),r.getMonth()+1,1)},t.prototype.getNextDateInQuartersScale=function(r){var o=this.getNextTimeBySpan(r.getMonth(),3);return new Date(r.getFullYear(),o,1)},t.prototype.getNextDateInYearsScale=function(r){return new Date(r.getFullYear()+1,0,1)},t.prototype.getNextDateInFiveYearsScale=function(r){var o=this.getNextTimeBySpan(r.getFullYear(),5);return new Date(o,0,1)},t.prototype.getAdjustedBottomScaleItemStart=function(r,o,a){switch(a===void 0&&(a=0),o){case s.ViewType.TenMinutes:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),10*Math.floor(r.getMinutes()/10));case s.ViewType.SixHours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),6*Math.floor(r.getHours()/6));case s.ViewType.Hours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours());case s.ViewType.Days:return new Date(r.getFullYear(),r.getMonth(),r.getDate());case s.ViewType.Weeks:return new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+a);case s.ViewType.Months:return new Date(r.getFullYear(),r.getMonth(),1);case s.ViewType.Quarter:return new Date(r.getFullYear(),3*Math.floor(r.getMonth()/3),1);case s.ViewType.Years:return new Date(r.getFullYear(),0,1);default:return new Date}},t.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce((function(r,o){return r+o.size.width}),0)},t.prototype.getScaleItemColSpan=function(r){return r.valueOf()===this.viewType.valueOf()?1:this.viewType===s.ViewType.TenMinutes?6:this.viewType===s.ViewType.Hours?24:this.viewType===s.ViewType.SixHours?4:this.viewType===s.ViewType.Days?7:this.viewType===s.ViewType.Weeks?4.29:this.viewType===s.ViewType.Months?12:this.viewType===s.ViewType.Quarter?4:this.viewType===s.ViewType.Years?5:1},t.prototype.getRangeTickCount=function(r,o){return h.DateUtils.getRangeTickCount(r,o,this.viewType)},t})();u.ScaleCalculator=i},9377:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaContainer=void 0;var c=(function(){function d(g,h){this.element=g,this.onScrollHandler=function(){h.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(d.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(g){this.element.scrollTop=g},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(g){this.element.scrollLeft=g},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.getWidth=function(){return this.element.offsetWidth},d.prototype.getHeight=function(){return this.element.offsetHeight},d.prototype.getElement=function(){return this.element},d.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},d})();u.TaskAreaContainer=c},6923:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ConnectorLinesRender=void 0;var d=c(658),g=c(1855),h=(function(){function s(n){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=n}return Object.defineProperty(s.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),s.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},s.prototype.createConnectorLineElement=function(n){if(this.showDependencies){var i=n.attr["dependency-id"];if(!this.invalidTaskDependencies.some((function(o){return o.id==i}))){this.taskEditController.isDependencySelected(i)&&(n.className=n.className+" active");var t=n.className.indexOf(g.GridLayoutCalculator.arrowClassName)>-1,r=d.RenderElementUtils.create(n,null,this.taskArea,this.connectorLinesToElementsMap);return t&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(r),r}}},s.prototype.removeConnectorLineElement=function(n){d.RenderElementUtils.remove(n,null,this.taskArea,this.connectorLinesToElementsMap)},s.prototype.recreateConnectorLineElement=function(n,i){var t=this;i===void 0&&(i=!1);var r=[];this._renderedConnectorLines=this.renderedConnectorLines.filter((function(a){return a.attr["dependency-id"]!=n||(r.push(a),!1)}));var o=r.length>0;r.forEach((function(a){t.removeConnectorLineElement(a)})),r=this.gridLayoutCalculator.updateTileToConnectorLinesMap(n),(o||i)&&r.forEach((function(a){t.createConnectorLineElement(a),t.renderedConnectorLines.push(a)}))},s.prototype.recreateConnectorLineElements=function(){var n=this,i=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);d.RenderElementUtils.recreate(this.renderedConnectorLines,i,(function(t){n.removeConnectorLineElement(t)}),(function(t){n.createConnectorLineElement(t)})),this._renderedConnectorLines=i},s.prototype.updateRenderedConnectorLinesId=function(n,i){for(var t in this._renderedConnectorLines.forEach((function(o){o.attr["dependency-id"]===n&&(o.attr["dependency-id"]=i)})),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,t)){var r=this.connectorLinesToElementsMap[t];r.getAttribute("dependency-id")===n&&r.setAttribute("dependency-id",i)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(n),this.gridLayoutCalculator.updateTileToConnectorLinesMap(i)},s})();u.ConnectorLinesRender=h},1419:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CustomTaskRender=void 0;var d=c(2449),g=c(658),h=(function(){function s(n,i){this._pendingTemplateFuncsToRender=[],this._renderHelper=n,this._taskRender=i}return Object.defineProperty(s.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),s.prototype.getViewItem=function(n){return this._renderHelper.getViewItem(n)},s.prototype.getTask=function(n){return this._renderHelper.getTask(n)},s.prototype.destroyTemplate=function(n){this._renderHelper.destroyTemplate(n)},s.prototype.getTaskDependencies=function(n){return this._renderHelper.getTaskDependencies(n)},s.prototype.getTaskResources=function(n){return this._renderHelper.getTaskResources(n)},s.prototype.attachEventsOnTask=function(n){this._renderHelper.attachEventsOnTask(n)},s.prototype.recreateConnectorLineElement=function(n,i){i===void 0&&(i=!1),this._renderHelper.recreateConnectorLineElement(n,i)},s.prototype.createTaskSelectionElement=function(n){this._taskRender.createTaskSelectionElement(n)},s.prototype.createCustomTaskElement=function(n,i){if(this._saveTemplateFuncToStack(n,i),!this._hasRepeatedTemplateRenderCall(n)){var t=this.getViewItem(n);if(t){t.isCustom=!1;var r=document.createElement("DIV"),o=this.createCustomTaskInformation(n);t.isCustom=!0,i(r,o,this.onTaskTemplateContainerRendered.bind(this),n)}this._clearTemplateFuncsStack(n)}},s.prototype.onTaskTemplateContainerRendered=function(n,i){var t=this;if(this._hasRepeatedTemplateRenderCall(i)){n&&this._renderHelper.destroyTemplate(n);var r=this._getLastPendingTemplateFunc(i);setTimeout((function(){return t.createCustomTaskElement(i,r)}))}else this.drawCustomTask(n,i);this._clearTemplateFuncsStack(i)},s.prototype._saveTemplateFuncToStack=function(n,i){var t,r;(t=(r=this._pendingTemplateFuncsToRender)[n])!==null&&t!==void 0||(r[n]=[]),this._pendingTemplateFuncsToRender[n].push(i)},s.prototype._clearTemplateFuncsStack=function(n){this._pendingTemplateFuncsToRender[n]=[]},s.prototype._hasRepeatedTemplateRenderCall=function(n){return this._pendingTemplateFuncsToRender[n].length>1},s.prototype._getLastPendingTemplateFunc=function(n){var i=this._pendingTemplateFuncsToRender[n];return i[i.length-1]},s.prototype.createCustomTaskWrapperElement=function(n,i){g.RenderElementUtils.create(i,n,this.taskArea,this.taskElements)},s.prototype.createCustomTaskVisualElement=function(n,i){return g.RenderElementUtils.create(i,n,this.taskElements[n])},s.prototype.drawCustomTask=function(n,i){var t=this,r=this.getViewItem(i);if(r&&this.taskElements[i]){if(r.visible=!!n.innerHTML,this.taskElements[i].innerHTML=n.innerHTML,r.size.height=this.taskElements[i].offsetHeight,r.size.width=this.taskElements[i].offsetWidth,this.destroyTemplate(this.taskElements[i]),this._taskRender.removeTaskElement(i),r.visible&&r.task.isValid()){var o=this.gridLayoutCalculator.getTaskWrapperElementInfo(i);this.createCustomTaskWrapperElement(i,o),this.taskElements[i].appendChild(n),this.attachEventsOnTask(i)}else{var a=this.getTaskDependencies(r.task.internalId);a.length&&(this._taskRender.addInvalidTaskDependencies(a),a.forEach((function(p){return t.recreateConnectorLineElement(p.internalId,!0)})))}this._taskRender.isHighlightRowElementAllowed(i)&&this._taskRender.createHighlightRowElement(i),r.selected&&this.createTaskSelectionElement(i)}},s.prototype.createCustomTaskInformation=function(n){var i=this.getTask(n),t=this.getViewItem(n),r=this.gridLayoutCalculator.getTaskWrapperElementInfo(n),o=this.gridLayoutCalculator.getTaskElementInfo(n,this.taskTitlePosition!==d.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(n,r);var a=this.taskElements[n];this._renderHelper.taskTitlePosition===d.TaskTitlePosition.Outside&&this._taskRender.createTaskTextElement(n,a),this.createCustomTaskVisualElement(n,o);var p=this.getTaskResources(i.id);return{cellSize:this.tickSize,isMilestone:i.isMilestone(),isParent:!!(t!=null&&t.children.length),taskData:i,taskHTML:a.children,taskPosition:r.position,taskResources:p,taskSize:o.size}},s})();u.CustomTaskRender=h},9385:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EtalonsHelper=void 0;var d=c(6907),g=c(2449),h=c(1391),s=c(658),n=(function(){function i(t){this._renderHelper=t}return Object.defineProperty(i.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),i.prototype.getScaleItemTextTemplate=function(t){return this._renderHelper.getScaleItemTextTemplate(t)},i.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},i.prototype.getSmallTaskWidth=function(t){return this._renderHelper.getSmallTaskWidth(t)},i.prototype.createEtalonElementsContainer=function(){var t=document.createElement("DIV");return t.style.visibility="hidden",t.style.position="absolute",t.style.left="-1000px",this.mainElement.appendChild(t),t},i.prototype.createEtalonElements=function(t){var r=[],o=s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-taskWrapper"),null,t),a=s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-task"),null,o);s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,a).innerText="WWW",r.push(o);var p=s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-taskWrapper"),null,t);s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,p),r.push(p);for(var y=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],f=0;f<y.length;f++){var m=new h.GridElementInfo(y[f]);r.push(s.RenderElementUtils.create(m,null,t))}var _=s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-taskWrapper"),null,t),v=s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,_);return s.RenderElementUtils.create(new h.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,v).innerText="WWW",r.push(_),r},i.prototype.calculateEtalonSizeValues=function(){var t=this.createEtalonElementsContainer(),r=this.createEtalonElements(t);this.calculateEtalonSizeValuesCore(r),this.mainElement.removeChild(t)},i.prototype.calculateEtalonSizeValuesCore=function(t){this.etalonSizeValues.taskHeight=t[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=t[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=d.DomUtils.pxToInt(d.DomUtils.getCurrentStyle(t[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=d.DomUtils.getVerticalBordersWidth(t[2]),this.etalonSizeValues.connectorArrowWidth=d.DomUtils.getHorizontalBordersWidth(t[3]);for(var r=0;r<=g.ViewType.Years;r++)t[4].innerText=this.getScaleItemTextTemplate(r),this.etalonSizeValues.scaleItemWidths[r]=t[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(d.DomUtils.getCurrentStyle(t[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=d.DomUtils.pxToFloat(d.DomUtils.getCurrentStyle(t[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=t[t.length-1].firstChild.offsetHeight},i})();u.EtalonsHelper=n},4289:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ScaleCellPreparedArguments=void 0;var c=(function(){function d(g){this.info=g}return Object.defineProperty(d.prototype,"scaleIndex",{get:function(){var g;return(g=this.info)===null||g===void 0?void 0:g.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scaleType",{get:function(){var g;return(g=this.info)===null||g===void 0?void 0:g.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){var g,h;return(h=(g=this.info)===null||g===void 0?void 0:g.range)===null||h===void 0?void 0:h.start},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){var g,h;return(h=(g=this.info)===null||g===void 0?void 0:g.range)===null||h===void 0?void 0:h.end},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"scaleElement",{get:function(){var g;return(g=this.info)===null||g===void 0?void 0:g.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"separatorElement",{get:function(){var g;return(g=this.info)===null||g===void 0?void 0:g.separatorElement},enumerable:!1,configurable:!0}),d})();u.ScaleCellPreparedArguments=c},2121:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MainElementsRender=void 0;var c=(function(){function d(){}return d.prototype.createMainElement=function(g){var h=document.createElement("DIV");return h.style.width=g.offsetWidth+"px",h.style.height=g.offsetHeight+"px",h},d.prototype.createHeader=function(){var g=document.createElement("DIV");return g.className="dx-gantt-header",g},d})();u.MainElementsRender=c},1027:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NoWorkingIntervalRender=void 0;var d=c(658),g=(function(){function h(s){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=s}return Object.defineProperty(h.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(s){this._renderedNoWorkingIntervals=s},enumerable:!1,configurable:!0}),h.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},h.prototype.createNoWorkingIntervalElement=function(s){return d.RenderElementUtils.create(s,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},h.prototype.removeNoWorkingIntervalElement=function(s){d.RenderElementUtils.remove(s,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},h.prototype.recreateNoWorkingIntervalElements=function(){var s=this,n=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);d.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,n,(function(i){s.removeNoWorkingIntervalElement(i)}),(function(i){s.createNoWorkingIntervalElement(i)})),this.renderedNoWorkingIntervals=n},h})();u.NoWorkingIntervalRender=g},658:(b,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RenderElementUtils=void 0;var c=(function(){function d(){}return d.create=function(g,h,s,n){var i=document.createElement("DIV");for(var t in g.assignToElement(i),s.appendChild(i),n&&(n instanceof Array&&h!==null?n[h]=i:n[g.id]=i),g.attr)Object.prototype.hasOwnProperty.call(g.attr,t)&&i.setAttribute(t,g.attr[t]);for(var t in g.style)Object.prototype.hasOwnProperty.call(g.style,t)&&(i.style[t]=g.style[t]);return i},d.remove=function(g,h,s,n){var i;n instanceof Array&&h!==null?(i=n[h],delete n[h]):(i=n[g.id],delete n[g.id]),i&&i.parentNode==s&&s.removeChild(i)},d.recreate=function(g,h,s,n){g.filter((function(i){return h.indexOf(i)===-1})).forEach((function(i){s(i)})),h.filter((function(i){return g.indexOf(i)===-1})).forEach((function(i){n(i)}))},d})();u.RenderElementUtils=c},1074:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RenderHelper=void 0;var d=c(6923),g=c(9385),h=c(8877),s=c(2366),n=c(1855),i=c(1027),t=c(4966),r=c(6700),o=c(8148),a=c(3682),p=c(2349),y=c(2290),f=c(2121),m=c(6353),_=c(9377),v=c(8380),w=(function(){function S(D){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new h.EtalonSizeValues,this._gridLayoutCalculator=new n.GridLayoutCalculator,this._ganttView=D,this._connectorLinesRender=new d.ConnectorLinesRender(this),this._etalonsHelper=new g.EtalonsHelper(this),this._noWorkingIntervalRender=new i.NoWorkingIntervalRender(this),this._resourceRender=new t.ResourseRender(this),this._scaleRender=new r.ScaleRender(this),this._stripLinesRender=new o.StripLinesRender(this),this._taskAreaRender=new p.TaskAreaRender(this),this._taskRender=new y.TaskRender(this),this._mainElementsRender=new f.MainElementsRender}return S.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},S.prototype.createMainElement=function(D){this.mainElement=this._mainElementsRender.createMainElement(D),D.appendChild(this.mainElement)},S.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},S.prototype.init=function(D,x,N,A,E){E===void 0&&(E=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(D,x,N,A,E),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new a.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},S.prototype.initMarkup=function(D){this._elementTextHelper=new v.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(D),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},S.prototype.processScroll=function(D){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(D),D?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(S.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskTextHeightKey",{get:function(){return s.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskAreaManager",{get:function(){var D;return(D=this._taskAreaManager)!==null&&D!==void 0||(this._taskAreaManager=new a.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce((function(D,x){return D.concat(x)}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),S.prototype.setupHelpers=function(D,x,N,A,E){E===void 0&&(E=0);var H=new m.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),B=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(H,D,this.etalonSizeValues,x,A,N,B,E),this._elementTextHelper.setSettings(x.start.getTime(),N,A.items)},S.prototype.resetAndUpdate=function(D,x,N,A,E){E===void 0&&(E=0);var H=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(D,x,N,A,E),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(H)},S.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},S.prototype.getTargetDateByPos=function(D){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+D)},S.prototype.getExternalTaskAreaContainer=function(D){return this._ganttView.getExternalTaskAreaContainer(D)},S.prototype.prepareExternalTaskAreaContainer=function(D,x){return this._ganttView.prepareExternalTaskAreaContainer(D,x)},S.prototype.isAllowTaskAreaBorders=function(D){return this._ganttView.allowTaskAreaBorders(D)},S.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},S.prototype.getViewItem=function(D){return this._ganttView.getViewItem(D)},S.prototype.getTask=function(D){return this._ganttView.getTask(D)},S.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},S.prototype.destroyTemplate=function(D){this._ganttView.destroyTemplate(D)},S.prototype.getTaskDependencies=function(D){return this._ganttView.getTaskDependencies(D)},S.prototype.getTaskResources=function(D){return this._ganttView.getTaskResources(D)},S.prototype.isHighlightRowElementAllowed=function(D){return this._ganttView.isHighlightRowElementAllowed(D)},S.prototype.updateRenderedConnectorLinesId=function(D,x){this._connectorLinesRender.updateRenderedConnectorLinesId(D,x)},S.prototype.recreateConnectorLineElement=function(D,x){x===void 0&&(x=!1),this._connectorLinesRender.recreateConnectorLineElement(D,x)},S.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},S.prototype.setMainElementWidth=function(D){this.mainElement.style.width=D+"px"},S.prototype.setMainElementHeight=function(D){this.mainElement.style.height=D+"px"},S.prototype.createResources=function(D){this._resourceRender.createResourcesWrapperElement(D),this._resourceRender.createResources(D)},S.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},S.prototype.setTimeScaleContainerScrollLeft=function(D){this._scaleRender.setTimeScaleContainerScrollLeft(D)},S.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},S.prototype.createTaskArea=function(D){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),D.appendChild(this._taskArea)},S.prototype.isTaskUpdateAllowed=function(){var D=this.ganttViewSettings.editing;return D.enabled&&D.allowTaskUpdate},S.prototype.setSizeForTaskArea=function(){var D=this.getTaskAreaWidth(),x=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(D,x),this._ganttView.onTaskAreaSizeChanged({width:D,height:x})},S.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},S.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},S.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},S.prototype.setTaskAreaContainerScrollLeft=function(D){this._taskAreaRender.taskAreaContainer.scrollLeft=D},S.prototype.setTaskAreaContainerScrollLeftToDate=function(D,x){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(D))+x},S.prototype.getTaskAreaContainer=function(D){return new _.TaskAreaContainer(D,this._ganttView)},S.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},S.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},S.prototype.createHighlightRowElement=function(D){this._taskAreaRender.createHighlightRowElement(D)},S.prototype.getSmallTaskWidth=function(D){return this._taskRender.getSmallTaskWidth(D)},S.prototype.createTaskElement=function(D){this._taskRender.createTaskElement(D,this._ganttView.settings.taskContentTemplate)},S.prototype.removeTaskElement=function(D){this._taskRender.removeTaskElement(D)},S.prototype.recreateTaskElement=function(D){this._taskRender.recreateTaskElement(D)},S.prototype.createDefaultTaskElement=function(D){this._taskRender.createDefaultTaskElement(D)},S.prototype.getScaleItemText=function(D,x){var N=this._gridLayoutCalculator.getScaleItemStart(D,x);return this.getScaleItemTextByStart(N,x)},S.prototype.getScaleItemTextByStart=function(D,x){return this._elementTextHelper.getScaleItemText(D,x)},S.prototype.getTextWidth=function(D){return this._elementTextHelper.getTextWidth(D)},S.prototype.getTaskVisibility=function(D){return this.gridLayoutCalculator.isTaskInRenderedRange(D)&&this._elementTextHelper.getTaskVisibility(D)},S.prototype.getTaskResourcesVisibility=function(D){return this.getTaskVisibility(D)&&!this.gridLayoutCalculator.isTaskCutByRange(D)},S.prototype.getScaleItemTextTemplate=function(D){return this._elementTextHelper.getScaleItemTextTemplate(D)},S.prototype.getTaskText=function(D){return this._elementTextHelper.getTaskText(D)},S.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},S.prototype.attachEventsOnTask=function(D){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[D])},S.prototype.detachEventsOnTask=function(D){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[D])},S})();u.RenderHelper=w},4966:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ResourseRender=void 0;var d=c(658),g=(function(){function h(s){this._resourcesElements=[],this._renderHelper=s}return Object.defineProperty(h.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),h.prototype.getViewItem=function(s){return this._renderHelper.getViewItem(s)},h.prototype.getTaskResourcesVisibility=function(s){return this._renderHelper.getTaskResourcesVisibility(s)},h.prototype.createResources=function(s){for(var n=this.getViewItem(s).resources.items,i=0;i<n.length;i++)this.createResourceElement(s,n[i])},h.prototype.createResourcesWrapperElement=function(s){var n=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(s);d.RenderElementUtils.create(n,s,this.taskArea,this.resourcesElements),this.resourcesElements[s].style.display=this.getTaskResourcesVisibility(s)?"":"none"},h.prototype.createResourceElement=function(s,n){var i=this.gridLayoutCalculator.getTaskResourceElementInfo();n.color&&(i.style.backgroundColor=n.color);var t=d.RenderElementUtils.create(i,s,this.resourcesElements[s]);t.innerText=n.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(t)},h})();u.ResourseRender=g},6700:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ScaleRender=void 0;var d=c(6907),g=c(2449),h=c(9201),s=c(4289),n=c(658),i=(function(){function t(r){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=r}return Object.defineProperty(t.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),t.prototype.getScaleItemText=function(r,o){return this._renderHelper.getScaleItemText(r,o)},t.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},t.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},t.prototype.setTimeScaleContainerScrollLeft=function(r){this._timeScaleContainer.scrollLeft=r},t.prototype.createTimeScaleContainer=function(r){var o=document.createElement("DIV");o.className="dx-gantt-tsac",o.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=o,r.appendChild(this.timeScaleContainer)},t.prototype.createTimeScaleArea=function(){var r=document.createElement("DIV");return r.className="dx-gantt-tsa",r.style.width=this.getTaskAreaWidth()+"px",r.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(r),this.timeScaleAreas.unshift(r),r},t.prototype.createTimeScaleAreas=function(){for(var r=0;r<this.scaleCount;r++)this.createTimeScaleArea()},t.prototype.createScaleElementCore=function(r,o,a,p){return p[a]||(p[a]=[]),n.RenderElementUtils.create(o,r,this.timeScaleAreas[a],p[a])},t.prototype.createScaleElement=function(r,o,a,p){var y=this._renderHelper.getTextWidth("a"),f=this.createScaleElementCore(r,p,o,this.scaleElements);if(f.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(p==null?void 0:p.size.width)>5*y){var m=this.getScaleItemText(r,a);f.innerText=m,a===g.ViewType.Quarter&&(f.style.padding="0");var _=getComputedStyle(f);p.size.width-d.DomUtils.pxToInt(_.paddingLeft)-d.DomUtils.pxToInt(_.paddingRight)<this._renderHelper.getTextWidth(m)&&(f.title=m)}return f},t.prototype.createScaleBorder=function(r,o,a){var p=this.gridLayoutCalculator.getScaleBorderInfo(r,a);return this.createScaleElementCore(r,p,o,this.scaleBorders)},t.prototype.createScaleElementAndBorder=function(r,o,a){var p=this.gridLayoutCalculator.getScaleElementInfo(r,a),y=this.createScaleElement(r,o,a,p),f=this.createScaleBorder(r,o,a);this.onScaleCellPrepared(a,o,y,f,p.additionalInfo.range)},t.prototype.removeScaleElementAndBorder=function(r,o){n.RenderElementUtils.remove(null,r,this.timeScaleAreas[o],this.scaleElements[o]),n.RenderElementUtils.remove(null,r,this.timeScaleAreas[o],this.scaleBorders[o])},t.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(h.DateUtils.ViewTypeToScaleMap[this.viewType],1)},t.prototype.recreateScaleElements=function(r,o){var a=this,p=this.gridLayoutCalculator.getRenderedScaleItemIndices(r,this.renderedColIndices),y=this.renderedScaleItemIndices[r-this.viewType]||[];n.RenderElementUtils.recreate(y,p,(function(f){a.removeScaleElementAndBorder(f,o)}),(function(f){a.createScaleElementAndBorder(f,o,r)})),this.renderedScaleItemIndices[r-this.viewType]=p},Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),t.prototype.onScaleCellPrepared=function(r,o,a,p,y){var f=new s.ScaleCellPreparedArguments({scaleType:r,scaleIndex:o,range:y,scaleElement:a,separatorElement:p});this.dispatcher.notifyScaleCellPrepared(f)},t})();u.ScaleRender=i},8148:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StripLinesRender=void 0;var d=c(658),g=(function(){function h(s){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=s}return Object.defineProperty(h.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(s){this._renderedStripLines=s},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),h.prototype.reset=function(){this._renderedStripLines=[]},h.prototype.recreateStripLines=function(){var s=this,n=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);d.RenderElementUtils.recreate(this.renderedStripLines,n,(function(i){d.RenderElementUtils.remove(i,null,s.taskArea,s.stripLinesMap)}),(function(i){return d.RenderElementUtils.create(i,null,s.taskArea,s.stripLinesMap)})),this.renderedStripLines=n},h})();u.StripLinesRender=g},2349:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaRender=void 0;var d=c(6907),g=c(658),h=(function(){function s(n){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=n}return Object.defineProperty(s.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(n){this._renderHelper.renderedRowIndices=n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(n){this._renderHelper.renderedColIndices=n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),s.prototype.getExternalTaskAreaContainer=function(n){return this._renderHelper.getExternalTaskAreaContainer(n)},s.prototype.prepareExternalTaskAreaContainer=function(n,i){return this._renderHelper.prepareExternalTaskAreaContainer(n,i)},s.prototype.isAllowTaskAreaBorders=function(n){return this._renderHelper.isAllowTaskAreaBorders(n)},s.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},s.prototype.initTaskAreaContainer=function(n){this._renderHelper.createTaskArea(n),this._taskAreaContainer=this.getExternalTaskAreaContainer(n),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,this.taskAreaContainer==null&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(n))},s.prototype.createTaskElement=function(n){this._renderHelper.createTaskElement(n)},s.prototype.removeTaskElement=function(n){this._renderHelper.removeTaskElement(n)},s.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},s.prototype.prepareTaskAreaContainer=function(){var n="dx-gantt-tac-hb",i=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?d.DomUtils.addClassName(i,n):d.DomUtils.removeClassName(i,n);var t=parseInt(getComputedStyle(i).getPropertyValue("margin-top"))||0,r="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+t,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(i,{height:r}):i.style.height=r},s.prototype.createTaskAreaContainer=function(){var n=document.createElement("DIV");n.className="dx-gantt-tac",this.mainElement.appendChild(n),this.initTaskAreaContainer(n),this.prepareTaskAreaContainer()},s.prototype.createTaskAreaBorder=function(n,i){var t=this.gridLayoutCalculator.getTaskAreaBorderInfo(n,i);g.RenderElementUtils.create(t,n,this.taskArea,this.getTaskAreaBordersDictionary(i))},s.prototype.createTaskArea=function(){var n=document.createElement("DIV");return n.id="dx-gantt-ta",n},s.prototype.removeTaskAreaBorder=function(n,i){g.RenderElementUtils.remove(null,n,this.taskArea,this.getTaskAreaBordersDictionary(i))},s.prototype.createTaskAreaBorderAndTaskElement=function(n,i){this.isAllowTaskAreaBorders(i)&&this.createTaskAreaBorder(n,!i),i&&this.createTaskElement(n)},s.prototype.removeTaskAreaBorderAndTaskElement=function(n,i){this.isAllowTaskAreaBorders(i)&&this.removeTaskAreaBorder(n,!i),i&&this.removeTaskElement(n)},s.prototype.recreateTaskAreaBordersAndTaskElements=function(n){var i=this,t=n?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,r=this.gridLayoutCalculator.getRenderedRowColumnIndices(t,n),o=n?this.renderedRowIndices:this.renderedColIndices;g.RenderElementUtils.recreate(o,r,(function(a){i.removeTaskAreaBorderAndTaskElement(a,n)}),(function(a){i.createTaskAreaBorderAndTaskElement(a,n)})),n?this.renderedRowIndices=r:this.renderedColIndices=r,this.gridLayoutCalculator.createTileToConnectorLinesMap()},s.prototype.getTaskAreaBordersDictionary=function(n){return n?this.vertTaskAreaBorders:this.horTaskAreaBorders},s.prototype.setSizeForTaskArea=function(n,i){this.taskArea.style.width=n+"px",this.taskArea.style.height=i+"px"},s.prototype.createHighlightRowElement=function(n){var i=this.gridLayoutCalculator.getHighlightRowInfo(n);g.RenderElementUtils.create(i,n,this.taskArea,this.hlRowElements)},s})();u.TaskAreaRender=h},2290:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskRender=void 0;var d=c(6907),g=c(2449),h=c(1419),s=c(658),n=(function(){function i(t){this._selectionElements=[],this._taskElements=[],this._renderHelper=t,this.customTaskRender=new h.CustomTaskRender(t,this)}return Object.defineProperty(i.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),i.prototype.isHighlightRowElementAllowed=function(t){return this._renderHelper.isHighlightRowElementAllowed(t)},i.prototype.getTaskVisibility=function(t){return this._renderHelper.getTaskVisibility(t)},i.prototype.getTaskText=function(t){return this._renderHelper.getTaskText(t)},Object.defineProperty(i.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fakeTaskWrapper",{get:function(){var t;return(t=this._fakeTaskWrapper)!==null&&t!==void 0||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),i.prototype.getViewItem=function(t){return this._renderHelper.getViewItem(t)},i.prototype.getTask=function(t){return this._renderHelper.getTask(t)},i.prototype.createHighlightRowElement=function(t){this._renderHelper.createHighlightRowElement(t)},i.prototype.getTaskDependencies=function(t){return this._renderHelper.getTaskDependencies(t)},i.prototype.addInvalidTaskDependencies=function(t){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(t)},i.prototype.removeInvalidTaskDependencies=function(t){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter((function(r){return r.predecessorId!=t||r.successorId!=t}))},i.prototype.createResources=function(t){this.showResources&&this._renderHelper.createResources(t)},i.prototype.attachEventsOnTask=function(t){this._renderHelper.attachEventsOnTask(t)},i.prototype.detachEventsOnTask=function(t){this._renderHelper.detachEventsOnTask(t)},i.prototype.recreateConnectorLineElement=function(t,r){r===void 0&&(r=!1),this._renderHelper.recreateConnectorLineElement(t,r)},i.prototype.renderTaskElement=function(t){this._renderHelper.createTaskElement(t)},i.prototype.reset=function(){var t=this;this._taskElements.forEach((function(r,o){return t.removeTaskElement(o)})),this._selectionElements=[],this._taskElements=[]},i.prototype.createTaskWrapperElement=function(t){var r=this.gridLayoutCalculator.getTaskWrapperElementInfo(t);s.RenderElementUtils.create(r,t,this.taskArea,this.taskElements),this.taskElements[t].style.display=this.getTaskVisibility(t)?"":"none"},i.prototype.createTaskElement=function(t,r){var o=this.getViewItem(t);if(r)this.customTaskRender.createCustomTaskElement(t,r);else{if(!o.task.isValid()||!o.visible){var a=this.getTaskDependencies(o.task.internalId);return this.addInvalidTaskDependencies(a),void(o.selected&&this.createTaskSelectionElement(t))}this.createDefaultTaskElement(t)}},i.prototype.createTaskVisualElement=function(t){var r=this.gridLayoutCalculator.getTaskElementInfo(t,this.taskTitlePosition!==g.TaskTitlePosition.Inside),o=s.RenderElementUtils.create(r,t,this.taskElements[t]);return this.attachEventsOnTask(t),o},i.prototype.createDefaultTaskElement=function(t){var r=this.getViewItem(t);this.isHighlightRowElementAllowed(t)&&this.createHighlightRowElement(t),r.selected&&this.createTaskSelectionElement(t),this.createTaskWrapperElement(t),this.taskTitlePosition===g.TaskTitlePosition.Outside&&this.createTaskTextElement(t,this.taskElements[t]);var o=this.createTaskVisualElement(t);r.task.isMilestone()||(this.taskTitlePosition===g.TaskTitlePosition.Inside&&this.createTaskTextElement(t,o),this.createTaskProgressElement(t,o)),this.createResources(t)},i.prototype.removeTaskElement=function(t){var r=this.getTask(t);if(r&&this.removeInvalidTaskDependencies(r.id),this.detachEventsOnTask(t),this._renderHelper.hasTaskTemplate()){var o=this.taskElements[t],a=o==null?void 0:o.firstElementChild;a&&(this._renderHelper.destroyTemplate(a),o.removeChild(a))}s.RenderElementUtils.remove(null,t,this.taskArea,this.taskElements),s.RenderElementUtils.remove(null,t,this.taskArea,this.resourcesElements),s.RenderElementUtils.remove(null,t,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(t)&&s.RenderElementUtils.remove(null,t,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(t)},i.prototype.recreateTaskElement=function(t){var r=this,o=this.renderedRowIndices.filter((function(y){return y===t})).length>0,a=this.getTask(t);if(a){o&&(this.removeTaskElement(t),this.renderTaskElement(t));var p=this.getTaskDependencies(a.internalId);p.length&&p.forEach((function(y){return r.recreateConnectorLineElement(y.internalId,!0)}))}},i.prototype.createFakeTaskWrapper=function(){var t,r,o=(r=(t=this.viewModelItems.filter((function(f){return f.task&&!f.task.isMilestone}))[0])===null||t===void 0?void 0:t.visibleIndex)!==null&&r!==void 0?r:0,a=this.gridLayoutCalculator,p=s.RenderElementUtils.create(a.getTaskWrapperElementInfo(o),null,this.taskArea),y=s.RenderElementUtils.create(a.getTaskElementInfo(o),null,p);return this.createTaskTextElement(o,y),this.createTaskProgressElement(o,y),p.style.display="none",p},i.prototype.createTaskProgressElement=function(t,r){var o=this.gridLayoutCalculator.getTaskProgressElementInfo(t);s.RenderElementUtils.create(o,t,r)},i.prototype.getTextWidth=function(t){return this._renderHelper.getTextWidth(t)},Object.defineProperty(i.prototype,"minTextWidth",{get:function(){var t;return(t=this._minTextWidth)!==null&&t!==void 0||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),i.prototype.createTaskTextElement=function(t,r){var o,a,p=this.gridLayoutCalculator.getTaskTextElementInfo(t,this.taskTitlePosition===g.TaskTitlePosition.Inside);if(!p.additionalInfo.hidden){var y=s.RenderElementUtils.create(p,t,r),f=this.getTaskText(t);if(this.taskTitlePosition===g.TaskTitlePosition.Outside&&p.size.width>0){var m=getComputedStyle(y),_=p.size.width-d.DomUtils.pxToInt(m.paddingLeft);if(_>=this.minTextWidth){var v=d.DomUtils.pxToInt(m.paddingRight),w=f?this.getTextWidth(f):0;v&&w>_-v&&(v=Math.min(i.minTitleOutRightPadding,_-this.minTextWidth),y.style.paddingRight=v+"px"),w>_-v&&(y.style.overflowX="hidden",y.style.textOverflow="ellipsis")}else y.style.display="none"}f||((o=this[a=this.taskTextHeightKey])!==null&&o!==void 0||(this[a]=this.getTaskTextHeight(y)),y.style.height=this[this.taskTextHeightKey]),y.innerText=f}},i.prototype.createTaskSelectionElement=function(t){var r=this.gridLayoutCalculator.getSelectionElementInfo(t);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&r.size.height++,s.RenderElementUtils.create(r,t,this.taskArea,this.selectionElements)},i.prototype.getTaskTextHeight=function(t){t.innerText="WWW";var r=getComputedStyle(t).height;return t.innerText="",r},i.prototype.getSmallTaskWidth=function(t){var r=0;if(t!=null&&t!==""){var o=t.indexOf("rem");if(o>-1)try{r=parseFloat(t.substr(0,o))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch{}else r=d.DomUtils.pxToInt(t)}return 2*r},i.minTitleOutRightPadding=5,i})();u.TaskRender=n},2990:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EditingSettings=void 0;var d=c(2491),g=(function(){function h(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return h.parse=function(s){var n=new h;return s&&((0,d.isDefined)(s.enabled)&&(n.enabled=s.enabled),(0,d.isDefined)(s.allowDependencyDelete)&&(n.allowDependencyDelete=s.allowDependencyDelete),(0,d.isDefined)(s.allowDependencyInsert)&&(n.allowDependencyInsert=s.allowDependencyInsert),(0,d.isDefined)(s.allowTaskDelete)&&(n.allowTaskDelete=s.allowTaskDelete),(0,d.isDefined)(s.allowTaskInsert)&&(n.allowTaskInsert=s.allowTaskInsert),(0,d.isDefined)(s.allowTaskUpdate)&&(n.allowTaskUpdate=s.allowTaskUpdate),(0,d.isDefined)(s.allowResourceDelete)&&(n.allowResourceDelete=s.allowResourceDelete),(0,d.isDefined)(s.allowResourceInsert)&&(n.allowResourceInsert=s.allowResourceInsert),(0,d.isDefined)(s.allowResourceUpdate)&&(n.allowResourceUpdate=s.allowResourceUpdate),(0,d.isDefined)(s.allowTaskResourceUpdate)&&(n.allowTaskResourceUpdate=s.allowTaskResourceUpdate),(0,d.isDefined)(s.taskHoverDelay)&&(n.taskHoverDelay=s.taskHoverDelay)),n},h.prototype.equal=function(s){var n=!0;return n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n&&this.enabled===s.enabled)&&this.allowDependencyDelete===s.allowDependencyDelete)&&this.allowDependencyInsert===s.allowDependencyInsert)&&this.allowTaskDelete===s.allowTaskDelete)&&this.allowTaskInsert===s.allowTaskInsert)&&this.allowTaskUpdate===s.allowTaskUpdate)&&this.allowResourceDelete===s.allowResourceDelete)&&this.allowResourceInsert===s.allowResourceInsert)&&this.allowResourceUpdate===s.allowResourceUpdate)&&this.allowTaskResourceUpdate===s.allowTaskResourceUpdate},h})();u.EditingSettings=g},9954:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FullScreenHelperSettings=void 0;var d=c(2491),g=(function(){function h(){}return h.parse=function(s){var n=new h;return s&&((0,d.isDefined)(s.getMainElement)&&(n.getMainElement=s.getMainElement),(0,d.isDefined)(s.adjustControl)&&(n.adjustControl=s.adjustControl)),n},h})();u.FullScreenHelperSettings=g},9640:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditSettings=void 0;var d=c(655),g=c(2491),h=(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return d.__extends(n,s),n.parse=function(i){var t=new n;return i&&((0,g.isDefined)(i.getCommandManager)&&(t.getCommandManager=i.getCommandManager),(0,g.isDefined)(i.getViewModel)&&(t.getViewModel=i.getViewModel),(0,g.isDefined)(i.getGanttSettings)&&(t.getGanttSettings=i.getGanttSettings),(0,g.isDefined)(i.getRenderHelper)&&(t.getRenderHelper=i.getRenderHelper),(0,g.isDefined)(i.destroyTemplate)&&(t.destroyTemplate=i.destroyTemplate),(0,g.isDefined)(i.formatDate)&&(t.formatDate=i.formatDate),(0,g.isDefined)(i.getModelManipulator)&&(t.getModelManipulator=i.getModelManipulator),(0,g.isDefined)(i.getValidationController)&&(t.getValidationController=i.getValidationController)),t},n})(c(9080).TooltipSettings);u.TaskEditSettings=h},9080:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TooltipSettings=void 0;var d=c(2491),g=(function(){function h(){}return h.parse=function(s){var n=new h;return s&&((0,d.isDefined)(s.getHeaderHeight)&&(n.getHeaderHeight=s.getHeaderHeight),(0,d.isDefined)(s.getTaskTooltipContentTemplate)&&(n.getTaskTooltipContentTemplate=s.getTaskTooltipContentTemplate),(0,d.isDefined)(s.getTaskProgressTooltipContentTemplate)&&(n.getTaskProgressTooltipContentTemplate=s.getTaskProgressTooltipContentTemplate),(0,d.isDefined)(s.getTaskTimeTooltipContentTemplate)&&(n.getTaskTimeTooltipContentTemplate=s.getTaskTimeTooltipContentTemplate),(0,d.isDefined)(s.destroyTemplate)&&(n.destroyTemplate=s.destroyTemplate),(0,d.isDefined)(s.formatDate)&&(n.formatDate=s.formatDate),(0,d.isDefined)(s.getTaskAreaContainer)&&(n.getTaskAreaContainer=s.getTaskAreaContainer)),n},h})();u.TooltipSettings=g},5846:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationControllerSettings=void 0;var d=c(2491),g=(function(){function h(){}return h.parse=function(s){var n=new h;return s&&((0,d.isDefined)(s.getViewModel)&&(n.getViewModel=s.getViewModel),(0,d.isDefined)(s.getHistory)&&(n.getHistory=s.getHistory),(0,d.isDefined)(s.getModelManipulator)&&(n.getModelManipulator=s.getModelManipulator),(0,d.isDefined)(s.getRange)&&(n.getRange=s.getRange),(0,d.isDefined)(s.getValidationSettings)&&(n.getValidationSettings=s.getValidationSettings),(0,d.isDefined)(s.updateOwnerInAutoParentMode)&&(n.updateOwnerInAutoParentMode=s.updateOwnerInAutoParentMode),(0,d.isDefined)(s.getIsValidateDependenciesRequired)&&(n.getIsValidateDependenciesRequired=s.getIsValidateDependenciesRequired)),n},h})();u.ValidationControllerSettings=g},5351:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Settings=void 0;var d=c(2491),g=c(7880),h=c(2449),s=c(2990),n=c(9057),i=c(2762),t=c(9820),r=(function(){function o(){this.viewType=void 0,this.taskTitlePosition=h.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new s.EditingSettings,this.validation=new i.ValidationSettings,this.stripLines=new n.StripLineSettings,this.viewTypeRange=new t.ViewTypeRangeSettings}return o.parse=function(a){var p=new o;return a&&((0,d.isDefined)(a.viewType)&&(p.viewType=a.viewType),(0,d.isDefined)(a.taskTitlePosition)&&(p.taskTitlePosition=a.taskTitlePosition),(0,d.isDefined)(a.showResources)&&(p.showResources=a.showResources),(0,d.isDefined)(a.showDependencies)&&(p.showDependencies=a.showDependencies),(0,d.isDefined)(a.areHorizontalBordersEnabled)&&(p.areHorizontalBordersEnabled=a.areHorizontalBordersEnabled),(0,d.isDefined)(a.areVerticalBordersEnabled)&&(p.areHorizontalBordersEnabled=a.areHorizontalBordersEnabled),(0,d.isDefined)(a.areAlternateRowsEnabled)&&(p.areAlternateRowsEnabled=a.areAlternateRowsEnabled),(0,d.isDefined)(a.allowSelectTask)&&(p.allowSelectTask=a.allowSelectTask),(0,d.isDefined)(a.firstDayOfWeek)&&(p.firstDayOfWeek=a.firstDayOfWeek),(0,d.isDefined)(a.startDateRange)&&(p.startDateRange=new Date(a.startDateRange)),(0,d.isDefined)(a.endDateRange)&&(p.endDateRange=new Date(a.endDateRange)),(0,d.isDefined)(a.editing)&&(p.editing=s.EditingSettings.parse(a.editing)),(0,d.isDefined)(a.validation)&&(p.validation=i.ValidationSettings.parse(a.validation)),(0,d.isDefined)(a.stripLines)&&(p.stripLines=n.StripLineSettings.parse(a.stripLines)),(0,d.isDefined)(a.viewTypeRange)&&(p.viewTypeRange=t.ViewTypeRangeSettings.parse(a.viewTypeRange)),(0,d.isDefined)(a.taskTooltipContentTemplate)&&(p.taskTooltipContentTemplate=a.taskTooltipContentTemplate),(0,d.isDefined)(a.taskProgressTooltipContentTemplate)&&(p.taskProgressTooltipContentTemplate=a.taskProgressTooltipContentTemplate),(0,d.isDefined)(a.taskTimeTooltipContentTemplate)&&(p.taskTimeTooltipContentTemplate=a.taskTimeTooltipContentTemplate),(0,d.isDefined)(a.taskContentTemplate)&&(p.taskContentTemplate=a.taskContentTemplate),(0,d.isDefined)(a.cultureInfo)&&(p.cultureInfo=a.cultureInfo)),p},o.prototype.equal=function(a){var p=!0;return p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=p&&this.viewType===a.viewType)&&this.taskTitlePosition===a.taskTitlePosition)&&this.showResources===a.showResources)&&this.showDependencies===a.showDependencies)&&this.areHorizontalBordersEnabled===a.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===a.areAlternateRowsEnabled)&&this.allowSelectTask===a.allowSelectTask)&&this.editing.equal(a.editing))&&this.validation.equal(a.validation))&&this.stripLines.equal(a.stripLines))&&g.DateTimeUtils.areDatesEqual(this.startDateRange,a.startDateRange))&&g.DateTimeUtils.areDatesEqual(this.endDateRange,a.endDateRange)},o})();u.Settings=r},1442:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StripLine=void 0;var d=c(2491),g=(function(){function h(s,n,i,t,r){this.isCurrent=!1,this.start=s,this.end=n,this.title=i,this.cssClass=t,this.isCurrent=r}return h.parse=function(s){var n=new h;return s&&((0,d.isDefined)(s.start)&&(n.start=s.start),(0,d.isDefined)(s.end)&&(n.end=s.end),(0,d.isDefined)(s.title)&&(n.title=s.title),(0,d.isDefined)(s.cssClass)&&(n.cssClass=s.cssClass)),n},h.prototype.clone=function(){return new h(this.start,this.end,this.title,this.cssClass,this.isCurrent)},h.prototype.equal=function(s){var n=!0;return n=(n=(n=(n=n&&this.start==s.start)&&this.end==s.end)&&this.title==s.title)&&this.cssClass==s.cssClass},h})();u.StripLine=g},9057:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StripLineSettings=void 0;var d=c(2491),g=c(1442),h=(function(){function s(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return s.parse=function(n){var i=new s;if(n&&((0,d.isDefined)(n.showCurrentTime)&&(i.showCurrentTime=n.showCurrentTime),(0,d.isDefined)(n.currentTimeUpdateInterval)&&(i.currentTimeUpdateInterval=n.currentTimeUpdateInterval),(0,d.isDefined)(n.currentTimeTitle)&&(i.currentTimeTitle=n.currentTimeTitle),(0,d.isDefined)(n.currentTimeCssClass)&&(i.currentTimeCssClass=n.currentTimeCssClass),(0,d.isDefined)(n.stripLines)))for(var t=0;t<n.stripLines.length;t++)i.stripLines.push(g.StripLine.parse(n.stripLines[t]));return i},s.prototype.equal=function(n){var i=!0;if(i=(i=(i=(i=(i=i&&this.showCurrentTime==n.showCurrentTime)&&this.currentTimeUpdateInterval==n.currentTimeUpdateInterval)&&this.currentTimeTitle==n.currentTimeTitle)&&this.currentTimeCssClass==n.currentTimeCssClass)&&this.stripLines.length===n.stripLines.length)for(var t=0;t<n.stripLines.length;t++)i=i&&this.stripLines[t].equal(n.stripLines[t]);return i},s})();u.StripLineSettings=h},2762:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationSettings=void 0;var d=c(2491),g=(function(){function h(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return h.parse=function(s){var n=new h;return s&&((0,d.isDefined)(s.validateDependencies)&&(n.validateDependencies=s.validateDependencies),(0,d.isDefined)(s.autoUpdateParentTasks)&&(n.autoUpdateParentTasks=s.autoUpdateParentTasks),(0,d.isDefined)(s.enablePredecessorGap)&&(n.enablePredecessorGap=s.enablePredecessorGap)),n},h.prototype.equal=function(s){var n=!0;return n=(n=(n=n&&this.validateDependencies===s.validateDependencies)&&this.autoUpdateParentTasks===s.autoUpdateParentTasks)&&this.enablePredecessorGap===s.enablePredecessorGap},h})();u.ValidationSettings=g},9820:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ViewTypeRangeSettings=void 0;var d=c(2491),g=c(2449),h=(function(){function s(){this.min=g.ViewType.TenMinutes,this.max=g.ViewType.Years}return s.parse=function(n){var i=new s;return n&&((0,d.isDefined)(n.min)&&(i.min=n.min),(0,d.isDefined)(n.max)&&(i.max=n.max)),i},s.prototype.equal=function(n){var i=!0;return i=(i=i&&this.min===n.min)&&this.max===n.max},s})();u.ViewTypeRangeSettings=h},9201:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DateUtils=void 0;var d=c(2449),g=(function(){function h(){}var s;return h.getDaysInQuarter=function(n){var i=3*Math.floor(n.getMonth()/3);return[i,i+1,i+2].reduce((function(t,r){return t+h.getDaysInMonth(r,n.getFullYear())}),0)},h.getDaysInMonth=function(n,i){return new Date(i,n+1,0).getDate()},h.getOffsetInMonths=function(n,i){return 12*(i.getFullYear()-n.getFullYear())+i.getMonth()-n.getMonth()},h.getOffsetInQuarters=function(n,i){return 4*(i.getFullYear()-n.getFullYear())+Math.floor(i.getMonth()/3)-Math.floor(n.getMonth()/3)},h.getNearestScaleTickDate=function(n,i,t,r){var o=new Date,a=i.start.getTime(),p=i.end.getTime();if(o.setTime(n.getTime()),n.getTime()<a)o.setTime(a);else if(n.getTime()>p)o.setTime(p);else if(this.needCorrectDate(n,a,t,r)){var y=this.getNearestLeftTickTime(n,a,t,r),f=this.getNextTickTime(y,t,r);Math.abs(n.getTime()-y)>Math.abs(n.getTime()-f)?o.setTime(f):o.setTime(y)}return o},h.needCorrectDate=function(n,i,t,r){return r==d.ViewType.Months?n.getTime()!==new Date(n.getFullYear(),n.getMonth(),1).getTime():(n.getTime()-i)%t!=0},h.getNearestLeftTickTime=function(n,i,t,r){return r==d.ViewType.Months?new Date(n.getFullYear(),n.getMonth(),1).getTime():i+Math.floor((n.getTime()-i)/t)*t},h.getNextTickTime=function(n,i,t){if(t==d.ViewType.Months){var r=new Date;return r.setTime(n),r.setMonth(r.getMonth()+1),r.getTime()}return n+i},h.adjustStartDateByViewType=function(n,i,t){switch(t===void 0&&(t=0),i){case d.ViewType.TenMinutes:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours());case d.ViewType.SixHours:case d.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate());case d.ViewType.Days:case d.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay()+t);case d.ViewType.Months:case d.ViewType.Quarter:case d.ViewType.Years:return new Date(n.getFullYear(),0,1);default:return new Date}},h.adjustEndDateByViewType=function(n,i,t){switch(t===void 0&&(t=0),i){case d.ViewType.TenMinutes:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+1);case d.ViewType.SixHours:case d.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);case d.ViewType.Days:case d.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()+7-n.getDay()+t);case d.ViewType.Months:case d.ViewType.Quarter:case d.ViewType.Years:return new Date(n.getFullYear()+1,0,1);default:return new Date}},h.roundStartDate=function(n,i){switch(i){case d.ViewType.TenMinutes:case d.ViewType.Hours:return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()-1);case d.ViewType.SixHours:case d.ViewType.Days:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-1);case d.ViewType.Weeks:return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay());case d.ViewType.Months:return new Date(n.getFullYear(),n.getMonth()-1);case d.ViewType.Quarter:case d.ViewType.Years:return new Date(n.getFullYear()-1,0,1);default:return new Date}},h.getTickTimeSpan=function(n){switch(n){case d.ViewType.TenMinutes:return h.msPerHour/6;case d.ViewType.Hours:return h.msPerHour;case d.ViewType.SixHours:return 6*h.msPerHour;case d.ViewType.Days:return h.msPerDay;case d.ViewType.Weeks:return h.msPerWeek;case d.ViewType.Months:return h.msPerMonth;case d.ViewType.Quarter:return 3*h.msPerMonth;case d.ViewType.Years:return h.msPerYear}},h.getRangeTickCount=function(n,i,t){return t===d.ViewType.Months?this.getRangeTickCountInMonthsViewType(n,i):t===d.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(n,i):h.getRangeMSPeriod(n,i)/h.getTickTimeSpan(t)},h.getRangeMSPeriod=function(n,i){return i.getTime()-h.getDSTTotalDelta(n,i)-n.getTime()},h.getRangeTickCountInMonthsViewType=function(n,i){var t=new Date(n.getFullYear(),n.getMonth(),1),r=new Date(i.getFullYear(),i.getMonth(),1);return h.getOffsetInMonths(t,r)+(i.getTime()-r.getTime())/(h.getDaysInMonth(i.getMonth(),i.getFullYear())*h.msPerDay)-(n.getTime()-t.getTime())/(h.getDaysInMonth(n.getMonth(),n.getFullYear())*h.msPerDay)},h.getRangeTickCountInQuarterViewType=function(n,i){var t=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1),r=new Date(i.getFullYear(),3*Math.floor(i.getMonth()/3),1);return h.getOffsetInQuarters(t,r)+(i.getTime()-r.getTime())/(h.getDaysInQuarter(r)*h.msPerDay)-(n.getTime()-t.getTime())/(h.getDaysInQuarter(t)*h.msPerDay)},h.parse=function(n){return typeof n=="function"?new Date(n()):new Date(n)},h.getOrCreateUTCDate=function(n){var i=n.getTimezoneOffset();return i?new Date(n.valueOf()+6e4*i):n},h.getTimezoneOffsetDiff=function(n,i){return i.getTimezoneOffset()-n.getTimezoneOffset()},h.getDSTDelta=function(n,i){var t=h.getTimezoneOffsetDiff(n,i)*h.msPerMinute;return t>0?t:0},h.getDSTTotalDelta=function(n,i){if(!h.hasDST())return 0;for(var t=n,r=0,o=t.getFullYear(),a=t.getMonth();t<i;){a>=5?(o++,a=0):a=5;var p=new Date(o,a,1);p>i&&(p=i),r+=h.getDSTDelta(t,p),t=p}return r},h.getDSTCorrectedTaskEnd=function(n,i){var t=n.getTime()+i,r=h.getDSTTotalDelta(n,new Date(t));return new Date(t+r)},h.hasDST=function(){var n=new Date().getFullYear(),i=new Date(n,0,1),t=new Date(n,5,1);return h.getTimezoneOffsetDiff(i,t)!==0},h.msPerMinute=6e4,h.msPerHour=36e5,h.msPerDay=24*h.msPerHour,h.msPerWeek=7*h.msPerDay,h.msPerMonth=30*h.msPerDay,h.msPerYear=365*h.msPerDay,h.ViewTypeToScaleMap=((s={})[d.ViewType.TenMinutes]=d.ViewType.Hours,s[d.ViewType.Hours]=d.ViewType.Days,s[d.ViewType.SixHours]=d.ViewType.Days,s[d.ViewType.Days]=d.ViewType.Weeks,s[d.ViewType.Weeks]=d.ViewType.Months,s[d.ViewType.Months]=d.ViewType.Years,s[d.ViewType.Quarter]=d.ViewType.Years,s[d.ViewType.Years]=d.ViewType.FiveYears,s),h})();u.DateUtils=g},8380:(b,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ElementTextHelper=void 0;var d=c(6907),g=c(2449),h=c(9201),s=(function(){function n(i){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var t=document.createElement("canvas");this.textMeasureContext=t.getContext("2d"),this.cultureInfo=i}return n.prototype.setFont=function(i){var t=d.DomUtils.getCurrentStyle(i),r=t.font?t.font:t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" / "+t.lineHeight+" "+t.fontFamily;this.textMeasureContext.font=r},n.prototype.setSettings=function(i,t,r){this.startTime=i,this.viewType=t,this.modelItems=r},n.prototype.getScaleItemText=function(i,t){var r=this.viewType.valueOf()===t.valueOf();switch(t){case g.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(i);case g.ViewType.Hours:case g.ViewType.SixHours:return this.getHoursScaleItemText(i);case g.ViewType.Days:return this.getDaysScaleItemText(i,r);case g.ViewType.Weeks:return this.getWeeksScaleItemText(i,r);case g.ViewType.Months:return this.getMonthsScaleItemText(i,r);case g.ViewType.Quarter:return this.getQuarterScaleItemText(i,r);case g.ViewType.Years:return this.getYearsScaleItemText(i);case g.ViewType.FiveYears:return this.getFiveYearsScaleItemText(i)}},n.prototype.getTenMinutesScaleItemText=function(i){var t=i.getMinutes()+1;return(10*Math.ceil(t/10)).toString()},n.prototype.getThirtyMinutesScaleItemText=function(i){return i.getMinutes()<30?"30":"60"},n.prototype.getHoursScaleItemText=function(i){var t=i.getHours(),r=this.getHourDisplayText(t),o=t<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(r,o)},n.prototype.getDaysScaleItemText=function(i,t){return this.getDayTotalText(i,!0,t,t,!t)},n.prototype.getWeeksScaleItemText=function(i,t){var r=h.DateUtils.getDSTCorrectedTaskEnd(i,h.DateUtils.msPerWeek-h.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(i,t,!0,t,!t),this.getDayTotalText(r,t,!0,t,!t))},n.prototype.getMonthsScaleItemText=function(i,t){var r=this.getMonthNames(),o=t?"":i.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[i.getMonth()],o)},n.prototype.getQuarterScaleItemText=function(i,t){var r=this.getQuarterNames(),o=t?"":i.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[Math.floor(i.getMonth()/3)],o)},n.prototype.getYearsScaleItemText=function(i){return i.getFullYear().toString()},n.prototype.getFiveYearsScaleItemText=function(i){return i.getFullYear().toString()+" - "+(i.getFullYear()+4).toString()},n.prototype.getHourDisplayText=function(i){return this.hasAmPm()?(i==0?12:i<=12?i:i-12).toString():i<10?"0"+i:i.toString()},n.prototype.getDayTotalText=function(i,t,r,o,a){var p=o?this.getAbbrMonthNames():this.getMonthNames(),y=r?this.getAbbrDayNames():this.getDayNames(),f=t?y[i.getDay()]:"",m=i.getDate(),_=p[i.getMonth()],v=a?i.getFullYear().toString():"";return this.getDayTotalTextCore(f,m.toString(),_,v)},n.prototype.getTaskText=function(i){var t=this.modelItems[i];return t?t.task.title:""},n.prototype.getTaskVisibility=function(i){var t=this.modelItems[i];return!!t&&t.getVisible()},n.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},n.prototype.getScaleItemTextTemplate=function(i){switch(i){case g.ViewType.TenMinutes:return"00";case g.ViewType.Hours:case g.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case g.ViewType.Days:return this.getDayTextTemplate();case g.ViewType.Weeks:return this.getWeekTextTemplate();case g.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case g.ViewType.Quarter:return"Q4";case g.ViewType.Years:return"0000"}},n.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},n.prototype.getWeekTextTemplate=function(){var i=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(i,i)},n.prototype.getHoursScaleItemTextCore=function(i,t){return i+":00"+(this.hasAmPm()?" "+t:"")},n.prototype.getDayTotalTextCore=function(i,t,r,o){var a=i.length>0?i+", ":"";return a+=t+" "+r,a+=o.length>0?" "+o:""},n.prototype.getWeeksScaleItemTextCore=function(i,t){return i+" - "+t},n.prototype.getMonthsScaleItemTextCore=function(i,t){var r=i;return t.length>0&&(r+=" "+t),r},n.prototype.getLongestAbbrMonthName=function(){return this.longestAbbrMonthName==null&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},n.prototype.getLongestMonthName=function(){return this.longestMonthName==null&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},n.prototype.getLongestAbbrDayName=function(){return this.longestAbbrDayName==null&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},n.prototype.getLongestText=function(i){var t=this,r="",o=0;return i.forEach((function(a){var p=t.getTextWidth(a);p>o&&(o=p,r=a)})),r},n.prototype.getTextWidth=function(i){return Math.round(this.textMeasureContext.measureText(i).width)},n.prototype.getAmText=function(){return this.cultureInfo.amText},n.prototype.getPmText=function(){return this.cultureInfo.pmText},n.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},n.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},n.prototype.getDayNames=function(){return this.cultureInfo.dayNames},n.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},n.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},n})();u.ElementTextHelper=s},655:(b,u,c)=>{c.r(u),c.d(u,{__assign:()=>h,__asyncDelegator:()=>D,__asyncGenerator:()=>S,__asyncValues:()=>x,__await:()=>w,__awaiter:()=>r,__classPrivateFieldGet:()=>B,__classPrivateFieldSet:()=>K,__createBinding:()=>a,__decorate:()=>n,__exportStar:()=>p,__extends:()=>g,__generator:()=>o,__importDefault:()=>H,__importStar:()=>E,__makeTemplateObject:()=>N,__metadata:()=>t,__param:()=>i,__read:()=>f,__rest:()=>s,__spread:()=>m,__spreadArray:()=>v,__spreadArrays:()=>_,__values:()=>y});var d=function(R,V){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,F){j.__proto__=F}||function(j,F){for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(j[W]=F[W])},d(R,V)};function g(R,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function j(){this.constructor=R}d(R,V),R.prototype=V===null?Object.create(V):(j.prototype=V.prototype,new j)}var h=function(){return h=Object.assign||function(R){for(var V,j=1,F=arguments.length;j<F;j++)for(var W in V=arguments[j])Object.prototype.hasOwnProperty.call(V,W)&&(R[W]=V[W]);return R},h.apply(this,arguments)};function s(R,V){var j={};for(var F in R)Object.prototype.hasOwnProperty.call(R,F)&&V.indexOf(F)<0&&(j[F]=R[F]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var W=0;for(F=Object.getOwnPropertySymbols(R);W<F.length;W++)V.indexOf(F[W])<0&&Object.prototype.propertyIsEnumerable.call(R,F[W])&&(j[F[W]]=R[F[W]])}return j}function n(R,V,j,F){var W,Y=arguments.length,z=Y<3?V:F===null?F=Object.getOwnPropertyDescriptor(V,j):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(R,V,j,F);else for(var P=R.length-1;P>=0;P--)(W=R[P])&&(z=(Y<3?W(z):Y>3?W(V,j,z):W(V,j))||z);return Y>3&&z&&Object.defineProperty(V,j,z),z}function i(R,V){return function(j,F){V(j,F,R)}}function t(R,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,V)}function r(R,V,j,F){return new(j||(j=Promise))((function(W,Y){function z(M){try{I(F.next(M))}catch(L){Y(L)}}function P(M){try{I(F.throw(M))}catch(L){Y(L)}}function I(M){var L;M.done?W(M.value):(L=M.value,L instanceof j?L:new j((function(U){U(L)}))).then(z,P)}I((F=F.apply(R,V||[])).next())}))}function o(R,V){var j,F,W,Y,z={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return Y={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function P(I){return function(M){return(function(L){if(j)throw new TypeError("Generator is already executing.");for(;z;)try{if(j=1,F&&(W=2&L[0]?F.return:L[0]?F.throw||((W=F.return)&&W.call(F),0):F.next)&&!(W=W.call(F,L[1])).done)return W;switch(F=0,W&&(L=[2&L[0],W.value]),L[0]){case 0:case 1:W=L;break;case 4:return z.label++,{value:L[1],done:!1};case 5:z.label++,F=L[1],L=[0];continue;case 7:L=z.ops.pop(),z.trys.pop();continue;default:if(W=z.trys,!((W=W.length>0&&W[W.length-1])||L[0]!==6&&L[0]!==2)){z=0;continue}if(L[0]===3&&(!W||L[1]>W[0]&&L[1]<W[3])){z.label=L[1];break}if(L[0]===6&&z.label<W[1]){z.label=W[1],W=L;break}if(W&&z.label<W[2]){z.label=W[2],z.ops.push(L);break}W[2]&&z.ops.pop(),z.trys.pop();continue}L=V.call(R,z)}catch(U){L=[6,U],F=0}finally{j=W=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}})([I,M])}}}var a=Object.create?function(R,V,j,F){F===void 0&&(F=j),Object.defineProperty(R,F,{enumerable:!0,get:function(){return V[j]}})}:function(R,V,j,F){F===void 0&&(F=j),R[F]=V[j]};function p(R,V){for(var j in R)j==="default"||Object.prototype.hasOwnProperty.call(V,j)||a(V,R,j)}function y(R){var V=typeof Symbol=="function"&&Symbol.iterator,j=V&&R[V],F=0;if(j)return j.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&F>=R.length&&(R=void 0),{value:R&&R[F++],done:!R}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(R,V){var j=typeof Symbol=="function"&&R[Symbol.iterator];if(!j)return R;var F,W,Y=j.call(R),z=[];try{for(;(V===void 0||V-- >0)&&!(F=Y.next()).done;)z.push(F.value)}catch(P){W={error:P}}finally{try{F&&!F.done&&(j=Y.return)&&j.call(Y)}finally{if(W)throw W.error}}return z}function m(){for(var R=[],V=0;V<arguments.length;V++)R=R.concat(f(arguments[V]));return R}function _(){for(var R=0,V=0,j=arguments.length;V<j;V++)R+=arguments[V].length;var F=Array(R),W=0;for(V=0;V<j;V++)for(var Y=arguments[V],z=0,P=Y.length;z<P;z++,W++)F[W]=Y[z];return F}function v(R,V,j){if(j||arguments.length===2)for(var F,W=0,Y=V.length;W<Y;W++)!F&&W in V||(F||(F=Array.prototype.slice.call(V,0,W)),F[W]=V[W]);return R.concat(F||Array.prototype.slice.call(V))}function w(R){return this instanceof w?(this.v=R,this):new w(R)}function S(R,V,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,W=j.apply(R,V||[]),Y=[];return F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F;function z(U){W[U]&&(F[U]=function(q){return new Promise((function(ae,ge){Y.push([U,q,ae,ge])>1||P(U,q)}))})}function P(U,q){try{(ae=W[U](q)).value instanceof w?Promise.resolve(ae.value.v).then(I,M):L(Y[0][2],ae)}catch(ge){L(Y[0][3],ge)}var ae}function I(U){P("next",U)}function M(U){P("throw",U)}function L(U,q){U(q),Y.shift(),Y.length&&P(Y[0][0],Y[0][1])}}function D(R){var V,j;return V={},F("next"),F("throw",(function(W){throw W})),F("return"),V[Symbol.iterator]=function(){return this},V;function F(W,Y){V[W]=R[W]?function(z){return(j=!j)?{value:w(R[W](z)),done:W==="return"}:Y?Y(z):z}:Y}}function x(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,j=R[Symbol.asyncIterator];return j?j.call(R):(R=y(R),V={},F("next"),F("throw"),F("return"),V[Symbol.asyncIterator]=function(){return this},V);function F(W){V[W]=R[W]&&function(Y){return new Promise((function(z,P){(function(I,M,L,U){Promise.resolve(U).then((function(q){I({value:q,done:L})}),M)})(z,P,(Y=R[W](Y)).done,Y.value)}))}}}function N(R,V){return Object.defineProperty?Object.defineProperty(R,"raw",{value:V}):R.raw=V,R}var A=Object.create?function(R,V){Object.defineProperty(R,"default",{enumerable:!0,value:V})}:function(R,V){R.default=V};function E(R){if(R&&R.__esModule)return R;var V={};if(R!=null)for(var j in R)j!=="default"&&Object.prototype.hasOwnProperty.call(R,j)&&a(V,R,j);return A(V,R),V}function H(R){return R&&R.__esModule?R:{default:R}}function B(R,V,j,F){if(j==="a"&&!F)throw new TypeError("Private accessor was defined without a getter");if(typeof V=="function"?R!==V||!F:!V.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?F:j==="a"?F.call(R):F?F.value:V.get(R)}function K(R,V,j,F,W){if(F==="m")throw new TypeError("Private method is not writable");if(F==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof V=="function"?R!==V||!W:!V.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return F==="a"?W.call(R,j):W?W.value=j:V.set(R,j),j}}},T={};function k(b){var u=T[b];if(u!==void 0)return u.exports;var c=T[b]={exports:{}};return l[b](c,c.exports,k),c.exports}k.d=(b,u)=>{for(var c in u)k.o(u,c)&&!k.o(b,c)&&Object.defineProperty(b,c,{enumerable:!0,get:u[c]})},k.o=(b,u)=>Object.prototype.hasOwnProperty.call(b,u),k.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var C={};return(()=>{var b=C;Object.defineProperty(b,"__esModule",{value:!0}),b.GanttView=b.default=void 0,k(8721);var u=k(2366);Object.defineProperty(b,"default",{enumerable:!0,get:function(){return u.GanttView}}),Object.defineProperty(b,"GanttView",{enumerable:!0,get:function(){return u.GanttView}})})(),C})()))})(Ae)),Ae.exports}var Gr=Kr();const pt=Ki(Gr);function zr(){if(!pt)throw Ce.Error("E1041","devexpress-gantt");return pt}class $r{constructor(e,l){this._element=e,this._scrollView=l._createComponent(this._element,Kn,{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:()=>{l.updateView()}})}get scrollTop(){return this._scrollView.scrollTop()}set scrollTop(e){const l=e-this._scrollView.scrollTop();l!==0&&this._scrollView.scrollBy({left:0,top:l})}get scrollLeft(){return this._scrollView.scrollLeft()}set scrollLeft(e){const l=e-this._scrollView.scrollLeft();l!==0&&this._scrollView.scrollBy({left:l,top:0})}get scrollWidth(){return this._scrollView.scrollWidth()}get scrollHeight(){return this._scrollView.scrollHeight()}get isExternal(){return!0}getWidth(){return this._element.offsetWidth}getHeight(){return this._element.offsetHeight}getElement(){return this._element}}const Zr="fullScreen";class Yr extends Ze{_init(){super._init(),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onViewTypeChanged=this._createActionByOption("onViewTypeChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._onPopupMenuHiding=this._createActionByOption("onPopupMenuHiding"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick"),this._onAdjustControl=this._createActionByOption("onAdjustControl")}_initMarkup(){var e;const l=zr();this._ganttViewCore=new l(this.$element().get(0),this,{showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:(e=this.option("stripLines"))===null||e===void 0?void 0:e.map((k=>pe({},k)))},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),viewTypeRange:this._parseViewTypeRangeSettings(this.option("scaleTypeRange")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate"),taskProgressTooltipContentTemplate:this.option("taskProgressTooltipContentTemplate"),taskTimeTooltipContentTemplate:this.option("taskTimeTooltipContentTemplate"),taskContentTemplate:this.option("taskContentTemplate"),sieve:this.option("sieve")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState();const T=this.option("visualState");T&&(this._restoreStateFrameId=Pn((()=>this._restoreVisualState(T))))}_dispose(){super._dispose(),An(this._restoreStateFrameId)}_restoreVisualState(e){e.fullScreen&&this._ganttViewCore.setFullScreenMode()}_getFirstDayOfWeek(e){return X(e)?e:de.firstDayOfWeekIndex()}getTaskAreaContainer(){return this._ganttViewCore.getTaskAreaContainer()}getBarManager(){return this._ganttViewCore.barManager}executeCoreCommand(e){const l=this._ganttViewCore.getCommandByKey(e);l&&l.execute()}changeTaskExpanded(e,l){this._ganttViewCore.changeTaskExpanded(e,l)}updateView(){var e;(e=this._ganttViewCore)===null||e===void 0||e.updateView()}updateBarItemsState(){this._ganttViewCore.barManager.updateItemsState([])}setWidth(e){this._ganttViewCore.setWidth(e)}_onDimensionChanged(){this._ganttViewCore.onBrowserWindowResize()}_selectTask(e){this._ganttViewCore.selectTaskById(e)}_update(e){var l;(l=this._ganttViewCore)===null||l===void 0||l.updateWithDataReload(e)}_getCultureInfo(){return{monthNames:de.getMonthNames("wide"),dayNames:de.getDayNames("wide"),abbrMonthNames:de.getMonthNames("abbreviated"),abbrDayNames:de.getDayNames("abbreviated"),quarterNames:this._getQuarterNames(),amText:this._getAmText(),pmText:this._getPmText(),start:G.format("dxGantt-dialogStartTitle"),end:G.format("dxGantt-dialogEndTitle"),progress:G.format("dxGantt-dialogProgressTitle")}}_getAmText(){return this._hasAmPM()?de.getPeriodNames()[0]:""}_getPmText(){return this._hasAmPM()?de.getPeriodNames()[1]:""}_hasAmPM(){const e=new Date(Date.UTC(2012,11,12,3,0,0));return e.toLocaleTimeString(kn.locale()).match(/am|pm/i)||e.toString().match(/am|pm/i)}_getQuarterNames(){const e=G.format("dxGantt-quarter");return e?[Ie(e,1),Ie(e,2),Ie(e,3),Ie(e,4)]:de.getQuarterNames()}_getTaskTitlePosition(e){switch(e){case"outside":return 1;case"none":return 2;default:return 0}}_getViewTypeByScaleType(e){switch(e){case"minutes":return 0;case"hours":return 1;case"sixHours":return 2;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}_parseEditingSettings(e){return{enabled:e.enabled,allowDependencyDelete:e.allowDependencyDeleting,allowDependencyInsert:e.allowDependencyAdding,allowTaskDelete:e.allowTaskDeleting,allowTaskInsert:e.allowTaskAdding,allowTaskUpdate:e.allowTaskUpdating,allowResourceDelete:e.allowResourceDeleting,allowResourceInsert:e.allowResourceAdding,allowResourceUpdate:e.allowResourceUpdating,allowTaskResourceUpdate:e.allowTaskResourceUpdating}}_parseViewTypeRangeSettings(e){return{min:this._getViewTypeByScaleType(e.min),max:this._getViewTypeByScaleType(e.max)}}_optionChanged(e){switch(e.name){case"width":super._optionChanged(e),this._ganttViewCore.setWidth(e.value);break;case"height":this._ganttViewCore.setHeight(e.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._sieveOptions=void 0,this._update(!0);break;case"showResources":this._ganttViewCore.setShowResources(e.value);break;case"showDependencies":this._ganttViewCore.setShowDependencies(e.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(e.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(e.value));break;case"startDateRange":this._ganttViewCore.setStartDateRange(e.value);break;case"endDateRange":this._ganttViewCore.setEndDateRange(e.value);break;case"allowSelection":this._ganttViewCore.setAllowSelection(e.value);break;case"selectedRowKey":this._selectTask(e.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(e.value));break;case"validation":this._ganttViewCore.setValidationSettings(e.value),this._update(!0);break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(e.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(e.value));break;case"scaleTypeRange":this._ganttViewCore.setViewTypeRange(this._getViewTypeByScaleType(e.value.min),this._getViewTypeByScaleType(e.value.max));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:this.option("stripLines")});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(e.value);break;case"taskProgressTooltipContentTemplate":this._ganttViewCore.setTaskProgressTooltipContentTemplate(e.value);break;case"taskTimeTooltipContentTemplate":this._ganttViewCore.setTaskTimeTooltipContentTemplate(e.value);break;case"taskContentTemplate":this._ganttViewCore.setTaskContentTemplate(e.value);break;case"sieve":this._sortAndFilter(e.value);break;default:super._optionChanged(e)}}get bars(){return this.option("bars")}getRowHeight(){return this.option("rowHeight")}getHeaderHeight(){return this.option("headerHeight")}getGanttTasksData(){const e=this.option("tasks"),l=this.getSieveOptions();return l!=null&&l.sievedItems&&l!==null&&l!==void 0&&l.sieveColumn?l.sievedItems:e}_sortAndFilter(e){this._sieveOptions=e,this._update(!(e!=null&&e.expandTasks));const l=this.option("selectedRowKey");this._selectTask(l)}getSieveOptions(){return this._sieveOptions}getGanttDependenciesData(){return this.option("dependencies")}getGanttResourcesData(){return this.option("resources")}getGanttResourceAssignmentsData(){return this.option("resourceAssignments")}getGanttWorkTimeRules(){return null}getExternalTaskAreaContainer(e){return this._taskAreaContainer||(this._taskAreaContainer=new $r(e,this)),this._taskAreaContainer}prepareExternalTaskAreaContainer(e,l){l!=null&&l.height&&this._taskAreaContainer._scrollView.option("height",l.height)}changeGanttTaskSelection(e,l){this._onSelectionChanged({id:e,selected:l})}onGanttScroll(e){this._onScroll({scrollTop:e})}showDialog(e,l,T,k){this._onDialogShowing({name:e,parameters:l,callback:T,afterClosing:k})}getModelChangesListener(){return this.option("modelChangesListener")}getExportInfo(){return this.option("exportInfo")}showPopupMenu(e){this._onPopupMenuShowing(e)}hidePopupMenu(e){this._onPopupMenuHiding(e)}getMainElement(){return this.option("mainElement").get(0)}adjustControl(){this._onAdjustControl()}getRequireFirstLoadParentAutoCalc(){return this.option("validation.autoUpdateParentTasks")}collapseAll(){this._collapseAll()}expandAll(){this._expandAll()}onTaskClick(e,l){return this._taskClick({key:e,event:l}),!0}onTaskDblClick(e,l){return this._taskDblClick({key:e,event:l})}onGanttViewContextMenu(e,l,T){return!0}getFormattedDateText(e){let l="";if(e){const T=de.format(e,"shortDate"),k=this._hasAmPM()?"hh:mm a":"HH:mm",C=de.format(e,k);l=T+" "+C}return l}destroyTemplate(e){$(e).empty()}onTaskAreaSizeChanged(e){const l=this._taskAreaContainer._scrollView;if(X(e==null?void 0:e.height)){const T=(e==null?void 0:e.height)>this._taskAreaContainer.getHeight()?"both":"horizontal";l.option("direction",T)}}updateGanttViewType(e){this._onViewTypeChanged({type:e})}getTreeListTableStyle(){return this.callExportHelperMethod("getTreeListTableStyle")}getTreeListColCount(){return this.callExportHelperMethod("getTreeListColCount")}getTreeListHeaderInfo(e){return this.callExportHelperMethod("getTreeListHeaderInfo",e)}getTreeListCellInfo(e,l,T){return this.callExportHelperMethod("getTreeListCellInfo",T,l)}getTreeListEmptyDataCellInfo(){return this.callExportHelperMethod("getTreeListEmptyDataCellInfo")}callExportHelperMethod(e){const l=this.option("exportHelper");for(var T=arguments.length,k=new Array(T>1?T-1:0),C=1;C<T;C++)k[C-1]=arguments[C];return l[e](...k)}applyTasksExpandedState(e){var l;(l=this._ganttViewCore)===null||l===void 0||l.applyTasksExpandedState(e)}getVisualStateToRestore(){var e,l;return{[Zr]:(e=this._ganttViewCore)===null||e===void 0||(l=e.isInFullScreenMode)===null||l===void 0?void 0:l.call(e)}}}class qr{constructor(){this._waitingForGanttViewReady=!1,this._waitingForTreeListReady=!1,this._completionActions=[]}onGanttViewReady(){this._stopWaitForGanttViewReady(),this.executeActionsIfPossible()}onTreeListReady(){this._stopWaitForTreeListReady(),this.executeActionsIfPossible()}addCompletionAction(e,l,T){e&&(l&&this._startWaitForGanttViewReady(),T&&this._startWaitForTreeListReady(),this._completionActions.push(e))}executeActionsIfPossible(){this._canExecuteActions()&&(this._completionActions.forEach((e=>e())),this._completionActions=[])}_startWaitForGanttViewReady(){this._waitingForGanttViewReady=!0}_stopWaitForGanttViewReady(){this._waitingForGanttViewReady=!1}_startWaitForTreeListReady(){this._waitingForTreeListReady=!0}_stopWaitForTreeListReady(){this._waitingForTreeListReady=!1}_canExecuteActions(){return!(this._waitingForGanttViewReady||this._waitingForTreeListReady)}}const ht=ze(),Xr="dx-gantt-treelist-wrapper",Qr="dx-gantt-toolbar-wrapper",Jr="dx-gantt-main-wrapper";class St extends Ze{_init(){super._init(),me.logHeaderFilterDeprecatedWarningIfNeed(this),this._initGantt(),this._isGanttRendered=!1,this._initHelpers()}_initGantt(){this._refreshDataSources()}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-gantt"),this._$toolbarWrapper=$("<div>").addClass(Qr).appendTo(this.$element()),this._$toolbar=$("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=$("<div>").addClass(Jr).appendTo(this.$element()),this._$treeListWrapper=$("<div>").addClass(Xr).appendTo(this._$mainWrapper),this._$treeList=$("<div>").appendTo(this._$treeListWrapper),this._$splitter=$("<div>").appendTo(this._$mainWrapper),this._$ganttView=$("<div>").addClass("dx-gantt-view").appendTo(this._$mainWrapper),this._$dialog=$("<div>").appendTo(this.$element()),this._$loadPanel=$("<div>").appendTo(this.$element()),this._$contextMenu=$("<div>").appendTo(this.$element())}_clean(){var e,l;this._savedGanttViewState=(e=this._ganttView)===null||e===void 0?void 0:e.getVisualStateToRestore(),(l=this._ganttView)===null||l===void 0||l._ganttViewCore.cleanMarkup(),delete this._ganttView,delete this._dialogInstance,delete this._loadPanel,delete this._exportHelper,super._clean()}_refresh(){this._isGanttRendered=!1,this._contentReadyRaised=!1,super._refresh()}_fireContentReadyAction(){this._contentReadyRaised||super._fireContentReadyAction(),this._contentReadyRaised=!0}_dimensionChanged(){var e;(e=this._ganttView)===null||e===void 0||e._onDimensionChanged()}_visibilityChanged(e){e&&this._refreshGantt()}_refreshGantt(){this._refreshDataSources(),setTimeout((()=>this._refresh()))}_refreshDataSources(){this._refreshDataSource("tasks"),this._refreshDataSource("dependencies"),this._refreshDataSource("resources"),this._refreshDataSource("resourceAssignments")}_renderContent(){this._isMainElementVisible=this.$element().is(":visible"),this._isMainElementVisible&&!this._isGanttRendered&&(this._isGanttRendered=!0,this._renderBars(),this._renderTreeList(),this._renderSplitter())}_renderTreeList(){this._ganttTreeList=new Wr(this),this._treeList=this._ganttTreeList.getTreeList(),this._ganttTreeList.onAfterTreeListCreate()}_renderSplitter(){this._splitter=this._createComponent(this._$splitter,$i,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:e=>{this._sizeHelper.onApplyPanelSize(e)}}),this._splitter.option("initialLeftPanelWidth",this.option("taskListWidth"))}_renderBars(){this._bars=[],this._toolbar=new ur(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new pr(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}_initHelpers(){this._mappingHelper=new ar(this),this._customFieldsManager=new qi(this),this._actionsManager=new Zi(this),this._ganttTemplatesManager=new cr(this),this._sizeHelper=new lr(this),this._dataProcessingHelper=new qr}_initGanttView(){var e;this._ganttView||(this._ganttView=this._createComponent(this._$ganttView,Yr,{width:"100%",height:this._ganttTreeList.getOffsetHeight(),rowHeight:this._ganttTreeList.getRowHeight(),headerHeight:this._ganttTreeList.getHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:this.option("allowSelection"),selectedRowKey:this.option("selectedRowKey"),showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),taskTitlePosition:this.option("taskTitlePosition"),firstDayOfWeek:this.option("firstDayOfWeek"),showRowLines:this.option("showRowLines"),scaleType:this.option("scaleType"),scaleTypeRange:this.option("scaleTypeRange"),editing:this.option("editing"),validation:this.option("validation"),stripLines:(e=this.option("stripLines"))===null||e===void 0?void 0:e.map((l=>pe({},l))),bars:this._bars,mainElement:this.$element(),onSelectionChanged:l=>{this._ganttTreeList.selectRows(oe.getArrayFromOneElement(l.id))},onViewTypeChanged:l=>{this._onViewTypeChanged(l.type)},onScroll:l=>{this._ganttTreeList.scrollBy(l.scrollTop)},onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onPopupMenuHiding:this._hidePopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:Gi.create(this),exportHelper:this._getExportHelper(),taskTooltipContentTemplate:this._ganttTemplatesManager.getTaskTooltipContentTemplateFunc(this.option("taskTooltipContentTemplate")),taskProgressTooltipContentTemplate:this._ganttTemplatesManager.getTaskProgressTooltipContentTemplateFunc(this.option("taskProgressTooltipContentTemplate")),taskTimeTooltipContentTemplate:this._ganttTemplatesManager.getTaskTimeTooltipContentTemplateFunc(this.option("taskTimeTooltipContentTemplate")),taskContentTemplate:this._ganttTemplatesManager.getTaskContentTemplateFunc(this.option("taskContentTemplate")),onTaskClick:l=>{this._ganttTreeList.onRowClick(l)},onTaskDblClick:l=>{this._ganttTreeList.onRowDblClick(l)},onAdjustControl:()=>{this._sizeHelper.onAdjustControl()},onContentReady:this._onGanttViewContentReady.bind(this),visualState:this._savedGanttViewState}),delete this._savedGanttViewState)}_onGanttViewContentReady(e){this._isParentAutoUpdateMode()||this._fireContentReadyAction()}_isParentAutoUpdateMode(){return this.option("validation.autoUpdateParentTasks")}_onTreeListContentReady(e){this._isParentAutoUpdateMode()&&this._treeListParentRecalculatedDataUpdating&&this._fireContentReadyAction(),delete this._treeListParentRecalculatedDataUpdating,this._dataProcessingHelper.onTreeListReady()}_onViewTypeChanged(e){this.option("scaleType",this._actionsManager._getScaleType(e))}_refreshDataSource(e){let l=this[`_${e}Option`];l&&(l.dispose(),delete this[`_${e}Option`],delete this[`_${e}`]),l=new mt(e,this._getLoadPanel.bind(this),((T,k)=>{this._dataSourceChanged(T,k)})),l.option("dataSource",this._getSpecificDataSourceOption(e)),l._refreshDataSource(),this[`_${e}Option`]=l}_getSpecificDataSourceOption(e){const l=this.option(`${e}.dataSource`);return!l||Array.isArray(l)?{store:{type:"array",data:l??[],key:this.option(`${e}.keyExpr`)}}:l}_dataSourceChanged(e,l){const T=oe.compileGettersByOption(this.option(e)),k=this._validateSourceData(e,l),C=k.map(oe.prepareMapHandler(T));if(this[`_${e}`]=C,this._setGanttViewOption(e,C),e==="tasks"){var b,u,c;this._tasksRaw=k;const d=!((b=this._ganttTreeList)!==null&&b!==void 0&&b.getDataSource())&&!this._ganttView;(u=this._ganttTreeList)===null||u===void 0||u.saveExpandedKeys(),(c=this._ganttTreeList)===null||c===void 0||c.updateDataSource(k,d)}}_validateSourceData(e,l){return l&&e==="tasks"?this._validateTaskData(l):l}_validateTaskData(e){const l=ue(this.option("tasks.keyExpr")),T=ue(this.option("tasks.parentIdExpr")),k=this.option("rootValue")??"dx_dxt_gantt_default_root_value",C={};for(let u=0;u<e.length;u++){const c=e[u];if(c){const d=l(c),g=d===k,h=C[d]??(C[d]={key:d,children:[]});if(!g){const s=T(c)??k,n=C[s]??(C[s]={key:s,children:[]});n.children.push(h),h.parent=n}}}const b=[k];return this._appendChildKeys(C[k],b),e.filter((u=>b.indexOf(l(u))>-1))}_appendChildKeys(e,l){const T=e==null?void 0:e.children;for(let k=0;k<(T==null?void 0:T.length);k++){const C=T[k];l.push(C.key),this._appendChildKeys(C,l)}}_onRecordInserted(e,l,T){const k=this[`_${e}Option`];if(k){const C=oe.getStoreObject(this.option(e),l),b=e==="tasks";b&&this._customFieldsManager.addCustomFieldsDataFromCache("gantt_new_task_key",C),k.insert(C,(u=>{const d=ue(this.option(`${e}.keyExpr`))(u);T(d),this._executeFuncSetters(e,l,d),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseInsertedAction(e,C,d)}),!0,b),this._ganttTreeList.saveExpandedKeys(),k._reloadDataSource().done((g=>{b&&this._ganttTreeList.onTaskInserted(d,l.parentId)}))}))}}_onRecordUpdated(e,l,T){const k=this[`_${e}Option`],C=e==="tasks";if(k){const b=this._mappingHelper.convertCoreToMappedData(e,T);C&&this._customFieldsManager.cache.hasData(l)&&this._customFieldsManager.addCustomFieldsDataFromCache(l,b),k.update(l,b,(()=>{this._executeFuncSetters(e,T,l),this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseUpdatedAction(e,b,l)}),!0,C),k._reloadDataSource()}))}}_onRecordRemoved(e,l,T){const k=this[`_${e}Option`];k&&k.remove(l,(()=>{this._ganttTreeList.saveExpandedKeys(),this._dataProcessingHelper.addCompletionAction((()=>{this._actionsManager.raiseDeletedAction(e,l,this._mappingHelper.convertCoreToMappedData(e,T))}),!0,e==="tasks"),k._reloadDataSource()}))}_onParentTaskUpdated(e){const l=this.getTaskDataByCoreData(e);this._actionsManager.raiseUpdatedAction("tasks",l,e.id)}_onParentTasksRecalculated(e){if(!this.isSieving){const l=oe.compileSettersByOption(this.option("tasks")),T=this._customFieldsManager.appendCustomFields(e.map(oe.prepareSetterMapHandler(l)));setTimeout((()=>{var k;this._treeListParentRecalculatedDataUpdating=!0,(k=this._ganttTreeList)===null||k===void 0||k.setDataSource(T)}))}this.isSieving=!1}_onGanttViewCoreUpdated(){this._dataProcessingHelper.onGanttViewReady()}_executeFuncSetters(e,l,T){const k=oe.compileFuncSettersByOption(this.option(e)),C=Object.keys(k).filter((b=>X(l[b])));if(C.length>0){const b=this._getDataSourceItem(e,T);C.forEach((u=>{const c=k[u];c(b,l[u])}))}}_sortAndFilter(){var e,l,T;const k=this._treeList,C=k.getColumns(),b=C.filter((n=>n.sortIndex>-1)),u=b.map((n=>({sortIndex:n.sortIndex,sortOrder:n.sortOrder}))),c=!this._compareSortedState((e=this._savedSortFilterState)===null||e===void 0?void 0:e.sort,u),d=k.option("filterValue"),g=k.option("expandNodesOnFiltering")&&d!==((l=this._savedSortFilterState)===null||l===void 0?void 0:l.filter),h=b[0]||C.filter((n=>{var i;return X(n.filterValue)||((i=n.filterValues)===null||i===void 0?void 0:i.length)}))[0],s=((T=this._savedSortFilterState)===null||T===void 0?void 0:T.sieveColumn)&&!h;if(h||s){const n=h&&{sievedItems:this._ganttTreeList.getSievedItems(),sieveColumn:h,expandTasks:g||d&&c};this.isSieving=!s,this._setGanttViewOption("sieve",n)}this._savedSortFilterState={sort:u,filter:d,sieveColumn:h}}_compareSortedState(e,l){return!e||!l||e.length!==l.length?!1:e.every(((T,k)=>T.sortIndex===l[k].sortIndex&&T.sortOrder===l[k].sortOrder))}_getToolbarItems(){const e=this.option("toolbar.items");return e||[]}_updateToolbarContent(){const e=this._getToolbarItems();e.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),this._toolbar&&this._toolbar.createItems(e),this._updateBarItemsState()}_updateContextMenu(){const e=this.option("contextMenu");e.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(e.items),this._updateBarItemsState())}_updateBarItemsState(){this._ganttView&&this._ganttView.updateBarItemsState()}_showDialog(e){this._dialogInstance||(this._dialogInstance=new Ji(this,this._$dialog)),this._dialogInstance.show(e.name,e.parameters,e.callback,e.afterClosing,this.option("editing"))}_showPopupMenu(e){if(this.option("contextMenu.enabled")){this._ganttView.getBarManager().updateContextMenu();const l={cancel:!1,event:e.event,targetType:e.type,targetKey:e.key,items:ne(!0,[],this._contextMenuBar._items),data:e.type==="task"?this.getTaskData(e.key):this.getDependencyData(e.key)};this._actionsManager.raiseContextMenuPreparing(l),l.cancel||this._contextMenuBar.show(e.position,l.items)}}_hidePopupMenu(){this._contextMenuBar.hide()}_getLoadPanel(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,Gn,{position:{of:this.$element()}})),this._loadPanel}_getTaskKeyGetter(){return this._getDataSourceItemKeyGetter("tasks")}_findTaskByKey(e){return this._getDataSourceItem("tasks",e)}_getDataSourceItem(e,l){const T=this[`_${e}Option`],k=this._getDataSourceItemKeyGetter(e);return(T==null?void 0:T._getItems()).find((b=>k(b)===l))}_getDataSourceItemKeyGetter(e){return ue(this.option(`${e}.keyExpr`))}_setGanttViewOption(e,l){this._ganttView&&this._ganttView.option(e,l)}_getGanttViewOption(e,l){var T;return(T=this._ganttView)===null||T===void 0?void 0:T.option(e)}_getExportHelper(){return this._exportHelper??(this._exportHelper=new sr(this)),this._exportHelper}_executeCoreCommand(e){this._ganttView.executeCoreCommand(e)}_expandAll(){this._changeExpandAll(!0)}_collapseAll(){this._changeExpandAll(!1)}_onTreeListRowExpandChanged(e,l){this._lockRowExpandEvent||(this._ganttView.changeTaskExpanded(e.key,l),this._sizeHelper.adjustHeight())}_changeExpandAll(e,l,T){var k;const C=[],b=[];if(this._treeList.forEachNode((d=>{var g;(g=d.children)!==null&&g!==void 0&&g.length&&C.push(d)})),T){const d=this._treeList.getNodeByKey(T);oe.getAllParentNodesKeys(d,b)}let u;this._lockRowExpandEvent=C.length>0;const c=C.reduce(((d,g,h)=>{T?e=b.includes(g.key):l&&(e=g.level<l),d[g.key]=e;const s=e?this._treeList.expandRow:this._treeList.collapseRow;return h===C.length-1?u=s(g.key):s(g.key),d}),{});(k=u)===null||k===void 0||k.then((()=>{this._ganttView.applyTasksExpandedState(c),this._sizeHelper.adjustHeight(),delete this._lockRowExpandEvent}))}getTaskResources(e){return X(e)?this._ganttView._ganttViewCore.getTaskResources(e).map((T=>this._mappingHelper.convertCoreToMappedData("resources",T))):null}getVisibleTaskKeys(){return this._ganttView._ganttViewCore.getVisibleTaskKeys()}getVisibleDependencyKeys(){return this._ganttView._ganttViewCore.getVisibleDependencyKeys()}getVisibleResourceKeys(){return this._ganttView._ganttViewCore.getVisibleResourceKeys()}getVisibleResourceAssignmentKeys(){return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()}getTaskData(e){if(!X(e))return null;const l=this._ganttView._ganttViewCore.getTaskData(e);return this.getTaskDataByCoreData(l)}getTaskDataByCoreData(e){const l=e?this._mappingHelper.convertCoreToMappedData("tasks",e):null;return this._customFieldsManager.addCustomFieldsData(e.id,l),l}insertTask(e){this._customFieldsManager.saveCustomFieldsDataToCache("gantt_new_task_key",e),this._ganttView._ganttViewCore.insertTask(this._mappingHelper.convertMappedToCoreData("tasks",e))}deleteTask(e){this._ganttView._ganttViewCore.deleteTask(e)}updateTask(e,l){const T=this._mappingHelper.convertMappedToCoreData("tasks",l),k=!Object.keys(T).length;if(this._customFieldsManager.saveCustomFieldsDataToCache(e,l,!0,k),k){const C=this._customFieldsManager._getCustomFieldsData(l);Object.keys(C).length>0&&this._actionsManager.raiseUpdatingAction("tasks",{cancel:!1,key:e,newValues:{}})}else this._ganttView._ganttViewCore.updateTask(e,T)}getDependencyData(e){if(!X(e))return null;const l=this._ganttView._ganttViewCore.getDependencyData(e);return l?this._mappingHelper.convertCoreToMappedData("dependencies",l):null}insertDependency(e){this._ganttView._ganttViewCore.insertDependency(this._mappingHelper.convertMappedToCoreData("dependencies",e))}deleteDependency(e){this._ganttView._ganttViewCore.deleteDependency(e)}getResourceData(e){const l=this._ganttView._ganttViewCore.getResourceData(e);return l?this._mappingHelper.convertCoreToMappedData("resources",l):null}deleteResource(e){this._ganttView._ganttViewCore.deleteResource(e)}insertResource(e,l){this._ganttView._ganttViewCore.insertResource(this._mappingHelper.convertMappedToCoreData("resources",e),l)}getResourceAssignmentData(e){const l=this._ganttView._ganttViewCore.getResourceAssignmentData(e);return l?this._mappingHelper.convertCoreToMappedData("resourceAssignments",l):null}assignResourceToTask(e,l){this._ganttView._ganttViewCore.assignResourceToTask(e,l)}unassignResourceFromTask(e,l){this._ganttView._ganttViewCore.unassignResourceFromTask(e,l)}unassignAllResourcesFromTask(e){this._ganttView._ganttViewCore.unassignAllResourcesFromTask(e)}updateDimensions(){this._sizeHelper.onAdjustControl()}scrollToDate(e){this._ganttView._ganttViewCore.scrollToDate(e)}showResourceManagerDialog(){this._ganttView._ganttViewCore.showResourcesDialog()}showTaskDetailsDialog(e){this._ganttView._ganttViewCore.showTaskDetailsDialog(e)}exportToPdf(e){return this._exportToPdf(e)}_exportToPdf(e){var l;this._exportHelper.reset();const T=ne({},e);return T.createDocumentMethod&&(T.docCreateMethod=T.createDocumentMethod),T.pdfDocument??(T.pdfDocument=T.jsPDFDocument),T.docCreateMethod??(T.docCreateMethod=((l=ht.jspdf)===null||l===void 0?void 0:l.jsPDF)??ht.jsPDF),T.format??(T.format="a4"),new Promise((k=>{var C;const b=(C=this._ganttView)===null||C===void 0?void 0:C._ganttViewCore.exportToPdf(T);k(b)}))}refresh(){return new Promise(((e,l)=>{try{this._refreshGantt(),e()}catch(T){l(T.message)}}))}expandAll(){this._expandAll()}collapseAll(){this._collapseAll()}expandAllToLevel(e){this._changeExpandAll(!1,e)}expandToTask(e){var l;const T=this._treeList.getNodeByKey(e);this._changeExpandAll(!1,0,T==null||(l=T.parent)===null||l===void 0?void 0:l.key)}collapseTask(e){this._treeList.collapseRow(e)}expandTask(e){this._treeList.expandRow(e)}showResources(e){this.option("showResources",e)}showDependencies(e){this.option("showDependencies",e)}zoomIn(){this._ganttView._ganttViewCore.zoomIn()}zoomOut(){this._ganttView._ganttViewCore.zoomOut()}_getDefaultOptions(){return ne(super._getDefaultOptions(),oe.getDefaultOptions())}_optionChanged(e){var l,T,k,C,b,u,c,d,g,h,s,n,i,t,r,o,a,p,y,f,m,_,v,w,S,D,x,N,A,E,H,B,K,R,V,j,F,W,Y,z,P,I;switch(e.name){case"tasks":this._refreshDataSource("tasks");break;case"dependencies":this._refreshDataSource("dependencies");break;case"resources":this._refreshDataSource("resources");break;case"resourceAssignments":this._refreshDataSource("resourceAssignments");break;case"columns":(l=this._ganttTreeList)===null||l===void 0||l.setOption("columns",this._ganttTreeList.getColumns());break;case"taskListWidth":(T=this._sizeHelper)===null||T===void 0||T.setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",e.value);break;case"showDependencies":this._setGanttViewOption("showDependencies",e.value);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",e.value);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",e.value);break;case"startDateRange":this._setGanttViewOption("startDateRange",e.value);break;case"endDateRange":this._setGanttViewOption("endDateRange",e.value);break;case"selectedRowKey":(k=this._ganttTreeList)===null||k===void 0||k.selectRows(oe.getArrayFromOneElement(e.value));break;case"onSelectionChanged":(C=this._actionsManager)===null||C===void 0||C.createSelectionChangedAction();break;case"onTaskClick":(b=this._actionsManager)===null||b===void 0||b.createTaskClickAction();break;case"onTaskDblClick":(u=this._actionsManager)===null||u===void 0||u.createTaskDblClickAction();break;case"onTaskInserting":(c=this._actionsManager)===null||c===void 0||c.createTaskInsertingAction();break;case"onTaskInserted":(d=this._actionsManager)===null||d===void 0||d.createTaskInsertedAction();break;case"onTaskDeleting":(g=this._actionsManager)===null||g===void 0||g.createTaskDeletingAction();break;case"onTaskDeleted":(h=this._actionsManager)===null||h===void 0||h.createTaskDeletedAction();break;case"onTaskUpdating":(s=this._actionsManager)===null||s===void 0||s.createTaskUpdatingAction();break;case"onTaskUpdated":(n=this._actionsManager)===null||n===void 0||n.createTaskUpdatedAction();break;case"onTaskMoving":(i=this._actionsManager)===null||i===void 0||i.createTaskMovingAction();break;case"onTaskEditDialogShowing":(t=this._actionsManager)===null||t===void 0||t.createTaskEditDialogShowingAction();break;case"onResourceManagerDialogShowing":(r=this._actionsManager)===null||r===void 0||r.createResourceManagerDialogShowingAction();break;case"onDependencyInserting":(o=this._actionsManager)===null||o===void 0||o.createDependencyInsertingAction();break;case"onDependencyInserted":(a=this._actionsManager)===null||a===void 0||a.createDependencyInsertedAction();break;case"onDependencyDeleting":(p=this._actionsManager)===null||p===void 0||p.createDependencyDeletingAction();break;case"onDependencyDeleted":(y=this._actionsManager)===null||y===void 0||y.createDependencyDeletedAction();break;case"onResourceInserting":(f=this._actionsManager)===null||f===void 0||f.createResourceInsertingAction();break;case"onResourceInserted":(m=this._actionsManager)===null||m===void 0||m.createResourceInsertedAction();break;case"onResourceDeleting":(_=this._actionsManager)===null||_===void 0||_.createResourceDeletingAction();break;case"onResourceDeleted":(v=this._actionsManager)===null||v===void 0||v.createResourceDeletedAction();break;case"onResourceAssigning":(w=this._actionsManager)===null||w===void 0||w.createResourceAssigningAction();break;case"onResourceAssigned":(S=this._actionsManager)===null||S===void 0||S.createResourceAssignedAction();break;case"onResourceUnassigning":(D=this._actionsManager)===null||D===void 0||D.createResourceUnassigningAction();break;case"onResourceUnassigned":(x=this._actionsManager)===null||x===void 0||x.createResourceUnassignedAction();break;case"onCustomCommand":(N=this._actionsManager)===null||N===void 0||N.createCustomCommandAction();break;case"onContextMenuPreparing":(A=this._actionsManager)===null||A===void 0||A.createContextMenuPreparingAction();break;case"onScaleCellPrepared":(E=this._actionsManager)===null||E===void 0||E.createScaleCellPreparedAction();break;case"allowSelection":(H=this._ganttTreeList)===null||H===void 0||H.setOption("selection.mode",oe.getSelectionMode(e.value)),this._setGanttViewOption("allowSelection",e.value);break;case"showRowLines":(B=this._ganttTreeList)===null||B===void 0||B.setOption("showRowLines",e.value),this._setGanttViewOption("showRowLines",e.value);break;case"stripLines":this._setGanttViewOption(e.fullName,e.value);break;case"scaleType":this._setGanttViewOption("scaleType",e.value);break;case"scaleTypeRange":this._setGanttViewOption("scaleTypeRange",this.option(e.name));break;case"editing":this._setGanttViewOption("editing",this.option(e.name));break;case"validation":this._setGanttViewOption("validation",this.option(e.name));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",(K=this._ganttTemplatesManager)===null||K===void 0?void 0:K.getTaskTooltipContentTemplateFunc(e.value));break;case"taskProgressTooltipContentTemplate":this._setGanttViewOption("taskProgressTooltipContentTemplate",(R=this._ganttTemplatesManager)===null||R===void 0?void 0:R.getTaskProgressTooltipContentTemplateFunc(e.value));break;case"taskTimeTooltipContentTemplate":this._setGanttViewOption("taskTimeTooltipContentTemplate",(V=this._ganttTemplatesManager)===null||V===void 0?void 0:V.getTaskTimeTooltipContentTemplateFunc(e.value));break;case"taskContentTemplate":this._setGanttViewOption("taskContentTemplate",(j=this._ganttTemplatesManager)===null||j===void 0?void 0:j.getTaskContentTemplateFunc(e.value));break;case"rootValue":(F=this._ganttTreeList)===null||F===void 0||F.setOption("rootValue",e.value);break;case"width":super._optionChanged(e),(W=this._sizeHelper)===null||W===void 0||W.updateGanttWidth();break;case"height":super._optionChanged(e),(Y=this._sizeHelper)===null||Y===void 0||Y.setGanttHeight(fe(this._$element));break;case"sorting":(z=this._ganttTreeList)===null||z===void 0||z.setOption("sorting",this.option(e.name));break;case"filterRow":(P=this._ganttTreeList)===null||P===void 0||P.setOption("filterRow",this.option(e.name));break;case"headerFilter":(I=this._ganttTreeList)===null||I===void 0||I.setOption("headerFilter",this.option(e.name));break;default:super._optionChanged(e)}}}Oe("dxGantt",St);/*!
 * devextreme-vue
 * Version: 25.1.5
 * Build date: Wed Sep 03 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */const Ct={props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:Object,endDateRange:Date,filterRow:Object,firstDayOfWeek:Number,focusStateEnabled:Boolean,headerFilter:Object,height:[Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleted:Function,onDependencyDeleting:Function,onDependencyInserted:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigned:Function,onResourceAssigning:Function,onResourceDeleted:Function,onResourceDeleting:Function,onResourceInserted:Function,onResourceInserting:Function,onResourceManagerDialogShowing:Function,onResourceUnassigned:Function,onResourceUnassigning:Function,onScaleCellPrepared:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleted:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserted:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdated:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,scaleTypeRange:Object,selectedRowKey:{},showDependencies:Boolean,showResources:Boolean,showRowLines:Boolean,sorting:Object,startDateRange:Date,stripLines:Array,tabIndex:Number,taskContentTemplate:{},taskListWidth:Number,taskProgressTooltipContentTemplate:{},tasks:Object,taskTimeTooltipContentTemplate:{},taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:endDateRange":null,"update:filterRow":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:headerFilter":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleted":null,"update:onDependencyDeleting":null,"update:onDependencyInserted":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigned":null,"update:onResourceAssigning":null,"update:onResourceDeleted":null,"update:onResourceDeleting":null,"update:onResourceInserted":null,"update:onResourceInserting":null,"update:onResourceManagerDialogShowing":null,"update:onResourceUnassigned":null,"update:onResourceUnassigning":null,"update:onScaleCellPrepared":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleted":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserted":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdated":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:scaleTypeRange":null,"update:selectedRowKey":null,"update:showDependencies":null,"update:showResources":null,"update:showRowLines":null,"update:sorting":null,"update:startDateRange":null,"update:stripLines":null,"update:tabIndex":null,"update:taskContentTemplate":null,"update:taskListWidth":null,"update:taskProgressTooltipContentTemplate":null,"update:tasks":null,"update:taskTimeTooltipContentTemplate":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=St,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},ganttHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},scaleTypeRange:{isCollectionItem:!1,optionName:"scaleTypeRange"},sorting:{isCollectionItem:!1,optionName:"sorting"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}};gn(Ct);const eo=Q(Ct),It={emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowFiltering":null,"update:allowHeaderFiltering":null,"update:allowSorting":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:format":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:minWidth":null,"update:selectedFilterOperation":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowFiltering:Boolean,allowHeaderFiltering:Boolean,allowSorting:Boolean,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},cssClass:String,customizeText:Function,dataField:String,dataType:String,encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,format:[Object,String,Function],headerCellTemplate:{},headerFilter:Object,minWidth:Number,selectedFilterOperation:String,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,visible:Boolean,visibleIndex:Number,width:[Number,String]}};te(It);const ke=Q(It);ke.$_optionName="columns";ke.$_isCollectionItem=!0;ke.$_expectedChildren={columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},format:{isCollectionItem:!1,optionName:"format"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"}};const Dt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,width:[Number,String]}};te(Dt);const Et=Q(Dt);Et.$_optionName="headerFilter";Et.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"}};const xt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};te(xt);const to=Q(xt);to.$_optionName="search";const Mt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}};te(Mt);const Pt=Q(Mt);Pt.$_optionName="contextMenu";Pt.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const At={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};te(At);const Ye=Q(At);Ye.$_optionName="items";Ye.$_isCollectionItem=!0;Ye.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Rt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};te(Rt);const Ot=Q(Rt);Ot.$_optionName="items";Ot.$_isCollectionItem=!0;const Lt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}};te(Lt);const Ht=Q(Lt);Ht.$_optionName="dependencies";const Nt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}};te(Nt);const Vt=Q(Nt);Vt.$_optionName="editing";const Bt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}};te(Bt);const Ft=Q(Bt);Ft.$_optionName="filterRow";Ft.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};const jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};te(jt);const no=Q(jt);no.$_optionName="format";const Wt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:Number,search:Object,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}};te(Wt);const Ut=Q(Wt);Ut.$_optionName="headerFilter";Ut.$_expectedChildren={ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const Kt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};te(Kt);const io=Q(Kt);io.$_optionName="search";const Gt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};te(Gt);const zt=Q(Gt);zt.$_optionName="headerFilter";zt.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const $t={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}};te($t);const le=Q($t);le.$_optionName="items";le.$_isCollectionItem=!0;le.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Zt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};te(Zt);const ro=Q(Zt);ro.$_optionName="operationDescriptions";const Yt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}};te(Yt);const qt=Q(Yt);qt.$_optionName="resourceAssignments";const Xt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],keyExpr:[Function,String],textExpr:[Function,String]}};te(Xt);const Qt=Q(Xt);Qt.$_optionName="resources";const Jt={emits:{"update:isActive":null,"update:hoveredElement":null,"update:max":null,"update:min":null},props:{max:String,min:String}};te(Jt);const oo=Q(Jt);oo.$_optionName="scaleTypeRange";const en={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};te(en);const so=Q(en);so.$_optionName="search";const tn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}};te(tn);const ao=Q(tn);ao.$_optionName="sorting";const nn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:[Date,Function,Number,String],start:[Date,Function,Number,String],title:String}};te(nn);const rn=Q(nn);rn.$_optionName="stripLines";rn.$_isCollectionItem=!0;const on={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}};te(on);const sn=Q(on);sn.$_optionName="tasks";const an={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};te(an);const lo=Q(an);lo.$_optionName="texts";const ln={emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}};te(ln);const qe=Q(ln);qe.$_optionName="toolbar";qe.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};const cn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}};te(cn);const dn=Q(cn);dn.$_optionName="items";dn.$_isCollectionItem=!0;const un={emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:enablePredecessorGap":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,enablePredecessorGap:Boolean,validateDependencies:Boolean}};te(un);const pn=Q(un);pn.$_optionName="validation";const co=[{id:1,parentId:0,title:"Software Development",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:31},{id:2,parentId:1,title:"Scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:60},{id:3,parentId:2,title:"Determine project scope",start:new Date("2019-02-21T05:00:00.000Z"),end:new Date("2019-02-21T09:00:00.000Z"),progress:100},{id:4,parentId:2,title:"Secure project sponsorship",start:new Date("2019-02-21T10:00:00.000Z"),end:new Date("2019-02-22T09:00:00.000Z"),progress:100},{id:5,parentId:2,title:"Define preliminary resources",start:new Date("2019-02-22T10:00:00.000Z"),end:new Date("2019-02-25T09:00:00.000Z"),progress:60},{id:6,parentId:2,title:"Secure core resources",start:new Date("2019-02-25T10:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:7,parentId:2,title:"Scope complete",start:new Date("2019-02-26T09:00:00.000Z"),end:new Date("2019-02-26T09:00:00.000Z"),progress:0},{id:8,parentId:1,title:"Analysis/Software Requirements",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:80},{id:9,parentId:8,title:"Conduct needs analysis",start:new Date("2019-02-26T10:00:00.000Z"),end:new Date("2019-03-05T09:00:00.000Z"),progress:100},{id:10,parentId:8,title:"Draft preliminary software specifications",start:new Date("2019-03-05T10:00:00.000Z"),end:new Date("2019-03-08T09:00:00.000Z"),progress:100},{id:11,parentId:8,title:"Develop preliminary budget",start:new Date("2019-03-08T10:00:00.000Z"),end:new Date("2019-03-12T09:00:00.000Z"),progress:100},{id:12,parentId:8,title:"Review software specifications/budget with team",start:new Date("2019-03-12T10:00:00.000Z"),end:new Date("2019-03-12T14:00:00.000Z"),progress:100},{id:13,parentId:8,title:"Incorporate feedback on software specifications",start:new Date("2019-03-13T05:00:00.000Z"),end:new Date("2019-03-13T14:00:00.000Z"),progress:70},{id:14,parentId:8,title:"Develop delivery timeline",start:new Date("2019-03-14T05:00:00.000Z"),end:new Date("2019-03-14T14:00:00.000Z"),progress:0},{id:15,parentId:8,title:"Obtain approvals to proceed (concept, timeline, budget)",start:new Date("2019-03-15T05:00:00.000Z"),end:new Date("2019-03-15T09:00:00.000Z"),progress:0},{id:16,parentId:8,title:"Secure required resources",start:new Date("2019-03-15T10:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:17,parentId:8,title:"Analysis complete",start:new Date("2019-03-18T09:00:00.000Z"),end:new Date("2019-03-18T09:00:00.000Z"),progress:0},{id:18,parentId:1,title:"Design",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:80},{id:19,parentId:18,title:"Review preliminary software specifications",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:20,parentId:18,title:"Develop functional specifications",start:new Date("2019-03-20T10:00:00.000Z"),end:new Date("2019-03-27T09:00:00.000Z"),progress:100},{id:21,parentId:18,title:"Develop prototype based on functional specifications",start:new Date("2019-03-27T10:00:00.000Z"),end:new Date("2019-04-02T09:00:00.000Z"),progress:100},{id:22,parentId:18,title:"Review functional specifications",start:new Date("2019-04-02T10:00:00.000Z"),end:new Date("2019-04-04T09:00:00.000Z"),progress:30},{id:23,parentId:18,title:"Incorporate feedback into functional specifications",start:new Date("2019-04-04T10:00:00.000Z"),end:new Date("2019-04-05T09:00:00.000Z"),progress:0},{id:24,parentId:18,title:"Obtain approval to proceed",start:new Date("2019-04-05T10:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:25,parentId:18,title:"Design complete",start:new Date("2019-04-05T14:00:00.000Z"),end:new Date("2019-04-05T14:00:00.000Z"),progress:0},{id:26,parentId:1,title:"Development",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:42},{id:27,parentId:26,title:"Review functional specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:100},{id:28,parentId:26,title:"Identify modular/tiered design parameters",start:new Date("2019-04-09T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:29,parentId:26,title:"Assign development staff",start:new Date("2019-04-10T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:30,parentId:26,title:"Develop code",start:new Date("2019-04-11T05:00:00.000Z"),end:new Date("2019-05-01T14:00:00.000Z"),progress:49},{id:31,parentId:26,title:"Developer testing (primary debugging)",start:new Date("2019-04-16T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:24},{id:32,parentId:26,title:"Development complete",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-07T12:00:00.000Z"),progress:0},{id:33,parentId:1,title:"Testing",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:23},{id:34,parentId:33,title:"Develop unit test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:35,parentId:33,title:"Develop integration test plans using product specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-11T14:00:00.000Z"),progress:100},{id:36,parentId:33,title:"Unit Testing",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:37,parentId:36,title:"Review modular code",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-14T12:00:00.000Z"),progress:0},{id:38,parentId:36,title:"Test component modules to product specifications",start:new Date("2019-05-14T12:00:00.000Z"),end:new Date("2019-05-16T12:00:00.000Z"),progress:0},{id:39,parentId:36,title:"Identify anomalies to product specifications",start:new Date("2019-05-16T12:00:00.000Z"),end:new Date("2019-05-21T12:00:00.000Z"),progress:0},{id:40,parentId:36,title:"Modify code",start:new Date("2019-05-21T12:00:00.000Z"),end:new Date("2019-05-24T12:00:00.000Z"),progress:0},{id:41,parentId:36,title:"Re-test modified code",start:new Date("2019-05-24T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:42,parentId:36,title:"Unit testing complete",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:43,parentId:33,title:"Integration Testing",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:44,parentId:43,title:"Test module integration",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-04T12:00:00.000Z"),progress:0},{id:45,parentId:43,title:"Identify anomalies to specifications",start:new Date("2019-06-04T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:46,parentId:43,title:"Modify code",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-11T12:00:00.000Z"),progress:0},{id:47,parentId:43,title:"Re-test modified code",start:new Date("2019-06-11T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:48,parentId:43,title:"Integration testing complete",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-13T12:00:00.000Z"),progress:0},{id:49,parentId:1,title:"Training",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:25},{id:50,parentId:49,title:"Develop training specifications for end users",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:51,parentId:49,title:"Develop training specifications for helpdesk support staff",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-10T14:00:00.000Z"),progress:100},{id:52,parentId:49,title:"Identify training delivery methodology (computer based training, classroom, etc.)",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:100},{id:53,parentId:49,title:"Develop training materials",start:new Date("2019-05-07T12:00:00.000Z"),end:new Date("2019-05-28T12:00:00.000Z"),progress:0},{id:54,parentId:49,title:"Conduct training usability study",start:new Date("2019-05-28T12:00:00.000Z"),end:new Date("2019-06-03T12:00:00.000Z"),progress:0},{id:55,parentId:49,title:"Finalize training materials",start:new Date("2019-06-03T12:00:00.000Z"),end:new Date("2019-06-06T12:00:00.000Z"),progress:0},{id:56,parentId:49,title:"Develop training delivery mechanism",start:new Date("2019-06-06T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:57,parentId:49,title:"Training materials complete",start:new Date("2019-06-10T12:00:00.000Z"),end:new Date("2019-06-10T12:00:00.000Z"),progress:0},{id:58,parentId:1,title:"Documentation",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:59,parentId:58,title:"Develop Help specification",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-08T14:00:00.000Z"),progress:80},{id:60,parentId:58,title:"Develop Help system",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:61,parentId:58,title:"Review Help documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-16T09:00:00.000Z"),progress:0},{id:62,parentId:58,title:"Incorporate Help documentation feedback",start:new Date("2019-05-16T10:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:63,parentId:58,title:"Develop user manuals specifications",start:new Date("2019-04-08T05:00:00.000Z"),end:new Date("2019-04-09T14:00:00.000Z"),progress:65},{id:64,parentId:58,title:"Develop user manuals",start:new Date("2019-04-22T10:00:00.000Z"),end:new Date("2019-05-13T09:00:00.000Z"),progress:0},{id:65,parentId:58,title:"Review all user documentation",start:new Date("2019-05-13T10:00:00.000Z"),end:new Date("2019-05-15T09:00:00.000Z"),progress:0},{id:66,parentId:58,title:"Incorporate user documentation feedback",start:new Date("2019-05-15T10:00:00.000Z"),end:new Date("2019-05-17T09:00:00.000Z"),progress:0},{id:67,parentId:58,title:"Documentation complete",start:new Date("2019-05-20T09:00:00.000Z"),end:new Date("2019-05-20T09:00:00.000Z"),progress:0},{id:68,parentId:1,title:"Pilot",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:22},{id:69,parentId:68,title:"Identify test group",start:new Date("2019-03-18T10:00:00.000Z"),end:new Date("2019-03-19T09:00:00.000Z"),progress:100},{id:70,parentId:68,title:"Develop software delivery mechanism",start:new Date("2019-03-19T10:00:00.000Z"),end:new Date("2019-03-20T09:00:00.000Z"),progress:100},{id:71,parentId:68,title:"Install/deploy software",start:new Date("2019-06-13T12:00:00.000Z"),end:new Date("2019-06-14T12:00:00.000Z"),progress:0},{id:72,parentId:68,title:"Obtain user feedback",start:new Date("2019-06-14T12:00:00.000Z"),end:new Date("2019-06-21T12:00:00.000Z"),progress:0},{id:73,parentId:68,title:"Evaluate testing information",start:new Date("2019-06-21T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:74,parentId:68,title:"Pilot complete",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-24T12:00:00.000Z"),progress:0},{id:75,parentId:1,title:"Deployment",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:76,parentId:75,title:"Determine final deployment strategy",start:new Date("2019-06-24T12:00:00.000Z"),end:new Date("2019-06-25T12:00:00.000Z"),progress:0},{id:77,parentId:75,title:"Develop deployment methodology",start:new Date("2019-06-25T12:00:00.000Z"),end:new Date("2019-06-26T12:00:00.000Z"),progress:0},{id:78,parentId:75,title:"Secure deployment resources",start:new Date("2019-06-26T12:00:00.000Z"),end:new Date("2019-06-27T12:00:00.000Z"),progress:0},{id:79,parentId:75,title:"Train support staff",start:new Date("2019-06-27T12:00:00.000Z"),end:new Date("2019-06-28T12:00:00.000Z"),progress:0},{id:80,parentId:75,title:"Deploy software",start:new Date("2019-06-28T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:81,parentId:75,title:"Deployment complete",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-01T12:00:00.000Z"),progress:0},{id:82,parentId:1,title:"Post Implementation Review",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:83,parentId:82,title:"Document lessons learned",start:new Date("2019-07-01T12:00:00.000Z"),end:new Date("2019-07-02T12:00:00.000Z"),progress:0},{id:84,parentId:82,title:"Distribute to team members",start:new Date("2019-07-02T12:00:00.000Z"),end:new Date("2019-07-03T12:00:00.000Z"),progress:0},{id:85,parentId:82,title:"Create software maintenance team",start:new Date("2019-07-03T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:86,parentId:82,title:"Post implementation review complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0},{id:87,parentId:1,title:"Software development template complete",start:new Date("2019-07-04T12:00:00.000Z"),end:new Date("2019-07-04T12:00:00.000Z"),progress:0}],uo=[{id:1,predecessorId:3,successorId:4,type:0},{id:2,predecessorId:4,successorId:5,type:0},{id:3,predecessorId:5,successorId:6,type:0},{id:4,predecessorId:6,successorId:7,type:0},{id:5,predecessorId:7,successorId:9,type:0},{id:6,predecessorId:9,successorId:10,type:0},{id:7,predecessorId:10,successorId:11,type:0},{id:8,predecessorId:11,successorId:12,type:0},{id:9,predecessorId:12,successorId:13,type:0},{id:10,predecessorId:13,successorId:14,type:0},{id:11,predecessorId:14,successorId:15,type:0},{id:12,predecessorId:15,successorId:16,type:0},{id:13,predecessorId:16,successorId:17,type:0},{id:14,predecessorId:17,successorId:19,type:0},{id:15,predecessorId:19,successorId:20,type:0},{id:16,predecessorId:20,successorId:21,type:0},{id:17,predecessorId:21,successorId:22,type:0},{id:18,predecessorId:22,successorId:23,type:0},{id:19,predecessorId:23,successorId:24,type:0},{id:20,predecessorId:24,successorId:25,type:0},{id:21,predecessorId:25,successorId:27,type:0},{id:22,predecessorId:27,successorId:28,type:0},{id:23,predecessorId:28,successorId:29,type:0},{id:24,predecessorId:29,successorId:30,type:0},{id:25,predecessorId:31,successorId:32,type:0},{id:26,predecessorId:37,successorId:38,type:0},{id:27,predecessorId:38,successorId:39,type:0},{id:28,predecessorId:39,successorId:40,type:0},{id:29,predecessorId:40,successorId:41,type:0},{id:30,predecessorId:41,successorId:42,type:0},{id:31,predecessorId:42,successorId:44,type:0},{id:32,predecessorId:44,successorId:45,type:0},{id:33,predecessorId:45,successorId:46,type:0},{id:34,predecessorId:46,successorId:47,type:0},{id:35,predecessorId:47,successorId:48,type:0},{id:36,predecessorId:53,successorId:54,type:0},{id:37,predecessorId:54,successorId:55,type:0},{id:38,predecessorId:55,successorId:56,type:0},{id:39,predecessorId:56,successorId:57,type:0},{id:40,predecessorId:59,successorId:60,type:0},{id:41,predecessorId:60,successorId:61,type:0},{id:42,predecessorId:61,successorId:62,type:0},{id:43,predecessorId:63,successorId:64,type:0},{id:44,predecessorId:64,successorId:65,type:0},{id:45,predecessorId:65,successorId:66,type:0},{id:46,predecessorId:66,successorId:67,type:0},{id:47,predecessorId:69,successorId:70,type:0},{id:48,predecessorId:70,successorId:71,type:0},{id:49,predecessorId:71,successorId:72,type:0},{id:50,predecessorId:72,successorId:73,type:0},{id:51,predecessorId:73,successorId:74,type:0},{id:52,predecessorId:74,successorId:76,type:0},{id:53,predecessorId:76,successorId:77,type:0},{id:54,predecessorId:77,successorId:78,type:0},{id:55,predecessorId:78,successorId:79,type:0},{id:56,predecessorId:79,successorId:80,type:0},{id:57,predecessorId:80,successorId:81,type:0},{id:58,predecessorId:81,successorId:83,type:0},{id:59,predecessorId:83,successorId:84,type:0},{id:60,predecessorId:84,successorId:85,type:0},{id:61,predecessorId:85,successorId:86,type:0},{id:62,predecessorId:86,successorId:87,type:0}],po=[{id:1,text:"Management"},{id:2,text:"Project Manager"},{id:3,text:"Analyst"},{id:4,text:"Developer"},{id:5,text:"Testers"},{id:6,text:"Trainers"},{id:7,text:"Technical Communicators"},{id:8,text:"Deployment Team"}],ho=[{id:0,taskId:3,resourceId:1},{id:1,taskId:4,resourceId:1},{id:2,taskId:5,resourceId:2},{id:3,taskId:6,resourceId:2},{id:4,taskId:9,resourceId:3},{id:5,taskId:10,resourceId:3},{id:6,taskId:11,resourceId:2},{id:7,taskId:12,resourceId:2},{id:8,taskId:12,resourceId:3},{id:9,taskId:13,resourceId:3},{id:10,taskId:14,resourceId:2},{id:11,taskId:15,resourceId:1},{id:12,taskId:15,resourceId:2},{id:13,taskId:16,resourceId:2},{id:14,taskId:19,resourceId:3},{id:15,taskId:20,resourceId:3},{id:16,taskId:21,resourceId:3},{id:17,taskId:22,resourceId:1},{id:18,taskId:23,resourceId:1},{id:19,taskId:24,resourceId:1},{id:20,taskId:24,resourceId:2},{id:21,taskId:27,resourceId:4},{id:22,taskId:28,resourceId:4},{id:23,taskId:29,resourceId:4},{id:24,taskId:30,resourceId:4},{id:25,taskId:31,resourceId:4},{id:26,taskId:34,resourceId:5},{id:27,taskId:35,resourceId:5},{id:28,taskId:37,resourceId:5},{id:29,taskId:38,resourceId:5},{id:30,taskId:39,resourceId:5},{id:31,taskId:40,resourceId:5},{id:32,taskId:41,resourceId:5},{id:33,taskId:44,resourceId:5},{id:34,taskId:45,resourceId:5},{id:35,taskId:46,resourceId:5},{id:36,taskId:47,resourceId:5},{id:37,taskId:50,resourceId:6},{id:38,taskId:51,resourceId:6},{id:39,taskId:52,resourceId:6},{id:40,taskId:53,resourceId:6},{id:41,taskId:54,resourceId:6},{id:42,taskId:55,resourceId:6},{id:43,taskId:56,resourceId:6},{id:44,taskId:59,resourceId:7},{id:45,taskId:60,resourceId:7},{id:46,taskId:61,resourceId:7},{id:47,taskId:62,resourceId:7},{id:48,taskId:63,resourceId:7},{id:49,taskId:64,resourceId:7},{id:50,taskId:65,resourceId:7},{id:51,taskId:66,resourceId:7},{id:52,taskId:69,resourceId:2},{id:53,taskId:71,resourceId:8},{id:54,taskId:72,resourceId:8},{id:55,taskId:73,resourceId:8},{id:56,taskId:76,resourceId:8},{id:57,taskId:77,resourceId:8},{id:58,taskId:78,resourceId:8},{id:59,taskId:79,resourceId:8},{id:60,taskId:80,resourceId:8},{id:61,taskId:83,resourceId:2},{id:62,taskId:84,resourceId:2},{id:63,taskId:85,resourceId:2}],Eo=Q({__name:"test",setup(O){return(e,l)=>(wn(),bn(ee(eo),{"task-list-width":500,height:700,"scale-type":"weeks"},{default:nt(()=>[ie(ee(sn),{"data-source":ee(co)},null,8,["data-source"]),ie(ee(Ht),{"data-source":ee(uo)},null,8,["data-source"]),ie(ee(Qt),{"data-source":ee(po)},null,8,["data-source"]),ie(ee(qt),{"data-source":ee(ho)},null,8,["data-source"]),ie(ee(qe),null,{default:nt(()=>[ie(ee(le),{name:"undo"}),ie(ee(le),{name:"redo"}),ie(ee(le),{name:"separator"}),ie(ee(le),{name:"collapseAll"}),ie(ee(le),{name:"expandAll"}),ie(ee(le),{name:"separator"}),ie(ee(le),{name:"addTask"}),ie(ee(le),{name:"deleteTask"}),ie(ee(le),{name:"separator"}),ie(ee(le),{name:"zoomIn"}),ie(ee(le),{name:"zoomOut"})]),_:1}),ie(ee(Vt),{enabled:!0}),ie(ee(pn),{"auto-update-parent-tasks":!0}),ie(ee(ke),{width:300,"data-field":"title",caption:"Subject"}),ie(ee(ke),{"data-field":"start",caption:"Start Date"}),ie(ee(ke),{"data-field":"end",caption:"End Date"})]),_:1}))}});export{Eo as default};
